{"version":3,"file":"tldraw.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"file":"module$node_modules$react$cjs$react_jsx_runtime_production_min.js","lineCount":2,"mappings":"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,EAAD,CAAQC,EAAR,CAAgBC,EAAhB,CAAuBC,CAAvB,CAAgC,CAU9DC,QAASA,EAAC,CAACC,CAAD,CAAGC,CAAH,CAAKC,CAAL,CAAO,CAAA,IAAKC,CAAL,CAAOC,EAAE,EAAT,CAAYC,EAAE,IAAd,CAAmBC,EAAE,IAAK,KAAK,EAAL,GAASJ,CAAT,GAAaG,CAAb,CAAe,EAAf,CAAkBH,CAAlB,CAAqB,KAAK,EAAL,GAASD,CAAEM,CAAAA,GAAX,GAAiBF,CAAjB,CAAmB,EAAnB,CAAsBJ,CAAEM,CAAAA,GAAxB,CAA6B,KAAK,EAAL,GAASN,CAAEO,CAAAA,GAAX,GAAiBF,CAAjB,CAAmBL,CAAEO,CAAAA,GAArB,CAA0B,KAAIL,CAAJ,GAASF,EAAT,CAAWQ,CAAEC,CAAAA,IAAF,CAAOT,CAAP,CAASE,CAAT,CAAA,EAAa,CAACQ,CAAEC,CAAAA,cAAF,CAAiBT,CAAjB,CAAd,GAAoCC,CAAA,CAAED,CAAF,CAApC,CAAyCF,CAAA,CAAEE,CAAF,CAAzC,CAA+C,IAAGH,CAAH,EAAMA,CAAEa,CAAAA,YAAR,CAAqB,IAAIV,CAAJ,GAASF,EAAA,CAAED,CAAEa,CAAAA,YAAJ,CAAiBZ,CAA1B,CAA4B,IAAK,EAAL,GAASG,CAAA,CAAED,CAAF,CAAT,GAAgBC,CAAA,CAAED,CAAF,CAAhB,CAAqBF,CAAA,CAAEE,CAAF,CAArB,CAA2B,OAAM,CAACW,SAASC,CAAV,CAAYC,KAAKhB,CAAjB,CAAmBO,IAAIF,CAAvB,CAAyBG,IAAIF,CAA7B,CAA+BW,MAAMb,CAArC,CAAuCc,OAAOC,CAAEC,CAAAA,OAAhD,CAAlP,CADJxB,EAAA,CAAQ,GAAR,CAA6ByB,GAAAA,CAAEzB,EAAA,CAAQ,EAAR,CAAN,KAAuBmB,EAAE,KAAMjB,EAAQwB,CAAAA,QAAR,CAAiB,KAAS,WAAH,GAAgB,MAAOC,OAAvB,EAA+BA,MAAOC,CAAAA,GAAtC,GAA+CC,EAAkC,CAAhCF,MAAOC,CAAAA,GAAyB,CAArBT,CAAqB,CAAnBU,EAAA,CAAE,eAAF,CAAmB,CAAA3B,CAAQwB,CAAAA,QAAR,CAAiBG,EAAA,CAAE,gBAAF,CAAlG,CAT9B;IASwJN,EAAEE,EAAEK,CAAAA,kDAAmDC,CAAAA,iBAT\/M,CASiOlB,EAAEmB,MAAOC,CAAAA,SAAUjB,CAAAA,cATpP,CASmQD,EAAE,CAACJ,IAAI,CAAA,CAAL,CAAQC,IAAI,CAAA,CAAZ,CAAesB,OAAO,CAAA,CAAtB,CAAyBC,SAAS,CAAA,CAAlC,CACPjC,EAAQkC,CAAAA,GAAR,CAAYjC,CAAED,EAAQmC,CAAAA,IAAR,CAAalC,CAVzR;","sources":["node_modules\/react\/cjs\/react-jsx-runtime.production.min.js"],"sourcesContent":["shadow$provide[579] = function(global,require,module,exports) {\n\/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\/\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n\n};"],"names":["shadow$provide","global","require","module","exports","q","c","a","k","b","d","e","l","key","ref","n","call","p","hasOwnProperty","defaultProps","$$typeof","g","type","props","_owner","m","current","f","Fragment","Symbol","for","h","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","Object","prototype","__self","__source","jsx","jsxs"]}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"module$node_modules$react$jsx_runtime.js","lineCount":1,"mappings":"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,EAAD,CAAQC,EAAR,CAAgBC,EAAhB,CAAuBC,CAAvB,CAAgC,CAI5DD,EAAOC,CAAAA,OAAP,CAAiBF,EAAA,CAAQ,GAAR,CAJ2C;","sources":["node_modules\/react\/jsx-runtime.js"],"sourcesContent":["shadow$provide[581] = function(global,require,module,exports) {\n'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('.\/cjs\/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('.\/cjs\/react-jsx-runtime.development.js');\n}\n\n};"],"names":["shadow$provide","global","require","module","exports"]}},{"offset":{"line":4,"column":0},"map":{"version":3,"file":"module$node_modules$react_dom$cjs$react_dom_server_browser_production_min.js","lineCount":39,"mappings":"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\/I,EAAP,CAAS,CAAC,IAAI8B,GAAEiH,EAAE\/I,GAAA,CAAE8B,EAAE5B,CAAAA,MAAO,KAAI2G,GAAE,CAAFA,CAAI7G,EAAE,IAAG,EAAE,KAAF,EAAS6G,EAAT,CAAH,CAAe,KAAMtC,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAoB,IAAI6G,GAAE,IAAIsC,WAAJ,CAAgBnC,EAAhB,CAAmBH,GAAET,CAAAA,GAAF,CAAMnE,EAAN,CAASiH,GAAA,CAAErC,EAAEqC,GAAA,CAAE,CAAF,CAAA,CAAK\/I,EAAL,CAAO,CAAE,KAAI8B,EAAJ,CAAM9B,EAAN,CAAQ8B,EAAR,CAAU+E,EAAV,CAAY,CAAZ,CAAc\/E,EAAA,EAAd,CAAkBiH,EAAA,CAAEjH,EAAF,CAAA,CAAKA,EAAL,CAAO,CAAEiH,GAAA,CAAElC,EAAF,CAAI,CAAJ,CAAA,CAAO,CAAlJ,CAAT,IAAkKkC,GAAA,CAAE,CAAF,CAAA,CAAKA,EAAA,CAAE\/I,EAAF,CAAK,KAAK0J,CAAAA,QAAL,CAAc1J,EAAE,KAAKsQ,CAAAA,KAAL,CAAW,CAACxQ,EAAD,CAAI,KAAKyQ,CAAAA,SAAL,CAAe,CAAA,CAAG,KAAKC,CAAAA,kBAAL,CAAwB,IAAK,KAAKC,CAAAA,mBAAL,CAAyB,CAAA,CAClf,KAAKC,CAAAA,gBAAL,CAAsB3Q,EAAE,KAAK4Q,CAAAA,aAAL,CAAmB,CAAE,KAAKC,CAAAA,YAAL,CAAkB,CAAC,CAAE,KAAKC,CAAAA,YAAL,CAAkB,EAAG,KAAKC,CAAAA,iBAAL,CAAuB,EAAG,KAAKnG,CAAAA,QAAL,CAAc,CAAE,KAAKF,CAAAA,gBAAL,CAAsBxI,EAAtB,EAAyBA,EAAEwI,CAAAA,gBAA3B,EAA6C,EAD3I;AAC8I,IAAI1K,GAAED,EAAE6G,CAAAA,SAAU5G,GAAEgR,CAAAA,OAAF,CAAUC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAKT,CAAAA,SAAT,CAAmB,CAAC,IAAKA,CAAAA,SAAL,CAAe,CAAA,CAAG,KAAKU,CAAAA,cAAL,EAAsB,KAAInR,GAAE,IAAK4J,CAAAA,QAASX,GAAA,CAAEjJ,EAAF,CAAA,CAAKiJ,EAAA,CAAE,CAAF,CAAKA,GAAA,CAAE,CAAF,CAAA,CAAKjJ,EAA5E,CAApB,CAAoGC,GAAEmR,CAAAA,YAAF,CAAeC,QAAQ,CAACrR,EAAD,CAAG,CAAA,IAAKC,GAAE,EAAE,IAAK6Q,CAAAA,YAAd,CAA2B5Q,GAAEF,EAAEsB,CAAAA,IAAKJ,CAAAA,QAApC,CAA6CiC,GAAE,IAAKyG,CAAAA,QAAShI,EAAA,CAAE1B,EAAF,CAAIiD,EAAJ,CAAO,KAAIC,GAAElD,EAAA,CAAEiD,EAAF,CAAK,KAAK4N,CAAAA,YAAL,CAAkB9Q,EAAlB,CAAA,CAAqBC,EAAE,KAAK8Q,CAAAA,iBAAL,CAAuB\/Q,EAAvB,CAAA,CAA0BmD,EAAElD,GAAA,CAAEiD,EAAF,CAAA,CAAKnD,EAAEsH,CAAAA,KAAMgK,CAAAA,KAA\/I,CAAsJrR,GAAEsR,CAAAA,WAAF,CAC3eC,QAAQ,EAAE,CAAA,IAAKxR,GAAE,IAAK8Q,CAAAA,YAAZ,CAAyB7Q,GAAE,IAAK8Q,CAAAA,YAAL,CAAkB\/Q,EAAlB,CAA3B,CAAgDmC,GAAE,IAAK6O,CAAAA,iBAAL,CAAuBhR,EAAvB,CAA0B,KAAK+Q,CAAAA,YAAL,CAAkB\/Q,EAAlB,CAAA,CAAqB,IAAK,KAAKgR,CAAAA,iBAAL,CAAuBhR,EAAvB,CAAA;AAA0B,IAAK,KAAK8Q,CAAAA,YAAL,EAAoB7Q,GAAA,CAAE,IAAK2J,CAAAA,QAAP,CAAA,CAAiBzH,EAA1K,CAA6KlC,GAAEkR,CAAAA,cAAF,CAAiBM,QAAQ,EAAE,CAAC,IAAI,IAAIzR,GAAE,IAAK8Q,CAAAA,YAAf,CAA4B,CAA5B,EAA+B9Q,EAA\/B,CAAiCA,EAAA,EAAjC,CAAqC,IAAK+Q,CAAAA,YAAL,CAAkB\/Q,EAAlB,CAAA,CAAqB,IAAK4J,CAAAA,QAA1B,CAAA,CAAoC,IAAKoH,CAAAA,iBAAL,CAAuBhR,EAAvB,CAA1E,CAAqGC,GAAEyR,CAAAA,IAAF,CAAOC,QAAQ,CAAC3R,EAAD,CAAG,CAAC,GAAG,IAAKyQ,CAAAA,SAAR,CAAkB,MAAO,KAAK,KAAIxQ,GAAEwJ,EAAEA,GAAA,CAAE,IAAK,KAAIvJ,GAAEkP,EAAGnF,CAAAA,OAAQmF,GAAGnF,CAAAA,OAAH,CAAWP,EAAG,IAAG,CAAC,IAAD,IAASvG,GAAE,CAAC,EAAD,CAAX,CAAgBC,GAAE,CAAA,CAAjB,CAAoBD,EAAA,CAAE,CAAF,CAAK\/C,CAAAA,MAAzB,CAAgCJ,EAAhC,CAAA,CAAmC,CAAC,GAAG,CAAH,GAAO,IAAKwQ,CAAAA,KAAMpQ,CAAAA,MAAlB,CAAyB,CAAC,IAAKqQ,CAAAA,SAAL,CAAe,CAAA,CAAG,KAAI1J,GAAE,IAAK6C,CAAAA,QACrfX,GAAA,CAAElC,EAAF,CAAA,CAAKkC,EAAA,CAAE,CAAF,CAAKA,GAAA,CAAE,CAAF,CAAA,CAAKlC,EAAE,MADsc,CAChc,IAAIH,GAAE,IAAK4J,CAAAA,KAAL,CAAW,IAAKA,CAAAA,KAAMpQ,CAAAA,MAAtB,CAA6B,CAA7B,CAAgC,IAAGgD,EAAH,EAAMwD,EAAE0J,CAAAA,UAAR,EAAoB1J,EAAEmJ,CAAAA,QAAS3P,CAAAA,MAA\/B,CAAsC,CAAC,IAAIwR;AAAEhL,EAAE2J,CAAAA,MAAO,GAAA,GAAKqB,EAAL,GAAS,IAAKjB,CAAAA,mBAAd,CAAkC,CAAA,CAAlC,CAAsC,KAAKH,CAAAA,KAAMqB,CAAAA,GAAX,EAAiB,IAAG,QAAH,GAAcjL,EAAEtF,CAAAA,IAAhB,CAAqB,IAAKoP,CAAAA,kBAAL,CAAwB,IAA7C,KAAuD,IAAG,IAAH,EAAS9J,EAAEtF,CAAAA,IAAX,EAAiB,IAAjB,EAAuBsF,EAAEtF,CAAAA,IAAKA,CAAAA,IAA9B,EAAoCsF,EAAEtF,CAAAA,IAAKA,CAAAA,IAAKP,CAAAA,QAAhD,GAA2DE,CAA3D,CAA6D,IAAKsQ,CAAAA,WAAL,CAAiB3K,EAAEtF,CAAAA,IAAnB,CAA7D,KAA2F,IAAGsF,EAAEtF,CAAAA,IAAL,GAAYT,EAAZ,CAAc,CAAC,IAAKgQ,CAAAA,aAAL,EAAqB,KAAIiB,GAAE3O,EAAE0O,CAAAA,GAAF,EAAQ,IAAGzO,EAAH,CAAK,CAACA,EAAA,CAAE,CAAA,CAAG,KAAI2O,GAAEnL,EAAEoL,CAAAA,aAAc,IAAG,CAACD,EAAJ,CAAM,KAAMtN,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAoB,IAAKyQ,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB0K,EAAhB,CAAmB5O,GAAA,CAAE,IAAK0N,CAAAA,aAAP,CAAA,EAAuB,iBAAkB,SAAlH,CAAL,IAAqI1N,GAAA,CAAE,IAAK0N,CAAAA,aAAP,CAAA,EACnfiB,EAD0U,CACxU3O,EAAA,CAAE,IAAK0N,CAAAA,aAAP,CAAA,EAAuBe,EAD0E,CAAtC,IAC9B,CAAA,IAAK5K,GAAEJ,EAAEmJ,CAAAA,QAAF,CAAWnJ,EAAE0J,CAAAA,UAAF,EAAX,CAAP;AAAkC9I,GAAE,EAAG,IAAG,CAACA,EAAA,EAAG,IAAKpG,CAAAA,MAAL,CAAY4F,EAAZ,CAAcJ,EAAEe,CAAAA,OAAhB,CAAwBf,EAAEwJ,CAAAA,YAA1B,CAAJ,CAA4C,MAAMrI,EAAN,CAAQ,CAAC,GAAG,IAAH,EAASA,EAAT,EAAY,UAAZ,GAAyB,MAAOA,GAAEkK,CAAAA,IAAlC,CAAuC,KAAMxN,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAoB,KAAMgI,GAAN,CAA5D,CAAvD,OAAmI,EAAE5E,EAAE\/C,CAAAA,MAAF,EAAU,IAAKyQ,CAAAA,aAAf,EAA8B1N,EAAEkE,CAAAA,IAAF,CAAO,EAAP,CAAWlE,GAAA,CAAE,IAAK0N,CAAAA,aAAP,CAAA,EAAuBrJ,EAA5O,CAF8Z,CAE\/K,MAAOrE,GAAA,CAAE,CAAF,CAFoI,CAAH,OAErH,CAACiM,EAAGnF,CAAAA,OAAc,CAAN\/J,EAAM,CAAJuJ,EAAI,CAAFxJ,EAAE,CAAAoF,CAAA,EAAlB,CAFwC,CAEfpF,GAAEmB,CAAAA,MAAF,CAAS8Q,QAAQ,CAAClS,EAAD,CAAGC,EAAH,CAAKkC,EAAL,CAAO,CAAC,GAAG,QAAH,GAAc,MAAOnC,GAArB,EAAwB,QAAxB,GAAmC,MAAOA,GAA1C,CAA4C,CAACmC,EAAA,CAAE,EAAF,CAAKnC,EAAE,IAAG,EAAH,GAAQmC,EAAR,CAAU,MAAM,EAAG,IAAG,IAAKyO,CAAAA,gBAAR,CAAyB,MAAO\/M,EAAA,CAAE1B,EAAF,CAAK,IAAG,IAAKwO,CAAAA,mBAAR,CAA4B,MAAM,gBAAN,CAAuB9M,CAAA,CAAE1B,EAAF,CAClf,KAAKwO,CAAAA,mBAAL,CAAyB,CAAA,CAAG,OAAO9M,EAAA,CAAE1B,EAAF,CAD4V,CACvVlC,EAAA;AAAE0G,CAAA,CAAG3G,EAAH,CAAKC,EAAL,CAAO,IAAK2J,CAAAA,QAAZ,CAAsB5J,GAAA,CAAEC,EAAEsI,CAAAA,KAAMtI,GAAA,CAAEA,EAAE0H,CAAAA,OAAQ,IAAG,IAAH,GAAU3H,EAAV,EAAa,CAAA,CAAb,GAAkBA,EAAlB,CAAoB,MAAM,EAAG,IAAG,CAACuG,CAAE+B,CAAAA,cAAF,CAAiBtI,EAAjB,CAAJ,CAAwB,CAAC,GAAG,IAAH,EAASA,EAAT,EAAY,IAAZ,EAAkBA,EAAEe,CAAAA,QAApB,CAA6B,CAACoB,EAAA,CAAEnC,EAAEe,CAAAA,QAAS,IAAGoB,EAAH,GAAOzB,CAAP,CAAS,KAAM+D,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAoB,KAAM0E,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAMoC,EAAEyI,CAAAA,QAAF,EAAN,CAAN,CAAN,CAA3C,CAA6E5K,EAAA,CAAEkP,EAAA,CAAElP,EAAF,CAAK,KAAKwQ,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB,CAAC\/F,KAAK,IAAN,CAAW8O,aAAajO,EAAxB,CAA0B4N,SAAS\/P,EAAnC,CAAqCsQ,WAAW,CAAhD,CAAkD3I,QAAQ1H,EAA1D,CAA4DsQ,OAAO,EAAnE,CAAhB,CAAwF,OAAM,EAAhN,CAAmN,IAAIrQ,GAAEF,EAAEsB,CAAAA,IAAK,IAAG,QAAH,GAAc,MAAOpB,GAArB,CAAuB,MAAO,KAAKiS,CAAAA,SAAL,CAAenS,EAAf,CAAiBC,EAAjB,CAAmBkC,EAAnB,CAAsB,QAAOjC,EAAP,EAAU,KAAKyI,EAAL,CAAQ,KAAKD,EAAL,CAAQ,KAAK9H,CAAL,CAAO,KAAKD,CAAL,CAAO,KAAKG,CAAL,CAAQ,KAAKL,CAAL,CAAO,MAAOT,GAAA,CAAEkP,EAAA,CAAElP,EAAEsH,CAAAA,KAAMyI,CAAAA,QAAV,CAAF,CAAsB,IAAKS,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB,CAAC\/F,KAAK,IAAN;AACngB8O,aAAajO,EADsf,CACpf4N,SAAS\/P,EAD2e,CACzesQ,WAAW,CAD8d,CAC5d3I,QAAQ1H,EADod,CACldsQ,OAAO,EAD2c,CAAhB,CAAtB,CACha,EAAG,MAAK1P,EAAL,CAAO,KAAM4D,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAoB,KAAK0I,EAAL,CAAQ,KAAMhE,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAD4T,CACvS,GAAG,QAAH,GAAc,MAAOG,GAArB,EAAwB,IAAxB,GAA+BA,EAA\/B,CAAiC,OAAOA,EAAEa,CAAAA,QAAT,EAAmB,KAAKI,CAAL,CAAQqD,EAAA,CAAE,EAAG,KAAIxC,GAAE9B,EAAEkB,CAAAA,MAAF,CAASpB,EAAEsH,CAAAA,KAAX,CAAiBtH,EAAEoS,CAAAA,GAAnB,CAAwBpQ,GAAA,CAAEmD,CAAA,CAAGjF,EAAEkB,CAAAA,MAAL,CAAYpB,EAAEsH,CAAAA,KAAd,CAAoBtF,EAApB,CAAsBhC,EAAEoS,CAAAA,GAAxB,CAA6BpQ,GAAA,CAAEkN,EAAA,CAAElN,EAAF,CAAK,KAAKwO,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB,CAAC\/F,KAAK,IAAN,CAAW8O,aAAajO,EAAxB,CAA0B4N,SAAS\/N,EAAnC,CAAqCsO,WAAW,CAAhD,CAAkD3I,QAAQ1H,EAA1D,CAA4DsQ,OAAO,EAAnE,CAAhB,CAAwF,OAAM,EAAG,MAAKlP,CAAL,CAAQ,MAAOrB,GAAA,CAAE,CAACuG,CAAE8L,CAAAA,aAAF,CAAgBnS,EAAEoB,CAAAA,IAAlB,CAAuBoG,CAAA,CAAE,CAAC0K,IAAIpS,EAAEoS,CAAAA,GAAP,CAAF,CAAcpS,EAAEsH,CAAAA,KAAhB,CAAvB,CAAD,CAAF,CAAmD,IAAKkJ,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB,CAAC\/F,KAAK,IAAN,CAAW8O,aAAajO,EAAxB,CAA0B4N,SAAS\/P,EAAnC,CAAqCsQ,WAAW,CAAhD;AAAkD3I,QAAQ1H,EAA1D,CAA4DsQ,OAAO,EAAnE,CAAhB,CAAnD,CAC7W,EAAG,MAAKtP,CAAL,CAAO,MAAOf,GAAA,CAAEgP,EAAA,CAAElP,EAAEsH,CAAAA,KAAMyI,CAAAA,QAAV,CAAF,CAAsB5N,EAAtB,CAAwB,CAACb,KAAKtB,EAAN,CAAQoQ,aAAajO,EAArB,CAAuB4N,SAAS7P,EAAhC,CAAkCoQ,WAAW,CAA7C,CAA+C3I,QAAQ1H,EAAvD,CAAyDsQ,OAAO,EAAhE,CAAxB,CAA4F,IAAKa,CAAAA,YAAL,CAAkBpR,EAAlB,CAA5F,CAAiH,IAAKwQ,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgBlF,EAAhB,CAAjH,CAAoI,EAAG,MAAKnB,CAAL,CAAQd,EAAA,CAAEF,EAAEsB,CAAAA,IAAKU,GAAA,CAAEhC,EAAEsH,CAAAA,KAAM,KAAIP,GAAE,IAAK6C,CAAAA,QAAShI,EAAA,CAAE1B,EAAF,CAAI6G,EAAJ,CAAO7G,GAAA,CAAEgP,EAAA,CAAElN,EAAE+N,CAAAA,QAAF,CAAW7P,EAAA,CAAE6G,EAAF,CAAX,CAAF,CAAoB,KAAKyJ,CAAAA,KAAMnJ,CAAAA,IAAX,CAAgB,CAAC\/F,KAAKtB,EAAN,CAAQoQ,aAAajO,EAArB,CAAuB4N,SAAS7P,EAAhC,CAAkCoQ,WAAW,CAA7C,CAA+C3I,QAAQ1H,EAAvD,CAAyDsQ,OAAO,EAAhE,CAAhB,CAAqF,OAAM,EAAG,MAAK\/H,EAAL,CAAQ,KAAM\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\/B,CAAF,CACpd\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\/E,CAKkF,OAAO\/S,GAbxK,CAAV,EAauLF,EAAQqT,CAAAA,kBAAR,CAA2BC,QAAQ,EAAE,CAAC,KAAM3O,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAD,CAAuBD,EAAQuT,CAAAA,oBAAR,CAA6BC,QAAQ,CAACtT,EAAD,CAAGC,EAAH,CAAK,CAACD,EAAA,CAAE,IAAImQ,EAAJ,CAAOnQ,EAAP,CAAS,CAAA,CAAT,CAAYC,EAAZ,CAAe,IAAG,CAAC,MAAOD,GAAE0R,CAAAA,IAAF,CAAO6B,QAAP,CAAR,CAAH,OAAmC,CAACvT,EAAEiR,CAAAA,OAAF,EAAD,CAArD,CAAoEnR,EAAQ0T,CAAAA,wBAAR,CAAiCC,QAAQ,EAAE,CAAC,KAAMhP,MAAA,CAAM1E,CAAA,CAAE,GAAF,CAAN,CAAN,CAAD,CAAuBD,EAAQ4T,CAAAA,cAAR,CAAuBC,QAAQ,CAAC3T,EAAD,CAAGC,EAAH,CAAK,CAACD,EAAA,CAAE,IAAImQ,EAAJ,CAAOnQ,EAAP,CAAS,CAAA,CAAT,CAAYC,EAAZ,CAAe,IAAG,CAAC,MAAOD,GAAE0R,CAAAA,IAAF,CAAO6B,QAAP,CAAR,CAAH,OAAmC,CAACvT,EAAEiR,CAAAA,OAAF,EAAD,CAArD,CAC9cnR,EAAQ8T,CAAAA,OAAR,CAAgB,QAnD8C;","sources":["node_modules\/react-dom\/cjs\/react-dom-server.browser.production.min.js"],"sourcesContent":["shadow$provide[582] = function(global,require,module,exports) {\n\/** @license React v17.0.2\n * react-dom-server.browser.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\/\n'use strict';var l=require(\"object-assign\"),m=require(\"react\");function p(a){for(var b=\"https:\/\/reactjs.org\/docs\/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar q=60106,r=60107,u=60108,z=60114,B=60109,aa=60110,ba=60112,D=60113,ca=60120,da=60115,ea=60116,fa=60121,ha=60117,ia=60119,ja=60129,ka=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;q=E(\"react.portal\");r=E(\"react.fragment\");u=E(\"react.strict_mode\");z=E(\"react.profiler\");B=E(\"react.provider\");aa=E(\"react.context\");ba=E(\"react.forward_ref\");D=E(\"react.suspense\");ca=E(\"react.suspense_list\");da=E(\"react.memo\");ea=E(\"react.lazy\");fa=E(\"react.block\");ha=E(\"react.fundamental\");ia=E(\"react.scope\");ja=E(\"react.debug_trace_mode\");ka=E(\"react.legacy_hidden\")}\nfunction F(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case r:return\"Fragment\";case q:return\"Portal\";case z:return\"Profiler\";case u:return\"StrictMode\";case D:return\"Suspense\";case ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case aa:return(a.displayName||\"Context\")+\".Consumer\";case B:return(a._context.displayName||\"Context\")+\".Provider\";case ba:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||\n(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case da:return F(a.type);case fa:return F(a._render);case ea:b=a._payload;a=a._init;try{return F(a(b))}catch(c){}}return null}var la=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma={};function I(a,b){for(var c=a._threadCount|0;c<=b;c++)a[c]=a._currentValue2,a._threadCount=c+1}function na(a,b,c,d){if(d&&(d=a.contextType,\"object\"===typeof d&&null!==d))return I(d,c),d[c];if(a=a.contextTypes){c={};for(var f in a)c[f]=b[f];b=c}else b=ma;return b}\nfor(var J=new Uint16Array(16),K=0;15>K;K++)J[K]=K+1;J[15]=0;var oa=\/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$\/,pa=Object.prototype.hasOwnProperty,qa={},ra={};\nfunction sa(a){if(pa.call(ra,a))return!0;if(pa.call(qa,a))return!1;if(oa.test(a))return ra[a]=!0;qa[a]=!0;return!1}function ta(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction ua(a,b,c,d){if(null===b||\"undefined\"===typeof b||ta(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function M(a,b,c,d,f,h,t){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=f;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=h;this.removeEmptyString=t}var N={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){N[a]=new M(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];N[b]=new M(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){N[a]=new M(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){N[a]=new M(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){N[a]=new M(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){N[a]=new M(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){N[a]=new M(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){N[a]=new M(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){N[a]=new M(a,5,!1,a.toLowerCase(),null,!1,!1)});var va=\/[\\-:]([a-z])\/g;function wa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(va,\nwa);N[b]=new M(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(va,wa);N[b]=new M(b,1,!1,a,\"http:\/\/www.w3.org\/1999\/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(va,wa);N[b]=new M(b,1,!1,a,\"http:\/\/www.w3.org\/XML\/1998\/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){N[a]=new M(a,1,!1,a.toLowerCase(),null,!1,!1)});\nN.xlinkHref=new M(\"xlinkHref\",1,!1,\"xlink:href\",\"http:\/\/www.w3.org\/1999\/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){N[a]=new M(a,1,!1,a.toLowerCase(),null,!0,!0)});var xa=\/[\"'&<>]\/;\nfunction O(a){if(\"boolean\"===typeof a||\"number\"===typeof a)return\"\"+a;a=\"\"+a;var b=xa.exec(a);if(b){var c=\"\",d,f=0;for(d=b.index;d<a.length;d++){switch(a.charCodeAt(d)){case 34:b=\"&quot;\";break;case 38:b=\"&amp;\";break;case 39:b=\"&#x27;\";break;case 60:b=\"&lt;\";break;case 62:b=\"&gt;\";break;default:continue}f!==d&&(c+=a.substring(f,d));f=d+1;c+=b}a=f!==d?c+a.substring(f,d):c}return a}\nfunction ya(a,b){var c=N.hasOwnProperty(a)?N[a]:null;var d;if(d=\"style\"!==a)d=null!==c?0===c.type:!(2<a.length)||\"o\"!==a[0]&&\"O\"!==a[0]||\"n\"!==a[1]&&\"N\"!==a[1]?!1:!0;if(d||ua(a,b,c,!1))return\"\";if(null!==c){a=c.attributeName;d=c.type;if(3===d||4===d&&!0===b)return a+'=\"\"';c.sanitizeURL&&(b=\"\"+b);return a+'=\"'+(O(b)+'\"')}return sa(a)?a+'=\"'+(O(b)+'\"'):\"\"}function za(a,b){return a===b&&(0!==a||1\/a===1\/b)||a!==a&&b!==b}\nvar Aa=\"function\"===typeof Object.is?Object.is:za,P=null,Q=null,R=null,S=!1,T=!1,U=null,V=0;function W(){if(null===P)throw Error(p(321));return P}function Ba(){if(0<V)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function Ca(){null===R?null===Q?(S=!1,Q=R=Ba()):(S=!0,R=Q):null===R.next?(S=!1,R=R.next=Ba()):(S=!0,R=R.next);return R}function Da(a,b,c,d){for(;T;)T=!1,V+=1,R=null,c=a(b,d);Ea();return c}function Ea(){P=null;T=!1;Q=null;V=0;R=U=null}\nfunction Fa(a,b){return\"function\"===typeof b?b(a):b}function Ga(a,b,c){P=W();R=Ca();if(S){var d=R.queue;b=d.dispatch;if(null!==U&&(c=U.get(d),void 0!==c)){U.delete(d);d=R.memoizedState;do d=a(d,c.action),c=c.next;while(null!==c);R.memoizedState=d;return[d,b]}return[R.memoizedState,b]}a=a===Fa?\"function\"===typeof b?b():b:void 0!==c?c(b):b;R.memoizedState=a;a=R.queue={last:null,dispatch:null};a=a.dispatch=Ha.bind(null,P,a);return[R.memoizedState,a]}\nfunction Ia(a,b){P=W();R=Ca();b=void 0===b?null:b;if(null!==R){var c=R.memoizedState;if(null!==c&&null!==b){var d=c[1];a:if(null===d)d=!1;else{for(var f=0;f<d.length&&f<b.length;f++)if(!Aa(b[f],d[f])){d=!1;break a}d=!0}if(d)return c[0]}}a=a();R.memoizedState=[a,b];return a}function Ha(a,b,c){if(!(25>V))throw Error(p(301));if(a===P)if(T=!0,a={action:c,next:null},null===U&&(U=new Map),c=U.get(b),void 0===c)U.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}}function Ja(){}\nvar X=null,Ka={readContext:function(a){var b=X.threadID;I(a,b);return a[b]},useContext:function(a){W();var b=X.threadID;I(a,b);return a[b]},useMemo:Ia,useReducer:Ga,useRef:function(a){P=W();R=Ca();var b=R.memoizedState;return null===b?(a={current:a},R.memoizedState=a):b},useState:function(a){return Ga(Fa,a)},useLayoutEffect:function(){},useCallback:function(a,b){return Ia(function(){return a},b)},useImperativeHandle:Ja,useEffect:Ja,useDebugValue:Ja,useDeferredValue:function(a){W();return a},useTransition:function(){W();\nreturn[function(a){a()},!1]},useOpaqueIdentifier:function(){return(X.identifierPrefix||\"\")+\"R:\"+(X.uniqueID++).toString(36)},useMutableSource:function(a,b){W();return b(a._source)}},La={html:\"http:\/\/www.w3.org\/1999\/xhtml\",mathml:\"http:\/\/www.w3.org\/1998\/Math\/MathML\",svg:\"http:\/\/www.w3.org\/2000\/svg\"};function Ma(a){switch(a){case \"svg\":return\"http:\/\/www.w3.org\/2000\/svg\";case \"math\":return\"http:\/\/www.w3.org\/1998\/Math\/MathML\";default:return\"http:\/\/www.w3.org\/1999\/xhtml\"}}\nvar Na={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Oa=l({menuitem:!0},Na),Y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,\ngridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pa=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Y).forEach(function(a){Pa.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Y[b]=Y[a]})});\nvar Qa=\/([A-Z])\/g,Ra=\/^ms-\/,Z=m.Children.toArray,Sa=la.ReactCurrentDispatcher,Ta={listing:!0,pre:!0,textarea:!0},Ua=\/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$\/,Va={},Wa={};function Xa(a){if(void 0===a||null===a)return a;var b=\"\";m.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}var Ya=Object.prototype.hasOwnProperty,Za={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function $a(a,b){if(void 0===a)throw Error(p(152,F(b)||\"Component\"));}\nfunction ab(a,b,c){function d(d,h){var e=h.prototype&&h.prototype.isReactComponent,f=na(h,b,c,e),t=[],g=!1,n={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===t)return null},enqueueReplaceState:function(a,c){g=!0;t=[c]},enqueueSetState:function(a,c){if(null===t)return null;t.push(c)}};if(e){if(e=new h(d.props,f,n),\"function\"===typeof h.getDerivedStateFromProps){var k=h.getDerivedStateFromProps.call(null,d.props,e.state);null!=k&&(e.state=l({},e.state,k))}}else if(P={},e=h(d.props,\nf,n),e=Da(h,d.props,e,f),null==e||null==e.render){a=e;$a(a,h);return}e.props=d.props;e.context=f;e.updater=n;n=e.state;void 0===n&&(e.state=n=null);if(\"function\"===typeof e.UNSAFE_componentWillMount||\"function\"===typeof e.componentWillMount)if(\"function\"===typeof e.componentWillMount&&\"function\"!==typeof h.getDerivedStateFromProps&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof h.getDerivedStateFromProps&&e.UNSAFE_componentWillMount(),t.length){n=t;var v=\ng;t=null;g=!1;if(v&&1===n.length)e.state=n[0];else{k=v?n[0]:e.state;var H=!0;for(v=v?1:0;v<n.length;v++){var x=n[v];x=\"function\"===typeof x?x.call(e,k,d.props,f):x;null!=x&&(H?(H=!1,k=l({},k,x)):l(k,x))}e.state=k}}else t=null;a=e.render();$a(a,h);if(\"function\"===typeof e.getChildContext&&(d=h.childContextTypes,\"object\"===typeof d)){var y=e.getChildContext();for(var A in y)if(!(A in d))throw Error(p(108,F(h)||\"Unknown\",A));}y&&(b=l({},b,y))}for(;m.isValidElement(a);){var f=a,h=f.type;if(\"function\"!==\ntypeof h)break;d(f,h)}return{child:a,context:b}}\nvar bb=function(){function a(a,b,f){m.isValidElement(a)?a.type!==r?a=[a]:(a=a.props.children,a=m.isValidElement(a)?[a]:Z(a)):a=Z(a);a={type:null,domNamespace:La.html,children:a,childIndex:0,context:ma,footer:\"\"};var c=J[0];if(0===c){var d=J;c=d.length;var g=2*c;if(!(65536>=g))throw Error(p(304));var e=new Uint16Array(g);e.set(d);J=e;J[0]=c+1;for(d=c;d<g-1;d++)J[d]=d+1;J[g-1]=0}else J[0]=J[c];this.threadID=c;this.stack=[a];this.exhausted=!1;this.currentSelectValue=null;this.previousWasTextNode=!1;\nthis.makeStaticMarkup=b;this.suspenseDepth=0;this.contextIndex=-1;this.contextStack=[];this.contextValueStack=[];this.uniqueID=0;this.identifierPrefix=f&&f.identifierPrefix||\"\"}var b=a.prototype;b.destroy=function(){if(!this.exhausted){this.exhausted=!0;this.clearProviders();var a=this.threadID;J[a]=J[0];J[0]=a}};b.pushProvider=function(a){var b=++this.contextIndex,c=a.type._context,h=this.threadID;I(c,h);var t=c[h];this.contextStack[b]=c;this.contextValueStack[b]=t;c[h]=a.props.value};b.popProvider=\nfunction(){var a=this.contextIndex,b=this.contextStack[a],f=this.contextValueStack[a];this.contextStack[a]=null;this.contextValueStack[a]=null;this.contextIndex--;b[this.threadID]=f};b.clearProviders=function(){for(var a=this.contextIndex;0<=a;a--)this.contextStack[a][this.threadID]=this.contextValueStack[a]};b.read=function(a){if(this.exhausted)return null;var b=X;X=this;var c=Sa.current;Sa.current=Ka;try{for(var h=[\"\"],t=!1;h[0].length<a;){if(0===this.stack.length){this.exhausted=!0;var g=this.threadID;\nJ[g]=J[0];J[0]=g;break}var e=this.stack[this.stack.length-1];if(t||e.childIndex>=e.children.length){var L=e.footer;\"\"!==L&&(this.previousWasTextNode=!1);this.stack.pop();if(\"select\"===e.type)this.currentSelectValue=null;else if(null!=e.type&&null!=e.type.type&&e.type.type.$$typeof===B)this.popProvider(e.type);else if(e.type===D){this.suspenseDepth--;var G=h.pop();if(t){t=!1;var C=e.fallbackFrame;if(!C)throw Error(p(303));this.stack.push(C);h[this.suspenseDepth]+=\"\\x3c!--$!--\\x3e\";continue}else h[this.suspenseDepth]+=\nG}h[this.suspenseDepth]+=L}else{var n=e.children[e.childIndex++],k=\"\";try{k+=this.render(n,e.context,e.domNamespace)}catch(v){if(null!=v&&\"function\"===typeof v.then)throw Error(p(294));throw v;}finally{}h.length<=this.suspenseDepth&&h.push(\"\");h[this.suspenseDepth]+=k}}return h[0]}finally{Sa.current=c,X=b,Ea()}};b.render=function(a,b,f){if(\"string\"===typeof a||\"number\"===typeof a){f=\"\"+a;if(\"\"===f)return\"\";if(this.makeStaticMarkup)return O(f);if(this.previousWasTextNode)return\"\\x3c!-- --\\x3e\"+O(f);\nthis.previousWasTextNode=!0;return O(f)}b=ab(a,b,this.threadID);a=b.child;b=b.context;if(null===a||!1===a)return\"\";if(!m.isValidElement(a)){if(null!=a&&null!=a.$$typeof){f=a.$$typeof;if(f===q)throw Error(p(257));throw Error(p(258,f.toString()));}a=Z(a);this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,context:b,footer:\"\"});return\"\"}var c=a.type;if(\"string\"===typeof c)return this.renderDOM(a,b,f);switch(c){case ka:case ja:case u:case z:case ca:case r:return a=Z(a.props.children),this.stack.push({type:null,\ndomNamespace:f,children:a,childIndex:0,context:b,footer:\"\"}),\"\";case D:throw Error(p(294));case ia:throw Error(p(343));}if(\"object\"===typeof c&&null!==c)switch(c.$$typeof){case ba:P={};var d=c.render(a.props,a.ref);d=Da(c.render,a.props,d,a.ref);d=Z(d);this.stack.push({type:null,domNamespace:f,children:d,childIndex:0,context:b,footer:\"\"});return\"\";case da:return a=[m.createElement(c.type,l({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,context:b,footer:\"\"}),\n\"\";case B:return c=Z(a.props.children),f={type:a,domNamespace:f,children:c,childIndex:0,context:b,footer:\"\"},this.pushProvider(a),this.stack.push(f),\"\";case aa:c=a.type;d=a.props;var g=this.threadID;I(c,g);c=Z(d.children(c[g]));this.stack.push({type:a,domNamespace:f,children:c,childIndex:0,context:b,footer:\"\"});return\"\";case ha:throw Error(p(338));case ea:return c=a.type,d=c._init,c=d(c._payload),a=[m.createElement(c,l({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:f,children:a,childIndex:0,\ncontext:b,footer:\"\"}),\"\"}throw Error(p(130,null==c?c:typeof c,\"\"));};b.renderDOM=function(a,b,f){var c=a.type.toLowerCase();f===La.html&&Ma(c);if(!Va.hasOwnProperty(c)){if(!Ua.test(c))throw Error(p(65,c));Va[c]=!0}var d=a.props;if(\"input\"===c)d=l({type:void 0},d,{defaultChecked:void 0,defaultValue:void 0,value:null!=d.value?d.value:d.defaultValue,checked:null!=d.checked?d.checked:d.defaultChecked});else if(\"textarea\"===c){var g=d.value;if(null==g){g=d.defaultValue;var e=d.children;if(null!=e){if(null!=\ng)throw Error(p(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(p(93));e=e[0]}g=\"\"+e}null==g&&(g=\"\")}d=l({},d,{value:void 0,children:\"\"+g})}else if(\"select\"===c)this.currentSelectValue=null!=d.value?d.value:d.defaultValue,d=l({},d,{value:void 0});else if(\"option\"===c){e=this.currentSelectValue;var L=Xa(d.children);if(null!=e){var G=null!=d.value?d.value+\"\":L;g=!1;if(Array.isArray(e))for(var C=0;C<e.length;C++){if(\"\"+e[C]===G){g=!0;break}}else g=\"\"+e===G;d=l({selected:void 0,children:void 0},\nd,{selected:g,children:L})}}if(g=d){if(Oa[c]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(p(137,c));if(null!=g.dangerouslySetInnerHTML){if(null!=g.children)throw Error(p(60));if(!(\"object\"===typeof g.dangerouslySetInnerHTML&&\"__html\"in g.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=g.style&&\"object\"!==typeof g.style)throw Error(p(62));}g=d;e=this.makeStaticMarkup;L=1===this.stack.length;G=\"<\"+a.type;b:if(-1===c.indexOf(\"-\"))C=\"string\"===typeof g.is;else switch(c){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":C=\n!1;break b;default:C=!0}for(w in g)if(Ya.call(g,w)){var n=g[w];if(null!=n){if(\"style\"===w){var k=void 0,v=\"\",H=\"\";for(k in n)if(n.hasOwnProperty(k)){var x=0===k.indexOf(\"--\"),y=n[k];if(null!=y){if(x)var A=k;else if(A=k,Wa.hasOwnProperty(A))A=Wa[A];else{var cb=A.replace(Qa,\"-$1\").toLowerCase().replace(Ra,\"-ms-\");A=Wa[A]=cb}v+=H+A+\":\";H=k;x=null==y||\"boolean\"===typeof y||\"\"===y?\"\":x||\"number\"!==typeof y||0===y||Y.hasOwnProperty(H)&&Y[H]?(\"\"+y).trim():y+\"px\";v+=x;H=\";\"}}n=v||null}k=null;C?Za.hasOwnProperty(w)||\n(k=w,k=sa(k)&&null!=n?k+'=\"'+(O(n)+'\"'):\"\"):k=ya(w,n);k&&(G+=\" \"+k)}}e||L&&(G+=' data-reactroot=\"\"');var w=G;g=\"\";Na.hasOwnProperty(c)?w+=\"\/>\":(w+=\">\",g=\"<\/\"+a.type+\">\");a:{e=d.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html){e=e.__html;break a}}else if(e=d.children,\"string\"===typeof e||\"number\"===typeof e){e=O(e);break a}e=null}null!=e?(d=[],Ta.hasOwnProperty(c)&&\"\\n\"===e.charAt(0)&&(w+=\"\\n\"),w+=e):d=Z(d.children);a=a.type;f=null==f||\"http:\/\/www.w3.org\/1999\/xhtml\"===f?Ma(a):\"http:\/\/www.w3.org\/2000\/svg\"===\nf&&\"foreignObject\"===a?\"http:\/\/www.w3.org\/1999\/xhtml\":f;this.stack.push({domNamespace:f,type:c,children:d,childIndex:0,context:b,footer:g});this.previousWasTextNode=!1;return w};return a}();exports.renderToNodeStream=function(){throw Error(p(207));};exports.renderToStaticMarkup=function(a,b){a=new bb(a,!0,b);try{return a.read(Infinity)}finally{a.destroy()}};exports.renderToStaticNodeStream=function(){throw Error(p(208));};exports.renderToString=function(a,b){a=new bb(a,!1,b);try{return a.read(Infinity)}finally{a.destroy()}};\nexports.version=\"17.0.2\";\n\n};"],"names":["shadow$provide","global","require","module","exports","p","a","b","c","arguments","length","encodeURIComponent","F","displayName","name","r","q","z","u","D","ca","$$typeof","aa","B","_context","ba","render","da","type","fa","_render","ea","_payload","_init","I","_threadCount","_currentValue2","na","d","contextType","contextTypes","f","ma","sa","pa","call","ra","qa","oa","test","ta","acceptsBooleans","toLowerCase","slice","ua","isNaN","M","h","t","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","wa","toUpperCase","O","xa","exec","index","charCodeAt","substring","ya","N","hasOwnProperty","za","W","P","Error","Ba","V","memoizedState","queue","next","Ca","R","Q","S","Da","T","Ea","U","Fa","Ga","dispatch","get","delete","action","last","Ha","bind","Ia","Aa","Map","set","Ja","Ma","Xa","m","Children","forEach","$a","ab","e","prototype","isReactComponent","g","n","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","push","props","getDerivedStateFromProps","k","state","l","context","updater","UNSAFE_componentWillMount","componentWillMount","v","H","x","getChildContext","childContextTypes","y","A","isValidElement","child","ha","ia","ja","ka","Symbol","for","E","la","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","J","Uint16Array","K","Object","va","replace","xlinkHref","is","X","Ka","readContext","threadID","useContext","useMemo","useReducer","useRef","current","useState","useLayoutEffect","useCallback","useImperativeHandle","useEffect","useDebugValue","useDeferredValue","useTransition","useOpaqueIdentifier","identifierPrefix","toString","uniqueID","useMutableSource","_source","Na","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","Oa","menuitem","Y","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","Pa","keys","charAt","Qa","Ra","Z","toArray","Sa","ReactCurrentDispatcher","Ta","listing","pre","textarea","Ua","Va","Wa","Ya","Za","children","dangerouslySetInnerHTML","suppressContentEditableWarning","suppressHydrationWarning","bb","domNamespace","html","childIndex","footer","stack","exhausted","currentSelectValue","previousWasTextNode","makeStaticMarkup","suspenseDepth","contextIndex","contextStack","contextValueStack","destroy","b.destroy","clearProviders","pushProvider","b.pushProvider","value","popProvider","b.popProvider","b.clearProviders","read","b.read","L","pop","G","C","fallbackFrame","then","b.render","renderDOM","ref","createElement","b.renderDOM","defaultChecked","defaultValue","checked","Array","isArray","selected","style","indexOf","w","cb","trim","__html","renderToNodeStream","exports.renderToNodeStream","renderToStaticMarkup","exports.renderToStaticMarkup","Infinity","renderToStaticNodeStream","exports.renderToStaticNodeStream","renderToString","exports.renderToString","version"]}},{"offset":{"line":43,"column":0},"map":{"version":3,"file":"module$node_modules$react_dom$server_browser.js","lineCount":1,"mappings":"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,EAAD,CAAQC,EAAR,CAAgBC,EAAhB,CAAuBC,CAAvB,CAAgC,CAI5DD,EAAOC,CAAAA,OAAP,CAAiBF,EAAA,CAAQ,GAAR,CAJ2C;","sources":["node_modules\/react-dom\/server.browser.js"],"sourcesContent":["shadow$provide[584] = function(global,require,module,exports) {\n'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('.\/cjs\/react-dom-server.browser.production.min.js');\n} else {\n  module.exports = require('.\/cjs\/react-dom-server.browser.development.js');\n}\n\n};"],"names":["shadow$provide","global","require","module","exports"]}},{"offset":{"line":44,"column":0},"map":{"version":3,"file":"module$frontend$tldraw_logseq.js","lineCount":1321,"mappings":"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\/B,CAAAA,cAAeC,CAAAA,IAA\/B,CAAoCkC,CAApC,CAA4CC,CAA5C,CADsB,CAU\/BC,QAASA,EAAiB,CAACF,CAAD,CAASG,CAAT,CAAgB,CACxC,IAAK,IAAIpK,EAAK,CAAd,CAAiBA,CAAjB,CAAsBoK,CAAMnK,CAAAA,MAA5B,CAAoCD,CAAA,EAApC,CAA0C,CACxC,IAAIqK,GAAaD,CAAA,CAAMpK,CAAN,CACjBqK,GAAW1B,CAAAA,UAAX,CAAwB0B,EAAW1B,CAAAA,UAAnC,EAAiD,CAAA,CACjD0B,GAAWxB,CAAAA,YAAX,CAA0B,CAAA,CACtB,QAAJ;AAAewB,EAAf,GACEA,EAAWzB,CAAAA,QADb,CACwB,CAAA,CADxB,CAEAjB,OAAOe,CAAAA,cAAP,CAAsBuB,CAAtB,CAA8BI,EAAWC,CAAAA,GAAzC,CAA8CD,EAA9C,CANwC,CADF,CAU1CE,QAASA,GAAY,CAACC,CAAD,CAAcC,CAAd,CAA0BC,CAA1B,CAAuC,CACtDD,CAAJ,EACEN,CAAA,CAAkBK,CAAYvB,CAAAA,SAA9B,CAAyCwB,CAAzC,CACEC,EAAJ,EACEP,CAAA,CAAkBK,CAAlB,CAA+BE,CAA\/B,CACF\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\/E,CAAsH,IAA\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\/C,MAAO,CACL5B,gBAAiB\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\/F,EAAYgD,CAAAA,kBAC\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\/I,EAAYqH,CAAAA,gBAA\/B,CACI2B,EAAa,CACjB,CAA6B,CAA7B,CAAOD,CAAapZ,CAAAA,MAApB,CAAA,CAAgC,CAC1B,EAAEqZ,CAAN,GAAqBC,EAArB,GACEC,OAAQvT,CAAAA,KAAR,CAAsM,4BAAtM,CAAqOoT,CAAA,CAAa,CAAb,CAArO,CACA,CAAAA,CAAaI,CAAAA,MAAb,CAAoB,CAApB,CAFF,CAKA,KADA,IAAIC,EAAqBL,CAAaI,CAAAA,MAAb,CAAoB,CAApB,CAAzB,CACSzZ,GAAK,CADd,CACiB0V,GAAKgE,CAAmBzZ,CAAAA,MAAzC,CAAiDD,EAAjD,CAAsD0V,EAAtD,CAA0D1V,EAAA,EAA1D,CACE0Z,CAAA,CAAmB1Z,EAAnB,CAAuB2Z,CAAAA,YAAvB,EAP4B,CAUhCrJ,EAAYsH,CAAAA,kBAAZ,CAAiC,CAAA,CAdL,CAiB9BgC,QAASA,GAAoB,CAACvS,CAAD,CAAK,CAChC,IAAIwS,EAAgBvB,EACpBA,GAAA,CAAoBA,QAA2B,CAACvC,CAAD,CAAK,CAClD,MAAO1O,EAAA,CAAG,QAAQ,EAAG,CACnB,MAAOwS,EAAA,CAAc9D,CAAd,CADY,CAAd,CAD2C,CAFpB,CAWlC+D,QAASA,GAAG,CAACC,CAAD,CAAW,CAEnBP,OAAQQ,CAAAA,IAAR,CAAa,4CAAb,CACA,OAAO,SAAQ,EAAG,EAHC,CA8BvBC,QAASA,GAAmB,CAAC9G,CAAD,CAAc,CAqBxC,MApBUC,SAAgB,CAAC8G,CAAD,CAAOnH,CAAP,CAAa,CACrC,GAAI3L,CAAA,CAAW8S,CAAX,CAAJ,CACE,MAAOzJ,GAAA,CAAayJ,CAAK7R,CAAAA,IAAlB,EAfa8R,wBAeb,CAA+CD,CAA\/C,CAAqD\/G,CAArD,CAET,IAAI\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\/U,EAAb,CAAoB6U,EAApB,CAA8B\/Z,EAA9B,CADF,CAEW,CAAC6Z,EAFZ,EAEyBF,EAFzB,EAGEM,EAAA,CAAa\/U,EAAb,CAAoB6U,EAApB,CAA8B\/Z,EAA9B,CAEF6Z,GAAA,CAAY,CAAA,CAjBZ,CAFwB,CA7B1B,IAAIK,EACS,KAAK,EAAlB,GAAI7B,CAAJ,GACEA,CADF,CACSK,EADT,CAWA,KAAI1S,GAAoC,IAA7B,GAACkU,EAAD,CAAe7B,CAAKrS,CAAAA,IAApB,EAAoCkU,EAApC,CAAsF,UAAjG,CACID,GAAeE,EAAA,CAAOnU,EAAP,CAAaqS,CAAKa,CAAAA,OAAL,CAAekB,EAAA,CAAiB\/B,CAAKa,CAAAA,OAAtB,CAA+BQ,CAA\/B,CAAf,CAAwDA,CAArE,CADnB,CAEIW,GAAU,CAAChC,CAAKM,CAAAA,SAAhB0B,EAA6B,CAAChC,CAAKO,CAAAA,KAFvC,CAGID,GAAYE,EAAA,CAA2BR,CAA3B,CAHhB;AAIIwB,GAAY,CAAA,CAJhB,CAKIf,GAAc,CAAA,CALlB,CAMI5T,EANJ,CAOI6U,EAPJ,CAQID,GAASzB,CAAKiC,CAAAA,iBAAL,CAAyBC,EAASC,CAAAA,UAAlC,CAA+CnC,CAAKyB,CAAAA,MAApD,EAA8DS,EAAA,CAAS,SAAT,CAR3E,CASIva,GAAK,IAAI+Y,EAAJ,CAAa\/S,EAAb,CAAmB,QAAQ,EAAG,CACjC6T,EAAJ,EAAiBQ,EAAjB,CACE\/B,EAAA,EADF,CAEYQ,EAFZ,GAGEA,EACA,CADc,CAAA,CACd,CAAAH,EAAA,CAAUL,EAAV,CAJF,CADqC,CAA9B,CAOND,CAAKa,CAAAA,OAPC,CAOQb,CAAKc,CAAAA,kBAPb,CA6BTnZ,GAAGoZ,CAAAA,SAAH,EACA,OAAOpZ,GAAGqZ,CAAAA,YAAH,EApDmC,CAsD5Ce,QAASA,GAAgB,CAACK,CAAD,CAAeC,CAAf,CAAuB,CAC9C,MAAO,SAAQ,EAAG,CAChB,GAAI,CACF,MAAOA,EAAO5V,CAAAA,KAAP,CAAa,IAAb,CAAmBhB,SAAnB,CADL,CAEF,MAAOtC,CAAP,CAAU,CACViZ,CAAa\/U,CAAAA,IAAb,CAAkB,IAAlB,CAAwBlE,CAAxB,CADU,CAHI,CAD4B,CAchDmK,QAASA,GAAkB,CAAC7E,CAAD,CAAQ4J,CAAR,CAAchF,CAAd,CAAoB,CAC7C,MAAOF,GAAA,CAAcmP,EAAd,CAAoC7T,CAApC,CAA2C4J,CAA3C,CAAiDhF,CAAjD,CADsC,CAG\/CF,QAASA,GAAa,CAACoP,CAAD,CAAO9T,CAAP,CAAc4J,CAAd,CAAoBhF,EAApB,CAA0B,CAC9C,IAAIJ,GAAuB,UAAhB,GAAA,MAAOI,GAAP,CAA6BmP,EAAA,CAAQ\/T,CAAR,CAAe4J,CAAf,CAA7B,CAAoDmK,EAAA,CAAQ\/T,CAAR,CAA\/D,CACIgU,GAAK\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\/C,CAAZ,CAAmB,CAC\/B6X,CAAK5Q,CAAAA,GAAL,CAASlE,CAAT,CAAc\/C,CAAd,CACA,OAAOA,EAFwB,CAIjC8X,QAASA,GAAU,CAACxU,CAAD,CAASyU,CAAT,CAAwB,CACzC,GAAc,IAAd,EAAIzU,CAAJ,EAAwC,QAAxC,GAAsB,MAAOA,EAA7B,EAAoDA,CAApD,WAAsE0U,KAAtE,EAA8E,CAbvEnR,EAAA,CAaqFvD,CAbrF,CAaP,CACE,MAAOA,EAET,IAAI2U,EAAA,CAAkB3U,CAAlB,CAAJ,EAAiC8K,EAAA,CAAgB9K,CAAhB,CAAjC,CACE,MAAOwU,GAAA,CAAWxU,CAAOyG,CAAAA,GAAP,EAAX,CAAyBgO,CAAzB,CAET,IAAIA,CAAcR,CAAAA,GAAd,CAAkBjU,CAAlB,CAAJ,CACE,MAAOyU,EAAchO,CAAAA,GAAd,CAAkBzG,CAAlB,CAET,IAAI4U,EAAA,CAAkB5U,CAAlB,CAAJ,CAA+B,CAC7B,IAAIuI,EAAM+L,EAAA,CAAMG,CAAN,CAAqBzU,CAArB,CAAiCxE,KAAJ,CAAUwE,CAAO5K,CAAAA,MAAjB,CAA7B,CACV4K,EAAOqO,CAAAA,OAAP,CAAe,QAAQ,CAAC3R,EAAD,CAAQmY,EAAR,CAAa,CAClCtM,CAAA,CAAIsM,EAAJ,CAAA,CAAWL,EAAA,CAAW9X,EAAX,CAAkB+X,CAAlB,CADuB,CAApC,CAGA,OAAOlM,EALsB,CAO\/B,GAAIuM,EAAA,CAAgB9U,CAAhB,CAAJ,CAA6B,CAC3B,IAAI+U,GAAOT,EAAA,CAAMG,CAAN,CAAqBzU,CAArB,CAA6C,IAAIvB,GAAjD,CACXuB,EAAOqO,CAAAA,OAAP,CAAe,QAAQ,CAAC3R,EAAD,CAAQ,CAC7BqY,EAAKxe,CAAAA,GAAL,CAASie,EAAA,CAAW9X,EAAX;AAAkB+X,CAAlB,CAAT,CAD6B,CAA\/B,CAGA,OAAOM,GALoB,CAO7B,GAAIC,EAAA,CAAgBhV,CAAhB,CAAJ,CAA6B,CAC3B,IAAIiV,GAAQX,EAAA,CAAMG,CAAN,CAAqBzU,CAArB,CAA6C,IAAIzB,GAAjD,CACZyB,EAAOqO,CAAAA,OAAP,CAAe,QAAQ,CAAC3R,EAAD,CAAQ+C,EAAR,CAAa,CAClCwV,EAAMtR,CAAAA,GAAN,CAAUlE,EAAV,CAAe+U,EAAA,CAAW9X,EAAX,CAAkB+X,CAAlB,CAAf,CADkC,CAApC,CAGA,OAAOQ,GALoB,CAO3B,IAAIC,GAAQZ,EAAA,CAAMG,CAAN,CAAqBzU,CAArB,CAA6B,EAA7B,CACZoU,GAAA,CAAWpU,CAAX,CAAmBqO,CAAAA,OAAnB,CAA2B,QAAQ,CAAC5O,EAAD,CAAM,CACnCT,EAAgBC,CAAAA,oBAAqB\/B,CAAAA,IAArC,CAA0C8C,CAA1C,CAAkDP,EAAlD,CAAJ,GACEyV,EAAA,CAAMzV,EAAN,CADF,CACe+U,EAAA,CAAWxU,CAAA,CAAOP,EAAP,CAAX,CAAwBgV,CAAxB,CADf,CADuC,CAAzC,CAKA,OAAOS,GArCgC,CAwC3CC,QAASA,GAAI,CAACnV,CAAD,CAASmE,CAAT,CAAkB,CAI7B,MAAOqQ,GAAA,CAAWxU,CAAX,CAAmC,IAAIzB,GAAvC,CAJsB,CAM\/B6W,QAASA,GAAK,EAAG,CAEbja,CAAA,CAAI,+CAAJ,CAGF,KADA,IAAIka,EAAkB,CAAA,CAAtB,CACSha,EAAOC,SAAUlG,CAAAA,MAD1B,CACkCmG,EAAWC,KAAJ,CAAUH,CAAV,CADzC,CAC0DI,GAAO,CAAjE,CAAoEA,EAApE,CAA2EJ,CAA3E,CAAiFI,EAAA,EAAjF,CACEF,CAAA,CAAKE,EAAL,CAAA,CAAaH,SAAA,CAAUG,EAAV,CAEsB,UAArC,GAAI,MAAOF,EAAA,CAAKA,CAAKnG,CAAAA,MAAV,CAAmB,CAAnB,CAAX,GACEigB,CADF,CACoB9Z,CAAKhG,CAAAA,GAAL,EADpB,CAY6B,EAAA,CAAA,CAC7B,OAViCgG,CAUpBnG,CAAAA,MAAb,EACE,KAAK,CAAL,CACE,CAAA,CAAOqQ,EAAYgD,CAAAA,kBAAnB,OAAA,CACF;KAAK,CAAL,CACE,CAAA,CAAO4J,EAAA,CAdsB9W,CAcd,CAAK,CAAL,CAAR,CAAP,OAAA,CACF,MAAK,CAAL,CACE,CAAA,CAAO8W,EAAA,CAhBsB9W,CAgBd,CAAK,CAAL,CAAR,CAhBsBA,CAgBL,CAAK,CAAL,CAAjB,CAAP,OAAA,CANJ,CAD6B,CAAA,CAAA,IAAA,EAAA,CAR7B,GAAI,CAAC2O,CAAL,CACE,MAAO\/O,EAAA,CAAI,+IAAJ,CAEL+O,EAAWoL,CAAAA,UAAf,GAA8BC,EAAUC,CAAAA,IAAxC,EACE7G,OAAQ8G,CAAAA,GAAR,CAAY,gBAAZ,CAA+BvL,CAAW0J,CAAAA,KAA1C,CAAkD,mBAAlD,CAEF1J,EAAWoL,CAAAA,UAAX,CAAwBD,CAAA,CAAkBE,EAAUG,CAAAA,KAA5B,CAAoCH,EAAUI,CAAAA,GAlBvD,CA8BjBC,QAASA,GAAW,CAAChJ,CAAD,CAAUiJ,CAAV,CAAmB,CACrB,IAAK,EAArB,GAAIA,CAAJ,GACEA,CADF,CACY,IAAK,EADjB,CAGAlN,GAAA,EACA,IAAI,CACF,MAAOiE,EAAQtQ,CAAAA,KAAR,CAAcuZ,CAAd,CADL,CAAJ,OAEU,CACRlM,EAAA,EADQ,CAP2B,CAmEvCmM,QAASA,GAAe,CAACC,CAAD,CAAgB,CACtC,MAAuC,KAAK,EAA5C,GAAOA,CAAcC,CAAAA,aAArB,EAAsF,CAAtF,CAAiDD,CAAcC,CAAAA,aAAc5gB,CAAAA,MADvC,CAGxC6gB,QAASA,GAAmB,CAACF,CAAD;AAAgBG,CAAhB,CAAyB,CACnD,IAAIC,EAAeJ,CAAcC,CAAAA,aAA7BG,GAA+CJ,CAAcC,CAAAA,aAA7DG,CAA6E,EAA7EA,CACJA,EAAa3gB,CAAAA,IAAb,CAAkB0gB,CAAlB,CACA,OAAO\/Z,EAAA,CAAK,QAAQ,EAAG,CACrB,IAAI0Y,GAAMsB,CAAaC,CAAAA,OAAb,CAAqBF,CAArB,CACE,EAAC,CAAb,GAAIrB,EAAJ,EACEsB,CAAavH,CAAAA,MAAb,CAAoBiG,EAApB,CAAyB,CAAzB,CAHmB,CAAhB,CAH4C,CAUrDwB,QAASA,GAAe,CAACN,CAAD,CAAgBO,CAAhB,CAAwB,CAC9C,IAAIC,EAAQzN,EAAA,EACZ,IAAI,CACF,IAAIqN,GAAe,EAAGpX,CAAAA,MAAH,CAAUgX,CAAcC,CAAAA,aAAxB,EAAyC,EAAzC,CACV7gB,EAAAA,CAAK,CAAd,KAAK,IAAY0V,GAAKsL,EAAa\/gB,CAAAA,MAAnC,CAA2CD,CAA3C,CAAgD0V,EAAhD,GAKM,CAJJyL,CAII,CAJKH,EAAA,CAAahhB,CAAb,CAAA,CAAiBmhB,CAAjB,CAIL,GAHU,CAACA,CAAOE,CAAAA,IAGlB,EAFFrb,CAAA,CAAI,EAAJ,CAEE,CAACmb,CALP,EAAoDnhB,CAAA,EAApD,EASA,MAAOmhB,EAXL,CAAJ,OAYU,CAr7BV7Q,EAAYgD,CAAAA,kBAAZ,CAs7Be8N,CADL,CAdoC,CAkBhDE,QAASA,GAAY,CAACC,CAAD,CAAa,CAChC,MAAuC,KAAK,EAA5C,GAAOA,CAAWC,CAAAA,gBAAlB,EAAsF,CAAtF,CAAiDD,CAAWC,CAAAA,gBAAiBvhB,CAAAA,MAD7C,CAGlCwhB,QAASA,GAAgB,CAACF,CAAD,CAAaR,CAAb,CAAsB,CAC7C,IAAIW,EAAYH,CAAWC,CAAAA,gBAAvBE,GAA4CH,CAAWC,CAAAA,gBAAvDE,CAA0E,EAA1EA,CACJA,EAAUrhB,CAAAA,IAAV,CAAe0gB,CAAf,CACA,OAAO\/Z,EAAA,CAAK,QAAQ,EAAG,CACrB,IAAI0Y,GAAMgC,CAAUT,CAAAA,OAAV,CAAkBF,CAAlB,CACE,EAAC,CAAb;AAAIrB,EAAJ,EACEgC,CAAUjI,CAAAA,MAAV,CAAiBiG,EAAjB,CAAsB,CAAtB,CAHmB,CAAhB,CAHsC,CAU\/CiC,QAASA,GAAe,CAACJ,CAAD,CAAaJ,CAAb,CAAqB,CAC3C,IAAIC,EAAQzN,EAAA,EAEZ,IADI+N,CACJ,CADgBH,CAAWC,CAAAA,gBAC3B,CAAA,CAGAE,CAAA,CAAYA,CAAU1V,CAAAA,KAAV,EACZ,KAP2C,IAOlChM,GAAK,CAP6B,CAO1B0V,GAAKgM,CAAUzhB,CAAAA,MAAhC,CAAwCD,EAAxC,CAA6C0V,EAA7C,CAAiD1V,EAAA,EAAjD,CACE0hB,CAAA,CAAU1hB,EAAV,CAAA,CAAcmhB,CAAd,CA98BF7Q,GAAYgD,CAAAA,kBAAZ,CAg9Ba8N,CAPb,CAH2C,CAY7CQ,QAASA,GAAc,CAAC3X,CAAD,CAASiU,CAAT,CAAsBlP,CAAtB,CAA+B,CACpD,IAAIM,GAAM+O,EAAA,CAAmBpU,CAAnB,CAA2B+E,CAA3B,CAAA,CAAoCsP,EAApC,CACV9K,GAAA,EACA,IAAI,CACF,IAAIqO,EAI4B,KAAhC,GAACA,EAAD,CAAgB3D,CAAhB,EAAuC2D,EAAvC,CAAsD3D,CAAtD,CAAoE5Q,EAAA,CAAyBrD,CAAzB,CACpEsU,GAAA,CAAQL,CAAR,CAAqBhF,CAAAA,OAArB,CAA6B,QAAQ,CAAC5O,EAAD,CAAM,CACzC,MAAOgF,GAAIJ,CAAAA,KAAJ,CAAU5E,EAAV,CAAe4T,CAAA,CAAY5T,EAAZ,CAAf,CADkC,CAA3C,CANE,CAAJ,OASU,CACRkK,EAAA,EADQ,CAGV,MAAOvK,EAf6C,CA0StD6X,QAASA,GAAqB,CAACC,CAAD,CAAgBnQ,CAAhB,CAA0BvJ,CAA1B,CAAgC2Z,EAAhC,CAAuC,CACtD,IAAK,EAAlB,GAAI3Z,CAAJ,GACEA,CADF,CACoD,iBADpD,CAGc,KAAK,EAAnB,GAAI2Z,EAAJ,GACEA,EADF,CACU,CAAA,CADV,CAGAlb,EAAA,EACIwI,EAAAA,CAAM,IAAI2S,EAAJ,CAAkC5Z,CAAlC,CAAwCuJ,CAAxC,CAAkDoQ,EAAlD,CAAyD,CAAA,CAAzD,CACVlZ,EAAA,CAAmBwG,CAAIuP,CAAAA,OAAvB,CAAgCP,EAAhC,CAAuChP,CAAvC,CACI4S,EAAAA,CAAQ,IAAIvE,KAAJ,CAAUrO,CAAIuP,CAAAA,OAAd,CAAuBsD,EAAvB,CACZ7S,EAAIkB,CAAAA,MAAJ,CAAa0R,CACTH,EAAJ,EAAqBA,CAAc9hB,CAAAA,MAAnC,GACM4U,EAtwDN,CAswDajB,EAAA,CAAuB,CAAA,CAAvB,CAtwDb,CAuwDEtE,CAAI8S,CAAAA,gBAAJ,CAAqB,CAArB;AAAwB,CAAxB,CAA2BL,CAA3B,CAvwDF,CAAAzR,EAAYoD,CAAAA,iBAAZ,CAwwDuBmB,EAHvB,CAKA,OAAOqN,EAjB4D,CAmHrEG,QAASA,GAAiB,CAACC,CAAD,CAAWC,CAAX,CAAwB,CACP,UAAzC,GAAI,MAAOlc,MAAM4C,CAAAA,SAAN,CAAgBqZ,CAAhB,CAAX,GACEE,EAAA,CAAgBF,CAAhB,CADF,CAC8BC,CAAA,CAAYD,CAAZ,CAD9B,CADgD,CAKlDG,QAASA,GAAU,CAACH,CAAD,CAAW,CAC5B,MAAO,SAAQ,EAAG,CAChB,IAAIhT,EAAM,IAAA,CAAKgP,EAAL,CACVhP,EAAIoT,CAAAA,KAAM7J,CAAAA,cAAV,EACI8J,EAAAA,CAAiBrT,CAAIsT,CAAAA,cAAJ,CAAmBtT,CAAIuP,CAAAA,OAAvB,CACrB,OAAO8D,EAAA,CAAeL,CAAf,CAAyBnb,CAAAA,KAAzB,CAA+Bwb,CAA\/B,CAA+Cxc,SAA\/C,CAJS,CADU,CAQ9B0c,QAASA,GAAW,CAACP,CAAD,CAAW,CAC7B,MAAO,SAAQ,CAACQ,CAAD,CAAWpC,CAAX,CAAoB,CACjC,IAAIqC,GAAS,IAAb,CACIzT,GAAM,IAAA,CAAKgP,EAAL,CACVhP,GAAIoT,CAAAA,KAAM7J,CAAAA,cAAV,EAEA,OADqBvJ,GAAIsT,CAAAA,cAAJD,CAAmBrT,EAAIuP,CAAAA,OAAvB8D,CACd,CAAeL,CAAf,CAAA,CAAyB,QAAQ,CAACU,EAAD,CAAUC,EAAV,CAAkB,CACxD,MAAOH,EAAS\/a,CAAAA,IAAT,CAAc2Y,CAAd,CAAuBsC,EAAvB,CAAgCC,EAAhC,CAAwCF,EAAxC,CADiD,CAAnD,CAL0B,CADN,CAW\/BG,QAASA,GAAc,CAACZ,CAAD,CAAW,CAChC,MAAO,SAAQ,EAAG,CAChB,IAAIa,EAAS,IAAb,CACI7T,EAAM,IAAA,CAAKgP,EAAL,CACVhP,EAAIoT,CAAAA,KAAM7J,CAAAA,cAAV,EACI8J,EAAAA,CAAiBrT,CAAIsT,CAAAA,cAAJ,CAAmBtT,CAAIuP,CAAAA,OAAvB,CACrB;IAAIiE,GAAW3c,SAAA,CAAU,CAAV,CACfA,UAAA,CAAU,CAAV,CAAA,CAAe,QAAQ,CAACid,EAAD,CAAcC,EAAd,CAA4BJ,EAA5B,CAAoC,CACzD,MAAOH,GAAA,CAASM,EAAT,CAAsBC,EAAtB,CAAoCJ,EAApC,CAA4CE,CAA5C,CADkD,CAG3D,OAAOR,EAAA,CAAeL,CAAf,CAAyBnb,CAAAA,KAAzB,CAA+Bwb,CAA\/B,CAA+Cxc,SAA\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\/B,GAAI\/F,EAAA,CAAO5V,CAAP,CAAJ,EAAqBwM,EAAA,CAAgBxM,CAAhB,CAArB,EAA+C6V,EAAA,CAAW7V,CAAX,CAA\/C,CACE,MAAOA,EA\/BsC,CAAjD,IAiCO,IAAI\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\/CS,QAASA,GAAqB,CAAC\/hB,CAAD,CAAUuhB,CAAV,CAAiB,CAC7C,IAAID,EAAQnB,EAAA,CAAcoB,CAAM9gB,CAAAA,SAApB,CACZ8gB;CAAM5K,CAAAA,KAAM3Q,CAAAA,GAAZ,CAAgBhG,CAAhB,CAAyBshB,CAAzB,CACA,KAAKxf,IAAIA,EAAT,GAAgB9B,EAAhB,CACMV,EAAeC,CAAAA,IAAf,CAAoBS,CAApB,CAA6B8B,EAA7B,CAAJ,GACEwf,CAAA,CAAMxf,EAAN,CADF,CACeyf,CAAMI,CAAAA,MAAN,CAAa3hB,CAAA,CAAQ8B,EAAR,CAAb,CAA2Byf,CAA3B,CADf,CAIErgB,GAAAA,CAAUC,EAAA,CAAsBnB,CAAtB,CACd,KAT6C,IASpCya,GAAS,CAT2B,CASxBuH,GAAW9gB,EAAQzJ,CAAAA,MATK,CASGwqB,EAAhD,CAAiExH,EAAjE,CAA0EuH,EAA1E,CAAoF,EAAEvH,EAAtF,CACEwH,EACA,CADS\/gB,EAAA,CAAQuZ,EAAR,CACT,CAAInZ,EAAqB\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\/C,GAAQqvB,CAAA,CAAMtsB,EAAN,CACd,OAAI\/C,GAAJ,CACSlC,CADT,CACgB,GAAG,KAAIsxB,CAAJ,IAAcrsB,EAAd,EAAH,KAA2B\/C,EAA3B;CADhB,CAIOlC,CANsC,CAAxC,CAOJ,EAPI,CAD4B,CAUrCwxB,QAASA,GAAQ,CAACF,CAAD,CAASC,CAAT,CAAgBE,CAAA,CAAW,gBAA3B,CAA6C,CAC5DC,EAAOb,CAAAA,eAAP,CAAuB,EAAA,EAAM,CAC3B,MAAMxG,GAAQrB,QAASC,CAAAA,aAAT,CAAuB,OAAvB,CAAd,CACM0I,GAAWN,EAAA,CAAaC,CAAb,CAAqBC,CAArB,CACjBlH,GAAMuH,CAAAA,YAAN,CAAmB,IAAnB,CAA0B,GAAEN,CAAF,QAA1B,CACAjH,GAAMuH,CAAAA,YAAN,CAAmB,eAAnB,CAAoCH,CAApC,CACApH,GAAMiC,CAAAA,SAAN,CAAmB;UACbmF,CADa;YAEXE,EAFW;;OAKnB3I,SAAS6I,CAAAA,IAAKvG,CAAAA,WAAd,CAA0BjB,EAA1B,CACA,OAAO,EAAA,EAAM,CACPA,EAAJ,EAAarB,QAAS6I,CAAAA,IAAKC,CAAAA,QAAd,CAAuBzH,EAAvB,CAAb,EACErB,QAAS6I,CAAAA,IAAKE,CAAAA,WAAd,CAA0B1H,EAA1B,CAFS,CAXc,CAA7B,CAgBG,CAACiH,CAAD,CAASC,CAAT,CAAgBE,CAAhB,CAhBH,CAD4D,CAmB9DO,QAASA,GAAQ,CAACC,CAAD,CAAMC,CAAN,CAAa,CAC5BR,EAAOb,CAAAA,eAAP,CAAuB,EAAA,EAAM,CAC3B,GAAIsB,EAAOlmB,CAAAA,GAAP,CAAWgmB,CAAX,CAAJ,CACE,MAAO,EAAA,EAAM,EAEf,OAAM5H,EAAQrB,QAASC,CAAAA,aAAT,CAAuB,OAAvB,CACdoB,EAAMiC,CAAAA,SAAN,CAAkB4F,CAClB7H,EAAMuH,CAAAA,YAAN,CAAmB,IAAnB,CAAyBK,CAAzB,CACAjJ,SAAS6I,CAAAA,IAAKvG,CAAAA,WAAd,CAA0BjB,CAA1B,CACA8H,GAAOhpB,CAAAA,GAAP,CAAW8oB,CAAX,CAAgB5H,CAAhB,CACA,OAAO,EAAA,EAAM,CACPA,CAAJ,EAAarB,QAAS6I,CAAAA,IAAKC,CAAAA,QAAd,CAAuBzH,CAAvB,CAAb,GACErB,QAAS6I,CAAAA,IAAKE,CAAAA,WAAd,CAA0B1H,CAA1B,CACA,CAAA8H,EAAOC,CAAAA,MAAP,CAAcH,CAAd,CAFF,CADW,CATc,CAA7B,CAeG,CAACA,CAAD,CAAMC,CAAN,CAfH,CAD4B,CA6a9BG,QAASA,GAAa,CAACd,CAAD,CAAQE,CAAR,CAAkB,CACtC,MAAMa,EAAUZ,EAAOnD,CAAAA,OAAP,CACd,EAAA,EAAMluB,EAAA,CAAeA,EAAA,CAAe,EAAf,CAAmBkyB,EAAnB,CAAf,CAAiDhB,CAAjD,CADQ,CAEd,CAACA,CAAD,CAFc,CAIhBC,GAAA,CAAS,IAAT,CAAec,CAAf,CAAwBb,CAAxB,CACAO,GAAA,CAAS,WAAT,CAAsBQ,EAAtB,CANsC,CAexCC,QAASA,GAAa,CAAC9E,CAAA;AAAM,MAAP,CAAe,CAC9B+E,EAAA,CAAY\/E,CAAZ,CAAL,GACE+E,EAAA,CAAY\/E,CAAZ,CADF,CACqBgF,EAAO7E,CAAAA,aAAP,CAAqB,EAArB,CADrB,CAGA,OAAO4E,GAAA,CAAY\/E,CAAZ,CAJ4B,CAMrCiF,QAASA,GAAM,CAACjF,CAAA,CAAM,MAAP,CAAe,CAC5B,MAAOgF,GAAO3E,CAAAA,UAAP,CAAkByE,EAAA,CAAc9E,CAAd,CAAlB,CADqB,CAK9BkF,QAASA,GAAe,EAAG,CACzB,MAAMC,EAAMF,EAAA,EAAZ,CACM,CAAE,UAAAzE,CAAF,CAAA,CAAgBJ,EAAA,EADtB,CAEMK,EAAoB2E,EAAOzE,CAAAA,MAAP,CAAc,CAAC,CAAf,CAqF1B,OApFeyE,GAAOxE,CAAAA,OAAPC,CAAe,EAAA,EAoErB,EACLY,cA5DqB5wB,EAAD4wB,EAAO,CAAA,IACvB5L,EADuB,CAClBkI,EADkB,CACdC,EACb,IAAiBqH,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACjBkwB,GAAL,GAC6B,IAA3B,GAAClL,EAAD,CAAOhlB,EAAE8wB,CAAAA,aAAT,EAAkC,IAAK,EAAvC,CAA2C9L,EAAI+L,CAAAA,iBAAJ,CAAsB\/wB,EAAEswB,CAAAA,SAAxB,CAD7C,CAEKtwB,GAAE20B,CAAAA,SAAP,GAGkC,IAAlC,GAACzH,EAAD,CAAMyC,CAAUiB,CAAAA,aAAhB,EAAyC,IAAK,EAA9C,CAAkD1D,EAAGhpB,CAAAA,IAAH,CAAQyrB,CAAR,CAAmB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAAnB,CAA2DlwB,EAA3D,CAGlD,CAFMuwB,EAEN,CAFY7U,IAAK6U,CAAAA,GAAL,EAEZ,CADMC,EACN,CADgBD,EAChB,CADsBX,CAAkBa,CAAAA,OACxC;AAlsBsBC,GAksBtB,CAAIF,EAAJ,CACEZ,CAAkBa,CAAAA,OADpB,CAC8BF,EAD9B,CAlsBsBG,GAksBtB,EAGMF,EAHN,GAIsC,IAAlC,GAACrD,EAAD,CAAMwC,CAAUgB,CAAAA,aAAhB,EAAyC,IAAK,EAA9C,CAAkDxD,EAAGjpB,CAAAA,IAAH,CAAQyrB,CAAR,CAAmB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAAnB,CAA2DlwB,EAA3D,CAClD,CAAA4vB,CAAkBa,CAAAA,OAAlB,CAA4B,CAAC,CALjC,CANA,CANA,CAF2B,CA2DtB,CAELO,cArEqBhxB,EAADgxB,EAAO,CAC3B,IAAIhM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACa,KAAnC,GAACglB,EAAD,CAAO2K,CAAUqB,CAAAA,aAAjB,EAA0C,IAAK,EAA\/C,CAAmDhM,EAAI9gB,CAAAA,IAAJ,CAASyrB,CAAT,CAAoB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAApB,CAA4DlwB,EAA5D,CAJnD,CAF2B,CAmEtB,CAGLiwB,YAvCmBjwB,EAADiwB,EAAO,CAAA,IACrBjL,EADqB,CAChBkI,EACT,IAAiBsH,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACjBkwB,GAAL,GAC6B,IAA3B,GAAClL,EAAD,CAAOhlB,EAAE8wB,CAAAA,aAAT,EAAkC,IAAK,EAAvC,CAA2C9L,EAAIqL,CAAAA,qBAAJ,CAA0BrwB,EAAEswB,CAAAA,SAA5B,CAD7C,CAEgC,KAAhC,GAACpD,EAAD;AAAMyC,CAAUM,CAAAA,WAAhB,EAAuC,IAAK,EAA5C,CAAgD\/C,EAAGhpB,CAAAA,IAAH,CAAQyrB,CAAR,CAAmB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAAnB,CAA2DlwB,EAA3D,CANhD,CAFyB,CAoCpB,CAILixB,eA9BsBjxB,EAADixB,EAAO,CAC5B,IAAIjM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACc,KAApC,GAACglB,EAAD,CAAO2K,CAAUsB,CAAAA,cAAjB,EAA2C,IAAK,EAAhD,CAAoDjM,EAAI9gB,CAAAA,IAAJ,CAASyrB,CAAT,CAAoB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAApB,CAA4DlwB,EAA5D,CAJpD,CAF4B,CA0BvB,CAKLkxB,eAvBsBlxB,EAADkxB,EAAO,CAC5B,IAAIlM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACc,KAApC,GAACglB,EAAD,CAAO2K,CAAUuB,CAAAA,cAAjB,EAA2C,IAAK,EAAhD,CAAoDlM,EAAI9gB,CAAAA,IAAJ,CAASyrB,CAAT,CAAoB,CAAEnS,KAAM,QAAR,CAA+B0S,MAAAA,EAA\/B,CAApB,CAA4DlwB,EAA5D,CAJpD,CAF4B,CAkBvB,CAML40B,OAhBc50B,EAAD40B,EAAOC,EAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACrD70B,EAAE80B,CAAAA,cAAF,EACI,UAAJ,EAAiB90B,GAAjB;AAEEs0B,CAAIS,CAAAA,IAAJ,CAAS\/0B,EAAEg1B,CAAAA,YAAX,CADcj4B,CAACiD,EAAEi1B,CAAAA,OAAHl4B,CAAYiD,EAAEk1B,CAAAA,OAAdn4B,CACd,CAJmD,CAAjC,CAUf,CAOLo4B,WAVkBn1B,EAADm1B,EAAO,CACxBn1B,EAAE80B,CAAAA,cAAF,EADwB,CAGnB,CAQLM,WAAap1B,EAADo1B,EAAO,CACjB,IAAIC,GAAOf,CAAIgB,CAAAA,YAAahS,CAAAA,EACf,SAAb,GAAI+R,EAAJ,EAAkC,aAAlC,GAAyBA,EAAzB,EACEr1B,EAAE80B,CAAAA,cAAF,EAHe,CARd,EApEM9E,CAmFZ,CAACL,CAAD,CAnFYK,CAJU,CAoH3BuF,QAASA,GAAU,CAAC9R,CAAD,CAAW+R,CAAX,CAAsBC,CAAtB,CAAgC,CACjD,MAAkB,EAAlB,GAAID,CAAJ,EAA+Cx5B,QAA\/C,GAAuBX,IAAKq6B,CAAAA,GAAL,CAASF,CAAT,CAAvB,CACSn6B,IAAKs6B,CAAAA,GAAL,CAASlS,CAAT,CAA8B,CAA9B,CAAmBgS,CAAnB,CADT,CAEOhS,CAFP,CAEkB+R,CAFlB,CAE8BC,CAF9B,EAE0CD,CAF1C,CAEsDC,CAFtD,CAEiEhS,CAFjE,CADiD,CAKnDmS,QAASA,GAAuB,CAACvJ,CAAD,CAAWnC,CAAX,CAAgB5uB,CAAhB,CAAqBm6B,EAAA,CAAW,GAAhC,CAAsC,CACpE,MAAiB,EAAjB,GAAIA,EAAJ,CA7BOp6B,IAAKC,CAAAA,GAAL,CA8BmB4uB,CA9BnB,CAAc7uB,IAAK6uB,CAAAA,GAAL,CA8BLmC,CA9BK,CA8BU\/wB,CA9BV,CAAd,CA6BP,CAEI+wB,CAAJ,CAAenC,CAAf,CACS,CAACqL,EAAA,CAAWrL,CAAX,CAAiBmC,CAAjB,CAA2B\/wB,CAA3B,CAAiC4uB,CAAjC,CAAsCuL,EAAtC,CADV,CAC4DvL,CAD5D,CAEImC,CAAJ,CAAe\/wB,CAAf,CACS,CAACi6B,EAAA,CAAWlJ,CAAX,CAAsB\/wB,CAAtB,CAA2BA,CAA3B,CAAiC4uB,CAAjC,CAAsCuL,EAAtC,CADV,CAC4Dn6B,CAD5D,CAEO+wB,CAP6D,CAStEwJ,QAASA,GAAiB,CAACh3B,CAAD,CAAS,CAACi3B,CAAD,CAAKC,CAAL,CAAT,CAAmB,CAACC,EAAD,CAAKC,EAAL,CAAnB,CAA6B,CACrD,MAAM,CAAC,CAACC,EAAD,CAAKC,EAAL,CAAD,CAAW,CAACC,EAAD,CAAKC,EAAL,CAAX,CAAA,CAAuBx3B,CAC7B,OAAO,CAAC+2B,EAAA,CAAwBE,CAAxB,CAA4BI,EAA5B,CAAgCC,EAAhC,CAAoCH,EAApC,CAAD,CAA0CJ,EAAA,CAAwBG,CAAxB,CAA4BK,EAA5B,CAAgCC,EAAhC,CAAoCJ,EAApC,CAA1C,CAF8C,CAMvDK,QAASA,GAAe,CAAC\/xB,CAAD,CAAMkC,CAAN,CAAW\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\/mB,CAAD,CAAU,CAC\/BgnB,EAAUjwB,CAAAA,GAAV,CAAciJ,CAAQnN,CAAAA,GAAtB,CAA2BmN,CAAQinB,CAAAA,MAAnC,CACAC,GAAkBnwB,CAAAA,GAAlB,CAAsBiJ,CAAQnN,CAAAA,GAA9B,CAAmCmN,CAAQmnB,CAAAA,QAA3C,CAF+B,CAkGjCC,QAASA,GAAW,CAACC,CAAA,CAAS,EAAV,CAAcC,CAAd,CAAyB,CAC3C,MAAMxoB,EAAS,EACf,KAAK,MAAM,CAACjM,EAAD,CAAMs0B,EAAN,CAAX,EAA8Bj3B,OAAOie,CAAAA,OAAP,CAAemZ,CAAf,CAA9B,CACE,OAAQ,MAAOH,GAAf,EACE,KAAK,UAAL,CAMIroB,CAAA,CAAOjM,EAAP,CAAA,CAAcs0B,EAAS72B,CAAAA,IAAT,CAAcwO,CAAd,CAAsBuoB,CAAA,CAAOx0B,EAAP,CAAtB,CAAmCA,EAAnC,CAAwCw0B,CAAxC,CAEhB,MACF,MAAK,QAAL,CACEvoB,CAAA,CAAOjM,EAAP,CAAA,CAAcu0B,EAAA,CAAYC,CAAA,CAAOx0B,EAAP,CAAZ,CAAyBs0B,EAAzB,CACd,MACF,MAAK,SAAL,CACMA,EAAJ,GACEroB,CAAA,CAAOjM,EAAP,CADF,CACgBw0B,CAAA,CAAOx0B,EAAP,CADhB,CAdJ,CAmBF,MAAOiM,EAtBoC,CAwB7CyoB,QAASA,GAAM,CAACC,CAAD,CAAYC,CAAZ,CAAwBC,CAAA,CAAU,EAAlC,CAAsC,CAAA,MAC3B,CACtB,OAAAl1B,EADsB,CAEtB,aAAAm1B,EAFsB,CAGtB,OAAQC,EAHc;AAItB,QAAAC,EAJsB,CAKtB,UAAAC,EALsB,CAAA,CAAXN,CAMmCO,KAAAA,GAAAA,EA3EhD,IAAc,IAAd,EAqEaP,CArEb,CACE,CAAA,CAAO,EADT,KAAA,CAdA,GAAc,IAAd,EAmFaA,CAnFb,CACE,IAAA,GAAO,EADT,KAAA,CAEIh1B,EAAAA,CAAS,EACb,KAAIw1B,GAAa93B,MAAO6B,CAAAA,IAAP,CAgFJy1B,CAhFI,CAAjB,CACSj\/B,EACT,KAAKA,EAAL,CAAU,CAAV,CAAaA,EAAb,CAAkBy\/B,EAAWx\/B,CAAAA,MAA7B,CAAqCD,EAAA,EAArC,CAA2C,CACzC,IAAAsK,GAAMm1B,EAAA,CAAWz\/B,EAAX,CACuB,EAA7B,EASiD0\/B,EATpCze,CAAAA,OAAT,CAAiB3W,EAAjB,CAAJ,GAEAL,EAAA,CAAOK,EAAP,CAFA,CA4EW20B,CA1EG,CAAO30B,EAAP,CAFd,CAFyC,CAL3C,CAkBA,GAAI3C,MAAOgC,CAAAA,qBAAX,CAEE,IADIg2B,EACC,CADkBh4B,MAAOgC,CAAAA,qBAAP,CAgEZs1B,CAhEY,CAClB,CAAAj\/B,EAAA,CAAK,CAAV,CAAaA,EAAb,CAAkB2\/B,EAAiB1\/B,CAAAA,MAAnC,CAA2CD,EAAA,EAA3C,CACEsK,EACA,CADMq1B,EAAA,CAAiB3\/B,EAAjB,CACN,CAA6B,CAA7B,EAAI0\/B,EAASze,CAAAA,OAAT,CAAiB3W,EAAjB,CAAJ,EAEK3C,MAAOsB,CAAAA,SAAUa,CAAAA,oBAAqB\/B,CAAAA,IAAtC,CA2DIk3B,CA3DJ,CAAmD30B,EAAnD,CAFL,GAIAL,EAAA,CAAOK,EAAP,CAJA,CA6DS20B,CAzDK,CAAO30B,EAAP,CAJd,CAOJ,EAAA,CAAOL,EAfP,CA4EAk1B,CAAQS,CAAAA,MAAR,CAAiBf,EAAA,CAAY,CAC3B50B,OAAAA,EAD2B,CAE3Bm1B,aAAAA,EAF2B,CAG3Bz4B,OAAQ04B,EAHmB,CAI3BC,QAAAA,EAJ2B,CAK3BC,UAAAA,EAL2B,CAAZ,CAMdM,EANc,CAOjB,IAAIX,CAAJ,CAAgB,CACd,IAAMN,GAAWD,EAAkBrtB,CAAAA,GAAlB,CAAsB4tB,CAAtB,CACjBC,EAAA,CAAQD,CAAR,CAAA,CAAsBL,EAAA,CAAYtE,EAAA,CAAe,CAC\/CqF,OAAQT,CAAQS,CAAAA,MAD+B,CAAf;AAE\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\/kB,EAA\/B,CAJJ,CAF4C,CAA9C,CAUmC,EAAnC,CAAIq4B,CAAwBlqC,CAAAA,IAA5B,EACE8pC,CAAA,EAdiC,CAlDrC,IAAII,EAA0C,IAAIzhC,GAAlD,CACIshC,EAkEJ,OAAO,CACLZ,mBAAoBA,QAAQ,CAACC,EAAD,CAAsBrvB,EAAtB,CAAiCsvB,EAAjC,CAAwD,CAClFD,EAAoB3V,CAAAA,OAApB,CAA8B4U,EAAA,CAAmBtuB,EAAnB,CAzBhCmwB,EAAwB3pC,CAAAA,GAAxB,CA0BoC6oC,EA1BpC,CACAU,EAAA,EA0BE,OAAOV,GAAoB3V,CAAAA,OAHuD,CAD\/E,CAML+V,0BA1BFY,QAAmC,CAACX,EAAD,CAAc,CAC\/CS,CAAwBtT,CAAAA,MAAxB,CAA+B6S,EAA\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\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACjBkwB,GAAL,GAC6B,IAA3B,GAAClL,EAAD,CAAOhlB,EAAE8wB,CAAAA,aAAT,EAAkC,IAAK,EAAvC,CAA2C9L,EAAI+L,CAAAA,iBAAJ,CAAsB\/wB,EAAEswB,CAAAA,SAAxB,CAD7C,CAEkC;IAAlC,GAACpD,EAAD,CAAMyC,EAAUiB,CAAAA,aAAhB,EAAyC,IAAK,EAA9C,CAAkD1D,EAAGhpB,CAAAA,IAAH,CAAQyrB,EAAR,CAAmB,CAAEnS,KAAM,OAAR,CAA6BwF,MAAAA,CAA7B,CAAoCkN,MAAAA,EAApC,CAAnB,CAAgElwB,EAAhE,CAClDA,GAAEkwB,CAAAA,KAAF,CAAUA,EAAV,CAAkB,CAPlB,CAF2B,CA0DtB,CAELc,cArEqBhxB,EAADgxB,EAAO,CAC3B,IAAIhM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACa,KAAnC,GAACglB,EAAD,CAAO2K,EAAUqB,CAAAA,aAAjB,EAA0C,IAAK,EAA\/C,CAAmDhM,EAAI9gB,CAAAA,IAAJ,CAASyrB,EAAT,CAAoB,CAAEnS,KAAM,OAAR,CAA6BwF,MAAAA,CAA7B,CAAoCkN,MAAAA,EAApC,CAApB,CAAiElwB,EAAjE,CACnDA,GAAEkwB,CAAAA,KAAF,CAAUA,EAAV,CAAkB,CALlB,CAF2B,CAmEtB,CAGLD,YAlDmBjwB,EAADiwB,EAAO,CAAA,IACrBjL,EADqB,CAChBkI,EADgB,CACZC,EACb,IAAiBqH,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACjBkwB,GAAL,GAC6B,IAA3B,GAAClL,EAAD,CAAOhlB,EAAE8wB,CAAAA,aAAT,EAAkC,IAAK,EAAvC,CAA2C9L,EAAIqL,CAAAA,qBAAJ,CAA0BrwB,EAAEswB,CAAAA,SAA5B,CAD7C,CAEgC,KAAhC;CAACpD,EAAD,CAAMyC,EAAUM,CAAAA,WAAhB,EAAuC,IAAK,EAA5C,CAAgD\/C,EAAGhpB,CAAAA,IAAH,CAAQyrB,EAAR,CAAmB,CAAEnS,KAAM,OAAR,CAA6BwF,MAAAA,CAA7B,CAAoCkN,MAAAA,EAApC,CAAnB,CAAgElwB,EAAhE,CAC1CuwB,GAAAA,CAAM7U,IAAK6U,CAAAA,GAAL,EACNC,GAAAA,CAAUD,EAAVC,CAAgBZ,EAAkBa,CAAAA,OA1yHlBC,IA2yHtB,CAAIF,EAAJ,CACEZ,EAAkBa,CAAAA,OADpB,CAC8BF,EAD9B,CA3yHsBG,GA2yHtB,EAGMF,EAHN,GAIsC,IAAlC,GAACrD,EAAD,CAAMwC,EAAUgB,CAAAA,aAAhB,EAAyC,IAAK,EAA9C,CAAkDxD,EAAGjpB,CAAAA,IAAH,CAAQyrB,EAAR,CAAmB,CAAEnS,KAAM,OAAR,CAA6BwF,MAAAA,CAA7B,CAAoCkN,MAAAA,EAApC,CAAnB,CAAgElwB,EAAhE,CAClD,CAAA4vB,EAAkBa,CAAAA,OAAlB,CAA4B,CAAC,CALjC,CAQAzwB,GAAEkwB,CAAAA,KAAF,CAAUA,EAAV,CAAkB,CAjBlB,CAFyB,CA+CpB,CAILe,eA9BsBjxB,EAADixB,EAAO,CAC5B,IAAIjM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB,EAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\/B,EAAyD10B,EAAE20B,CAAAA,SAA3D,CAAA,CAGA,IAAM,CAAE,MAAAzE,EAAA,CAAQ,CAAV,CAAA,CAAgBlwB,EACc,KAApC,GAACglB,EAAD,CAAO2K,EAAUsB,CAAAA,cAAjB,EAA2C,IAAK,EAAhD,CAAoDjM,EAAI9gB,CAAAA,IAAJ,CAASyrB,EAAT,CAAoB,CAAEnS,KAAM,OAAR,CAA6BwF,MAAAA,CAA7B,CAAoCkN,MAAAA,EAApC,CAApB,CAAiElwB,EAAjE,CACpDA,GAAEkwB,CAAAA,KAAF,CAAUA,EAAV,CAAkB,CALlB,CAF4B,CA0BvB,CAKLgB,eAtBsBlxB,EAADkxB,EAAO,CAC5B,IAAIlM,EACJ,IAAiBwP,CAAbF,CAAIG,CAAAA,QAASD,CAAAA,OAAjB;AAA+C,KAA\/C,GAA6Bx0B,EAAE00B,CAAAA,WAA\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\/FmpC,WAAAA,EAD+F,CAE\/FF,KAAAA,CAF+F,CAAf,CAG\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\/D9sB,UAAW,iBADoD,CAE\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\/EnB,CAlDOE,CAkDP,CA+E4BD,EA\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\/CO,EAASt\/B,CAAAA,OAAT,CAAiB,QAAQ,CAACrO,EAAD,CAASoY,EAAT,CAAiB,CACxC,IAAIi1B,GAAMh5C,IAAKs6B,CAAAA,GAAL,CAAS,CAAT,CAAYvW,EAAZ,CACVwiB,GAAA,CAAU56B,EAAV,CAAkB,QAAQ,CAACtD,EAAD,CAAQ,CAChC6e,EAAA,CAAOnD,EAAP,CAAA,CAAiB1b,EACRwwC,GAAT,EAAkBG,EACdH,GAAJ,GAAeE,EAAf,EACUjC,CArRd,CAtDYZ,CAsDZ,CAqR4BhvB,EArR5B,CAiRoC,CAAlC,CAFwC,CAA1C,CAUA,OAAO,SAAQ,CAAC3O,EAAD,CAAUu9B,EAAV,CAAwB,CACrC,OAAQv9B,EAAR,EACE,KAhVUw9B,CAgVV,CAIE,MAHI8C,GA\/RH,GA+RcE,EA\/Rd,EAgSCjD,EAAA,CAAa5uB,EAAb,CAhSD,CAkSgB4vB,CAlShB,CAlDOf,CAkDP,CAkS8BD,EAlS9B,CAmSH,MApVMM,CAoVN,CACeU,CA9RnB,CAvDUV,CAuDV,CA8RM,MACF,SACE,KAAUl3C,MAAJ,CAAU,sBAAV,CAAmCqZ,EAAnC,CAAN,CATJ,CADqC,CAlBhB,CAgCzBghC,QAASA,GAAM,CAACzwC,CAAD,CAAc0W,CAAd,CAA4Bg6B,CAA5B,CAAmC,CAC3B,IAAK,EAA1B,GAAIh6B,CAAJ,GACEA,CADF,CACiB,EADjB,CAKWi6B,EAAAA,CAAiBA,CAFP,IAAK,EAAfC;AAAAF,CAAAE,CAAmB,CAC5BD,UAAW,CAAA,CADiB,CAAnBC,CAEPF,CAAwBC,EAAAA,SAC5B,OAAO,CACLxxB,GAOK3a,MAAA,EARA,CAELxE,YAAAA,CAFK,CAGL0W,aAAAA,CAHK,CAILi6B,UAAAA,CAJK,CAPyC,CAiBlDE,QAASA,GAAI,CAACC,CAAD,CAAa,CACxB,IAAIC,EAA6B,IAAI3vC,GAcrC,OAbY4vC,SAASC,GAAM,CAACC,EAAD,CAAQ,CAAA,IAC7BlmB,GAAMkmB,EAAM\/xB,CAAAA,EADiB,CACbnf,GAAckxC,EAAMlxC,CAAAA,WADP,CACoB0W,GAAew6B,EAAMx6B,CAAAA,YAC1E,KADwFi6B,EACxF,CADoGO,EAAMP,CAAAA,SAC1G,GAAiBI,CAAWj6B,CAAAA,GAAX,CAAekU,EAAf,CAAjB,CACE,MAAO+lB,EAAWznC,CAAAA,GAAX,CAAe0hB,EAAf,CAELmmB,GAAAA,CAAUnxC,EAAA,CAAY0W,EAAa5Z,CAAAA,GAAb,CAAiB,QAAQ,CAACjB,EAAD,CAAI,CACrD,MAAOo1C,GAAA,CAAOp1C,EAAP,CAD8C,CAA7B,CAAZ,CAGV80C,GAAJ,EACEI,CAAWvqC,CAAAA,GAAX,CAAewkB,EAAf,CAAoBmmB,EAApB,CAEF,OAAOA,GAX0B,CAa5B,CAAML,CAAN,CAfiB,CAmB1BM,QAASA,GAA8B,CAACvuC,CAAD,CAAS60B,CAAT,CAAmB,CACxD,GAAc,IAAd,EAAI70B,CAAJ,CACE,MAAO,EACT,KAAIZ,EAAS,EAAb,CACIw1B,GAAa93B,MAAO6B,CAAAA,IAAP,CAAYqB,CAAZ,CADjB,CAES7K,EACT,KAAKA,EAAL,CAAU,CAAV,CAAaA,EAAb,CAAkBy\/B,EAAWx\/B,CAAAA,MAA7B,CAAqCD,EAAA,EAArC,CAA2C,CACzC,IAAAsK,GAAMm1B,EAAA,CAAWz\/B,EAAX,CACuB,EAA7B,EAAI0\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\/ZR,CA+Z2BD,EAAMvyC,CAAAA,KA\/ZjC,CAAA,GAgakB4xC,EAAA\/C,CAAQh3B,CAAK46B,CAAAA,QAAL,CAAcD,EAAd,CAAR3D,CAhalB,EAtDYhB,CAsDZ,CAiaqBhrC,EAAA7C,CAAMwyC,EAANxyC,CAjarB,CAmaE,KAAS0yC,EAAT,CAAsBV,EAAA,CAAiCW,EAAjC,CAAtB,CAAmF,CAAyBttC,CAAvButC,EAAuBvtC,CAAdqtC,EAAA,EAAcrtC,EAAAA,IAA5G,CAAA,CAEE,GADIwtC,EACA,CADmBD,EAAO5yC,CAAAA,KAC1B,CAAA6yC,EAAA,GAAoBhwC,GAAxB,CAraJ,GAsaoB+uC,EAAAkB,CAAQj7B,CAAKk7B,CAAAA,QAAL,CAAcF,EAAd,CAARC,CAtapB,EAtDYjF,CAsDZ,CAuauBhrC,EAAA7C,CAAM6yC,EAAN7yC,CAvavB,CA0aM4xC,GAAA,CAAA,UAAJ,EA1aF,GA2aYA,EAAAhE,CAAAA,UA3aZ,EAtDYC,CAsDZ,CA2amC7tC,CAAAA,CA3anC,CA0Z4C,CAoB5CgzC,QAASA,GAAY,CAACpB,EAAD,CAAU,CAC7B,MAAOqB,GAAYr1C,CAAAA,MAAZ,CAAmB,QAAQ,CAACE,EAAD,CAAMo1C,EAAN,CAAkB,CAClDp1C,EAAA,CAAIo1C,EAAJ,CAAA,CAAkB,QAAQ,CAAClzC,EAAD,CAAQ,CAhbtC,GAiboB4xC,EAAA\/C,CAAQh3B,CAAKs7B,CAAAA,OAAL,CAAaD,EAAb,CAARrE,CAjbpB,EAtDYhB,CAsDZ,CAkbuB7tC,EAlbvB,CAgbsC,CAIlC,OAAOlC,GAL2C,CAA7C,CAMJ,EANI,CADsB,CAS\/Bs1C,QAASA,GAAkB,CAACxB,EAAD,CAAU,CACnC,MAAOyB,GAAWz1C,CAAAA,MAAX,CAAkB,QAAQ,CAACq7B,EAAD,CAAWqa,EAAX,CAAsB,CACrDra,EAAA,CAASqa,EAAT,CAAA,CAAsB5E,EAAA,CAAakD,EAAA,CAAQ\/5B,CAAKyU,CAAAA,MAAL,CAAYgnB,EAAZ,CAAR,CAAb,CACtB,OAAOra,GAF8C,CAAhD,CAGJ,EAHI,CAD4B,CAlCrC,IAAIqZ,GAAoBlyC,MAAO6B,CAAAA,IAAP,CAAY4V,CAAK46B,CAAAA,QAAjB,EAA6B,EAA7B,CAAxB,CACIE,GAAoBvyC,MAAO6B,CAAAA,IAAP,CAAY4V,CAAKk7B,CAAAA,QAAjB,EAA6B,EAA7B,CADxB,CAEIE,GAAc7yC,MAAO6B,CAAAA,IAAP,CAAY4V,CAAKs7B,CAAAA,OAAjB;AAA4B,EAA5B,CAFlB,CAGIE,GAAajzC,MAAO6B,CAAAA,IAAP,CAAY4V,CAAKyU,CAAAA,MAAjB,EAA2B,EAA3B,CAHjB,CAIIinB,GAAU,GAAIC,EAAe5nB,CAAAA,aAAnB,EAAkC,EAAlC,CAsFd,OAAO,CACL6nB,UAnDcA,GAAID,EAAepO,CAAAA,UAAnBqO,EAA+B,QAAQ,CAACC,EAAD,CAAoBvoC,EAApB,CAAyB,CAAA,IAC1E66B,GAAW0N,EAAkB1N,CAAAA,QAD6C,CACnCnjC,GAAQgvC,EAAA,CAA+B6B,EAA\/B,CAAkDC,EAAlD,CAD2B,CAM1E\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\/ed,CAlDOoqC,CAkDP,CA+esBnyB,EA\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\/yC,GAAA,CAAG,CAAEgzC,UAAWj\/C,IAAKC,CAAAA,GAAL,CADsDE,EAAAsE,CAAKtE,EAAG8+C,CAAAA,SAARx6C,CAAoBI,EAAA,CAAK4C,MAAOy3C,CAAAA,WAAZ,EAA2B\/vB,QAASgwB,CAAAA,eAAgBF,CAAAA,SAApD,CAAgE77C,EAAG67C,CAAAA,SAC7I,CAAa,CAAb,CAAb,CAA8BG,aAD4Ij\/C,EAAAk\/C,CAAKl\/C,EAAGi\/C,CAAAA,YAARC,CAAuBx6C,EAAA,CAAKsqB,QAASgwB,CAAAA,eAAgBC,CAAAA,YAA9B,CAA6Ch8C,EAAGg8C,CAAAA,YACjP,CAAgDE,eADoNn\/C,EAAA+C,CAAK\/C,EAAGo\/C,CAAAA,YAARr8C,CAAuB2B,EAAA,CAAK4C,MAAO+3C,CAAAA,WAAZ,CAA0Bp8C,EAAGm8C,CAAAA,YACxT,CAAH,CAA0E,KAAA,EAAQz+C,EAAR,EAAcA,EAAA,CAAG,QAAQ,CAACo8C,EAAD,CAAKC,EAAL,CAASS,EAAT,CAAa,CAC9G,MAAO,QAAA,GAAaT,EAAb,EAAmB,IAAnB,EAA2BA,EAA3B,EAAiCA,EAAGlnB,CAAAA,QAAH,CAAY,IAAZ,CAAjC,EAAsD2nB,EAAA,CAAG,mDAAH,CAAwDT,EAAxD,CAA4Dp9C,EAAE0\/C,CAAAA,IAA9D,CAAtD;AAA2H,QAAA,GAAatC,EAAb,CAAkB,CAAlB,CAAsBpqB,QAAA,CAAS,IAAA,EAAQoqB,EAAR,CAAaA,EAAb,CAAkB,GAA3B,CAAgC,EAAhC,CAD1C,CAArB,CAEzF,CAFyF,CAEtFuC,gBAAA,CAAiBtC,EAAjB,CAAqBuC,CAAAA,MAFiE,CAEzDx8C,EAFyD,CAAH,CAEhD,KAAA,GAASqT,EAAT,EAAe7R,CAAA,CAAE6R,EAAF,CArBnC,CAAf,CAsBJ3J,CAtBI,CAD4B,CAyBrC\/M,QAASA,GAAC,CAAC6E,CAAD,CAAIgB,CAAJ,CAAO,CACf,MAAO3F,KAAK4\/C,CAAAA,KAAL,CAAWj7C,CAAEguB,CAAAA,qBAAF,EAAA,CAA0BhtB,CAA1B,CAAX,CADQ,CAMjBk6C,QAASA,GAAC,CAACl7C,CAAD,CAAIkI,CAAJ,CAAQZ,CAAR,CAAYuK,EAAZ,CAAgBpT,EAAhB,CAAoB,CAC5B,IAAK,EAAL,GAAWoT,EAAX,GAAkBA,EAAlB,CAAuBo\/B,EAAvB,CAD4B,KAExBnxC,GAAK,GAAI64C,EAAe7oB,CAAAA,MAAnB,EAA2B,IAA3B,CAFmB,CAEe4qB,GAAK,GAAI\/B,EAAe7oB,CAAAA,MAAnB,EAA2B,IAA3B,CAFpB,CAEsDvxB,GAAK,GAAIo6C,EAAe7oB,CAAAA,MAAnB,EAA2B,IAA3B,CAF3D,CAE6F5d,GAAK,GAAIymC,EAAe7oB,CAAAA,MAAnB,EAA2B,CAAA,CAA3B,CAFlG,CAEqI5uB,GAAK,GAAIy3C,EAAe7mB,CAAAA,WAAnB,EAAgC,QAAQ,CAAC9wB,EAAD,CAAI,CAC5MyG,EAAAA,CAAKzG,EAAEoF,CAAAA,MADqM,KAC7L5H,GAAKiJ,EAALjJ,GAAYsE,MAAZtE,EAAsBiJ,EAAtBjJ,GAA6BgsB,QADgK,CACtJruB,GAAKqC,EAAA,CAAKsE,MAAOy3C,CAAAA,WAAZ,EAA2B\/vB,QAASgwB,CAAAA,eAAgBF,CAAAA,SAApD,CAAgE7yC,EAAG6yC,CAAAA,SAD8E,CACnE9+C,GAAKgD,EAAA,CAAKgsB,QAASgwB,CAAAA,eAAgBC,CAAAA,YAA9B;AAA6ChzC,EAAGgzC,CAAAA,YADc,CACApB,GAAK76C,EAAA,CAAKsE,MAAO+3C,CAAAA,WAAZ,CAA0BpzC,EAAGmzC,CAAAA,YAAcnB,GAAAA,CAAKA,QAAQ,EAAG,CAC9Qz5C,CAAA,CAAE,CAAEs6C,UAAWj\/C,IAAKC,CAAAA,GAAL,CAASa,EAAT,CAAa,CAAb,CAAb,CAA8Bs+C,aAAcj\/C,EAA5C,CAAgDm\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\/C,aAAct+C,EAA\/B,CAAmCw+C,eAAgBn8C,EAAnD,CAAF,CAAA,CAA4D,KAAM66C,EAAN,EAAYnxC,CAAA,CAAG,CAAA,CAAH,CAAZ,CACrEmxC,GAAA,EAAMqB,EAAGjqB,CAAAA,OAAH,CAAazvB,EAAEsrB,CAAAA,GAAf,CAAoB\/tB,EAAGkyB,CAAAA,OAAvB,EAAkChC,YAAA,CAAalwB,EAAGkyB,CAAAA,OAAhB,CAAlC,CAA4DlyB,EAAGkyB,CAAAA,OAA\/D,CAAyE3Y,UAAA,CAAW,QAAQ,EAAG,CACnGvZ,EAAGkyB,CAAAA,OAAH,CAAa,IAAMiqB,GAAGjqB,CAAAA,OAAH,CAAa,IAAMvoB,EAAA,CAAG,CAAA,CAAH,CAD6D,CAAtB,CAE5E,GAF4E,CAA\/E,EAEWwyC,EAAGjqB,CAAAA,OAFd,CAEwB,IAAMhpB,GAAGi0C,CAAAA,QAAH,CAAY16C,EAAZ,CAN8B,CAF\/B,CAFP,CAbE,CAoC9B26C,QAASA,GAAC,CAAC37C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAWZ,EAAX,CAAe9I,EAAf,CAAmB,CAC3B,MAAO,KAAK,EAAL,GAAW8I,EAAX,GAAkBA,EAAlB,CAAuBs0C,EAAvB,EAA2B,IAAK,EAAhC,GAAsCp9C,EAAtC,GAA6CA,EAA7C,CAAkDo9C,EAAlD,EAAsD,CAAEC,EAAG77C,CAAL,CAAQ87C,EAAG96C,CAAX,CAAc+6C,IAAK7zC,CAAnB,CAAuB8zC,EAAG10C,EAA1B,CAA8B20C,EAAGz9C,EAAjC,CADlC,CAS7B09C,QAASA,GAAC,CAACl8C,CAAD,CAAIgB,CAAJ,CAAO,CACf,GAAMhB,CAAN,GANa47C,EAMb,CACE,MAAOA,GAFM,KAGX1zC,EAAKlI,CAAE67C,CAAAA,CAHI,CAGDv0C,GAAKtH,CAAEg8C,CAAAA,CAHN,CAGSx9C,GAAKwB,CAAEi8C,CAAAA,CAC\/B,IAAIj7C,CAAJ,GAAUkH,CAAV,CAAc,CACZ,GAAMZ,EAAN,GAVWs0C,EAUX,CACE,MAAOp9C,GACT,IAAMA,EAAN,GAZWo9C,EAYX,CACE,MAAOt0C,GACLnL;CAAAA,CAAKggD,EAAA,CAAE70C,EAAF,CACT,OAAO80C,GAAA,CAAEC,EAAA,CAAEr8C,CAAF,CAAK,CAAE67C,EAAG1\/C,CAAA,CAAG,CAAH,CAAL,CAAY2\/C,EAAG3\/C,CAAA,CAAG,CAAH,CAAf,CAAsB6\/C,EAAGM,EAAA,CAAEh1C,EAAF,CAAzB,CAAL,CAAF,CANK,CAQd,MAAO80C,GAAA,CAAEC,EAAA,CAAEr8C,CAAF,CAAKgB,CAAA,CAAIkH,CAAJ,CAAS,CAAE8zC,EAAGE,EAAA,CAAE50C,EAAF,CAAMtG,CAAN,CAAL,CAAT,CAA2B,CAAEi7C,EAAGC,EAAA,CAAE19C,EAAF,CAAMwC,CAAN,CAAL,CAAhC,CAAF,CAZQ,CAcjB66C,QAASA,GAAC,CAAC77C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAW,CACnB,MAAA,CAAI,IAAK,EAAL,GAAWA,CAAX,GAAkBA,CAAlB,CAAuB,GAAvB,EAA+BlI,CAA\/B,GApBS47C,EAoBb,EACS,CAAC,CAAC5\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\/6C,CAAE+6C,CAAAA,GAArB,CAA2B\/7C,CAAE+7C,CAAAA,GAAvF,CAA4F,IAAK,EAAL,GAAW\/6C,CAAEg7C,CAAAA,CAAb,CAAiBh7C,CAAEg7C,CAAAA,CAAnB,CAAuBh8C,CAAEg8C,CAAAA,CAArH,CAAwH,IAAK,EAAL,GAAWh7C,CAAEi7C,CAAAA,CAAb,CAAiBj7C,CAAEi7C,CAAAA,CAAnB,CAAuBj8C,CAAEi8C,CAAAA,CAAjJ,CADQ,CAGjBW,QAASA,GAAE,CAAC58C,CAAD,CAAI,CACb,MAASA,EAAT,GAtDa47C,EAsDb,EAAe57C,CAAE+7C,CAAAA,GAAjB,CAAuB\/7C,CAAEi8C,CAAAA,CAAEF,CAAAA,GADd,CAGfK,QAASA,GAAC,CAACp8C,CAAD,CAAI,CAAA,IACRgB,EAAIhB,CAAEg8C,CAAAA,CADE,CACC9zC,EAAKlI,CAAEi8C,CAAAA,CADR,CACW30C,GAAKtH,CAAE+7C,CAAAA,GAC9B,IAAI7zC,CAAG6zC,CAAAA,GAAP,EAAcz0C,EAAd,CAAmB,CAAnB,EAAwBtG,CAAE+6C,CAAAA,GAA1B,EAAiCz0C,EAAjC,CAAsC,CAAtC,CACE,MAAOtH,EACT,IAAIsH,EAAJ,CAASY,CAAG6zC,CAAAA,GAAZ,CAAkB,CAAlB,CAAqB,CACnB,GAAIa,EAAA,CAAG57C,CAAH,CAAJ,CACE,MAAOy7C,GAAA,CAAEJ,EAAA,CAAEr8C,CAAF;AAAK,CAAE+7C,IAAKz0C,EAALy0C,CAAU,CAAZ,CAAL,CAAF,CACT,IAAM\/6C,CAAN,GA\/DW46C,EA+DX,EAAc56C,CAAEi7C,CAAAA,CAAhB,GA\/DWL,EA+DX,CACE,KAAUrhD,MAAJ,CAAU,wBAAV,CAAN,CACF,MAAO8hD,GAAA,CAAEr7C,CAAEi7C,CAAAA,CAAJ,CAAO,CAAED,EAAGK,EAAA,CAAEr7C,CAAF,CAAK,CAAEi7C,EAAGj7C,CAAEi7C,CAAAA,CAAED,CAAAA,CAAT,CAAL,CAAL,CAAyBC,EAAGI,EAAA,CAAEr8C,CAAF,CAAK,CAAEg8C,EAAGh7C,CAAEi7C,CAAAA,CAAEA,CAAAA,CAAT,CAAYF,IAAKz0C,EAALy0C,CAAU,CAAtB,CAAL,CAA5B,CAA6DA,IAAKz0C,EAAlE,CAAP,CALY,CAOrB,GAAIs1C,EAAA,CAAG58C,CAAH,CAAJ,CACE,MAAOw8C,GAAA,CAAEH,EAAA,CAAEr8C,CAAF,CAAK,CAAE+7C,IAAKz0C,EAALy0C,CAAU,CAAZ,CAAL,CAAF,CACT,IAAM7zC,CAAN,GArEa0zC,EAqEb,EAAe1zC,CAAG8zC,CAAAA,CAAlB,GArEaJ,EAqEb,CACE,KAAUrhD,MAAJ,CAAU,wBAAV,CAAN,CACEiE,CAAAA,CAAK0J,CAAG8zC,CAAAA,CAAZ,KAAe7\/C,GAAKygD,EAAA,CAAGp+C,CAAH,CAAA,CAAS0J,CAAG6zC,CAAAA,GAAZ,CAAkB,CAAlB,CAAsB7zC,CAAG6zC,CAAAA,GAC7C,OAAOM,GAAA,CAAE79C,CAAF,CAAM,CAAEw9C,EAAGK,EAAA,CAAEr8C,CAAF,CAAK,CAAEi8C,EAAGz9C,CAAGw9C,CAAAA,CAAR,CAAWD,IAAKz0C,EAALy0C,CAAU,CAArB,CAAL,CAAL,CAAqCE,EAAGO,EAAA,CAAEH,EAAA,CAAEn0C,CAAF,CAAM,CAAE8zC,EAAGx9C,CAAGy9C,CAAAA,CAAR,CAAWF,IAAK5\/C,EAAhB,CAAN,CAAF,CAAxC,CAAwE4\/C,IAAKv9C,CAAGu9C,CAAAA,GAARA,CAAc,CAAtF,CAAN,CAhBK,CAkBdc,QAASA,GAAC,CAAC78C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAW,CACnB,MAASlI,EAAF,GA3EM47C,EA2EN,CAAO,EAAP,CAAYkB,EAAA,CAAEJ,EAAA,CAAE18C,CAAF,CAAK67C,EAAA,CAAE77C,CAAF,CAAKgB,CAAL,CAAA,CAAQ,CAAR,CAAL,CAAiBkH,CAAjB,CAAF,CAAwB,QAAQ,CAACqwC,EAAD,CAAK,CACtD,MAAO,CAAEiB,MAAOjB,EAAGsD,CAAAA,CAAZ,CAAen4C,MAAO60C,EAAGuD,CAAAA,CAAzB,CAD+C,CAArC,CADA,CAKrBgB,QAASA,GAAC,CAAC98C,CAAD,CAAIgB,CAAJ,CAAO,CACf,IAAIkH,EAAKlI,CAAE5D,CAAAA,MACX,IAAI,CAAJ,GAAU8L,CAAV,CACE,MAAO,EAHM,KAINZ;AAAKtG,CAAA,CAAEhB,CAAA,CAAE,CAAF,CAAF,CAJC,CAIQxB,GAAK8I,EAAGkyC,CAAAA,KAAOr9C,GAAAA,CAAKmL,EAAG5D,CAAAA,KAA9C,KAJe,IAIsClI,GAAK,EAJ3C,CAI+CqW,GAAK,CAAnE,CAAsEA,EAAtE,CAA2E3J,CAA3E,CAA+E2J,EAAA,EAA\/E,CAAqF,CAAA,IAC\/EpT,GAAKuC,CAAA,CAAEhB,CAAA,CAAE6R,EAAF,CAAF,CAD0E,CAChE3R,GAAKzB,EAAG+6C,CAAAA,KAAO15C,GAAAA,CAAKrB,EAAGiF,CAAAA,KAC1ClI,GAAGgB,CAAAA,IAAH,CAAQ,CAAEgoB,MAAOhmB,EAAT,CAAaimB,IAAKvkB,EAALukB,CAAU,CAAvB,CAA0B\/gB,MAAOvH,EAAjC,CAAR,CAAgDqC,GAAA,CAAK0B,EAAI\/D,GAAA,CAAK2D,EAFqB,CAIrF,MAAOtE,GAAGgB,CAAAA,IAAH,CAAQ,CAAEgoB,MAAOhmB,EAAT,CAAaimB,IAAKzoB,QAAlB,CAA4B0H,MAAOvH,EAAnC,CAAR,CAAA,CAAkDX,EAR1C,CAUjBghD,QAASA,GAAC,CAACx8C,CAAD,CAAI,CAAA,IACRgB,EAAIhB,CAAEi8C,CAAAA,CADE,CACC\/zC,EAAKlI,CAAE+7C,CAAAA,GACpB,OAAS\/6C,EAAF,GA3FM46C,EA2FN,EAAU56C,CAAEi7C,CAAAA,CAAZ,GA3FML,EA2FN,EAAkB56C,CAAE+6C,CAAAA,GAApB,GAA4B7zC,CAA5B,EAAkClH,CAAEi7C,CAAAA,CAAEF,CAAAA,GAAtC,GAA8C7zC,CAA9C,CAAmDlI,CAAnD,CAAuDq8C,EAAA,CAAEr7C,CAAF,CAAK,CAAEg7C,EAAGK,EAAA,CAAEr8C,CAAF,CAAK,CAAEi8C,EAAGj7C,CAAEg7C,CAAAA,CAAP,CAAL,CAAL,CAAuBD,IAAK7zC,CAAL6zC,CAAU,CAAjC,CAAL,CAFlD,CAIdU,QAASA,GAAC,CAACz8C,CAAD,CAAI,CACZ,IAAIgB,EAAIhB,CAAEg8C,CAAAA,CACV,OAASh7C,EAAF,GA\/FM46C,EA+FN,EAAQ56C,CAAE+6C,CAAAA,GAAV,GAAkB\/7C,CAAE+7C,CAAAA,GAApB,CAA0B\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\/B,CAAR,CAAgE,CAAlB\/E,EAAkB,CAAb+E,CAAa,CAAA1F,EAAA,CAAK6hD,EAEvE,OAAO,CAAEE,WAAY\/+C,CAAd,CAAkBg\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\/C,EAA5B,CAAgCi\/C,UAAW9C,CAAG8C,CAAAA,SAA9C,CAAyDC,WAAY\/C,CAAG+C,CAAAA,UAAxE,CAAoFC,SAAUhD,CAAGgD,CAAAA,QAAjG,CAA2GO,gBAAiB32C,EAAGhG,CAAAA,MAAH,CAAU,QAAQ,CAACi3C,EAAD,CAAKC,EAAL,CAAS,CAC5J,MAAO+D,GAAA,CAAEhE,EAAF,CAAMC,EAAN,CAAU0F,EAAA,CAAE1F,EAAF,CAAMj6C,EAAN,CAAUC,EAAV,CAAV,CADqJ,CAA3B,CAtL5Ho9C,EAsL4H,CAA5H,CAEEuC,aAAc72C,EAFhB,CAjCQ,CAqCjB42C,QAASA,GAAC,CAACl+C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAW,CACnB,GAAI,CAAJ,GAAUlH,CAAE5E,CAAAA,MAAZ,CACE,MAAO,EACLkL,EAAAA,CAAOtG,CA5EJ,CAAE+7C,EAAA,CA4EE\/7C,CA5EF,CA4EKhB,CA5EL,CA4EQi9C,EA5ER,CAAF,CA4EmBj9C,EAALxB,EAAS8I,CAAGkyC,CAAAA,KAAOr9C,EAAAA,CAAKmL,CAAGtK,CAAAA,IAARb,CAAeqC,CAAfrC,EAAqBqC,CAArBrC,CAA0B,CAA1BA,EAA+B+L,CAA\/B\/L,CAAoCmL,CAAG3M,CAAAA,MAC\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\/C,CAAAA,IAAhB,CAAuBh\/C,CAAEi\/C,CAAAA,OAArC,CAA+C,QAAA,GAAaj+C,CAAb,CAAiBhB,CAAEg\/C,CAAAA,IAAnB,CAA0Bh\/C,CAAEi\/C,CAAAA,OAD3J,CAgBtBC,QAASA,GAAE,CAACl\/C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAW,CACpB,GAAI,CAAJ,GAAUlI,CAAE5D,CAAAA,MAAZ,CACE,MAAO,EACT,IAAQ4E,CAhQIi9C,CAAAA,eAgQZ,GAndarC,EAmdb,CACE,MAAO57C,EAAEiB,CAAAA,GAAF,CAAM,QAAQ,CAACs3C,EAAD,CAAK,CACxB,MAAOJ,GAAA,CAAE,EAAF;AAAMI,EAAN,CAAU,CAAEiB,MAAOjB,EAAGiB,CAAAA,KAAVA,CAAkBtxC,CAApB,CAAwBi3C,cAAe5G,EAAGiB,CAAAA,KAA1C,CAAV,CADiB,CAAnB,CAJW,KAOXlyC,EAPW,CAOP9I,GAAK,EAPE,CAOErC,GAAK0gD,EAAA,CAAE77C,CAAEi9C,CAAAA,eAAJ,CAAqBj+C,CAAA,CAAE,CAAF,CAAKw5C,CAAAA,KAA1B,CAAiCx5C,CAAA,CAAEA,CAAE5D,CAAAA,MAAJ,CAAa,CAAb,CAAgBo9C,CAAAA,KAAjD,CAPP,CAOgEh+C,GAAK,IAAK,EAP1E,CAO6EqW,GAAK,CAAtG,KAAyGpT,CAAzG,CAA8G65C,EAAA,CAAEt4C,CAAF,CAA9G,CAAoH,CAAa+I,CAAXzB,EAAWyB,CAANtK,CAAA,EAAMsK,EAAAA,IAAjI,CAAA,CACM7I,EACoF,CAD\/EoH,EAAG5D,CAAAA,KAC4E,EAAvF,CAAClI,EAAsF,EAAhFA,EAAGipB,CAAAA,GAA6E,CAAvEvkB,EAAGs5C,CAAAA,KAAoE,IAAzDh+C,EAAA,CAAKW,EAAGijD,CAAAA,KAAH,EAAL,CAAiBvtC,EAAjB,CAAsB7Q,CAAEm9C,CAAAA,YAAa\/gC,CAAAA,OAAf,CAAuB5hB,EAAGgpB,CAAAA,KAA1B,CAAmC,EAAAhmB,EAAGhC,CAAAA,IAAH,CAAQ27C,EAAA,CAAE,EAAF,CAAMj4C,EAAGs5C,CAAAA,KAAH,GAAah+C,EAAGgpB,CAAAA,KAAhB,CAAwB,CAAEhH,KAAM,OAAR,CAAiBg8B,MAAO3nC,EAAxB,CAAxB,CAAuD,CAAE2nC,MAAOt5C,EAAGs5C,CAAAA,KAAVA,EAAmB3nC,EAAnB2nC,CAAwB,CAAxBA,EAA6BtxC,CAA\/B,CAAmCm2C,WAAYxsC,EAA\/C,CAA7D,CAAkH,CAAE7U,KAAMkD,EAAGlD,CAAAA,IAAX,CAAiBrC,OAAQuF,EAAGvF,CAAAA,MAA5B,CAAoCwkD,cAAej\/C,EAAGs5C,CAAAA,KAAtD,CAA6D6F,KAAMn\/C,EAAGm\/C,CAAAA,IAAtE,CAAlH,CAAR,CAE1F,OAAO7gD,GAXa,CAatB8gD,QAASA,GAAE,CAACt\/C,CAAD,CAAIgB,CAAJ,CAAOkH,CAAP,CAAWZ,EAAX,CAAe9I,EAAf,CAAmBrC,EAAnB,CAAuB,CAAA,IAC5BX,GAAK,CADuB,CACpBqW,GAAK,CACF,EAAf,CAAI7R,CAAE5D,CAAAA,MAAN,GACEZ,EAEA,CAFKwE,CAAA,CAAE,CAAF,CAAKrF,CAAAA,MAEV,CADI8D,EACJ,CADSuB,CAAA,CAAEA,CAAE5D,CAAAA,MAAJ;AAAa,CAAb,CACT,CAAAyV,EAAA,CAAKpT,EAAG9D,CAAAA,MAAR,CAAiB8D,EAAGzB,CAAAA,IAHtB,CAFgC,KAO5BkD,GAAKgI,CAALhI,CAAU1B,EAAGg\/C,CAAAA,SAPe,CAOJ19C,GAAKtE,EAAIk\/C,GAAAA,CAAKl8C,EAAGi\/C,CAAAA,UAAR\/C,CAAqBx6C,EAArBw6C,CAA0Bl8C,EAAGk\/C,CAAAA,QAA7BhD,EAAyCx6C,EAAzCw6C,CAA8C,CAA9CA,EAAmDpzC,EAAnDozC,CAAwD7oC,EAC7F,OAAO,CAAE0tC,MAAOL,EAAA,CAAGl\/C,CAAH,CAAMxB,EAAN,CAAUrC,EAAV,CAAT,CAAwBqjD,SAAUN,EAAA,CAAGl+C,CAAH,CAAMxC,EAAN,CAAUrC,EAAV,CAAlC,CAAiDsjD,cAAez+C,CAAEM,CAAAA,MAAF,CAAS,QAAQ,CAACi3C,EAAD,CAAKC,EAAL,CAAS,CAC\/F,MAAOA,GAAGx7C,CAAAA,IAAV,CAAiBu7C,EAD8E,CAA1B,CAEpE,CAFoE,CAAhE,CAEAmH,UAAWlkD,EAFX,CAEemkD,aAAcjF,EAF7B,CAEiCpuB,IAAKxsB,EAFtC,CAE0C8\/C,OAAQ\/tC,EAFlD,CAEsD8sC,WAAYz2C,CAFlE,CAEsE23C,eAAgB1jD,EAFtF,CARyB,CA+IlC2jD,QAASA,GAAE,CAAC9\/C,CAAD,CAAI,CAAA,IACTgB,CADS,CACNkH,EAAK,CAAA,CACZ,OAAO,SAAQ,EAAG,CAChB,MAAOA,EAAA,GAAOA,CAAA,CAAK,CAAA,CAAL,CAAWlH,CAAX,CAAehB,CAAA,EAAtB,EAA4BgB,CADnB,CAFL,CA0Gf++C,QAASA,GAAE,CAAC\/\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\/C,CAAT,CAAe6\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\/C,CAAR,CAAeC,CAAf,CAAqB,CAC\/B,GAAqB,QAArB,GAAI,MAAOt\/C,EAAX,EAAkD,QAAlD,GAAiC,MAAOq\/C,EAAxC,EAA8E,QAA9E,GAA8D,MAAOC,EAArE,CACE,MAAOyC,GAAA,CAAiB,GAAjB,CAAuBH,EAAA,CAAY5hD,CAAZ,CAAvB,CAA4C4hD,EAAA,CAAYvC,CAAZ,CAA5C,CAAiEuC,EAAA,CAAYtC,CAAZ,CAAjE,CACF,IAAqB,QAArB,GAAI,MAAOt\/C,EAAX,EAA2C,IAAK,EAAhD,GAAiCq\/C,CAAjC,EAA8D,IAAK,EAAnE,GAAqDC,CAArD,CACL,MAAOyC,GAAA,CAAiB,GAAjB,CAAuBH,EAAA,CAAY5hD,CAAMo\/C,CAAAA,GAAlB,CAAvB,CAAgDwC,EAAA,CAAY5hD,CAAMq\/C,CAAAA,KAAlB,CAAhD,CAA2EuC,EAAA,CAAY5hD,CAAMs\/C,CAAAA,IAAlB,CAA3E,CAET,MAAM,KAAIW,EAAJ,CAAkB,CAAlB,CAAN,CAN+B,CA+BjCgC,QAASA,GAAa,CAACt6B,CAAD,CAAQ,CAC5B,GAAqB,QAArB,GAAI,MAAOA,EAAX,CACE,KAAM,KAAIs4B,EAAJ,CAAkB,CAAlB,CAAN,CACF,GAX4B,QAW5B,GAXO,MAWIt4B,EAXSy3B,CAAAA,GAWpB,EAX+D,QAW\/D,GAXwC,MAW7Bz3B,EAX0C03B,CAAAA,KAWrD,EAXiG,QAWjG,GAX2E,MAWhE13B,EAX6E23B,CAAAA,IAWxF,EAXoI,QAWpI,GAX6G,MAWlG33B,EAX+G64B,CAAAA,KAW1H,CACE,CArBK,GAA0B,QAA1B,GAAI,MAqBG74B,EArBP,CACL,CAAA,CAA2B,CAApB,EAoBKA,CApBM64B,CAAAA,KAAX,CAAwBwB,EAAA,CAoBnBr6B,CApBkCy3B,CAAAA,GAAf,CAoBnBz3B,CApBkD03B,CAAAA,KAA\/B,CAoBnB13B,CApBoE23B,CAAAA,IAAjD,CAAxB,CAAiF,OAAjF,CAoBK33B,CApBiGy3B,CAAAA,GAAtG,CAA4G,GAA5G,CAoBKz3B,CApBwH03B,CAAAA,KAA7H;AAAqI,GAArI,CAoBK13B,CApBiJ23B,CAAAA,IAAtJ,CAA6J,GAA7J,CAoBK33B,CApByK64B,CAAAA,KAA9K,CAAsL,GADxL,KAGP,MAAM,KAAIP,EAAJ,CAAkB,CAAlB,CAAN,CAkBE,MAAO,EAAP,CACF,GAhB4B,QAgB5B,GAhBO,MAgBGt4B,EAhBUy3B,CAAAA,GAgBpB,EAhB+D,QAgB\/D,GAhBwC,MAgB9Bz3B,EAhB2C03B,CAAAA,KAgBrD,EAhBiG,QAgBjG,GAhB2E,MAgBjE13B,EAhB8E23B,CAAAA,IAgBxF,GAhBqI,QAgBrI,GAhB8G,MAgBpG33B,EAhBiH64B,CAAAA,KAgB3H,EAhBwK,WAgBxK,GAhBiJ,MAgBvI74B,EAhBoJ64B,CAAAA,KAgB9J,EACE,MAAOwB,GAAA,CAAIr6B,CAAJ,CACT,IAT4B,QAS5B,GATO,MASIA,EATS63B,CAAAA,GASpB,EAToE,QASpE,GATwC,MAS7B73B,EAT0C83B,CAAAA,UASrD,EAT2G,QAS3G,GATgF,MASrE93B,EATkF+3B,CAAAA,SAS7F,EAT8I,QAS9I,GATuH,MAS5G\/3B,EATyH64B,CAAAA,KASpI,CACE,CA5CK,GAAqB,QAArB,GAAI,MA4CG74B,EA5CP,CACL,CAAA,CAAsB,CAAf,EA2CKA,CA3CC64B,CAAAA,KAAN,CAdFjB,EAAA,CAyDO53B,CA3C6B63B,CAAAA,GAdpC,CAyDO73B,CA3CwC83B,CAAAA,UAd\/C,CAyDO93B,CA3C0D+3B,CAAAA,SAdjE,CAAqCoC,EAArC,CAcE,CAA4E,OAA5E,CAAsFvC,EAAA,CA2CjF53B,CA3CgG63B,CAAAA,GAAf,CA2CjF73B,CA3C2G83B,CAAAA,UAA1B,CA2CjF93B,CA3C6H+3B,CAAAA,SAA5C,CAAtF,CAA+I,GAA\/I,CA2CK\/3B,CA3CsJ64B,CAAAA,KAA3J,CAAmK,GADrK,KAGP,MAAM,KAAIP,EAAJ,CAAkB,CAAlB,CAAN,CAyCE,MAAO,EAAP,CACF,GAd4B,QAc5B;AAdO,MAcGt4B,EAdU63B,CAAAA,GAcpB,EAdoE,QAcpE,GAdwC,MAc9B73B,EAd2C83B,CAAAA,UAcrD,EAd2G,QAc3G,GAdgF,MActE93B,EAdmF+3B,CAAAA,SAc7F,GAd+I,QAc\/I,GAdwH,MAc9G\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\/B,GAAIze,CAAM6\/C,CAAAA,WAAV,GACE7\/C,CAAM6\/C,CAAAA,WADR,CACsB\/qD,IAAKC,CAAAA,GAAL,CAASiL,CAAM6\/C,CAAAA,WAAf,CAA4B,CAA5B,CADtB,CAEsB,KAAK,EAA3B,GAAI7\/C,CAAM6lB,CAAAA,OAAV,GACE7lB,CAAM6lB,CAAAA,OADR,CACkB\/wB,IAAK6uB,CAAAA,GAAL,CAAS,CAAT,CAAY7uB,IAAKC,CAAAA,GAAL,CAASiL,CAAM6lB,CAAAA,OAAf,CAAwB,CAAxB,CAAZ,CADlB,CAEA,KAAI3vB,GAA6B,IAAtB,GAACuoB,CAAD,CAAOze,CAAM9J,CAAAA,IAAb,EAA6BuoB,CAA7B,CAAmCnd,CAAMtB,CAAAA,KAAM9J,CAAAA,IAC7C,KAAK,EAAlB,GAAIA,EAAJ,EAAwB2uB,EAAA,CAAe3uB,EAAf,CAAxB,EAAyD,sCAAzD,GAAgDA,EAAhD,EAAoG8J,CAAM8\/C,CAAAA,MAA1G,EAAoH,CAAAC,EAAe\/6B,CAAAA,QAAf,CAAwB1jB,CAAMtB,CAAAA,KAAMiX,CAAAA,IAApC,CAApH,GACQ+oC,CACN,CADoBC,EAAA,CAAgB,EAAhB,CAAqB\/pD,EAArB,CACpB,CAAA8J,CAAMkgD,CAAAA,MAAN,CAAeF,CAFjB,CAIA,OAAOhgD,EAXgC,CAgBzCmgD,QAASA,GAAgB,CAAC,CAAE,YAAAN,CAAF,CAAe,KAAAppD,CAAf,CAAqB,KAAA2pD,CAArB,CAAD,CAA8B,CACrD,MAAgB,KAAT,GAAAA,CAAA,CAAiC,GAAIC,EAAqBnc,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC5EhpB,UAAW,sBADiE,CAE5E9lB,EAAGyqD,CAFyE,CAG5ExqD,EAAGwqD,CAHyE,CAI5E9lD,GAAI,CAJwE,CAK5EC,GAAI,CALwE,CAM5ErE,MAAOb,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY0B,CAAA,CAAK,CAAL,CAAZ,CAAoC,CAApC,CAAsBopD,CAAtB,CANqE,CAO5EnqD,OAAQZ,IAAKC,CAAAA,GAAL,CAAS,CAAT;AAAY0B,CAAA,CAAK,CAAL,CAAZ,CAAoC,CAApC,CAAsBopD,CAAtB,CAPoE,CAQ5EA,YAA2B,CAA3BA,CAAaA,CAR+D,CAAtC,CAAjC,CASc,GAAIQ,EAAqBnc,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACxDhpB,UAAW,sBAD6C,CAExDoK,MAAO,CACLQ,SAAU,UADL,CAELE,KAAM,CAFD,CAGLD,IAAK,CAHA,CAILu6B,MAAO,CAJF,CAKLjH,OAAQ,CALH,CAMLkH,UAAW,6BANN,CAOLC,aAAc,CAPT,CAFiD,CAArC,CAVgC,CA8zBvDC,QAASA,GAAkB,EAAG,CAC5B,MAAM1yB,EAAMF,EAAA,EACZ,OAA4B,SAA5B,GAAOE,CAAIkK,CAAAA,MAAOtY,CAAAA,KAAlB,EAA8D,UAA9D,GAAyCoO,CAAIkK,CAAAA,MAAOtY,CAAAA,KAFxB,CA0U9B+gC,QAASA,GAAS,CAAC,CAAE,KAAA16B,CAAF,CAAQ,OAAA26B,CAAR,CAAgB,MAAAL,CAAhB,CAAuB,OAAAJ,EAAvB,CAA+B,YAAAL,EAA\/B,CAAD,CAA+C,CAC\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\/B,CAAuC,CAC\/D\/nB,GAAI6L,CAAJ7L,CAAU,OADqD,CAE\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\/C,EAAA,CAAK,EAArD,CAA0D,iBAAkBr\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\/C,EAA9B,CACE,QACEvD;EAAJ,EACMr\/C,EAIJ,GAHMqM,EACJ,CADSw\/C,EAAA,CAAG,CAAH,CAAMC,EAAN,CAAW5pD,CAAX,CACT,CADyBqqD,EACzB,CAD8BV,EAAA,CAAG,CAAH,CAAM,CAAN,CAAUx\/C,EAAV,CAC9B,CAAAlO,EAAA,CAAK0tD,EAAA,CAAG,CAAH,CAAMF,EAAN,CArBHI,IAqBG,EAAYQ,EAAZ,CAAiBZ,EAAjB,EAAwBt\/C,EAAxB,CAEP,EAAAqwC,EAAA,CAAK0N,EAAA,CAAGloD,CAAH,CAAOm9C,EAAP,CAAWlhD,EAAX,CAAe+L,EAAf,CALP,EAOEwyC,EAPF,CAOOx6C,CAPP,CAOY,CACL,KAAK,EAAZ,GAAA8pD,EAAA,GAAkBA,EAAlB,CAAuBtP,EAAvB,CAZoC,KAahC8P,GAAM5J,EAAA,CAAKtD,EAAL,CAAU+L,EAAA,CAAGzI,EAAH,CAAQtD,EAAR,CAAV,CAAwB,CAbE,CAaCmN,GAAMvpD,EAAA,CAAK0\/C,EAAL,CAAUC,EAAV,CAAe\/gD,EAAA,EAAIoB,EAAJ,CAAS0\/C,EAAT,EAAeC,EAAf,CAAf,CAAoC,CAC\/EnG,GAAA,CAAKr\/C,IAAKC,CAAAA,GAAL,CAAS,GAAT,CAAeo\/C,EAAf,CAAoBr\/C,IAAK6uB,CAAAA,GAAL,CAASsgC,EAAT,CAAcC,EAAd,CAApB,CACDC,GAAAA,CAA8CR,CAAvC1rD,EAAA,CAAKwB,CAAE5D,CAAAA,MAAP,CAAgB,CAAhB,CAAoB4D,CAAA,CAAExB,EAAF,CAAO,CAAP,CAApB,CAAgCwB,CAAA,CAAExB,EAAF,CAAO0rD,EAAAA,MAfd,KAesBS,GAAKnsD,EAAA,CAAKwB,CAAE5D,CAAAA,MAAP,CAAgB,CAAhB,CAAuBqC,EA5DjF,CAAE,CAAF,CA4D0D,CAA2BisD,EA5D9E,CAAE,CAAF,CA4DmD,CAAuBjsD,EA5DnE,CAAE,CAAF,CA4D4C,CAA2BisD,EA5DhE,CAAE,CAAF,CA4DqC,CAAkC,CAAgCE,GAAAA,CAAa,IAAbA,GAAMD,EAANC,EAA0B,CAA1BA,CAAqBD,EACtJ,IADuH,CACvH,CAD6GlsD,EA5DxG,CAAE,CAAF,CA6DL,CADiHwrD,EA5DrG,CAAE,CAAF,CA6DZ,CAD6GxrD,EA5D1F,CAAE,CAAF,CA6DnB,CADiHwrD,EA5DvF,CAAE,CAAF,CA6D1B,EAD4H,CAACK,EAC7H,EAAWM,EAAX,CAAgB,CACVvgD,EAAAA,CAAKm+C,EAAA,CAAGC,EAAA,CAAGwB,EAAH,CAAH,CAAWvP,EAAX,CACT,KAAK,IAAI6P,GAAK,CAALA,CAAS,EAAb,CAAiBzJ,GAAK,CAA3B,CAAoC,CAApC,EAA8BA,EAA9B,CAAuCA,EAAvC,EAA6CyJ,EAA7C,CACEH,EAAkF,CAA7EtB,EAAA,CAAGP,EAAA,CAAGjhD,EAAH,CAAO+C,EAAP,CAAH,CAAe\/C,EAAf,CAAmBujD,EAAnB,CAAwB\/J,EAAxB,CAA6E,CAAhDx2C,CAAG9N,CAAAA,IAAH,CAAQ4tD,EAAR,CAAgD,CAAnCC,EAAmC,CAA9BvB,EAAA,CAAGR,EAAA,CAAGhhD,EAAH,CAAO+C,EAAP,CAAH,CAAe\/C,EAAf,CAAmBujD,EAAnB,CAAwB,CAAC\/J,EAAzB,CAA8B,CAAA4I,EAAGltD,CAAAA,IAAH,CAAQ6tD,EAAR,CACpF\/qB,GAAA,CAAK8qB,EAAID,GAAA,CAAKE,EAAIO,GAAA,GAAQN,EAAR,CAAa,CAAA,CAAb,CAJJ,CAAhB,IAOA,CAAIA,EAAA;AAAK,CAAA,CAAL,CAAY9rD,EAAZ,GAAmBwB,CAAE5D,CAAAA,MAArB,CAA8B,CAAlC,GACMiO,EACiB,CADZm+C,EAAA,CAAGC,EAAA,CAAGhqD,EAAH,CAAH,CAAWi8C,EAAX,CACY,CAArBpwC,CAAG9N,CAAAA,IAAH,CAAQ+rD,EAAA,CAAGjhD,EAAH,CAAO+C,EAAP,CAAR,CAAqB,CAAAq\/C,EAAGltD,CAAAA,IAAH,CAAQ8rD,EAAA,CAAGhhD,EAAH,CAAO+C,EAAP,CAAR,CAFvB,GAKIygD,EAC2J,CADrJtC,EAAA,CAAGC,EAAA,CAAGQ,EAAA,CAAGyB,EAAH,CAAQjsD,EAAR,CAAYksD,EAAZ,CAAH,CAAH,CAAwBjQ,EAAxB,CACqJ,CAA\/J0P,EAA+J,CAA1J7B,EAAA,CAAGjhD,EAAH,CAAOwjD,EAAP,CAA0J,EAAtI,CAAsI,EAA5ItsD,EAA4I,EA9D1JmqD,EAAA,CAAIJ,EAAA,CA8DwBjpB,EA9DxB,CA8D4B8qB,EA9D5B,CAAJ,CA8D0J,CAApHX,EAAoH,IAA3Gn\/C,CAAG9N,CAAAA,IAAH,CAAQ4tD,EAAR,CAAA,CAAa9qB,EAAb,CAAkB8qB,EAAyF,EAApFC,EAAoF,CAA\/E\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\/GC,QAAS5qC,EAAA,CAAE,sBAAF,CADsG,CAE\/Gwc,KAAM,QAFyG,CAG\/GuwB,QAAS,EAAAA,EAAkB,IAAZ,EAAApR,EAAA,CAAmB,IAAK,EAAxB,CAA4BA,EAASyvB,CAAAA,cAAT,CAAwBj9B,CAAxB,CAHoE,CAI\/Gua,SAA0B,GAAIqiB,EAAqBthB,CAAAA,GAAzB,EAA8B8C,EAA9B;AAA0C,CAClE\/oC,KAAM,cAD4D,CAA1C,CAJqF,CAAtC,CAXnE,CAmBQ,GAAIunD,EAAqBthB,CAAAA,GAAzB,EAA8BkB,EAA9B,CAAsC,CACpDC,QAAS5qC,EAAA,CAAE,iCAAF,CAD2C,CAEpDwc,KAAM,QAF8C,CAGpDuwB,QAAS,EAAAA,EAAkB,IAAZ,EAAApR,EAAA,CAAmB,IAAK,EAAxB,CAA4BA,EAAS0vB,CAAAA,eAAT,CAAyBl9B,CAAzB,CAAuC,GAAT,GAAA3R,CAAA,CAAe,OAAf,CAAyB,MAAvD,CAHS,CAIpDksB,SAA0B,GAAIqiB,EAAqBthB,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CAClE\/oC,KAAM,uBAD4D,CAA1C,CAJ0B,CAAtC,CAnBR,CA2BRonD,CA3BQ,EA2BoB,GAAIG,EAAqBthB,CAAAA,GAAzB,EAA8BkB,EAA9B,CAAsC,CAChElqB,UAAW,yCADqD,CAEhEmqB,QAAS5qC,EAAA,CAAE,wBAAF,CAFuD,CAGhEwc,KAAM,QAH0D,CAIhEuwB,QAAS6d,CAJuD,CAKhEliB,SAA0B,GAAIqiB,EAAqBthB,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CAClE\/oC,KAAM,GAD4D,CAElEid,UAAW,gBAFuD,CAA1C,CALsC,CAAtC,CA3BpB,CAFiD,CAAtC,CAJtB,CAgKH6qC,QAASA,GAAgB,CAAC,CAAE,QAAAnhD,CAAF,CAAW,MAAAzH,CAAX,CAAkB,cAAAkrC,CAAlB,CAAD,CAAoC,CAC3D,MAAuB,GAAI2d,EAAqB9hB,CAAAA,GAAzB,EAA8B+hB,EAAOC,CAAAA,WAArC;AAAkD,CACvEjvC,KAAM,QADiE,CAEvE9Z,MAAAA,CAFuE,CAGvEkrC,cAAAA,CAHuE,CAIvElF,SAAUv+B,CAAQlK,CAAAA,GAAR,CAAa0uC,EAAD,EACG,GAAI4c,EAAqB9hB,CAAAA,GAAzB,EAA8BI,EAA9B,CAAuC,CAC5DE,QAAS4E,EAAO\/D,CAAAA,OAD4C,CAE5DlC,SAA0B,GAAI6iB,EAAqB9hB,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DhpB,UAAW,aADkD,CAE7DioB,SAA0B,GAAI6iB,EAAqB9hB,CAAAA,GAAzB,EAA8B+hB,EAAOE,CAAAA,eAArC,CAAsD,CAC9EjrC,UAAW,WADmE,CAE9E\/d,MAAOisC,EAAOjsC,CAAAA,KAFgE,CAG9EipD,SAAUhd,EAAOjsC,CAAAA,KAAjBipD,GAA2BjpD,CAHmD,CAI9EgmC,SAA0B,GAAI6iB,EAAqB9hB,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CAClE\/oC,KAAMmrC,EAAOid,CAAAA,IADqD,CAA1C,CAJoD,CAAtD,CAFmC,CAArC,CAFkC,CAAvC,CAapBjd,EAAOjsC,CAAAA,KAba,CADf,CAJ6D,CAAlD,CADoC,CAuB7DmpD,QAASA,GAAwB,CAAC,CAChC,QAAA1hD,CADgC,CAEhC,MAAAzH,CAFgC,CAGhC,cAAAkrC,CAHgC,CAAD,CAI9B,CACD,MAAuB,GAAI2d,EAAqB9hB,CAAAA,GAAzB,EAA8B+hB,EAAOC,CAAAA,WAArC,CAAkD,CACvEhrC,UAAW,aAD4D,CAEvEjE,KAAM,UAFiE,CAGvE9Z,MAAAA,CAHuE,CAIvEkrC,cAAAA,CAJuE,CAKvElF,SAAUv+B,CAAQlK,CAAAA,GAAR,CAAa0uC,EAAD,EACG,GAAI4c,EAAqB9hB,CAAAA,GAAzB,EAA8B+hB,EAAOE,CAAAA,eAArC,CAAsD,CAC3EjrC,UAAW,WADgE;AAE3E\/d,MAAOisC,EAAOjsC,CAAAA,KAF6D,CAG3EgmC,SAA0B,GAAI6iB,EAAqB9hB,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CAClE\/oC,KAAMmrC,EAAOid,CAAAA,IADqD,CAA1C,CAHiD,CAAtD,CAMpBjd,EAAOjsC,CAAAA,KANa,CADf,CAL6D,CAAlD,CADtB,CAgEHopD,QAASA,GAAmB,CAACtvC,CAAD,CAAO,CAGjC,MAFY4W,GAAAE,EACuBy4B,CAAAA,mBAAoBhsD,CAAAA,MAAxBisD,CAAgCvuD,CAAD,EAAQ,CAACA,CAAG8H,CAAAA,KAAM0mD,CAAAA,QAAjDD,CACDjsD,CAAAA,MAAvB,CAA+BiiB,CAAD,EAAW,CAC9C,IAAIgC,CACJ,OAAiD,KAA1C,GAACA,CAAD,CAAOkoC,EAAA,CAAalqC,CAAMzc,CAAAA,KAAMiX,CAAAA,IAAzB,CAAP,EAAiD,IAAK,EAAtD,CAA0DwH,CAAIuG,CAAAA,QAAJ,CAAa\/N,CAAb,CAFnB,CAAzC,CAH0B,CA69BnC2vC,QAASA,GAAW,CAACC,CAAD,CAAW,CAC7B,IAAIpoC,CACEqoC,EAAAA,CAAiBD,CAASrJ,CAAAA,KAAT,CAAe,eAAf,CACvB,IAAI,CAACsJ,CAAL,CACE,MAAO,SACT,OAAMC,EAAYD,CAAA,CAAe,CAAf,CAAkBzyD,CAAAA,WAAlB,EACZ,EAAC4iB,CAAD,CAAN,CAEM,IAFsB,GAACwH,CAAD,CAAOlhB,MAAOie,CAAAA,OAAP,CAAewrC,EAAf,CAAgCC,CAAAA,IAAhC,CACjC,CAAC,CAAA,CAAQC,EAAR,CAAD,CAAA,EAAyBA,EAAWliC,CAAAA,QAAX,CAAoB+hC,CAApB,CADQ,CAAP,EAEftoC,CAFe,CAET,CAAC,SAAD,CAAY,IAAZ,CACnB,OAAOxH,EATsB,CAW\/BkwC,QAASA,GAAoB,CAAC,GAAG9zB,CAAJ,CAAS,CACpC,MAAO,CAAC,GAAGr3B,CAAJ,CAAA,EAAasyB,EAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACnD,IAAK,MAAMrxB,CAAX,GAAiBo2B,EAAjB,CAAsB,CACpB,MAAMlnB,GAAS,KAAMlP,EAAA,CAAG,GAAGjB,CAAN,CACrB;GAAImQ,EAAJ,EAA8B,CAA9B,CAAcA,EAAOtW,CAAAA,MAArB,CACE,MAAOsW,GAHW,CAMtB,MAAO,KAP4C,CAAjC,CADgB,CAWtCi7C,QAASA,GAAe,CAACrU,CAAD,CAAO97B,CAAP,CAAa,CACnC,MAAOqX,GAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACtC,MAAKykB,EAAKsU,CAAAA,KAAMriC,CAAAA,QAAX,CAAoB\/N,CAApB,CAAL,CAGI87B,CAAJ,WAAoBuU,aAApB,CACSvU,CAAKwU,CAAAA,OAAL,CAAatwC,CAAb,CADT,CAIO,KAAWwP,CADLjF,KAAMuxB,EAAKyU,CAAAA,OAAL,CAAavwC,CAAb,CACDwP,EAAAA,IAAL,EAPb,CACS,IAF6B,CAAjC,CAD4B,CAoVrCghC,QAASA,GAAQ,EAAG,CAClB,MAAM,CAAE,SAAArxB,CAAF,CAAA,CAAesxB,EAAQz+B,CAAAA,UAAR,CAAmBoe,EAAnB,CACrB,OAAOqgB,GAAQn8B,CAAAA,WAAR,CAAoB,CAACwC,CAAD,CAAM45B,CAAN,CAAA,EAAer5B,EAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACzE,GAAIq5B,CAAKpuB,CAAAA,QAAT,EAAwD,CAAxD,GAAqBxL,CAAIy4B,CAAAA,mBAAoB3wD,CAAAA,MAA7C,CAA2D,CACzD,IAAMmjD,GAAQ,KAAM5wB,UAAUw\/B,CAAAA,SAAUC,CAAAA,IAApB,EACpB,KAAIC,EACe,EAAnB,CAAI9O,EAAMnjD,CAAAA,MAAV,GAEQkyD,EAFR,CAEsCC,CAAnB,KAAWvhC,CADfjF,KAAMw3B,GAAA,CAAM,CAAN,CAASwO,CAAAA,OAAT,CAAiB,YAAjB,CACS\/gC,EAAAA,IAAL,EAAauhC,EAAAA,IAApB,EAFlB,IAIQ,cAAelmD,CAAAA,IAAf,CAAoBimD,EAApB,CAAJ;AAAuD,EAAvD,GAAoCA,EAAQlyD,CAAAA,MAA5C,EACQoyD,EACN,CADiBF,EAAQnmD,CAAAA,KAAR,CAAc,CAAd,CAAiB,CAAC,CAAlB,CACjB,CAAI8lB,EAAA,CAAUugC,EAAV,CAAJ,GACEH,EADF,CACWG,EADX,CAFF,EAKW,cAAenmD,CAAAA,IAAf,CAAoBimD,EAApB,CALX,GAMED,EANF,CAMWC,EAAQnmD,CAAAA,KAAR,CAAc,CAAd,CAAiB,CAAC,CAAlB,CANX,CAJJ,CAcA,IAAIkmD,EAAJ,CAAY,CACV\/5B,CAAIy4B,CAAAA,mBAAJ,CAAwB,CAAxB,CAA2BhoB,CAAAA,MAA3B,CAAkC,CAChC0pB,KAAM,CAACJ,EAAD,CAD0B,CAAlC,CAGA\/5B,EAAIo6B,CAAAA,OAAJ,EACA,OALU,CAjB6C,CAyB3DC,EAAA,CAAqBr6B,CAArB,CAA0B45B,CAA1B,CAAgCvxB,CAAhC,CA1ByE,CAAjC,CAAnC,CA2BH,EA3BG,CAFW,CAiCpBiyB,QAASA,GAAO,EAAG,CACjB,MAAMC,EAAcb,EAAA,EACpB,OAAOc,GAAQh9B,CAAAA,WAAR,CACL,CAACi9B,CAAD,CAAKC,CAAL,CAAA,EAAYn6B,EAAA,CAAQ,IAAR,CAAc,CAACk6B,CAAD,CAAKC,CAAL,CAAd,CAAwB,SAAU,CAAC16B,EAAD,CAAM,CAAE,aAAAU,EAAF,CAAgB,MAAAj4B,EAAhB,CAAN,CAA+B,CAC3E8xD,CAAA,CAAYv6B,EAAZ,CAAiB,CAAEv3B,MAAAA,EAAF,CAAS+iC,SAAU,CAAA,CAAnB,CAA0B9K,aAAAA,EAA1B,CAAwCi6B,SAAU,CAAA,CAAlD,CAAjB,CAD2E,CAAjE,CADP,CAIL,EAJK,CAFU,CAYnBC,QAASA,GAAO,EAAG,CACjB,MAAM,CAAE,SAAAvyB,CAAF,CAAA,CAAewyB,EAAQ3\/B,CAAAA,UAAR,CAAmBoe,EAAnB,CACrB,OAAOuhB,GAAQr9B,CAAAA,WAAR,CAAoB,CAACwC,CAAD,CAAM,CAAE,KAAAtH,CAAF,CAAQ,KAAAoiC,EAAR,CAAN,CAAA,EAAyB,CAClDzyB,CAAS0yB,CAAAA,eAAT,CAAyBriC,CAAzB,CAA+BoiC,EAA\/B,CADkD,CAA7C,CAEJ,EAFI,CAFU,CASnBE,QAASA,GAAW,EAAG,CACrB,MAAOC,GAAejmC,CAAAA,OAAQwI,CAAAA,WAAvB,CAAoCwC,CAAD;AAASO,EAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CAClF\/c,UAAA,CAAW,EAAA,EAAM,CACfwc,CAAIk7B,CAAAA,UAAJ,CAAe,eAAf,CAAgCl6B,CAAAA,YAAak6B,CAAAA,UAA7C,CAAwD,UAAxD,CADe,CAAjB,CAEG,GAFH,CADkF,CAAjC,CAA5C,CAIH,EAJG,CADc,CAth1BvB,IAAIC,GAAW3rD,MAAOsD,CAAAA,MAAtB,CACIsoD,GAAY5rD,MAAOe,CAAAA,cADvB,CAEI8qD,GAAa7rD,MAAO6yB,CAAAA,gBAFxB,CAGIi5B,GAAmB9rD,MAAOuiB,CAAAA,wBAH9B,CAIIwpC,GAAoB\/rD,MAAOyW,CAAAA,yBAJ\/B,CAKIu1C,GAAoBhsD,MAAOiiB,CAAAA,mBAL\/B,CAMIgqC,GAAsBjsD,MAAOgC,CAAAA,qBANjC,CAOIkqD,GAAelsD,MAAOC,CAAAA,cAP1B,CAQIksD,GAAensD,MAAOsB,CAAAA,SAAUnB,CAAAA,cARpC,CASIisD,GAAepsD,MAAOsB,CAAAA,SAAUa,CAAAA,oBATpC,CAUIkqD,GAAkB,CAAC5rD,CAAD,CAAMkC,CAAN,CAAW\/C,CAAX,CAAAysD,EAAqB1pD,CAAA,GAAOlC,EAAP,CAAamrD,EAAA,CAAUnrD,CAAV,CAAekC,CAAf,CAAoB,CAAE3B,WAAY,CAAA,CAAd,CAAoBE,aAAc,CAAA,CAAlC,CAAwCD,SAAU,CAAA,CAAlD,CAAwDrB,MAAAA,CAAxD,CAApB,CAAb;AAAoGa,CAAA,CAAIkC,CAAJ,CAApG,CAA+G\/C,CAV1J,CAWI7B,GAAiB,CAACrG,CAAD,CAAKC,CAAL,CAAAoG,EAAY,CAC\/B,IAAKwE,IAAIA,CAAT,GAAwB5K,EAAxB,GAA6B,EAA7B,CACMw0D,EAAa\/rD,CAAAA,IAAb,CAAkBzI,CAAlB,CAAsB4K,CAAtB,CAAJ,EACE8pD,EAAA,CAAgB30D,CAAhB,CAAoB6K,CAApB,CAA0B5K,CAAA,CAAG4K,CAAH,CAA1B,CACJ,IAAI0pD,EAAJ,CACE,IAAS1pD,CAAT,GAAiB0pD,GAAA,CAAoBt0D,CAApB,CAAjB,CACMy0D,EAAahsD,CAAAA,IAAb,CAAkBzI,CAAlB,CAAsB4K,CAAtB,CAAJ,EACE8pD,EAAA,CAAgB30D,CAAhB,CAAoB6K,CAApB,CAA0B5K,CAAA,CAAG4K,CAAH,CAA1B,CAEN,OAAO7K,EATwB,CAXjC,CAsBIoG,GAAgB,CAACpG,CAAD,CAAKC,CAAL,CAAAmG,EAAY+tD,EAAA,CAAWn0D,CAAX,CAAeq0D,EAAA,CAAkBp0D,CAAlB,CAAf,CAtBhC,CAuBI8uC,GAAY,CAACvjC,CAAD,CAASopD,CAAT,CAAA7lB,EAAqB,CACnC,IAAInkC,EAAS,EAAb,CACSC,EAAT,KAASA,EAAT,GAAiBW,EAAjB,CACMipD,EAAa\/rD,CAAAA,IAAb,CAAkB8C,CAAlB,CAA0BX,EAA1B,CAAJ,EAA+D,CAA\/D,CAAuC+pD,CAAQhzC,CAAAA,OAAR,CAAgB\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\/C,CAA\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\/B\/L,QAASA,GAAE,CAACq8C,EAAD,CAAKW,EAAL,CAASV,EAAT,CAAa,CACtB,IAAIS,GAAKV,EAAA,CAAGW,EAAH,CACTX,GAAA,CAAGW,EAAH,CAAA,CAASX,EAAA,CAAGC,EAAH,CAAQD,GAAA,CAAGC,EAAH,CAAA,CAASS,EAFJ,CAIxBhxC,QAASA,GAAE,CAACswC,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOX,GAAA,CAAKW,EAAL,CAAU,CAAC,CAAX,CAAeX,EAAA,CAAKW,EAAL,CAAU,CAAV,CAAc,CADlB,CAcpB39C,QAASA,GAAE,CAACg9C,EAAD,CAAKW,EAAL,CAAS,CAClBkE,EAAA,CAAG7E,EAAH;AAAO,CAAP,CAAUA,EAAG9O,CAAAA,QAASttC,CAAAA,MAAtB,CAA8B+8C,EAA9B,CAAkCX,EAAlC,CADkB,CAGpB6E,QAASA,GAAE,CAAC7E,EAAD,CAAKW,EAAL,CAASV,EAAT,CAAaS,EAAb,CAAiBX,EAAjB,CAAqB,CACvBA,EAAP,GAAYr3C,EAAA,CAAG,IAAH,CAAWq3C,GAAGz5C,CAAAA,IAAH,CAAU,CAAV,CAAc,CAAGy5C,GAAGx5C,CAAAA,IAAH,CAAU,CAAV,CAAc,CAAGw5C,GAAGxmB,CAAAA,IAAH,CAAU,CAAC,CAAX,CAAe,CACxE,KAD2EwmB,EAAGvmB,CAAAA,IAC9E,CADqF,CAAC,CACtF,CAD0F,CAC1F,CAAkBonB,EAAlB,CAAuBX,EAAvB,CAA2BW,EAAA,EAA3B,CAAiC,CAC\/B,IAAI0Y,GAAKtZ,EAAG9O,CAAAA,QAAH,CAAY0P,EAAZ,CACT9xC,GAAA,CAAGixC,EAAH,CAAOC,EAAG8Z,CAAAA,IAAH,CAAUpZ,EAAA,CAAG4Y,EAAH,CAAV,CAAmBA,EAA1B,CAF+B,CAIjC,MAAOvZ,GANuB,CAQhCjxC,QAASA,GAAE,CAACkxC,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOX,GAAG15C,CAAAA,IAAH,CAAUzD,IAAK6uB,CAAAA,GAAL,CAASsuB,EAAG15C,CAAAA,IAAZ,CAAkBq6C,EAAGr6C,CAAAA,IAArB,CAAV,CAAsC05C,EAAGz5C,CAAAA,IAAzC,CAAgD1D,IAAK6uB,CAAAA,GAAL,CAASsuB,EAAGz5C,CAAAA,IAAZ,CAAkBo6C,EAAGp6C,CAAAA,IAArB,CAAhD,CAA4Ey5C,EAAGzmB,CAAAA,IAA\/E,CAAsF12B,IAAKC,CAAAA,GAAL,CAASk9C,EAAGzmB,CAAAA,IAAZ,CAAkBonB,EAAGpnB,CAAAA,IAArB,CAAtF,CAAkHymB,EAAGxmB,CAAAA,IAArH,CAA4H32B,IAAKC,CAAAA,GAAL,CAASk9C,EAAGxmB,CAAAA,IAAZ,CAAkBmnB,EAAGnnB,CAAAA,IAArB,CAA5H,CAAwJwmB,EAD7I,CAGpB\/5C,QAASA,GAAE,CAAC+5C,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOX,GAAG15C,CAAAA,IAAV,CAAiBq6C,EAAGr6C,CAAAA,IADF,CAGpB+S,QAASA,GAAE,CAAC2mC,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOX,GAAGz5C,CAAAA,IAAV,CAAiBo6C,EAAGp6C,CAAAA,IADF,CAGpBmT,QAASA,GAAE,CAACsmC,EAAD,CAAK,CACd,OAAQA,EAAGzmB,CAAAA,IAAX,CAAkBymB,EAAG15C,CAAAA,IAArB,GAA8B05C,EAAGxmB,CAAAA,IAAjC,CAAwCwmB,EAAGz5C,CAAAA,IAA3C,CADc;AAGhBmB,QAASA,GAAE,CAACs4C,EAAD,CAAK,CACd,MAAOA,GAAGzmB,CAAAA,IAAV,CAAiBymB,EAAG15C,CAAAA,IAApB,EAA4B05C,EAAGxmB,CAAAA,IAA\/B,CAAsCwmB,EAAGz5C,CAAAA,IAAzC,CADc,CAGhB27C,QAASA,GAAE,CAAClC,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOX,GAAG15C,CAAAA,IAAV,EAAkBq6C,EAAGr6C,CAAAA,IAArB,EAA6B05C,EAAGz5C,CAAAA,IAAhC,EAAwCo6C,EAAGp6C,CAAAA,IAA3C,EAAmDo6C,EAAGpnB,CAAAA,IAAtD,EAA8DymB,EAAGzmB,CAAAA,IAAjE,EAAyEonB,EAAGnnB,CAAAA,IAA5E,EAAoFwmB,EAAGxmB,CAAAA,IADrE,CAGpBlyB,QAASA,GAAE,CAAC04C,EAAD,CAAKW,EAAL,CAAS,CAClB,MAAOA,GAAGr6C,CAAAA,IAAV,EAAkB05C,EAAGzmB,CAAAA,IAArB,EAA6BonB,EAAGp6C,CAAAA,IAAhC,EAAwCy5C,EAAGxmB,CAAAA,IAA3C,EAAmDmnB,EAAGpnB,CAAAA,IAAtD,EAA8DymB,EAAG15C,CAAAA,IAAjE,EAAyEq6C,EAAGnnB,CAAAA,IAA5E,EAAoFwmB,EAAGz5C,CAAAA,IADrE,CAGpBmC,QAASA,GAAE,CAACs3C,EAAD,CAAK,CACd,MAAO,CAAE9O,SAAU8O,EAAZ,CAAgBv8C,OAAQ,CAAxB,CAA2Bq2D,KAAM,CAAA,CAAjC,CAAuCxzD,KAAM,CAANA,CAAU,CAAjD,CAAoDC,KAAM,CAANA,CAAU,CAA9D,CAAiEgzB,KAAM,CAAC,CAAPA,CAAW,CAA5E,CAA+EC,KAAM,CAAC,CAAPA,CAAW,CAA1F,CADO,CAGhBzzB,QAASA,GAAE,CAAC46C,EAAD,CAAKV,EAAL,CAASS,EAAT,CAAaX,EAAb,CAAiBa,EAAjB,CAAqB,CAC9B,IAAK,IAAI0Y,GAAK,CAACrZ,EAAD,CAAKS,EAAL,CAAd,CAAwB4Y,EAAG11D,CAAAA,MAA3B,CAAA,CACE,GAAI,GAAG88C,EAAH,CAAQ4Y,EAAGv1D,CAAAA,GAAH,EAAR,GAAqBk8C,EAArB,CAA0BqZ,EAAGv1D,CAAAA,GAAH,EAA1B,GAAuCg8C,EAAvC,CAAJ,CAAgD,CAC9C,IAAI9wC,GAAKgxC,EAALhxC,CAAUpM,IAAKS,CAAAA,IAAL,EAAWo9C,EAAX,CAAgBT,EAAhB,EAAsBF,EAAtB,CAA2B,CAA3B,CAAV9wC,CAA0C8wC,EAC9Cv3C,EAAA,CAAEm4C,EAAF,CAAM1xC,EAAN,CAAUgxC,EAAV,CAAcS,EAAd,CAAkBE,EAAlB,CAAuB0Y,GAAGt1D,CAAAA,IAAH,CAAQi8C,EAAR;AAAYhxC,EAAZ,CAAgBA,EAAhB,CAAoByxC,EAApB,CAFuB,CAFpB,CA9ChC,IAAI16C,GAAKA,QAAQ,CAACg6C,EAAD,CAAK,CACpB,IAAK,EAAL,GAAWA,EAAX,GAAkBA,EAAlB,CAAuB,CAAvB,CAA2B,KAAK+Z,CAAAA,WAAL,CAAmBl3D,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYk9C,EAAZ,CAAiB,KAAKga,CAAAA,WAAL,CAAmBn3D,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYD,IAAKS,CAAAA,IAAL,CAAU,EAAV,CAAgB,IAAKy2D,CAAAA,WAArB,CAAZ,CAAgD,KAAK1qB,CAAAA,KAAL,EAD9G,CAqDtB,OAAOrpC,GAAG4G,CAAAA,SAAUqtD,CAAAA,GAAb,CAAmBC,QAAQ,EAAG,CACnC,MAAO,KAAKC,CAAAA,IAAL,CAAU,IAAKtT,CAAAA,IAAf,CAAqB,EAArB,CAD4B,CAA9B,CAEJ7gD,EAAG4G,CAAAA,SAAUwtD,CAAAA,MAFT,CAEkBC,QAAQ,CAACra,EAAD,CAAK,CAAA,IAChCW,GAAK,IAAKkG,CAAAA,IADsB,CAChB5G,GAAK,EACzB,IAAI,CAAC34C,EAAA,CAAG04C,EAAH,CAAOW,EAAP,CAAL,CACE,MAAOV,GACT,KAJoC,IAI3BS,GAAK,IAAK4Z,CAAAA,MAJiB,CAITva,GAAK,EAAhC,CAAoCY,EAApC,CAAA,CAA0C,CACxC,IAAK,IAAIC,GAAK,CAAd,CAAiBA,EAAjB,CAAsBD,EAAGzP,CAAAA,QAASttC,CAAAA,MAAlC,CAA0Cg9C,EAAA,EAA1C,CAAgD,CAAA,IAC1C0Y,GAAK3Y,EAAGzP,CAAAA,QAAH,CAAY0P,EAAZ,CADqC,CACpB3xC,GAAK0xC,EAAGmZ,CAAAA,IAAH,CAAUpZ,EAAA,CAAG4Y,EAAH,CAAV,CAAmBA,EAClDhyD,GAAA,CAAG04C,EAAH,CAAO\/wC,EAAP,CAAA,GAAe0xC,EAAGmZ,CAAAA,IAAH,CAAU7Z,EAAGj8C,CAAAA,IAAH,CAAQs1D,EAAR,CAAV,CAAwBpX,EAAA,CAAGlC,EAAH,CAAO\/wC,EAAP,CAAA,CAAa,IAAKkrD,CAAAA,IAAL,CAAUb,EAAV,CAAcrZ,EAAd,CAAb,CAAiCF,EAAG\/7C,CAAAA,IAAH,CAAQs1D,EAAR,CAAxE,CAF8C,CAIhD3Y,EAAA,CAAKZ,EAAGh8C,CAAAA,GAAH,EALmC,CAO1C,MAAOk8C,GAX6B,CAF\/B;AAcJj6C,EAAG4G,CAAAA,SAAU2tD,CAAAA,QAdT,CAcoBC,QAAQ,CAACxa,EAAD,CAAK,CACtC,IAAIW,GAAK,IAAKkG,CAAAA,IACd,IAAI,CAACv\/C,EAAA,CAAG04C,EAAH,CAAOW,EAAP,CAAL,CACE,MAAO,CAAA,CACT,KAAK,IAAIV,GAAK,EAAd,CAAkBU,EAAlB,CAAA,CAAwB,CACtB,IAAK,IAAID,GAAK,CAAd,CAAiBA,EAAjB,CAAsBC,EAAGzP,CAAAA,QAASttC,CAAAA,MAAlC,CAA0C88C,EAAA,EAA1C,CAAgD,CAAA,IAC1CX,GAAKY,EAAGzP,CAAAA,QAAH,CAAYwP,EAAZ,CADqC,CACpBE,GAAKD,EAAGmZ,CAAAA,IAAH,CAAU,IAAKQ,CAAAA,MAAL,CAAYva,EAAZ,CAAV,CAA4BA,EAC3D,IAAIz4C,EAAA,CAAG04C,EAAH,CAAOY,EAAP,CAAJ,CAAgB,CACd,GAAID,EAAGmZ,CAAAA,IAAP,EAAe5X,EAAA,CAAGlC,EAAH,CAAOY,EAAP,CAAf,CACE,MAAO,CAAA,CACTX,GAAGj8C,CAAAA,IAAH,CAAQ+7C,EAAR,CAHc,CAF8B,CAQhDY,EAAA,CAAKV,EAAGl8C,CAAAA,GAAH,EATiB,CAWxB,MAAO,CAAA,CAf+B,CAdjC,CA8BJiC,EAAG4G,CAAAA,SAAU6tD,CAAAA,IA9BT,CA8BgBC,QAAQ,CAAC1a,EAAD,CAAK,CAClC,GAAI,CAACA,EAAL,EAAW,CAACA,EAAGp8C,CAAAA,MAAf,CACE,MAAO,KACT,IAAIo8C,EAAGp8C,CAAAA,MAAP,CAAgB,IAAKo2D,CAAAA,WAArB,CAAkC,CAChC,IAAK,IAAIrZ,GAAK,CAAd,CAAiBA,EAAjB,CAAsBX,EAAGp8C,CAAAA,MAAzB,CAAiC+8C,EAAA,EAAjC,CACE,IAAKga,CAAAA,MAAL,CAAY3a,EAAA,CAAGW,EAAH,CAAZ,CACF,OAAO,KAHyB,CAK9BV,EAAAA,CAAK,IAAK2a,CAAAA,MAAL,CAAY5a,EAAGrwC,CAAAA,KAAH,EAAZ,CAAwB,CAAxB,CAA2BqwC,EAAGp8C,CAAAA,MAA9B,CAAuC,CAAvC,CAA0C,CAA1C,CACL,KAAKijD,CAAAA,IAAK3V,CAAAA,QAASttC,CAAAA,MAAvB,CACM,IAAKijD,CAAAA,IAAKpjD,CAAAA,MAAd;AAAyBw8C,EAAGx8C,CAAAA,MAA5B,CACE,IAAKo3D,CAAAA,UAAL,CAAgB,IAAKhU,CAAAA,IAArB,CAA2B5G,EAA3B,CADF,EAGM,IAAK4G,CAAAA,IAAKpjD,CAAAA,MAId,CAJuBw8C,EAAGx8C,CAAAA,MAI1B,GAHMi9C,EACY,CADP,IAAKmG,CAAAA,IACE,CAAhB,IAAKA,CAAAA,IAAW,CAAJ5G,EAAI,CAAAA,EAAA,CAAKS,EAEvB,EAAA,IAAKoa,CAAAA,OAAL,CAAa7a,EAAb,CAAiB,IAAK4G,CAAAA,IAAKpjD,CAAAA,MAA3B,CAAoCw8C,EAAGx8C,CAAAA,MAAvC,CAAgD,CAAhD,CAAmD,CAAA,CAAnD,CAPF,CADF,CAWE,IAAKojD,CAAAA,IAXP,CAWc5G,EACd,OAAO,KArB2B,CA9B7B,CAoDJj6C,EAAG4G,CAAAA,SAAU+tD,CAAAA,MApDT,CAoDkBI,QAAQ,CAAC\/a,EAAD,CAAK,CACpC,MAAOA,GAAA,EAAM,IAAK8a,CAAAA,OAAL,CAAa9a,EAAb,CAAiB,IAAK6G,CAAAA,IAAKpjD,CAAAA,MAA3B,CAAoC,CAApC,CAAN,CAA8C,IADjB,CApD\/B,CAsDJuC,EAAG4G,CAAAA,SAAUyiC,CAAAA,KAtDT,CAsDiB2rB,QAAQ,EAAG,CACjC,MAAO,KAAKnU,CAAAA,IAAL,CAAYn+C,EAAA,CAAG,EAAH,CAAZ,CAAoB,IADM,CAtD5B,CAwDJ1C,EAAG4G,CAAAA,SAAUumB,CAAAA,MAxDT,CAwDkB8nC,QAAQ,CAACjb,EAAD,CAAKW,EAAL,CAAS,CACxC,GAAI,CAACX,EAAL,CACE,MAAO,KACT,KAHwC,IAG\/BC,EAH+B,CAG3BS,EAH2B,CAGvBE,EAHuB,CAGnB0Y,GAAK,IAAKzS,CAAAA,IAHS,CAGH53C,GAAK,IAAKqrD,CAAAA,MAAL,CAAYta,EAAZ,CAHF,CAGmBiB,GAAK,EAHxB,CAG4BJ,GAAK,EAAzE,CAA6EyY,EAA7E,EAAmFrY,EAAGr9C,CAAAA,MAAtF,CAAA,CAAgG,CAC9F,GAAI01D,EAAA,GAAOA,EAAA,CAAKrY,EAAGl9C,CAAAA,GAAH,EAAL,CAAe28C,EAAf,CAAoBO,EAAA,CAAGA,EAAGr9C,CAAAA,MAAN,CAAe,CAAf,CAApB,CAAuCq8C,EAAvC,CAA4CY,EAAG98C,CAAAA,GAAH,EAA5C;AAAsD68C,EAAtD,CAA2D,CAAA,CAAlE,EAAyE0Y,EAAGQ,CAAAA,IAAhF,CAAsF,CA9GnE,CAAA,CAAA,CA+GN9Z,IAAAA,GAAAA,EAAO9O,KAAAA,GAAHooB,EAAGpoB,CAAAA,QAAAA,CAAUyP,GAAAA,EA9GhC,IAAKV,EAAL,CAAA,CAEA,IAAK,IAAIS,GAAK,CAAd,CAAiBA,EAAjB,CAAsBC,EAAG\/8C,CAAAA,MAAzB,CAAiC88C,EAAA,EAAjC,CACE,GAAIT,EAAA,CAAGD,EAAH,CAAOW,EAAA,CAAGD,EAAH,CAAP,CAAJ,CACE,CAAA,EAAA,CAAOA,EAAP,OAAA,CAAA,CACJ,EAAA,CAAO,CAAC,CALR,CAAA,IACE,GAAA,CAAOC,EAAG\/7B,CAAAA,OAAH,CAAWo7B,EAAX,CAFY,CAgHjB,GAAI,CAAC,CAAL,GAAW4Z,EAAX,CACE,MAAON,GAAGpoB,CAAAA,QAAS9zB,CAAAA,MAAZ,CAAmBw8C,EAAnB,CAAuB,CAAvB,CAAA,CAA2B3Y,EAAGj9C,CAAAA,IAAH,CAAQs1D,EAAR,CAA3B,CAAwC,IAAK4B,CAAAA,SAAL,CAAeja,EAAf,CAAxC,CAA4D,IAHe,CAKtFL,EAAA,EAAM0Y,EAAGQ,CAAAA,IAAT,EAAiB,CAAC5X,EAAA,CAAGoX,EAAH,CAAOrqD,EAAP,CAAlB,CAA+ByxC,EAAA,EAAMT,EAAA,EAAA,CAAMqZ,EAAN,CAAW5Y,EAAGxP,CAAAA,QAAH,CAAY+O,EAAZ,CAAX,CAA4BW,EAA5B,CAAiC,CAAA,CAAvC,EAAgD0Y,EAAhD,CAAqD,IAApF,EAA4FrY,EAAGj9C,CAAAA,IAAH,CAAQs1D,EAAR,CAAA,CAAazY,EAAG78C,CAAAA,IAAH,CAAQi8C,EAAR,CAAb,CAA0BA,EAA1B,CAA+B,CAA\/B,CAAkCS,EAAlC,CAAuC4Y,EAAvC,CAA2CA,EAA3C,CAAgDA,EAAGpoB,CAAAA,QAAH,CAAY,CAAZ,CAA5I,CAN8F,CAQhG,MAAO,KAXiC,CAxDnC,CAoEJlrC,EAAG4G,CAAAA,SAAU0tD,CAAAA,MApET,CAoEkBa,QAAQ,CAACnb,EAAD,CAAK,CACpC,MAAOA,GAD6B,CApE\/B,CAsEJh6C,EAAG4G,CAAAA,SAAUwuD,CAAAA,WAtET,CAsEuBC,QAAQ,CAACrb,EAAD,CAAKW,EAAL,CAAS,CAC7C,MAAOX,GAAG15C,CAAAA,IAAV,CAAiBq6C,EAAGr6C,CAAAA,IADyB,CAtExC,CAwEJN,EAAG4G,CAAAA,SAAU0uD,CAAAA,WAxET;AAwEuBC,QAAQ,CAACvb,EAAD,CAAKW,EAAL,CAAS,CAC7C,MAAOX,GAAGz5C,CAAAA,IAAV,CAAiBo6C,EAAGp6C,CAAAA,IADyB,CAxExC,CA0EJP,EAAG4G,CAAAA,SAAU4uD,CAAAA,MA1ET,CA0EkBC,QAAQ,EAAG,CAClC,MAAO,KAAK5U,CAAAA,IADsB,CA1E7B,CA4EJ7gD,EAAG4G,CAAAA,SAAU8uD,CAAAA,QA5ET,CA4EoBC,QAAQ,CAAC3b,EAAD,CAAK,CACtC,MAAO,KAAK6G,CAAAA,IAAL,CAAY7G,EAAZ,CAAgB,IADe,CA5EjC,CA8EJh6C,EAAG4G,CAAAA,SAAUutD,CAAAA,IA9ET,CA8EgByB,QAAQ,CAAC5b,EAAD,CAAKW,EAAL,CAAS,CACtC,IAAK,IAAIV,GAAK,EAAd,CAAkBD,EAAlB,CAAA,CACEA,EAAG8Z,CAAAA,IAAH,CAAUnZ,EAAG38C,CAAAA,IAAK8G,CAAAA,KAAR,CAAc61C,EAAd,CAAkBX,EAAG9O,CAAAA,QAArB,CAAV,CAA2C+O,EAAGj8C,CAAAA,IAAK8G,CAAAA,KAAR,CAAcm1C,EAAd,CAAkBD,EAAG9O,CAAAA,QAArB,CAAgC,CAAA8O,EAAA,CAAKC,EAAGl8C,CAAAA,GAAH,EAClF,OAAO48C,GAH+B,CA9EjC,CAkFJ36C,EAAG4G,CAAAA,SAAUguD,CAAAA,MAlFT,CAkFkBiB,QAAQ,CAAC7b,EAAD,CAAKW,EAAL,CAASV,EAAT,CAAaS,EAAb,CAAiB,CAAA,IAC5CX,EAD4C,CACxCuZ,GAAKrZ,EAALqZ,CAAU3Y,EAAV2Y,CAAe,CADyB,CACtBrqD,GAAK,IAAK8qD,CAAAA,WACpC,IAAIT,EAAJ,EAAUrqD,EAAV,CACE,MAAOjM,GAAA,CAAG+8C,EAAH,CAAQr3C,EAAA,CAAGs3C,EAAGrwC,CAAAA,KAAH,CAASgxC,EAAT,CAAaV,EAAb,CAAkB,CAAlB,CAAH,CAAR,CAAkC,IAAKqa,CAAAA,MAAvC,CAAA,CAAgDva,EACzDW,GAAA,GAAOA,EAAA,CAAK79C,IAAKS,CAAAA,IAAL,CAAUT,IAAKohB,CAAAA,GAAL,CAASq1C,EAAT,CAAV,CAAyBz2D,IAAKohB,CAAAA,GAAL,CAAShV,EAAT,CAAzB,CAAL,CAA6CA,EAA7C,CAAkDpM,IAAKS,CAAAA,IAAL,CAAUg2D,EAAV,CAAez2D,IAAKs6B,CAAAA,GAAL,CAASluB,EAAT;AAAayxC,EAAb,CAAkB,CAAlB,CAAf,CAAzD,CAA8GoZ,EAAb\/Z,EAAa+Z,CAARpxD,EAAA,CAAG,EAAH,CAAQoxD,EAAAA,IAAd,CAAqB,CAAA,CAAO\/Z,GAAGt8C,CAAAA,MAAH,CAAYi9C,EACpIO,GAAAA,CAAKp+C,IAAKS,CAAAA,IAAL,CAAUg2D,EAAV,CAAerqD,EAAf,CAAoB4xC,GAAAA,CAAKI,EAALJ,CAAUh+C,IAAKS,CAAAA,IAAL,CAAUT,IAAKU,CAAAA,IAAL,CAAU0L,EAAV,CAAV,CAEvC,KADAlJ,EAAA,CAAGi6C,EAAH,CAAOW,EAAP,CAAWV,EAAX,CAAeY,EAAf,CAAmB,IAAKua,CAAAA,WAAxB,CACA,CAAkBxB,EAAlB,EAAwB3Z,EAAxB,CAA4B2Z,EAA5B,EAAkC\/Y,EAAlC,CAAsC,CACpC,IAAIK,GAAKr+C,IAAK6uB,CAAAA,GAAL,CAASkoC,EAAT,CAAc\/Y,EAAd,CAAmB,CAAnB,CAAsBZ,EAAtB,CACTl6C,GAAA,CAAGi6C,EAAH,CAAO4Z,EAAP,CAAW1Y,EAAX,CAAeD,EAAf,CAAmB,IAAKqa,CAAAA,WAAxB,CACA,KAAK,IAAI9Z,GAAKoY,EAAd,CAAkBpY,EAAlB,EAAwBN,EAAxB,CAA4BM,EAA5B,EAAkCP,EAAlC,CAEElB,EAAG7O,CAAAA,QAASltC,CAAAA,IAAZ,CAAiB,IAAK42D,CAAAA,MAAL,CAAY5a,EAAZ,CAAgBwB,EAAhB,CADR3+C,IAAK6uB,CAAAA,GAAL2vB,CAASG,EAATH,CAAcJ,EAAdI,CAAmB,CAAnBA,CAAsBH,EAAtBG,CACQ,CAAwBX,EAAxB,CAA6B,CAA7B,CAAjB,CALkC,CAQtC,MAAO19C,GAAA,CAAG+8C,EAAH,CAAO,IAAKua,CAAAA,MAAZ,CAAA,CAAqBva,EAfoB,CAlF3C,CAkGJ\/5C,EAAG4G,CAAAA,SAAUkvD,CAAAA,cAlGT,CAkG0BC,QAAQ,CAAC\/b,EAAD,CAAKW,EAAL,CAASV,EAAT,CAAaS,EAAb,CAAiB,CACxD,IAAA,CAAOA,EAAG18C,CAAAA,IAAH,CAAQ28C,EAAR,CAAA,CAAa,CAACA,EAAGmZ,CAAAA,IAAjB,EAAyBpZ,EAAG98C,CAAAA,MAA5B,CAAqC,CAArC,GAA2Cq8C,EAAlD,CAAA,CAAwD,CACtD,IADsD,IAC7CF,GAAK,CAALA,CAAS,CADoC,CACjCa,GAAK,CAALA,CAAS,CADwB,CACrB0Y,GAAK,IAAK,EADW,CACRrqD,GAAK,CAAnD,CAAsDA,EAAtD,CAA2D0xC,EAAGzP,CAAAA,QAASttC,CAAAA,MAAvE,CAA+EqL,EAAA,EAA\/E,CAAqF,CAAA,IAC\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\/0D,GAAKs\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\/E,GAAOL,CAAAA,MAAP,CAAciB,EAAd,CAAsB\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\/C,CAAAA,KAAL,CAAWz\/C,CAAA,CAAG,CAAH,CAAX,CAAmB8yC,CAAnB,CAAD,CAA4BA,CAA5B,CAAkCjzC,IAAK4\/C,CAAAA,KAAL,CAAWz\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\/4D,CAAA,CAAG,CAAH,CADP+4D,CACe\/4D,CAAA,CAAG,CAAH,CADf+4D,CACuBh5D,CAAA,CAAG,CAAH,CAEjCtD,GAAIu8D,CAAAA,IAAJ,CAAYj5D,CAADk5D,EACFl5D,CAAA,CAAG,CAAH,CADEk5D,CACMl5D,CAAA,CAAG,CAAH,CADNk5D,CACcl5D,CAAA,CAAG,CAAH,CADdk5D,CACsBl5D,CAAA,CAAG,CAAH,CAEjCtD,GAAIkL,CAAAA,GAAJ,CAAW5H,CAADm5D,EACDx+D,IAAKw9B,CAAAA,KAAL,CAAWn4B,CAAA,CAAG,CAAH,CAAX,CAAkBA,CAAA,CAAG,CAAH,CAAlB,CAETtD,GAAI08D,CAAAA,GAAJ,CAAU,CAACp5D,CAAD,CAAKC,CAAL,CAAAo5D,EACDhC,EAAKwB,CAAAA,GAAL,CAAS74D,CAAT,CAAaC,CAAb,CADCo5D,CACkBhC,EAAKzvD,CAAAA,GAAL,CAAS3H,CAAT,CAE5BvD;EAAIinB,CAAAA,GAAJ,CAAW3jB,CAADs5D,EACDjC,EAAKkB,CAAAA,GAAL,CAASv4D,CAAT,CAAaq3D,EAAKzvD,CAAAA,GAAL,CAAS5H,CAAT,CAAb,CAETtD,GAAI68D,CAAAA,SAAJ,CAAiBv5D,CAADw5D,EACPnC,EAAK1zC,CAAAA,GAAL,CAAS3jB,CAAT,CAETtD,GAAI+8D,CAAAA,OAAJ,CAAc,CAACz5D,CAAD,CAAKC,CAAL,CAAAy5D,EACLrC,EAAK1zC,CAAAA,GAAL,CAAS0zC,EAAK34D,CAAAA,GAAL,CAASsB,CAAT,CAAaC,CAAb,CAAT,CAETvD,GAAIi9D,CAAAA,KAAJ,CAAY,CAAC35D,CAAD,CAAKC,CAAL,CAAA25D,EACHvC,EAAK4B,CAAAA,IAAL,CAAU5B,EAAK34D,CAAAA,GAAL,CAASsB,CAAT,CAAaC,CAAb,CAAV,CAETvD,GAAIyqD,CAAAA,IAAJ,CAAW,CAACnnD,CAAD,CAAKC,CAAL,CAAA45D,EACFl\/D,IAAKw9B,CAAAA,KAAL,CAAWn4B,CAAA,CAAG,CAAH,CAAX,CAAmBC,CAAA,CAAG,CAAH,CAAnB,CAA0BD,CAAA,CAAG,CAAH,CAA1B,CAAkCC,CAAA,CAAG,CAAH,CAAlC,CAETvD,GAAIo9D,CAAAA,QAAJ,CAAe,CAAC95D,CAAD,CAAKC,CAAL,CAAA85D,EAAY,CACnBC,CAAAA,CAAK,CAAC\/5D,CAAA,CAAG,CAAH,CAAD,CAASD,CAAA,CAAG,CAAH,CAAT,CAAgBC,CAAA,CAAG,CAAH,CAAhB,CAAwBD,CAAA,CAAG,CAAH,CAAxB,CACLi6D,EAAAA,CAAK,CAACt\/D,IAAKq6B,CAAAA,GAAL,CAASglC,CAAA,CAAG,CAAH,CAAT,CAAD,CAAkBr\/D,IAAKq6B,CAAAA,GAAL,CAASglC,CAAA,CAAG,CAAH,CAAT,CAAlB,CACX,KAAIl8D,EAAK,CAALA,CAASnD,IAAKC,CAAAA,GAAL,CAASq\/D,CAAA,CAAG,CAAH,CAAT,CAAgBA,CAAA,CAAG,CAAH,CAAhB,CACRn8D,EAAL,EAAW,OAAX,EAAsBm8D,CAAA,CAAG,CAAH,CAAtB,CAA8BA,CAAA,CAAG,CAAH,CAA9B,EAAuCn8D,CAAvC,CAA4C,MAC5C,OAAO,CAACk8D,CAAA,CAAG,CAAH,CAAD,CAASl8D,CAAT,CAAak8D,CAAA,CAAG,CAAH,CAAb,CAAqBl8D,CAArB,CALkB,CAO3BpB,GAAIw9D,CAAAA,GAAJ,CAAU,CAACl6D,CAAD,CAAKC,CAAL,CAAAk6D,EACDx\/D,IAAKs9B,CAAAA,KAAL,CAAWo\/B,EAAK0B,CAAAA,GAAL,CAAS\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\/B,EAAK34D,CAAAA,GAAL,CAASq5B,CAAT,CAAa\/3B,CAAb,CAAT,CAA2BR,CAA3B,CAAb,CAAb,CAET9C,GAAIm\/D,CAAAA,0BAAJ,CAAiC,CAAC77D,CAAD,CAAKR,CAAL,CAASu4B,CAAT,CAAA+jC,EACxBzE,EAAKlQ,CAAAA,IAAL,CAAUpvB,CAAV,CAAcs\/B,EAAKsE,CAAAA,8BAAL,CAAoC37D,CAApC,CAAwCR,CAAxC,CAA4Cu4B,CAA5C,CAAd,CAETr7B,GAAIq\/D,CAAAA,yBAAJ,CAAgC,CAAC\/7D,CAAD,CAAKC,CAAL,CAAS83B,CAAT,CAAa5O,EAAA,CAAS,CAAA,CAAtB,CAAA6yC,EAA+B,CAC7D,MAAMx8D,GAAK63D,EAAK1zC,CAAAA,GAAL,CAAS0zC,EAAK34D,CAAAA,GAAL,CAASuB,CAAT,CAAaD,CAAb,CAAT,CACLigD,EAAAA,CAAKoX,EAAKx6D,CAAAA,GAAL,CAASmD,CAAT,CAAaq3D,EAAKn4D,CAAAA,GAAL,CAASM,EAAT,CAAa63D,EAAK+B,CAAAA,GAAL,CAAS\/B,EAAK34D,CAAAA,GAAL,CAASq5B,CAAT,CAAa\/3B,CAAb,CAAT,CAA2BR,EAA3B,CAAb,CAAb,CACX;GAAI2pB,EAAJ,CAAY,CACV,GAAI82B,CAAA,CAAG,CAAH,CAAJ,CAAYtlD,IAAK6uB,CAAAA,GAAL,CAASxpB,CAAA,CAAG,CAAH,CAAT,CAAgBC,CAAA,CAAG,CAAH,CAAhB,CAAZ,CACE,MAAOD,EAAA,CAAG,CAAH,CAAA,CAAQC,CAAA,CAAG,CAAH,CAAR,CAAgBD,CAAhB,CAAqBC,CAC9B,IAAIggD,CAAA,CAAG,CAAH,CAAJ,CAAYtlD,IAAKC,CAAAA,GAAL,CAASoF,CAAA,CAAG,CAAH,CAAT,CAAgBC,CAAA,CAAG,CAAH,CAAhB,CAAZ,CACE,MAAOD,EAAA,CAAG,CAAH,CAAA,CAAQC,CAAA,CAAG,CAAH,CAAR,CAAgBD,CAAhB,CAAqBC,CAC9B,IAAIggD,CAAA,CAAG,CAAH,CAAJ,CAAYtlD,IAAK6uB,CAAAA,GAAL,CAASxpB,CAAA,CAAG,CAAH,CAAT,CAAgBC,CAAA,CAAG,CAAH,CAAhB,CAAZ,CACE,MAAOD,EAAA,CAAG,CAAH,CAAA,CAAQC,CAAA,CAAG,CAAH,CAAR,CAAgBD,CAAhB,CAAqBC,CAC9B,IAAIggD,CAAA,CAAG,CAAH,CAAJ,CAAYtlD,IAAKC,CAAAA,GAAL,CAASoF,CAAA,CAAG,CAAH,CAAT,CAAgBC,CAAA,CAAG,CAAH,CAAhB,CAAZ,CACE,MAAOD,EAAA,CAAG,CAAH,CAAA,CAAQC,CAAA,CAAG,CAAH,CAAR,CAAgBD,CAAhB,CAAqBC,CARpB,CAUZ,MAAOggD,EAbsD,CAe\/DvjD,GAAIu\/D,CAAAA,qBAAJ,CAA4B,CAACj8D,CAAD,CAAKC,CAAL,CAAS83B,CAAT,CAAa5O,EAAA,CAAS,CAAA,CAAtB,CAAA+yC,EACnB7E,EAAKlQ,CAAAA,IAAL,CAAUpvB,CAAV,CAAcs\/B,EAAK0E,CAAAA,yBAAL,CAA+B\/7D,CAA\/B,CAAmCC,CAAnC,CAAuC83B,CAAvC,CAA2C5O,EAA3C,CAAd,CAETzsB,GAAIy\/D,CAAAA,KAAJ,CAAY,CAACn8D,CAAD,CAAKC,CAAL,CAASpC,CAAT,CAAAu+D,EACN\/E,EAAKv3D,CAAAA,OAAL,CAAaE,CAAb,CAAiBC,CAAjB,CAAJ,CACSD,CADT,CAEOq3D,EAAKx6D,CAAAA,GAAL,CAASmD,CAAT,CAAaq3D,EAAKn4D,CAAAA,GAAL,CAASm4D,EAAK1zC,CAAAA,GAAL,CAAS0zC,EAAK34D,CAAAA,GAAL,CAASuB,CAAT,CAAaD,CAAb,CAAT,CAAT,CAAqCnC,CAArC,CAAb,CAETnB,GAAI2\/D,CAAAA,YAAJ,CAAmB,CAACr8D,CAAD,CAAKlF,CAAL,CAAS+C,CAAT,CAAAy+D,EACV,CAAC3hE,IAAK2tD,CAAAA,GAAL,CAASxtD,CAAT,CAAD,CAAgB+C,CAAhB,CAAqBmC,CAAA,CAAG,CAAH,CAArB,CAA4BrF,IAAK0tD,CAAAA,GAAL,CAASvtD,CAAT,CAA5B,CAA2C+C,CAA3C,CAAgDmC,CAAA,CAAG,CAAH,CAAhD,CAETtD,GAAI6\/D,CAAAA,WAAJ,CAAkB,CAACzhE,CAAD,CAAK0M,CAAA,CAAK,CAAV,CAAAg1D,EACT,CAAC,CAAC1hE,CAAA,CAAG,CAAH,CAAMyhE,CAAAA,WAAN,CAAkB\/0D,CAAlB,CAAF,CAAyB,CAAC1M,CAAA,CAAG,CAAH,CAAMyhE,CAAAA,WAAN,CAAkB\/0D,CAAlB,CAA1B,CAET9K;EAAI+\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\/D,CAAD,CAAS,CAC5B,MAAOg\/D,GAAY\/gE,CAAAA,iBAAZ,CAA8B,CAAC+B,CAAOC,CAAAA,IAAR,CAAcD,CAAOE,CAAAA,IAArB,CAA9B,CAA0D,CAACF,CAAO3C,CAAAA,KAAR,CAAe2C,CAAO5C,CAAAA,MAAtB,CAA1D,CADqB,CAGvB8hE,mBAAY,CAACl\/D,CAAD,CAASgkB,CAAT,CAAgB,CACjC,MAAO,CACL\/jB,KAAMD,CAAOC,CAAAA,IAAbA,CAAoB+jB,CADf,CAEL9jB,KAAMF,CAAOE,CAAAA,IAAbA,CAAoB8jB,CAFf,CAGLkP,KAAMlzB,CAAOkzB,CAAAA,IAAbA,CAAoBlP,CAHf,CAILmP,KAAMnzB,CAAOmzB,CAAAA,IAAbA,CAAoBnP,CAJf,CAKL3mB,MAAO2C,CAAO3C,CAAAA,KAAdA,CAA8B,CAA9BA,CAAsB2mB,CALjB,CAML5mB,OAAQ4C,CAAO5C,CAAAA,MAAfA,CAAgC,CAAhCA,CAAwB4mB,CANnB,CAD0B,CAU5Bm7C,oBAAa,CAACxiE,CAAD,CAAKC,CAAL,CAAS,CAC3B,MAAO,EAAED,CAAGu2B,CAAAA,IAAL,CAAYt2B,CAAGqD,CAAAA,IAAf,EAAuBtD,CAAGsD,CAAAA,IAA1B,CAAiCrD,CAAGs2B,CAAAA,IAApC,EAA4Cv2B,CAAGw2B,CAAAA,IAA\/C,CAAsDv2B,CAAGsD,CAAAA,IAAzD,EAAiEvD,CAAGuD,CAAAA,IAApE,CAA2EtD,CAAGu2B,CAAAA,IAA9E,CADoB,CAGtBisC,oBAAa,CAACziE,CAAD;AAAKC,CAAL,CAAS,CAC3B,MAAI+G,MAAMsG,CAAAA,OAAN,CAAcrN,CAAd,CAAJ,CACSD,CAAGsD,CAAAA,IADZ,CACmBrD,CAAA,CAAG,CAAH,CADnB,EAC4BD,CAAGuD,CAAAA,IAD\/B,CACsCtD,CAAA,CAAG,CAAH,CADtC,EAC+CD,CAAGw2B,CAAAA,IADlD,CACyDv2B,CAAA,CAAG,CAAH,CADzD,EACkED,CAAGu2B,CAAAA,IADrE,CAC4Et2B,CAAA,CAAG,CAAH,CAD5E,CAGOD,CAAGsD,CAAAA,IAHV,CAGiBrD,CAAGqD,CAAAA,IAHpB,EAG4BtD,CAAGuD,CAAAA,IAH\/B,CAGsCtD,CAAGsD,CAAAA,IAHzC,EAGiDvD,CAAGw2B,CAAAA,IAHpD,CAG2Dv2B,CAAGu2B,CAAAA,IAH9D,EAGsEx2B,CAAGu2B,CAAAA,IAHzE,CAGgFt2B,CAAGs2B,CAAAA,IAJxD,CAMtBmsC,sBAAe,CAAC1iE,CAAD,CAAKC,CAAL,CAAS,CAC7B,MAAOoiE,GAAYI,CAAAA,aAAZ,CAA0BxiE,CAA1B,CAA8BD,CAA9B,CADsB,CAGxB2iE,qBAAc,CAAC3iE,CAAD,CAAKC,CAAL,CAAS,CAC5B,MAAO,EAAEA,CAAGs2B,CAAAA,IAAL,GAAcv2B,CAAGu2B,CAAAA,IAAjB,EAAyBt2B,CAAGqD,CAAAA,IAA5B,GAAqCtD,CAAGsD,CAAAA,IAAxC,EAAgDrD,CAAGu2B,CAAAA,IAAnD,GAA4Dx2B,CAAGw2B,CAAAA,IAA\/D,EAAuEv2B,CAAGsD,CAAAA,IAA1E,GAAmFvD,CAAGuD,CAAAA,IAAtF,CADqB,CAGvBq\/D,0BAAmB,CAACxhE,CAAD,CAASK,CAAA,CAAW,CAApB,CAAuB,CAC\/C,IAAI6B,EAAO9C,QAAX,CACI+C,GAAO\/C,QADX,CAEI+1B,GAAO,CAAC\/1B,QAFZ,CAGIg2B,GAAO,CAACh2B,QACZ,IAAoB,CAApB,CAAIY,CAAOR,CAAAA,MAAX,CAEE2C,EAEA,CAHAD,CAGA,CAHO,CAGP,CAAAkzB,EAAA,CADAD,EACA,CADO,CAHT,KAME,KAAK,MAAMh1B,EAAX,GAAoBH,EAApB,CACEkC,CAGA,CAHOzD,IAAK6uB,CAAAA,GAAL,CAASntB,EAAA,CAAM,CAAN,CAAT,CAAmB+B,CAAnB,CAGP,CAFAC,EAEA,CAFO1D,IAAK6uB,CAAAA,GAAL,CAASntB,EAAA,CAAM,CAAN,CAAT,CAAmBgC,EAAnB,CAEP,CADAgzB,EACA,CADO12B,IAAKC,CAAAA,GAAL,CAASyB,EAAA,CAAM,CAAN,CAAT,CAAmBg1B,EAAnB,CACP,CAAAC,EAAA;AAAO32B,IAAKC,CAAAA,GAAL,CAASyB,EAAA,CAAM,CAAN,CAAT,CAAmBi1B,EAAnB,CAGX,OAAiB,EAAjB,GAAI\/0B,CAAJ,CACS4gE,EAAYO,CAAAA,mBAAZ,CACLxhE,CAAOqE,CAAAA,GAAP,CAAYo9D,EAAD,EAASjhE,EAAIC,CAAAA,OAAJ,CAAYghE,EAAZ,CAAiB,EAAEv\/D,CAAF,CAASizB,EAAT,EAAiB,CAAjB,EAAqBhzB,EAArB,CAA4BizB,EAA5B,EAAoC,CAApC,CAAjB,CAAyD\/0B,CAAzD,CAApB,CADK,CADT,CAKO,CACL6B,KAAAA,CADK,CAELC,KAAAA,EAFK,CAGLgzB,KAAAA,EAHK,CAILC,KAAAA,EAJK,CAKL91B,MAAOb,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYy2B,EAAZ,CAAmBjzB,CAAnB,CALF,CAML7C,OAAQZ,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY02B,EAAZ,CAAmBjzB,EAAnB,CANH,CAvBwC,CAgC1Cu\/D,mBAAY,CAACz\/D,CAAD,CAAS9B,CAAT,CAAgB,CACjC,MAAMwhE,EAAeV,EAAYW,CAAAA,eAAZ,CAA4B3\/D,CAA5B,CAGrB,OAAOg\/D,GAAYY,CAAAA,eAAZ,CAA4B5\/D,CAA5B,CAAoC,CAFhC9B,CAAA,CAAM,CAAN,CAEgC,CAFrBwhE,CAAA,CAAa,CAAb,CAEqB,CADhCxhE,CAAA,CAAM,CAAN,CACgC,CADrBwhE,CAAA,CAAa,CAAb,CACqB,CAApC,CAJ0B,CAM5BG,uBAAgB,CAAC7\/D,CAAD,CAAS8\/D,CAAT,CAAmB,CACxC,MAAM7\/D,EAAOzD,IAAK4\/C,CAAAA,KAAL,CAAWp8C,CAAOC,CAAAA,IAAlB,CAAyB6\/D,CAAzB,CAAP7\/D,CAA4C6\/D,CAAlD,CACM5\/D,GAAO1D,IAAK4\/C,CAAAA,KAAL,CAAWp8C,CAAOE,CAAAA,IAAlB,CAAyB4\/D,CAAzB,CAAP5\/D,CAA4C4\/D,CADlD,CAEM5sC,GAAO12B,IAAK4\/C,CAAAA,KAAL,CAAWp8C,CAAOkzB,CAAAA,IAAlB,CAAyB4sC,CAAzB,CAAP5sC,CAA4C4sC,CAC5C3sC,EAAAA,CAAO32B,IAAK4\/C,CAAAA,KAAL,CAAWp8C,CAAOmzB,CAAAA,IAAlB,CAAyB2sC,CAAzB,CAAP3sC,CAA4C2sC,CAClD,OAAO,CACL7\/D,KAAAA,CADK,CAELC,KAAAA,EAFK,CAGLgzB,KAAAA,EAHK,CAILC,KAAAA,CAJK,CAKL91B,MAAOb,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYy2B,EAAZ,CAAmBjzB,CAAnB,CALF,CAML7C,OAAQZ,IAAKC,CAAAA,GAAL,CAAS,CAAT;AAAY02B,CAAZ,CAAmBjzB,EAAnB,CANH,CALiC,CAcnC0\/D,sBAAe,CAAC5\/D,CAAD,CAASgkB,CAAT,CAAgB,CACpC,MAAO,CACL\/jB,KAAMD,CAAOC,CAAAA,IAAbA,CAAoB+jB,CAAA,CAAM,CAAN,CADf,CAEL9jB,KAAMF,CAAOE,CAAAA,IAAbA,CAAoB8jB,CAAA,CAAM,CAAN,CAFf,CAGLkP,KAAMlzB,CAAOkzB,CAAAA,IAAbA,CAAoBlP,CAAA,CAAM,CAAN,CAHf,CAILmP,KAAMnzB,CAAOmzB,CAAAA,IAAbA,CAAoBnP,CAAA,CAAM,CAAN,CAJf,CAKL3mB,MAAO2C,CAAO3C,CAAAA,KALT,CAMLD,OAAQ4C,CAAO5C,CAAAA,MANV,CAD6B,CAU\/B2iE,qBAAc,CAAC\/\/D,CAAD,CAASqJ,CAAT,CAAa,CAChC,MAAMhL,EAAS2gE,EAAYW,CAAAA,eAAZ,CAA4B3\/D,CAA5B,CACf,OAAOg\/D,GAAYS,CAAAA,YAAZ,CACL,CACEx\/D,KAAMD,CAAOC,CAAAA,IAAbA,CAAoBoJ,CADtB,CAEEnJ,KAAMF,CAAOE,CAAAA,IAAbA,CAAoBmJ,CAFtB,CAGE6pB,KAAMlzB,CAAOkzB,CAAAA,IAAbA,CAAoB7pB,CAHtB,CAIE8pB,KAAMnzB,CAAOmzB,CAAAA,IAAbA,CAAoB9pB,CAJtB,CAKEhM,MAAO2C,CAAO3C,CAAAA,KAAdA,CAAsBgM,CALxB,CAMEjM,OAAQ4C,CAAO5C,CAAAA,MAAfA,CAAwBiM,CAN1B,CADK,CASL,CAAChL,CAAA,CAAO,CAAP,CAAD,CAAagL,CAAb,CAAiBhL,CAAA,CAAO,CAAP,CAAjB,CAA6BgL,CAA7B,CATK,CAFyB,CAc3B22D,mBAAY,CAAChgE,CAAD,CAASqJ,CAAT,CAAa,CAC9B,MAAMhL,EAAS2gE,EAAYW,CAAAA,eAAZ,CAA4B3\/D,CAA5B,CACf,OAAOg\/D,GAAYS,CAAAA,YAAZ,CACL,CACEx\/D,KAAMD,CAAOC,CAAAA,IAAbA,CAAoBoJ,CADtB,CAEEnJ,KAAMF,CAAOE,CAAAA,IAAbA,CAAoBmJ,CAFtB,CAGE6pB,KAAMlzB,CAAOkzB,CAAAA,IAAbA,CAAoB7pB,CAHtB,CAIE8pB,KAAMnzB,CAAOmzB,CAAAA,IAAbA,CAAoB9pB,CAJtB,CAKEhM,MAAO2C,CAAO3C,CAAAA,KAAdA,CAAsBgM,CALxB,CAMEjM,OAAQ4C,CAAO5C,CAAAA,MAAfA,CAAwBiM,CAN1B,CADK,CASL,CAAChL,CAAA,CAAO,CAAP,CAAD;AAAagL,CAAb,CAAiBhL,CAAA,CAAO,CAAP,CAAjB,CAA6BgL,CAA7B,CATK,CAFuB,CAczB42D,uBAAgB,CAACjgE,CAAD,CAAS5B,CAAA,CAAW,CAApB,CAAuB,CACtC8hE,CAAAA,CAAUlB,EAAYmB,CAAAA,iBAAZ,CAA8BngE,CAA9B,CAAsC5B,CAAtC,CAEhB,KAAI8B,EADAD,CACAC,CADO\/C,QACX,CACI+1B,GAAO,CAAC\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\/BuiE,sBAAe,CAAC3\/D,CAAD,CAAS,CAC7B,MAAO,CAACA,CAAOC,CAAAA,IAAR,CAAeD,CAAO3C,CAAAA,KAAtB,CAA8B,CAA9B,CAAiC2C,CAAOE,CAAAA,IAAxC,CAA+CF,CAAO5C,CAAAA,MAAtD,CAA+D,CAA\/D,CADsB,CAGxBolE,0BAAmB,CAACxiE,CAAD,CAAS,CACjC,MAAM3B,EAAS2gE,EAAYW,CAAAA,eAAZ,CAA4B3\/D,CAA5B,CACf;MAAO+C,GAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBhD,CAAnB,CAAd,CAA0C,CAC\/CyiE,KAAMpkE,CAAA,CAAO,CAAP,CADyC,CAE\/CqkE,KAAMrkE,CAAA,CAAO,CAAP,CAFyC,CAA1C,CAF0B,CAO5BskE,uBAAgB,CAAC5kE,CAAD,CAAS,CAC9B,MAAMstB,EAAM,CAACluB,QAAD,CAAWA,QAAX,CACZY,EAAOyY,CAAAA,OAAP,CAAgBtY,CAAD,EAAW,CACxBmtB,CAAA,CAAI,CAAJ,CAAA,CAAS7uB,IAAK6uB,CAAAA,GAAL,CAASA,CAAA,CAAI,CAAJ,CAAT,CAAiBntB,CAAA,CAAM,CAAN,CAAjB,CACTmtB,EAAA,CAAI,CAAJ,CAAA,CAAS7uB,IAAK6uB,CAAAA,GAAL,CAASA,CAAA,CAAI,CAAJ,CAAT,CAAiBntB,CAAA,CAAM,CAAN,CAAjB,CAFe,CAA1B,CAIA,OAAOmtB,EANuB,CAQzBu3C,sBAAe,CAAC5iE,CAAD,CAAS6iE,CAAT,CAAiBC,CAAjB,CAA+B,CACnD,MAAMjhE,GAAKmB,EAAA,CAAe,EAAf,CAAmBhD,CAAnB,CACLlE,EAAAA,CAAS,CAAC,CAAD,CAAI,CAAJ,CACf,OAAMinE,GAAY,EAAlB,CACMC,GAAQ,CACZ,KAAqB,CAAEv+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CADT,CAEZ,KAAqB,CAAEx+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CAFT,CAGZ,KAAqB,CAAEx+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CAHT,CAIZ,KAAqB,CAAEx+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CAJT,CAKZ,KAAqB,CAAEx+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CALT,CAMZ,KAAqB,CAAEx+C,GAAI,MAAN,CAAyBw+C,UAAW,CAAA,CAApC,CANT,CADd,CASMC,GAAK,CAAC,MAAD,CAAoB,MAApB,CAAuC,MAAvC,CATX,CAUMC,GAAK,CAAC,MAAD,CAAoB,MAApB,CAAuC,MAAvC,CACLC,EAAAA,CAAcP,CAAOzgE,CAAAA,GAAP,CAAYN,EAAD,EAAQ,CACrC,MAAML,GAAKyhE,EAAGG,CAAAA,OAAH,CACT,CAAChwD,EAAD;AAAK\/V,EAAL,CAAA,EAAY4lE,EAAG9gE,CAAAA,GAAH,CAAO,CAACD,EAAD,CAAI+pD,EAAJ,CAAA,EAAW,CAC5B,MAAMoX,GAAMzhE,EAAA,CAAGwR,EAAH,CAANiwD,CAAexhE,EAAA,CAAGK,EAAH,CAErB,OAAO,CACLs3C,EAAGpmC,EADE,CAELlR,EAAAA,EAFK,CAGLmhE,IAAAA,EAHK,CAIL1+C,SALepoB,IAAKq6B,CAAAA,GAALjS,CAAS0+C,EAAT1+C,CACV,CAKL2+C,UAAkB,CAAlBA,GAAWjmE,EAAXimE,EAAmC,CAAnCA,GAAuBjmE,EAAvBimE,CAA4BrX,EALvB,CAHqB,CAAlB,CADH,CAAX,CAaMxqD,GAAKyhE,EAAGE,CAAAA,OAAH,CACT,CAAChwD,EAAD,CAAK\/V,EAAL,CAAA,EAAY6lE,EAAG\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\/C,CAAAA,SAAN,EACf,OAAO,CACLr\/C,GAAIN,EAAMM,CAAAA,EADL,CAELvmB,MAAO,CAAC8B,EAAOC,CAAAA,IAAR,CAAcD,EAAOE,CAAAA,IAArB,CAFF,CAGLF,OAAAA,EAHK,CAIL3B,OAAQ8lB,EAAMY,CAAAA,SAAN,EAJH,CAF8B,CAAvB,CASVtb,EAAAA,CAAMyZ,CAAQ3lB,CAAAA,MACpB,KAAMwmE,GAAe\/E,EAAYsB,CAAAA,eAAZ,CAA4Bp9C,CAAQ9gB,CAAAA,GAAR,CAAY,CAAC,CAAE,OAAApC,EAAF,CAAD,CAAA,EAAgBA,EAA5B,CAA5B,CACrB,OAAMsB,GAAU,EAChB,QAAQqd,CAAR,EACE,KAAK,YAAL,CACQqlD,CAAAA,CAAO9gD,CAAQzgB,CAAAA,MAAR,CAAe,CAAC9F,EAAD,CAAKsE,EAAL,CAAA,EAAYtE,EAAZ,CAAiBsE,EAAGjB,CAAAA,MAAO3C,CAAAA,KAA1C,CAAiD,CAAjD,CACb,IAAI2mE,CAAJ,CAAWD,EAAa1mE,CAAAA,KAAxB,CAA+B,CAC7B,MAAMqwB,GAAOxK,CAAQxmB,CAAAA,IAAR,CAAa,CAACC,EAAD,CAAKC,EAAL,CAAA,EAAYD,EAAGqD,CAAAA,MAAOC,CAAAA,IAAtB,CAA6BrD,EAAGoD,CAAAA,MAAOC,CAAAA,IAApD,CAAA,CAA0D,CAA1D,CAAb,CACM+nD,GAAQ9kC,CAAQxmB,CAAAA,IAAR,CAAa,CAACC,EAAD,CAAKC,EAAL,CAAA,EAAYA,EAAGoD,CAAAA,MAAOkzB,CAAAA,IAAtB,CAA6Bv2B,EAAGqD,CAAAA,MAAOkzB,CAAAA,IAApD,CAAA,CAA0D,CAA1D,CACR+wC,GAAAA,CAAgB\/gD,CAAQhhB,CAAAA,MAAR,CAAgBvF,EAAD,EAAQA,EAAR,GAAe+wB,EAAf,EAAuB\/wB,EAAvB,GAA8BqrD,EAA7C,CAAoDtrD,CAAAA,IAApD,CAAyD,CAACC,EAAD,CAAKC,EAAL,CAAA,EAAYD,EAAG0B,CAAAA,MAAH,CAAU,CAAV,CAAZ,CAA2BzB,EAAGyB,CAAAA,MAAH,CAAU,CAAV,CAApF,CACtB,OAAMoxC,IAAQuY,EAAM3pD,CAAAA,MAAN,CAAa,CAAb,CAARoxC,CAA0B\/hB,EAAKrvB,CAAAA,MAAL,CAAY,CAAZ,CAA1BoxC;CAA6ChmC,CAA7CgmC,CAAmD,CAAnDA,CAAN,CACMvwC,GAAKwuB,EAAKrvB,CAAAA,MAAL,CAAY,CAAZ,CAALa,CAAsBuwC,EAC5Bw0B,GAAcztD,CAAAA,OAAd,CAAsB,CAAC,CAAE,GAAI8Z,EAAN,CAAW,MAAApyB,EAAX,CAAkB,OAAA8B,EAAlB,CAAD,CAA6B1C,EAA7B,CAAA,EAAoC,CACxDgE,EAAQ3D,CAAAA,IAAR,CAAa,CACX8mB,GAAI6L,EADO,CAEXne,KAAMjU,EAFK,CAGX8L,KAAM,CAAC9K,EAAD,CAAMuwC,EAAN,CAAanyC,EAAb,CAAkB0C,EAAO3C,CAAAA,KAAzB,CAAiC,CAAjC,CAAoC2C,EAAOE,CAAAA,IAA3C,CAHK,CAAb,CADwD,CAA1D,CAN6B,CAA\/B,IAaO,CACC+jE,CAAAA,CAAgB\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\/D,MAAOm\/D,CAAAA,WAAP,CACxBP,CAAQzhE,CAAAA,GAAR,CAAaxC,EAAD,EAAQ,CAACA,EAAG6kB,CAAAA,EAAJ,CAAQ,CAAC7kB,EAAGI,CAAAA,MAAOC,CAAAA,IAAX,CAAiBL,EAAGI,CAAAA,MAAOE,CAAAA,IAA3B,CAAR,CAApB,CADwB,CAGpBgjB,EAAAA,CAAU2gD,CAAQ3hE,CAAAA,MAAR,CAAgBtC,EAAD,EAAQ,CAAA,IACjCumB,EADiC,CAC5BkI,EAD4B,CACxBC,EADwB,CACpB+1C,EACjB,OAAO,GAAmE,IAAhE,GAACh2C,EAAD,CAAkC,IAA5B,GAAClI,EAAD,CAAOvmB,EAAG8H,CAAAA,KAAMge,CAAAA,OAAhB,EAAmC,IAAK,EAAxC,CAA4CS,EAAIR,CAAAA,KAAtD,EAAuE,CAAvE,CAAgF0I,EAAGhK,CAAAA,SAAtF,IAAiK,IAA5D,GAACggD,EAAD,CAAiC,IAA3B,GAAC\/1C,EAAD,CAAM1uB,EAAG8H,CAAAA,KAAMge,CAAAA,OAAf,EAAkC,IAAK,EAAvC,CAA2C4I,EAAG1I,CAAAA,GAApD,EAAmE,CAAnE,CAA4Ey+C,EAAGhgD,CAAAA,SAApL,EAF8B,CAAvB,CAGbjiB,CAAAA,GAHa,CAGR+hB,EAAD,EAAW,CAChB,MAAMnkB,GAASmkB,EAAM2\/C,CAAAA,SAAN,EACf,OAAO,CACLr\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\/D,CAAAA,qBAAJ,CAA0B\/\/D,CAAA,CAAOT,EAAP,CAAY,CAAZ,CAA1B,CAA0CS,CAAA,CAAOT,EAAP,CAA1C,CAAsDuE,CAAtD,CAAJ,CAAgE+iB,CAAhE,CACE,MAAO,CAAA,CAGX,OAAO,CAAA,CANwC,CAQ1CogD,oBAAa,CAAC3iE,CAAD,CAAKw6D,CAAL,CAASoI,CAAT,CAAc,CAChC,IAAI\/lE,GAAK29D,CAAA,CAAG,CAAH,CACL19D,EAAAA,CAAK09D,CAAA,CAAG,CAAH,CACT,KAAIz9D,GAAK6lE,CAAA,CAAI,CAAJ,CAAL7lE,CAAcF,EAAlB,CACIG,GAAK4lE,CAAA,CAAI,CAAJ,CAAL5lE,CAAcF,CAClB,IAAW,CAAX,GAAIC,EAAJ,EAAuB,CAAvB,GAAgBC,EAAhB,CAA0B,CACxB,MAAM8C,KAAME,CAAA,CAAG,CAAH,CAANF,CAAcjD,EAAdiD,EAAoB\/C,EAApB+C,EAA0BE,CAAA,CAAG,CAAH,CAA1BF,CAAkChD,CAAlCgD,EAAwC9C,EAAxC8C,GAA+C\/C,EAA\/C+C,CAAoD\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\/D,CAAAA,qBAAJp+D,CAFA3B,CAAA8+D,CAAOv\/D,EAAPu\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\/C,MAAO2\/C,CAAAA,KAAP,CAAaH,EAAb,CAAJ,EAA6B,CAACx\/C,MAAO2\/C,CAAAA,KAAP,CAAaF,EAAb,CAA9B,CACE,CADF,CACS,CAySkCF,CAzSjC,CAAG,CAAH,CAAA,CAAM,CAAN,CAAD,EAySkCA,CAzStB,CAAG,CAAH,CAAA,CAAM,CAAN,CAAZ,CAAuBG,EAAA,CAAG,CAAH,CAAA,CAAM,CAAN,CAAvB,EAAmCD,EAAnC,CAA6CC,EAAA,CAAG,CAAH,CAAA,CAAM,CAAN,CAA7C,CADT,CAGI1\/C,MAAO2\/C,CAAAA,KAAP,CAAaF,EAAb,CAAJ,EAA6B,CAACz\/C,MAAO2\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\/D,EAAvB,CAA2Bx6D,EAA3B,CAA+BwG,EAA\/B,CAPqD,CASvD,MAAO4gE,EAbkF,CAA3F,CAeApX,GAAA,CA5DmBoW,EA4DnB,CAA4B,qBAA5B,CAAmD,CAACtqE,CAAD,CAAOkvB,CAAA,CAAU,CAAjB,CAAoBm\/B,CAAA,CAAQ,CAA5B,CAAA,EAAkC,CACnF,MAAM,CAACvK,EAAD,CAAKzD,EAAL,CAAA,CAAWrgD,CACjB,KAAMwB,GAAK,CAALA,CAAS6sD,CACT3qD,EAAAA,CAAK,CAACogD,EAAD,CAAM,CAAN,CAAS50B,CAAT,CAAmB,CAAnB,CACLvrB,EAAAA,CAAK,CAACmgD,EAAD,CAAM50B,CAAN,CAAemxB,EAAf,CAAoBnxB,CAApB,CACLy0B,EAAAA,CAAK,CAACz0B,CAAD,CAAW,CAAX,CAAcmxB,EAAd,CAAmBnxB,CAAnB,CACX,OAAMu8C,GAAWnB,EAAcC,CAAAA,kBAAd,CAAiC,CAAC7mE,CAAD,CAAKC,CAAL,CAASggD,CAAT,CAAjC,CAAjB,CACMxhD,GAAKokB,EAAYw3C,CAAAA,GAAZ,CAAgBr6D,CAAhB,CAAoBC,CAApB,CADX,CAEM+nE,GAAKnlD,EAAYw3C,CAAAA,GAAZ,CAAgBp6D,CAAhB,CAAoBggD,CAApB,CAFX,CAGMgoB,GAAKplD,EAAYw3C,CAAAA,GAAZ,CAAgBpa,CAAhB,CAAoBjgD,CAApB,CAHX,CAIMkoE,GAAMrlD,EAAYskC,CAAAA,IAAZ,CAAiB1oD,EAAjB,CAAqBspE,EAArB,CAANG,CAAuCpqE,EAJ7C,CAKMqqE,GAAMtlD,EAAYskC,CAAAA,IAAZ,CAAiB6gB,EAAjB,CAAqBD,EAArB,CAANI,CAAuCrqE,EACvCsqE,GAAAA,EAAMvlD,EAAYskC,CAAAA,IAAZ,CAAiB8gB,EAAjB,CAAqBF,EAArB,CACZ,OAAO,CACL\/nE,CADK,CAELkoE,EAAA,CAAMrlD,EAAYs5C,CAAAA,KAAZ,CAAkB19D,EAAlB,CAAsBspE,EAAtB;AAAgCG,EAAhC,CAAN,CAA6CzpE,EAFxC,CAGLwB,CAHK,CAILkoE,EAAA,CAAMtlD,EAAYs5C,CAAAA,KAAZ,CAAkB6L,EAAlB,CAAsBD,EAAtB,CAAgCI,EAAhC,CAAN,CAA6CH,EAJxC,CAKL\/nB,CALK,CAMLmoB,EAAA,CAAMvlD,EAAYs5C,CAAAA,KAAZ,CAAkB8L,EAAlB,CAAsBF,EAAtB,CAAgCK,EAAhC,CAAN,CAA6CH,EANxC,CAb4E,CAArF,CAsBAzX,GAAA,CAlFmBoW,EAkFnB,CAA4B,iBAA5B,CAA+C,CAACpqE,CAAD,CAASF,CAAT,CAAeqrE,CAAf,CAAsBhd,EAAA,CAAQ,CAA9B,CAAA,EAAoC,CACjF,MAAM0d,GAAQxlD,EAAY01C,CAAAA,GAAZ,CAAgBj8D,CAAhB,CAAsB,CAAtB,CAAd,CACMgsE,GAAQzlD,EAAY3jB,CAAAA,GAAZ,CAAgBmpE,EAAhB,CAAuB1d,EAAvB,CAA+B,CAA\/B,CADd,CAEM\/c,GAAOw2B,EAAPx2B,CAAa+5B,CAAb\/5B,CAAqB,CAC3B,OAAO9rC,MAAM4F,CAAAA,IAAN,CAAW5F,KAAA,CAAc,CAAd,CAAM6lE,CAAN,CAAX,CAA6BpnE,CAAAA,GAA7B,CAAiC,CAACqJ,EAAD,CAAKnO,EAAL,CAAA,EAAY,CAC5C8sE,EAAAA,CAAQ,CAACpE,EAAToE,CAAe9sE,EAAf8sE,CAAoB36B,EAC1B,OAAM,CAAChuC,EAAD,CAAKC,EAAL,CAAA,CAAWpE,EAAA,CAAK,CAAL,CAAS6sE,EAAT,CAAiBD,EAClC,OAAOxlD,GAAYhmB,CAAAA,GAAZ,CAAgBL,CAAhB,CAAwB,CAACoD,EAAD,CAAMjF,IAAK2tD,CAAAA,GAAL,CAASigB,EAAT,CAAN,CAAuB1oE,EAAvB,CAA4BlF,IAAK0tD,CAAAA,GAAL,CAASkgB,EAAT,CAA5B,CAAxB,CAH2C,CAA7C,CAJ0E,CAAnF,CAYA,KAAIC,GAAe,KAAA,CACVC,8BAAuB,CAACvsE,CAAD,CAAS,CACrC,GAAoB,CAApB,CAAIA,CAAOR,CAAAA,MAAX,CACE,MAAQ,wDAIV,OAAMmC,EAAK,CAAC,GAAD,CAAM,GAAG3B,CAAA,CAAO,CAAP,CAAUuL,CAAAA,KAAV,CAAgB,CAAhB,CAAmB,CAAnB,CAAT,CAAgC,GAAhC,CAAX,CACMG,EAAM1L,CAAOR,CAAAA,MACnB,KAAK,IAAID,GAAK,CAAd,CAAiBA,EAAjB,CAAsBmM,CAAtB,CAA2BnM,EAAA,EAA3B,CAAiC,CAC\/B,MAAM,CAACqoE,EAAD,CAAKC,EAAL,CAAA,CAAW7nE,CAAA,CAAOT,EAAP,CAAjB;AACM,CAACgC,EAAD,CAAKC,EAAL,CAAA,CAAWxB,CAAA,EAAQT,EAAR,CAAa,CAAb,EAAkBmM,CAAlB,CACjB\/J,EAAG\/B,CAAAA,IAAH,CAAQgoE,EAAR,CAAYC,EAAZ,EAAiBD,EAAjB,CAAsBrmE,EAAtB,EAA4B,CAA5B,EAAgCsmE,EAAhC,CAAqCrmE,EAArC,EAA2C,CAA3C,CAH+B,CAKjCG,CAAG\/B,CAAAA,IAAH,CAAQ,GAAR,CACA,OAAO+B,EAAGoE,CAAAA,IAAH,CAAQ,GAAR,CAd8B,CAgBhCymE,6BAAsB,CAACxsE,CAAD,CAAS,CACpC,GAAoB,CAApB,CAAIA,CAAOR,CAAAA,MAAX,CACE,MAAQ,wDAIV,OAAMmC,EAAK,CAAC,GAAD,CAAM,GAAG3B,CAAA,CAAO,CAAP,CAAUuL,CAAAA,KAAV,CAAgB,CAAhB,CAAmB,CAAnB,CAAT,CAAgC,GAAhC,CAAX,CACMG,EAAM1L,CAAOR,CAAAA,MACnB,KAAK,IAAID,GAAK,CAAd,CAAiBA,EAAjB,CAAsBmM,CAAtB,CAA4B,CAA5B,CAA+BnM,EAAA,EAA\/B,CAAqC,CACnC,MAAM,CAACqoE,EAAD,CAAKC,EAAL,CAAA,CAAW7nE,CAAA,CAAOT,EAAP,CAAjB,CACM,CAACgC,EAAD,CAAKC,EAAL,CAAA,CAAWxB,CAAA,CAAOT,EAAP,CAAY,CAAZ,CACjBoC,EAAG\/B,CAAAA,IAAH,CAAQgoE,EAAR,CAAYC,EAAZ,EAAiBD,EAAjB,CAAsBrmE,EAAtB,EAA4B,CAA5B,EAAgCsmE,EAAhC,CAAqCrmE,EAArC,EAA2C,CAA3C,CAHmC,CAKrC,MAAOG,EAAGoE,CAAAA,IAAH,CAAQ,GAAR,CAb6B,CAe\/B0mE,2BAAoB,CAACzsE,CAAD,CAAS0sE,CAAA,CAAS,CAAA,CAAlB,CAAwB,CACjD,MAAMhhE,EAAM1L,CAAOR,CAAAA,MACnB,IAAU,CAAV,CAAIkM,CAAJ,CACE,MAAQ,EAEV,KAAI9M,GAAKoB,CAAA,CAAO,CAAP,CAAT,CACInB,GAAKmB,CAAA,CAAO,CAAP,CACT,KAAMkD,GAAKlD,CAAA,CAAO,CAAP,CACP8V,GAAAA,CAAU,IAAGlX,EAAA,CAAG,CAAH,CAAMgoB,CAAAA,OAAN,CAAc,CAAd,CAAH,IAAuBhoB,EAAA,CAAG,CAAH,CAAMgoB,CAAAA,OAAN,CAAc,CAAd,CAAvB,KAA4C\/nB,EAAA,CAAG,CAAH,CAAM+nB,CAAAA,OAAN,CAAc,CAAd,CAA5C,IAAgE\/nB,EAAA,CAAG,CAAH,CAAM+nB,CAAAA,OAAN,CAC5E,CAD4E,CAAhE,IAEaA,EAAd\/nB,EAAAD,CAAG,CAAHA,CAAcgoB;AAAP1jB,EAAArE,CAAG,CAAHA,CAAO+nB,EAmCV,CAnCUA,EAAAA,OAAtB,CAA8B,CAA9B,CAFS,IAEiDA,EAAd\/nB,EAAAD,CAAG,CAAHA,CAAcgoB,CAAP1jB,EAAArE,CAAG,CAAHA,CAAO+nB,EAmC9C,CAnC8CA,EAAAA,OAAtB,CAA8B,CAA9B,CAF3B,IAGd,KAAK,IAAIrnB,GAAK,CAAT,CAAYb,GAAMgN,CAANhN,CAAY,CAA7B,CAAgCa,EAAhC,CAAqCb,EAArC,CAA0Ca,EAAA,EAA1C,CACEX,EAEA,CAFKoB,CAAA,CAAOT,EAAP,CAEL,CADAV,EACA,CADKmB,CAAA,CAAOT,EAAP,CAAY,CAAZ,CACL,CAAAuW,EAAA,EAAW,GAAwB8Q,EAAdhoB,EAAAA,CAAG,CAAHA,CAAcgoB,CAAP\/nB,EAAAA,CAAG,CAAHA,CAAO+nB,EA+BpB,CA\/BoBA,EAAAA,OAAtB,CAA8B,CAA9B,CAAF,IAA4DA,EAAdhoB,EAAAA,CAAG,CAAHA,CAAcgoB,CAAP\/nB,EAAAA,CAAG,CAAHA,CAAO+nB,EA+BxD,CA\/BwDA,EAAAA,OAAtB,CAA8B,CAA9B,CAAtC,GAET8lD,EAAJ,GACE52D,EADF,EACY,GADZ,CAGA,OAAOA,GAnB0C,CAqB5C62D,iCAA0B,CAAC3sE,CAAD,CAAS0sE,CAAA,CAAS,CAAA,CAAlB,CAAyB,CACxD,MAAMhhE,EAAM1L,CAAOR,CAAAA,MACnB,IAAU,CAAV,CAAIkM,CAAJ,CACE,MAAQ,EAEV,KAAI9M,GAAKoB,CAAA,CAAO,CAAP,CAAUG,CAAAA,KAAnB,CACItB,GAAKmB,CAAA,CAAO,CAAP,CAAUG,CAAAA,KACnB,KAAM+C,GAAKlD,CAAA,CAAO,CAAP,CAAUG,CAAAA,KACjB2V,GAAAA,CAAU,IAAGlX,EAAA,CAAG,CAAH,CAAMgoB,CAAAA,OAAN,CAAc,CAAd,CAAH,IAAuBhoB,EAAA,CAAG,CAAH,CAAMgoB,CAAAA,OAAN,CAAc,CAAd,CAAvB,KAA4C\/nB,EAAA,CAAG,CAAH,CAAM+nB,CAAAA,OAAN,CAAc,CAAd,CAA5C,IAAgE\/nB,EAAA,CAAG,CAAH,CAAM+nB,CAAAA,OAAN,CAC5E,CAD4E,CAAhE,IAEaA,EAAd\/nB,EAAAD,CAAG,CAAHA,CAAcgoB,CAAP1jB,EAAArE,CAAG,CAAHA,CAAO+nB,EAcV,CAdUA,EAAAA,OAAtB,CAA8B,CAA9B,CAFS,IAEiDA,EAAd\/nB,EAAAD,CAAG,CAAHA,CAAcgoB,CAAP1jB,EAAArE,CAAG,CAAHA,CAAO+nB,EAc9C,CAd8CA,EAAAA,OAAtB,CAA8B,CAA9B,CAF3B,IAGd,KAAK,IAAIrnB,GAAK,CAAT,CAAYb,GAAMgN,CAANhN,CAAY,CAA7B,CAAgCa,EAAhC;AAAqCb,EAArC,CAA0Ca,EAAA,EAA1C,CACEX,EAEA,CAFKoB,CAAA,CAAOT,EAAP,CAAWY,CAAAA,KAEhB,CADAtB,EACA,CADKmB,CAAA,CAAOT,EAAP,CAAY,CAAZ,CAAeY,CAAAA,KACpB,CAAA2V,EAAA,EAAW,GAAwB8Q,EAAdhoB,EAAAA,CAAG,CAAHA,CAAcgoB,CAAP\/nB,EAAAA,CAAG,CAAHA,CAAO+nB,EAUpB,CAVoBA,EAAAA,OAAtB,CAA8B,CAA9B,CAAF,IAA4DA,EAAdhoB,EAAAA,CAAG,CAAHA,CAAcgoB,CAAP\/nB,EAAAA,CAAG,CAAHA,CAAO+nB,EAUxD,CAVwDA,EAAAA,OAAtB,CAA8B,CAA9B,CAAtC,GAET8lD,EAAJ,GACE52D,EADF,EACY,GADZ,CAGA,OAAOA,GAnBiD,CArDzC,CA2EnBw+C,GAAA,CAAcgY,EAAd,CAA4B,cAA5B,CAA4C,kDAA5C,CAkBA,KAAIlmE,GAAa,EAAjB,CAgBI+D,GAASjD,MAAOiD,CAAAA,MAhBpB,CAiBIyiE,GAAgB1lE,MAAOuiB,CAAAA,wBAjB3B,CAkBIxhB,GAAiBf,MAAOe,CAAAA,cAlB5B,CAmBImB,GAAkBlC,MAAOsB,CAAAA,SAnB7B,CAoBIqkE,GAAc,EAClB3lE,OAAO4lE,CAAAA,MAAP,CAAcD,EAAd,CACA,KAAIvyD,GAAgB,EACpBpT,OAAO4lE,CAAAA,MAAP,CAAcxyD,EAAd,CACA,KAAIhU,GAA4B,WAA5BA,GAAW,MAAO4W,MAAtB,CACIzV,GAAoCP,MAAOM,CAAAA,QAAP,EADxC,CAiBIyF,GAAOA,QAAc,EAAG,EAjB5B,CAqFIjE,GAAmE,WAAnEA,GAA2B,MAAO9B,OAAOgC,CAAAA,qBArF7C,CAmGI4U,GAA6B,WAAnB;AAAA,MAAOqnC,QAAP,EAAkCA,OAAQrnC,CAAAA,OAA1C,CAAoDqnC,OAAQrnC,CAAAA,OAA5D,CAAsE9U,EAAA,CAA2B,QAAQ,CAACrB,CAAD,CAAM,CAC3H,MAAOT,OAAOiiB,CAAAA,mBAAP,CAA2BxhB,CAA3B,CAAgCwB,CAAAA,MAAhC,CAAuCjC,MAAOgC,CAAAA,qBAAP,CAA6BvB,CAA7B,CAAvC,CADoH,CAAzC,CAEhFT,MAAOiiB,CAAAA,mBArGX,CA4GIxL,GAA4BzW,MAAOyW,CAAAA,yBAAnCA,EAAgEovD,QAAmC,CAACvjE,CAAD,CAAS,CAC9G,IAAImJ,EAAM,EACVmL,GAAA,CAAQtU,CAAR,CAAgBiP,CAAAA,OAAhB,CAAwB,QAAQ,CAAC5O,CAAD,CAAM,CACpC8I,CAAA,CAAI9I,CAAJ,CAAA,CAAW+iE,EAAA,CAAcpjE,CAAd,CAAsBK,CAAtB,CADyB,CAAtC,CAGA,OAAO8I,EALuG,CA5GhH,CAgNIjG,GAA0CX,MAAA,CAAO,yBAAP,CAhN9C,CAqPI8R,GAAwB9R,MAAA,CAAO,qBAAP,CArP5B,CAsPIoB,GAAuB,QAAQ,EAAG,CACpC6\/D,QAASA,EAAK,CAAChvD,CAAD,CAAQ,CACN,IAAK,EAAnB,GAAIA,CAAJ,GACEA,CADF,CAC0C,MAD1C,CAGA,KAAKA,CAAAA,KAAL,CAAa,IAAK,EAElB,KAAKhG,CAAAA,gBAAL,CADA,IAAKL,CAAAA,uBACL,CAD+B,CAAA,CAE\/B,KAAKjB,CAAAA,UAAL,CAAkC,IAAI7N,GAEtC,KAAKwP,CAAAA,eAAL;AADA,IAAKhC,CAAAA,UACL,CADkB,CAElB,KAAKO,CAAAA,oBAAL,CAA4BpC,EAAkBE,CAAAA,aAE9C,KAAKu4D,CAAAA,MAAL,CADA,IAAKC,CAAAA,KACL,CADa,IAAK,EAElB,KAAKlvD,CAAAA,KAAL,CAAaA,CAbO,CAetB,IAAImvD,EAASH,CAAMxkE,CAAAA,SACnB2kE,EAAO50D,CAAAA,IAAP,CAAc60D,QAAa,EAAG,CACxB,IAAKF,CAAAA,KAAT,EACE,IAAKA,CAAAA,KAAMz0D,CAAAA,OAAX,CAAmB,QAAQ,CAACa,CAAD,CAAW,CACpC,MAAOA,EAAA,EAD6B,CAAtC,CAF0B,CAO9B6zD,EAAOl1D,CAAAA,KAAP,CAAeo1D,QAAc,EAAG,CAC1B,IAAKJ,CAAAA,MAAT,EACE,IAAKA,CAAAA,MAAOx0D,CAAAA,OAAZ,CAAoB,QAAQ,CAACa,CAAD,CAAW,CACrC,MAAOA,EAAA,EAD8B,CAAvC,CAF4B,CAOhC6zD,EAAO\/0D,CAAAA,cAAP,CAAwBk1D,QAAyB,EAAG,CAClD,MAAOl1D,GAAA,CAAe,IAAf,CAD2C,CAGpD+0D,EAAOI,CAAAA,aAAP,CAAuBC,QAAsB,EAAG,CAC9Cz6D,EAAA,EACAyF,GAAA,CAAiB,IAAjB,CACAzE,GAAA,EAH8C,CAKhDo5D,EAAO3lE,CAAAA,QAAP,CAAkBimE,QAAkB,EAAG,CACrC,MAAO,KAAKzvD,CAAAA,KADyB,CAGvC,OAAOgvD,EA1C6B,CAAX,EAtP3B,CAkSI1uD,GAAyBhW,CAAA,CAA0B,MAA1B,CAAkC6E,EAAlC,CAlS7B,CAkUIgP,GAAW,CACbuxD,SAhBFC,QAAyB,CAAC\/uE,CAAD,CAAKC,CAAL,CAAS,CAChC,MAAOD,EAAP,GAAcC,CADkB,CAenB,CAEbud,WAdFwxD,QAA2B,CAAChvE,CAAD,CAAKC,CAAL,CAAS,CAClC,MAAO2lB,GAAA,CAAU5lB,CAAV;AAAcC,CAAd,CAD2B,CAYrB,CAGb,UATFgvE,QAAwB,CAACjvE,CAAD,CAAKC,CAAL,CAAS,CAC\/B,MAAIqI,OAAO4mE,CAAAA,EAAX,CACS5mE,MAAO4mE,CAAAA,EAAP,CAAUlvE,CAAV,CAAcC,CAAd,CADT,CAGOD,CAAA,GAAOC,CAAP,CAAmB,CAAnB,GAAYD,CAAZ,EAAwB,CAAxB,CAA4BA,CAA5B,GAAmC,CAAnC,CAAuCC,CAAvC,CAA4CD,CAA5C,GAAmDA,CAAnD,EAAyDC,CAAzD,GAAgEA,CAJxC,CAMlB,CAIbkvE,QAbFC,QAAwB,CAACpvE,CAAD,CAAKC,CAAL,CAAS,CAC\/B,MAAO2lB,GAAA,CAAU5lB,CAAV,CAAcC,CAAd,CAAkB,CAAlB,CADwB,CASlB,CAlUf,CAwZI+N,GAAW,UAxZf,CA+jBIqhE,GAAiC78D,EAAA,EA\/jBrC,CAkoBI88D,GAAiC,CACnCl8D,KAAM,CAAA,CAD6B,CAEnCpK,KAAM,IAAK,EAFwB,CAGnCub,iBAAkB,IAAK,EAHY,CAInC1B,MAAO,CAAA,CAJ4B,CAMrCva,OAAO4lE,CAAAA,MAAP,CAAcoB,EAAd,CAIA,KAAI37D,GAAuCzB,EAAA,CAd1Bq9D,YAc0B,CAA3C,CACIC,GAA0Ct9D,EAAA,CAdzBu9D,gBAcyB,CAA2C,CACvFl9D,SAAU\/C,EAD6E,CAA3C,CAD9C,CAIIkgE,GAA8Cx9D,EAAA,CAhBzBy9D,oBAgByB,CAA+C,CAC\/Fp9D,SAxSFq9D,QAAwB,CAAC\/gE,CAAD,CAAKC,CAAL,CAAS9F,CAAT,CAAe,CAIrC,GAHW,IAAK,EAGhB,GAHI6F,CAGJ,EAH4B,IAG5B,GAHqBA,CAGrB,EAAI0Q,EAAA,CAAmB1Q,CAAnB,CAAJ,EAA8BuR,EAAA,CAAkBvR,CAAlB,CAA9B,EAAuD2R,EAAA,CAAgB3R,CAAhB,CAAvD,EAA8EyR,EAAA,CAAgBzR,CAAhB,CAA9E,CACE,MAAOA,EAET,IAAI7H,KAAMsG,CAAAA,OAAN,CAAcuB,CAAd,CAAJ,CACE,MAAOG,GAAWC,CAAAA,KAAX,CAAiBJ,CAAjB,CAAqB,CAC1B7F,KAAAA,CAD0B,CAE1BoK,KAAM,CAAA,CAFoB,CAArB,CAKT,IAAIhL,CAAA,CAAcyG,CAAd,CAAJ,CACE,MAAOG,GAAWE,CAAAA,MAAX,CAAkBL,CAAlB,CAAsB,IAAK,EAA3B;AAA8B,CACnC7F,KAAAA,CADmC,CAEnCoK,KAAM,CAAA,CAF6B,CAA9B,CAKT,IAAIvJ,CAAA,CAASgF,CAAT,CAAJ,CACE,MAAOG,GAAWvJ,CAAAA,GAAX,CAAeoJ,CAAf,CAAmB,CACxB7F,KAAAA,CADwB,CAExBoK,KAAM,CAAA,CAFkB,CAAnB,CAKT,IAAIpJ,CAAA,CAAS6E,CAAT,CAAJ,CACE,MAAOG,GAAWG,CAAAA,GAAX,CAAeN,CAAf,CAAmB,CACxB7F,KAAAA,CADwB,CAExBoK,KAAM,CAAA,CAFkB,CAAnB,CA1B4B,CAuS0D,CAA\/C,CAJlD,CAOIy8D,GAA6C39D,EAAA,CAlBzB49D,mBAkByB,CAA8C,CAC7Fv9D,SArQFw9D,QAA0B,CAAClhE,CAAD,CAAKkO,CAAL,CAAe,CAIvC,MAAI6I,GAAA,CAAU\/W,CAAV,CAAckO,CAAd,CAAJ,CACSA,CADT,CAGOlO,CAPgC,CAoQsD,CAA9C,CAPjD,CAUImhE,GAAgDviE,EAAA,CAA0BkG,EAA1B,CAqCpDrL,OAAOiD,CAAAA,MAAP,CAAckI,EAAd,CAAgCu8D,EAAhC,CACA,KAAIC,GAAsB,CACxBr8D,IAAKA,QAAY,CAAC1L,CAAD,CAAQyH,CAAR,CAAiB,CAC5B7D,CAAAA,CAA+B6D,CAA\/B7D,EApDUwjE,EAqDd,OAAO,KAAIY,EAAJ,CAAoBhoE,CAApB,CAA2BsL,EAAA,CAAuB1H,CAAvB,CAA3B,CAAuDA,CAAG9C,CAAAA,IAA1D,CAAgE,CAAA,CAAhE,CAAsE8C,CAAGgR,CAAAA,MAAzE,CAFyB,CADV,CAKxB7N,MAAOA,QAAc,CAACyT,CAAD,CAAgB\/S,CAAhB,CAAyB,CACxC7D,CAAAA,CAA+B6D,CAA\/B7D,EAxDUwjE,EAyDd,OAAO,CAA4B,CAAA,CAA3B,GAAAr+D,EAAYiN,CAAAA,UAAZ,EAAiD,CAAA,CAAjD,GAAoCpS,CAAG+W,CAAAA,KAAvC,CAAyDuC,CAAzD,CAA6E3C,EAA9E,EAAqGC,CAArG,CAAoHlP,EAAA,CAAuB1H,CAAvB,CAApH,CAAgJA,CAAG9C,CAAAA,IAAnJ,CAFqC,CALtB,CASxBvD,IAAKA,QAAY,CAACid,CAAD,CAAgB\/S,CAAhB,CAAyB,CACpC7D,CAAAA,CAA+B6D,CAA\/B7D,EA5DUwjE,EA6Dd,OAAO,KAAIa,EAAJ,CAAkBztD,CAAlB,CAAiClP,EAAA,CAAuB1H,CAAvB,CAAjC,CAA6DA,CAAG9C,CAAAA,IAAhE,CAFiC,CATlB,CAaxBmG,IAAKA,QAAY,CAACuT,CAAD,CAAgB\/S,CAAhB,CAAyB,CACpC7D,CAAAA,CAA+B6D,CAA\/B7D,EAhEUwjE,EAiEd,OAAO,KAAIc,EAAJ,CAAkB1tD,CAAlB,CAAiClP,EAAA,CAAuB1H,CAAvB,CAAjC,CAA6DA,CAAG9C,CAAAA,IAAhE,CAFiC,CAblB,CAiBxBkG,OAAQA,QAAe,CAACnE,CAAD;AAAQyqD,CAAR,CAAoB7lD,CAApB,CAA6B,CAC1B,GAA2B,CAAA,CAA3B,GAAAsB,EAAYiN,CAAAA,UAAZ,EAAmF,CAAA,CAAnF,IAAgD,IAAX,EAAAvO,CAAA,CAAkB,IAAK,EAAvB,CAA2BA,CAAQkT,CAAAA,KAAxE,EAA2F,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAA3F,KAAA,CAA6H,IAAA,GAAA,EAAA,CAyiDnJwtD,EAziDmJ,CAyiDpIC,EACnB7oE,EAAA,EACAmD,GAAA,CAASoU,EAAA,CAAmBpU,EAAnB,CA3iD8I+E,CA2iD9I,CACT,EAAA,CAA0E,IAAnE,GAAC2gE,EAAD,CAAwDn\/D,CAA\/Bk\/D,EAA+Bl\/D,CAAfvG,EAAA,CAAOqU,EAAP,CAAe9N,EAAAA,MAAxD,EAA0Em\/D,EAA1E,CAAiGD,EAAcl\/D,CAAAA,MAA\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\/2D,CAChD,WA4GkB5F,GA5GlB,EAD+E1H,EAC\/E,WA4GkB0H,GA5GlB,EAD4F,CAAC,IAAKg8D,CAAAA,OAAL,CAAap2D,CAAb;AAAuBtN,EAAvB,CAC7F,CACE,IAAK4hE,CAAAA,MAAL,CAAc5hE,EAYhB,OAAOkN,EAlB2C,CAoBpD4xD,EAAOoF,CAAAA,aAAP,CAAuBI,QAAsB,CAAC93D,CAAD,CAAQ,CACnD,IAAK82D,CAAAA,YAAL,CAAoB,CAAA,CACpB,KAAIv9D,GAAOjB,EAAA,CAAuB,CAAA,CAAvB,CAEX,IAAI0H,CAAJ,CACE,IAAAlI,GAAM0C,EAAA,CAAqB,IAArB,CAA2B,IAAKf,CAAAA,UAAhC,CAA4C,IAAK09D,CAAAA,MAAjD,CADR,KAGE,IAA2C,CAAA,CAA3C,GAAIniE,EAAYsF,CAAAA,sBAAhB,CACExC,EAAA,CAAM,IAAK2B,CAAAA,UAAWhN,CAAAA,IAAhB,CAAqB,IAAK0qE,CAAAA,MAA1B,CADR,KAGE,IAAI,CACFr\/D,EAAA,CAAM,IAAK2B,CAAAA,UAAWhN,CAAAA,IAAhB,CAAqB,IAAK0qE,CAAAA,MAA1B,CADJ,CAEF,MAAO5uE,EAAP,CAAU,CACVuP,EAAA,CAAM,IAAIoD,EAAJ,CAAoB3S,EAApB,CADI,CAjRlByM,EAAYoD,CAAAA,iBAAZ,CAsRuBmB,EACrB,KAAKu9D,CAAAA,YAAL,CAAoB,CAAA,CACpB,OAAOh\/D,GAnB4C,CAqBrDw6D,EAAOh1D,CAAAA,QAAP,CAAkBy6D,QAAiB,EAAG,CAC\/B,IAAKf,CAAAA,UAAV,GACE\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\/D,EAAA,EAAnD,CAA6DR,EAAI\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\/D,CAA9By\/D,EAA8Bz\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\/D,QAAa,CAAC\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\/B,IAAInL,EAAQ,IACZ\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\/C,EAAN,CAAaqI,EAAb,CAAwB,CAC\/B,IAAK,EAAvB,GAAIA,EAAJ,GACEA,EADF,CACc,CAAA,CADd,CAGA,IAAI5F,CAAA,CAAQ,IAAKyF,CAAAA,OAAb,CAAsBnF,CAAtB,CAAJ,CAAgC,CAC9B,GAAI,IAAKuU,CAAAA,OAAQC,CAAAA,GAAb,CAAiBxU,CAAjB,CAAJ,CACE,MAAO,KAAK2Z,CAAAA,uBAAL,CAA6B3Z,CAA7B;AAAkC\/C,EAAlC,CACF,IAAIqI,EAAJ,CACL,MAAOg2C,QAAQp3C,CAAAA,GAAR,CAAY,IAAKiB,CAAAA,OAAjB,CAA0BnF,CAA1B,CAA+B\/C,EAA\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\/H,WAAY,CAAA,CAFG,CAGf2I,IAAK+sE,EAAiB\/sE,CAAAA,GAHP,CAIf9C,IAAK6vE,EAAiB7vE,CAAAA,GAJP,CAMjB,IAAIoB,EAAJ,CACE,IAAI,CAACg2C,OAAQl9C,CAAAA,cAAR,CAAuB,IAAK+G,CAAAA,OAA5B,CAAqCnF,CAArC,CAA0CD,EAA1C,CAAL,CACE,MAAO,CAAA,CADT,CADF,IAKE3B,GAAA,CAAe,IAAK+G,CAAAA,OAApB,CAA6BnF,CAA7B,CAAkCD,EAAlC,CAEF,KAAI6M,GAAc,IAAIq4D,EAAJ,CAAoBhoE,EAApB,CAA2BqK,EAA3B,CAAiF,sBAAjF,CAAyG,CAAA,CAAzG,CAClB,KAAKiN,CAAAA,OAAQrQ,CAAAA,GAAb,CAAiBlE,CAAjB,CAAsB4M,EAAtB,CACA,KAAKinE,CAAAA,uBAAL,CAA6B7zE,CAA7B;AAAkC4M,EAAYw5D,CAAAA,MAA9C,CAlCE,CAAJ,OAmCU,CACRl8D,EAAA,EADQ,CAGV,MAAO,CAAA,CA1C8F,CA4CvGo5D,EAAOv8D,CAAAA,uBAAP,CAAiCitE,QAAgC,CAACh0E,CAAD,CAAM0E,EAAN,CAAeY,EAAf,CAA0B,CACvE,IAAK,EAAvB,GAAIA,EAAJ,GACEA,EADF,CACc,CAAA,CADd,CAGA,IAAI,CACF4D,EAAA,EACA,KAAI0qE,GAAgB,IAAKxH,CAAAA,OAAL,CAAapsE,CAAb,CACpB,IAAI,CAAC4zE,EAAL,CACE,MAAOA,GAET,IAAIv9D,EAAA,CAAgB,IAAhB,CAAJ,EAOM,CANSO,EAAAC,CAAgB,IAAhBA,CAAsB,CACjC5S,OAAQ,IAAKiC,CAAAA,MAAbjC,EAAuB,IAAKkB,CAAAA,OADK,CAEjCpH,KAAMiC,CAF2B,CAGjC+W,KA\/1BAk5D,KA41BiC,CAIjCzrE,SAAU,IAAK,EAJkB,CAAtBqS,CADf,CAQI,MAAO,KAGXnS,GAAQ3G,CAAAA,IAAR,GAAiB2G,EAAQ3G,CAAAA,IAAzB,CAA4E,sBAA5E,CACA2G,GAAQgH,CAAAA,OAAR,CAAkB,IAAKxF,CAAAA,MAAvB,EAAiC,IAAKf,CAAAA,OACtC,KAAI4uE,GAAmBx6D,EAAA,CAAkCvZ,CAAlC,CAAvB,CACID,GAAa,CACfxB,aAAcyH,EAAYR,CAAAA,eAAZ,CAA8B,IAAKY,CAAAA,cAAnC,CAAoD,CAAA,CADnD,CAEf\/H,WAAY,CAAA,CAFG,CAGf2I,IAAK+sE,EAAiB\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\/D,EAAlC,CAAyC2\/E,EAAzC,CAAsDx\/E,EAAtD,CAAJ,CACWA,EADX,CAGWw\/E,EAGT,CAAAj5D,EAAA,CADE8gD,EAAWZ,CAAAA,aAAX,CAAyB5mE,EAAzB,CAAgC8B,EAAhC,CAAJ,CACa,IAAK09E,CAAAA,eADlB,CAGalhF,IAAKC,CAAAA,GAAL,CACT,IAAKihF,CAAAA,eADI,CAET1e,EAAYC,CAAAA,cAAZ,CAA2Bj\/D,EAA3B,CAAmCoC,CAAAA,GAAnC,CAAwC6pC,EAAD,EAAUvnB,EAAYo5C,CAAAA,qBAAZ,CAAkC7xB,EAAA,CAAK,CAAL,CAAA,CAAQ,CAAR,CAAlC,CAA8CA,EAAA,CAAK,CAAL,CAAA,CAAQ,CAAR,CAA9C,CAA0D\/tC,EAA1D,CAAjD,CAAmHxB,CAAAA,IAAnH,CAAwH,CAACC,EAAD,CAAKC,EAAL,CAAA,EAAYD,EAAZ,CAAiBC,EAAzI,CAAA,CAA6I,CAA7I,CAFS,CAZf,CAsBO,CAJD2nB,EAIC,CAJcG,EAAY41C,CAAAA,IAAZ,CAAiB51C,EAAYnkB,CAAAA,GAAZ,CAAgB4hE,EAAhB,CAAwB,CAACwb,EAAe19E,CAAAA,IAAhB,CAAsB09E,EAAez9E,CAAAA,IAArC,CAAxB,CAAjB,CAAsF,CACzGy9E,EAAetgF,CAAAA,KAD0F,CAEzGsgF,EAAevgF,CAAAA,MAF0F,CAAtF,CAId,CAAA,CACLc,MAAOwmB,EAAY00C,CAAAA,MAAZ,CAAmB70C,EAAnB;AAAiC,CAAjC,CAAoC,CAApC,CADF,CAELK,SAAAA,EAFK,CAhCP,CAHiF,CAAnF,CAwCAytC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAC5B\/0C,EAAA,CAAKva,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmB,IAAK0E,CAAAA,KAAxB,CAAd,CAA8C,CAAEiX,KAAM,IAAKA,CAAAA,IAAb,CAAmBm\/D,MAAO,IAAKA,CAAAA,KAA\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\/2E,CAAAA,SAFX,CAEsB,OAFtB,CAE+B,CAF\/B,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2xE,EAAQ\/2E,CAAAA,SAFX,CAEsB,WAFtB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2xE,EAAQ\/2E,CAAAA,SAFX,CAEsB,OAFtB,CAE+B,CAF\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\/B,CAAyD3hF,CAAzD,CAJsC,CAA\/C,CAMAs0D,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,CAACxwD,CAAD,CAAKC,CAAL,CAAA,EAAY,CACpD,MAAM,CACJ,OAAA9B,EADI,CAEJ,MAAO,CAAE,OAAAjC,EAAF,CAAU,MAAAG,EAAV,CAFH,CAAA,CAGF,IACJ,IAAIwnE,EAAWZ,CAAAA,aAAX,CAAyBjjE,CAAzB,CAA6B7B,EAA7B,CAAJ,EAA4C0lE,EAAWZ,CAAAA,aAAX,CAAyBhjE,CAAzB,CAA6B9B,EAA7B,CAA5C,EAAwI,CAAxI,CAAoFqD,CAAA,CAA2BrD,EAA3B,CAAmC6B,CAAnC,CAAuCC,CAAvC,CAA2CvE,CAAAA,MAA\/H,CAA2I,CACzI,MAAMoiF,GAAKphF,EAAIgC,CAAAA,GAAJ,CAAQsB,CAAR,CAAY3D,EAAZ,CAAX,CACM0hF,GAAKrhF,EAAIgC,CAAAA,GAAJ,CAAQuB,CAAR,CAAY5D,EAAZ,CACX,OAAOoE,EAAA,CAA6Bq9E,EAA7B,CAAiCC,EAAjC,CAAqC7hF,EAArC,CAA6CC,CAAAA,YAApD,EAAoE,CAAC,CAACD,EAAO4wD,CAAAA,IAAP,CAAakxB,EAAD,EAAmC,CAAnC,CAAYthF,EAAIyqD,CAAAA,IAAJ,CAAS22B,EAAT,CAAaE,EAAb,CAAZ,EAA+D,CAA\/D,CAAwCthF,EAAIyqD,CAAAA,IAAJ,CAAS42B,EAAT,CAAaC,EAAb,CAApD,CAHmE,CAK3I,MAAO,CAAA,CAV6C,CAAtD,CAYAxtB,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsCryD,CAAD,EAAY,CAC\/C,MAAM,CACJ,cAAAy9E,CADI,CAEJ,MAAO,CAAE,OAAA1\/E,EAAF,CAAU,MAAAG,EAAV,CAFH,CAAA,CAGF,IAHJ,CAIM4hF,GAAU9gB,EAAYY,CAAAA,eAAZ,CAA4B5\/D,CAA5B;AAAoCzB,EAAIg7D,CAAAA,GAAJ,CAAQr7D,EAAR,CAApC,CAChB,OAAO8gE,GAAYI,CAAAA,aAAZ,CAA0Bp\/D,CAA1B,CAAkCy9E,CAAlC,CAAP,EAA2D1\/E,EAAOgiF,CAAAA,KAAP,CAAcC,EAAD,EAAUta,EAAWZ,CAAAA,aAAX,CAAyBkb,EAAzB,CAA+BF,EAA\/B,CAAvB,CAA3D,EAA8H9gB,EAAYG,CAAAA,aAAZ,CAA0Bn\/D,CAA1B,CAAkCy9E,CAAlC,CAA9H,EAAoO,CAApO,CA5uJGv6E,CAAA,CACL,CA2uJoN48E,EA3uJ5M7\/E,CAAAA,IAAR,CA2uJoN6\/E,EA3uJ\/L5\/E,CAAAA,IAArB,CADK,CAEL,CA0uJoN4\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\/B,CAAkC\/jD,EAAA,CAAM,CAAN,CAAlC,CAA6CC,EAAA,CAAK,CAAL,CAA7C,CAAuD,CAAvD,CAA2DqgD,EAA3D,CAAgE,CAAhE,CAFG,CAGVrgD,KAAM,CAAC8jD,EAAD,CAAKzD,EAAL,CAHI,CAAZ,CAJqB,CAUvB,MAAO,KAnBsC,CAA\/C,CAqBA6T,GAAA,CAAc,IAAd,CAAoB,UAApB,CAAgC,CAACosB,CAAD,CAAepvB,CAAf,CAAA,EAAwB,CACtD,MAAM,CAAE,OAAArvD,EAAF,CAAU,KAAAugF,EAAV,CAAgB,MAAAl3B,EAAhB,CAAA;AAA0BgG,CAChC,EAAI,CAAE,SAAAgxB,CAAF,CAAJ,CAAmB,IAAK34E,CAAAA,KAAxB,CACA,OAAM,CAAE,SAAU84E,EAAZ,CAAA,CAA0B\/B,CAChC,IAAI8B,EAAJ,CAAU,CACR,MAAM,CACJ,MAAO,CAACrhF,EAAD,CAAKC,EAAL,CADH,CAEJ,KAAM,CAAC8iD,EAAD,CAAKzD,EAAL,CAFF,CAAA,CAGFigC,CAHJ,CAIM,CAACt8E,EAAD,CAAIxC,EAAJ,CAAQ\/C,EAAR,CAAYoW,EAAZ,CAAA,CAAkBwtE,EAAA,CAAY78E,KAAMsG,CAAAA,OAAN,CAAcu2E,EAAd,CAAA,CAA2BA,EAA3B,CAAuC,CAACA,EAAD,CAAYA,EAAZ,CAAuBA,EAAvB,CAAkCA,EAAlC,CAAnD,CAAkG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAC1HH,EAAA,CAAW,CACTl+E,EADS,EACJnC,EAAOE,CAAAA,IADH,CACUf,EADV,EAETQ,EAFS,EAEHK,EAAOkzB,CAAAA,IAFJ,EAEYh0B,EAFZ,CAEiB+iD,EAFjB,GAGTrlD,EAHS,EAGHoD,EAAOmzB,CAAAA,IAHJ,EAGYh0B,EAHZ,CAGiBq\/C,EAHjB,GAITxrC,EAJS,EAIHhT,EAAOC,CAAAA,IAJJ,CAIWf,EAJX,EANH,CAAV,IAaoB,KAAK,EAAvB,GAAIshF,EAAJ,GACEH,CACA,CADW18E,KAAMsG,CAAAA,OAAN,CAAcu2E,EAAd,CAAA,CAA2BA,EAA3B,CAAuC,CAACA,EAAD,CAAYA,EAAZ,CAAuBA,EAAvB,CAAkCA,EAAlC,CAClD,CAAAH,CAAA,CAAW,CACTA,CAAA,CAAS,CAAT,CADS,CACKh3B,EAAA,CAAM,CAAN,CADL,CAETg3B,CAAA,CAAS,CAAT,CAFS,CAEKh3B,EAAA,CAAM,CAAN,CAFL,CAGTg3B,CAAA,CAAS,CAAT,CAHS,CAGKh3B,EAAA,CAAM,CAAN,CAHL,CAITg3B,CAAA,CAAS,CAAT,CAJS,CAIKh3B,EAAA,CAAM,CAAN,CAJL,CAFb,CAUF,IAAIg3B,CAAJ,EAAgB18E,KAAMsG,CAAAA,OAAN,CAAco2E,CAAd,CAAhB,CAAyC,CACvC,MAAMp\/E,GAAKo\/E,CACPp\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\/B,CAAiEH,CAAjE,CAFsC,CAA\/C,CAIAs0D,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,CAACxwD,CAAD,CAAKC,CAAL,CAAA,EAAY,CACpD,MAAM,CACJ,OAAA9B,EADI,CAEJ,OAAAjC,EAFI,CAGJ,MAAO,CAAE,MAAAG,EAAF,CAHH,CAAA,CAIF,IACJ,IAAIwnE,EAAWZ,CAAAA,aAAX,CAAyBjjE,CAAzB,CAA6B7B,EAA7B,CAAJ,EAA4C0lE,EAAWZ,CAAAA,aAAX,CAAyBhjE,CAAzB,CAA6B9B,EAA7B,CAA5C,EAAwI,CAAxI,CAAoFqD,CAAA,CAA2BrD,EAA3B,CAAmC6B,CAAnC,CAAuCC,CAAvC,CAA2CvE,CAAAA,MAA\/H,CAA2I,CACzI,MAAMoiF,GAAKphF,EAAIgC,CAAAA,GAAJ,CAAQsB,CAAR,CAAY3D,EAAZ,CAAX,CACM0hF,GAAKrhF,EAAIgC,CAAAA,GAAJ,CAAQuB,CAAR,CAAY5D,EAAZ,CACX,OAAOoE,EAAA,CAA6Bq9E,EAA7B,CAAiCC,EAAjC,CAAqC7hF,EAArC,CAA6CC,CAAAA,YAApD,EAAoE,CAAC,CAACD,EAAO4wD,CAAAA,IAAP,CAAakxB,EAAD,EAAmC,CAAnC,CAAYthF,EAAIyqD,CAAAA,IAAJ,CAAS22B,EAAT,CAAaE,EAAb,CAAZ,EAA+D,CAA\/D,CAAwCthF,EAAIyqD,CAAAA,IAAJ,CAAS42B,EAAT,CAAaC,EAAb,CAApD,CAHmE,CAK3I,MAAO,CAAA,CAX6C,CAAtD,CAaAxtB,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsCryD,CAAD,EAAY,CAC\/C,MAAM,CACJ,cAAAy9E,CADI;AAEJ,OAAA1\/E,EAFI,CAGJ,MAAO,CAAE,MAAAG,EAAF,CAHH,CAAA,CAIF,IAJJ,CAKM4hF,GAAU9gB,EAAYY,CAAAA,eAAZ,CAA4B5\/D,CAA5B,CAAoCzB,EAAIg7D,CAAAA,GAAJ,CAAQr7D,EAAR,CAApC,CAChB,OAAO8gE,GAAYI,CAAAA,aAAZ,CAA0Bp\/D,CAA1B,CAAkCy9E,CAAlC,CAAP,EAA2D1\/E,EAAOgiF,CAAAA,KAAP,CAAcC,EAAD,EAAUta,EAAWZ,CAAAA,aAAX,CAAyBkb,EAAzB,CAA+BF,EAA\/B,CAAvB,CAA3D,EAA8H9gB,EAAYG,CAAAA,aAAZ,CAA0Bn\/D,CAA1B,CAAkCy9E,CAAlC,CAA9H,EAAoO,CAApO,CA3+JGv6E,CAAA,CACL,CA0+JoN48E,EA1+J5M7\/E,CAAAA,IAAR,CA0+JoN6\/E,EA1+J\/L5\/E,CAAAA,IAArB,CADK,CAEL,CAy+JoN4\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\/C,CAIA\/uB,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,CAACxwD,CAAD,CAAKC,CAAL,CAAA,EAAY,CACpD,MAAM,CACJ,SAAAs\/E,EADI,CAEJ,MAAO,CAAE,MAAAljF,EAAF,CAFH,CAAA,CAGF,IACJ,OAAOoE,EAAA,CAA6B\/D,EAAIgC,CAAAA,GAAJ,CAAQsB,CAAR,CAAY3D,EAAZ,CAA7B,CAAiDK,EAAIgC,CAAAA,GAAJ,CAAQuB,CAAR,CAAY5D,EAAZ,CAAjD,CAAqEkjF,EAArE,CAA+EpjF,CAAAA,YALlC,CAAtD,CAOAq0D,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsCryD,CAAD,EAAY,CAC\/C,MAAM,CACJ,cAAAy9E,CADI,CAEJ,OAAA3hF,EAFI,CAGJ,gBAAAqlF,EAHI,CAIJ,MAAO,CAAE,MAAAjjF,EAAF,CAJH,CAAA,CAKF,IALJ,CAMM4hF,GAAU9gB,EAAYY,CAAAA,eAAZ,CAA4B5\/D,CAA5B,CAAoCzB,EAAIg7D,CAAAA,GAAJ,CAAQh7D,EAAIG,CAAAA,GAAJ,CAAQR,EAAR,CAAepC,EAAf,CAAR,CAApC,CAChB,OAAOkjE,GAAYI,CAAAA,aAAZ,CAA0Bp\/D,CAA1B,CAAkCy9E,CAAlC,CAAP,EAA2D0D,EAAgBpB,CAAAA,KAAhB,CAAuBC,EAAD,EAAUta,EAAWZ,CAAAA,aAAX,CAAyBkb,EAAzB,CAA+BF,EAA\/B,CAAhC,CAA3D,EAAiM,CAAjM,CAhnKG38E,CAAA,CACL,CA+mKiL28E,EA\/mKzK7\/E,CAAAA,IAAR,CA+mKiL6\/E,EA\/mK5J5\/E,CAAAA,IAArB,CADK,CAEL,CA8mKiL4\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\/G,cAAe,CAACk9B,CAAD,CAAOn2B,EAAP,CAAA\/G,EAAiB,CAC9B,IAAIhM,EAC0B,KAA9B,GAACA,EAAD,CAAO,IAAKgM,CAAAA,aAAZ,EAAqC,IAAK,EAA1C,CAA8ChM,EAAI9gB,CAAAA,IAAJ,CAAS,IAAT,CAAegqD,CAAf,CAAqBn2B,EAArB,CAC9C,KAAK8pD,CAAAA,YAAL,CAAkB,eAAlB,CAAmC3zB,CAAnC,CAAyCn2B,EAAzC,CAH8B,CA5BH,CAiC7B9G,eAAgB,CAACi9B,CAAD;AAAOn2B,EAAP,CAAA9G,EAAiB,CAC\/B,IAAIjM,EAC2B,KAA\/B,GAACA,EAAD,CAAO,IAAKiM,CAAAA,cAAZ,EAAsC,IAAK,EAA3C,CAA+CjM,EAAI9gB,CAAAA,IAAJ,CAAS,IAAT,CAAegqD,CAAf,CAAqBn2B,EAArB,CAC\/C,KAAK8pD,CAAAA,YAAL,CAAkB,gBAAlB,CAAoC3zB,CAApC,CAA0Cn2B,EAA1C,CAH+B,CAjCJ,CAsC7B7G,eAAgB,CAACg9B,CAAD,CAAOn2B,EAAP,CAAA7G,EAAiB,CAC\/B,IAAIlM,EAC2B,KAA\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\/B,CAKA,OAAO,KAN2C,CAApD,CAQA,KAAKk\/D,CAAAA,OAAL,CAAeF,CACf,KAAKC,CAAAA,KAAL,CAAazhF,CACT,KAAKigF,CAAAA,MAAT,EAAwC,CAAxC,CAAmB,IAAKA,CAAAA,MAAO3kF,CAAAA,MAA\/B,GACE,IAAKqmF,CAAAA,cAAL,CAAoB,IAAK1B,CAAAA,MAAzB,CAEM76D,CADAw8D,CACAx8D,CADoC,IAAxB,GAAClB,CAAD;AAAO,IAAKktB,CAAAA,OAAZ,EAA+BltB,CAA\/B,CAAqC,IAAK+7D,CAAAA,MAAL,CAAY,CAAZ,CAAez9D,CAAAA,EAChE4C,CAAAA,CAAAA,CAAQ,IAAKwjB,CAAAA,QAASj8B,CAAAA,GAAd,CAAkBi1E,CAAlB,CAHhB,IAKI,IAAKrB,CAAAA,eAAL,CAAqBn7D,CAArB,CACA,CAA4B,IAA5B,GAACgH,EAAD,CAAM,IAAKg0D,CAAAA,YAAX,EAAmC,IAAK,EAAxC,CAA4Ch0D,EAAGi0D,CAAAA,OAAQI,CAAAA,OAAX,CAAmB,CAAE5+D,OAAQ,SAAV,CAAnB,CANhD,CASA5E,GAAA,CAAe,IAAf,CA\/BwB,CAiCtB,QAAO,EAAA,CACT,MAAO,KAAKwkE,CAAAA,KADH,CAGP,UAAS,EAAA,CACX,MAAO,KAAKC,CAAAA,OADD,CAGT,cAAa,EAAA,CACf,MAAK,KAAKF,CAAAA,MAAV,CAEM,YAAN,EAAsB,KAAKA,CAAAA,MAA3B,CAEO,CAAC,GAAG,IAAKA,CAAAA,MAAOK,CAAAA,UAAhB,CAA4B,IAA5B,CAFP,CACS,CAAC,IAAKL,CAAAA,MAAN,CAAc,IAAd,CAHT,CACS,CAAC,IAAD,CAFM,CAxCL,CAgDdpxB,GAAA,CAAcmxB,EAAd,CAAuB,QAAvB,CAGA,KAAIO,GAAS,aAAcP,GAAd,CACXl+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,UAApB,CAAgC,CAAA,CAAhC,CACAA,GAAA,CAAc,IAAd,CAAoB,UAApB,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAC,CAAE,OAAAvuC,CAAF,CAAD,CAAA;AAAgB,CAC7C,IAAKqwB,CAAAA,QAAL,CAAgBrwB,CACZ,KAAK6gB,CAAAA,MAAT,EACE,IAAKlP,CAAAA,GAAIuuD,CAAAA,OAAQC,CAAAA,SAAjB,CAA2B,IAAKt\/C,CAAAA,MAAhC,CAH2C,CAA\/C,CAKA0tB,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAqChD,CAAD,EAAU,CAC5C,CAAM,CAAE,KAAAxrC,CAAF,CAAN,CAAiBwrC,CAAjB,CACM60B,EAAAA,CAAU,IAAKr5C,CAAAA,QAASj8B,CAAAA,GAAd,CAAkBiV,CAAlB,CAChB,KAAK4R,CAAAA,GAAIuuD,CAAAA,OAAQrxC,CAAAA,KAAjB,EACIuxC,EAAQv\/C,CAAAA,MAAZ,CACE,IAAKlP,CAAAA,GAAIuuD,CAAAA,OAAQC,CAAAA,SAAjB,CAA2BC,CAAQv\/C,CAAAA,MAAnC,CADF,CAEW,IAAKA,CAAAA,MAFhB,EAGE,IAAKlP,CAAAA,GAAIuuD,CAAAA,OAAQC,CAAAA,SAAjB,CAA2B,IAAKt\/C,CAAAA,MAAhC,CAP0C,CAA9C,CATY,CAoBV,OAAM,EAAA,CACR,MAAO,KAAK1iC,CAAAA,IADJ,CArBC,CAAb,CA2BIkiF,GAAc,aAAcX,GAAd,CACZ,OAAM,EAAA,CACR,MAAO,KAAKvhF,CAAAA,IADJ,CAGN,QAAO,EAAA,CACT,MAAO,KAAKwhF,CAAAA,MADH,CAJK,CA3BlB,CAqCIW,GAAgB,aAAcD,GAAd,CAClB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,WAA9B,CACAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CACAA,GAAA,CAAc,IAAd,CAAoB,aAApB,CACAA;EAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAArC,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,EAAA,EAAM,CACnC,MAAM,CACJ,YAAA\/E,CADI,CAEJ,OAAQ,CAAE,YAAA+2B,CAAF,CAAe,aAAAC,CAAf,CAFJ,CAAA,CAGF,IAAK7uD,CAAAA,GACT,KAAM,CAAE,MAAO8uD,EAAT,CAAA,CAAoB,IAAK\/tD,CAAAA,IACzBrS,GAAAA,CAAQ,IAAIogE,EAAJ,CAAW,CACvB9\/D,GA83JCS,EAAA,EA\/3JsB,CAEvBvG,KAAM4lE,EAAO9\/D,CAAAA,EAFU,CAGvBa,SAAUgoC,CAAY7oC,CAAAA,EAHC,CAIvBvmB,MAAO,CAAC,GAAGmmF,CAAJ,CAJgB,CAKvBzmF,KAAM,IAAK63B,CAAAA,GAAIG,CAAAA,QAASpJ,CAAAA,KALD,CAMvBo7B,OAAQ,IAAKnyB,CAAAA,GAAIG,CAAAA,QAASpJ,CAAAA,KANH,CAOvBruB,KAAMumB,EAAYmS,CAAAA,GAAZ,CAAgBnS,EAAYnkB,CAAAA,GAAZ,CAAgB+jF,CAAhB,CAA8BD,CAA9B,CAAhB,CAPiB,CAAX,CASd,KAAKhiB,CAAAA,aAAL,CAAqB,CACnBpiE,KAAMokF,CAAA,CAAY,CAAZ,CADa,CAEnBnkF,KAAMmkF,CAAA,CAAY,CAAZ,CAFa,CAGnBnxD,KAAMmxD,CAAA,CAAY,CAAZ,CAANnxD,CAAuB,CAHJ,CAInBC,KAAMkxD,CAAA,CAAY,CAAZ,CAANlxD,CAAuB,CAJJ,CAKnB91B,MAAO,CALY,CAMnBD,OAAQ,CANW,CAQhB+mB,GAAMqgE,CAAAA,oBAAX,GACMrgE,EAAMsgE,CAAAA,WAAV,EACE,IAAKA,CAAAA,WACL,CADmBtgE,EAAMsgE,CAAAA,WACzB,CAAA,IAAKpiB,CAAAA,aAAcjlE,CAAAA,MAAnB,CAA4B,IAAKqnF,CAAAA,WAFnC,GAKE,IAAKA,CAAAA,WACL;AADmB,CACnB,CAAA,IAAKpiB,CAAAA,aAAcjlE,CAAAA,MAAnB,CAA4B,CAN9B,CASA,CANE,IAAKilE,CAAAA,aAAchlE,CAAAA,KAMrB,CAN6B,CAM7B,CAAA,IAAKglE,CAAAA,aAAclvC,CAAAA,IAAnB,CAA0B,IAAKkvC,CAAAA,aAAcniE,CAAAA,IAA7C,CAAoD,IAAKmiE,CAAAA,aAAcjlE,CAAAA,MAVzE,CAYA,KAAKsnF,CAAAA,aAAL,CAAqBvgE,EACrB,KAAKugE,CAAAA,aAAcrzC,CAAAA,aAAnB,CAAiC,IAAK5b,CAAAA,GAAIG,CAAAA,QAASqb,CAAAA,UAAnD,CACA,KAAKxb,CAAAA,GAAI63B,CAAAA,WAAYq3B,CAAAA,SAArB,CAA+BxgE,EAA\/B,CACA,KAAKsR,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAACzgE,EAAD,CAA3B,CAtCmC,CAArC,CAwCAkuC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsChD,CAAD,EAAU,CAC7C,GAASh+B,CAALg+B,CAAKh+B,CAAAA,KAAT,CAAA,CAEA,GAAI,CAAC,IAAKqzD,CAAAA,aAAV,CACE,KAAMhpF,MAAA,CAAM,4BAAN,CAAN,CACF,IAAM,CAAE,cAAA2mE,CAAF,CAAA,CAAoB,IAA1B,CACM,CAAE,aAAAiiB,CAAF,CAAgB,YAAAD,EAAhB,CAA6B,SAAApjD,EAA7B,CAAA,CAA0C,IAAKxL,CAAAA,GAAIkK,CAAAA,MACnD6gC,EAAAA,CAAsBv\/B,EAAtBu\/B,EAAkC,IAAKkkB,CAAAA,aAAch9E,CAAAA,KAAM84D,CAAAA,mBAA3DA;AAAkF,CAAC,IAAKkkB,CAAAA,aAAcF,CAAAA,oBACxGxkF,EAAAA,CAASg\/D,EAAYuB,CAAAA,yBAAZ,CACX8B,CADW,CAEX,qBAFW,CAGX39C,EAAYnkB,CAAAA,GAAZ,CAAgB+jF,CAAhB,CAA8BD,EAA9B,CAHW,CAIX,CAJW,CAKX7jB,CALW,CAOT,KAAK\/qC,CAAAA,GAAIG,CAAAA,QAASivD,CAAAA,UAAtB,EAAoC,CAACrkB,CAArC,GACExgE,CADF,CACWg\/D,EAAYa,CAAAA,gBAAZ,CAA6B7\/D,CAA7B,CAn\/LD8kF,CAm\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\/zIH,KAAKsjE,CAAAA,gBAAL,CADa,IAAK\/yD,CAAAA,GAAI63B,CAAAA,WACO27B,CAAAA,iBAAL,EACxB,KAAM,CAAE,MAAO1E,CAAT,CAAA,CAAoB,IAAK\/tD,CAAAA,IAC\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\/tD,CAAAA,IAJ\/B,CAKMrS,GAAQ,IAAIogE,CAAJ,CAAW,CACvB9\/D,GAysICS,EAAA,EA1sIsB,CAEvBvG,KAAM4lE,CAAO9\/D,CAAAA,EAFU,CAGvBa,SAAUgoC,CAAY7oC,CAAAA,EAHC,CAIvBvmB,MAAO,CAAC,GAAGmmF,CAAJ,CAJgB,CAKvBl2D,KAAM,EALiB;AAMvBhwB,KAAM,CAAC,EAAD,CAAK,EAAL,CANiB,CAOvBsjF,aAAc,CAAA,CAPS,CAQvB7jF,KAAM,IAAK63B,CAAAA,GAAIG,CAAAA,QAASpJ,CAAAA,KARD,CASvBo7B,OAAQ,IAAKnyB,CAAAA,GAAIG,CAAAA,QAASpJ,CAAAA,KATH,CAAX,CAWd,KAAKk4D,CAAAA,aAAL,CAAqBvgE,EACrB,KAAKugE,CAAAA,aAAcrzC,CAAAA,aAAnB,CAAiC,IAAK5b,CAAAA,GAAIG,CAAAA,QAASqb,CAAAA,UAAnD,CACAlzB,GAAA,CAAY,EAAA,EAAM,CAChB,IAAK0X,CAAAA,GAAI63B,CAAAA,WAAYq3B,CAAAA,SAArB,CAA+BxgE,EAA\/B,CACA,OAAMjmB,GAAQ,IAAKu3B,CAAAA,GAAIG,CAAAA,QAASivD,CAAAA,UAAlB,CAA+BngE,EAAY40C,CAAAA,IAAZ,CAAiB,CAAC,GAAG+qB,CAAJ,CAAjB,CAroNrCS,CAqoNqC,CAA\/B,CAA+ET,CAA7F,CACM,CAAE,OAAArkF,EAAF,CAAA,CAAamkB,EACnBA,GAAM+hB,CAAAA,MAAN,CAAa,CACXhoC,MAAOwmB,EAAYnkB,CAAAA,GAAZ,CAAgBrC,EAAhB,CAAuB,CAAC8B,EAAO3C,CAAAA,KAAR,CAAgB,CAAhB,CAAmB2C,EAAO5C,CAAAA,MAA1B,CAAmC,CAAnC,CAAvB,CADI,CAAb,CAGA,KAAKq4B,CAAAA,GAAIk7B,CAAAA,UAAT,CAAoB,QAApB,CACA,KAAKl7B,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAACzgE,EAAD,CAA3B,CACA,KAAKsR,CAAAA,GAAI4sD,CAAAA,YAAa1xB,CAAAA,UAAtB,CAAiC,cAAjC,CAAiD,CAC\/ChyC,KAAM,OADyC,CAE\/CwF,MAAO,IAAKugE,CAAAA,aAFmC,CAG\/CrzD,MAAO,CAHwC,CAAjD,CATgB,CAAlB,CAnBmC,CAArC,CANY,CADK,CA4CrBghC;EAAA,CAAck3B,EAAd,CAA8B,IAA9B,CAAoC,UAApC,CAGA,KAAIC,GAAa,aAAcrF,GAAd,CACf7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAChD,CAAD,CAAOluD,CAAP,CAAA,EAAa,CAC5CkuD,CAAKh+B,CAAAA,KAAT,EAAkB,IAAKoE,CAAAA,GAAI8N,CAAAA,QAA3B,EAEA,IAAK\/M,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB,CAHgD,CAAlD,CAKA0B,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAC,GAAG3uD,CAAJ,CAAA,EAAa,CAAA,IAC3CyiB,CAD2C,CACtCkI,CACT,KAAKoH,CAAAA,GAAIk7B,CAAAA,UAAT,CAAoB,QAApB,CAA8B,CAAEs0B,SAAU,IAAKxvD,CAAAA,GAAI4sD,CAAAA,YAAa59D,CAAAA,EAAlC,CAA9B,CACgD,KAAhD,GAAC4J,CAAD,CAA+B8S,CAAxBhb,CAAwBgb,CAAlB,IAAK1L,CAAAA,GAAI6sD,CAAAA,OAASnhD,EAAAA,YAA\/B,EAAuD,IAAK,EAA5D,CAAgE9S,CAAGhpB,CAAAA,IAAH,CAAQ8gB,CAAR,CAAa,GAAGziB,CAAhB,CAHjB,CAAjD,CAKA2uD,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,CAAChD,CAAD,CAAOluD,CAAP,CAAA,EAAa,CAC5C,OAAQA,CAAEyG,CAAAA,GAAV,EACE,KAAK,QAAL,CACE,IAAK6tB,CAAAA,GAAIk7B,CAAAA,UAAT,CAAoB,QAApB,CAFJ,CAD4C,CAA9C,CAZY,CADC,CAuBjB0B,GAAA,CAAcm3B,EAAd,CAA0B,IAA1B,CAAgC,MAAhC,CAGA,KAAIC,GAAa,aAAc1F,GAAd,CACfz+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD;EAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,WAA9B,CAFY,CADC,CAMjBA,GAAA,CAAco3B,EAAd,CAA0B,IAA1B,CAAgC,KAAhC,CACAp3B,GAAA,CAAco3B,EAAd,CAA0B,QAA1B,CAAoC,CAACD,EAAD,CAAaD,EAAb,CAApC,CACAl3B,GAAA,CAAco3B,EAAd,CAA0B,SAA1B,CAAqC,MAArC,CAGA,KAAIC,GAAe33B,EAAA,CAAQa,CAAA,EAAR,CAAnB,CACI+2B,GAAS,aAAcD,GAAaj\/D,CAAAA,OAA3B,CACXnlB,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA+BluC,CAAD,EAAWA,CAAMs5D,CAAAA,aAA\/C,CAFY,CADH,CADb,CASImM,GAAgB,aAAczF,GAAd,CAClB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,EAA1C,CACAA,GAAA,CAAc,IAAd,CAAoB,uBAApB,CAA6C,EAA7C,CACAA,GAAA,CAAc,IAAd,CAAoB,MAApB,CAA4B,IAAIs3B,EAAhC,CACAt3B,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,EAAA,EAAM,CACnC,MAAM,CAAE,eAAAhnB,CAAF,CAAkB,YAAAiiB,CAAlB,CAA+B,YAAAnnB,CAA\/B,CAAA,CAA+C,IAAK1Q,CAAAA,GAC1D,KAAKo0D,CAAAA,kBAAL,CAA0BlmF,KAAM4F,CAAAA,IAAN,CAAW48B,CAAYziB,CAAAA,MAAZ,EAAX,CAC1B,KAAKomE,CAAAA,qBAAL;AAA6BnmF,KAAM4F,CAAAA,IAAN,CAAW8hC,CAAe3nB,CAAAA,MAAf,EAAX,CAC7B,KAAKqmE,CAAAA,IAAK31B,CAAAA,IAAV,CAAe9G,CAAYq0B,CAAAA,MAA3B,CAJmC,CAArC,CAMAtvB,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,EAAA,EAAM,CAClC,IAAKw3B,CAAAA,kBAAL,CAA0B,EAC1B,KAAKE,CAAAA,IAAK\/gD,CAAAA,KAAV,EACA,KAAKvT,CAAAA,GAAIu0D,CAAAA,QAAT,CAAkB,IAAK,EAAvB,CAHkC,CAApC,CAKA33B,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,MAAM,CACJ,OAAQ,CAAE,SAAApxB,CAAF,CAAY,QAAAd,CAAZ,CAAqB,YAAAkkD,CAArB,CAAkC,aAAAC,EAAlC,CADJ,CAAA,CAEF,IAAK7uD,CAAAA,GAFT,CAGMw0D,GAAcjrB,EAAYO,CAAAA,mBAAZ,CAAgC,CAAC+kB,EAAD,CAAeD,CAAf,CAAhC,CAA6D,CAA7D,CACpB,KAAK5uD,CAAAA,GAAIu0D,CAAAA,QAAT,CAAkBC,EAAlB,CACA,OAAMC,GAsnIH,CAAC,IAAG,IAAItjF,GAAJ,CArnIL,IAAKmjF,CAAAA,IAAKh2B,CAAAA,MAAV,CAAiBk2B,EAAjB,CAA8B\/nF,CAAAA,MAA9B,CACGiiB,EAAD,EAAWgc,CAAA,CAAU6+B,EAAYI,CAAAA,aAAZ,CAA0B6qB,EAA1B,CAAuC9lE,EAAMs5D,CAAAA,aAA7C,CAAV,CAAwEt5D,EAAMgmE,CAAAA,aAAN,CAAoBF,EAApB,CADrF,CAEE\/nF,CAAAA,MAFF,CAEUiiB,EAAD,EAA0B,OAA1B,GAAWA,EAAMxF,CAAAA,IAF1B,CAE4Cvc,CAAAA,GAF5CvG,CAEiDsoB,EAAD,EAAW,CACzD,IAAIgC,EACJ,OAAiD,KAA1C,GAACA,EAAD,CAAO,IAAKsP,CAAAA,GAAI20D,CAAAA,cAAT,CAAwBjmE,EAAxB,CAAP;AAAiDgC,EAAjD,CAAuDhC,EAFL,CAF3DtoB,CAqnIK,CAAH,CAAD,CA9mIColC,EAAJ,CACMipD,EAAKnK,CAAAA,KAAL,CAAYsK,EAAD,EAAS,IAAKP,CAAAA,qBAAsBp9D,CAAAA,QAA3B,CAAoC29D,EAApC,CAApB,CAAJ,CACE,IAAK50D,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,IAAKkF,CAAAA,qBAAsB5nF,CAAAA,MAA3B,CAAmCmoF,EAAD,EAAS,CAACH,EAAKx9D,CAAAA,QAAL,CAAc29D,EAAd,CAA5C,CAA3B,CADF,CAGE,IAAK50D,CAAAA,GAAImvD,CAAAA,iBAAT,CA0mID,CAAC,IAAG,IAAIh+E,GAAJ,CA1mI+B\/K,CAAC,GAAG,IAAKiuF,CAAAA,qBAATjuF,CAAgC,GAAGquF,EAAnCruF,CA0mI\/B,CAAH,CAAD,CA1mIC,CAJJ,CAOE,IAAK45B,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2BsF,EAA3B,CAEF,KAAKz0D,CAAAA,GAAI7C,CAAAA,QAAS03D,CAAAA,wBAAlB,CAA2ChG,EAA3C,CAvByC,CAA3C,CAyBAjyB,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,EAAA,EAAM,CACvC,IAAK58B,CAAAA,GAAIu0D,CAAAA,QAAT,CAAkB,IAAK,EAAvB,CACA,KAAKxzD,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CAFuC,CAAzC,CAIA0B,GAAA,CAAc,IAAd,CAAoB,mBAApB,CAAyC,CAAChD,CAAD,CAAOluD,CAAP,CAAA,EAAa,CACpD,OAAQA,CAAEyG,CAAAA,GAAV,EACE,KAAK,QAAL,CACE,IAAK6tB,CAAAA,GAAIu0D,CAAAA,QAAT,CAAkB,IAAK,EAAvB,CAEA,CADA,IAAKv0D,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,IAAKiF,CAAAA,kBAAhC,CACA;AAAA,IAAKrzD,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CAJJ,CADoD,CAAtD,CA7CY,CADI,CA0DpB0B,GAAA,CAAcu3B,EAAd,CAA6B,IAA7B,CAAmC,UAAnC,CAGA,KAAIW,GAAmB,aAAcpG,GAAd,CACrB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,SAApB,CAAgChD,CAAD,EAAU,CACvC,IAAIlpC,CACJ,OAAM,CACJ,YAAAggB,CADI,CAEJ,OAAQ,CAAE,SAAAlF,EAAF,CAFJ,CAAA,CAGF,IAAKxL,CAAAA,GACT,IAAkB,OAAlB,GAAI45B,CAAK1wC,CAAAA,IAAT,EAAyC,CAACwnB,CAAY\/pB,CAAAA,GAAZ,CAAgBizC,CAAKlrC,CAAAA,KAAMM,CAAAA,EAA3B,CAA1C,CAA0E,CACxE,MAAMN,GAAuD,IAA\/C,GAACgC,CAAD,CAAO,IAAKsP,CAAAA,GAAI20D,CAAAA,cAAT,CAAwB\/6B,CAAKlrC,CAAAA,KAA7B,CAAP,EAAsDgC,CAAtD,CAA4DkpC,CAAKlrC,CAAAA,KAC3E8c,GAAJ,CACE,IAAKxL,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAAC,GAAGjhF,KAAM4F,CAAAA,IAAN,CAAW48B,CAAYziB,CAAAA,MAAZ,EAAX,CAAJ,CAAsCS,EAAMM,CAAAA,EAA5C,CAA3B,CADF,CAIA,IAAKgR,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAACzgE,EAAD,CAA3B,CANwE,CANnC,CAAzC,CAeAkuC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,IAAK77B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CADyC,CAA3C,CAjBY,CADO,CAuBvB0B,GAAA,CAAck4B,EAAd,CAAgC,IAAhC,CAAsC,aAAtC,CAGA,KAAIC,GAAa,aAAcrG,GAAd,CACf7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD;EAAA,CAAc,IAAd,CAAoB,SAApB,CAAgChD,CAAD,EAAU,CACnB,UAApB,GAAIA,CAAKvrC,CAAAA,MAAT,EAAkC,IAAK2\/D,CAAAA,MAAOwB,CAAAA,QAA9C,EACE,IAAKxvD,CAAAA,GAAIk7B,CAAAA,UAAT,CAAoB,IAAK8yB,CAAAA,MAAOwB,CAAAA,QAAhC,CAFqC,CAAzC,CAKA5yB,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,EAAA,EAAM,EAApC,CAEAA,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAuChD,CAAD,EAAU,CAC9C,GAASh+B,CAALg+B,CAAKh+B,CAAAA,KAAT,CAEA,OAAQg+B,CAAK1wC,CAAAA,IAAb,EACE,KAAK,OAAL,CACE,IAAK8W,CAAAA,GAAI0zD,CAAAA,eAAT,CAAyB95B,CAAKlrC,CAAAA,KAAMM,CAAAA,EAApC,CACA,MAEF,MAAK,WAAL,CACwB,YAAtB,GAAM4qC,CAAKx+B,CAAAA,MAAX,EAAsD,QAAtD,GAAsCw+B,CAAKx+B,CAAAA,MAA3C,EACE,IAAK2F,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,yBAArB,CAAgDtB,CAAhD,CAEF,MAEF,MAAK,QAAL,CACE,IAAK55B,CAAAA,GAAI0zD,CAAAA,eAAT,CAAyB,IAAK,EAA9B,CAZJ,CAH8C,CAAhD,CAoBA92B,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAChD,CAAD,CAAOn2B,CAAP,CAAA,EAAiB,CACpD,MAAM,CACJ,eAAAmS,CADI,CAEJ,OAAQ,CAAE,QAAAlL,EAAF,CAFJ,CAAA,CAGF,IAAK1K,CAAAA,GACT;GAAqB,CAArB,GAAIyD,CAAMuxD,CAAAA,MAAV,CACE,IAAKj0D,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,aAArB,CAAoCtB,CAApC,CADF,KAIA,IAAIlvB,EAAJ,CACE,IAAK3J,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,gBAArB,CADF,KAIA,QAAQtB,CAAK1wC,CAAAA,IAAb,EACE,KAAK,WAAL,CACE,OAAQ0wC,CAAKx+B,CAAAA,MAAb,EACE,KAAK,QAAL,CACE,KAEF,MAAK,YAAL,CACE,IAAK2F,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,0BAArB,CACA,MAEF,MAAK,QAAL,CACE,IAAKn6B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,sBAArB,CACA,MAEF,SACE,IAAKn6B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,sBAArB,CAA6CtB,CAA7C,CAbJ,CAgBA,KAEF,MAAK,OAAL,CACE,GAAIhkB,CAAejvB,CAAAA,GAAf,CAAmBizC,CAAKlrC,CAAAA,KAAxB,CAAJ,CACE,IAAKqS,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,uBAArB,CAA8CtB,CAA9C,CADF,KAEO,CACL,MAAM,CAAE,gBAAAq7B,EAAF,CAAmB,OAAA\/qD,EAAnB,CAAA,CAA8B,IAAKlK,CAAAA,GACrCi1D;EAAJ,EAAuBhlB,EAAWZ,CAAAA,aAAX,CAAyBnlC,EAAO2kD,CAAAA,YAAhC,CAA8CoG,EAA9C,CAAvB,CACE,IAAKl0D,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,2BAArB,CAAkDtB,CAAlD,CADF,CAGE,IAAK74B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,eAArB,CAAsCtB,CAAtC,CALG,CAQP,KAEF,MAAK,QAAL,CACE,IAAK74B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,gBAArB,CAAuCtB,CAAvC,CACA,MAEF,MAAK,QAAL,CACE,IAAK74B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,gBAArB,CACA,MAEF,MAAK,SAAL,CACE,IAAKn6B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,iBAArB,CAAwC3tD,EAAA,CAAeA,EAAA,CAAe,EAAf,CAAmBk2B,CAAnB,CAAf,CAA0Cm2B,CAA1C,CAAxC,CA1CJ,CAboD,CAAtD,CA4DAgD,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAuChD,CAAD,EAAU,CAC1CA,CAAKh+B,CAAAA,KAAT,EAEkB,OAFlB,GAEIg+B,CAAK1wC,CAAAA,IAFT,EAGM,IAAK8W,CAAAA,GAAI2zD,CAAAA,SAHf,EAII,IAAK3zD,CAAAA,GAAI0zD,CAAAA,eAAT,CAAyB,IAAK,EAA9B,CAL0C,CAAhD,CASA92B,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAChD,CAAD,CAAOn2B,CAAP,CAAA,EAAiB,CACnD,IAAK1C,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB;AAAiC,CAAEtB,KAAAA,CAAF,CAAQn2B,MAAAA,CAAR,CAAjC,CADmD,CAArD,CAGAm5B,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsChD,CAAD,EAAU,CAC7C,GAASh+B,CAALg+B,CAAKh+B,CAAAA,KAAT,EAA0D,CAA1D,GAAkB,IAAKoE,CAAAA,GAAIy4B,CAAAA,mBAAoB3wD,CAAAA,MAA\/C,EAAwEgmC,CAAT,IAAK9N,CAAAA,GAAI8N,CAAAA,QAAxE,CAAA,CAEA,IAAMonD,EAAgB,IAAKl1D,CAAAA,GAAIy4B,CAAAA,mBAAT,CAA6B,CAA7B,CACtB,IAAKy8B,CAAcC,CAAAA,OAAnB,EAAkDx8B,CAApBu8B,CAAcjjF,CAAAA,KAAM0mD,CAAAA,QAAlD,CAEA,OAAQiB,CAAK1wC,CAAAA,IAAb,EACE,KAAK,OAAL,CACE,IAAK6X,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,cAArB,CAAqCtB,CAArC,CACA,MAEF,MAAK,WAAL,CAC8C,CAA5C,GAAI,IAAK55B,CAAAA,GAAIy4B,CAAAA,mBAAoB3wD,CAAAA,MAAjC,EACE,IAAKi5B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,cAArB,CAAqC,CACnChyC,KAAM,OAD6B,CAEnCpX,OAAQojF,CAF2B,CAArC,CAPN,CALA,CAD6C,CAA\/C,CAsBAt4B,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,CAAChD,CAAD,CAAOluD,CAAP,CAAA,EAAa,CAC5C,CAAM,CAAE,oBAAA+sD,CAAF,CAAN,CAAgC,IAAKz4B,CAAAA,GAArC,CACA,QAAQt0B,CAAEyG,CAAAA,GAAV,EACE,KAAK,OAAL,CACqC,CAAnC,GAAIsmD,CAAoB3wD,CAAAA,MAAxB,EAAwC2wD,CAAA,CAAoB,CAApB,CAAuB08B,CAAAA,OAA\/D;AAA0E,CAAC,IAAKn1D,CAAAA,GAAI8N,CAAAA,QAApF,EACE,IAAK\/M,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,cAArB,CAAqC,CACnChyC,KAAM,OAD6B,CAEnCwF,MAAO+pC,CAAA,CAAoB,CAApB,CAF4B,CAGnC78B,MAAO,CAH4B,CAArC,CAMF,MAEF,MAAK,QAAL,CACM68B,CAAoB3wD,CAAAA,MAAxB,EACE,IAAKk4B,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,EAA3B,CAbN,CAF4C,CAA9C,CA3HY,CADC,CAmJjBvyB,GAAA,CAAcm4B,EAAd,CAA0B,IAA1B,CAAgC,MAAhC,CAGA,KAAIK,GAAqB,aAAc1G,GAAd,CACvB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,SAApB,CAAgChD,CAAD,EAAU,CACvC,IAAIlpC,CACJ,OAAM,CACJ,YAAAggB,CADI,CAEJ,OAAQ,CAAE,SAAAlF,EAAF,CAFJ,CAAA,CAGF,IAAKxL,CAAAA,GAHT,CAIMtR,GAAuD,IAA\/C,GAACgC,CAAD,CAAO,IAAKsP,CAAAA,GAAI20D,CAAAA,cAAT,CAAwB\/6B,CAAKlrC,CAAAA,KAA7B,CAAP,EAAsDgC,CAAtD,CAA4DkpC,CAAKlrC,CAAAA,KAC3E8c,GAAJ,CACE,IAAKxL,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAAC,GAAGjhF,KAAM4F,CAAAA,IAAN,CAAW48B,CAAYziB,CAAAA,MAAZ,EAAX,CAAJ,CAAsCS,EAAMM,CAAAA,EAA5C,CAA3B,CADF,CAGE,IAAKgR,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,CAACzgE,EAAD,CAA3B,CAVqC,CAAzC,CAaAkuC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,MAAM,CAAE,aAAAiyB,CAAF;AAAgB,YAAAD,CAAhB,CAAA,CAAgC,IAAK5uD,CAAAA,GAAIkK,CAAAA,MACL,EAA1C,CAAIphC,EAAIyqD,CAAAA,IAAJ,CAASs7B,CAAT,CAAuBD,CAAvB,CAAJ,EAA+C,CAAC,IAAK5uD,CAAAA,GAAI8N,CAAAA,QAAzD,EACE,IAAK\/M,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,aAArB,CAHuC,CAA3C,CAMA0B,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,EAAA,EAAM,CACvC,IAAK77B,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CADuC,CAAzC,CAGA0B,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAChD,CAAD,CAAOn2B,CAAP,CAAA,EAAiB,CACnD,IAAK1C,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB,CAAiC,CAAEtB,KAAAA,CAAF,CAAQn2B,MAAAA,CAAR,CAAjC,CADmD,CAArD,CAxBY,CADS,CA8BzBm5B,GAAA,CAAcw4B,EAAd,CAAkC,IAAlC,CAAwC,eAAxC,CAGA,KAAIC,GAAgC,aAAc3G,GAAd,CAClC7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,MAA9B,CACAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,MAAM,CAAE,aAAAiyB,CAAF,CAAgB,YAAAD,CAAhB,CAAA,CAAgC,IAAK5uD,CAAAA,GAAIkK,CAAAA,MACL,EAA1C,CAAIphC,EAAIyqD,CAAAA,IAAJ,CAASs7B,CAAT,CAAuBD,CAAvB,CAAJ,EAA+C,CAAC,IAAK5uD,CAAAA,GAAI8N,CAAAA,QAAzD,EACE,IAAK\/M,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,aAArB,CAHuC,CAA3C,CAMA0B;EAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,EAAA,EAAM,CACvC,IAAK58B,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,EAA3B,CACA,KAAKpuD,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CAFuC,CAAzC,CAIA0B,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAChD,CAAD,CAAOn2B,CAAP,CAAA,EAAiB,CACnD,IAAK1C,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB,CAAiC,CAAEtB,KAAAA,CAAF,CAAQn2B,MAAAA,CAAR,CAAjC,CADmD,CAArD,CAbY,CADoB,CAmBpCm5B,GAAA,CAAcy4B,EAAd,CAA6C,IAA7C,CAAmD,0BAAnD,CAGA,KAAIC,GAAsB,aAAc5G,GAAd,CACxB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,EAAA,EAAM,CACnC,IAAIlsC,CACJ,OAAM,CAAE,SAAA8a,CAAF,CAAA,CAAe,IAAKxL,CAAAA,GAAIkK,CAAAA,MACzBsB,EAAL,GACE,IAAKxL,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,EAA3B,CAEA,CADA,IAAKnvD,CAAAA,GAAIu1D,CAAAA,eAAT,EACA,CAAiC,IAAjC,GAAC7kE,CAAD,CAAOliB,MAAOgnF,CAAAA,YAAP,EAAP,EAAwC,IAAK,EAA7C,CAAiD9kE,CAAI+kE,CAAAA,eAAJ,EAHnD,CAHmC,CAArC,CASA74B,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,MAAM,CAAE,aAAAiyB,CAAF;AAAgB,YAAAD,CAAhB,CAAA,CAAgC,IAAK5uD,CAAAA,GAAIkK,CAAAA,MACL,EAA1C,CAAIphC,EAAIyqD,CAAAA,IAAJ,CAASs7B,CAAT,CAAuBD,CAAvB,CAAJ,EACE,IAAK7tD,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB,CAHuC,CAA3C,CAMA0B,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,EAAA,EAAM,CAClC,IAAK58B,CAAAA,GAAIkK,CAAAA,MAAOsB,CAAAA,QAArB,EACE,IAAKxL,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B,EAA3B,CAEF,KAAKpuD,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,MAArB,CAJuC,CAAzC,CAMA0B,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAChD,CAAD,CAAOn2B,CAAP,CAAA,EAAiB,CACnD,IAAK1C,CAAAA,IAAKm6B,CAAAA,UAAV,CAAqB,UAArB,CAAiC,CAAEtB,KAAAA,CAAF,CAAQn2B,MAAAA,CAAR,CAAjC,CADmD,CAArD,CAGAm5B,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAAA,EAAM,CACzC,IAAK58B,CAAAA,GAAIohD,CAAAA,MAAT,CAAgB,gBAAhB,CAAkC,CAAE34E,MAAO,IAAKu3B,CAAAA,GAAIkK,CAAAA,MAAO0kD,CAAAA,WAAzB,CAAlC,CADyC,CAA3C,CA1BY,CADU,CAgC1BhyB,GAAA,CAAc04B,EAAd,CAAmC,IAAnC,CAAyC,gBAAzC,CAGA,KAAII,GAAmB,aAAchH,GAAd,CACrB7+E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,MAA9B,CACAA,GAAA,CAAc,IAAd;AAAoB,WAApB,CAAiC,CAAA,CAAjC,CACAA,GAAA,CAAc,IAAd,CAAoB,UAApB,CAAgC,CAAA,CAAhC,CACAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,EAArC,CACAA,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,EAA1C,CACAA,GAAA,CAAc,IAAd,CAAoB,oBAApB,CAA0C,EAA1C,CACAA,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,EAA9B,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,EAAA,EAAM,CACnC,IAAIlsC,CACJ,KAAKsP,CAAAA,GAAI6vD,CAAAA,OAAQC,CAAAA,KAAjB,EACA,OAAM,CAAE,uBAAA6F,CAAF,CAA0B,OAAAzrD,CAA1B,CAAA,CAAqC,IAAKlK,CAAAA,GAIhD,KAAK41D,CAAAA,aAAL,CAHA,IAAKC,CAAAA,kBAGL,CAH0BrmF,MAAOm\/D,CAAAA,WAAP,CACxBgnB,CAAuBhpF,CAAAA,GAAvB,CAA2B,CAAC,CAAE,GAAIkuB,EAAN,CAAW,MAAO,CAAE,MAAApyB,EAAF,CAAlB,CAAD,CAAA,EAAmC,CAACoyB,EAAD,CAAMpyB,EAAMoL,CAAAA,KAAN,EAAN,CAA9D,CADwB,CAI1BqiB,SAAS4\/D,CAAAA,gBAAT,CAA0B,gBAA1B,CAA4C\/0E,CAAAA,OAA5C,CAAqDg1E,EAAD,EAAQA,EAAGC,CAAAA,IAAH,EAA5D,CACmC,KAAnC,GAACtlE,CAAD,CAAOwF,QAASs\/D,CAAAA,YAAT,EAAP,EAA0C,IAAK,EAA\/C,CAAmD9kE,CAAIulE,CAAAA,KAAJ,EAC\/C\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\/E\/5D,GAksHDS,EAAA,EAnsHgF,CAE\/EvG,KAAMwF,CAAMxF,CAAAA,IAFmE,CAG\/EzgB,MAAO,IAAKmtF,CAAAA,aAAL,CAAmBlnE,CAAMM,CAAAA,EAAzB,CAHwE,CAI\/ErmB,SAAU+lB,CAAMzc,CAAAA,KAAMtJ,CAAAA,QAJyD,CAK\/EgwD,SAAU,CAAA,CALqE,CAApD,CAAfhnC,CAJ6C,CAA\/C,CAgBd,CAHA,IAAK4kE,CAAAA,kBAGL,CAH0B\/mF,MAAOm\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\/B4J,CACjBjnB,CAA4B+mB,EAC5B\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\/\/D,CAAAA,qBAAjB,EACb,KAAKigE,CAAAA,WAAYhyF,CAAAA,MAAjB,CAA0B8xB,EAAK9xB,CAAAA,MAC\/B,KAAKgyF,CAAAA,WAAY\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\/jE,CAAAA,QAAb,CAAsBvI,EAAtB,CAA\/B,CACb,KAAKw9D,CAAAA,MAAL,CAAc9e,EAAO37D,CAAAA,MAAP,CAAcupF,EAAd,CACRphC,GAAAA,CAAO,CAAEshC,GAAI,cAAN,CAAsBhP,OAAQ8O,EAA9B,CAA4CG,OAAQ\/tB,EAAA,CAAOA,EAAOtlE,CAAAA,MAAd,CAAuB,CAAvB,CAApD,CACb,KAAKk4B,CAAAA,GAAIo6B,CAAAA,OAAT,CAAiBR,EAAjB,CACA,KAAKwhC,CAAAA,WAAL,CAAmBxhC,EACnB,OAAO,KAPwC,CAAjD,CASAgD,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAmCwR,EAAD,EAAa,CAC7C,MAAM4sB,GAAe,IAAKC,CAAAA,cAAL,CAAoB7sB,EAApB,CACjBhB,GAAAA,CAAS,IAAK8e,CAAAA,MAAOz\/E,CAAAA,MAAZ,CAAoBiiB,EAAD,EAAW,CAACssE,EAAa\/jE,CAAAA,QAAb,CAAsBvI,EAAtB,CAA\/B,CACb,KAAKw9D,CAAAA,MAAL,CAAc8O,EAAavpF,CAAAA,MAAb,CAAoB27D,EAApB,CACd,KAAKptC,CAAAA,GAAIo6B,CAAAA,OAAT,CAAiB,CAAE8gC,GAAI,YAAN;AAAoBhP,OAAQ8O,EAA5B,CAA0CzmF,KAAM64D,EAAA,CAAO,CAAP,CAAhD,CAAjB,CACA,OAAO,KALsC,CAA\/C,CAOAxQ,GAAA,CAAc,IAAd,CAAoB,MAApB,CAA4B,CAACwR,EAAD,CAAU9kE,EAAV,CAAA,EAAwB,CAC5C0xF,EAAAA,CAAe,IAAKC,CAAAA,cAAL,CAAoB7sB,EAApB,CACrB,OAAME,GAAe\/E,EAAYsB,CAAAA,eAAZ,CAA4BmwB,EAAaruF,CAAAA,GAAb,CAAkB+hB,EAAD,EAAWA,EAAMnkB,CAAAA,MAAlC,CAA5B,CACrBywF,GAAaj6E,CAAAA,OAAb,CAAsB2N,EAAD,EAAW,CAC9B,IAAIgC,EACJ,OAAMknE,GAAiBruB,EAAYoD,CAAAA,iCAAZ,CACrB2B,EADqB,CAErBA,EAFqB,CAGrB5\/C,EAAMnkB,CAAAA,MAHe,CAIP,YAJO,GAIrBjB,EAJqB,CAKP,UALO,GAKrBA,EALqB,CAOvB,IAAIolB,EAAMq6D,CAAAA,UAAV,CACEr6D,EAAMspE,CAAAA,QAAN,CAAetpE,EAAMq6D,CAAAA,UAArB,CAAiC,CAC\/Bx+E,OAAQqtF,EADuB,CAE\/BhvF,OAAQ2gE,EAAYW,CAAAA,eAAZ,CAA4B0tB,EAA5B,CAFuB,CAG\/BjvF,SAA0C,IAAhC,GAAC+nB,EAAD,CAAOhC,EAAMzc,CAAAA,KAAMtJ,CAAAA,QAAnB,EAAuC+nB,EAAvC,CAA6C,CAAA,CAHxB,CAI\/BxH,KAAM,iBAJyB,CAK\/B0qC,MAAOllC,EAAMopE,CAAAA,OAAN,EAAiBppE,EAAMzc,CAAAA,KAAM2hD,CAAAA,KAA7B,CAAmD,YAAd,GAAAtqD,EAAA,CAA6B,CAAC,CAAColB,EAAMzc,CAAAA,KAAM2hD,CAAAA,KAAZ,CAAkB,CAAlB,CAAF,CAAwB,CAAxB,CAA7B,CAA0D,CAAC,CAAD,CAAI,CAACllC,EAAMzc,CAAAA,KAAM2hD,CAAAA,KAAZ,CAAkB,CAAlB,CAAL,CAA\/F;AAA4H,CAAC,CAAD,CAAI,CAAJ,CALpG,CAM\/Bk3B,KAAM,CAAA,CANyB,CAO\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\/D,CAAAA,WAAP,CAAmB,IAAKud,CAAAA,MAAOv\/E,CAAAA,GAAZ,CAAiB+hB,EAAD,EAAW,CAACA,EAAMM,CAAAA,EAAP,CAAWN,EAAM25D,CAAAA,KAAjB,CAA3B,CAAnB,CAAzB,CAAmG,IAC\/H,IAAI,IAAKoU,CAAAA,iBAAT,EAA8BD,EAA9B,CAAmD,CACjD,MAAMC,GAAoB,IAAKA,CAAAA,iBAA\/B,CAKM1uE,GAAkB,CAAC,IAJM2uE,IAAIvrF,GAAJurF,CAAQ,CACrC,GAAGltF,MAAO6B,CAAAA,IAAP,CAAYmrF,EAAZ,CADkC,CAErC,GAAGhtF,MAAO6B,CAAAA,IAAP,CAAYorF,EAAZ,CAFkC,CAARC,CAIN,CAAD,CAAYjwF,CAAAA,MAAZ,CAAoBtC,EAAD,EAClCsyF,EAAA,CAAkBtyF,EAAlB,CADkC,GACRqyF,EAAA,CAAoBryF,EAApB,CADX,CAGxBwyF,sBAAA,CAAsB,EAAA,EAAM,CAC1B,IAAKC,CAAAA,OAAL,CAAa7uE,EAAb,CAD0B,CAA5B,CATiD,CAa\/CyuE,EAAJ,GACE,IAAKC,CAAAA,iBADP,CAC2BD,EAD3B,CAfY,CAAd,CA\/Q2B,CAmSzB,cAAa,EAAA,CACf,MAAO,CACLxtE,GAAI,IAAKA,CAAAA,EADJ,CAEL9e,KAAM,IAAKA,CAAAA,IAFN,CAGLg8E,OAAQ,IAAKA,CAAAA,MAAOv\/E,CAAAA,GAAZ,CAAiB+hB,CAAD,EAAWA,CAAMq6D,CAAAA,UAAjC,CAA6Ct8E,CAAAA,MAA7C,CAAqDtC,CAAD,EAAQ,CAAC,CAACA,CAA9D,CAAkEwC,CAAAA,GAAlE,CAAuExC,CAAD,EAAQ0d,EAAA,CAAK1d,CAAL,CAA9E,CAHH,CAIL0jB,SAAUu7D,EAAA,CAAS,IAAKv7D,CAAAA,QAAd,CAJL;AAKLw6D,MAAO,IAAKA,CAAAA,KALP,CADQ,CASb,cAAa,EAAA,CACf,MAAO74E,OAAOm\/D,CAAAA,WAAP,CAAmB,IAAKud,CAAAA,MAAOv\/E,CAAAA,GAAZ,CAAiB+hB,CAAD,EAAW,CAACA,CAAMM,CAAAA,EAAP,CAAWN,CAAX,CAA3B,CAAnB,CADQ,CAGjB+hB,MAAM,CAACx+B,CAAD,CAAQ,CACZzC,MAAOiD,CAAAA,MAAP,CAAc,IAAd,CAAoBR,CAApB,CACA,OAAO,KAFK,CAIdkhF,cAAc,CAACtlE,CAAD,CAAW,CACvBre,MAAOiD,CAAAA,MAAP,CAAc,IAAKob,CAAAA,QAAnB,CAA6BA,CAA7B,CACA,OAAO,KAFgB,CAIzBgvE,iBAAiB,CAACC,CAAD,CAAc,CAC7B,IAAK5Q,CAAAA,MAAOjlF,CAAAA,IAAZ,CAAiB,CAACC,CAAD,CAAKC,CAAL,CAAA,EAAY21F,CAAYh0E,CAAAA,OAAZ,CAAoB5hB,CAAG8nB,CAAAA,EAAvB,CAAZ,CAAyC8tE,CAAYh0E,CAAAA,OAAZ,CAAoB3hB,CAAG6nB,CAAAA,EAAvB,CAA1D,CACA,OAAO,KAFsB,CAI\/BkgE,SAAS,CAAC,GAAG9gB,CAAJ,CAAa,CACpB,GAAuB,CAAvB,GAAIA,CAAQtmE,CAAAA,MAAZ,CAOA,MALMi1F,EAKCA,CALgB,WAAA,EAAe3uB,EAAA,CAAQ,CAAR,CAAf,CAA4BA,CAA5B,CAAsCA,CAAQzhE,CAAAA,GAAR,CAAa+hB,CAAD,EAEhE,KADY,IAAKsR,CAAAA,GAAI22D,CAAAA,aAATD,CAAuBhoE,CAAMxF,CAAAA,IAA7BwtE,CACZ,EAAehoE,CAAf,CAFoD,CAKtDquE,CADP,IAAK7Q,CAAAA,MAAOhkF,CAAAA,IAAZ,CAAiB,GAAG60F,CAApB,CACOA,CAAAA,CARa,CAUtB9B,cAAc,CAAC7sB,CAAD,CAAU,CACtB,MAA0B,QAA1B,GAAI,MAAOA,EAAA,CAAQ,CAAR,CAAX,CACS,IAAK8d,CAAAA,MAAOz\/E,CAAAA,MAAZ,CAAoBiiB,CAAD,EAAW0\/C,CAAQn3C,CAAAA,QAAR,CAAiBvI,CAAMM,CAAAA,EAAvB,CAA9B,CADT;AAGOo\/C,CAJe,CAMxBqoB,YAAY,CAAC,GAAGroB,CAAJ,CAAa,CACvB,MAAM2uB,EAAiB,IAAK9B,CAAAA,cAAL,CAAoB7sB,CAApB,CACvB,KAAK8d,CAAAA,MAAL,CAAc,IAAKA,CAAAA,MAAOz\/E,CAAAA,MAAZ,CAAoBiiB,CAAD,EAAW,CAACquE,CAAe9lE,CAAAA,QAAf,CAAwBvI,CAAxB,CAA\/B,CACd,OAAOquE,EAHgB,CAKzBvJ,iBAAiB,EAAG,CAClB,MAAO,KAAKtH,CAAAA,MAAOz\/E,CAAAA,MAAZ,CAAoBiiB,CAAD,EAAWA,CAAM88D,CAAAA,OAApC,CAA6CvkF,CAAAA,IAA7C,CAAkD,CAACC,CAAD,CAAKC,CAAL,CAAA,EAAYA,CAAGkhF,CAAAA,KAAf,CAAuBnhF,CAAGmhF,CAAAA,KAA5E,CAAmF17E,CAAAA,GAAnF,CAAwFxC,CAAD,EAAQA,CAAG6kB,CAAAA,EAAlG,CADW,CAjVT,CAqVbytC,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2kF,EAAO\/pF,CAAAA,SAFV,CAEqB,IAFrB,CAE2B,CAF3B,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2kF,EAAO\/pF,CAAAA,SAFV,CAEqB,MAFrB,CAE6B,CAF7B,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2kF,EAAO\/pF,CAAAA,SAFV,CAEqB,QAFrB,CAE+B,CAF\/B,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2kF,EAAO\/pF,CAAAA,SAFV,CAEqB,UAFrB,CAEiC,CAFjC,CAGA2rD,GAAA,CAAgB,CACdziD,EADc,CAAhB,CAEG6gF,EAAO\/pF,CAAAA,SAFV,CAEqB,YAFrB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdziD,EADc,CAAhB,CAEG6gF,EAAO\/pF,CAAAA,SAFV,CAEqB,YAFrB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG2kF,EAAO\/pF,CAAAA,SAFV,CAEqB,OAFrB,CAE8B,CAF9B,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,QAFrB,CAE+B,CAF\/B,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV;AAEqB,gBAFrB,CAEuC,CAFvC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,mBAFrB,CAE0C,CAF1C,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,WAFrB,CAEkC,CAFlC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,cAFrB,CAEqC,CAFrC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,cAFrB,CAEqC,CAFrC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,cAFrB,CAEqC,CAFrC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,cAFrB,CAEqC,CAFrC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,YAFrB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGw2E,EAAO\/pF,CAAAA,SAFV,CAEqB,SAFrB,CAEgC,CAFhC,CAgCA,KAAIksF,GAAW,KAAA,CACbntF,WAAW,EAAG,CACZ+sD,EAAA,CAAc,IAAd,CAAoB,UAApB,CAAgC,CAAA,CAAhC,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAA,CAA\/B,CACAA,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAAA,CAA9B,CACAA,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAAA,CAA9B,CACAA,GAAA,CAAc,IAAd,CAAoB,UAApB,CAAgC,CAAA,CAAhC,CACAA,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAkC,CAAA,CAAlC,CACAA,GAAA,CAAc,IAAd,CAAoB,oBAApB;AAA0C,CAAC,CAAD,CAAI,CAAJ,CAA1C,CACAA,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAAC,CAAD,CAAI,CAAJ,CAApC,CACAA,GAAA,CAAc,IAAd,CAAoB,qBAApB,CAA2C,CAAC,CAAD,CAAI,CAAJ,CAA3C,CACAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAC,CAAD,CAAI,CAAJ,CAArC,CACAA,GAAA,CAAc,IAAd,CAAoB,mBAApB,CAAyC,CAAC,CAAD,CAAI,CAAJ,CAAzC,CACAA,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,CAAC,CAAD,CAAI,CAAJ,CAAnC,CACAA,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAkD,IAAIzrD,GAAtD,CACAyrD,GAAA,CAAc,IAAd,CAAoB,OAApB,CAA6B,MAA7B,CACAA,GAAA,CAAc,IAAd,CAAoB,iBAApB,CAAuC,CAAC,CAAD,CAAI,CAAJ,CAAvC,CACAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CACzD,IAAKy5D,CAAAA,UAAWj0F,CAAAA,GAAhB,CAAoBw6B,CAAMzH,CAAAA,SAA1B,CACA,KAAKmhE,CAAAA,eAAL,CAAqB15D,CAArB,CACA,KAAK25D,CAAAA,iBAAL,CAAyB,IAAKhyD,CAAAA,kBAC9B,KAAKwjD,CAAAA,WAAL,CAAmBqO,CACnB,KAAKrrE,CAAAA,KAAL,CAAa,UAL4C,CAA3D,CAOAgrC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CACtC,UAAnB,GAAI,IAAK7R,CAAAA,KAAT,GAEmB,SAKnB;AALI,IAAKA,CAAAA,KAKT,GAJE,IAAKA,CAAAA,KAIP,CAJe,MAIf,EAFA,IAAKurE,CAAAA,eAAL,CAAqB15D,CAArB,CAEA,CADA,IAAKysD,CAAAA,aACL,CADqB,IAAKrB,CAAAA,YAC1B,CAAA,IAAKA,CAAAA,YAAL,CAAoBoO,CAPpB,CADyD,CAA3D,CAUArgC,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CACvD,IAAKy5D,CAAAA,UAAW3pD,CAAAA,KAAhB,EACA,KAAK4pD,CAAAA,eAAL,CAAqB15D,CAArB,CACA,KAAK7R,CAAAA,KAAL,CAAa,MAH0C,CAAzD,CAKAgrC,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAkCn5B,CAAD,EAAW,CAC1C,IAAK05D,CAAAA,eAAL,CAAqB15D,CAArB,CACA,QAAQA,CAAMtxB,CAAAA,GAAd,EACE,KAAK,GAAL,CACE,IAAKkrF,CAAAA,QAAL,CAAgB,CAAA,CAFpB,CAF0C,CAA5C,CASAzgC,GAAA,CAAc,IAAd,CAAoB,SAApB,CAAgCn5B,CAAD,EAAW,CACxC,IAAK05D,CAAAA,eAAL,CAAqB15D,CAArB,CACA,QAAQA,CAAMtxB,CAAAA,GAAd,EACE,KAAK,GAAL,CACE,IAAKkrF,CAAAA,QAAL,CAAgB,CAAA,CAFpB,CAFwC,CAA1C,CASAzgC,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CACxD,IAAK05D,CAAAA,eAAL,CAAqB15D,CAArB,CACA,KAAK7R,CAAAA,KAAL,CAAa,UAF2C,CAA1D,CAIAgrC,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CAChC,UAAnB;AAAI,IAAK7R,CAAAA,KAAT,EAEA,IAAKurE,CAAAA,eAAL,CAAqB15D,CAArB,CAHmD,CAArD,CAKAm5B,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAkC,CAACqgC,CAAD,CAAYx5D,CAAZ,CAAA,EAAsB,CACnC,UAAnB,GAAI,IAAK7R,CAAAA,KAAT,GAEA,IAAKurE,CAAAA,eAAL,CAAqB15D,CAArB,CACA,CAAA,IAAK7R,CAAAA,KAAL,CAAa,MAHb,CADsD,CAAxD,CAMAnI,GAAA,CAAe,IAAf,CAvEY,CAyEd6zE,qBAAqB,CAAC1xD,CAAD,CAAkB,CACrCp8B,MAAOiD,CAAAA,MAAP,CAAc,IAAKm5B,CAAAA,eAAnB,CAAoCA,CAApC,CADqC,CAGvCuxD,eAAe,CAAC15D,CAAD,CAAQ,CAChBA,CAAMpD,CAAAA,SAAX,GAGI,SAIJ,EAJiBoD,EAIjB,GAHE,IAAK85D,CAAAA,mBACL,CAD2B,IAAKnyD,CAAAA,kBAChC,CAAA,IAAKA,CAAAA,kBAAL,CAA0Bnc,EAAYnkB,CAAAA,GAAZ,CAAgB,CAAC24B,CAAM9C,CAAAA,OAAP,CAAgB8C,CAAM7C,CAAAA,OAAtB,CAAhB,CAAgD,IAAKgL,CAAAA,eAArD,CAE5B,EAAI,UAAJ,EAAkBnI,EAAlB,GACE,IAAK+H,CAAAA,QAGL,CAHgB\/H,CAAM+H,CAAAA,QAGtB,CAFA,IAAKd,CAAAA,OAEL,CAFejH,CAAMiH,CAAAA,OAErB,CADA,IAAKQ,CAAAA,MACL,CADczH,CAAMyH,CAAAA,MACpB,CAAA,IAAKsyD,CAAAA,MAAL,CAy1EGpjE,EAAA,EAAA,CAz1EkBqJ,CAy1EHkH,CAAAA,OAAf,CAz1EkBlH,CAy1ESiH,CAAAA,OA71EhC,CAPA,CADqB,CA7EV,CA6Ff+xB;EAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,UAFvB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,SAFvB,CAEkC,CAFlC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,QAFvB,CAEiC,CAFjC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,QAFvB,CAEiC,CAFjC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,UAFvB,CAEmC,CAFnC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,YAFvB,CAEqC,CAFrC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,oBAFvB,CAE6C,CAF7C,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,cAFvB,CAEuC,CAFvC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,qBAFvB,CAE8C,CAF9C,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,eAFvB,CAEwC,CAFxC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,mBAFvB,CAE4C,CAF5C,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,aAFvB,CAEsC,CAFtC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ,CAEuB,OAFvB,CAEgC,CAFhC,CAGA2rD,GAAA,CAAgB,CACdvmD,EADc,CAAhB,CAEG8mF,EAASlsF,CAAAA,SAFZ;AAEuB,iBAFvB,CAE0C,CAF1C,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,uBAFvB,CAEgD,CAFhD,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,iBAFvB,CAE0C,CAF1C,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,eAFvB,CAEwC,CAFxC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,eAFvB,CAEwC,CAFxC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,aAFvB,CAEsC,CAFtC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,WAFvB,CAEoC,CAFpC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,SAFvB,CAEkC,CAFlC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,cAFvB,CAEuC,CAFvC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,SAFvB,CAEkC,CAFlC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG24E,EAASlsF,CAAAA,SAFZ,CAEuB,YAFvB,CAEqC,CAFrC,CAQA,KAAI2sF,GAAkB,CAAC\/wF,CAAD,CAAIgxF,CAAA,CAAW,GAAf,CAAAD,EAFb,EAAE12F,IAAK2tD,CAAAA,GAAL,CAAS3tD,IAAKu9B,CAAAA,EAAd,CAGGx7B,EAAI46D,CAAAA,KAAJj6D,CAAUiD,CAAVjD,CAAci0F,CAAdj0F,CAAwB,CAAxBA,CAA2B,CAA3BA,CAHH,CAAF,CAA2B,CAA3B,CAEag0F,CAFmB,CAEzC,CAGIE,GAAc,KAAA,CAChB9tF,WAAW,EAAG,CACZ+sD,EAAA,CAAc,IAAd;AAAoB,QAApB,CAA8B,CAC5BpyD,KAAM,CADsB,CAE5BC,KAAM,CAFsB,CAG5BgzB,KAAM,IAHsB,CAI5BC,KAAM,GAJsB,CAK5B91B,MAAO,IALqB,CAM5BD,OAAQ,GANoB,CAA9B,CAQAi1D,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAC5Bn0D,MAAO,CAAC,CAAD,CAAI,CAAJ,CADqB,CAE5B4iC,KAAM,CAFsB,CAA9B,CAIAuxB,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAqCryD,CAAD,EAAY,CAC9C,IAAKA,CAAAA,MAAL,CAAcA,CACd,OAAO,KAFuC,CAAhD,CAIAqyD,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAkCruC,CAAD,EACxB,IAAKkiB,CAAAA,MAAL,CAAY,CACjBhoC,MAAOK,EAAIgC,CAAAA,GAAJ,CAAQ,IAAKwgC,CAAAA,MAAO7iC,CAAAA,KAApB,CAA2BK,EAAI67D,CAAAA,GAAJ,CAAQp2C,CAAR,CAAe,IAAK+c,CAAAA,MAAOD,CAAAA,IAA3B,CAA3B,CADU,CAAZ,CADT,CAKAuxB,GAAA,CAAc,IAAd,CAAoB,0BAApB,CAAiDn0D,CAAD,EAAW,CACzD,MAAM+8B,EAAY18B,EAAI67D,CAAAA,GAAJ,CAAQ,CAACg5B,EAAYC,CAAAA,YAAb,CAA2BD,EAAYC,CAAAA,YAAvC,CAAR,CAA8D,IAAKtyD,CAAAA,MAAOD,CAAAA,IAA1E,CAAlB,CACMwyD,EAAW\/0F,EAAIgC,CAAAA,GAAJ,CAAQ,CAAC,IAAKgzF,CAAAA,WAAYrgE,CAAAA,IAAlB,CAAwB,IAAKqgE,CAAAA,WAAYpgE,CAAAA,IAAzC,CAAR,CAAwD50B,EAAIG,CAAAA,GAAJ,CAAQR,CAAR,CAAe+8B,CAAf,CAAxD,CACXu4D,EAAAA,CAAWj1F,EAAIgC,CAAAA,GAAJ,CAAQ,CAAC,IAAKgzF,CAAAA,WAAYtzF,CAAAA,IAAlB,CAAwB,IAAKszF,CAAAA,WAAYrzF,CAAAA,IAAzC,CAAR,CAAwD3B,EAAIgC,CAAAA,GAAJ,CAAQrC,CAAR,CAAe+8B,CAAf,CAAxD,CAGjB;IAAKiG,CAAAA,SAAL,CAAe3iC,EAAIwC,CAAAA,GAAJ,CAAQ,CAFM,CAAdy5B,CAAA84D,CAAA,CAAS,CAAT,CAAA94D,CAAkB84D,CAAA,CAAS,CAAT,CAAlB94D,CAA8C,CAAd,CAAAg5D,CAAA,CAAS,CAAT,CAAA,CAAkBA,CAAA,CAAS,CAAT,CAAlB,CAAgC,CAExD,CADM,CAAd\/4D,CAAA64D,CAAA,CAAS,CAAT,CAAA74D,CAAkB64D,CAAA,CAAS,CAAT,CAAlB74D,CAA8C,CAAd,CAAA+4D,CAAA,CAAS,CAAT,CAAA,CAAkBA,CAAA,CAAS,CAAT,CAAlB,CAAgC,CACxD,CAAR,CAA0B,CAACJ,EAAYK,CAAAA,aAAvC,CAAuD,IAAK1yD,CAAAA,MAAOD,CAAAA,IAAnE,CAAf,CANyD,CAA3D,CAQAuxB,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAAC,CAAE,MAAAn0D,CAAF,CAAS,KAAA4iC,CAAT,CAAD,CAAA,EAAqB,CACnC,IAAK,EAAnB,GAAI5iC,CAAJ,EAAyBqrE,KAAA,CAAMrrE,CAAA,CAAM,CAAN,CAAN,CAAzB,EAA6CqrE,KAAA,CAAMrrE,CAAA,CAAM,CAAN,CAAN,CAA7C,GACE,IAAK6iC,CAAAA,MAAO7iC,CAAAA,KADd,CACsBA,CADtB,CAEa,KAAK,EAAlB,GAAI4iC,CAAJ,EAAwByoC,KAAA,CAAMzoC,CAAN,CAAxB,GACE,IAAKC,CAAAA,MAAOD,CAAAA,IADd,CACqBtkC,IAAK6uB,CAAAA,GAAL,CAAS,CAAT,CAAY7uB,IAAKC,CAAAA,GAAL,CAAS,EAAT,CAAcqkC,CAAd,CAAZ,CADrB,CAEA,OAAO,KAL0C,CAAnD,CAOAuxB,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAqCn0D,CAAD,EAAW,CAC7C,MAAM,CAAE,OAAA6iC,CAAF,CAAU,OAAA\/gC,CAAV,CAAA,CAAqB,IAC3B,OAAOzB,GAAIgC,CAAAA,GAAJ,CAAQhC,EAAI67D,CAAAA,GAAJ,CAAQ77D,EAAIgC,CAAAA,GAAJ,CAAQrC,CAAR,CAAe,CAAC8B,CAAOC,CAAAA,IAAR,CAAcD,CAAOE,CAAAA,IAArB,CAAf,CAAR,CAAoD6gC,CAAOD,CAAAA,IAA3D,CAAR,CAA0EC,CAAO7iC,CAAAA,KAAjF,CAFsC,CAA\/C,CAIAm0D,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAuCn0D,CAAD,EAAW,CAC\/C,MAAM,CAAE,OAAA6iC,CAAF,CAAA,CAAa,IACnB,OAAOxiC,GAAIwC,CAAAA,GAAJ,CAAQxC,EAAIG,CAAAA,GAAJ,CAAQR,CAAR,CAAe6iC,CAAO7iC,CAAAA,KAAtB,CAAR;AAAsC6iC,CAAOD,CAAAA,IAA7C,CAFwC,CAAjD,CAIAuxB,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAACn0D,CAAD,CAAQ4iC,CAAR,CAAc4yD,CAAA,CAAU,CAAA,CAAxB,CAAA,EACrB,IAAKxN,CAAAA,SAAL,CAAehoF,CAAf,CAAsB,CAAC,CAAD,CAAI,CAAJ,CAAtB,CAA8B4iC,CAA9B,CAAoC4yD,CAApC,CADT,CAGArhC,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,CAACn0D,CAAD,CAAQ8lB,CAAR,CAAe8c,CAAf,CAAqB4yD,EAAA,CAAU,CAAA,CAA\/B,CAAA,EAAyC,CACxE,IAAM,CAAE,OAAA3yD,EAAF,CAAA,CAAa,IACb0kD,EAAAA,CAAYlnF,EAAIgC,CAAAA,GAAJ,CAAQwgC,EAAO7iC,CAAAA,KAAf,CAAsBK,EAAI67D,CAAAA,GAAJ,CAAQp2C,CAAR,CAAe+c,EAAOD,CAAAA,IAAtB,CAAtB,CAClBA,EAAA,CAAOviC,EAAI46D,CAAAA,KAAJ,CAAUr4B,CAAV,CAAgBsyD,EAAYvxD,CAAAA,OAA5B,CAAqCuxD,EAAYxxD,CAAAA,OAAjD,CACD+xD,GAAAA,CAAKp1F,EAAI67D,CAAAA,GAAJ,CAAQl8D,CAAR,CAAe6iC,EAAOD,CAAAA,IAAtB,CACL+7B,EAAAA,CAAKt+D,EAAI67D,CAAAA,GAAJ,CAAQl8D,CAAR,CAAe4iC,CAAf,CACL8yD,EAAAA,CAAWr1F,EAAIomB,CAAAA,OAAJ,CAAYpmB,EAAIG,CAAAA,GAAJ,CAAQ+mF,CAAR,CAAmBlnF,EAAIgC,CAAAA,GAAJ,CAAQs8D,CAAR,CAAY82B,EAAZ,CAAnB,CAAZ,CACbD,GAAJ,CACE,IAAKG,CAAAA,aAAL,CAAmB,CAAE31F,MAAO01F,CAAT,CAAmB9yD,KAAAA,CAAnB,CAAnB,CADF,CAGE,IAAKoF,CAAAA,MAAL,CAAY,CAAEhoC,MAAO01F,CAAT,CAAmB9yD,KAAAA,CAAnB,CAAZ,CAEF,OAAO,KAZiE,CAA1E,CAcAuxB,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAACvxB,CAAD,CAAO4yD,CAAA,CAAU,CAAA,CAAjB,CAAA,EAA2B,CACxD,MAAM,CAAE,OAAA1zF,CAAF,CAAA,CAAa,IAEnB,KAAKghC,CAAAA,MAAL,CADe3iC,CAAC2B,CAAO3C,CAAAA,KAARgB,CAAgB,CAAhBA,CAAmB2B,CAAO5C,CAAAA,MAA1BiB,CAAmC,CAAnCA,CACf,CAAoByiC,CAApB,CAA0B4yD,CAA1B,CAHwD,CAA1D,CAKArhC,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,EAAA,EAAM,CAClC,MAAM,CAAE,OAAAtxB,CAAF,CAAA,CAAa,IACnB,KAAK+yD,CAAAA,OAAL,CAAa\/yD,CAAOD,CAAAA,IAApB;AAtqRmBizD,EAsqRnB,CAA+C,CAAA,CAA\/C,CAFkC,CAApC,CAIA1hC,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,EAAA,EAAM,CACnC,MAAM,CAAE,OAAAtxB,CAAF,CAAA,CAAa,IACnB,KAAK+yD,CAAAA,OAAL,CA1qRmBC,EA0qRnB,CAAahzD,CAAOD,CAAAA,IAApB,CAA+C,CAAA,CAA\/C,CAFmC,CAArC,CAIAuxB,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,EAAA,EAAM,CACrC,IAAKyhC,CAAAA,OAAL,CAAa,CAAb,CAAgB,CAAA,CAAhB,CACA,OAAO,KAF8B,CAAvC,CAIAzhC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAC,CAAE,MAAAn0D,CAAF,CAAS,KAAA4iC,CAAT,CAAD,CAAA,EAC5B,IAAKkzD,CAAAA,iBAAL,CAAuB,CAC5B\/zF,KAAM,CAAC\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\/D,CAASo\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\/E\/5D,GAm4DCS,EAAA,EAp4D8E,CAE\/E44D,MAAOjhE,IAAK6U,CAAAA,GAAL,EAFwE,CAG\/Ek+B,KAAM,EAHyE,CAI\/EhiB,MAAO,EAJwE,CAK\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\/E,CAAmF\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\/D,CAAAA,GAAIk\/D,CAAAA,cAAT,CAAwBkC,CAAxB,CACK,EAA5B,CAAIA,CAAet5F,CAAAA,MAAnB,GACE,IAAKk4B,CAAAA,GAAI63B,CAAAA,WAAY4+B,CAAAA,YAArB,CAAkC,GAAG2K,CAArC,CAEA,CADA,IAAKphE,CAAAA,GAAIo6B,CAAAA,OAAT,EACA,CAAA,IAAKp6B,CAAAA,GAAImvD,CAAAA,iBAAT,CAA2B+P,CAA3B,CAHF,CAPA,CAD4E,CAA9E,CAcAtiC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAC1zC,CAAD,CAAOklD,CAAA,CAAU,IAAKpuC,CAAAA,GAAI21D,CAAAA,sBAA1B,CAAA,EAAqD,CACxF,MAAMe,GAAa,IAAK12D,CAAAA,GAAI22D,CAAAA,aAAT,CAAuBztE,CAAvB,CACnB,KAAK8W,CAAAA,GAAI63B,CAAAA,WAAY4+B,CAAAA,YAArB,CAAkC,GAAGroB,CAArC,CACMkoB,EAAAA,CAASloB,CAAQzhE,CAAAA,GAAR,CAAaxC,EAAD,EAClB,IAAIusF,EAAJ,CAAeppF,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBpD,EAAG4+E,CAAAA,UAAtB,CAAd,CAAiD,CACrE7\/D,KAAAA,CADqE,CAErEm\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\/B,CACA\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\/rC,CAAAA,WAAYq0B,CAAAA,MAAOz\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\/C,CAAAA,SAAN,EACf,OAAO,CACLr\/C,GAAIN,EAAMM,CAAAA,EADL,CAELvmB,MAAO,CAAC8B,EAAOC,CAAAA,IAAR,CAAcD,EAAOE,CAAAA,IAArB,CAFF,CAGLF,OAAAA,EAHK,CAFsC,CAAvB,CAAxB,CAQM+jE,GAAe\/E,EAAYsB,CAAAA,eAAZ,CAA4Bo5B,EAAgBt3F,CAAAA,GAAhB,CAAoB,CAAC,CAAE,OAAApC,EAAF,CAAD,CAAA;AAAgBA,EAApC,CAA5B,CARrB,CASMyiE,GAAOsB,EAAa9jE,CAAAA,IAApBwiE,CAA2BsB,EAAa1mE,CAAAA,KAAxColE,CAAgD,CATtD,CAUMC,GAAOqB,EAAa7jE,CAAAA,IAApBwiE,CAA2BqB,EAAa3mE,CAAAA,MAAxCslE,CAAiD,CAVvD,CAWMi3B,GAAW10F,MAAOm\/D,CAAAA,WAAP,CACfs1B,EAAgBt3F,CAAAA,GAAhB,CAAoB,CAAC,CAAE,GAAIkuB,EAAN,CAAW,MAAApyB,EAAX,CAAkB,OAAA8B,EAAlB,CAAD,CAAA,EACX,CACLswB,EADK,CAEL,CACEne,KAAMjU,EADR,CAEE8L,KAAM,CACJ,IAAmB,CAAC9L,EAAA,CAAM,CAAN,CAAD,CAAW6lE,EAAa7jE,CAAAA,IAAxB,CADf,CAEJ,eAAyC,CAAChC,EAAA,CAAM,CAAN,CAAD,CAAWwkE,EAAX,CAAkB1iE,EAAO5C,CAAAA,MAAzB,CAAkC,CAAlC,CAFrC,CAGJ,OAAyB,CAACc,EAAA,CAAM,CAAN,CAAD,CAAW6lE,EAAa5wC,CAAAA,IAAxB,CAA+BnzB,EAAO5C,CAAAA,MAAtC,CAHrB,CAIJ,KAAqB,CAAC2mE,EAAa9jE,CAAAA,IAAd,CAAoB\/B,EAAA,CAAM,CAAN,CAApB,CAJjB,CAKJ,iBAA6C,CAACukE,EAAD,CAAQziE,EAAO3C,CAAAA,KAAf,CAAuB,CAAvB,CAA0Ba,EAAA,CAAM,CAAN,CAA1B,CALzC,CAMJ,MAAuB,CAAC6lE,EAAa7wC,CAAAA,IAAd,CAAqBlzB,EAAO3C,CAAAA,KAA5B,CAAmCa,EAAA,CAAM,CAAN,CAAnC,CANnB,CAAA,CAOJygB,EAPI,CAFR,CAFK,CADT,CADe,CAkBjBklD,GAAQrtD,CAAAA,OAAR,CAAiB2N,EAAD,EAAW,CACrBw1E,EAAA,CAASx1E,EAAMM,CAAAA,EAAf,CAAJ,EACEN,EAAM+hB,CAAAA,MAAN,CAAa,CAAEhoC,MAAOy7F,EAAA,CAASx1E,EAAMM,CAAAA,EAAf,CAAmBza,CAAAA,IAA5B,CAAb,CAFuB,CAA3B,CAIA,KAAK6lD,CAAAA,OAAL,EACA,OAAO,KArCkE,CAA3E,CAuCAwC,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAkC,CAAC1zC,EAAD,CAAOklD,EAAA,CAAU,IAAK3V,CAAAA,mBAAtB,CAAA,EAA8C,CAC9E,GAAqB,CAArB,CAAI2V,EAAQtmE,CAAAA,MAAZ,EAA0B,IAAKgmC,CAAAA,QAA\/B,CACE,MAAO,KACT;MAAMo2D,GAAW10F,MAAOm\/D,CAAAA,WAAP,CACfpF,EAAY4E,CAAAA,gBAAZ,CAA6BC,EAA7B,CAAsCllD,EAAtC,CAA4Cvc,CAAAA,GAA5C,CAAiD1C,EAAD,EAAQ,CAACA,EAAG+kB,CAAAA,EAAJ,CAAQ\/kB,EAAR,CAAxD,CADe,CAGjBmkE,GAAQrtD,CAAAA,OAAR,CAAiB2N,EAAD,EAAW,CACrBw1E,EAAA,CAASx1E,EAAMM,CAAAA,EAAf,CAAJ,EACEN,EAAM+hB,CAAAA,MAAN,CAAa,CAAEhoC,MAAOy7F,EAAA,CAASx1E,EAAMM,CAAAA,EAAf,CAAmBza,CAAAA,IAA5B,CAAb,CAFuB,CAA3B,CAIA,KAAK6lD,CAAAA,OAAL,EACA,OAAO,KAXuE,CAAhF,CAaAwC,GAAA,CAAc,IAAd,CAAoB,mBAApB,CAAyC,CAACwR,EAAA,CAAU,IAAK3V,CAAAA,mBAAhB,CAAA,EAAwC,CAC\/E,GAAqB,CAArB,CAAI2V,EAAQtmE,CAAAA,MAAZ,EAA0B,IAAKgmC,CAAAA,QAA\/B,CACE,MAAO,KACT,OAAMo2D,GAAW10F,MAAOm\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\/8F,CAAAA,MAAtB,CAC0E,IAA\/C,GAAC4oB,EAAD,CAAOm0E,EAAA,CAAkB,CAAlB,CAAqB5yF,CAAAA,KAAMtJ,CAAAA,QAAlC,EAAsD+nB,EAAtD,CAA4D,CADvF,CAG2B,CAEJ,EAAvB,GAAI09C,EAAQtmE,CAAAA,MAAZ,EACE,IAAKytF,CAAAA,eAAL,EAEF,OAAO,KAtB6C,CAAtD,CAwBA34B,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAkD,IAAIzrD,GAAtD,CACAyrD,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqD,IAAIzrD,GAAzD,CACAyrD,GAAA,CAAc,IAAd,CAAoB,kBAApB,CAAyCwR,EAAD,EAAa,CACnD,MAAM,CAAE,WAAA02B,EAAF,CAAc,cAAA1T,EAAd,CAAA,CAAgC,IACtC0T,GAAWvxD,CAAAA,KAAX,EACA69C,GAAc79C,CAAAA,KAAd,EACI66B,GAAA,CAAQ,CAAR,CAAJ,EAAwC,QAAxC,GAAkB,MAAOA,GAAA,CAAQ,CAAR,CAAzB,CAEEA,EAAQrtD,CAAAA,OAAR,CAAiB5W,EAAD,EAAQ26F,EAAW77F,CAAAA,GAAX,CAAekB,EAAf,CAAxB,CAFF,CAKEikE,EAAQrtD,CAAAA,OAAR,CAAiB5W,EAAD,EAAQ26F,EAAW77F,CAAAA,GAAX,CAAekB,EAAG6kB,CAAAA,EAAlB,CAAxB,CAEuB,KAAK6oC,CAAAA,WAAYq0B,CAAAA,MAAOz\/E,CAAAA,MAAxBs4F,CAAgCr2E,EAAD,EAAWo2E,EAAWn+E,CAAAA,GAAX,CAAe+H,EAAMM,CAAAA,EAArB,CAA1C+1E,CACRhkF,CAAAA,OAAjB,CAA0B5W,EAAD,EAAQinF,EAAcnoF,CAAAA,GAAd,CAAkBkB,EAAlB,CAAjC,CACA,OAAO,KAb4C,CAArD,CAeAyyD,GAAA,CAAc,IAAd,CAAoB,YAApB,CACAA,GAAA,CAAc,IAAd,CAAoB,kBAApB,CAAyC9uC,EAAD,EAAS,CAC\/C,IAAKk3E,CAAAA,UAAL;AAAkBl3E,EAClB,OAAO,KAFwC,CAAjD,CAIA8uC,GAAA,CAAc,IAAd,CAAoB,mBAApB,CAAyC,EAAA,EAChC,IAAKy2B,CAAAA,gBAAL,EADT,CAGAz2B,GAAA,CAAc,IAAd,CAAoB,sBAApB,CAA4C,CAAClqD,EAAD,CAASZ,EAAT,CAAA,EAAoB,CACxDykB,EAAAA,CAAwB,QAAlB,GAAA,MAAO7jB,GAAP,CAA6B,IAAK8+E,CAAAA,YAAL,CAAkB9+E,EAAlB,CAA7B,CAAyDA,EAC\/DuyF,GAAAA,CAAwB,QAAlB,GAAA,MAAOnzF,GAAP,CAA6B,IAAK0\/E,CAAAA,YAAL,CAAkB1\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\/D,CAAAA,EAAvB,CAA2B8\/D,EAA3B,CARkB,CAA3B,CADgD,CAAlD,CAYAlyB,GAAA,CAAc,IAAd,CAAoB,kBAApB,CAAyChvB,EAAD,EAAY,CAClDA,EAAO7sB,CAAAA,OAAP,CAAgB+tE,EAAD,EAAY,IAAKlhD,CAAAA,MAAOtO,CAAAA,MAAZ,CAAmBwvD,EAAO9\/D,CAAAA,EAA1B,CAA3B,CADkD,CAApD,CAGA4tC,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsC1zC,EAAD,EAAU,CAC7C,GAAI,CAACA,EAAL,CACE,KAAMjjB,MAAA,CAAM,yBAAN,CAAN,CACF,MAAM6oF,GAAS,IAAKlhD,CAAAA,MAAOz0B,CAAAA,GAAZ,CAAgB+P,EAAhB,CACf,IAAI,CAAC4lE,EAAL,CACE,KAAM7oF,MAAA,CAAO,kCAAiCijB,EAAjC,EAAP,CAAN,CACF,MAAO4lE,GANsC,CAA\/C,CAQAlyB,GAAA,CAAc,IAAd,CAAoB,YAApB,CAAmC1tD,EAAD,EAAQ,CACxCoZ,EAAA,CAAY,EAAA,EAAM,CAChB,MAAM+8E,GAAa,CAAC,IAAKxV,CAAAA,OAAQ+R,CAAAA,QAC7ByD,GAAJ,EACE,IAAKxV,CAAAA,OAAQC,CAAAA,KAAb,EAEF5gF,GAAA,EACIm2F,GAAJ,GACE,IAAKxV,CAAAA,OAAQM,CAAAA,MAAb,EACA,CAAA,IAAK\/1B,CAAAA,OAAL,EAFF,CANgB,CAAlB,CADwC,CAA1C,CAaAwC,GAAA,CAAc,IAAd,CAAoB,eAApB;AAAqD,IAAIzrD,GAAJ,CAAQ,EAAR,CAArD,CACAyrD,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,CAACn5B,EAAD,CAAQ9Y,EAAR,CAAA,EAAqB,CACpD,GAAiB,IAAK,EAAtB,GAAIA,EAAJ,CACE,KAAM1kB,MAAA,CAAM,uBAAN,CAAN,CACF,MAAM42C,GAAe,CAAEpZ,MAAAA,EAAF,CAAS9Y,SAAAA,EAAT,CACrB,KAAK+yB,CAAAA,aAAcz0C,CAAAA,GAAnB,CAAuB4zC,EAAvB,CACA,OAAO,EAAA,EAAM,IAAKyoD,CAAAA,WAAL,CAAiBzoD,EAAjB,CALuC,CAAtD,CAOA+f,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAoC\/f,EAAD,EAAkB,CACnD,IAAKa,CAAAA,aAAcpe,CAAAA,MAAnB,CAA0Bud,EAA1B,CACA,OAAO,KAF4C,CAArD,CAIA+f,GAAA,CAAc,IAAd,CAAoB,QAApB,CAA8B,CAACn5B,EAAD,CAAQm2B,EAAR,CAAA,EAAiB,CAC7C,IAAKlc,CAAAA,aAAc38B,CAAAA,OAAnB,CAA4B87B,EAAD,EAAkB,CACvCA,EAAapZ,CAAAA,KAAjB,GAA2BA,EAA3B,EACEoZ,EAAalyB,CAAAA,QAAb,CAAsB,IAAtB,CAA4BivC,EAA5B,CAFyC,CAA7C,CAKA,OAAO,KANsC,CAA\/C,CAQAgD,GAAA,CAAc,IAAd,CAAoB,cAApB,CAAoC,EAAA,EAAM,EAA1C,CAEAA,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAChD,EAAD,CAAOluD,EAAP,CAAA,EAAa,CAChD,GAAI,CAAC,IAAK+pC,CAAAA,YAAV,EAAuC,CAAvC,GAA0B\/pC,EAAEspF,CAAAA,MAA5B,EAA4C,CAAC,IAAK5H,CAAAA,IAAL,CAAU,MAAV,CAA7C,CACE,IAAKmY,CAAAA,yBAAL,CAA+B75F,EAA\/B,CADF;IAIA,IAAiB,CAAjB,GAAIA,EAAEspF,CAAAA,MAAN,EAAsB,CAAC,IAAKv\/C,CAAAA,YAA5B,CACE\/pC,EAAE80B,CAAAA,cAAF,EACA,CAAA,IAAK06B,CAAAA,UAAL,CAAgB,QAAhB,CAFF,KAKA,IAAI,SAAJ,EAAiBxvD,GAAjB,CACE,IAAKw+B,CAAAA,MAAO5N,CAAAA,aAAZ,CACE,CAAC,GAAG,IAAKa,CAAAA,QAASwnE,CAAAA,YAAd,CAA2B,CAACj5F,EAAEi1B,CAAAA,OAAH,CAAYj1B,EAAEk1B,CAAAA,OAAd,CAA3B,CAAJ,CAAwDl1B,EAAE4pD,CAAAA,QAA1D,CADF,CAEE5pD,EAFF,CAX8C,CAAlD,CAiBAkxD,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,CAAChD,EAAD,CAAOluD,EAAP,CAAA,EAAa,CAC9C,GAAI,CAAC,IAAK+pC,CAAAA,YAAV,EAAuC,CAAvC,GAA0B\/pC,EAAEspF,CAAAA,MAA5B,EAA4C,IAAK5H,CAAAA,IAAL,CAAU,MAAV,CAA5C,CACE,IAAKpsD,CAAAA,YAAak6B,CAAAA,UAAlB,CAA6B,MAA7B,CAAqC,CAAEu\/B,KAAM,CAAA,CAAR,CAArC,CAEA,CADA\/uF,EAAE0vC,CAAAA,eAAF,EACA,CAAA1vC,EAAE80B,CAAAA,cAAF,EAHF,KAMA,IAAI,SAAJ,EAAiB90B,GAAjB,CACE,IAAKw+B,CAAAA,MAAOvO,CAAAA,WAAZ,CACE,CAAC,GAAG,IAAKwB,CAAAA,QAASwnE,CAAAA,YAAd,CAA2B,CAACj5F,EAAEi1B,CAAAA,OAAH,CAAYj1B,EAAEk1B,CAAAA,OAAd,CAA3B,CAAJ,CAAwDl1B,EAAE4pD,CAAAA,QAA1D,CADF;AAEE5pD,EAFF,CAR4C,CAAhD,CAcAkxD,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAqC,CAAChD,EAAD,CAAOluD,EAAP,CAAA,EAAa,CAChD,GAAI,SAAJ,EAAiBA,GAAjB,CACE,IAAKw+B,CAAAA,MAAOxN,CAAAA,aAAZ,CAA0B,CAAC,GAAG,IAAKS,CAAAA,QAASwnE,CAAAA,YAAd,CAA2B,CAACj5F,EAAEi1B,CAAAA,OAAH,CAAYj1B,EAAEk1B,CAAAA,OAAd,CAA3B,CAAJ,CAAwDl1B,EAAE4pD,CAAAA,QAA1D,CAA1B,CAA+F5pD,EAA\/F,CAF8C,CAAlD,CAKAkxD,GAAA,CAAc,IAAd,CAAoB,WAApB,CAAiC,CAAChD,EAAD,CAAOluD,EAAP,CAAA,EAAa,CAC5C,GAAK,IAAK+pC,CAAAA,YAAV,EAAuC,GAAvC,GAA0B\/pC,EAAA,CAAA,GAA1B,EAA+C,IAAK0hF,CAAAA,IAAL,CAAU,MAAV,CAA\/C,CAIA,IAAKljD,CAAAA,MAAOrN,CAAAA,SAAZ,CAAsBnxB,EAAtB,CAJA,KACE,KAAK65F,CAAAA,yBAAL,CAA+B75F,EAA\/B,CAF0C,CAA9C,CAOAkxD,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAChD,EAAD,CAAOluD,EAAP,CAAA,EAAa,CAC1C,GAAI,CAAC,IAAK+pC,CAAAA,YAAV,EAAuC,GAAvC,GAA0B\/pC,EAAA,CAAA,GAA1B,EAA8C,IAAK0hF,CAAAA,IAAL,CAAU,MAAV,CAA9C,CACE,IAAKpsD,CAAAA,YAAak6B,CAAAA,UAAlB,CAA6B,MAA7B,CAAqC,CAAEu\/B,KAAM,CAAA,CAAR,CAArC,CAEA,CADA\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\/C,EAAD,EAAa,CAAA,IACtEk\/D,EADsE,CACjEz0D,EACT,OAAO,CACyC,IAA9C,GAACy0D,EAAD,CAAO,IAAKx1B,CAAAA,WAAYhqC,CAAAA,QAAjB,CAA0BM,EAA1B,CAAP,EAAqD,IAAK,EAA1D,CAA8Dk\/D,EAAIh\/D,CAAAA,MAD7D,CAEwC,IAA7C,GAACuK,EAAD,CAAM,IAAKi\/B,CAAAA,WAAYhqC,CAAAA,QAAjB,CAA0BM,EAA1B,CAAN;AAAoD,IAAK,EAAzD,CAA6DyK,EAAGxK,CAAAA,IAF3D,CAFmE,CAHb,CAS5D3hB,CAAAA,MAT4D,CASrDkuB,EATqD,CAAxC,CASI,EAT3B,CAUMqqE,EAAa,CAAC,IAA8B,IAA3B,GAACt0E,CAAD,CAAO,IAAKs0E,CAAAA,UAAZ,EAAkCt0E,CAAlC,CAAwC,EAA3C,CAAD,CAAgD,GAAGu1E,CAAnD,CACnB,OAAOjB,EAAA,CAAa,IAAKntC,CAAAA,WAAYq0B,CAAAA,MAAOz\/E,CAAAA,MAAxB,CAAgCiiB,EAAD,EAAyB,IAAd,EAAAs2E,CAAA,CAAqB,IAAK,EAA1B,CAA8BA,CAAW\/tE,CAAAA,QAAX,CAAoBvI,EAAMM,CAAAA,EAA1B,CAAxE,CAAb,CAAsH,IAAK,EAbhH,CAehB,eAAc,EAAA,CAChB,MAAM,CAAE,KAAAqc,CAAF,CAAA,CAAW,IAAKlO,CAAAA,QAASmO,CAAAA,MAC\/B,OAAW,GAAX,CAAID,CAAJ,CACS,GADT,CAEkB,CAAX,CAAIA,CAAJ,CACE,EADF,CAGE,CAPO,CAUd,UAAS,EAAA,CACX,MAAM,CACJ,YAAa,CAAE,OAAQ+iC,CAAV,CADT,CAAA,CAEF,IACJ,OAAOlgE,MAAM4F,CAAAA,IAAN,CAAWs6D,CAAQngD,CAAAA,MAAR,EAAX,CAJI,CAMT,oBAAmB,EAAA,CACrB,MAAM,CACJ,eAAA2nB,CADI,CAEJ,YAAAiiB,CAFI,CAGJ,SAAU,CAAE,YAAAimC,CAAF,CAHN,CAAA,CAIF,IACJ,OAAOjmC,EAAYq0B,CAAAA,MAAOz\/E,CAAAA,MAAnB,CAA2BiiB,EAAD,EACxB,CAACA,EAAMw3E,CAAAA,UADiB,EACHtwD,CAAejvB,CAAAA,GAAf,CAAmB+H,EAAnB,CADG,EAC0B66C,EAAYI,CAAAA,aAAZ,CAA0Bm0B,CAA1B,CAAuCpvE,EAAMs5D,CAAAA,aAA7C,CAD1B;AACyFze,EAAYG,CAAAA,aAAZ,CAA0Bo0B,CAA1B,CAAuCpvE,EAAMs5D,CAAAA,aAA7C,CADnH,CANc,CAUnB,0BAAyB,EAAA,CAC3B,MAAM,CACJ,gBAAAiN,CADI,CAEJ,SAAU,CAAE,YAAA6I,CAAF,CAFN,CAAA,CAGF,IACJ,IAAK7I,CAAL,EAAwB,CAAA1rB,EAAYI,CAAAA,aAAZ,CAA0Bm0B,CAA1B,CAAuC7I,CAAvC,CAAxB,EAAmF,CAAA1rB,EAAYG,CAAAA,aAAZ,CAA0Bo0B,CAA1B,CAAuC7I,CAAvC,CAAnF,CAAA,CAGA,IAAMrsF,EAAS2gE,EAAYW,CAAAA,eAAZ,CAA4B+qB,CAA5B,CACf,OAAOnsF,GAAI66D,CAAAA,MAAJ,CACL,EACG\/6D,CAAA,CAAO,CAAP,CADH,CACek1F,CAAYtzF,CAAAA,IAD3B,CACkCszF,CAAYl2F,CAAAA,KAD9C,CACsD,CADtD,EAC2Dk2F,CAAYl2F,CAAAA,KADvE,EAEGgB,CAAA,CAAO,CAAP,CAFH,CAEek1F,CAAYrzF,CAAAA,IAF3B,CAEkCqzF,CAAYn2F,CAAAA,MAF9C,CAEuD,CAFvD,EAE4Dm2F,CAAYn2F,CAAAA,MAFxE,CADK,CAKL,CAAC,CALI,CAML,CANK,CAJP,CAL2B,CAkBzB,mBAAkB,EAAA,CACpB,MAAM,CAAE,oBAAA8wD,CAAF,CAAA,CAA0B,IAChC,IAAmC,CAAnC,GAAIA,CAAoB3wD,CAAAA,MAAxB,CAEA,MAAmC,EAAnC,GAAI2wD,CAAoB3wD,CAAAA,MAAxB,CACSwF,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBkrD,CAAA,CAAoB,CAApB,CAAuBluD,CAAAA,MAA1C,CAAd,CAAiE,CAAE5B,SAAU8vD,CAAA,CAAoB,CAApB,CAAuBxmD,CAAAA,KAAMtJ,CAAAA,QAAzC,CAAjE,CADT,CAGO4gE,EAAYsB,CAAAA,eAAZ,CAA4B,IAAKpS,CAAAA,mBAAoB9rD,CAAAA,GAAzB,CAA8B+hB,CAAD,EAAWA,CAAMs5D,CAAAA,aAA9C,CAA5B,CAPa,CASlB,iBAAgB,EAAA,CAClB,IAAIt3D,CACJ;MAAM,CAAE,oBAAA+nC,CAAF,CAAA,CAA0B,IAChC,OAAO,KAAK20B,CAAAA,IAAL,CAAU,QAAV,CAAP,EAA8B,CAAC,IAAKuV,CAAAA,OAAL,CAAa,oBAAb,CAAmC,iBAAnC,CAAsD,iBAAtD,CAA\/B,GAA2I,CAA3I,GAA4GlqC,CAAoB3wD,CAAAA,MAAhI,EAAgJ,EAAoC,IAAlC,GAAC4oB,CAAD,CAAO+nC,CAAA,CAAoB,CAApB,CAAP,EAAyC,CAAzC,CAAkD\/nC,CAAIy1E,CAAAA,aAAxD,CAAhJ,EAAuP,CAAvP,CAA0N1tC,CAAoB3wD,CAAAA,MAA9O,CAHkB,CAKhB,uBAAsB,EAAA,CACxB,MAAO,KAAKslF,CAAAA,IAAL,CAAU,QAAV,CAAP,EAA8B,CAAC,IAAKuV,CAAAA,OAAL,CAAa,oBAAb,CAAmC,iBAAnC,CAA\/B,EAAmH,CAAnH,CAAwF,IAAK\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\/qB,CAAAA,MAAvC,CAA+CgjB,EAA\/C,CAAwDq8E,EAAxD,CAAkE,EAAEr8E,EAApE,CACE6G,CAAA,CAAM7G,EAAN,CAAA,CAAgB8G,CAAMI,CAAAA,MAAN,CAAaa,CAAA,CAAO\/H,EAAP,CAAb,CAA6B8G,CAA7B,CAElB,OAAOD,EAN8B,CA8FX,CAE1B4B,YAnFF6zE,QAAwB,CAAC7zE,CAAD,CAAcb,CAAd,CAAsB,CAC5C,MAAOa,EAAY1f,CAAAA,KAAZ,CAAkB,CAAlB,CADqC,CAiFlB,CAG1B4f,KAjFF4zE,QAAiB,CAAC5zE,CAAD,CAAOf,CAAP,CAAe,CAC9B,MAAOe,EAAK5f,CAAAA,KAAL,CAAW,CAAX,CAAc4f,CAAK\/qB,CAAAA,IAAnB,CAAyB+qB,CAAKvK,CAAAA,IAA9B,CADuB,CA8EJ,CAI1B0K,SA\/EF0zE,QAAqB,CAAC1zE,CAAD,CAAWhC,CAAX,CAAkB,CACrC,MAAO,KAAIA,CAAMvf,CAAAA,WAAV,CAAsCuhB,CAAS2zE,CAAAA,MANnC1zF,CAAAA,KAAZ,CAAkB,CAAlB,CAMA,CAD8B,CA2EX,CAK1BggB,KA7EF2zE,QAAiB,CAAC3zE,CAAD,CAAOjC,CAAP,CAAc,CAC7B,MAAO,KAAIA,CAAMvf,CAAAA,WAAV,CAAsBwhB,CAAK4zE,CAAAA,OAAL,EAAtB,CADsB,CAwEH,CAM1B35F,MAAO2kB,EANmB,CAO1B9lB,IAAKulB,EAPqB,CAQ1B9b,OAvCoB6wF,EAAAS,CAAkBt1E,EAAlBs1E,CAA0Cv1E,EA+BpC,CAS1BvB,OA\/BF+2E,QAAmB,CAAC\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\/BG,aAAM,CAACn\/E,CAAD,CAAU,CACrB,IAAI6F,CACJ,OAAM,CAAE,eAAA23E,CAAF,CAAkB,aAAAC,EAAlB,CAAgC,MAAAl5F,EAAhC,CAAA,CAA0Cyb,CAChD,KAAMo\/E,GAAmB76F,EAAMyE,CAAAA,KAAN,CAAYw0F,CAAZ,CAA4BC,EAA5B,CAEzB,KADM4B,EACN,CAD+D,IAAxC,GAACx5E,CAAD,CAAO,KAAMw\/B,CAAAA,IAAN,CAAW+5C,EAAX,CAAP,EAA+C,IAAK,EAApD,CAAwDv5E,CAAI5oB,CAAAA,MACnF,GAAuC,CAAvC,CAAsBoiG,EAAtB,CAA0C,CAClCC,CAAAA,CAAiB\/6F,EAAM06F,CAAAA,WAAN,CAAkB,IAAlB,CAAwBzB,CAAxB,CAAyC,CAAzC,CAAjB8B,CAA+D,CACrE,KAAMC;AAAev\/E,CAAQzb,CAAAA,KAAMyE,CAAAA,KAAd,CAAoBs2F,CAApB,CAAoC7B,EAApC,CAAmD,CAAnD,CACf+B,GAAAA,CAAeD,EAAahnE,CAAAA,OAAb,CACnB,OADmB,CAElB,KAAI6kE,EAAWqC,CAAAA,MAAf,EAFkB,CAIfC,GAAAA,CAAoBF,EAAaviG,CAAAA,MAAjCyiG,CAA0CH,EAAatiG,CAAAA,MAC7D+iB,EAAQ2\/E,CAAAA,iBAAR,CAA0BL,CAA1B,CAA0C7B,EAA1C,CAAyD,CAAzD,CACAL,GAAWppC,CAAAA,MAAX,CAAkBh0C,CAAlB,CAA2Bw\/E,EAA3B,CACAx\/E,EAAQ2\/E,CAAAA,iBAAR,CAA0BnC,CAA1B,CAA2C,CAA3C,CAA8CC,EAA9C,CAA6DiC,EAA7D,CAVwC,CAA1C,IAYEtC,GAAWppC,CAAAA,MAAX,CAAkBh0C,CAAlB,CAA2Bo9E,EAAWqC,CAAAA,MAAtC,CAjBmB,CAoBhBG,eAAQ,CAAC5\/E,CAAD,CAAU,CACvB,MAAM,CAAE,eAAAw9E,CAAF,CAAkB,aAAAC,CAAlB,CAAgC,MAAAl5F,EAAhC,CAAA,CAA0Cyb,CAChD,KAAMs\/E,GAAiB\/6F,EAAM06F,CAAAA,WAAN,CAAkB,IAAlB,CAAwBzB,CAAxB,CAAyC,CAAzC,CAAjB8B,CAA+D,CACrE,OAAMO,GAAsBzC,EAAW0B,CAAAA,WAAX,CAAuBv6F,EAAvB,CAA8Bk5F,CAA9B,CAC5B,KAAM8B,GAAev\/E,CAAQzb,CAAAA,KAAMyE,CAAAA,KAAd,CAAoBs2F,EAApB,CAAoCO,EAApC,CACrB,OAAML,GAAeD,EAAahnE,CAAAA,OAAb,CAAqB,oBAArB,CAA2C,IAA3C,CACfmnE,GAAAA,CAAoBH,EAAatiG,CAAAA,MAAjCyiG,CAA0CF,EAAaviG,CAAAA,MAC7D+iB,EAAQ2\/E,CAAAA,iBAAR,CAA0BL,EAA1B,CAA0CO,EAA1C,CACAzC,GAAWppC,CAAAA,MAAX,CAAkBh0C,CAAlB,CAA2Bw\/E,EAA3B,CAEMM,GAAAA,CAAa,CADbC,EACa,CADU,WAAY16C,CAAAA,IAAZ,CAAiB9gD,EAAMyE,CAAAA,KAAN,CAAYs2F,EAAZ,CAA4B9B,CAA5B,CAAjB,CACV;AAAuBuC,EAAA,CAAqB,CAArB,CAAwB9iG,CAAAA,MAA\/C,CAAwD,CAE3E+iB,EAAQ2\/E,CAAAA,iBAAR,CACEnC,CADF,CACmBsC,EADnB,CAEE5jG,IAAKC,CAAAA,GAAL,CAHwBqhG,CAGxB,CAHyCsC,EAGzC,CAA4BrC,CAA5B,CAA2CiC,EAA3C,CAFF,CAZuB,CAiBlBM,oBAAa,CAACnyE,CAAD,CAAO,CACzB,MAAOA,EAAK0K,CAAAA,OAAL,CAAa6kE,EAAW6C,CAAAA,WAAxB,CAAqC,IAArC,CADkB,CA3GZ,CAjDjB,CAgKIC,GAAY9C,EAChBrrC,GAAA,CAAcmuC,EAAd,CAAyB,aAAzB,CAAwC,WAAxC,CACAnuC,GAAA,CAAcmuC,EAAd,CAAyB,QAAzB,CAAmC,IAAnC,CAcA,KAAIzxE,EA2BkB,YAAtB,GAAI,MAAO9qB,OAAX,GACE8qB,EADF,CACSnC,EAAA,EADT,CAGA,KAAIkC,GAAyB,IAAIpoB,GAAjC,CAoFI+5F,GAAU5wE,EAAA,EAAA,CAAa,GAAb,CAAwB,MApFtC,CA6FIsT,GAAa,aAAcq1D,GAAd,EA7FjB,CAiGIxnE,GAAS+gC,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAjGb,CAyGIulG,GAAO,EAAAA,EAAM,EACD,iCAAiCl3F,CAAAA,IAAjC,CAAsCsmB,SAAU6wE,CAAAA,SAAhD,CAgBhB,KAAInwE,GAAQuhC,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAAZ,CACIo1B,GAAa,EADjB,CAwGIwC,GAASg\/B,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAxGb,CAyGIm4B,GAAiChT,CAADgT,EAAa,CAE\/C,IADImwD,CACJ,CADanjE,CAAQoS,CAAAA,aACrB,CAAO+wD,CAAP,EACMA,CADN,GACiB93D,QAASqC,CAAAA,IAD1B,CAAA,CAAe,CAIb,MAAM,CAAE,UAAA4yE,CAAF,CAAA,CAAgB38F,MAAOi4C,CAAAA,gBAAP,CAAwBunC,CAAxB,CAEtB;GAD6BA,CAAO7nC,CAAAA,YACpC,CADmD6nC,CAAOod,CAAAA,YAC1D,GAA2C,MAA3C,GAA6BD,CAA7B,EAAmE,QAAnE,GAAqDA,CAArD,EAA6F,SAA7F,GAA+EA,CAA\/E,EACE,MAAOnd,EAETA,EAAA,CAASA,CAAO\/wD,CAAAA,aATH,CAWf,MAAO\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\/B,GAAA,CAAM9\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\/B,EA\/K+BsmG,EA+K\/B,CAAuC\/qC,EAAvC,IACE3xC,CAAMrD,CAAAA,KAKN,CALcu9E,EAAEhhG,CAAAA,GAAF,CAAM8mB,CAAMvrB,CAAAA,MAAZ,CAAoB2nG,EAApB,CAKd,CAJMO,CAIN,CAJsB38E,CAAMrD,CAAAA,KAAM5hB,CAAAA,GAAZ,CAAgB5F,IAAKq6B,CAAAA,GAArB,CAItB,CAHA0qE,EAAEG,CAAAA,KAAF,CAAQr6E,CAAMzC,CAAAA,QAAd,CAAwBo\/E,CAAxB,CAGA,CAFA38E,CAAMtoB,CAAAA,SAEN,CAFkBsoB,CAAMrD,CAAAA,KAAM5hB,CAAAA,GAAZ,CAAgB5F,IAAK8jC,CAAAA,IAArB,CAElB,CADAjZ,CAAMsU,CAAAA,UACN,CADmBtU,CAAMmU,CAAAA,MAAOp5B,CAAAA,GAAb,CAAiB5F,IAAK8jC,CAAAA,IAAtB,CACnB,CAAI,CAACjZ,CAAM+W,CAAAA,KAAX,EAA0B,CAA1B,CAAoB46B,EAApB,GACE3xC,CAAMs7E,CAAAA,QADR,CACmB,CAACqB,CAAA,CAAc,CAAd,CAAD,CAAoBhrC,EAApB,CAAyBgrC,CAAA,CAAc,CAAd,CAAzB,CAA4ChrC,EAA5C,CADnB,CANF,CAvCA,CA7Ca,CA+FfirC,IAAI,EAAG,CACL,MAAM58E,EAAQ,IAAKA,CAAAA,KACnB,KAAM6V;AAAS,IAAKA,CAAAA,MACpB,OAAMd,EAAS,IAAKA,CAAAA,MACf\/U,EAAM66E,CAAAA,OAAX,EACE,IAAKvjE,CAAAA,KAAL,EACF,IAAWyjE,CAAN\/6E,CAAM+6E,CAAAA,QAAX,EAAwB\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\/F,gBAAgB,CAACr\/F,CAAA,CAAQ,CAAA,CAAT,CAAgB,CAC9B,MAAOA,EADuB,CAVP,CAazB6xB,UAAU,CAAC7xB,CAAA,CAAQ,CAAT,CAAY,CACpB,OAAQA,CAAR,EACE,KAAK,CAAA,CAAL,CACE,MAAO,CAjBU6\/F,GAiBV,CAjBUA,GAiBV,CACT,MAAK,CAAA,CAAL,CACE,MAAO,CAAC,CAAD,CAAI,CAAJ,CACT,SACE,MAAOnD,GAAEC,CAAAA,QAAF,CAAW38F,CAAX,CANX,CADoB,CAbG,CAuBzB0E,IAAI,CAAC1E,CAAD,CAAQ,CACV,GAAqB,UAArB,GAAI,MAAOA,EAAX,CACE,MAAOA,EACT,IAAa,IAAb,EAAIA,CAAJ,CACE,MAAO08F,GAAEC,CAAAA,QAAF,CAAW38F,CAAX,CAJC,CAvBa,CA6BzBg4B,SAAS,CAACh4B,CAAD,CAAQ6wF,CAAR,CAAYt5D,CAAZ,CAAoB,CACrBS,CAAAA,CAAYh4B,CAAZg4B,EAAqBT,CAAOc,CAAAA,MAAOL,CAAAA,SACzC,KAAK0mE,CAAAA,kBAAL,CAA0B,CAAC,CAAC1mE,CAW5B,OAAOA,EAAP,EAAoB4uC,EAbO,CA7BJ,CA4CzBxwC,SAAS,CAACp2B,CAAD,CAAQ,CACf,MAAO08F,GAAEC,CAAAA,QAAF,CAAW38F,CAAX,CAAkB,CAAlB,CADQ,CA5CQ,CAtvC3B,CA6zCI8\/F,GAA4B9sE,EAAA,CAAeA,EAAA,CAAe,EAAf,CAAmB4sE,EAAnB,CAAf,CAAyD,EAAzD,CAA6D,CAC3FhC,IAAI,CAACmC,CAAD,CAAKlP,CAAL,CAAS,CACX,KAAA+M,CADW,CAAT,CAED,CACD,IAAK+B,CAAAA,aAAL,CAA8B,MAA9B,GAAqB\/B,CACrB,IAAI,CAAC,IAAK+B,CAAAA,aAAV,CACE,MAAO\/B,EAHR,CAHwF;AAQ3F8B,aAAa,CAAC1\/F,CAAA,CATaggG,CASd,CAAiC,CAC5C,MAAOhgG,EADqC,CAR6C,CAW3F7E,MAAM,CAAC6E,CAAA,CAAQ,EAAT,CAAa,CACjB,GAAqB,UAArB,GAAI,MAAOA,EAAX,CACE,MAAQwiB,GAAD,EAAWs9E,EAA0B3kG,CAAAA,MAA1B,CAAiC6E,CAAA,CAAMwiB,EAAN,CAAjC,CAEpB,IAAI,SAAJ,EAAiBxiB,EAAjB,CACE,MAAO,EAAA,EAAMA,CAAM+sB,CAAAA,OAErB,IAA2B,UAA3B,GAAI,MAAO4sE,YAAX,EAAyC35F,CAAzC,WAA0D25F,YAA1D,CACE,MAAO35F,EAET,OAAM,CACJ,KAAA6oB,CAAA,CAAO,CAACvwB,QADJ,CAEJ,MAAA6qD,CAAA,CAAQ7qD,QAFJ,CAGJ,IAAAswB,EAAA,CAAM,CAACtwB,QAHH,CAIJ,OAAA4jD,EAAA,CAAS5jD,QAJL,CAAA,CAKF0H,CACJ,OAAO,CAAC,CAAC6oB,CAAD,CAAOs6B,CAAP,CAAD,CAAgB,CAACv6B,EAAD,CAAMszB,EAAN,CAAhB,CAhBU,CAXwE,CAA7D,CA7zChC,CA41CI+jD,GAAiB,CACnBC,WAAY,CAACC,CAAA,CAAS,CAAV,CAAAD,EAAgB,CAFXE,EAEW,CAAgBD,CAAhB,CAAwB,CAAxB,CADT,CAEnBE,UAAW,CAACF,CAAA,CAAS,CAAV,CAAAE,EAAgB,CAAC,CAHXD,EAGU,CAAiBD,CAAjB,CAAyB,CAAzB,CAFR,CAGnBG,QAAS,CAACH,CAAA,CAAS,CAAV,CAAAG,EAAgB,CAAC,CAAD,CAAI,CAJZF,EAIQ,CAAoBD,CAApB,CAHN,CAInBI,UAAW,CAACJ,CAAA,CAAS,CAAV,CAAAI,EAAgB,CAAC,CAAD,CALVH,EAKU,CAAmBD,CAAnB,CAJR,CA51CrB,CAk2CIK,GAAa,aAAcf,GAAd,CACfh\/F,WAAW,CAAC,GAAG5B,CAAJ,CAAU,CACnB,KAAA,CAAM,GAAGA,CAAT,CACA+zB,GAAA,CAAgB,IAAhB,CAAsB,QAAtB,CAAgC,UAAhC,CAFmB,CAIrBkb,KAAK,EAAG,CACN,KAAMA,CAAAA,KAAN,EACA;MAAMtrB,EAAQ,IAAKA,CAAAA,KACnBA,EAAMi+E,CAAAA,UAAN,CAAmB,IAAK,EACxBj+E,EAAMk+E,CAAAA,cAAN,CAAuB,CAAA,CACvBl+E,EAAMm+E,CAAAA,eAAN,CAAwB,CAAA,CACxBn+E,EAAMo+E,CAAAA,cAAN,CAAuB,CAAA,CACvBp+E,EAAMq+E,CAAAA,QAAN,CAAiB,CAAA,CACjBr+E,EAAMs+E,CAAAA,KAAN,CAAc,CAAC,CAAD,CAAI,CAAJ,CACdt+E,EAAMuqB,CAAAA,GAAN,CAAY,CAAA,CACZvqB,EAAMme,CAAAA,QAAN,CAAiB,CAAA,CACjBne,EAAMosD,CAAAA,MAAN,CAAe,IAAKA,CAAAA,MAAOh4E,CAAAA,IAAZ,CAAiB,IAAjB,CAXT,CAaRkoG,KAAK,EAAG,CACN,MAAMt8E,EAAQ,IAAKA,CAAAA,KACnB,IAAIA,CAAMm7E,CAAAA,OAAV,WAA6BhE,YAA7B,CAA0C,CACxC,MAAMoH,EAAYv+E,CAAMm7E,CAAAA,OAAQrzE,CAAAA,qBAAd,EAAlB,CACM02E,EAAax+E,CAAM4K,CAAAA,aAAc9C,CAAAA,qBAApB,EAOnB9H,EAAMm7E,CAAAA,OAAN,CAAgBmC,EAA0B3kG,CAAAA,MAA1B,CANAwiG,CACd90E,KAAMk4E,CAAUl4E,CAAAA,IAAhBA,CAAuBm4E,CAAWn4E,CAAAA,IAAlCA,CAAyCrG,CAAMvrB,CAAAA,MAAN,CAAa,CAAb,CAD3B0mG,CAEdx6C,MAAO49C,CAAU59C,CAAAA,KAAjBA,CAAyB69C,CAAW79C,CAAAA,KAApCA,CAA4C3gC,CAAMvrB,CAAAA,MAAN,CAAa,CAAb,CAF9B0mG,CAGd\/0E,IAAKm4E,CAAUn4E,CAAAA,GAAfA,CAAqBo4E,CAAWp4E,CAAAA,GAAhCA,CAAsCpG,CAAMvrB,CAAAA,MAAN,CAAa,CAAb,CAHxB0mG,CAIdzhD,OAAQ6kD,CAAU7kD,CAAAA,MAAlBA,CAA2B8kD,CAAW9kD,CAAAA,MAAtCA,CAA+C15B,CAAMvrB,CAAAA,MAAN,CAAa,CAAb,CAJjC0mG,CAMA,CATwB,CAFpC,CAcR\/uB,MAAM,EAAG,CACP,MAAMpsD;AAAQ,IAAKA,CAAAA,KACfA,EAAMme,CAAAA,QAAV,GAEAne,CAAMme,CAAAA,QAEN,CAFiB,CAAA,CAEjB,CADAne,CAAM66E,CAAAA,OACN,CADgB,CAAA,CAChB,CAAAjpF,UAAA,CAAW,EAAA,EAAM,CACf,IAAK4pF,CAAAA,OAAL,EACA,KAAKoB,CAAAA,IAAL,EAFe,CAAjB,CAGG,CAHH,CAJA,CAFO,CAWT6B,SAAS,EAAG,CACV,IAAKz+E,CAAAA,KAAM66E,CAAAA,OAAX,CAAqB,IAAK76E,CAAAA,KAAMk+E,CAAAA,cAAhC,EAAkD,IAAKl+E,CAAAA,KAAMm+E,CAAAA,eADnD,CAGZ7mE,KAAK,EAAG,CACN,IAAKonE,CAAAA,YAAL,EACA,KAAK1+E,CAAAA,KAAMk+E,CAAAA,cAAX,CAA4B,CAAA,CAC5B,KAAKl+E,CAAAA,KAAMm+E,CAAAA,eAAX,CAA6B,CAAA,CAC7B,MAAM7mE,CAAAA,KAAN,EAJM,CAMRqnE,WAAW,CAAC9sE,CAAD,CAAQ,CACjB,MAAMkD,EAAS,IAAKA,CAAAA,MAApB,CACM\/U,EAAQ,IAAKA,CAAAA,KACnB,IAAqB,IAArB,EAAI6R,CAAM0H,CAAAA,OAAV,GAA8Bj9B,KAAMsG,CAAAA,OAAN,CAAcmyB,CAAO6pE,CAAAA,cAArB,CAAA,CAAwC7pE,CAAO6pE,CAAAA,cAAev5E,CAAAA,QAAtB,CAA+BwM,CAAM0H,CAAAA,OAArC,CAAxC,CAAkH,CAAC,CAAnH,GAAwFxE,CAAO6pE,CAAAA,cAA\/F,EAAwH7pE,CAAO6pE,CAAAA,cAA\/H,GAAkJ\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\/B,CAGA,CAFA6sG,CAAA,CAAa\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\/F,aAAa,CAAC1\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\/1B,KAAM4F,CAAAA,IAAN,CAAW8\/F,CAAe3lF,CAAAA,MAAf,EAAX,CAAjB,CAChB,CAAA,IAAKkmF,CAAAA,UAAL,CAAgB1wE,CAAhB,CAAuB8pE,CAAvB,CAJA,CAPA,CAPA,CADkB,CAqBpB4G,UAAU,CAAC1wE,CAAD,CAAQ8pE,CAAR,CAAiB,CACX,IAAK37E,CAAAA,KACbvoB,CAAAA,MAAN,CAAekkG,CAAQlkG,CAAAA,MACvB,KAAKijG,CAAAA,aAAL,CAAmB,CAACiB,CAAQp+E,CAAAA,QAAT,CAAmBo+E,CAAQnpE,CAAAA,KAA3B,CAAnB,CACA,KAAKmoE,CAAAA,cAAL,EACA,KAAKa,CAAAA,OAAL,CAAa3pE,CAAb,CACA,KAAK+qE,CAAAA,IAAL,EANyB,CAQ3B8F,SAAS,CAAC7wE,CAAD,CAAQ,CACf,GAAK,IAAK7R,CAAAA,KAAM66E,CAAAA,OAAhB,CAAA,CAEA,IAAMc,EAAU5oE,EAAA,CAAmBlB,CAAnB,CAA0B,IAAK7R,CAAAA,KAAMiiF,CAAAA,SAArC,CAChB,KAAKU,CAAAA,SAAL,CAAe9wE,CAAf,CAAsB8pE,CAAtB,CAHA,CADe,CAMjB0D,WAAW,CAACxtE,CAAD,CAAQ,CACjB,IAAMmwE,EAAiB,IAAKhiF,CAAAA,KAAMgiF,CAAAA,cAC9BA,EAAejtF,CAAAA,GAAf,CAAmB8c,CAAMzH,CAAAA,SAAzB,CAAJ,EACE43E,CAAev9F,CAAAA,GAAf,CAAmBotB,CAAMzH,CAAAA,SAAzB,CAAoCyH,CAApC,CAEG,KAAK7R,CAAAA,KAAM66E,CAAAA,OAAhB,GAEMc,CACN,CADgBtpE,EAAA,CAAc,GAAG\/1B,KAAM4F,CAAAA,IAAN,CAAW8\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\/B,CACAJ,GAAA,CAAmC\/T,CAAnC,CACA,KAAKA,CAAAA,KAAMvoB,CAAAA,MAAX,CAAoB,CAACo6B,CAAM9C,CAAAA,OAAP,CAAgB8C,CAAM7C,CAAAA,OAAtB,CACpB,KAAKwsE,CAAAA,OAAL,CAAa3pE,CAAb,CACA,KAAK+qE,CAAAA,IAAL,EAlBiB,CAoBnB6G,QAAQ,EAAG,CACJ,IAAKzjF,CAAAA,KAAM66E,CAAAA,OAAhB,GAEA,IAAK76E,CAAAA,KAAM66E,CAAAA,OAEX,CAFqB,CAAA,CAErB,CADA,IAAKW,CAAAA,OAAL,EACA,CAAA,IAAKoB,CAAAA,IAAL,EAJA,CADS,CAOXxoG,IAAI,CAAC6sG,CAAD,CAAe,CACjB,MAAM\/vE,EAAS,IAAK6D,CAAAA,MAAO7D,CAAAA,MACrBA,EAAN,GACE+vE,CAAA,CAAa\/vE,CAAb,CAAqB,OAArB,CAA8B,IAAA,CAAKA,CAAL,CAAc,OAAd,CAAuB98B,CAAAA,IAAvB,CAA4B,IAA5B,CAA9B,CAGA,CAFA6sG,CAAA,CAAa\/vE,CAAb,CAAqB,QAArB,CAA+B,IAAA,CAAKA,CAAL,CAAc,MAAd,CAAsB98B,CAAAA,IAAtB,CAA2B,IAA3B,CAA\/B,CAEA,CADA6sG,CAAA,CAAa\/vE,CAAb,CAAqB,KAArB,CAA4B,IAAA,CAAKA,CAAL,CAAc,KAAd,CAAqB98B,CAAAA,IAArB,CAA0B,IAA1B,CAA5B,CACA,CAAA6sG,CAAA,CAAa\/vE,CAAb,CAAqB,QAArB,CAA+B,IAAA,CAAKA,CAAL,CAAc,KAAd,CAAqB98B,CAAAA,IAArB,CAA0B,IAA1B,CAA\/B,CAJF,CAMI,KAAK2gC,CAAAA,MAAO4uE,CAAAA,YAAhB,EACE1C,CAAA,CAAa,OAAb,CAAsB,EAAtB,CAA0B,IAAKoC,CAAAA,KAAMjvG,CAAAA,IAAX,CAAgB,IAAhB,CAA1B;AAAiD,CAC\/Cm9B,QAAS,CAAA,CADsC,CAAjD,CATe,CApPH,CA1IP,CA6YPqyE,GAAsBpzE,EAAA,CAAeA,EAAA,CAAe,EAAf,CAAmB4sE,EAAnB,CAAf,CAAyD,EAAzD,CAA6D,CACrFlsE,MAAM,CAACqsE,CAAD,CAAKlP,CAAL,CAAS,CACb,OAAAx4D,CADa,CAEb,QAAS,CACP,MAAAhD,EAAA,CAAQ,CAAA,CADD,CAAA,CAEL,EAJS,CAAT,CAKH,CAED,GADqBgD,CACJ31B,CAAAA,MAAjB,EAA2B,CAAS2yB,EAApC,EAAqD+F,EAArD,CACE,MAAO,SACT,IAAY\/F,EAAZ,EAAqBA,EAArB,CACE,MAAO,OACT,IAAY6uE,EAAZ,CAAyB,CACvB,GAAYnH,EAAZ,CACE,MAAO,SACT,IAAY1nE,EAAZ,CACE,MAAO,OAJc,CANxB,CANkF,CAmBrFl6B,MAAM,CAAC4kG,CAAD,CAAKlP,CAAL,CAAS,CACb,YAAAh0D,CAAA,CAAc,EADD,CAEb,YAAAwpE,EAAA,CAAc,EAFD,CAAT,CAGH,CACD,MAAMC,GAAgB9jF,EAAD8jF,EAAW,CACL,EAAA,CAAA9lG,EAAA,CAAKq8B,CAAL,CAAkBra,EAAlB,CApkC7B,GAAA,CAAOpiB,MAAOiD,CAAAA,MAAP,CAAc,EAAd,CAokCgDu5F,CACjDp2E,IAAK,CAACluB,QAD2CskG,CAEjDhlG,IAAKU,QAF4CskG,CApkChD,CAA4B58F,EAA5B,EAAqC,EAArC,CAwkCH,OAAO,CAJI0lD,EAIAl\/B,CAAAA,GAAJ,CAJIk\/B,EAIQ9tD,CAAAA,GAAZ,CALuB,CAAhC,CAOM2uG,GAAgB\/jF,EAAD+jF,EAAW,CACL,EAAA,CAAA\/lG,EAAA,CAAK6lG,EAAL,CAAkB7jF,EAAlB,CA3kC7B,GAAA,CAAOpiB,MAAOiD,CAAAA,MAAP,CAAc,EAAd,CA2kCgDu5F,CACjDp2E,IAAK,CAACluB,QAD2CskG,CAEjDhlG,IAAKU,QAF4CskG,CA3kChD,CAA4B58F,EAA5B,EAAqC,EAArC,CA+kCH,OAAO,CAJIhD,EAIAwpB,CAAAA,GAAJ,CAJIxpB,EAIQpF,CAAAA,GAAZ,CALuB,CAOhC,OAA2B,UAA3B,GAAI,MAAOilC,EAAX,EAAgE,UAAhE,GAAyC,MAAOwpE,GAAhD;AACS,CAACC,EAAA,EAAD,CAAiBC,EAAA,EAAjB,CADT,CAEQ\/jF,EAAD,EAAW,CAAC8jF,EAAA,CAAa9jF,EAAb,CAAD,CAAsB+jF,EAAA,CAAa\/jF,EAAb,CAAtB,CAjBjB,CAtBkF,CAyCrF4T,SAAS,CAACp2B,CAAD,CAAQ6wF,CAAR,CAAYt5D,CAAZ,CAAoB,CAC3B,IAAKooE,CAAAA,aAAL,CAAqC,MAArC,GAAqBpoE,CAAOqmE,CAAAA,IAE5B,OADkBlB,GAAEC,CAAAA,QAAFvmE,CAAWp2B,CAAXo2B,CAAkB,IAAKupE,CAAAA,aAAL,CAAqB,CAAC,EAAD,CAAM,CAAN,CAArB,CAAgC,CAAlDvpE,CAFS,CAzCwD,CA8CrF0vE,WAAW,CAAC9lG,CAAD,CAAQ,CACjB,MAAc,KAAK,EAAnB,GAAIA,CAAJ,CACS,SADT,CAEOA,CAHU,CA9CkE,CAmDrFmmG,YAAY,CAACnmG,CAAA,CAAQ,CAAA,CAAT,CAAe,CACzB,MAAOA,EADkB,CAnD0D,CAA7D,CA7Yf,CAocPwmG,GAAa,aAAc\/G,GAAd,CACfh\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\/B,CACAJ,GAAA,CAAmC\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\/sB,CAFxC,CADW,CAOzB+3B,OAAO,CAAC\/3B,CAAA;AAAQ,CAAA,CAAT,CAAe,CACpB,MAAOA,EADa,CAPG,CAUzBZ,MAAM,CAACY,CAAA,CA3qBP0jG,EA2qBe,CAAoBtkG,MAApB,CAA6B,IAAK,EAA3C,CAA8C,CAClD,MAAOY,EAD2C,CAV3B,CAazB63B,YAAY,CAAC,CACX,QAAA9D,CAAA,CAAU,CAAA,CADC,CAEX,QAAAT,CAAA,CAAU,CAAA,CAFC,CAAA,CAGT,EAHQ,CAGJ,CACN,MAAO,CACLS,QAAAA,CADK,CAELT,QAAAA,CAFK,CADD,CAhBiB,CAsBzB0E,SAAS,CAACh4B,CAAD,CAAQ,CACf,MAAOA,EADQ,CAtBQ,CAhqBhB,CA0rBPi4B,GAAY,CAAC,QAAD,CAAW,cAAX,CAA2B,QAA3B,CAAqC,SAArC,CAAgD,WAAhD,CA1rBL,CA0vBPW,GAAa,KAAA,CACfn4B,WAAW,CAACg4B,CAAD,CAAOd,CAAP,CAAmB,CAC5B\/E,EAAA,CAAgB,IAAhB,CAAsB,YAAtB,CAAoD,IAAI7wB,GAAxD,CACA,KAAK8lG,CAAAA,KAAL,CAAapvE,CACb,KAAKqvE,CAAAA,WAAL,CAAmBnwE,CAHS,CAK9B99B,GAAG,CAAC4hB,CAAD,CAAUiY,CAAV,CAAkBxjB,CAAlB,CAA2BsJ,EAA3B,CAAoC\/R,EAApC,CAA6C,CAC9C,MAAM0S,GAAY,IAAK4tF,CAAAA,UAAvB,CACMjuF,GAAOqa,EAAA,CAAeT,CAAf,CAAuBxjB,CAAvB,CADb,CAGM2nB,GAAe7E,EAAA,CAAeA,EAAA,CAAe,EAAf,CADnB,IAAK80E,CAAAA,WAALE,CAAmB,IAAKH,CAAAA,KAAMtwE,CAAAA,MAAX,CAAkB,IAAKuwE,CAAAA,WAAvB,CAAoCjwE,CAAAA,YAAvDmwE,CAAsE,EACnD,CAAf,CAA6CvgG,EAA7C,CACrBgU,EAAQuL,CAAAA,gBAAR,CAAyBlN,EAAzB,CAA+BN,EAA\/B,CAAwCqe,EAAxC,CACA,OAAMurE,GAAU,EAAAA,EAAM,CACpB3nF,CAAQiR,CAAAA,mBAAR,CAA4B5S,EAA5B;AAAkCN,EAAlC,CAA2Cqe,EAA3C,CACA1d,GAAU+V,CAAAA,MAAV,CAAiBkzE,EAAjB,CAFoB,CAItBjpF,GAAUtgB,CAAAA,GAAV,CAAcupG,EAAd,CACA,OAAOA,GAXuC,CAahDtpE,KAAK,EAAG,CACN,IAAKiuE,CAAAA,UAAWp2F,CAAAA,OAAhB,CAAyByxF,CAAD,EAAaA,CAAA,EAArC,CACA,KAAK2E,CAAAA,UAAW5jE,CAAAA,KAAhB,EAFM,CAnBO,CA1vBN,CAkxBPrL,GAAe,KAAA,CACjBr4B,WAAW,EAAG,CACZmyB,EAAA,CAAgB,IAAhB,CAAsB,WAAtB,CAAmD,IAAI\/wB,GAAvD,CADY,CAGdhI,GAAG,CAACkJ,CAAD,CAAMwY,CAAN,CAAgBqP,CAAA,CAAK,GAArB,CAA0B,GAAG\/rB,EAA7B,CAAmC,CACpC,IAAKopB,CAAAA,MAAL,CAAYllB,CAAZ,CACA,KAAKklG,CAAAA,SAAUhhG,CAAAA,GAAf,CAAmBlE,CAAnB,CAAwB3D,MAAOgV,CAAAA,UAAP,CAAkBmH,CAAlB,CAA4BqP,CAA5B,CAAgC,GAAG\/rB,EAAnC,CAAxB,CAFoC,CAItCopB,MAAM,CAACllB,CAAD,CAAM,CAEV,CADMmtC,CACN,CADgB,IAAK+3D,CAAAA,SAAUl+F,CAAAA,GAAf,CAAmBhH,CAAnB,CAChB,GACE3D,MAAO2rB,CAAAA,YAAP,CAAoBmlB,CAApB,CAHQ,CAKZpW,KAAK,EAAG,CACN,IAAKmuE,CAAAA,SAAUt2F,CAAAA,OAAf,CAAwBu+B,CAAD,EAAa,IAAK9wC,OAAO2rB,CAAAA,YAAP,CAAoBmlB,CAApB,CAAzC,CACA,KAAK+3D,CAAAA,SAAU9jE,CAAAA,KAAf,EAFM,CAbS,CAlxBR,CAoyBPxK,GAAa,KAAA,CACfl5B,WAAW,CAACw4B,CAAD,CAAW,CACpBrG,EAAA,CAAgB,IAAhB,CAAsB,UAAtB,CAAkD,IAAI7wB,GAAtD,CACA6wB,GAAA,CAAgB,IAAhB,CAAsB,mBAAtB,CAA2C,IAAIgG,EAAJ,CAAe,IAAf,CAA3C,CACAhG,GAAA,CAAgB,IAAhB,CAAsB,oBAAtB;AAA4C,EAA5C,CACAA,GAAA,CAAgB,IAAhB,CAAsB,sBAAtB,CAA8C,EAA9C,CACAA,GAAA,CAAgB,IAAhB,CAAsB,UAAtB,CAAkC,EAAlC,CACAA,GAAA,CAAgB,IAAhB,CAAsB,QAAtB,CAAgC,EAAhC,CACAA,GAAA,CAAgB,IAAhB,CAAsB,YAAtB,CAAoD,IAAI7wB,GAAxD,CACA6wB,GAAA,CAAgB,IAAhB,CAAsB,UAAtB,CAAkD,IAAI7wB,GAAtD,CACA6wB,GAAA,CAAgB,IAAhB,CAAsB,OAAtB,CAA+B,CAC7ByF,OAAQ,CACN+D,SAAU,CAAA,CADJ,CAENb,QAAS,CAAA,CAFH,CAGND,QAAS,CAAA,CAHH,CAINQ,OAAQ,CAAA,CAJF,CADqB,CAA\/B,CAQsB7C,EAyFHivE,CAAAA,IAArB,EACE1vE,EAAA,CA1FgBC,IA0FhB,CAAmB,MAAnB,CA1FsBQ,EA2FH4sE,CAAAA,KAArB,EACErtE,EAAA,CA5FgBC,IA4FhB,CAAmB,OAAnB,CA5FsBQ,EA6FH+tE,CAAAA,MAArB,EACExuE,EAAA,CA9FgBC,IA8FhB,CAAmB,QAAnB,CA9FsBQ,EA+FHwtE,CAAAA,IAArB,EACEjuE,EAAA,CAhGgBC,IAgGhB,CAAmB,MAAnB,CAhGsBQ,EAiGH2D,CAAAA,KAArB,EACEpE,EAAA,CAlGgBC,IAkGhB,CAAmB,OAAnB,CAlGsBQ,EAmGHkvE,CAAAA,KAArB,EACE3vE,EAAA,CApGgBC,IAoGhB,CAAmB,OAAnB,CArHoB,CAmBtB6oE,WAAW,CAACjtE,CAAD,CAAQ,CACjB,GAhlDK,SAglDL,EAAYA,EAAZ,CAEE,MADA,KAAKe,CAAAA,QACL,CADgB,IAAIrzB,GAAJ,CAAQqzB,EAAA,CAASf,CAAT,CAAR,CAEX,IAAI,WAAJ,EAAmBA,EAAnB,CAKL,MAJmB,WAAnB,GAAIA,CAAMva,CAAAA,IAAV,EAAiD,eAAjD,GAAkCua,CAAMva,CAAAA,IAAxC;AACE,IAAKg0E,CAAAA,UAAW59D,CAAAA,MAAhB,CAAuBmE,CAAMzH,CAAAA,SAA7B,CADF,CAEwB,aAFxB,GAESyH,CAAMva,CAAAA,IAFf,EAGE,IAAKg0E,CAAAA,UAAWj0F,CAAAA,GAAhB,CAAoBw6B,CAAMzH,CAAAA,SAA1B,CACUkhE,CAAL,IAAKA,CAAAA,UATG,CAYnBl0D,aAAa,CAACX,CAAD,CAAWQ,CAAX,CAA2B,CACtC,IAAKR,CAAAA,QAAL,CAAgBA,CAChB,KAAKQ,CAAAA,cAAL,CAAsBA,CAFgB,CAIxCI,WAAW,CAACtC,CAAD,CAASI,CAAT,CAAqB,CAC9B,IAAKJ,CAAAA,MAAL,CAAcE,EAAA,CAAOF,CAAP,CAAeI,CAAf,CAA2B,IAAKJ,CAAAA,MAAhC,CADgB,CAGhCuC,KAAK,EAAG,CACN,IAAKsuE,CAAAA,iBAAkBtuE,CAAAA,KAAvB,EACA,KAAK,MAAM\/2B,CAAX,GAAkB,KAAK21B,CAAAA,QAAvB,CACE,IAAKC,CAAAA,kBAAL,CAAwB51B,CAAxB,CAA6B+2B,CAAAA,KAA7B,EACA,CAAA,IAAKjB,CAAAA,oBAAL,CAA0B91B,CAA1B,CAA+B+2B,CAAAA,KAA\/B,EAJI,CAORtlB,MAAM,EAAG,CACH,IAAK+iB,CAAAA,MAAOc,CAAAA,MAAO31B,CAAAA,MAAvB,EACE,IAAK9L,CAAAA,IAAL,EACF,OAAO,EAAA,EAAM,IAAKwxG,CAAAA,iBAAkBtuE,CAAAA,KAAvB,EAHN,CAKTljC,IAAI,CAAC,GAAGiI,CAAJ,CAAU,CACZ,IAAMokG,EAAe,IAAK1rE,CAAAA,MAAOc,CAAAA,MACjC,OAAMx1B,EAAQ,EACd,KAAIH,EACJ,IAAIugG,CAAavgG,CAAAA,MAAjB;CACEA,EACI,CADKugG,CAAavgG,CAAAA,MAAb,EACL,CAAA,CAACA,EAFP,EAGI,MAEJ,IAAIugG,CAAalrE,CAAAA,OAAjB,CAA0B,CACxB,IAAK,MAAMJ,EAAX,GAAyB,KAAKe,CAAAA,QAA9B,CAAwC,CACtC,MAAM2vE,GAAgB,IAAK9wE,CAAAA,MAAL,CAAYI,EAAZ,CAAtB,CACM8rE,GAAe6E,EAAA,CAAYzlG,CAAZ,CAAmBwlG,EAAcxwE,CAAAA,YAAjC,CAA+C,CAAC,CAACn1B,EAAjD,CACjB2lG,GAActwE,CAAAA,OAAlB,EAEsCnhC,CAApC,KADgBsgC,EAAUntB,CAAAA,GAAVw+F,CAAc5wE,EAAd4wE,CAChB,EAAY,IAAZ,CAAkB1pG,CAAlB,CAAwB84B,EAAxB,CAAoC\/gC,EAAAA,IAApC,CAAyC6sG,EAAzC,CALoC,CAQlC+E,CAAAA,CAAqBF,EAAA,CAAYzlG,CAAZ,CAAmBogG,CAAaprE,CAAAA,YAAhC,CAA8C,CAAC,CAACn1B,EAAhD,CAC3B,KAAK,MAAMoxB,EAAX,GAAuB,KAAK2F,CAAAA,cAA5B,CACE+uE,CAAA,CACE10E,EADF,CAEE,EAFF,CAGGO,EAAD,EAAW,IAAKoF,CAAAA,cAAL,CAAoB3F,EAApB,CAAA,CAA8Bd,EAAA,CAAeA,EAAA,CAAe,EAAf,CAAmB,IAAKxQ,CAAAA,KAAM6V,CAAAA,MAA9B,CAAf,CAAsD,EAAtD,CAA0D,CACjGhE,MAAAA,EADiG,CAEjGx1B,KAAAA,CAFiG,CAA1D,CAA9B,CAHb,CAOE,IAAK,EAPP,CAQE,CAAA,CARF,CAXsB,CAuB1B,IAAK,MAAM4pG,EAAX,GAA0B5lG,EAA1B,CACEA,CAAA,CAAM4lG,EAAN,CAAA,CAAqBxyE,EAAA,CAAM,GAAGpzB,CAAA,CAAM4lG,EAAN,CAAT,CAEvB,IAAI,CAAC\/lG,EAAL,CACE,MAAOG,EACT,KAAK,MAAM4lG,EAAX,GAA0B5lG,EAA1B,CAAiC,CAC\/B,MAAM,CACJ,OAAA6wB,EADI,CAEJ,QAAAJ,EAFI,CAGJ,QAAAS,EAHI,CAAA,CAIFF,EAAA,CAAU40E,EAAV,CACJ,KAAKL,CAAAA,iBAAkBvuG,CAAAA,GAAvB,CAA2B6I,EAA3B,CAAmCgxB,EAAnC,CAA2C,EAA3C,CAA+C7wB,CAAA,CAAM4lG,EAAN,CAA\/C;AAAmE,CACjEn1E,QAAAA,EADiE,CAEjES,QAAAA,EAFiE,CAAnE,CAN+B,CArCrB,CAnDC,CApyBN,CA45BPu0E,GAAc,CAACzlG,CAAD,CAAQg1B,CAAR,CAAsB6wE,CAAtB,CAAAJ,EAA4C,CAAC50E,EAAD,CAASxjB,EAAT,CAAkBsJ,EAAlB,CAA2B\/R,EAAA,CAAU,EAArC,CAAyCkhG,EAAA,CAAW,CAAA,CAApD,CAAA,EAA8D,CAAA,IACtHC,EADsH,CACpGC,EACtB,OAAMv1E,GAAmD,IAAzC,IAACs1E,EAAD,CAAoBnhG,EAAQ6rB,CAAAA,OAA5B,GAAsE,IAAK,EAA3E,GAAiDs1E,EAAjD,CAA+EA,EAA\/E,CAAkG\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\/Y,YAAa,CAAA,CALM,CA8BrB+kC,GAAkB\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\/F,EAFiF,CAGtF\/sF,UAAY,iBAAgBA,EAAhB,EAH0E,CAItF,aAAc,WAJwE,CAAf,CAKtElb,CALsE,CAAd,CAKhD,CACTmjC,SAAAA,EADS,CALgD,CAApC,CAlCyB,CAAlC,CAjGhB;AA8II+kE,GAAU79C,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CA9Id,CA+II00G,GAAsB10G,EAAA,CAAQ,GAAR,CA\/I1B,CAgJI20G,GAAsBjmE,EAAA,CAASkmE,QAA6B,CAAC,CAC\/D,OAAQlsC,CADuD,CAE\/D,OAAAmsC,CAF+D,CAG\/D,OAAAhwG,CAH+D,CAI\/D,SAAA5B,EAAA,CAAW,CAJoD,CAAD,CAK7D,CACD,MAAM,CACJ,WAAY,CAAE,WAAY6xG,EAAd,CADR,CAEJ,SAAU,CACR,OAAQC,EADA,CAER,OAAQ,CACN,MAAO,CAAChxG,EAAD,CAAKC,EAAL,CADD,CAEN,KAAA2hC,EAFM,CAFA,CAFN,CAAA,CASFpQ,EAAA,EATJ,CAUMi\/E,GAAUC,EAAQ3+E,CAAAA,MAAR,CAAe,IAAf,CAChB,KAAMwsD,GAAgBze,EAAYiB,CAAAA,gBAAZ,CAA6BjgE,CAA7B,CAAqC5B,EAArC,CAChB+xG,GAAAA,CAAenxC,EAAYe,CAAAA,cAAZ,CAA2B0d,EAA3B,CAA0C38C,EAA1C,CACrBgB,GAAA,CAAyB6tE,EAAzB,CAAkC3vG,CAAlC,CAA0C5B,EAA1C,CAAoD,KAApD,CACA,IAAI,CAAC6xG,EAAL,CACE,KAAMv0G,MAAA,CAAM,kCAAN,CAAN,CACF,MAAM00G,GAAepxC,EAAYY,CAAAA,eAAZ,CAA4BuwC,EAA5B,CAA0C,CAACjxG,EAAD,CAAM4hC,EAAN,CAAY3hC,EAAZ,CAAiB2hC,EAAjB,CAA1C,CASrB,OAAuB,GAAI+uE,EAAoBjkE,CAAAA,GAAxB,EAA6B,KAA7B,CAAoC,CACzD57B,IAAK2\/F,EADoD,CAEzD\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\/D,OAAAvxG,CAD+D,CAE\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\/E,EAR8C,CAS7DK,eAAgBL,EAT6C,CAU7Dt\/E,UAAWs\/E,EAVkD,CAW7DM,MAAO,iBAXsD,CAY7DrnE,SAA0B,GAAIgnE,EAAoBjmE,CAAAA,GAAxB,EAA6BomE,EAA7B,CAA8C,CACtEpvF,UAAW,qBAAXA,EAAoC6uF,EAAA,CAAU,4BAAV,CAAyC,EAA7E7uF,CADsE,CAEtE6B,GAAIN,CAAMM,CAAAA,EAF4D;AAGtEN,MAAAA,CAHsE,CAA9C,CAZmC,CAArC,CAD0C,CAA5C,CAHmC,CAAxC,CAZmE,CAA9D,CAjY9B,CAwaIguF,GAAUpgD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAxad,CAyaIi3G,GAAuBj3G,EAAA,CAAQ,GAAR,CAza3B,CA0aIk3G,GAA2BxoE,EAAA,CAASyoE,QAAwB,CAAC,CAC\/D,OAAAtyG,CAD+D,CAE\/D,OAAAgwG,CAF+D,CAG\/D,OAAQnsC,CAHuD,CAI\/D,SAAAzlE,EAAA,CAAW,CAJoD,CAK\/D,OAAAupG,EAAA,CAAS,MALsD,CAAD,CAM7D,CACD,MAAM,CACJ,WAAY,CAAE,gBAAiB4K,EAAnB,CADR,CAEJ,SAAU,CACR,OAAQ,CAAE,KAAAzxE,EAAF,CADA,CAFN,CAAA,CAKFpQ,EAAA,EALJ,CAMMi\/E,GAAUwC,EAAQlhF,CAAAA,MAAR,CAAe,IAAf,CANhB,CAOMk\/E,GAAenxC,EAAYe,CAAAA,cAAZ,CAA2B\/\/D,CAA3B,CAAmC8gC,EAAnC,CACrBgB,GAAA,CAAyB6tE,EAAzB,CAAkC3vG,CAAlC,CAA0C5B,EAA1C,CAAoD,KAApD,CACA,IAAI,CAACm0G,EAAL,CACE,KAAM72G,MAAA,CAAM,uCAAN,CAAN,CACF,MAAuB,GAAI02G,EAAqBxmE,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC1D57B,IAAK2\/F,EADqD,CAE1D\/sF,UAAY,gCAA+BotF,CAAA,CAAU,aAAV,CAAyB,EAAxD,EAF8C,CAG1D,aAAc,yBAH4C,CAI1D,0BAA2B,MAJ+B,CAK1DnlE,SAA0B,GAAIunE,EAAqBxmE,CAAAA,GAAzB,EAA8B2mE,EAA9B;AAAgD,CACxE5wB,OAAQ9d,CADgE,CAExE7jE,OAAAA,CAFwE,CAGxEmwG,aAAAA,EAHwE,CAIxErvE,KAAAA,EAJwE,CAKxE1iC,SAAAA,EALwE,CAMxEupG,OAAAA,EANwE,CAAhD,CALgC,CAArC,CAZtB,CAN4B,CA1a\/B,CA6cI6K,GAAuBr3G,EAAA,CAAQ,GAAR,CA7c3B,CA8cIs3G,GAAS5oE,EAAA,CAAS6oE,QAAe,CAAC,CACpC,MAAAvuF,CADoC,CAEpC,UAAA4sF,CAAA,CAAY,CAAA,CAFwB,CAGpC,WAAAC,CAAA,CAAa,CAAA,CAHuB,CAIpC,UAAAC,EAAA,CAAY,CAAA,CAJwB,CAKpC,UAAAG,EAAA,CAAY,CAAA,CALwB,CAMpC,UAAAF,EAAA,CAAY,CAAA,CANwB,CAOpC,aAAAyB,EAPoC,CAQpC,MAAAryB,EARoC,CASpC,KAAAx0C,EAToC,CAUpC,OAAAne,EAVoC,CAAD,CAWlC,CACD,MAAM,CACJ,OAAA3tB,EADI,CAEJ,MAAO,CAAE,SAAA5B,EAAF,CAAY,MAAAirD,EAAZ,CAFH,CAGJ,eAAAupD,EAHI,CAAA,CAIFzuF,CAJJ,CAKMsR,GAAMF,EAAA,EALZ,CAMMpE,GAASma,EAAA,CAAennB,CAAf,CACf,KAAM80E,GAAcxjE,EAAI20D,CAAAA,cAAJ,CAAmBjmE,CAAnB,CACd0uF,GAAAA,CAAwBp9E,EAAI0Q,CAAAA,WAAY\/pB,CAAAA,GAAhB,CAAmC,IAAf,EAAA68E,EAAA,CAAsB,IAAK,EAA3B,CAA+BA,EAAYx0E,CAAAA,EAA\/D,CAE9B,OAAuB,GAAI+tF,EAAqB5mE,CAAAA,GAAzB,EAA8B6jE,EAA9B,CAAyC,CAC9D,gBAAiBtrF,CAAMM,CAAAA,EADuC,CAE9D,0BAHmB,CAACusF,CAGpB,EAHkC,CAAC6B,EAGnC,EAHwF,CAGxF,GAH4Dp9E,EAAI4V,CAAAA,cAAeltC,CAAAA,IAG\/E,EAH6F,IAC\/B,CAG9DwvB,OAAAA,EAH8D;AAI9D,YAAa,OAJiD,CAK9D3tB,OAAAA,EAL8D,CAM9D5B,SAAAA,EAN8D,CAO9DirD,MAAAA,EAP8D,CAQ9Dxe,SAA0B,GAAI2nE,EAAqB5mE,CAAAA,GAAzB,EAA8BgnE,EAA9B,CAA8C,CACtE9mE,KAAAA,EADsE,CAEtEolE,UAAAA,EAFsE,CAGtED,UAAAA,EAHsE,CAItEF,UAAAA,CAJsE,CAKtEC,WAAAA,CALsE,CAMtEI,UAAAA,EANsE,CAOtEjgF,OAAAA,EAPsE,CAQtEmvD,MAAAA,EARsE,CAStEqyB,aAAAA,EATsE,CAA9C,CARoC,CAAzC,CAXtB,CAXU,CA9cb,CA2fIG,GAAuB33G,EAAA,CAAQ,GAAR,CA3f3B,CA4fI43G,GAAQ,CACV,CAAC,CAAC,CAAF,CAAK,GAAL,CAAW,EAAX,CADU,CAEV,CAAC,GAAD,CAAO,IAAP,CAAc,EAAd,CAFU,CAGV,CAAC,GAAD,CAAO,CAAP,CAAU,CAAV,CAHU,CAIV,CAAC,EAAD,CAAM,GAAN,CAAW,CAAX,CAJU,CA5fZ,CAkgBIC,GAAUnpE,EAAA,CAASopE,QAAmB,CAAC,CAAE,KAAA90G,CAAF,CAAD,CAAW,CACnD,MAAM,CACJ,SAAU,CACR,OAAQ,CAAE,MAAAD,CAAF,CAAS,KAAA4iC,CAAT,CADA,CADN,CAAA,CAIFpQ,EAAA,EACJ,OAAuB,GAAIoiF,EAAqBtmE,CAAAA,IAAzB,EAA+B,KAA\/B,CAAsC,CAC3D5pB,UAAW,SADgD,CAE3DouD,QAAS,KAFkD,CAG3DkiC,MAAO,4BAHoD,CAI3D,0BAA2B,MAJgC,CAK3DroE,SAAU,CACQ,GAAIioE,EAAqBlnE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CACpDf,SAAUkoE,EAAM3wG,CAAAA,GAAN,CAAU,CAAC,CAACipB,EAAD;AAAMs+C,EAAN,CAAWwpC,EAAX,CAAD,CAAoB71G,EAApB,CAAA,EAA2B,CACvCsC,EAAAA,CAAKuzG,EAALvzG,CAAazB,CAAbyB,CAAoBkhC,CAC1B,KAAMsyE,GAAKl1G,CAAA,CAAM,CAAN,CAALk1G,CAAgBtyE,CAAtB,CACMuyE,GAAKn1G,CAAA,CAAM,CAAN,CAALm1G,CAAgBvyE,CAChBwyE,GAAAA,CAAW,CAAL,CAAAF,EAAA,CAASA,EAAT,CAAcxzG,EAAd,CAAmBA,EAAnB,CAAwBwzG,EAAxB,CAA6BxzG,EACnC2zG,GAAAA,CAAW,CAAL,CAAAF,EAAA,CAASA,EAAT,CAAczzG,EAAd,CAAmBA,EAAnB,CAAwByzG,EAAxB,CAA6BzzG,EACnC2tB,GAAAA,CAAU1C,EAAA,CAASiW,CAAT,CAAe,CAACzV,EAAD,CAAMs+C,EAAN,CAAf,CAA2B,CAAC,CAAD,CAAI,CAAJ,CAA3B,CAEhB,OAAuB,GAAImpC,EAAqBlnE,CAAAA,GAAzB,EAA8B,SAA9B,CAAyC,CAC9DnnB,GAAK,QAAOnnB,EAAP,EADyD,CAE9DD,MAAOuC,EAFuD,CAG9DxC,OAAQwC,EAHsD,CAI9D4zG,aAAc,gBAJgD,CAK9D3oE,SAAU,EANW,CAMX,CANCtd,EAMD,EAN0B,EAM1B,CANgBA,EAMhB,CAAVsd,EAAmC,GAAIioE,EAAqBlnE,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CACzEhpB,UAAY,aAD6D,CAEzE6wF,GAAIH,EAFqE,CAGzE1qC,GAAI2qC,EAHqE,CAIzEn2D,EAAG,GAJsE,CAKzE7vB,QA\/0IL\/wB,IAAKC,CAAAA,GAAL,CA+0I6B4uB,CA\/0I7B,CAA2C7uB,IAAK6uB,CAAAA,GAAL,CA+0IvBkC,EA\/0IuB,CA+0IX9wB,CA\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\/C,GAAIhsC,CAD2C,CAE\/C,GAAAC,CAF+C,CAG\/C,KAAAzqE,CAH+C,CAI\/C,UAAAY,EAJ+C,CAK\/C,SAAAy1G,EAL+C,CAAD,CAM7C,CACD,MAAM\/+E,GAAMF,EAAA,EACZ,OAAuB,GAAIk\/E,EAAqBjoE,CAAAA,IAAzB,EAA+B,GAA\/B,CAAoC,CACzD5pB,UAAW,iBAD8C,CAEzD2K,QAASinF,EAAA,CAAW,CAAX,CAAe,CAFiC,CAGzD3pE,SAAU,CACQ,GAAI4pE,EAAqB7oE,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CACtD,aAAe,GAAE7sC,EAAF,SADuC,CAEtD8uB,cAAe,KAFuC,CAGtDkE,cAAgB5wB,EAAD4wB,EAAO0D,EAAIvF,CAAAA,GAAI9I,CAAAA,KAAR,CAAcroB,EAAd,CAHgC,CAItD00G,GAAI9qC,CAJkD,CAKtDC,GAAAA,CALsD,CAMtDxrB,EAAGj\/C,CANmD,CAAxC,CADR,CASQ,GAAIs2G,EAAqB7oE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CACpDtsC,GAAIqpE,CAAJrpE,CAAUnB,CAAVmB,CAAiB,CADmC,CAEpDC,GAAIqpE,CAFgD,CAGpD1pE,GAAIypE,CAAJzpE,CAAUf,CAAVe,CAAiB,CAHmC,CAIpDC,GAAIypE,CAJgD,CAAtC,CATR,CAeQ,GAAI6rC,EAAqB7oE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CACpDtsC,GAAIqpE,CADgD,CAEpDppE,GAAIqpE,CAAJrpE,CAASpB,CAAToB,CAAgB,CAFoC,CAGpDL,GAAIypE,CAHgD,CAIpDxpE,GAAIypE,CAAJzpE,CAAShB,CAATgB,CAAgB,CAJoC,CAAtC,CAfR,CAH+C,CAApC,CAFtB,CANe,CAzElB,CA8GIy1G,GAAuBz5G,EAAA,CAAQ,GAAR,CA9G3B,CA+GI05G,GAAiB,CACnB,SAAwB,cADL,CAEnB,WAA4B,cAFT,CAGnB,YAA8B,cAHX;AAInB,UAA0B,cAJP,CA\/GrB,CAqHIC,GAAajrE,EAAA,CAASkrE,QAAoB,CAAC,CAC7C,EAAG71G,CAD0C,CAE7C,EAAGC,CAF0C,CAG7C,MAAA9B,CAH6C,CAI7C,OAAAD,EAJ6C,CAK7C,WAAAk3G,EAL6C,CAM7C,KAAAnrC,EAN6C,CAO7C,SAAArb,EAP6C,CAQ7C,SAAA0mD,EAR6C,CAAD,CAS3C,CACD,MAAMrjF,GAASP,EAAA,CAAgBu4C,EAAhB,CACf,OAAuB,GAAIyrC,EAAqBhpE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC5oC,EAAA,CAAe,CAC1E6qB,cAAe2mF,EAAA,EAAY1mD,EAAZ,CAAuB,MAAvB,CAAgC,KAD2B,CAE1ElrC,UAAW,gCAAXA,EAA+C4xF,EAAA,CAAW,EAAX,CAAgBK,EAAA,CAAe1rC,EAAf,CAA\/DvmD,CAF0E,CAG1E,aAAe,GAAEumD,EAAF,SAH2D,CAI1E57C,QAASinF,EAAA,CAAW,CAAX,CAAe,CAJkD,CAK1E13G,EAAGoC,CAAHpC,CAAQw3G,EALkE,CAM1Ev3G,EAAGoC,CAAHpC,CAAQu3G,EANkE,CAO1Ej3G,MAAOb,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYY,CAAZ,CAAiC,CAAjC,CAAoBi3G,EAApB,CAPmE,CAQ1El3G,OAAQZ,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYW,EAAZ,CAAkC,CAAlC,CAAqBk3G,EAArB,CARkE,CAAf,CAS1DnjF,EAT0D,CAAtC,CAFtB,CATc,CArHjB,CA6II6jF,GAAuB75G,EAAA,CAAQ,GAAR,CACR0uC,GAAA,CAASorE,QAAsB,CAAC,CACjD,GAAItsC,CAD6C,CAEjD,GAAAC,CAFiD,CAGjD,KAAAzqE,CAHiD,CAIjD,WAAAm2G,EAJiD,CAKjD,SAAAE,EALiD,CAAD,CAM\/C,CACD,MAAMrjF,GAASP,EAAA,CAAgB,QAAhB,CACf,OAAuB,GAAIokF,EAAqBxoE,CAAAA,IAAzB,EAA+B,GAA\/B,CAAoCzpC,EAAA,CAAcC,EAAA,CAAe,CACtFuqB,QAASinF,EAAA,CAAW,CAAX;AAAe,CAD8D,CAAf,CAEtErjF,EAFsE,CAAd,CAE\/C,CACV0Z,SAAU,CACQ,GAAImqE,EAAqBppE,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CACtDhpB,UAAW,iBAD2C,CAEtD,aAAc,eAFwC,CAGtD6wF,GAAI9qC,CAHkD,CAItDC,GAAAA,CAJsD,CAKtDxrB,EAAGk3D,EALmD,CAMtDzmF,cAAe2mF,EAAA,CAAW,MAAX,CAAoB,KANmB,CAAxC,CADR,CASQ,GAAIQ,EAAqBppE,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CACtDhpB,UAAW,kBAD2C,CAEtD,aAAc,eAFwC,CAGtD6wF,GAAI9qC,CAHkD,CAItDC,GAAAA,CAJsD,CAKtDxrB,EAAGj\/C,CAAHi\/C,CAAU,CAL4C,CAMtDvvB,cAAe,MANuC,CAAxC,CATR,CADA,CAF+C,CAApC,CAFtB,CANgB,CAiCL1yB,GAAA,CAAQ,EAAR,CACd,KAAI+5G,GAAuB\/5G,EAAA,CAAQ,GAAR,CAA3B,CACIg6G,GAAqBtrE,EAAA,CAASurE,QAA4B,CAAC,CAC7D,GAAIzsC,CADyD,CAE7D,GAAAC,CAF6D,CAG7D,WAAA0rC,CAH6D,CAI7D,OAAAC,EAJ6D,CAK7D,SAAAC,EAL6D,CAAD,CAM3D,CACD,MAAMrjF,GAASP,EAAA,CAAgB2jF,EAAhB,CACf,OAAuB,GAAIW,EAAqBtpE,CAAAA,GAAzB,EAA8B,GAA9B,CAAmC7oC,EAAA,CAAcC,EAAA,CAAe,CACrFuqB,QAASinF,EAAA,CAAW,CAAX,CAAe,CAD6D,CAAf,CAErErjF,EAFqE,CAAd,CAE9C,CACV0Z,SAA0B,GAAIqqE,EAAqBtpE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC9DhpB,UAAW,gBADmD,CAE9D,aAAe,GAAE2xF,EAAF,SAF+C,CAG9Dz3G,EAAG6rE,CAAH7rE;AAAsB,GAAtBA,CAASw3G,CAHqD,CAI9Dv3G,EAAG6rE,CAAH7rE,CAAqB,GAArBA,CAAQu3G,CAJsD,CAK9Dj3G,MAAoB,CAApBA,CAAOi3G,CALuD,CAM9Dl3G,OAAqB,CAArBA,CAAQk3G,CANsD,CAO9DzmF,cAAe2mF,EAAA,CAAW,MAAX,CAAoB,KAP2B,CAAtC,CADhB,CAF8C,CAAnC,CAFtB,CANsB,CADzB,CAyBIa,GAAuBl6G,EAAA,CAAQ,GAAR,CAzB3B,CA0BIm6G,GAAsBzrE,EAAA,CAAS0rE,QAA6B,CAAC,CAC\/D,OAAAv1G,CAD+D,CAE\/D,kBAAAw1G,CAF+D,CAG\/D,kBAAAC,CAH+D,CAI\/D,iBAAAC,EAJ+D,CAK\/D,OAAQ7xC,EALuD,CAAD,CAM7D,CAAA,IACG19C,EADH,CACQkI,EACT,OAAMoH,GAAMF,EAAA,EACZ,KAAI,CAAE,MAAAl4B,EAAF,CAAS,OAAAD,EAAT,CAAA,CAAoB4C,CACxB,KAAM8gC,GAAOrL,EAAI7C,CAAAA,QAASmO,CAAAA,MAAOD,CAAAA,IAC3B3iC,EAAAA,CAAO,CAAPA,CAAW2iC,EACjB,OAAMwzE,GAAa,CAAbA,CAAiBxzE,EACjB60E,GAAAA,CAAe,EAAfA,CAAoB70E,EAC1B,OAAM80E,GAAyB,CAAzBA,CAAkBz3G,CAAxB,CACM0jF,GAA+B,CAAnB,GAAAhe,EAAQtmE,CAAAA,MAAR,CAAuBsmE,EAAA,CAAQ,CAAR,CAAWge,CAAAA,SAAlC,CAA8C,CAAC,CAAA,CAAD,CAAO,CAAA,CAAP,CADhE,CAEM35B,GAA+F,IAAhF,GAAC75B,EAAD,CAAkC,IAA5B,GAAClI,EAAD,CAAOsP,EAAIyV,CAAAA,YAAX,EAAmC,IAAK,EAAxC,CAA4C\/kB,EAAIze,CAAAA,KAAJ,CAAA,YAAlD,EAAuF2mB,EAAvF,CAA4F,CACjH,OAAuB,GAAIgnF,EAAqBzpE,CAAAA,GAAzB,EAA8BypE,EAAqBxoE,CAAAA,QAAnD,CAA6D,CAClFhC,SAA2B,CAA3BA,CAAUg5B,EAAQtmE,CAAAA,MAAlBstC,EAAgD,GAAIwqE,EAAqB7oE,CAAAA,IAAzB,EAA+B4iE,EAA\/B,CAA6C,CAC3FvkE,SAAU,CACR,CAACpV,EAAIyV,CAAAA,YADG;AAC6B,GAAImqE,EAAqBzpE,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CACzEhpB,UAAW,cAD8D,CAEzEvlB,MAAOb,IAAKC,CAAAA,GAAL,CAASY,EAAT,CAAgB,CAAhB,CAFkE,CAGzED,OAAQZ,IAAKC,CAAAA,GAAL,CAASW,EAAT,CAAiB,CAAjB,CAHiE,CAIzEqE,GAAIymD,EAJqE,CAKzExmD,GAAIwmD,EALqE,CAMzEr6B,cAAe,MAN0D,CAAtC,CAD7B,CASQ,GAAIwnF,EAAqBzpE,CAAAA,GAAzB,EAA8BkpE,EAA9B,CAA0C,CACxDh4G,EAAgB,CAAhBA,CAAGw3G,EADqD,CAExDv3G,EAAG,CAFqD,CAGxDM,MAAOA,EAAPA,CAA4B,CAA5BA,CAAei3G,EAHyC,CAIxDl3G,OAAQ,CAJgD,CAKxDk3G,WAAAA,EALwD,CAMxDnrC,KAAM,UANkD,CAOxDrb,SAAU,CAAC+zB,EAAA,CAAU,CAAV,CAP6C,CAQxD2yB,SAAU,CAACgB,CAR6C,CAA1C,CATR,CAmBQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BkpE,EAA9B,CAA0C,CACxDh4G,EAAGO,EADqD,CAExDN,EAAgB,CAAhBA,CAAGu3G,EAFqD,CAGxDj3G,MAAO,CAHiD,CAIxDD,OAAQA,EAARA,CAA8B,CAA9BA,CAAiBk3G,EAJuC,CAKxDA,WAAAA,EALwD,CAMxDnrC,KAAM,YANkD,CAOxDrb,SAAU,CAAC+zB,EAAA,CAAU,CAAV,CAP6C,CAQxD2yB,SAAU,CAACgB,CAR6C,CAA1C,CAnBR,CA6BQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BkpE,EAA9B,CAA0C,CACxDh4G,EAAgB,CAAhBA,CAAGw3G,EADqD,CAExDv3G,EAAGK,EAFqD,CAGxDC,MAAOA,EAAPA,CAA4B,CAA5BA,CAAei3G,EAHyC,CAIxDl3G,OAAQ,CAJgD,CAKxDk3G,WAAAA,EALwD,CAMxDnrC,KAAM,aANkD,CAOxDrb,SAAU,CAAC+zB,EAAA,CAAU,CAAV,CAP6C,CAQxD2yB,SAAU,CAACgB,CAR6C,CAA1C,CA7BR,CAuCQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BkpE,EAA9B,CAA0C,CACxDh4G,EAAG,CADqD,CAExDC,EAAgB,CAAhBA,CAAGu3G,EAFqD,CAGxDj3G,MAAO,CAHiD,CAIxDD,OAAQA,EAARA,CAA8B,CAA9BA;AAAiBk3G,EAJuC,CAKxDA,WAAAA,EALwD,CAMxDnrC,KAAM,WANkD,CAOxDrb,SAAU,CAAC+zB,EAAA,CAAU,CAAV,CAP6C,CAQxD2yB,SAAU,CAACgB,CAR6C,CAA1C,CAvCR,CAiDQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BupE,EAA9B,CAAkD,CAChE1B,GAAI,CAD4D,CAEhE7qC,GAAI,CAF4D,CAGhE0rC,WAAAA,EAHgE,CAIhEC,OAAQ,wBAJwD,CAKhEC,SAAU,CAACiB,CALqD,CAAlD,CAjDR,CAwDQ,GAAIJ,EAAqBzpE,CAAAA,GAAzB,EAA8BupE,EAA9B,CAAkD,CAChE1B,GAAIp2G,EAAJo2G,CAAyB,CAAzBA,CAAYa,EADoD,CAEhE1rC,GAAI,CAF4D,CAGhE0rC,WAAAA,EAHgE,CAIhEC,OAAQ,yBAJwD,CAKhEC,SAAU,CAACiB,CALqD,CAAlD,CAxDR,CA+DQ,GAAIJ,EAAqBzpE,CAAAA,GAAzB,EAA8BupE,EAA9B,CAAkD,CAChE1B,GAAIp2G,EAAJo2G,CAAyB,CAAzBA,CAAYa,EADoD,CAEhE1rC,GAAIxrE,EAAJwrE,CAA0B,CAA1BA,CAAa0rC,EAFmD,CAGhEA,WAAAA,EAHgE,CAIhEC,OAAQ,4BAJwD,CAKhEC,SAAU,CAACiB,CALqD,CAAlD,CA\/DR,CAsEQ,GAAIJ,EAAqBzpE,CAAAA,GAAzB,EAA8BupE,EAA9B,CAAkD,CAChE1B,GAAI,CAD4D,CAEhE7qC,GAAIxrE,EAAJwrE,CAA0B,CAA1BA,CAAa0rC,EAFmD,CAGhEA,WAAAA,EAHgE,CAIhEC,OAAQ,2BAJwD,CAKhEC,SAAU,CAACiB,CALqD,CAAlD,CAtER,CA6EQ,GAAIJ,EAAqBzpE,CAAAA,GAAzB,EAA8B8oE,EAA9B,CAA2C,CACzDjB,GAAI,CAACkC,EADoD,CAEzD\/sC,GAAIxrE,EAAJwrE,CAAa,CAF4C,CAGzDzqE,KAAMy3G,EAHmD,CAIzD72G,UAAW,MAJ8C,CAKzDy1G,SAAU,CAACkB,EAL8C,CAA3C,CA7ER;AAoFQ,GAAIL,EAAqBzpE,CAAAA,GAAzB,EAA8B8oE,EAA9B,CAA2C,CACzDjB,GAAIp2G,EAAJo2G,CAAYkC,EAD6C,CAEzD\/sC,GAAIxrE,EAAJwrE,CAAa,CAF4C,CAGzDzqE,KAAMy3G,EAHmD,CAIzD72G,UAAW,OAJ8C,CAKzDy1G,SAAU,CAACkB,EAL8C,CAA3C,CApFR,CA2FQ,GAAIL,EAAqBzpE,CAAAA,GAAzB,EAA8B8oE,EAA9B,CAA2C,CACzDjB,GAAIp2G,EAAJo2G,CAAY,CAD6C,CAEzD7qC,GAAIxrE,EAAJwrE,CAAa+sC,EAF4C,CAGzDx3G,KAAMy3G,EAHmD,CAIzD72G,UAAW,MAJ8C,CAKzDy1G,SAAU,CAACkB,EAL8C,CAA3C,CA3FR,EAkGM,IAAb,EAAA7zB,EAAA,CAAoB,IAAK,EAAzB,CAA6BA,EAAU9B,CAAAA,KAAV,CAAiBpgF,EAAD,EAAQA,EAAxB,CAlGtB,GAkGsE,GAAI01G,EAAqB7oE,CAAAA,IAAzB,EAA+B6oE,EAAqBxoE,CAAAA,QAApD,CAA8D,CAC1IhC,SAAU,CACQ,GAAIwqE,EAAqBzpE,CAAAA,GAAzB,EAA8BwoE,EAA9B,CAA4C,CAC1DX,GAAI,CADsD,CAE1D7qC,GAAI,CAFsD,CAG1DzqE,KAAAA,CAH0D,CAI1Dm2G,WAAAA,EAJ0D,CAK1DC,OAAQ,iBALkD,CAM1DC,SAAU,CAACgB,CAN+C,CAA5C,CADR,CASQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BwoE,EAA9B,CAA4C,CAC1DX,GAAIp2G,EADsD,CAE1DurE,GAAI,CAFsD,CAG1DzqE,KAAAA,CAH0D,CAI1Dm2G,WAAAA,EAJ0D,CAK1DC,OAAQ,kBALkD,CAM1DC,SAAU,CAACgB,CAN+C,CAA5C,CATR,CAiBQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BwoE,EAA9B,CAA4C,CAC1DX,GAAIp2G,EADsD,CAE1DurE,GAAIxrE,EAFsD,CAG1De,KAAAA,CAH0D,CAI1Dm2G,WAAAA,EAJ0D,CAK1DC,OAAQ,qBALkD,CAM1DC,SAAU,CAACgB,CAN+C,CAA5C,CAjBR,CAyBQ,GAAIH,EAAqBzpE,CAAAA,GAAzB,EAA8BwoE,EAA9B,CAA4C,CAC1DX,GAAI,CADsD,CAE1D7qC,GAAIxrE,EAFsD;AAG1De,KAAAA,CAH0D,CAI1Dm2G,WAAAA,EAJ0D,CAK1DC,OAAQ,oBALkD,CAM1DC,SAAU,CAACgB,CAN+C,CAA5C,CAzBR,CADgI,CAA9D,CAlGtE,CADiF,CAA7C,CADkC,CAA7D,CAXtB,CANuB,CA1B1B,CAyLIK,GAAuB16G,EAAA,CAAQ,GAAR,CAzL3B,CA0LI26G,GAAQjsE,EAAA,CAASksE,QAAe,CAAC,CAAE,OAAA\/1G,CAAF,CAAD,CAAa,CAC\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\/Q,EAVsC,CAWtC,eAAAr\/C,EAXsC,CAYtC,cAAAw7C,EAZsC,CAatC,uBAAAgwB,EAbsC,CActC,OAAAlyE,EAAA;AAAS,SAd6B,CAetC,eAAAmyE,EAAA,CAAiB,CAfqB,CAgBtC,kBAAAlqB,EAAA,CAAoB,CAhBkB,CAiBtC,cAAAmqB,EAAA,CAAgB,CAAA,CAjBsB,CAkBtC,YAAAC,EAAA,CAAc,CAAA,CAlBwB,CAmBtC,sBAAAC,EAAA,CAAwB,CAAA,CAnBc,CAoBtC,kBAAAzB,EAAA,CAAoB,CAAA,CApBkB,CAqBtC,kBAAAC,EAAA,CAAoB,CAAA,CArBkB,CAsBtC,iBAAAC,EAAA,CAAmB,CAAA,CAtBmB,CAuBtC,oBAAA5Z,EAAA,CAAsB,CAAA,CAvBgB,CAwBtC,eAAAob,EAAA,CAAiB,CAAA,CAxBqB,CAyBtC,SAAAliB,EAAA,CAAW,CAAA,CAzB2B,CA0BtC,SAAAl1B,EAAA,CAAW,CA1B2B,CA2BtC,aAAA6yC,EAAA,CAAejS,EA3BuB,CA4BtC,MAAAxsE,EAAA,CAAQgyC,EA5B8B,CA6BtC,SAAAr7B,EA7BsC,CAAD,CA8BpC,CACD,IAAI1kB,EACJ,OAAMgxF,GAAa7H,EAAQr+E,CAAAA,MAAR,CAAe,IAAf,CAAnB,CACM,CAAE,SAAA2B,EAAF,CAAY,WAAA6Y,EAAZ,CAAwB,KAAAK,EAAxB,CAAA,CAAiCpb,EAAA,EADvC,CAEM+E,GAAMF,EAAA,EAFZ,CAGM1C,GAAiBy8E,EAAQr8E,CAAAA,WAAR,CAAqBjzB,EAAD,EAAY,CACrDy1B,EAAIkK,CAAAA,MAAOozD,CAAAA,qBAAX,CAAiC,CAAC\/yF,EAAOC,CAAAA,IAAR,CAAcD,EAAOE,CAAAA,IAArB,CAAjC,CADqD,CAAhC,CAEpB,EAFoB,CAGvB80B,GAAA,CAAcd,EAAd,CAAqB5D,CAArB,CACAsT,GAAA,CAAqBuzE,EAArB,CACAxkF,GAAA,CAAkBwkF,EAAlB,CAA8BvkF,EAA9B,CAAwCC,EAAxC,CACA6M,GAAA,CAAiBy3E,EAAjB,CACA1xE;EAAA,EACAf,GAAA,CAAUyyE,EAAV,CAAsBxyE,EAAtB,CAA8BmyE,EAA9B,CACA9xE,GAAA,CAAQmyE,EAAR,CACArsE,GAAA,CAAkBqsE,EAAlB,CACMhmF,EAAAA,CAASqE,EAAA,EAEf,OAAM4hF,GAA+B,CAD\/BC,EAC+B,CADmD,CACnD,IADQ,IAAlB,EAAAhsE,EAAA,CAAyB,IAAK,EAA9B,CAAkCA,EAAe9tC,CAAAA,MACvC,GADwD8tC,EAAA,CAAe,CAAf,CACxD,GAAqB,SAArB,EAAkCgsE,GAAkB3vG,CAAAA,KAApD,CAA8E,IAAlB,EAAA2jC,EAAA,CAAyB,IAAK,EAA9B,CAAkCA,EAAA,CAAe,CAAf,CAA9F,CAAkH,IAAK,EAA5J,CACMisE,GAAoBhI,EAAQp+E,CAAAA,OAAR,CAAgB,EAAA,EAAM,IAAItqB,GAAJ,CAAQykC,EAAR,EAA0B,EAA1B,CAAtB,CAAqD,CAACA,EAAD,CAArD,CAD1B,CAEMksE,GAAmBjI,EAAQp+E,CAAAA,OAAR,CAAgB,EAAA,EAAM,IAAItqB,GAAJ,CAAQigF,EAAR,EAAyB,EAAzB,CAAtB,CAAoD,CAACA,EAAD,CAApD,CACnB2wB,GAAAA,CAAoF,CAA9D,IAAmB,IAAlB,EAAAnsE,EAAA,CAAyB,IAAK,EAA9B,CAAkCA,EAAe9tC,CAAAA,MAAlD,EAAkE8tC,EAAA,CAAe,CAAf,CAAlE,CAAsF,IAAK,EACjHosE,GAAAA,CAAgB,CAAC,IAAmB,IAAI7wG,GAAJ,CAAQ,CAAC60F,EAAD,CAAeD,EAAf,CAAR,CAAnB,CAAD,CAA2Dt5F,CAAAA,MAA3D,CAAkEkuB,EAAlE,CACtB,OAAuB,GAAIumF,EAAqBnqE,CAAAA,IAAzB,EAA+B,KAA\/B,CAAsC,CAC3Dx8B,IAAKmnG,EADsD,CAE3Dv0F,UAAY,gBAA4B,IAAb,EAAAA,CAAA,CAAoBA,CAApB,CAAgC,EAA\/C,EAF+C,CAG3DioB,SAAU,CACQ,GAAI8rE,EAAqBnqE,CAAAA,IAAzB,EAA+B,KAA\/B,CAAsCzpC,EAAA,CAAcC,EAAA,CAAe,CACjF+qB,SAAU,CAAC,CADsE,CAEjFnL,UAAW,uBAFsE,CAAf,CAGjEuO,CAHiE,CAAd,CAG1C,CACV0Z,SAAU,CACRmqD,EADQ,EACIvpD,EAAWioE,CAAAA,IADf,EACuC,GAAIiD,EAAqB\/qE,CAAAA,GAAzB,EAA8BH,EAAWioE,CAAAA,IAAzC;AAA+C,CAC5Fv1G,KAAM2hE,EADsF,CAA\/C,CADvC,CAIQ,GAAI62C,EAAqBnqE,CAAAA,IAAzB,EAA+BgkE,EAA\/B,CAA0C,CACxD3lE,SAAU,CACRY,EAAWooE,CAAAA,mBADH,EAC0BxoE,EAD1B,EAC4Cq\/C,EAD5C,EAC+DqsB,EAD\/D,EACgG,GAAIJ,EAAqB\/qE,CAAAA,GAAzB,EAA8B6jE,EAA9B,CAAyC,CAC\/I,YAAa,qBADkI,CAE\/IzvG,OAAQ0qF,EAFuI,CAG\/I\/8D,OAAQ,CAHuI,CAI\/I,0BAA2B,MAJoH,CAK\/Ikd,SAA0B,GAAI8rE,EAAqB\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\/C,EAnGrC,EAmGuE,GAAIsrE,EAAqB\/qE,CAAAA,GAAzB,EAA8B2qE,EAA9B,CAAkD,CAC\/Hx3G,UAAW83G,EADoH,CAE\/H72G,OAAQ0qF,EAFuH,CAG\/H\/I,OAAQt2C,EAHuH,CAAlD,CAnGvE,CAwGQ,GAAIsrE,EAAqB\/qE,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACnDnnB,GAAI,4BAD+C,CAEnD,0BAA2B,MAFwB,CAArC,CAxGR,CADA,CAH0C,CAAtC,CADR;AAmHQ,GAAIkyF,EAAqB\/qE,CAAAA,GAAzB,EAA8B4kE,EAA9B,CAAyC,CACvD3lE,SAAUQ,EAAVR,EAA4B6\/C,EAA5B7\/C,EAA+D,GAAI8rE,EAAqB\/qE,CAAAA,GAAzB,EAA8B+qE,EAAqB9pE,CAAAA,QAAnD,CAA6D,CAC1HhC,SAAUQ,EAAVR,EAA4BY,EAAWosE,CAAAA,UAAvChtE,EAAqE,GAAI8rE,EAAqB\/qE,CAAAA,GAAzB,EAA8BkkE,EAA9B,CAAmD,CACtHnuB,OAAQt2C,EAAenpC,CAAAA,MAAf,CAAuBtC,EAAD,EAAQ,CAACA,EAAG8H,CAAAA,KAAM0mD,CAAAA,QAAxC,CAD8G,CAEtH4hD,OAAQ,CAACkH,EAF6G,CAGtHl3G,OAAQw3G,EAAA,CAAsBA,EAAoBx3G,CAAAA,MAA1C,CAAmD0qF,EAH2D,CAItHtsF,SAAUo5G,EAAA,CAAsBA,EAAoB9vG,CAAAA,KAAMtJ,CAAAA,QAAhD,CAA2D,CAJiD,CAAnD,CAKlE,SALkE,CAKtDitC,EAAejpC,CAAAA,GAAf,CAAoB+hB,EAAD,EAAWA,EAAMM,CAAAA,EAApC,CAAwC3gB,CAAAA,IAAxC,CAA6C,EAA7C,CALsD,CADqD,CAA7D,CADR,CAAzC,CAnHR,CA6HR+mC,EA7HQ,CAHiD,CAAtC,CAvBtB,CA9BU,CAtEb,CAiQIitE,GAAU\/lD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAjQd,CAoQI48G,GAAUhmD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CApQd,CAqQI68G,GAAuB78G,EAAA,CAAQ,GAAR,CACZ0uC,GAAA,CAASouE,QAAkB,CAAC,CAAE,SAAAptE,CAAF,CAAD,CAAe,CACvD,MAAMqtE,EAASH,EAAQ9mF,CAAAA,MAAR,CAAe,IAAf,CAAf,CACM,CAAE,SAAA2B,CAAF,CAAA,CAAelC,EAAA,EACrBqnF,GAAQ3kF,CAAAA,SAAR,CACE,EAAA,EAAMtb,EAAA,CAAQ,EAAA,EAAM,CAClB,MAAMi\/E,GAAQmhB,CAAOtmF,CAAAA,OACrB,IAAKmlE,EAAL,CAAA,CAEA,IAAM,CAAE,KAAAj2D,EAAF,CAAQ,MAAA5iC,EAAR,CAAA,CAAkB00B,CAASmO,CAAAA,MACjCg2D,GAAM\/pE,CAAAA,KAAM6P,CAAAA,SAAZ,CAAyB,SAAQiE,EAAR,gBAA4B5iC,EAAA,CAAM,CAAN,CAA5B,kBAAsDA,EAAA,CAAM,CAAN,CAAtD,KAHzB,CAFkB,CAAd,CADR;AAQE,EARF,CAUA,OAAuB,GAAI85G,EAAqBpsE,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC1DhpB,UAAW,wBAD+C,CAE1DiL,cAAe,MAF2C,CAG1Dgd,SAA0B,GAAImtE,EAAqBpsE,CAAAA,GAAzB,EAA8B,GAA9B,CAAmC,CAC3D57B,IAAKkoG,CADsD,CAE3DrqF,cAAe,MAF4C,CAG3Dgd,SAAAA,CAH2D,CAAnC,CAHgC,CAArC,CAbgC,CAA1C,CAyBf,KAAIstE,GAAuBh9G,EAAA,CAAQ,GAAR,CAA3B,CACIi9G,GAAcvuE,EAAA,CAASkuB,QAAY,CAACrwD,CAAD,CAAQ,CAC7C,MAAM+tB,EAAMuN,EAAA,CAAYt7B,CAAZ,CAAZ,CACM4L,EAAU8hB,EAAA,CAAc1tB,CAAM+c,CAAAA,EAApB,CAChBgf,GAAA,CAAehO,CAAf,CAAoB\/tB,CAApB,CACAu6B,GAAA,CAASxM,CAAT,CAAc\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\/D,CAAIG,CAAAA,QAASo\/D,CAAAA,QAfsD,CAgB7Er\/D,QAASF,CAAIG,CAAAA,QAASD,CAAAA,OAhBuD,CAiB7EohF,cAAethF,CAAIshF,CAAAA,aAjB0D,CAkB7EE,sBAAuBxhF,CAAIwhF,CAAAA,qBAlBkD,CAmB7EzB,kBAAmB\/\/E,CAAI+\/E,CAAAA,iBAnBsD,CAoB7EC,kBAAmBhgF,CAAIggF,CAAAA,iBApBsD,CAqB7EC,iBAAkBjgF,CAAIigF,CAAAA,gBArBuD,CAsB7E5Z,oBAAqBrmE,CAAIqmE,CAAAA,mBAtBoD,CAuB7Eob,eAAgBzhF,CAAIyhF,CAAAA,cAvByD,CAwB7EvyE,OAAQlP,CAAIuuD,CAAAA,OAAQr\/C,CAAAA,MAxByD,CAyB7EmyE,eAAgBrhF,CAAIuuD,CAAAA,OAAQ5lF,CAAAA,QAzBiD;AA0B7EwuF,kBAAmBn3D,CAAIm3D,CAAAA,iBA1BsD,CA2B7E+lB,aAAcl9E,CAAI0jF,CAAAA,iBA3B2D,CAAf,CA4B7DzxG,CA5B6D,CAAzC,CAFyB,CAAlC,CAkCWvM,GAAA,CAAQ,GAAR,CAuB3B,KAAIi+G,GAAUrnD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAAd,CAGIk+G,GAAUtnD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAHd,CAMIm+G,GAAuBn+G,EAAA,CAAQ,GAAR,CAN3B,CAOIo+G,GAAgB,qRAAA,CAAA,KAAA,CAAA,GAAA,CAPpB,CAgCI7qE,GAAcvoB,CAADuoB,EAAS,CAAA,IACV,CACZ,KAAA\/oC,CADY,CAEZ,UAAAid,CAFY,CAAA,CAALuD,CAGDze,EAAAA,CAAQgkC,EAAA,CAHPvlB,CAGO,CAAc,CAC5B,MAD4B,CAE5B,WAF4B,CAAd,CAIhB,OAAMqzF,GAAkBD,EAAc7sF,CAAAA,QAAd,CAAuB\/mB,CAAvB,CAAA;AAAgC,UAAhC,CAA6C,QACrE,OAAuB,GAAI2zG,EAAqB1tE,CAAAA,GAAzB,EAA8B,GAA9B,CAAmC5oC,EAAA,CAAe,CACvE4f,UAAclf,CAAA81G,EAAA91G,CAAkBiC,CAAlBjC,CAAwBkf,CAAxBlf,CAXSI,CAAAA,IAAL,CAAU,GAAV,CAUqD,CAAf,CAEvD4D,CAFuD,CAAnC,CATC,CAhC1B,CA+CI0kC,GAAuBjxC,EAAA,CAAQ,GAAR,CA\/C3B,CAgDIkxC,GAAOpoC,MAAOooC,CAAAA,IAhDlB,CA8EIY,GAAuB9xC,EAAA,CAAQ,GAAR,CA9E3B,CA2FIs+G,GAAuBt+G,EAAA,CAAQ,GAAR,CA3F3B,CA4FIu+G,GAAe,CAAC,CAClB,MAAA1sF,CADkB,CAElB,KAAA+gC,CAFkB,CAGlB,QAAA7e,CAHkB,CAAD,CAAAwqE,EAKM,GAAID,EAAqB7tE,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CAC7D,0BAA2B,MADkC,CAE7D5e,MAAAA,CAF6D,CAG7DpK,UAAW,kBAHkD,CAI7DmP,cAAemd,CAJ8C,CAK7DrE,SAA0B,GAAI4uE,EAAqB7tE,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DhpB,UAAW,gCADkD,CAE7DioB,SAA0B,GAAI4uE,EAAqB7tE,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CAClE\/oC,KAAMooD,CAD4D,CAA1C,CAFmC,CAArC,CALmC,CAAxC,CAjGzB,CAgHIzgB,GAAuBnyC,EAAA,CAAQ,GAAR,CAhH3B,CAiHIoyC,GAAQtpC,MAAOooC,CAAAA,IAjHnB,CAgJI0C,GADiBgjB,EAAA4nD,CAAQx+G,EAAA,CAAQ,EAAR,CAARw+G,CACclvF,CAAAA,OAAQgG,CAAAA,aAAvB,CAAqC,EAArC,CAhJpB,CAmJImpF,GAAU7nD,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAnJd,CAoJI0+G,GAAuB1+G,EAAA,CAAQ,GAAR,CApJ3B,CAqJI2+G,GAAoB3zF,CAAD2zF,EAAS,CAAA,IAChB,CACZ,OAAQ\/kG,CADI,CAEZ,SAAAglG,CAFY,CAGZ,KAAA\/hG,EAHY,CAAA;AAALmO,CAIDze,EAAAA,CAAQgkC,EAAA,CAJPvlB,CAIO,CAAc,CAC5B,QAD4B,CAE5B,UAF4B,CAG5B,MAH4B,CAAd,CAKhB,KAAM,CAAE,UAAA6zF,EAAF,CAAA,CAAgBJ,EAAQjpF,CAAAA,UAAR,CAAmBoe,EAAnB,CAChBkrE,GAAAA,CAAwB,IAAb,EAAAD,EAAA,CAAoB,IAAK,EAAzB,CAA6BA,EAAUF,CAAAA,gBACxD,OAAuB,GAAID,EAAqBjuE,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC7oC,EAAA,CAAcC,EAAA,CAAe,CACvF4f,UAAW,oBAD4E,CAAf,CAEvElb,CAFuE,CAAd,CAEjD,CACTmjC,SAA0B,GAAIgvE,EAAqBjuE,CAAAA,GAAzB,EAA8BquE,EAA9B,CAAwC,CAChEngG,OAAQ\/E,CADwD,CAEhEglG,SAAAA,CAFgE,CAGhE\/hG,KAAAA,EAHgE,CAAxC,CADjB,CAFiD,CAArC,CAZO,CArJhC,CA6KIkiG,GAAuB\/+G,EAAA,CAAQ,GAAR,CA7K3B,CA8KIg\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\/Kf,CA0PI+gG,GAAuB1\/G,EAAA,CAAQ,GAAR,CA1P3B,CA2PI2\/G,GAAQ72G,MAAOooC,CAAAA,IA3PnB,CA4PI0uE,GAAYlxE,EAAA,CAASmxE,QAAmB,EAAG,CAC7C,MAAMvlF,EAAMF,EAAA,EAAZ,CACM,CACJ,SAAU,CAAE,EAAApzB,CAAF,CADN,CAAA,CAEFk3G,EAAQ1oF,CAAAA,UAAR,CAAmBoe,EAAnB,CAHJ,CAIMkmD,EAAOokB,EAAQpmF,CAAAA,WAAR,CAAoB,EAAA,EAAM,CACrCwC,CAAIvF,CAAAA,GAAI+kE,CAAAA,IAAR,EADqC,CAA1B;AAEV,CAACx\/D,CAAD,CAFU,CAJb,CAOMy\/D,GAAOmkB,EAAQpmF,CAAAA,WAAR,CAAoB,EAAA,EAAM,CACrCwC,CAAIvF,CAAAA,GAAIglE,CAAAA,IAAR,EADqC,CAA1B,CAEV,CAACz\/D,CAAD,CAFU,CAPb,CAUMm\/D,GAASykB,EAAQpmF,CAAAA,WAAR,CAAoB,EAAA,EAAM,CACvCwC,CAAIvF,CAAAA,GAAI0kE,CAAAA,MAAR,EADuC,CAA1B,CAEZ,CAACn\/D,CAAD,CAFY,CAVf,CAaMo\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\/B,CAEpB,EAFoB,CAJvB,CAOM0xF,GAAkB\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\/xE,CAAAA,IAAzB,EAA+B,KAA\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\/B,GAAK6\/B,EAAA,EAD1N,CACoO7wC,GAAK+wC,EAAA,CAAe,CAAA,CAAf,CADzO;AACgQoL,GAAKpL,EAAA,CAAe,CAAA,CAAf,CAC7R,OAAOJ,GAAA,CAAQgB,EAAA,CAAK7yC,CAAL,CAAQozC,EAAA,CAAK,QAAQ,CAACmF,EAAD,CAAK,CACvC,MAAOA,GAAG+B,CAAAA,SAD6B,CAAlB,CAAR,CAAR,CAEFpyC,CAFE,CAAA,CAEG2pC,EAAA,CAAQgB,EAAA,CAAK7yC,CAAL,CAAQozC,EAAA,CAAK,QAAQ,CAACmF,EAAD,CAAK,CAC1C,MAAOA,GAAGkC,CAAAA,YADgC,CAAlB,CAAR,CAAR,CAEL5oC,EAFK,CAFH,CAIGggC,EAAA,CAAQ3pC,CAAR,CAAY\/L,EAAZ,CAJH,CAIoB,CAAE6iH,qBAAsBh\/G,CAAxB,CAA2Bs6C,UAAWpyC,CAAtC,CAA0CyyC,eAAgBn\/C,EAA1D,CAA8DyjH,aAAcxgH,EAA5E,CAAgFygH,kBAAmBh\/G,EAAnG,CAAuGi\/G,kBAAmBr\/G,EAA1H,CAA8Hs\/G,aAAc1kE,EAA5I,CAAgJD,aAAc5oC,EAA9J,CAAkKwtG,0BAA2B7gH,EAA7L,CAAiM8gH,2BAA4BjiE,EAA7N,CAAiO3B,SAAUn9C,EAA3O,CAA+Og9C,SAAUrpC,EAAzP,CAA6PqtG,kBAAmBpjH,EAAhR,CAAoRqjH,UAAWl4G,CAA\/R,CAAmSm4G,oBAAqBv+G,EAAxT,CANH,CAAlB,CAOL,EAPK,CAOD,CAAE4zC,UAAW,CAAA,CAAb,CAPC,CApFR,CA4FI8G,GAAI,CAAEG,IAAK,CAAP,CA5FR,CAuNI2jE,GAAI9qE,EAAA,CAAO,QAAQ,EAAG,CACxB,MAAO,CAAE+qE,iBAAkB1tE,EAAA,CAAe,CAAA,CAAf,CAApB,CADiB,CAAlB,CAEL,EAFK,CAED,CAAE6C,UAAW,CAAA,CAAb,CAFC,CAvNR;AAsTI8qE,GAAK,CAAEhlE,aAAc,QAAhB,CAA0BilE,YAAa,OAAvC,CAtTT,CAuTIC,GAAKlrE,EAAA,CAAO,QAAQ,CAAC50C,CAAD,CAAI,CAAA,IACtBkI,EAAKlI,CAAA,CAAE,CAAF,CAAKyc,CAAAA,GADY,CACPnV,EAAKtH,CAAA,CAAE,CAAF,CAAK2\/G,CAAAA,gBAAkBnhH,EAAAA,CAAKuzC,EAAA,EAD1B,KACoC51C,GAAK41C,EAAA,EADzC,CACmDv2C,GAAKg3C,EAAA,CAA0Br2C,EAA1B,CAA8B,CAA9B,CADxD,CAC0F0V,GAAKkgC,EAAA,EAD\/F,CACyGtzC,GAAKszC,EAAA,EAD9G,CACwH7xC,GAAK+xC,EAAA,CAAe,CAAf,CAD7H,CACgJyI,GAAKzI,EAAA,CAAe,EAAf,CADrJ,CACyK1zC,GAAK0zC,EAAA,CAAe,IAAK,EAApB,CAD9K,CACsM\/\/B,GAAK+\/B,EAAA,CAAe,IAAK,EAApB,CAD3M,CACmO\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\/C,aAAczD,EAA1D,CAA8DylE,gBAAiBjuG,EAA\/E,CAAmFkuG,cAAe7hH,EAAlG,CAAsG8hH,YAAaxuG,EAAnH,CAAuHyuG,UAAW7hH,EAAlI,CAAsI8hH,gBAAiB9kH,EAAvJ,CAA2J+kH,kBAAmBziH,CAA9K,CAAkL8hD,eAAgB3\/C,EAAlM,CAAsMiiE,IAAK93D,EAA3M;AAA+M01G,MAAOp\/D,EAAtN,CAA0N8\/D,YAAa5\/D,EAAvO,CAA2O6\/D,mBAAoBllH,EAA\/P,CAAmQmlH,eAAgB\/\/D,EAAnR,CAAuRggE,SAAU1\/G,EAAjS,CA9DgB,CAAnB,CA+DNwvC,EAAA,CAAImuE,EAAJ,CAAOa,EAAP,CA\/DM,CA+DK,CAAE5qE,UAAW,CAAA,CAAb,CA\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\/oC,UAAA,CAAW,QAAQ,EAAG,CAChC\/Z,CAAA,EADgC,CAAtB,CAET,IAFS,CAEMU,GAt8BpB,CAtDY8yC,CAsDZ,CAs8BwB7tC,CAAAA,CAt8BxB,CAo8BE,OAE6B0uD,GAAA,CAAG,yBAAH,CAA8B,CAAE5Y,MAAOynE,EAAT,CAAa30F,IAAK40F,EAAlB,CAAsBzlE,SAAUz9C,EAAhC,CAA9B;AAAoE5C,EAAEwiD,CAAAA,KAAtE,CAFtB,CAEoG,CAAEtxB,IAAK40F,EAAP,CAAWzlE,SAAUz9C,EAArB,CAxBK,CAAlB,CAAjF,CAAR,CAyBF8B,EAzBE,CAAA,CAyBG,CAAEqhH,cAAenjE,EAAjB,CAAqByB,cAAekB,EAApC,CA9BgB,CAAnB,CA+BNjQ,EAAA,CAAIovE,EAAJ,CAAQlkH,EAAR,CAAWijH,EAAX,CA\/BM,CA+BS,CAAE\/pE,UAAW,CAAA,CAAb,CA\/BT,CA5XT,CA6ZIssE,GAAK,CAAEC,SAAU,CAAA,CAAZ,CAAmBC,mBAAoB,uBAAvC,CAAgEp7F,MAAO,CAAEy5B,aAAc,CAAhB,CAAmBrF,UAAW,CAA9B,CAAiCK,eAAgB,CAAjD,CAAoDF,aAAc,CAAlE,CAAvE,CA7ZT,CA8ZI8mE,GAAK3sE,EAAA,CAAO,QAAQ,CAAC50C,CAAD,CAAI,CAAA,IACtBkI,EAAKlI,CAAA,CAAE,CAAF,CADiB,CACXsH,EAAKY,CAAG82G,CAAAA,oBAAsBxgH,EAAAA,CAAK0J,CAAGoyC,CAAAA,SAD3B,KACsCn+C,GAAK+L,CAAGyyC,CAAAA,cAD9C,CAC8Dn\/C,GAAK0M,CAAG+2G,CAAAA,YADtE,CACoFptG,GAAK3J,CAAGk3G,CAAAA,YAD5F,CAC0G3gH,GAAKyJ,CAAGqzC,CAAAA,QAAUr7C,EAAAA,CAAK+xC,EAAA,CAAe,CAAA,CAAf,CADjI,KACwJnyC,GAAKmyC,EAAA,CAAe,CAAA,CAAf,CAD7J,CACmLyI,GAAK3I,EAAA,EADxL,CACkMxzC,GAAKwzC,EAAA,EADvM,CACiN7\/B,GAAK+\/B,EAAA,CAAe,CAAf,CADtN,CACyO\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\/BV,CAzDG0pC,CAyDH,CAk\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\/gCjF,CAzDG0\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\/G,GAAwBvqE,EAA1B,CAA8B\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\/F,EAAjB,CAAzE,KAA+F15D,EAA\/F,CAA4ChvD,IAAKC,CAAAA,GAAL0C,CAASonE,EAAG5gD,CAAAA,KAAZxmB,CAAmBgjH,EAAnBhjH,CAA5C,CAAwGqsD,EAAxG,EAA8GV,EAA9G,CAAkHU,EAAA,EAAlH,CACE02D,EAAGvkH,CAAAA,IAAH,CAAQ,CAAEg9C,MAAO6Q,EAAT,CAAartD,KAAMknH,EAAnB,CAAuBvpH,OAAQqpH,EAA\/B,CAAmC3kE,KAAMtB,EAANsB,EAAYtB,EAAA,CAAGsM,EAAH,CAA\/C,CAAR,CAAkE,CAAA25D,EAAA,EAAME,EAD1E,CADF,CAGF,GAAI,CAAC7qE,EAAL,CACE,MAAOiG,GAAA,CAAG,EAAH,CAAOyhE,EAAP,CAAW5nE,EAAX,CAAea,EAAf,CAAmBtyC,EAAnB,CAAuBgyC,EAAvB,CApBW,KAqBhBwnE,GAAiB,CAAZ,CAAAznE,EAAGr9C,CAAAA,MAAH,CAAgBq9C,EAAA,CAAGA,EAAGr9C,CAAAA,MAAN,CAAe,CAAf,CAAhB,CAAoC,CAApC,CAAwC,CArB7B,CAqBgC+tD,GAAK,QAAQ,CAAC8H,EAAD,CAAKjxD,EAAL,CAAQi4C,EAAR,CAAY4qE,EAAZ,CAAgB,CAC\/E,MAAO,KAAK,EAAL;AAAWA,EAAX,GAAkBA,EAAlB,CAAuB,CAAvB,EAAgC,CAAhC,CAA2BA,EAA3B,GAAsC7iH,EAAtC,CAA0C3F,IAAKC,CAAAA,GAAL,CAAS0F,EAAT,CAAcixD,EAhZ5D,CAAElV,EAAA,CAgZ0DkV,EAhZ1D,CAgZ8D4xD,EAhZ9D,CAgZkE5mE,EAhZlE,CAAF,CAgZuEtiD,CAAAA,MAAzB,CAA1C,EAA6EmiD,EAAA,EAAGqnE,EAAA,CAAKlrE,EAAL,CAASmrE,EAAT,CAAcrnE,EAAA,CAAEiV,EAAF,CAAOC,EAAP,CAAWjxD,EAAX,CAAckxD,EAAd,CAAmBhV,EAAnB,CAAd,CAAqCmnE,EAArC,CAA0CtnE,EAAA,CAAEiV,EAAF,CAAMmyD,EAAN,CAAUjyD,EAAV,CAAckyD,EAAd,CAA1C,CAA6DpyD,EAAG7pD,CAAAA,KAAH,CAASi8G,EAAT,CAAaC,EAAb,CAAkB,CAAlB,CAAhE,EAAuFlnE,EAAvF,CADL,KAE3E6U,EAF2E,CAEvEmyD,EAFuE,CAEnEjyD,EAFmE,CAE\/DkyD,EAF+D,CAE3DC,EAF2D,CAAxB,CAGvDvD,EAHuD,CAGnDr5G,EAHmD,CAG\/CyxC,EAH+C,CAG3CgoE,EAH2C,CAIzD,IAAI,CAAJ,GAAU\/2D,EAAG\/tD,CAAAA,MAAb,CACE,MAAO,KACT,KAAIkjC,GAAK6Z,EAAL7Z,CAAU,CACd,OAAOggB,GAAA,CAAG7O,EAAA,CAAI,EAAJ,CAAQ,QAAQ,CAACwhB,EAAD,CAAK,CAC7B,IAD6B,IACpBjxD,EADoB,CACjBi4C,GAAKX,EAAA,CAAE6R,EAAF,CAAjB,CAAwB,CAAYphD,CAAV\/H,EAAU+H,CAANkwC,EAAA,EAAMlwC,EAAAA,IAApC,CAAA,CAA4C,CAAA,IACtCo7G,GAAKnjH,EAAE0C,CAAAA,KAD+B,CACxBwuD,GAAKiyD,EAAGzgH,CAAAA,KAAO0gH,GAAAA,CAAKlyD,EAAGv3D,CAAAA,MADC,KACO0pH,GAAKF,EAAG3\/F,CAAAA,KADf,CACsB8\/F,GAAKpyD,EAAGl1D,CAAAA,IACpEk1D,GAAGv3D,CAAAA,MAAP,CAAgB8M,EAAhB,GACM3H,EACJ,EADUukH,EACV,EADgBhpH,IAAKwlC,CAAAA,KAAL,EAAYp5B,EAAZ,CAAiByqD,EAAGv3D,CAAAA,MAApB,CAA6Bq\/C,EAA7B,GAAoCsqE,EAApC,CAAyCtqE,EAAzC,EAChB,EADiEmqE,EAAG3\/F,CAAAA,KACpE,CAAA4\/F,EAAA,EAAMtkH,EAAN,CAAWwkH,EAAX,CAAgBxkH,EAAhB,CAAqBk6C,EAFvB,CAIAqqE,GAAA,CAAKnD,EAAL,GAAYkD,EAAA,GAAOlD,EAAP,CAAYmD,EAAZ,EAAkBC,EAAlB,CAAsBD,EAAtB,CAA2BnD,EAAvC,CACA,KAASqD,EAAT,CAAclpH,IAAK6uB,CAAAA,GAAL,CAASi6F,EAAG1\/F,CAAAA,GAAZ,CAAiB6a,EAAjB,CAAd,CAA6C6yB,EAA7C,EAAmDoyD,EAAnD,EAAyD,EAAEH,EAAF;AAAQlrE,EAAR,CAAzD,CAAsEiZ,EAAA,EAAtE,CACEF,EAAGz1D,CAAAA,IAAH,CAAQ,CAAEg9C,MAAO2Y,EAAT,CAAan1D,KAAMsnH,EAAnB,CAAuB3pH,OAAQypH,EAA\/B,CAAmC\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\/G,CAAAA,gBAAkBh\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\/xCV,CAtDYo1C,CAsDZ,CA+xCcgH,EA\/xCd,CA+xCmB04C,sBAAA,CAAsB,QAAQ,EAAG,CAChD5\/C,EAAA,CAAQ\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\/lH,EAA3C,CAA+CgmH,2BAA4B\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\/E,EAAnB,CAVM,CAUiB,CAAE\/pE,UAAW,CAAA,CAAb,CAVjB,CA5xBT,CAuyBI0xE,GAAK,CAAC,WAAD,CAAc,iBAAd,CAvyBT,CAwyBIC,GAAK7xE,EAAA,CAAO,QAAQ,CAAC50C,CAAD,CAAI,CAC1B,MAAOm4C,GAAA,CAAE,EAAF,CAAMn4C,CAAA,CAAE,CAAF,CAAN,CAAYA,CAAA,CAAE,CAAF,CAAZ,CAAkBA,CAAA,CAAE,CAAF,CAAlB,CAAwBA,CAAA,CAAE,CAAF,CAAxB,CAA8BA,CAAA,CAAE,CAAF,CAA9B,CAAoCA,CAAA,CAAE,CAAF,CAApC,CAA0CA,CAAA,CAAE,CAAF,CAA1C,CAAgDA,CAAA,CAAE,CAAF,CAAhD,CAAsDA,CAAA,CAAE,CAAF,CAAtD,CADmB,CAAnB,CAEN0wC,EAAA,CAAI4yE,EAAJ,CAAQuB,EAAR,CAAYtC,EAAZ,CAAgBwC,EAAhB,CAAoBM,EAApB,CAAwBK,EAAxB,CAA4BE,EAA5B,CAAgCG,EAAhC,CAAoCO,EAApC,CAFM,CAxyBT,CA2yBII,GAAK9xE,EAAA,CAAO,QAAQ,CAAC50C,CAAD,CAAI,CAAA,IACtBkI,EAAKlI,CAAA,CAAE,CAAF,CADiB,CACXsH,EAAKY,CAAGy2C,CAAAA,UADG,CACSngD,GAAK0J,CAAGg4G,CAAAA,UADjB,CAC6B\/jH,GAAK+L,CAAGk4G,CAAAA,aADrC,CACoD5kH,GAAK0M,CAAGi4G,CAAAA,eAD5D,CAC6EtuG,GAAK3J,CAAGy4G,CAAAA,cADrF,CACqGliH,GAAKyJ,CAAG04G,CAAAA,QAD7G,CACuH1gH,GAAKgI,CAAGm3C,CAAAA,IAD\/H,CACqI9gD,GAAK2J,CAAG23C,CAAAA,cAD7I,CAC6J3tC,GAAKhK,CAAGi2C,CAAAA,YADrK;AACmLj9C,GAAKgH,CAAGw4G,CAAAA,kBAAoBrjE,EAAAA,CAAKn1C,CAAGi6D,CAAAA,GADvN,KAC4N7kB,GAAKt9C,CAAA,CAAE,CAAF,CADjO,CACuOqK,GAAKizC,EAAGslE,CAAAA,uBAAyB5kE,GAAAA,CAAKV,EAAGqlE,CAAAA,qBADhR,KACuShiE,GAAK3gD,CAAA,CAAE,CAAF,CAD5S,CACkT4gD,GAAK5gD,CAAA,CAAE,CAAF,CADvT,CAC6T6gD,GAAK7gD,CAAA,CAAE,CAAF,CADlU,CACwU8gD,GAAKD,EAAG2jE,CAAAA,SADhV,CAC2VzmH,GAAK8iD,EAAGwiE,CAAAA,eAAiB5nH,GAAAA,CAAK28C,EAAA,CAAEyI,EAAF,CAAM2lE,EAAN,CADzX,KACoYxoH,GAAKgC,CAAA,CAAE,CAAF,CAAKmhH,CAAAA,aAD9Y,CAC6Zx3D,GAAK3pD,CAAA,CAAE,CAAF,CAAKolH,CAAAA,YADva,CACqb\/6D,GAAKrqD,CAAA,CAAE,CAAF,CAAKojH,CAAAA,WAD\/b,CAC4cnC,GAAKjhH,CAAA,CAAE,CAAF,CAAMkhH,EAAAA,CAAKlhH,CAAA,CAAE,EAAF,CACtf,OAAO6xC,GAAA,CAAQp2C,EAAGkpH,CAAAA,YAAX,CAAyB1D,EAAGiE,CAAAA,sBAA5B,CAAA,CAAqDrzE,EAAA,CAAQgB,EAAA,CAAKouE,EAAGkF,CAAAA,kBAAR,CAA4B\/yE,EAAA,CAAK,QAAQ,CAACmF,EAAD,CAAK,CAChH,MAAOA,GAAGyH,CAAAA,aADsG,CAAlB,CAA5B,CAAR,CAEvDW,EAAGhG,CAAAA,cAFoD,CAArD,CAEkBxC,EAAA,CAAE,CAAEwG,WAAYr3C,CAAd,CAAkB+3C,KAAMn\/C,EAAxB,CAA4B2\/C,eAAgBthD,EAA5C,CAAgD2hH,WAAY1hH,EAA5D,CAAgEokH,wBAAyBv4G,EAAzF,CAA6Fs4G,sBAAuB3kE,EAApH;AAAwHqlE,gBAAiBtlH,EAAzI,CAA6IqnH,aAAcz7D,EAA3J,CAA+Jy5D,YAAa\/4D,EAA5K,CAAgLs8D,gBAAiBxqH,EAAjM,CAAqMyqH,kBAAmBprH,EAAxN,CAA4N2mE,IAAK9kB,CAAjO,CAAF,CAAyOuD,EAAzO,CAA6O,CAAE8\/D,mBAAoBx\/G,EAAtB,CAA0BsjH,UAAW1jE,EAArC,CAAyCqgE,cAAenjH,EAAxD,CAA4D2iH,eAAgB9uG,EAA5E,CAAgF+uG,SAAUniH,EAA1F,CAA8F0\/C,aAAcjsC,EAA5G,CAA7O,CAA+VzW,EAA\/V,CAAmWwlH,EAAnW,CAAuWtgE,EAAvW,CAA2WugE,CAA3W,CAJC,CAAnB,CAKNxwE,EAAA,CAAIovE,EAAJ,CAAQ4C,EAAR,CAAY9mH,EAAZ,CAAeinH,EAAf,CAAmBe,EAAnB,CAAuB\/C,EAAvB,CAA2B4E,EAA3B,CAA+BN,EAA\/B,CAAmChC,EAAnC,CAAuCsD,EAAvC,CAA2C5H,EAA3C,CALM,CA3yBT,CAizBIgI,GAAK\/mE,EAAA,CAAG,QAAQ,EAAG,CACrB,GAAI,WAAJ,EAAmB,MAAOt1B,SAA1B,CACE,MAAO,QACT,KAAIxqB,EAAIwqB,QAASC,CAAAA,aAAT,CAAuB,KAAvB,CACR,OAAOzqB,EAAE6rB,CAAAA,KAAMQ,CAAAA,QAAR,CAAmB,gBAAnB,CAAqC,gBAAA,GAAqBrsB,CAAE6rB,CAAAA,KAAMQ,CAAAA,QAA7B,CAAwC,gBAAxC,CAA2D,QAJlF,CAAd,CAjzBT,CAk1BIy6F,GAAKxmE,EAAEhxB,CAAAA,aAAF,CAAgB,IAAK,EAArB,CAl1BT,CAm1BIy3F,GAAKzmE,EAAEhxB,CAAAA,aAAF,CAAgB,IAAK,EAArB,CAn1BT;AAo1BI03F,GAAK,CAAC,aAAD,CAp1BT,CAq1BIzmE,GAAK,CAAC,OAAD,CAAU,UAAV,CAr1BT,CAs1BIG,GAAK,CAAC,OAAD,CAAU,UAAV,CAt1BT,CA01BIumE,GAAKryE,EAAA,CAAO,QAAQ,EAAG,CAAA,IACrB50C,EAAIiyC,EAAA,CAAe,QAAQ,CAACsG,EAAD,CAAK,CAClC,MAAO,OAAP,CAAiBA,EADiB,CAA5B,CADiB,CAGrBrwC,EAAK+pC,EAAA,CAAe,IAAf,CAHgB,CAGM3qC,EAAK2qC,EAAA,CAAe,QAAQ,CAACsG,EAAD,CAAK,CAC9D,MAAO,QAAP,CAAkBA,EAD4C,CAA5B,CAHX,CAKrB\/5C,GAAKyzC,EAAA,CAAe,EAAf,CALgB,CAKI91C,GAAK81C,EAAA,CAAeiO,EAAf,CALT,CAK6B1kD,GAAKy2C,EAAA,CAAe,KAAf,CALlC,CAKyDpgC,GAAKogC,EAAA,CAAehB,EAAf,CAL9D,CAKqFxyC,GAAKA,QAAQ,CAAC85C,EAAD,CAAKE,EAAL,CAAS,CAClI,MAAO,KAAK,EAAL,GAAWA,EAAX,GAAkBA,EAAlB,CAAuB,IAAvB,EAA8BjG,EAAA,CAA0BK,EAAA,CAAKr0C,EAAL,CAAS40C,EAAA,CAAK,QAAQ,CAACpyC,EAAD,CAAI,CACvF,MAAOA,GAAA,CAAEu3C,EAAF,CADgF,CAAjB,CAAT,CAE3DtF,EAAA,EAF2D,CAA1B,CAERwF,EAFQ,CAD6F,CAKpI,OAAO,CAAEtmC,QAASjK,CAAX,CAAeg\/G,YAAalnH,CAA5B,CAA+BmnH,aAAc7\/G,CAA7C,CAAiDgjC,WAAY9rC,EAA7D,CAAiE4oH,eAAgBjrH,EAAjF,CAAqFkrH,gBAAiB7rH,EAAtG,CAA0G6\/C,YAAaxpC,EAAvH,CAA2Hy1G,gBAAiB7oH,EAAA,CAAG,QAAH,CAA5I,CAA0J8oH,gBAAiB9oH,EAAA,CAAG,QAAH,CAA3K,CAAyL+oH,qBAAsB\/oH,EAAA,CAAG,aAAH,CAA\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\/rE,GAAK+rE,EAAA,CAAG,cAAH,CAAoBh\/G,GAAAA,CAAKg\/G,EAAA,CAAG,gBAAH,CAAsBrrE,GAAAA,CAAKqrE,EAAA,CAAG,UAAH,CADtU,KACsV1oE,GAAK0oE,EAAA,CAAG,KAAH,CAD3V,CACsWzoE,GAAK0oE,EAAA,CAAG,KAAH,CAAWxoE,EAAAA,CAAK9H,EAAA,CAAEx9C,CAAF,CAAMwiD,EAAN,CAAU3zC,EAAV,CAAc7L,CAAA,CAAKyyC,EAAL,CAAa\/+B,EAA3B,CAA+ByuC,EAA\/B,CAAmCC,EAAnC,CAAuC1gD,EAAvC,CAA2C44C,CAAAA,WAAa\/6C,GAAAA,CAAKuiD,EAAEve,CAAAA,QAAF,CAAW,CAAX,CADxb,KACuctmC,GAAKsC,EAAA,CAAG,CAAH,CAD5c,CACmdC,GAAKD,EAAA,CAAG,CAAH,CAClfwrH,GAAA,CAAG,WAAH,CAAgB,QAAQ,CAAChxE,EAAD,CAAK,CAC3B98C,EAAA,GAAO88C,EAAP,EAAav6C,EAAA,CAAGu6C,EAAH,CADc,CAA7B,CAGIoR,GAAAA,CAAK0\/D,EAAA,CAAG,kBAAH,CALiB,KAKOh\/D,GAAKg\/D,EAAA,CAAG,uBAAH,CAALh\/D,EAAoC0+D,EAAI9H,GAAAA,CAAKoI,EAAA,CAAG,eAAH,CALpD,KAKyEnI,GAAKmI,EAAA,CAAG,eAAH,CAL9E,CAKmGl\/D,GAAKk\/D,EAAA,CAAG,gBAAH,CALxG,CAK8Ht+D,GAAKs+D,EAAA,CAAG,gBAAH,CALnI,CAKyJ\/pF,GAAK+pF,EAAA,CAAG,WAAH,CAL9J,CAK+K1oH,GAAiC,CAAjCA,CAAK0oH,EAAA,CAAG,cAAH,CAAmBjtH,CAAAA,MAAYq8B,GAAAA,CAAK4wF,EAAA,CAAG,oBAAH,CAA0Bj\/D,GAAAA,CAAK5rD,CAAA,CAAK,EAAL,CAAU,CAAEgrH,UAAW,YAAb;AAA2BjZ,WAAYp0G,CAAGujD,CAAAA,SAAf6wD,CAA2B93E,EAAtD,CAA0DgxF,cAAettH,CAAGwjD,CAAAA,YAA5E,CAA0F+pE,UAAWjuH,EAArG,CAC3R,OAAO,CAAC+C,CAAD,EAAO,CAAP,GAAarC,CAAGwiD,CAAAA,UAAhB,EAA8BgL,EAA9B,CAAmC,GAAIhR,EAAeluB,CAAAA,aAAnB,EAAkCk\/B,EAAlC,CAAsCvJ,EAAA,CAAGuJ,EAAH,CAAOtM,EAAP,CAAtC,CAAnC,CAAuF,GAAI1E,EAAeluB,CAAAA,aAAnB,EAAkCw2F,EAAlC,CAAsC9oE,EAAA,CAAE,EAAF,CAAMiI,EAAA,CAAG6gE,EAAH,CAAO5jE,EAAP,CAAN,CAAkB,CAAExuC,IAAKiyC,CAAP,CAAWj1B,MAAOu+B,EAAlB,CAAsB,eAAgB5rD,CAAA,CAAK,wBAAL,CAAgC,oBAAtE,CAAlB,CAAtC,CAAqLyC,CAA7BzC,CAAA,CAAKrC,CAAGqjD,CAAAA,QAAR,CAAmBrjD,CAAGojD,CAAAA,KAAOt+C,EAAAA,GAA9B,CAAkC,QAAQ,CAACs3C,EAAD,CAAK,CAAA,IAC9Rv3C,GAAIu3C,EAAG4G,CAAAA,aADuR,CACxQj3C,GAAK6iD,EAAA,CAAG\/pD,EAAH,CAAO7E,CAAG0jD,CAAAA,cAAV,CAA0BtH,EAAG8G,CAAAA,IAA7B,CAAmChC,EAAnC,CAC\/B,OAAO\/d,GAAA,CAAK,GAAIqZ,EAAeluB,CAAAA,aAAnB,EAAkC4\/B,EAAlC,CAAsClS,EAAA,CAAE,EAAF,CAAMiI,EAAA,CAAGiK,EAAH,CAAOhN,EAAP,CAAN,CAAkB,CAAE52C,IAAKyB,EAAP,CAAWsxC,MAAOjB,EAAGiB,CAAAA,KAArB,CAA4Bv9C,OAAQs8C,EAAGv7C,CAAAA,IAAvC,CAA6CwgB,KAAM+6B,EAAG\/6B,CAAAA,IAATA,EAAiB,MAA9D,CAAlB,CAA0F,OAAA,GAAY+6B,EAAG\/6B,CAAAA,IAAf,CAAsB,EAAtB,CAA2B,CAAE6gC,WAAY9F,EAAG8F,CAAAA,UAAjB,CAArH,CAAtC,CAAL;AAAkM,OAAA,GAAY9F,EAAG\/6B,CAAAA,IAAf,CAAsB,GAAIm7B,EAAeluB,CAAAA,aAAnB,EAAkC0\/B,EAAlC,CAAsChS,EAAA,CAAE,EAAF,CAAMiI,EAAA,CAAG+J,EAAH,CAAO9M,EAAP,CAAN,CAAkB,CAAE52C,IAAKyB,EAAP,CAAW,aAAclH,EAAzB,CAA4B,kBAAmBu3C,EAAGv7C,CAAAA,IAAlD,CAAwD,kBAAmBu7C,EAAGiB,CAAAA,KAA9E,CAAqF3tB,MAAOm9F,EAA5F,CAAlB,CAAtC,CAA2J1rE,EAAA,CAAG\/E,EAAGiB,CAAAA,KAAN,CAA3J,CAAtB,CAAiM,GAAIb,EAAeluB,CAAAA,aAAnB,EAAkCy2F,EAAlC,CAAsC\/oE,EAAA,CAAE,EAAF,CAAMiI,EAAA,CAAG8gE,EAAH,CAAO7jE,EAAP,CAAN,CAAkB,CAAE52C,IAAKyB,EAAP,CAAW,aAAclH,EAAzB,CAA4B,kBAAmBu3C,EAAGv7C,CAAAA,IAAlD,CAAwD,kBAAmBu7C,EAAGiB,CAAAA,KAA9E,CAAqF,wBAAyBjB,EAAG8F,CAAAA,UAAjH,CAA6HxyB,MAAOq9F,EAApI,CAAlB,CAAtC,CAAmMvoH,EAAA,CAAKO,EAAA,CAAGq3C,EAAGiB,CAAAA,KAAN,CAAajB,EAAG8F,CAAAA,UAAhB,CAA4B9F,EAAG8G,CAAAA,IAA\/B,CAAqChC,EAArC,CAAL,CAAgDn8C,EAAA,CAAGq3C,EAAGiB,CAAAA,KAAN,CAAajB,EAAG8G,CAAAA,IAAhB,CAAsBhC,EAAtB,CAAnP,CAFxG,CAA\/C,CAAvJ,CANpE,CAAnB,CAt4BT,CAi5BImD,GAAK,CAAEvkD,OAAQ,MAAV,CAAkB0tH,QAAS,MAA3B,CAAmClqB,UAAW,MAA9C,CAAsDpzE,SAAU,UAAhE,CAA4Eu9F,wBAAyB,OAArG,CAj5BT,CAk5BIC;AAAK,CAAE3tH,MAAO,MAAT,CAAiBD,OAAQ,MAAzB,CAAiCowB,SAAU,UAA3C,CAAuDC,IAAK,CAA5D,CAl5BT,CAm5BIw9F,GAAK,CAAE5tH,MAAO,MAAT,CAAiBmwB,SAAUw6F,EAAA,EAA3B,CAAiCv6F,IAAK,CAAtC,CAn5BT,CAw5BIy9F,GAAKzpE,EAAElX,CAAAA,IAAF,CAAO,QAAQ,EAAG,CAAA,IACrBppC,EAAIqpH,EAAA,CAAG,iBAAH,CADiB,CACMroH,EAAIsoH,EAAA,CAAG,cAAH,CADV,CAC8BphH,EAAKmhH,EAAA,CAAG,iBAAH,CADnC,CAC0D\/hH,GAAKyxC,EAAA,CAAE,QAAQ,CAACR,EAAD,CAAK,CACrG,MAAOv3C,EAAA,CAAE7F,EAAA,CAAEo9C,EAAF,CAAM,QAAN,CAAF,CAD8F,CAAf,CAD\/D,CAGrB\/5C,GAAK6qH,EAAA,CAAG,SAAH,CACT,OAAOrpH,EAAA,CAAI,GAAI24C,EAAeluB,CAAAA,aAAnB,EAAkCviB,CAAlC,CAAsC,CAAE2G,IAAKvH,EAAP,CAAtC,CAAmD,GAAIqxC,EAAeluB,CAAAA,aAAnB,EAAkCzqB,CAAlC,CAAqCogD,EAAA,CAAGpgD,CAAH,CAAMxB,EAAN,CAArC,CAAnD,CAAJ,CAA0G,IAJxF,CAAlB,CAx5BT,CA85BIwrH,GAAK1pE,EAAElX,CAAAA,IAAF,CAAO,QAAQ,EAAG,CAAA,IACrBppC,EAAIqpH,EAAA,CAAG,iBAAH,CADiB,CACMroH,EAAIsoH,EAAA,CAAG,cAAH,CADV,CAC8BphH,EAAKmhH,EAAA,CAAG,iBAAH,CADnC,CAC0D\/hH,GAAKyxC,EAAA,CAAE,QAAQ,CAACR,EAAD,CAAK,CACrG,MAAOv3C,EAAA,CAAE7F,EAAA,CAAEo9C,EAAF,CAAM,QAAN,CAAF,CAD8F,CAAf,CAD\/D,CAGrB\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\/D,CACx+D\/hH,EAAoC,CAApCA,CAAK+hH,EAAA,CAAG,iBAAH,CAAsBjtH,CAAAA,MAD68D,CACj8DoC,GAAK6qH,EAAA,CAAG,oBAAH,CAD47D,CACl6DltH,GAAKqC,EAAA,EAAMwC,CAAN,CAAUkpH,EAAV,CAAeD,EACzH,OAAO3pE,GAAE71B,CAAAA,aAAF,CAAgBjsB,EAAA,EAAMwC,CAAN,CAAUqpH,EAAV,CAAeC,EAA\/B,CAAmCnyE,EAAA,CAAE,EAAF,CAAMn4C,CAAN,CAAnC,CAA6CsgD,EAAE71B,CAAAA,aAAF,CAAgBtuB,EAAhB,CAAoB,IAApB,CAA0BmkD,EAAE71B,CAAAA,aAAF,CAAgBs\/F,EAAhB,CAAoB,IAApB,CAA1B,CAAqDzpE,EAAE71B,CAAAA,aAAF,CAAgB0+F,EAAhB,CAAoB,IAApB,CAArD,CAAgF7oE,EAAE71B,CAAAA,aAAF,CAAgBu\/F,EAAhB;AAAoB,IAApB,CAAhF,CAA7C,CAAyJ1iH,CAAzJ,EAA+Jg5C,EAAE71B,CAAAA,aAAF,CAAgB0\/F,EAAhB,CAAoB,IAApB,CAA0B7pE,EAAE71B,CAAAA,aAAF,CAAgB0+F,EAAhB,CAAoB,CAAEC,YAAa,CAAA,CAAf,CAApB,CAA1B,CAA\/J,CAFggE,CAAnB,CAA7+D,CAx8BT,CA48BImB,GAAKH,EAAGjzE,CAAAA,SA58BZ,CA68BImyE,GAAKc,EAAGtyE,CAAAA,YA78BZ,CA88BIuxE,GAAKe,EAAGryE,CAAAA,eA98BZ,CA+8BIwxE,GAAKa,EAAGlyE,CAAAA,UA\/8BZ,CAg9BIoyE,GAAKjqE,EAAA,CAAG,CAAEvI,aAAcwxE,EAAhB,CAAoBvxE,gBAAiBsxE,EAArC,CAAyCnxE,WAAYqxE,EAArD,CAAH,CAh9BT,CAi9BIc,GAAK5pE,EAAA,CAAG,CAAE3I,aAAcwxE,EAAhB,CAAoBvxE,gBAAiBsxE,EAArC,CAAyCnxE,WAAYqxE,EAArD,CAAH,CAj9BT,CAk9BIiB,GAAK,CAAEjrE,MAAO,EAAT,CAAaI,aAAc,CAA3B,CAA8BD,UAAW,CAAzC,CAA4CpzB,IAAK,CAAjD,CAAoDszB,OAAQ,CAA5D,CAA+DooE,WAAY,CAA3E,CAA8EyC,UAAW,CAAzF,CAl9BT,CAm9BIC,GAAK,CAAEnrE,MAAO,CAAC,CAAE\/F,MAAO,CAAT,CAAD,CAAT,CAAyBmG,aAAc,CAAvC,CAA0CD,UAAW,CAArD,CAAwDpzB,IAAK,CAA7D,CAAgEszB,OAAQ,CAAxE,CAA2EooE,WAAY,CAAvF,CAA0FyC,UAAW,CAArG,CAn9BT,CAo9BIE,GAAKtvH,IAAK4\/C,CAAAA,KAp9Bd,CAq9BI2vE,GAAKvvH,IAAKS,CAAAA,IAr9Bd,CAs9BIylD,GAAKlmD,IAAKwlC,CAAAA,KAt9Bd,CAu9BIgqF,GAAKxvH,IAAK6uB,CAAAA,GAv9Bd,CAw9BIo3B,GAAKjmD,IAAKC,CAAAA,GAx9Bd;AAi+BIwvH,GAAKl2E,EAAA,CAAO,QAAQ,CAAC50C,CAAD,CAAI,CAAA,IACtBkI,EAAKlI,CAAA,CAAE,CAAF,CADiB,CACXsH,EAAKY,CAAGs7G,CAAAA,QADG,CACOhlH,GAAK0J,CAAGw7G,CAAAA,YADf,CAC6BvnH,GAAK+L,CAAGq7G,CAAAA,YADrC,CACmD\/nH,GAAKwE,CAAA,CAAE,CAAF,CAAM6R,EAAAA,CAAKrW,EAAG8+C,CAAAA,SADtE,KACiF77C,GAAKjD,EAAGm\/C,CAAAA,cADzF,CACyGz6C,GAAK1E,EAAG+\/C,CAAAA,QADjH,CAC2Hb,GAAKl\/C,EAAGkgD,CAAAA,QADnI,CAC6In9C,GAAK\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\/G,EAAH,CAAOxiE,EAAA,CAAG,CAAH,CAAMy\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\/+C,IAAKrY,EAAta,CAAF,CAA8az\/C,EAA9a,CAAkb,CAAE4gH,UAAW9gE,EAAb;AAAiBm7D,gBAAiBr6D,EAAlC,CAAlb,CAA0d3N,EAA1d,CAA8d,CAAEonE,aAAc16D,EAAhB,CAAoBy6D,WAAY\/pD,EAAhC,CAAoCiqD,aAAcjkH,EAAlD,CAAsD8hH,WAAY7hE,EAAlE,CAA9d,CAAsiB0J,CAAtiB,CAzDgB,CAAnB,CA0DN3Z,EAAA,CAAI4yE,EAAJ,CAAQ1nH,EAAR,CAAW2lH,EAAX,CAAewD,EAAf,CAAmBxC,EAAnB,CAAuBwD,EAAvB,CAA2BlH,EAA3B,CA1DM,CAj+BT,CAuiCIqM,GAAK,CAAC,aAAD,CAviCT,CAwiCIC,GAAKv2E,EAAA,CAAO,QAAQ,EAAG,CAAA,IACrB50C,EAAIiyC,EAAA,CAAe,QAAQ,CAACsG,EAAD,CAAK,CAClC,MAAO,OAAP,CAAiBA,EADiB,CAA5B,CADiB,CAGrBrwC,EAAK+pC,EAAA,CAAe,EAAf,CAHgB,CAGI3qC,EAAK2qC,EAAA,CAAe,IAAf,CAHT,CAG+BzzC,GAAKyzC,EAAA,CAAe,oBAAf,CAHpC,CAG0E91C,GAAK81C,EAAA,CAAe,oBAAf,CAH\/E,CAGqHz2C,GAAKy2C,EAAA,CAAeiO,EAAf,CAH1H,CAG8IruC,GAAKogC,EAAA,CAAe,KAAf,CAHnJ,CAG0KxzC,GAAKwzC,EAAA,CAAehB,EAAf,CAH\/K,CAGsM\/wC,GAAKA,QAAQ,CAACq4C,EAAD,CAAK9wC,EAAL,CAAS,CACnP,MAAO,KAAK,EAAL,GAAWA,EAAX,GAAkBA,EAAlB,CAAuB,IAAvB,EAA8B+qC,EAAA,CAA0BK,EAAA,CAAK3qC,CAAL,CAASkrC,EAAA,CAAK,QAAQ,CAACpyC,EAAD,CAAI,CACvF,MAAOA,GAAA,CAAEu3C,EAAF,CADgF,CAAjB,CAAT,CAE3DtF,EAAA,EAF2D,CAA1B,CAERxrC,EAFQ,CAD8M,CAKrP,OAAO,CAAE0K,QAAS7K,CAAX,CAAe4\/G,YAAalnH,CAA5B,CAA+BsqC,WAAYpiC,CAA3C,CAA+Ck\/G,eAAgB5rH,EAA\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\/R,CAC0SpuE,GAAKmuE,EAAA,CAAG,KAAH,CAD\/S,CAC0TluE,GAAKvE,EAAA,CAAE,QAAQ,CAACR,EAAD,CAAK,CACrW\/8C,EAAA,CAAG+8C,EAAGhnB,CAAAA,aAAcA,CAAAA,aAAckpB,CAAAA,YAAlC,CACA;IAAIjC,GAAKD,EAAGmzE,CAAAA,UACZlzE,GAAA,EAAMtmC,EAAA,CAAGsmC,EAAGxqB,CAAAA,qBAAH,EAAH,CAAgC9sB,GAAA,CAAG,CAAEigD,IAAKK,EAAA,CAAG,SAAH,CAAczG,gBAAA,CAAiBxC,EAAjB,CAAqByC,CAAAA,MAAnC,CAA2CqC,EAA3C,CAAP,CAAuD6D,OAAQM,EAAA,CAAG,YAAH,CAAiBzG,gBAAA,CAAiBxC,EAAjB,CAAqBozE,CAAAA,SAAtC,CAAiDtuE,EAAjD,CAA\/D,CAAH,CAH+T,CAAf,CAKxV,OAAO,GAAI1E,EAAeluB,CAAAA,aAAnB,EAAkCvqB,EAAlC,CAAsCi4C,EAAA,CAAE,CAAEtpC,IAAKyuC,EAAP,CAAW77B,UAAWzgB,CAAtB,CAAF,CAA6Bo\/C,EAAA,CAAGlgD,EAAH,CAAO3B,EAAP,CAA7B,CAAyC,CAAEstB,MAAO,CAAE0kF,WAAYvwG,CAAE0\/C,CAAAA,SAAhB,CAA2B+pE,cAAezpH,CAAE2\/C,CAAAA,YAA5C,CAAT,CAAzC,CAAtC,CAAuJ3\/C,CAAEu\/C,CAAAA,KAAMt+C,CAAAA,GAAR,CAAY,QAAQ,CAACu3C,EAAD,CAAK,CACrL,IAAIY,GAAK56C,EAAA,CAAGg6C,EAAGgB,CAAAA,KAAN,CAAahB,EAAG6G,CAAAA,IAAhB,CAAsB9gD,EAAtB,CACT,OAAOpC,GAAA,CAAK,GAAIw8C,EAAeluB,CAAAA,aAAnB,EAAkCiwB,EAAlC,CAAsCvC,EAAA,CAAE,CAAE1xC,IAAK2yC,EAAP,CAAF,CAAegH,EAAA,CAAG1F,EAAH,CAAOn8C,EAAP,CAAf,CAA2B,CAAEi7C,MAAOhB,EAAGgB,CAAAA,KAAZ,CAAmBv9C,OAAQ+D,CAAEgoH,CAAAA,UAA7B,CAAyC9rH,MAAO8D,CAAEyqH,CAAAA,SAAlD,CAA3B,CAAtC,CAAL,CAAwI,GAAI9xE,EAAeluB,CAAAA,aAAnB,EAAkChsB,EAAlC,CAAsC05C,EAAA,CAAE,EAAF,CAAMiI,EAAA,CAAG3hD,EAAH;AAAOF,EAAP,CAAN,CAAkB,CAAEkjB,UAAWvZ,CAAb,CAAiB,aAAcswC,EAAGgB,CAAAA,KAAlC,CAAyC\/yC,IAAK2yC,EAA9C,CAAlB,CAAtC,CAA6G9xC,EAAA,CAAGkxC,EAAGgB,CAAAA,KAAN,CAAahB,EAAG6G,CAAAA,IAAhB,CAAsB9gD,EAAtB,CAA7G,CAFsC,CAAzB,CAAvJ,CANkB,CAAlB,CA\/jCT,CA0kCIqtH,GAAKtrE,EAAElX,CAAAA,IAAF,CAAO,QAAQ,EAAG,CAAA,IACrBppC,EAAIwrH,EAAA,CAAG,iBAAH,CADiB,CACMxqH,EAAIyqH,EAAA,CAAG,cAAH,CADV,CAC8BvjH,EAAKsjH,EAAA,CAAG,iBAAH,CADnC,CAC0DlkH,GAAKyxC,EAAA,CAAE,QAAQ,CAACR,EAAD,CAAK,CACrG,MAAOv3C,EAAA,CAAE7F,EAAA,CAAEo9C,EAAF,CAAM,QAAN,CAAF,CAD8F,CAAf,CAD\/D,CAGrB\/5C,GAAKgtH,EAAA,CAAG,SAAH,CACT,OAAOxrH,EAAA,CAAI,GAAI24C,EAAeluB,CAAAA,aAAnB,EAAkCviB,CAAlC,CAAsC,CAAE2G,IAAKvH,EAAP,CAAtC,CAAmD,GAAIqxC,EAAeluB,CAAAA,aAAnB,EAAkCzqB,CAAlC,CAAqCogD,EAAA,CAAGpgD,CAAH,CAAMxB,EAAN,CAArC,CAAnD,CAAJ,CAA0G,IAJxF,CAAlB,CA1kCT,CAglCIqtH,GAAKvrE,EAAElX,CAAAA,IAAF,CAAO,QAAQ,EAAG,CAAA,IACrBppC,EAAIwrH,EAAA,CAAG,iBAAH,CADiB,CACMxqH,EAAIyqH,EAAA,CAAG,cAAH,CADV,CAC8BvjH,EAAKsjH,EAAA,CAAG,iBAAH,CADnC,CAC0DlkH,GAAKyxC,EAAA,CAAE,QAAQ,CAACR,EAAD,CAAK,CACrG,MAAOv3C,EAAA,CAAE7F,EAAA,CAAEo9C,EAAF,CAAM,QAAN,CAAF,CAD8F,CAAf,CAD\/D,CAGrB\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\/2D,GAAAA,CAAKnqD,CAAE0\/C,CAAAA,SAAPyK,CAAmBR,EAAnBQ,CAAwB7M,EAAIyN,GAAAA,CAAK\/qD,CAAE2\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\/F,SAAU,UAA1mB,CAAsnBqE,wBAAyB,yBAA\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\/BG,aAAM,CAACn\/E,CAAD,CAAU,CACrB,IAAI6F,CACJ,OAAM,CAAE,eAAA23E,CAAF,CAAkB,aAAAC,EAAlB,CAAgC,MAAAl5F,EAAhC,CAAA,CAA0Cyb,CAChD,KAAMo\/E,GAAmB76F,EAAMyE,CAAAA,KAAN,CAAYw0F,CAAZ,CAA4BC,EAA5B,CAEzB,KADM4B,EACN,CAD+D,IAAxC,GAACx5E,CAAD,CAAO,KAAMw\/B,CAAAA,IAAN,CAAW+5C,EAAX,CAAP,EAA+C,IAAK,EAApD,CAAwDv5E,CAAI5oB,CAAAA,MACnF,GAAuC,CAAvC,CAAsBoiG,EAAtB,CAA0C,CAClCC,CAAAA,CAAiB\/6F,EAAM06F,CAAAA,WAAN,CAAkB,IAAlB,CAAwBzB,CAAxB,CAAyC,CAAzC,CAAjB8B,CAA+D,CACrE,KAAMC,GAAev\/E,CAAQzb,CAAAA,KAAMyE,CAAAA,KAAd,CAAoBs2F,CAApB,CAAoC7B,EAApC,CAAmD,CAAnD,CACf+B,GAAAA,CAAeD,EAAahnE,CAAAA,OAAb,CACnB,OADmB,CAElB,SAFkB,CAIfmnE,GAAAA,CAAoBF,EAAaviG,CAAAA,MAAjCyiG,CAA0CH,EAAatiG,CAAAA,MAC7D+iB,EAAQ2\/E,CAAAA,iBAAR,CAA0BL,CAA1B,CAA0C7B,EAA1C,CAAyD,CAAzD,CACAu6B,GAAchkE,CAAAA,MAAd,CAAqBh0C,CAArB,CAA8Bw\/E,EAA9B,CACAx\/E,EAAQ2\/E,CAAAA,iBAAR,CAA0BnC,CAA1B,CAA2C,CAA3C,CAA8CC,EAA9C,CAA6DiC,EAA7D,CAVwC,CAA1C,IAYEs4B,GAAchkE,CAAAA,MAAd,CAAqBh0C,CAArB;AAxFOy\/E,IAwFP,CAjBmB,CAoBhBG,eAAQ,CAAC5\/E,CAAD,CAAU,CACvB,MAAM,CAAE,eAAAw9E,CAAF,CAAkB,aAAAC,CAAlB,CAAgC,MAAAl5F,EAAhC,CAAA,CAA0Cyb,CAChD,KAAMs\/E,GAAiB\/6F,EAAM06F,CAAAA,WAAN,CAAkB,IAAlB,CAAwBzB,CAAxB,CAAyC,CAAzC,CAAjB8B,CAA+D,CACrE,OAAMO,GAAsBm4B,EAAcl5B,CAAAA,WAAd,CAA0Bv6F,EAA1B,CAAiCk5F,CAAjC,CAC5B,KAAM8B,GAAev\/E,CAAQzb,CAAAA,KAAMyE,CAAAA,KAAd,CAAoBs2F,EAApB,CAAoCO,EAApC,CACrB,OAAML,GAAeD,EAAahnE,CAAAA,OAAb,CAAqB,oBAArB,CAA2C,IAA3C,CACfmnE,GAAAA,CAAoBH,EAAatiG,CAAAA,MAAjCyiG,CAA0CF,EAAaviG,CAAAA,MAC7D+iB,EAAQ2\/E,CAAAA,iBAAR,CAA0BL,EAA1B,CAA0CO,EAA1C,CACAm4B,GAAchkE,CAAAA,MAAd,CAAqBh0C,CAArB,CAA8Bw\/E,EAA9B,CAEMM,GAAAA,CAAa,CADbC,EACa,CADU,WAAY16C,CAAAA,IAAZ,CAAiB9gD,EAAMyE,CAAAA,KAAN,CAAYs2F,EAAZ,CAA4B9B,CAA5B,CAAjB,CACV,EAAuBuC,EAAA,CAAqB,CAArB,CAAwB9iG,CAAAA,MAA\/C,CAAwD,CAE3E+iB,EAAQ2\/E,CAAAA,iBAAR,CACEnC,CADF,CACmBsC,EADnB,CAEE5jG,IAAKC,CAAAA,GAAL,CAHwBqhG,CAGxB,CAHyCsC,EAGzC,CAA4BrC,CAA5B,CAA2CiC,EAA3C,CAFF,CAZuB,CA1FP,CA\/yDpB,CA65DIu4B,GAAuBp9H,EAAA,CAAQ,GAAR,CA75D3B,CA85DI01C,GAAmB1vC,CAAD0vC,EAAO1vC,CAAE0vC,CAAAA,eAAF,EA95D7B,CAg6DI2nF,GAAYH,EAAQ9tF,CAAAA,IAAR,CAAakuF,QAAmB,CAAC,CAC\/C,KAAMlqG,CADyC,CAE\/C,KAAAJ,CAF+C,CAG\/C,MAAA3B,CAH+C,CAI\/C,UAAAgC,EAJ+C,CAK\/C,SAAAG,EAL+C,CAM\/C,WAAAD,EAN+C;AAO\/C,QAAAgqG,EAAA,CAAU,CAPqC,CAQ\/C,QAAAC,EAAA,CAAU,CARqC,CAS\/C,MAAAtvE,EAAA,CAAQ,CATuC,CAU\/C,UAAA6nD,EAAA,CAAY,CAAA,CAVmC,CAW\/C,cAAArjF,EAAA,CAAgB,CAAA,CAX+B,CAY\/C,OAAA+qG,EAZ+C,CAa\/C,SAAAzpF,EAb+C,CAAD,CAc7C,CACD,MAAM0pF,GAASR,EAAQpnG,CAAAA,MAAR,CAAe,IAAf,CAAf,CACM6B,GAAaulG,EAAQpnG,CAAAA,MAAR,CAAe,CAAA,CAAf,CADnB,CAEM6nG,GAAeT,EAAQplG,CAAAA,WAAR,CAClB9xB,EAAD,EAAO,CACLguC,EAAA,CAASqxD,EAAUF,CAAAA,aAAV,CAAwBn\/F,EAAE8wB,CAAAA,aAAcptB,CAAAA,KAAxC,CAAT,CADK,CADY,CAInB,CAACsqC,EAAD,CAJmB,CAFrB,CAQM4pF,GAAgBV,EAAQplG,CAAAA,WAAR,CACnB9xB,EAAD,EAAO,CACL,GAAc,QAAd,GAAIA,EAAEyG,CAAAA,GAAN,CAEA,GAAc,KAAd,GAAIzG,EAAEyG,CAAAA,GAAN,EAAuC,CAAvC,GAAuBumB,CAAK5wB,CAAAA,MAA5B,CACE4D,EAAE80B,CAAAA,cAAF,EADF,KAAA,CAIA,GAAgB,MAAhB,GAAM90B,EAAEyG,CAAAA,GAAR,EAA4Bw4B,CAAFj\/B,EAAEi\/B,CAAAA,OAA5B,CACEj\/B,EAAE0vC,CAAAA,eAAF,EADF,KAEO,IAAc,GAAd,GAAI1vC,EAAEyG,CAAAA,GAAN,EAAqBzG,EAAEi\/B,CAAAA,OAAvB,CAAgC,CACrCzU,QAAS4yE,CAAAA,WAAT,CAAqBp9F,EAAE8\/B,CAAAA,QAAF,CAAa,MAAb,CAAsB,MAA3C,CAAmD,CAAA,CAAnD,CACA9\/B,GAAE0vC,CAAAA,eAAF,EACA1vC,GAAE80B,CAAAA,cAAF,EACA,OAJqC,CAMzB,KAAd;AAAI90B,EAAEyG,CAAAA,GAAN,GACEzG,EAAE80B,CAAAA,cAAF,EAMA,CALI90B,EAAE8\/B,CAAAA,QAAN,CACEq3F,EAAcp4B,CAAAA,QAAd,CAAuB\/+F,EAAE8wB,CAAAA,aAAzB,CADF,CAGEqmG,EAAc74B,CAAAA,MAAd,CAAqBt+F,EAAE8wB,CAAAA,aAAvB,CAEF,CAAY,IAAZ,EAAAkd,EAAA,CAAmB,IAAK,EAAxB,CAA4BA,EAAA,CAASqxD,EAAUF,CAAAA,aAAV,CAAwBn\/F,EAAE8wB,CAAAA,aAAcptB,CAAAA,KAAxC,CAAT,CAP9B,CAZA,CAHK,CADa,CA0BpB,CAACsqC,EAAD,CA1BoB,CARtB,CAoCM6pF,GAAaX,EAAQplG,CAAAA,WAAR,CAChB9xB,EAAD,EAAO,CACA+vG,EAAL,GAEA\/vG,EAAE8wB,CAAAA,aAAcguE,CAAAA,iBAAhB,CAAkC,CAAlC,CAAqC,CAArC,CACA,CAAU,IAAV,EAAA24B,EAAA,CAAiB,IAAK,EAAtB,CAA0BA,EAAA,EAH1B,CADK,CADU,CAOjB,CAACA,EAAD,CAPiB,CApCnB,CA6CMK,GAAcZ,EAAQplG,CAAAA,WAAR,CACjB9xB,EAAD,EAAO,CACA+vG,EAAL,EAAmBp+E,EAAWlB,CAAAA,OAA9B,EAEIjG,QAASsf,CAAAA,aAFb,GAE+B9pC,EAAE8wB,CAAAA,aAFjC,EAGE9wB,EAAE8wB,CAAAA,aAAcwsE,CAAAA,MAAhB,EAJG,CADW,CAQlB,CAACyS,EAAD,CARkB,CA7CpB,CAuDMgoB,GAAoBb,EAAQplG,CAAAA,WAAR,CACvB9xB,EAAD,EAAO,CACD+vG,EAAJ,EACE\/vG,EAAE0vC,CAAAA,eAAF,EAFG,CADiB,CAMxB,CAACqgE,EAAD,CANwB,CAQ1BmnB,GAAQjlG,CAAAA,SAAR,CAAkB,EAAA,EAAM,CAClB89E,EAAJ,EACE9e,qBAAA,CAAsB,EAAA,EAAM,CAC1Bt\/D,EAAWlB,CAAAA,OAAX,CAAqB,CAAA,CACrB,OAAMN;AAAMunG,EAAOjnG,CAAAA,OACfN,GAAJ,GACEA,EAAIyC,CAAAA,KAAJ,EACA,CAAAzC,EAAImtE,CAAAA,MAAJ,EAFF,CAH0B,CAA5B,CAFoB,CAAxB,CAWG,CAACyS,EAAD,CAAY0nB,EAAZ,CAXH,CAYA,OAAMO,GAAgBd,EAAQpnG,CAAAA,MAAR,CAAe,IAAf,CACtBonG,GAAQ7kG,CAAAA,eAAR,CAAwB,EAAA,EAAM,CAC5B,MAAMlC,GAAM6nG,EAAcvnG,CAAAA,OAC1B,IAAKN,EAAL,CAAA,CAEA,IAAMnzB,GAAO+vB,EAAA,CACXC,CADW,EAhGC87F,YAgGD,CAEX,CAAEp7F,WAAY,uBAAd,CAAuCF,SAAAA,EAAvC,CAAiDC,WAAY,CAA7D,CAAgEF,WAAAA,EAAhE,CAFW,CAGX,CAHW,CAKb4C,GAAItE,CAAAA,KAAM6P,CAAAA,SAAV,CAAuB,SAAQwsB,EAAR,KAAkBA,EAAlB,eAAsCqvE,EAAtC,OAAoDC,EAApD,KACvBrnG,GAAItE,CAAAA,KAAM3vB,CAAAA,KAAV,CAAkBc,EAAA,CAAK,CAAL,CAAlB,CAA4B,CAA5B,CAAgC,IAChCmzB,GAAItE,CAAAA,KAAM5vB,CAAAA,MAAV,CAAmBe,EAAA,CAAK,CAAL,CAAnB,CAA6B,CAA7B,CAAiC,IATjC,CAF4B,CAA9B,CAYG,CAACgwB,CAAD,CAAOO,EAAP,CAAmBC,EAAnB,CAA6BgqG,EAA7B,CAAsCD,EAAtC,CAA+CrvE,EAA\/C,CAZH,CAaA,OAAuB,GAAIkvE,EAAqB3sF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC1DhpB,UAAW,uBAD+C,CAE1DioB,SAA0B,GAAI0tF,EAAqB\/rF,CAAAA,IAAzB,EAA+B,KAA\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\/H,GAAuBz\/H,EAAA,CAAQ,GAAR,CAD3B,CAGI0\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\/H,EAAA,CAAQ,GAAR,CAA3B,CACI8\/H,GAAa,aAAcv5C,GAAd,CACfp8E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,CAAC,CAAE,OAAA1Y,CAAF,CAAD,CAAA,EAAgB,CAE7D,MAAMnxB,EAAS,IAAK8jE,CAAAA,SAAL,EAAf,CACMruC,EAAMF,EAAA,EADZ,CAEM2lG,GAAgBzlG,CAAIy4B,CAAAA,mBAAoBjP,CAAAA,IAAxB,CAA8Br\/C,EAAD,EAC1C61B,CAAIk\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\/C,EAAA,CAAkB,IAAlB,CAAwB5\/C,CAAxB,CACkB,KAAK,EAA\/B,GAAIA,CAAM6\/C,CAAAA,WAAV,GACE7\/C,CAAM6\/C,CAAAA,WADR,CACsB\/qD,IAAKC,CAAAA,GAAL,CAASiL,CAAM6\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\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\/FgqB,MAAO,CACLuO,SAAU,QADL,CAEL1N,cAAe,KAFV,CAGLN,QAAS6jF,CAAA,CAAY,EAAZ,CAAkB,CAHtB,CADwF,CAAf,CAM\/EjgF,CAN+E,CAAd,CAMxD,CACV0Z,SAA0B,GAAI6wF,EAAqB9vF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DqmE,eAAgBL,EAD6C,CAE7D7\/E,cAAe6\/E,EAF8C,CAG7DxgF,YAAawgF,EAHgD,CAI7DhvF,UAAW,mBAJkD,CAK7DoK,MAAO,CACLa,cAAgBmuG,EAAD,EAAc9qB,CAAAA,CAAd,EAA2BF,CAAAA,EAA3B,CAAiD,MAAjD,CAAyC,KADnD,CAELz1E,SAAU21E,CAAA,CAAY,MAAZ,CAAqB,QAF1B,CAGL7zG,MAAQ,eAAc6+H,EAAd,GAHH,CAIL9+H,OAAS,eAAc8+H,EAAd,GAJJ;AAKLr\/F,UAAY,SAAQq\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\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\/FgqB,MAAO,CACLuO,SAAU,QADL,CAEL1N,cAAe,KAFV,CAGLN,QAAS6jF,CAAA,CAAY,EAAZ,CAAkB,CAHtB,CADwF,CAAf,CAM\/EjgF,CAN+E,CAAd,CAMxD,CACV0Z,SAA0B,GAAIyxF,EAAqB1wF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DhpB,UAAW,qBADkD,CAE7DoK,MAAO,CACLa,cAAeqjF,CAAA,EAAaz7E,EAAI8N,CAAAA,QAAjB,CAA4B,KAA5B,CAAoC,MAD9C,CAEL3V,WAAY,MAFP,CAFsD,CAM7Did,SAAU,IAAKnjC,CAAAA,KAAM80H,CAAAA,GAArB3xF,EAA4C,GAAIyxF,EAAqB1wF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC\/E5e,MAAO,CACLuO,SAAU,QADL,CAEL\/N,SAAU,UAFL,CAGLpwB,OAAQ,MAHH,CADwE,CAM\/EytC,SAA0B,GAAIyxF,EAAqB1wF,CAAAA,GAAzB,EAA8B,QAA9B;AAAwC,CAChE57B,IAAK,IAAKysH,CAAAA,QADsD,CAEhE75G,UAAW,oCAFqD,CAGhEvlB,MAAO,MAHyD,CAIhED,OAAQ,MAJwD,CAKhE4uB,IAAM,GAAE,IAAKtkB,CAAAA,KAAM80H,CAAAA,GAAb,EAL0D,CAMhEE,YAAa,GANmD,CAOhEC,QAAS,oDAPuD,CAAxC,CANqD,CAArC,CANiB,CAArC,CADhB,CANwD,CAA7C,CAH4D,CAA\/C,CAAtC,CAmCAtqE,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,EAAA,EAAM,CACnD,MAAM,CACJ,MAAO,CACL,KAAM,CAACoY,CAAD,CAAKzD,CAAL,CADD,CAEL,SAAA4P,CAFK,CADH,CAAA,CAKF,IACJ,OAAuB,GAAIkuE,EAAqB1wF,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC3DvuC,MAAO4kD,CADoD,CAE3D7kD,OAAQohD,CAFmD,CAG3D5gD,KAAM,aAHqD,CAI3D6D,GAAI,CAJuD,CAK3DC,GAAI,CALuD,CAM3Dy9E,gBAAiB\/wB,CAAA,CAAW,KAAX,CAAmB,WANuB,CAAtC,CAP4B,CAAf,CAAtC,CAhDY,CADE,CAmElBiE,GAAA,CAAckqE,EAAd,CAA2B,IAA3B,CAAiC,QAAjC,CACAlqE,GAAA,CAAckqE,EAAd,CAA2B,cAA3B,CAA2C,CACzC93G,GAAI,QADqC,CAEzC9F,KAAM,QAFmC,CAGzC2G,SAAU,MAH+B,CAIzCpnB,MAAO,CAAC,CAAD,CAAI,CAAJ,CAJkC,CAKzCC,KAAM,CAAC,GAAD;AAAM,GAAN,CALmC,CAMzCq+H,IAAK,EANoC,CAA3C,CAQAtqE,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGyiH,EAAYh2H,CAAAA,SAFf,CAE0B,sBAF1B,CAEkD,CAFlD,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEGyiH,EAAYh2H,CAAAA,SAFf,CAE0B,QAF1B,CAEoC,CAFpC,CAKA,KAAIq2H,GAAU7qE,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAAd,CACI0hI,GAAuB1hI,EAAA,CAAQ,GAAR,CAD3B,CAEI2hI,GAAa,aAAc18C,GAAd,CACf96E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,CAAC,CAAE,OAAA1Y,CAAF,CAAU,UAAAigF,CAAV,CAAqB,UAAAH,CAArB,CAAgC,MAAA3wB,EAAhC,CAAD,CAAA,EAA6C,CAC1F,MAAM,CACJ,MAAO,CACL,QAAA\/yD,EADK,CAEL,UAAAkzD,EAFK,CAGL,SAAAJ,EAHK,CAIL,KAAM,CAACp+B,EAAD,CAAKzD,EAAL,CAJD,CADH,CAAA,CAOF,IAPJ,CAQM,CAACr8C,EAAD,CAAIxC,EAAJ,CAAQ\/C,EAAR,CAAYoW,EAAZ,CAAA,CAAkBrP,KAAMsG,CAAAA,OAAN,CAAco2E,EAAd,CAAA,CAA0BA,EAA1B,CAAqC,CAACA,EAAD,CAAWA,EAAX,CAAqBA,EAArB,CAA+BA,EAA\/B,CAR7D,CASM,CAAE,SAAAviD,EAAF,CAAA,CAAe8+F,EAAQjsG,CAAAA,UAAR,CAAmBoe,EAAnB,CACrB,OAAuB,GAAI8tF,EAAqBrwF,CAAAA,IAAzB,EAA+BsiE,EAA\/B,CAA8C\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\/C,EAAA,CAAkB,IAAlB,CAAwB5\/C,CAAxB,CADT,CAvIY,CA2IV,cAAa,EAAA,CACf,IAAIye,CACJ,OAAwC,KAAjC,GAACA,CAAD,CAAO,IAAKze,CAAAA,KAAMupC,CAAAA,UAAlB,EAAwC9qB,CAAxC,CAA8C,IAFtC,CAIjB84D,cAAc,CAAC,CAAE,QAAAvyB,CAAF,CAAD,CAAc,CAC1B,MAAM,CACJ,OAAA9E,CADI,CAEJ,KAAAhqD,CAFI,CAGJ,YAAA2pD,EAHI,CAIJ,WAAA23B,EAJI,CAKJ,YAAAuS,EALI,CAMJ,MAAA7jD,EANI,CAOJ,WAAAqD,EAPI,CAQJ,QAAS,CAAE,MAAAtrB,EAAF,CAAS,IAAAC,EAAT,CARL,CAAA,CASF,IAAKle,CAAAA,KATT,CAUM8yH,GAAW91G,EAAYw3C,CAAAA,GAAZ,CAAgBv2C,EAAMznB,CAAAA,KAAtB;AAA6B0nB,EAAI1nB,CAAAA,KAAjC,CACjB,OAAuB,GAAI0\/H,EAAqBpxF,CAAAA,IAAzB,EAA+BoxF,EAAqB\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\/C,GAAd,CACtB\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\/BirB,EAA6C,CAAC\/qB,EAA9C+qB,EAAmF,QAAnFA,GAA2DxmG,EAAIgB,CAAAA,YAAahS,CAAAA,EAA5Ew3G,GAAgG,CAAC4D,EAHvG,CAIMjuB,GAAQssB,EAAQjrG,CAAAA,WAAR,CACX9xB,EAAD,EAAO,CACA86H,EAAL,EACE96H,EAAE0vC,CAAAA,eAAF,EAFG,CADK,CAMZ,CAACorF,EAAD,CANY,CAJd,CAYM6D,GAAoD,CAApDA,GAAiBrqG,EAAIy4B,CAAAA,mBAAoB3wD,CAAAA,MAAzCuiI,EAAyDrqG,EAAIy4B,CAAAA,mBAAoBjP,CAAAA,IAAxB,CAC5D96B,EAAD,EAA0B,eAA1B;AAAWA,EAAMxF,CAAAA,IAAjB,EAA6CwF,EAAMzc,CAAAA,KAAM+c,CAAAA,EAAzD,GAAgE,IAAK\/c,CAAAA,KAAM+c,CAAAA,EAA3E,EAAiFi0E,EAAjF,EAA2Fv0E,EAAMzc,CAAAA,KAAN,CAAA,MAA3F,GAAqHgxF,EADxD,CAZ\/D,CAeMwjC,GAAakC,EAAA,CAA4B,IAAd,EAAAntF,EAAA,CAAqBA,EAArB,CAAkC,IAAhD,CACnBitF,GAAQ9qG,CAAAA,SAAR,CAAkB,EAAA,EACZ,IAAK1rB,CAAAA,KAAMuvF,CAAAA,SAAf,EAA4Bia,EAA5B,EACE,IAAKhrE,CAAAA,MAAL,CAAY,CACV\/nC,KAAM,CAAC,IAAKuJ,CAAAA,KAAMvJ,CAAAA,IAAX,CAAgB,CAAhB,CAAD,CAAqB,IAAKuJ,CAAAA,KAAMm3H,CAAAA,eAAhC,CADI,CAAZ,CAGO,CAAA,EAAA,EAAM,CACX,IAAK34F,CAAAA,MAAL,CAAY,CACV\/nC,KAAM,CAAC,IAAKuJ,CAAAA,KAAMvJ,CAAAA,IAAX,CAAgB,CAAhB,CAAD,CAAqB,IAAKygI,CAAAA,eAAL,EAArB,CADI,CAAZ,CADW,CAJf,EAUO,EAAA,EAAM,EAXf,CAaG,CAAC1tB,EAAD,CAAY,IAAKxpG,CAAAA,KAAMuvF,CAAAA,SAAvB,CAbH,CAcAinC,GAAQ9qG,CAAAA,SAAR,CAAkB,EAAA,EAAM,CACtB,GAAIysG,EAAJ,CAAgB,CACd,MAAME,GAAa,CAACtqG,EAAI7C,CAAAA,QAAS5yB,CAAAA,MAAO3C,CAAAA,KAArB,CAA4Bo4B,EAAI7C,CAAAA,QAAS5yB,CAAAA,MAAO5C,CAAAA,MAAhD,CAAnB,CACM4iI,GAAoBvqG,EAAI7C,CAAAA,QAASqtG,CAAAA,cAAb,CAA4B,CAAC,IAAKjgI,CAAAA,MAAOC,CAAAA,IAAb,CAAmB,IAAKD,CAAAA,MAAOE,CAAAA,IAA\/B,CAA5B,CAC1B,EAAI8\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\/B,CAA8C\/rG,EAAA,CAAcC,EAAA,CAAe,CAChGgqB,MAAO,CACLa,cAAe,KADV,CADyF,CAAf,CAIhFsD,EAJgF,CAAd,CAIzD,CACV0Z,SAAU,CACRomE,EADQ,EACqB,GAAIktB,EAAqBvyF,CAAAA,GAAzB,EAA8Bic,EAA9B,CAAgD,CAC3EC,KAAM,MADqE,CAE3EP,YAAAA,EAF2E,CAG3EppD,KAAAA,EAH2E,CAAhD,CADrB,CAMQ,GAAIggI,EAAqBvyF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACnD,oBAAqB,CAACqwF,EAD6B;AAEnDhqB,eAAgBL,EAFmC,CAGnD7\/E,cAAe6\/E,EAHoC,CAInDxgF,YAAawgF,EAJsC,CAKnD5kF,MAAO,CACL3vB,MAAO,MADF,CAELD,OAAQ,MAFH,CAGLywB,cAAgBmuG,EAAD,EAAc9qB,CAAAA,EAAd,EAA2BF,CAAAA,EAA3B,CAAiD,MAAjD,CAAyC,KAHnD,CAL4C,CAUnDnmE,SAAUg1F,EAAA,CAA6B,GAAI1B,EAAqBvyF,CAAAA,GAAzB,EAA8B40F,EAA9B,CAAiD,CACtFrxF,SAAU+wF,EAD4E,CAEtFO,WAAa59F,EAAD49F,EAAU,CACpBxnH,UAAA,CAAW,EAAA,EAAM,CAAA,IACX6pE,EADW,CACNz0D,EADM,CACFC,EACbmH,GAAIvF,CAAAA,GAAI60D,CAAAA,SAAR,CAAkB,IAAlB,CACmG,KAAnG,GAACz2D,EAAD,CAAiE,IAA3D,GAACD,EAAD,CAA+B,IAAzB,GAACy0D,EAAD,CAAO7+E,MAAOgsB,CAAAA,MAAd,EAAgC,IAAK,EAArC,CAAyC6yD,EAAI5yD,CAAAA,GAAnD,EAAkE,IAAK,EAAvE,CAA2E7B,EAAGqyG,CAAAA,UAApF,EAA0G,IAAK,EAA\/G,CAAmHpyG,EAAGjpB,CAAAA,IAAH,CAAQgpB,EAAR,CAAYwU,EAAZ,CAHpG,CAAjB,CADoB,CAFgE,CAStFonF,YAAa,gCATyE,CAAjD,CAA7B,CAUW,GAAIkU,EAAqB3xF,CAAAA,IAAzB,EAA+B,KAA\/B,CAAsC,CACzD5pB,UAAW,4BAD8C,CAEzD,iBAAkB,IAAKq0E,CAAAA,SAFkC,CAGzD,eAAgByB,EAHyC,CAIzD,uBAAwBonC,EAJiC;AAKzD,eAAgB5uB,EALyC,CAMzDlkF,MAAOuzG,EANkD,CAOzD11F,SAAU,CACR,CAAC,IAAKnjC,CAAAA,KAAMooC,CAAAA,OADJ,EACe,CAACuwF,EADhB,EACkD,GAAIlC,EAAqBvyF,CAAAA,GAAzB,EAA8ByyF,EAA9B,CAAuD,CAC\/G1\/G,KAAsC,IAAhC,GAACwH,EAAD,CAAO,IAAKze,CAAAA,KAAM+2H,CAAAA,SAAlB,EAAuCt4G,EAAvC,CAA6C,GAD4D,CAE\/GvoB,KAAAA,EAF+G,CAG\/G2vB,QAAAA,EAH+G,CAI\/Gsd,SAAmC,GAAzB,GAAA,IAAKnjC,CAAAA,KAAM+2H,CAAAA,SAAX,CAA+C,GAAIN,EAAqBvyF,CAAAA,GAAzB,EAA8BwzE,EAA9B,CAAwC,CAC\/FK,SAAU\/mB,EADqF,CAAxC,CAA\/C,CAEW,GAAIylC,EAAqBvyF,CAAAA,GAAzB,EAA8BuzE,EAA9B,CAA0C,CAC7DQ,QAASjnB,EADoD,CAA1C,CAN0F,CAAvD,CADlD,CAWR2nC,EAXQ,EAW0B,GAAIlC,EAAqBvyF,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACrEhpB,UAAW,qBAD0D,CAErEioB,SAAU,kBAF2D,CAArC,CAX1B,CAeRy1F,EAfQ,EAeyB,GAAInC,EAAqBvyF,CAAAA,GAAzB,EAA8Bw0F,EAA9B,CAA+Cp9H,EAAA,CAAe,EAAf,CAAmB28H,CAAnB,CAA\/C,CAfzB,CAP+C,CAAtC,CApB8B,CAArC,CANR,CADA,CAJyD,CAA9C,CAlF0C,CAA7B,CAAtC,CA8IAttE,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,EAAA,EAAM,CACnD,MAAM7pC,EAAS,IAAK8jE,CAAAA,SAAL,EACf,OAAuB,GAAIq6D,EAAqBvyF,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC3DvuC,MAAO2C,CAAO3C,CAAAA,KAD6C,CAE3DD,OAAQ4C,CAAO5C,CAAAA,MAF4C,CAG3DQ,KAAM,aAHqD,CAI3D6D,GAAI,CAJuD,CAK3DC,GAAI,CALuD;AAM3Dy9E,gBAAiB,IAAKz3E,CAAAA,KAAM0mD,CAAAA,QAAX,CAAsB,KAAtB,CAA8B,WANY,CAAtC,CAF4B,CAAf,CAAtC,CAWAiE,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsC3qD,CAAD,EAAW,CAC9C,IAAIye,EACJ,IAAmB,IAAK,EAAxB,GAAIze,CAAMvJ,CAAAA,IAAV,CAA2B,CACzB,MAAMkrD,GAAQ+0E,EAAA,CAA+C,IAAjC,GAACj4G,EAAD,CAAO,IAAKze,CAAAA,KAAMupC,CAAAA,UAAlB,EAAwC9qB,EAAxC,CAA8C,IAA5D,CACdze,EAAMvJ,CAAAA,IAAN,CAAW,CAAX,CAAA,CAAgB3B,IAAKC,CAAAA,GAAL,CAASiL,CAAMvJ,CAAAA,IAAN,CAAW,CAAX,CAAT,CAAwB,EAAxB,CAA6BkrD,EAA7B,CAChB3hD,EAAMvJ,CAAAA,IAAN,CAAW,CAAX,CAAA,CAAgB3B,IAAKC,CAAAA,GAAL,CAASiL,CAAMvJ,CAAAA,IAAN,CAAW,CAAX,CAAT,CAnVJwiI,EAmVI,CAAwCt3E,EAAxC,CAHS,CAK3B,MAAO\/B,GAAA,CAAkB,IAAlB,CAAwB5\/C,CAAxB,CAPuC,CAAhD,CASAwX,GAAA,CAAe,IAAf,CACIxX,EAAMuvF,CAAAA,SAAV,EACEhyF,MAAOiD,CAAAA,MAAP,CAAc,IAAK25E,CAAAA,SAAnB,CAA8B,CAAC,CAAA,CAAD,CAAO,CAAA,CAAP,CAA9B,CAEqD,EAAvD,IAA2B,IAAtB,GAAC17D,CAAD,CAAOze,CAAMvJ,CAAAA,IAAb,EAA6B,IAAK,EAAlC,CAAsCgoB,CAAA,CAAI,CAAJ,CAA3C,IACE,IAAK64G,CAAAA,uBADP,CACiC,CAAA,CADjC,CArTsB,CAyTjB4B,oBAAa,CAACtwG,CAAD,CAAM,CAExB,MAAIA,EAAJ,CACS,cAAe9mB,CAAAA,IAAf,CAAoB8mB,CAApB,CAAA,EAAsD\/yB,EAAtD,GAA4B+yB,CAAI\/yB,CAAAA,MAAhC,CAA+D,GAA\/D,CAAqE,GAD9E,CAGO,CAAA,CALiB,CAOtB,aAAY,EAAA,CACd,MAAgC,GAAzB,GAAA,IAAKmK,CAAAA,KAAM+2H,CAAAA,SAAX;AAA+B,IAAK\/2H,CAAAA,KAAMooC,CAAAA,OAA1C,CAAoD,IAAKpoC,CAAAA,KAAMuvF,CAAAA,SADxD,CAGZ,cAAa,EAAA,CACf,IAAI9wE,CACJ,OAAwC,KAAjC,GAACA,CAAD,CAAO,IAAKze,CAAAA,KAAMupC,CAAAA,UAAlB,EAAwC9qB,CAAxC,CAA8C,IAFtC,CAIjB+4G,gBAAgB,CAAClvH,CAAD,CAAMokB,CAAA,CAAW,EAAjB,CAAqB,CACnC,MAAM,CAACj2B,CAAD,CAAO0iI,EAAP,CAAA,CAAkB3C,EAAQh7F,CAAAA,QAAR,CAAiB,CAAC,CAAD,CAAI,CAAJ,CAAjB,CAAxB,CACMzN,GAAMF,EAAA,EACZ2oG,GAAQ9qG,CAAAA,SAAR,CAAkB,EAAA,EAAM,CACtBna,UAAA,CAAW,EAAA,EAAM,CACf,GAAW,IAAP,EAAAjJ,CAAA,CAAc,CAAd,CAAuBA,CAAI4hB,CAAAA,OAA\/B,CAAwC,CACtC,MAAM45D,GAAKp3D,CAAA,CAAWpkB,CAAI4hB,CAAAA,OAAQkC,CAAAA,aAAZ,CAA0BM,CAA1B,CAAX,CAAiDpkB,CAAI4hB,CAAAA,OAChE,IAAI45D,EAAJ,CAAQ,CACN,MAAMs1C,GAAa,EAAAA,EAAM,CACvB,MAAM,CAAE,MAAAzjI,EAAF,CAAS,OAAAD,EAAT,CAAA,CAAoBouF,EAAGr8D,CAAAA,qBAAH,EAA1B,CACMriB,GAAQ4X,EAAY01C,CAAAA,GAAZ,CAAgB,CAAC\/8D,EAAD,CAAQD,EAAR,CAAhB,CAAiCq4B,EAAI7C,CAAAA,QAASmO,CAAAA,MAAOD,CAAAA,IAArD,CACd+\/F,GAAA,CAAQ\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\/C\/5G,GAAI,eAD2C,CAE\/C9F,KAAM,eAFyC,CAG\/C2G,SAAU,MAHqC;AAI\/CpnB,MAAO,CAAC,CAAD,CAAI,CAAJ,CAJwC,CAK\/CC,KAAM,CAAC,GAAD,CAAM,EAAN,CALyC,CAM\/C0gI,gBAAiB,CAN8B,CAO\/Cj3E,OAAQ,EAPuC,CAQ\/ChqD,KAAM,EARyC,CAS\/C4pD,OAAQ,CAAA,CATuC,CAU\/CU,aAAc,CAViC,CAW\/CX,YAAa,CAXkC,CAY\/C23B,WAAY,MAZmC,CAa\/C3xD,QAAS,CAbsC,CAc\/CmrE,OAAQ,EAduC,CAe\/CzB,UAAW,CAAA,CAfoC,CAgB\/CnnD,QAAS,CAAA,CAhBsC,CAiB\/CmB,WAAY,IAjBmC,CAkB\/C0tF,eAAgB,CAAA,CAlB+B,CAAjD,CAoBAzsE,GAAA,CAAgB,CACdziD,EADc,CAAhB,CAEG+uH,EAAkBj4H,CAAAA,SAFrB,CAEgC,WAFhC,CAE6C,CAF7C,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG0kH,EAAkBj4H,CAAAA,SAFrB,CAEgC,cAFhC,CAEgD,CAFhD,CAGA2rD,GAAA,CAAgB,CACdziD,EADc,CAAhB,CAEG+uH,EAAkBj4H,CAAAA,SAFrB,CAEgC,YAFhC,CAE8C,CAF9C,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB,CAEG0kH,EAAkBj4H,CAAAA,SAFrB,CAEgC,eAFhC,CAEiD,CAFjD,CAyDA,KAAI,CAAE,IAAKykD,EAAP,CAAW,GAAIg2E,EAAf,CAAA,CAAuBxkI,IAA3B,CAEIwvD,GAAKg1E,EAALh1E,CAAW,IAFf,CA2GIi1E,GAAuB9lI,EAAA,CAAQ,GAAR,CA3G3B,CA4GI+lI,GAAgB,CAClBh+D,GAAI,CADc,CAElB+2D,GAAI,GAFc,CAGlBC,GAAI,CAHc,CAIlBC,GAAI,GAJc,CAKlBC,GAAI,GALc,CAMlBC,IAAK,CANa,CA5GpB,CAoHI8G,GAA2B,CAC7BC,OAASj\/H,CAADi\/H,EAAO5kI,IAAK0tD,CAAAA,GAAL,CAAS\/nD,CAAT,CAAa3F,IAAKu9B,CAAAA,EAAlB,CAAuB,CAAvB,CADc,CAE7BsnG,iBAAkB,CAAA,CAFW,CApH\/B,CAwHIC,GAAuB,CACzBF,OAASj\/H,CAADi\/H;AAAOj\/H,CAAPi\/H,CAAWj\/H,CADM,CAEzBk\/H,iBAAkB,CAAA,CAFO,CAxH3B,CAkJIE,GAAc,aAAcjiD,GAAd,CAChBh6E,WAAW,CAACoC,CAAA,CAAQ,EAAT,CAAa,CACtB,KAAA,CAAMA,CAAN,CACA2qD,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,CAAC,CAAE,OAAA1Y,CAAF,CAAU,UAAAigF,CAAV,CAAD,CAAA,EAA2B,CACxE,MAAM,CACJ,MAAO,CAAE,QAAA7jF,EAAF,CADH,CAAA,CAEF,IACJ,OAAuB,GAAI0zG,EAAqBr1F,CAAAA,GAAzB,EAA8BwjE,EAA9B,CAA4CrsG,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBmuB,CAAnB,CAAd,CAA0C,CAC3G5D,QAAS6jF,CAAA,CAAY,EAAZ,CAAkB7jF,EADgF,CAE3Gsd,SAAU,IAAKo0C,CAAAA,cAAL,EAFiG,CAA1C,CAA5C,CAJiD,CAApC,CAAtC,CASA5sB,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsC7mD,CAAD,EAAQwqB,EAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CAC5E,IAAKkQ,CAAAA,MAAL,CAAY,CACV+K,WAAYzlC,CADF,CAEV+7C,YAAa25E,EAAA,CAAoB,IAAN,EAAA11H,CAAA,CAAaA,CAAb,CAAkB,IAAhC,CAFH,CAAZ,CAIA,KAAKojF,CAAAA,aAAL,EAL4E,CAAjC,CAA7C,CAOAv8B,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,EAAA,EAAM,CACnD,MAAM,CAAE,WAAA2xF,CAAF,CAAA,CAAiB,IACvB,OAAuB,GAAIyF,EAAqBr1F,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC3D4N,EAAGgiF,CADwD,CAE3Dr8C,gBAAiB,IAAKz3E,CAAAA,KAAM0mD,CAAAA,QAAX;AAAsB,KAAtB,CAA8B,WAFY,CAAtC,CAF4B,CAAf,CAAtC,CAOAiE,GAAA,CAAc,IAAd,CAAoB,eAApB,CAAsC3qD,CAAD,EAAW,CAC9CA,CAAA,CAAQ4\/C,EAAA,CAAkB,IAAlB,CAAwB5\/C,CAAxB,CACkB,KAAK,EAA\/B,GAAIA,CAAM6\/C,CAAAA,WAAV,GACE7\/C,CAAM6\/C,CAAAA,WADR,CACsB\/qD,IAAKC,CAAAA,GAAL,CAASiL,CAAM6\/C,CAAAA,WAAf,CAA4B,CAA5B,CADtB,CAEA,OAAO7\/C,EAJuC,CAAhD,CAMAwX,GAAA,CAAe,IAAf,CA\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\/C,CAAxB,CAHuC,CAAhD,CA\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\/B,EAAEi\/B,CAAAA,OAA5B,CACEj\/B,EAAE0vC,CAAAA,eAAF,EADF,KAEO,IAAc,GAAd,GAAI1vC,EAAEyG,CAAAA,GAAN,EAAqBzG,EAAEi\/B,CAAAA,OAAvB,CAAgC,CACjCj\/B,EAAE8\/B,CAAAA,QAAN,CACEtV,QAAS4yE,CAAAA,WAAT,CAAqB,MAArB,CAA6B,CAAA,CAA7B,CADF,CAGE5yE,QAAS4yE,CAAAA,WAAT,CAAqB,MAArB,CAA6B,CAAA,CAA7B,CAEFp9F,GAAE0vC,CAAAA,eAAF,EACA1vC,GAAE80B,CAAAA,cAAF,EACA,OARqC,CAUzB,KAAd,GAAI90B,EAAEyG,CAAAA,GAAN,GACEzG,EAAE80B,CAAAA,cAAF,EAMA,CALI90B,EAAE8\/B,CAAAA,QAAN,CACEq3F,EAAcp4B,CAAAA,QAAd,CAAuB\/+F,EAAE8wB,CAAAA,aAAzB,CADF,CAGEqmG,EAAc74B,CAAAA,MAAd,CAAqBt+F,EAAE8wB,CAAAA,aAAvB,CAEF,CAAA,IAAKiU,CAAAA,MAAL,CAAY,CAAE\/X,KAAMqyE,EAAUF,CAAAA,aAAV,CAAwBn\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\/C,EAAA,CAAkB,IAAlB,CAAwB5\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\/B,CACA\/vE,GAAA,CAAc+vE,EAAd,CAAyB,cAAzB,CAAyC,CACvC39G,GAAI,KADmC,CAEvCa,SAAU,MAF6B,CAGvC3G,KAAM,MAHiC,CAIvCzgB,MAAO,CAAC,CAAD,CAAI,CAAJ,CAJgC,CAKvCC,KAAM,CAAC,CAAD,CAAI,CAAJ,CALiC,CAMvCsjF,aAAc,CAAA,CANyB,CAOvCtzD,KAAM,EAPiC,CAQvCS,WAAY,GAR2B,CASvCD,SAAU,EAT6B,CAUvCD,WAAY,GAV2B,CAWvC6rG,OAAQ,CAAA,CAX+B,CAYvCltG,QAAS,CAZ8B,CAavCwB,WAAY,uBAb2B,CAcvCq5B,aAAc,CAdyB,CAevCN,OAAQ,EAf+B,CAgBvChqD,KAAM,EAhBiC,CAiBvC4pD,OAAQ,CAAA,CAjB+B,CAkBvC03B,WAAY,MAlB2B,CAmBvC33B,YAAa,CAnB0B,CAoBvCh6B,QAAS,CApB8B,CAAzC,CAsBA2kC,GAAA,CAAgB,CACdziD,EADc,CAAhB,CAEG2yH,EAAU77H,CAAAA,SAFb,CAEwB,YAFxB,CAEsC,CAFtC,CAGA2rD,GAAA,CAAgB,CACdp4C,EADc,CAAhB;AAEGsoH,EAAU77H,CAAAA,SAFb,CAEwB,eAFxB,CAEyC,CAFzC,CAKA,KAAIg8H,GAAUxwE,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CAAd,CACIqnI,GAAuBrnI,EAAA,CAAQ,GAAR,CAD3B,CAEIsnI,GAAa,aAAcpjD,GAAd,CACf\/5E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAA,CAA\/B,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAA,CAA\/B,CACAA,GAAA,CAAc,IAAd,CAAoB,sBAApB,CAA4C,CAAA,CAA5C,CACAA,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,CAAC,CAAE,OAAA1Y,CAAF,CAAU,UAAAigF,CAAV,CAAqB,MAAA9wB,CAArB,CAA4B,UAAA4wB,EAA5B,CAAD,CAAA,EAA6C,CAC1F,MAAM,CACJ,MAAO,CACL,QAAA3jF,EADK,CADH,CAAA,CAKF,IALJ,CAMMyuG,GAAW7zE,EAAA,EACjB,KAAM1yB,GAAMF,EAAA,EACZ,OAAMy7E,GAAav7E,EAAI0Q,CAAAA,WAAY\/pB,CAAAA,GAAhB,CAAoB,IAAKqI,CAAAA,EAAzB,CAAnB,CACMw3G,GAAkBD,EAAlBC,EAA8BjrB,EAA9BirB,EAA4C,CAAC\/qB,EAA7C+qB,EAAkF,QAAlFA,GAA0DxmG,EAAIgB,CAAAA,YAAahS,CAAAA,EAC3EmtF,GAAAA,CAAQ2wB,EAAQtvG,CAAAA,WAAR,CACX9xB,EAAD,EAAO,CACA86H,EAAL,EACE96H,EAAE0vC,CAAAA,eAAF,EAFG,CADK,CAMZ,CAACorF,EAAD,CANY,CAQd,OAAM,CAAE,SAAAn+F,EAAF,CAAA,CAAeykG,EAAQ5xG,CAAAA,UAAR,CAAmBoe,EAAnB,CACrB,OAAuB,GAAIyzF,EAAqB52F,CAAAA,GAAzB,EAA8BkjE,EAA9B;AAA6C\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\/FgqB,MAAO,CACLuO,SAAU,QADL,CAEL1N,cAAe,KAFV,CAGLN,QAAS6jF,CAAA,CAAY,EAAZ,CAAkB7jF,EAHtB,CADwF,CAAf,CAM\/E4D,CAN+E,CAAd,CAMxD,CACV0Z,SAA0B,GAAI23F,EAAqB52F,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DqmE,eAAgBL,EAD6C,CAE7D7\/E,cAAe6\/E,EAF8C,CAG7DxgF,YAAawgF,EAHgD,CAI7DhvF,UAAW,oBAJkD,CAK7DoK,MAAO,CACLa,cAAgBmuG,EAAD,EAAc9qB,CAAAA,EAAd,EAA2BF,CAAAA,EAA3B,CAAiD,MAAjD,CAAyC,KADnD,CAELz1E,SAAU21E,EAAA,CAAY,MAAZ,CAAqB,QAF1B,CALsD,CAS7DrmE,SAAUy1C,CAAVz1C,EAAmC,GAAI23F,EAAqB52F,CAAAA,GAAzB,EAA8B,OAA9B,CAAuC,CACxE82F,SAAU,CAAA,CAD8D,CAExE12G,IAAK8R,EAAA,CAAWA,EAASi\/F,CAAAA,YAAT,CAAsBz8C,CAAMt0D,CAAAA,GAA5B,CAAX,CAA8Cs0D,CAAMt0D,CAAAA,GAFe,CAAvC,CAT0B,CAArC,CADhB,CANwD,CAA7C,CApBmE,CAAtD,CAAtC,CA2CAqmC,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,EAAA,EAAM,CACnD,MAAM,CACJ,MAAO,CACL,KAAM,CAACoY,CAAD,CAAKzD,CAAL,CADD,CAEL,SAAA4P,CAFK,CADH,CAAA,CAKF,IACJ,OAAuB,GAAIo0E,EAAqB52F,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC3DvuC,MAAO4kD,CADoD,CAE3D7kD,OAAQohD,CAFmD,CAG3D5gD,KAAM,aAHqD,CAI3DuhF,gBAAiB\/wB,CAAA;AAAW,KAAX,CAAmB,WAJuB,CAAtC,CAP4B,CAAf,CAAtC,CAhDY,CADC,CAiEjBiE,GAAA,CAAcowE,EAAd,CAA0B,IAA1B,CAAgC,OAAhC,CACApwE,GAAA,CAAcowE,EAAd,CAA0B,cAA1B,CAA0C,CACxCh+G,GAAI,QADoC,CAExCa,SAAU,MAF8B,CAGxC3G,KAAM,OAHkC,CAIxCzgB,MAAO,CAAC,CAAD,CAAI,CAAJ,CAJiC,CAKxCC,KAAM,CAAC,GAAD,CAAM,GAAN,CALkC,CAMxCovB,QAAS,CAN+B,CAOxCmzD,QAAS,EAP+B,CAQxCL,SAAU,CAR8B,CASxC7f,oBAAqB,CAAA,CATmB,CAA1C,CAaA,KAAImiE,GAAuBxnI,EAAA,CAAQ,GAAR,CAA3B,CACIynI,GAAgB,sHADpB,CAEIC,GAAgB,aAAcxjD,GAAd,CAClB\/5E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,aAApB,CAAmC,GAAnC,CAAyC,GAAzC,CACAA,GAAA,CAAc,IAAd,CAAoB,sBAApB,CAA4C,CAAA,CAA5C,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAA,CAA\/B,CACAA,GAAA,CAAc,IAAd,CAAoB,SAApB,CAA+B,CAAA,CAA\/B,CACAA,GAAA,CAAc,IAAd;AAAoB,qBAApB,CAA4CmqE,CAAD,EAAS,CAClD,IAAKt2F,CAAAA,MAAL,CAAY,CAAEs2F,IAAAA,CAAF,CAAOr+H,KAAM0kI,EAAcx9G,CAAAA,YAAalnB,CAAAA,IAAxC,CAAZ,CADkD,CAApD,CAGAk0D,GAAA,CAAc,IAAd,CAAoB,gBAApB,CAAsCxoB,EAAA,CAAS,CAAC,CAAE,OAAA1Y,CAAF,CAAU,UAAAigF,CAAV,CAAqB,UAAAF,CAArB,CAAD,CAAA,EAAkD,CAC\/F,MAAMz7E,GAAMF,EAAA,EACZ,OAAuB,GAAIotG,EAAqB\/2F,CAAAA,GAAzB,EAA8BkjE,EAA9B,CAA6C\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\/FgqB,MAAO,CACLuO,SAAU,QADL,CAEL1N,cAAe,KAFV,CAGLN,QAAS6jF,CAAA,CAAY,EAAZ,CAAkB,CAHtB,CADwF,CAAf,CAM\/EjgF,CAN+E,CAAd,CAMxD,CACV0Z,SAA0B,GAAI83F,EAAqB\/2F,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7DhpB,UAAW,kFADkD,CAE7DoK,MAAO,CACLa,cAAeqjF,CAAA,EAAaz7E,EAAI8N,CAAAA,QAAjB,CAA4B,KAA5B,CAAoC,MAD9C,CAEL3V,WAAY,MAFP,CAGLy4C,WAAa,mCAAkC,IAAKy8D,CAAAA,OAAvC,yCAHR,CAFsD;AAO7Dj4F,SAAU,IAAKi4F,CAAAA,OAAL,CAA+B,GAAIH,EAAqB\/2F,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC5E5e,MAAO,CACLuO,SAAU,QADL,CAEL\/N,SAAU,UAFL,CAGLpwB,OAAQ,MAHH,CADqE,CAM5EytC,SAA0B,GAAI83F,EAAqB\/2F,CAAAA,GAAzB,EAA8B,QAA9B,CAAwC,CAChEhpB,UAAW,oCADqD,CAEhEvlB,MAAO,KAFyD,CAGhED,OAAQ,KAHwD,CAIhE4uB,IAAM,iCAAgC,IAAK82G,CAAAA,OAArC,EAJ0D,CAKhEpG,YAAa,GALmD,CAMhEqG,MAAO,0FANyD,CAOhEC,gBAAiB,CAAA,CAP+C,CAQhE9wB,MAAO,kBARyD,CAAxC,CANkD,CAArC,CAA\/B,CAgBW,GAAIywB,EAAqB\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\/+B,CAApD,CAA0Dq2G,CAAhEsG,EAA+Ez0G,CAA\/Ey0G,CAAoF,EAJxF,CAOd7jD,cAAc,EAAG,CACf,MAAMj\/E,EAAS,IAAK8jE,CAAAA,SAAL,EAAf,CACMg\/D,EAAU,IAAKA,CAAAA,OACrB,OAAIA,EAAJ,CACyB,GAAIH,EAAqBn2F,CAAAA,IAAzB,EAA+B,GAA\/B,CAAoC,CACzD3B,SAAU,CACQ,GAAI83F,EAAqB\/2F,CAAAA,GAAzB,EAA8B,OAA9B,CAAuC,CACrDvuC,MAAO2C,CAAO3C,CAAAA,KADuC,CAErDD,OAAQ4C,CAAO5C,CAAAA,MAFsC,CAGrD8\/H,KAAO,8BAA6B4F,CAA7B,gBAH8C,CAIrDlgH,UAAW,iBAJ0C,CAAvC,CADR,CAOQ,GAAI+\/G,EAAqB\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\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\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\/+B,CAApD,CAA0Dq2G,CAAhEsG,EAA+Ez0G,CAA\/Ey0G,CAAoF,EAJxF,CAOd5D,gBAAgB,CAAClvH,CAAD,CAAMokB,CAAA,CAAW,EAAjB,CAAqB,CACnC,MAAM,CAACj2B,CAAD,CAAO0iI,EAAP,CAAA,CAAkBuC,EAAQlgG,CAAAA,QAAR,CAAiB,CAAC,CAAD;AAAI,CAAJ,CAAjB,CAAxB,CACMzN,GAAMF,EAAA,EACZ6tG,GAAQhwG,CAAAA,SAAR,CAAkB,EAAA,EAAM,CACtB,GAAW,IAAP,EAAApjB,CAAA,CAAc,CAAd,CAAuBA,CAAI4hB,CAAAA,OAA\/B,CAAwC,CACtC,MAAM45D,GAAKp3D,CAAA,CAAWpkB,CAAI4hB,CAAAA,OAAQkC,CAAAA,aAAZ,CAA0BM,CAA1B,CAAX,CAAiDpkB,CAAI4hB,CAAAA,OAChE,IAAI45D,EAAJ,CAAQ,CACN,MAAMs1C,GAAa,EAAAA,EAAM,CACvB,MAAM,CAAE,MAAAzjI,EAAF,CAAS,OAAAD,EAAT,CAAA,CAAoBouF,EAAGr8D,CAAAA,qBAAH,EAA1B,CACMriB,GAAQ4X,EAAY01C,CAAAA,GAAZ,CAAgB,CAAC\/8D,EAAD,CAAQD,EAAR,CAAhB,CAAiCq4B,EAAI7C,CAAAA,QAASmO,CAAAA,MAAOD,CAAAA,IAArD,CACd+\/F,GAAA,CAAQ\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\/rG,EAAA,CAAcC,EAAA,CAAe,CAC\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\/C,GAAd,CAChB7\/E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,OAApB,CAA6B0vE,EAA7B,CAFY,CADE,CAMlB1vE,GAAA,CAAciyE,EAAd,CAA2B,IAA3B,CAAiC,SAAjC,CAGA,KAAIC,GAAW,aAAc96C,GAAd,CACbnkF,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,OAApB,CAA6B+vE,EAA7B,CAFY,CADD,CAMf\/vE,GAAA,CAAckyE,EAAd,CAAwB,IAAxB,CAA8B,MAA9B,CACAlyE,GAAA,CAAckyE,EAAd,CAAwB,UAAxB,CAAoC,iBAApC,CAGA,KAAIC,GAAc,aAAcr\/C,GAAd,CAChB7\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\/C,GAAd,CACb7\/E,WAAW,EAAG,CACZ,KAAA,CAAM,GAAG7B,SAAT,CACA4uD,GAAA,CAAc,IAAd,CAAoB,OAApB,CAA6BupE,EAA7B,CAFY,CADD,CAMfvpE,GAAA,CAAcuyE,EAAd,CAAwB,IAAxB,CAA8B,SAA9B,CAGA,KAAIC,GAAa,aAAc1\/C,GAAd,CACf7\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\/B,CAAuC,CACrD\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\/e,EAAQ\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\/H,EAAA,CAAgB\/8E,EAAhB,CAEFtpD,GAAE0vC,CAAAA,eAAF,EAJgB,CAPqC,CAavD+oF,QAAS,EAAAA,EAAM,CACbsO,EAAA,CAAa,CAAA,CAAb,CADa,CAbwC,CAgBvDtP,OAAQ,EAAAA,EAAM,CACZsP,EAAA,CAAa,CAAA,CAAb,CACU,KAAV,EAAAtP,EAAA,CAAiB,IAAK,EAAtB,CAA0BA,EAAA,EAFd,CAhByC,CAAzC,CAjBR,CAF0C,CAAtC,CARR,CAkDS,CAlDT,CAkDRtsH,EAAQ\/O,CAAAA,MAlDA,EAkD8B,GAAIyoI,EAAqBp6F,CAAAA,GAAzB,EAA8B,KAA9B;AAAqC,CACzEqmE,eAAiB9wG,EAAD8wG,EAAO9wG,EAAE0vC,CAAAA,eAAF,EADkD,CAEzEjuB,UAAW,yBAF8D,CAGzE5S,IAAK23H,EAHoE,CAIzE36G,MAAO,CACL+7G,WAAYd,EAAA,CAAY,SAAZ,CAAwB,QAD\/B,CAELp6G,cAAeo6G,EAAA,CAAY,KAAZ,CAAoB,MAF9B,CAJkE,CAQzEp9F,SAA0B,GAAIm7F,EAAqBp6F,CAAAA,GAAzB,EAjkJ3B8\/E,EAikJ2B,CAAkC,CAC1D1+F,MAAO,CAAE5vB,OAAoD,EAApDA,CAAQZ,IAAK6uB,CAAAA,GAAL,CAAS7uB,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY6P,EAAQ\/O,CAAAA,MAApB,CAAT,CAAsC,EAAtC,CAAV,CADmD,CAE1DuiD,WAAYxzC,EAAQ\/O,CAAAA,MAFsC,CAG1D8qH,YAAc9nG,EAAD8nG,EAAY,CACvB,MAAM,CAAE,WAAA+f,EAAF,CAAc,SAAAC,EAAd,CAAwB,QAAA\/nH,EAAxB,CAAA,CAAoChU,EAAA,CAAQiU,EAAR,CAC1C,OAAuB,GAAIylH,EAAqBp6F,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC1D,eAAgBrrB,EAAhB,GAA2BqnH,EAD+B,CAE1DhlH,UAAW,wBAF+C,CAG1DmL,SAAU,CAHgD,CAI1Di7G,aAAc,EAAAA,EAAM,CAClBhB,EAAA,CAAcI,EAAd,CACAP,GAAA,CAAoBtnH,EAApB,CAFkB,CAJsC,CAQ1D0oH,qBAAuB9nI,EAAD8nI,EAAO,CACvBZ,EAAA,EAAJ,GACElnI,EAAE0vC,CAAAA,eAAF,EACA;AAAA1vC,EAAE80B,CAAAA,cAAF,EAFF,CAD2B,CAR6B,CAc1D4U,SAAUvqB,EAdgD,CAArC,CAepBC,EAfoB,CAFA,CAHiC,CAAlC,CAR+C,CAArC,CAlD9B,CAHiD,CAAtC,CA1P0D,CAD7D,CAzOxB,CA+jBI2sC,GAAuB\/xD,EAAA,CAAQ,GAAR,CA\/jB3B,CAmnBI+tI,GAAkBr\/F,EAAA,CAASs\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\/B,CAChB,OAAuB,GAAIgL,EAAqB\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\/9F,CAAAA,GAAzB,EAA8BoF,EAA9B,CAA0C,CAC\/DC,WAAAA,CAD+D,CAE\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\/C,CAAAA,MAA\/B,CACf,OAAuB,GAAImiF,EAAqB\/9F,CAAAA,GAAzB,EAA8BsB,EAA9B,CAA2C,CAChEH,QAAS5qC,CAAA,CAAE,iBAAF,CADuD,CAEhEygB,UAAW,WAFqD,CAGhEwqB,QAASoa,CAHuD,CAIhEna,gBAAiByrF,EAJ+C,CAKhEjuF,SAA0B,GAAI8+F,EAAqB\/9F,CAAAA,GAAzB,EAA8B8C,EAA9B;AAA0C,CAClE\/oC,KAAM6hD,CAAA,CAAS,aAAT,CAAyB,SADmC,CAA1C,CALsC,CAA3C,CAXS,CAAf,CAxgCnB,CA6hCIikF,GAAe5hG,EAAA,CAAS,EAAA,EAAM,CAChC,MAAMpU,EAAMF,EAAA,EAAZ,CACMsuC,EAAU5V,EAAA,CAAoB,QAApB,CADhB,CAEMgwD,EAAiBa,EAAer0F,CAAAA,OAAQwI,CAAAA,WAAvB,CAAoCsb,EAAD,EAAY,CACpE9Y,CAAIy4B,CAAAA,mBAAoB13C,CAAAA,OAAxB,CAAiC5W,EAAD,EAAQ,CACtCA,EAAGsmC,CAAAA,MAAH,CAAU,CAAEtoC,KAAM2wC,EAAR,CAAgBqZ,OAAQrZ,EAAxB,CAAV,CADsC,CAAxC,CAGA9Y,EAAIo6B,CAAAA,OAAJ,EAJoE,CAA\/C,CAKpB,EALoB,CAFvB,CAQM67E,GAAmB5sB,EAAer0F,CAAAA,OAAQwI,CAAAA,WAAvB,CAAoC1F,EAAD,EAAa,CACvEkI,CAAIy4B,CAAAA,mBAAoB13C,CAAAA,OAAxB,CAAiC5W,EAAD,EAAQ,CACtCA,EAAGsmC,CAAAA,MAAH,CAAU,CAAE3Y,QAAAA,EAAF,CAAV,CADsC,CAAxC,CAGAkI,EAAIo6B,CAAAA,OAAJ,EAJuE,CAAhD,CAKtB,EALsB,CAOzB,OAAuB,GAAI85E,EAAqB\/9F,CAAAA,GAAzB,EAA8ByC,EAA9B,CAA0C,CAC\/DM,YAAa,KADkD,CAE\/DniB,MAHYq3C,CAAA,CAAQ,CAAR,CAAWn8D,CAAAA,KAAM8\/C,CAAAA,MAAjBh7B,CAA0Bq3C,CAAA,CAAQ,CAAR,CAAWn8D,CAAAA,KAAMkgD,CAAAA,MAA3Cp7B,CAAoDq3C,CAAA,CAAQ,CAAR,CAAWn8D,CAAAA,KAAM9J,CAAAA,IAClB,CAG\/D2vB,QAASs2C,CAAA,CAAQ,CAAR,CAAWn8D,CAAAA,KAAM6lB,CAAAA,OAHqC,CAI\/DshB,WAAY68F,EAJmD,CAK\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\/C,CAWGwZ,GAAN,CAAA,IAAA,CAAA\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\/H,EAA1C,CACA\/B,GAAwBh+H,CAAAA,GAAxB,CAA4B,WAA5B,CAAyCigI,EAAzC,CACAjC,GAAwBh+H,CAAAA,GAAxB,CAA4B,WAA5B,CAAyCogI,EAAzC,CACApC,GAAwBh+H,CAAAA,GAAxB,CAA4B,OAA5B,CAAqCsgI,EAArC,CACAtC,GAAwBh+H,CAAAA,GAAxB,CAA4B,SAA5B,CAAuCw\/H,EAAvC,CACA;IAAIgB,GAA4B3tH,CAAD2tH,EAAU,CACvC,IAAInmH,CACJ,OAAuDjkB,CAAjB,IAA9B,GAACikB,CAAD,CAAOkoC,EAAA,CAAa1vC,CAAb,CAAP,EAAqCwH,CAArC,CAA2C,EAAIjkB,EAAAA,MAAhD,CAAuDkuB,EAAvD,CAFgC,CAAzC,CAIIm8G,GAAiC1oE,CAAD0oE,EAAa,CAC\/C,MAAMx9E,EAAQ8U,CAAQzhE,CAAAA,GAAR,CAAaxC,EAAD,EAAQA,EAAG8H,CAAAA,KAAMiX,CAAAA,IAA7B,CAAd,CACM6tH,EAAc,IAAI5lI,GAAJ,CAAyB,CAAjB,CAAAi9D,CAAQtmE,CAAAA,MAAR,CAAqB+uI,EAAA,CAAyBv9E,CAAA,CAAM,CAAN,CAAzB,CAArB,CAA0D,EAAlE,CACpB,KAAK,IAAIzxD,GAAK,CAAd,CAAiBA,EAAjB,CAAsByxD,CAAMxxD,CAAAA,MAA5B,EAAyD,CAAzD,CAAsCivI,CAAYruI,CAAAA,IAAlD,CAA4Db,EAAA,EAA5D,CAAkE,CAChE,MAAMmvI,GAAmBH,EAAA,CAAyBv9E,CAAA,CAAMzxD,EAAN,CAAzB,CACzBkvI,EAAYh2H,CAAAA,OAAZ,CAAqBzB,EAAD,EAAa,CAC1B03H,EAAiB\/\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\/mQnCroD,CAAAA,KAHf,CAknQkDqoD,CA\/mQpBhzG,CAAAA,KAH9B,CAGsC,CAHtC,CAknQ4Cc,EA\/mQF,CAAQ,CAAR,CAH1C,CAGuD,CAHvD,CAG2D,EAH3D,CAknQE,KAAM,CAACe,EAAD,CAAKC,EAAL,CAAA,CA7mQD,CAACD,EAAD,CAAKC,EAAL,CA8mQLmyB,GAAItE,CAAAA,KAAM6P,CAAAA,SAAV,CAAuB,cAAa39B,EAAb,kBAAiCC,EAAjC,KAJvB,CAH4B,CAA9B;AAQG,CAACkxG,CAAD,CARH,CASA,IAAI,CAAC56E,EAAL,CACE,MAAO,KACT,OAAMs3G,GAAUR,EAAA,CAA8B1oE,CAA9B,CAChB,OAAuB,GAAI6oE,EAAqB9gG,CAAAA,GAAzB,EAA8BkjE,EAA9B,CAA6C,CAClEE,SAAU,CAAA,CADwD,CAElEnkE,SAA2B,CAA3BA,CAAUkiG,EAAQxvI,CAAAA,MAAlBstC,EAAgD,GAAI6hG,EAAqB9gG,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACnF57B,IAAK88H,EAD8E,CAEnFlqH,UAAW,2BAFwE,CAGnFoK,MAAO,CACL+7G,WAAY\/4B,CAAA,CAAS,QAAT,CAAoB,SAD3B,CAELniF,cAAemiF,CAAA,CAAS,MAAT,CAAkB,KAF5B,CAH4E,CAOnFnlE,SAAUkiG,EAAQ3qI,CAAAA,GAAR,CAAY,CAAC4qI,EAAD,CAAShwH,EAAT,CAAA,EAAiC,GAAI0vH,EAAqBlgG,CAAAA,IAAzB,EAA+BqyE,EAAQhyE,CAAAA,QAAvC,CAAiD,CACtGhC,SAAU,CACQ,GAAI6hG,EAAqB9gG,CAAAA,GAAzB,EAA8BohG,EAA9B,CAAsC,EAAtC,CADR,CAERhwH,EAFQ,CAEF+vH,EAAQxvI,CAAAA,MAFN,CAEe,CAFf,EAEoC,GAAImvI,EAAqB9gG,CAAAA,GAAzB,EAA8B+gG,EAAOvxB,CAAAA,SAArC,CAAgD,CAC1FC,YAAa,UAD6E,CAAhD,CAFpC,CAD4F,CAAjD,CAOpDr+F,EAPoD,CAA7C,CAPyE,CAArC,CAFkB,CAA7C,CAzBmC,CA6C3C,CAzEjB,CA4EIiwH,GAAUl7E,EAAA,CAAQ52D,EAAA,CAAQ,EAAR,CAAR,CA5Ed,CA6EI+xI,GAAuB\/xI,EAAA,CAAQ,GAAR,CA7E3B,CA8EIgyI,GAASlpI,MAAOooC,CAAAA,IA9EpB,CA+EI+gG,GAAcvjG,EAAA,CAASwjG,QAAqB,CAAC,CAC\/C,SAAAxiG,CAD+C,CAE\/C,aAAAyiG,CAF+C,CAAD,CAG7C,CAAA,IACGnnH,CADH,CACQkI,EADR,CACYC,EADZ,CACgB+1C,EADhB,CACoBgxB,EADpB,CACyBC,EADzB,CAC6BC,EAD7B,CACiCC,EADjC,CACqC9e,EADrC,CACyC+e,EADzC,CAC6CC,EAD7C;AACiDC,EADjD,CACqDC,EADrD,CACyDC,EADzD,CAC6DC,EAD7D,CACiEC,EADjE,CACqEw3C,EACtE,OAAM93G,GAAMF,EAAA,EAAZ,CACM,CAAE,SAAAuI,EAAF,CAAA,CAAemvG,EAAQt8G,CAAAA,UAAR,CAAmBoe,EAAnB,CADrB,CAEM5sC,GAAI27B,EAAS37B,CAAAA,CAFnB,CAGMqrI,GAAWP,EAAQh8G,CAAAA,MAAR,CAAe,IAAf,CAHjB,CAIMw8G,GAAoBp6H,EAADo6H,EAAQ,CAC\/Bp6H,EAAA,EACAoiB,GAAIk7B,CAAAA,UAAJ,CAAe,QAAf,CAF+B,CAJjC,CAQM+8E,GAAgBT,EAAQ\/7G,CAAAA,OAAR,CAAgB,EAAA,EAC7BlB,EAAA,EADa,CAEnB,EAFmB,CAGtB,OAAuB,GAAIk9G,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOC,CAAAA,WAAtC,CAAmD,CACxE78F,aAAeD,EAADC,EAAU,CAClBD,EAAJ,EAAY,CAAC7a,EAAIotD,CAAAA,IAAJ,CAAS,oBAAT,CAAb,CACEptD,EAAIk7B,CAAAA,UAAJ,CAAe,QAAf,CAAyBl6B,CAAAA,YAAak6B,CAAAA,UAAtC,CAAiD,aAAjD,CADF,CAEW,CAACrgB,EAFZ,EAEoB7a,EAAIotD,CAAAA,IAAJ,CAAS,oBAAT,CAFpB,EAGEptD,EAAIgB,CAAAA,YAAak6B,CAAAA,UAAjB,CAA4B,MAA5B,CAJoB,CADgD,CAQxE9lB,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8BuhG,EAAOQ,CAAAA,kBAArC,CAAyD,CACvE7\/E,SAAUr4B,EAAIyV,CAAAA,YAAd4iB,EAAuE,CAAvEA,GAA8B7oD,MAAO6B,CAAAA,IAAP,CAAY2uB,EAAIyV,CAAAA,YAAhB,CAA8B3tC,CAAAA,MADW,CAEvEstC,SAAAA,CAFuE,CAAzD,CADR;AAKQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8BuhG,EAAOS,CAAAA,kBAArC,CAAyD,CACvEhrH,UAAW,yBAD4D,CAEvE5S,IAAKw9H,EAFkE,CAGvEK,gBAAiB,EAAAA,EAAMp4G,EAAIk7B,CAAAA,UAAJ,CAAe,QAAf,CAHgD,CAIvExiB,kBAAmBm\/F,CAAa17G,CAAAA,OAJuC,CAKvE8a,QAAS,CAAA,CAL8D,CAMvE3e,SAAU,CAAC,CAN4D,CAOvE8c,SAA0B,GAAIqiG,EAAqB1gG,CAAAA,IAAzB,EAA+B,KAA\/B,CAAsC,CAC9D3B,SAAU,CACmD,CADnD,EACuB,IAA9B,GAAC1kB,CAAD,CAAOsP,EAAI4V,CAAAA,cAAX,EAAqC,IAAK,EAA1C,CAA8CllB,CAAIhoB,CAAAA,IAD3C,GACwD,CAACs3B,EAAI8N,CAAAA,QAD7D,GAC4G,IAAlC,GAAClV,EAAD,CAAMoH,EAAIy4B,CAAAA,mBAAV,EAAyC,IAAK,EAA9C,CAAkD7\/B,EAAG4wB,CAAAA,IAAH,CAASr\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\/D,EAAIy4B,CAAAA,mBAAX,EAA0C,IAAK,EAA\/C,CAAmDmnC,EAAIp2C,CAAAA,IAAJ,CAAUr\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\/\/D,EAAI4V,CAAAA,cAAV,EAAoC,IAAK,EAAzC,CAA6CmqD,EAAGr3F,CAAAA,IAxMzC,GAwMwD,CAACs3B,EAAI8N,CAAAA,QAxM7D,EAwMyF,GAAI2pG,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOW,CAAAA,eAAtC,CAAuD,CACtJlrH,UAAW,cAD2I,CAEtJssB,QAAS,EAAAA,EAAMu+F,EAAA,CAAiB,EAAA,EAAMh4G,EAAI2V,CAAAA,KAAJ,CAAU,IAAK,EAAf,CAAkB,CAAA,CAAlB,CAAvB,CAFuI,CAGtJP,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8B8C,EAA9B;AAA0C,CACxD9rB,UAAW,cAD6C,CAExDjd,KAAM,eAFkD,CAA1C,CADR,CAKRxD,EAAA,CAAE,0BAAF,CALQ,CAMQ,GAAI+qI,EAAqBthG,CAAAA,GAAzB,EAA8BkuE,EAA9B,CAAgD,CAC9DC,SAAW,GAAEtZ,EAAF,WADmD,CAAhD,CANR,CAH4I,CAAvD,CAxMzF,CAsNiD,CAtNjD,EAsNsB,IAA7B,GAAC\/pB,EAAD,CAAMjhD,EAAI4V,CAAAA,cAAV,EAAoC,IAAK,EAAzC,CAA6CqrC,EAAGv4E,CAAAA,IAtNzC,GAsNsE,GAAI+uI,EAAqB1gG,CAAAA,IAAzB,EAA+B0gG,EAAqBrgG,CAAAA,QAApD,CAA8D,CAC1IhC,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8BuhG,EAAOa,CAAAA,oBAArC,CAA2D,CACzEprH,UAAW,gBAD8D,CAA3D,CADR,CAIQ,GAAIsqH,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOW,CAAAA,eAAtC,CAAuD,CACrElrH,UAAW,cAD0D,CAErEssB,QAAS,EAAAA,EAAMu+F,EAAA,CACb,EAAA,EAAM,CAAA,IACA3qD,EADA,CACKuiD,EACT,OAAOvnG,GAASuwG,CAAAA,aAAT,CAAuB54G,EAAIoQ,CAAAA,aAA3B,CAA0C,CAC\/C\/oC,EAAG24B,EAAIi1D,CAAAA,eAAgBzqF,CAAAA,IAAvBnD,CAA8B24B,EAAI7C,CAAAA,QAASmO,CAAAA,MAAO7iC,CAAAA,KAApB,CAA0B,CAA1B,CAA9BpB,CA5rwBHwxI,CA2rwBkD,CAE\/CvxI,EAAG04B,EAAIi1D,CAAAA,eAAgBxqF,CAAAA,IAAvBnD,CAA8B04B,EAAI7C,CAAAA,QAASmO,CAAAA,MAAO7iC,CAAAA,KAApB,CAA0B,CAA1B,CAA9BnB;AA7rwBHuxI,CA2rwBkD,CAG\/CjxI,OAAuC,IAA\/B,GAACylF,EAAD,CAAOrtD,EAAIi1D,CAAAA,eAAX,EAAsC,IAAK,EAA3C,CAA+C5H,EAAIzlF,CAAAA,KAA3DA,EAAoE,EAHrB,CAI\/CD,QAAwC,IAA\/B,GAACioI,EAAD,CAAO5vG,EAAIi1D,CAAAA,eAAX,EAAsC,IAAK,EAA3C,CAA+C26C,EAAIjoI,CAAAA,MAA5DA,EAAsE,EAJvB,CAK\/C0jC,KAAMrL,EAAI7C,CAAAA,QAASmO,CAAAA,MAAOD,CAAAA,IALqB,CAA1C,CAFH,CADO,CAFsD,CAcrE+J,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CACxD9rB,UAAW,cAD6C,CAExDjd,KAAM,aAFkD,CAA1C,CADR,CAKRxD,EAAA,CAAE,mBAAF,CALQ,CAMQ,GAAI+qI,EAAqBthG,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CACnDhpB,UAAW,oBADwC,CAEnDioB,SAA0B,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8B,MAA9B,CAAsC,CAC9DhpB,UAAW,mBADmD,CAAtC,CAFyB,CAArC,CANR,CAd2D,CAAvD,CAJR,CADgI,CAA9D,CAtNtE,CAyPQ,GAAIsqH,EAAqBthG,CAAAA,GAAzB,EAA8BuhG,EAAOa,CAAAA,oBAArC,CAA2D,CACzEprH,UAAW,gBAD8D,CAA3D,CAzPR,CA4PQ,GAAIsqH,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOW,CAAAA,eAAtC,CAAuD,CACrElrH,UAAW,cAD0D,CAErEssB,QAAS,EAAAA,EAAMu+F,EAAA,CAAiBh4G,EAAIvF,CAAAA,GAAIq+G,CAAAA,SAAzB,CAFsD;AAGrE1jG,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CACxD9rB,UAAW,cAD6C,CAExDjd,KAAM,eAFkD,CAA1C,CADR,CAKRxD,EAAA,CAAE,uBAAF,CALQ,CAMQ,GAAI+qI,EAAqBthG,CAAAA,GAAzB,EAA8BkuE,EAA9B,CAAgD,CAC9DhgG,OAAQ,sBADsD,CAAhD,CANR,CAH2D,CAAvD,CA5PR,CA0QiD,CA1QjD,EA0QsB,IAA7B,GAAC27E,EAAD,CAAMhgE,EAAI4V,CAAAA,cAAV,EAAoC,IAAK,EAAzC,CAA6CoqD,EAAGt3F,CAAAA,IA1QzC,GA0QsE,GAAI+uI,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOW,CAAAA,eAAtC,CAAuD,CACnIlrH,UAAW,cADwH,CAEnIssB,QAAS,EAAAA,EAAMu+F,EAAA,CAAiBh4G,EAAIvF,CAAAA,GAAIs+G,CAAAA,WAAzB,CAFoH,CAGnI3jG,SAAU,CACQ,GAAIqiG,EAAqBthG,CAAAA,GAAzB,EAA8B8C,EAA9B,CAA0C,CACxD9rB,UAAW,cAD6C,CAExDjd,KAAM,eAFkD,CAA1C,CADR,CAKRxD,EAAA,CAAE,yBAAF,CALQ,CAHyH,CAAvD,CA1QtE,CAqRR,CAACszB,EAAI8N,CAAAA,QArRG,EAqRkE,CArRlE,EAqRuC,IAA7B,GAACmyD,EAAD,CAAMjgE,EAAI4V,CAAAA,cAAV,EAAoC,IAAK,EAAzC,CAA6CqqD,EAAGv3F,CAAAA,IArR1D,IAqR0G,IAAlC,GAACw3F,EAAD,CAAMlgE,EAAIy4B,CAAAA,mBAAV,EAAyC,IAAK,EAA9C;AAAkDynC,EAAG12C,CAAAA,IAAH,CAASr\/C,EAAD,EAAQ,CAACA,EAAG8H,CAAAA,KAAM0mD,CAAAA,QAA1B,CArR1H,GAqRkL,GAAI8+E,EAAqB1gG,CAAAA,IAAzB,EAA+B2gG,EAAOW,CAAAA,eAAtC,CAAuD,CAC\/OlrH,UAAW,cADoO,CAE\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\/C,CAA+D,CAA\/D,CAAmE,EAAnE,CADe,CAEtBA,KAAMumB,EAAY01C,CAAAA,GAAZ,CAAgBkmB,EAAMniF,CAAAA,IAAtB,CAA4B,CAA5B,CAFgB,CAAxB,CAKF,OAAO,CAACmyI,EAAD,CAlB+B,CAAjC,CADiC,CAsB1CV,QAASA,GAAuB,CAACn1F,EAAD,CAAO,CACrC,MAAOzkB,GAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACtC,IAAMm5G,GAAQxrI,KAAM4F,CAAAA,IAAN,CAAWkxC,EAAK00F,CAAAA,KAAhB,CACd;MAAmB,EAAnB,CAAIA,EAAM5xI,CAAAA,MAAV,EAEEgzI,EACO,CAFD1hD,EAEC,CAFQ,KAAMqgD,GAAA,CAAsBC,EAAtB,CAEd,CAAAtgD,EAAOzsF,CAAAA,GAAP,CAAW,CAACk+E,EAAD,CAAQhjF,EAAR,CAAA,EAAe,CAE\/B,OAAQgjF,EAAM3hE,CAAAA,IAAd,EACE,KAAK,OAAL,CACE,IAAA0G,GAAeo9G,EAAWp9G,CAAAA,YAC1B,MACF,MAAK,OAAL,CACEA,EAAA,CAAey3G,EAAWz3G,CAAAA,YAC1B,MACF,MAAK,KAAL,CACEA,EAAA,CAAew+G,EAASx+G,CAAAA,YACxB,MACF,SACE,MAAO,KAXX,CAaMirH,EAAAA,CAAWvtI,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBqiB,EAAnB,CAAd,CAAgD,CAC\/DZ,GAxvbHS,EAAA,EAuvbkE,CAE\/Dw7D,QAASJ,EAAM77D,CAAAA,EAFgD,CAG\/D8I,QAAS,CAHsD,CAAhD,CAKb+yD,GAAMniF,CAAAA,IAAV,EACE8G,MAAOiD,CAAAA,MAAP,CAAcooI,EAAd,CAAwB,CACtBpyI,MAAO,CAACA,EAAA,CAAM,CAAN,CAAD,CAAYoiF,EAAMniF,CAAAA,IAAN,CAAW,CAAX,CAAZ,CAA4B,CAA5B,CAAqC,EAArC,CAAgCb,EAAhC,CAAyCY,EAAA,CAAM,CAAN,CAAzC,CAAoDoiF,EAAMniF,CAAAA,IAAN,CAAW,CAAX,CAApD,CAAoE,CAApE,CAA6E,EAA7E,CAAwEb,EAAxE,CADe,CAEtBa,KAAMumB,EAAY01C,CAAAA,GAAZ,CAAgBkmB,EAAMniF,CAAAA,IAAtB,CAA4B,CAA5B,CAFgB,CAAxB,CAKF,OAAOmyI,GA1BwB,CAA1B,CAHT,EAgCO,IAlC+B,CAAjC,CAD8B,CAsCvCN,QAASA,GAA0B,CAACv1F,EAAD,CAAO,CACxC,MAAOzkB,GAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACtC,GAAIykB,EAAKsU,CAAAA,KAAMriC,CAAAA,QAAX,CAAoB,YAApB,CAAJ,GAA0CuU,EAA1C,EAAsDmvB,EAAtD,EACE,MAAO,KAET,OAAMX;AAAU,KAAMX,GAAA,CAAgBrU,EAAhB,CAAsB,WAAtB,CACtB,OAAIgV,GAAJ,CACSZ,EAAA,CAAqB2hF,EAArB,CAAoDhB,EAApD,CAAA,CAAqE\/\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\/B,CAAd,CAA4D,CAC1Dm3G,IAAK\/sE,EADqD,CAE1DvxD,MAAO,CAACA,EAAA,CAAM,CAAN,CAAD,CAAWA,EAAA,CAAM,CAAN,CAAX,CAFmD,CAA5D,CADK,CAjBT,CAwBO,IAzB+B,CAAjC,CAD+B,CA6BxC6yI,QAASA,GAA8B,CAACthF,EAAD,CAAU,CAC\/C,MAAIA,GAAQ8hF,CAAAA,UAAR,CAAmB,YAAnB,CAAJ,CACS,CACLxuI,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmB44H,EAAUv2G,CAAAA,YAA7B,CAAd,CAA0D,CACxDkrC,KAAMd,EADkD,CAExDvxD,MAAO,CAACA,EAAA,CAAM,CAAN,CAAD,CAAWA,EAAA,CAAM,CAAN,CAAX,CAFiD,CAA1D,CADK,CADT,CAQO,IATwC;AAWjD0yI,QAASA,GAAmC,CAACnhF,EAAD,CAAU,CACpD,MAAOz5B,GAAA,CAAQ,IAAR,CAAc,IAAd,CAAoB,SAAU,EAAG,CACtC,GAAI,cAAexsB,CAAAA,IAAf,CAAoBimD,EAApB,CAAJ,EAAuD,EAAvD,GAAoCA,EAAQlyD,CAAAA,MAA5C,CAA+E,CAC7E,IAAMoyD,GAAWF,EAAQnmD,CAAAA,KAAR,CAAc,CAAd,CAAiB,CAAC,CAAlB,CACjB,IAAI8lB,EAAA,CAAUugC,EAAV,CAAJ,CACE,MAAO,CACL5sD,EAAA,CAAcC,EAAA,CAAe,EAAf,CAAmBw7H,EAAkBn5G,CAAAA,YAArC,CAAd,CAAkE,CAChEnnB,MAAO,CAACA,EAAA,CAAM,CAAN,CAAD,CAAWA,EAAA,CAAM,CAAN,CAAX,CADyD,CAEhEC,KAAM,CAAC,GAAD,CAAM,CAAN,CAF0D,CAGhEu6F,OAAQ\/oC,EAHwD,CAIhE\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\/BhC,CA8\/BIwlI,GAAU,EAAAA,EAAM,CAClB,MAAM9hI,EAAMopG,EAAQnoF,CAAAA,MAAR,CAAe,IAAf,CAAZ,CACMwE,EAAMF,EAAA,EADZ,CAEMkW,EAAa2tE,EAAQloF,CAAAA,OAAR,CACjB,EAAA,EAAO,EACL2mF,WAAAA,EADK,CAELH,eAAAA,EAFK,CAGLC,WAAAA,EAHK,EADU,CAMjB,EANiB,CAQnB,OAAuB,GAAIi6B,EAAqBhmG,CAAAA,GAAzB,EAA8BwhG,EAA9B;AAA2C,CAChEE,aAAct9H,CADkD,CAEhE66B,SAA0B,GAAI+mG,EAAqBhmG,CAAAA,GAAzB,EAA8B,KAA9B,CAAqC,CAC7D57B,IAAAA,CAD6D,CAE7D4S,UAAW,qCAFkD,CAG7D,aAAc6S,CAAIoN,CAAAA,IAH2C,CAI7DgI,SAA0B,GAAI+mG,EAAqBhmG,CAAAA,GAAzB,EAA8BotE,EAA9B,CAAyC,CACjEvtE,WAAAA,CADiE,CAEjEZ,SAA0B,GAAI+mG,EAAqBhmG,CAAAA,GAAzB,EAA8B+yE,EAA9B,CAAqC,EAArC,CAFuC,CAAzC,CAJmC,CAArC,CAFsC,CAA3C,CAXL,CA9\/BpB,CAshCIozB,GAAY5rH,CAAD4rH,EAAS,CAAA,IACR,CACZ,UAAA7vG,CADY,CAEZ,SAAAqB,CAFY,CAGZ,MAAAH,EAHY,CAAA,CAALjd,CAIDiX,EAAAA,CAAOsO,EAAA,CAJNvlB,CAIM,CAAc,CAC3B,WAD2B,CAE3B,UAF2B,CAG3B,OAH2B,CAAd,CAKf,OAAM4P,GAASg6B,EAAA,EAAf,CACMvtB,GAAU2sB,EAAA,EADhB,CAEM1sB,GAAS4tB,EAAA,EAFf,CAGM2hF,GAAazuG,CAAA,CAAW,IAAX,CAAkBktB,EAAA,EAHrC,CAIMwhF,GAAkB74B,EAAQnmF,CAAAA,WAAR,CACtB,CAACwC,EAAD,CAAM45B,EAAN,CAAA,EAAe,CACA,IAAb,EAAAntB,CAAA,CAAoB,IAAK,EAAzB,CAA6BA,CAAA,CAAUzM,EAAV,CAAe45B,EAAf,CADhB,CADO,CAItB,CAACjsB,EAAD,CAJsB,CAMxB,OAAuB,GAAIwuG,EAAqBhmG,CAAAA,GAAzB,EAA8BwsE,EAA9B,CAA2Cr1G,EAAA,CAAcC,EAAA,CAAe,CAC7FqgC,OAAQs+C,EADqF,CAE7Fr+C,MAAOuuG,EAFsF,CAG7F97G,OAAAA,EAH6F,CAI7FyM,QAAAA,EAJ6F,CAK7FC,OAAAA,EAL6F,CAM7Fc,SAAAA,CAN6F,CAO7Fb,gBAAiBsvG,EAP4E,CAQ7F9vG,UAAW+vG,EARkF,CAS7F7uG,MAAAA,EAT6F,CAAf;AAU7EhG,CAV6E,CAAd,CAUxD,CACRyN,SAA0B,GAAI+mG,EAAqBhmG,CAAAA,GAAzB,EAA8BkmG,EAA9B,CAAuC,EAAvC,CADlB,CAVwD,CAA3C,CApBD,CAthCxB,CAwjCI95E,GAAOA,QAAa,CAAC7xC,CAAD,CAAM,CAAA,IACd,CAAE,UAAA6zF,CAAF,CAAa,SAAAl8E,CAAb,CAAA,CAAL3X,CAAmCiX,EAAAA,CAAOsO,EAAA,CAA1CvlB,CAA0C,CAAc,CAAC,WAAD,CAAc,UAAd,CAAd,CAQnD,OAAM+rH,GAAe,CACnBl4B,UARkBZ,EAAQloF,CAAAA,OAARihH,CAAgB,EAAA,EAC3BltI,MAAOm\/D,CAAAA,WAAP,CACLn\/D,MAAOie,CAAAA,OAAP,CAAe82F,CAAf,CAA0B53G,CAAAA,GAA1B,CAA8B,CAAC,CAACwF,EAAD,CAAMwqI,EAAN,CAAD,CAAA,EACrB,CAACxqI,EAAD,CAAMwxG,EAAQ7uE,CAAAA,IAAR,CAAa6nG,EAAb,CAAN,CADT,CADK,CADWD,CAMjB,EANiBA,CAOC,CAEnBr0G,SAAAA,CAFmB,CAIrB,OAAuB,GAAI8zG,EAAqBhmG,CAAAA,GAAzB,EAA8BmD,EAAciK,CAAAA,QAA5C,CAAsD,CAC3En0C,MAAOqtI,EADoE,CAE3ErnG,SAA0B,GAAI+mG,EAAqBhmG,CAAAA,GAAzB,EAA8BmmG,EAA9B,CAAwC\/uI,EAAA,CAAe,EAAf,CAAmBo6B,CAAnB,CAAxC,CAFiD,CAAtD,CAbK,CAjn1BgC;","sources":["frontend\/tldraw-logseq.js"],"sourcesContent":["shadow$provide[585] = function(global,require,module,exports) {\n\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a3, b3) => {\n  for (var prop in b3 || (b3 = {}))\n    if (__hasOwnProp.call(b3, prop))\n      __defNormalProp(a3, prop, b3[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b3)) {\n      if (__propIsEnum.call(b3, prop))\n        __defNormalProp(a3, prop, b3[prop]);\n    }\n  return a3;\n};\nvar __spreadProps = (a3, b3) => __defProps(a3, __getOwnPropDescs(b3));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)\n    if (decorator = decorators[i2])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\/\/ ..\/..\/node_modules\/rbush\/rbush.min.js\nvar require_rbush_min = __commonJS({\n  \"..\/..\/node_modules\/rbush\/rbush.min.js\"(exports, module2) {\n    !function(t, i2) {\n      \"object\" == typeof exports && \"undefined\" != typeof module2 ? module2.exports = i2() : \"function\" == typeof define && define.amd ? define(i2) : (t = t || self).RBush = i2();\n    }(exports, function() {\n      \"use strict\";\n      function t(t2, r3, e2, a4, h3) {\n        !function t3(n3, r4, e3, a5, h4) {\n          for (; a5 > e3; ) {\n            if (a5 - e3 > 600) {\n              var o3 = a5 - e3 + 1, s3 = r4 - e3 + 1, l4 = Math.log(o3), f3 = 0.5 * Math.exp(2 * l4 \/ 3), u3 = 0.5 * Math.sqrt(l4 * f3 * (o3 - f3) \/ o3) * (s3 - o3 \/ 2 < 0 ? -1 : 1), m3 = Math.max(e3, Math.floor(r4 - s3 * f3 \/ o3 + u3)), c3 = Math.min(a5, Math.floor(r4 + (o3 - s3) * f3 \/ o3 + u3));\n              t3(n3, r4, m3, c3, h4);\n            }\n            var p3 = n3[r4], d3 = e3, x2 = a5;\n            for (i2(n3, e3, r4), h4(n3[a5], p3) > 0 && i2(n3, e3, a5); d3 < x2; ) {\n              for (i2(n3, d3, x2), d3++, x2--; h4(n3[d3], p3) < 0; )\n                d3++;\n              for (; h4(n3[x2], p3) > 0; )\n                x2--;\n            }\n            0 === h4(n3[e3], p3) ? i2(n3, e3, x2) : i2(n3, ++x2, a5), x2 <= r4 && (e3 = x2 + 1), r4 <= x2 && (a5 = x2 - 1);\n          }\n        }(t2, r3, e2 || 0, a4 || t2.length - 1, h3 || n2);\n      }\n      function i2(t2, i3, n3) {\n        var r3 = t2[i3];\n        t2[i3] = t2[n3], t2[n3] = r3;\n      }\n      function n2(t2, i3) {\n        return t2 < i3 ? -1 : t2 > i3 ? 1 : 0;\n      }\n      var r2 = function(t2) {\n        void 0 === t2 && (t2 = 9), this._maxEntries = Math.max(4, t2), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();\n      };\n      function e(t2, i3, n3) {\n        if (!n3)\n          return i3.indexOf(t2);\n        for (var r3 = 0; r3 < i3.length; r3++)\n          if (n3(t2, i3[r3]))\n            return r3;\n        return -1;\n      }\n      function a3(t2, i3) {\n        h2(t2, 0, t2.children.length, i3, t2);\n      }\n      function h2(t2, i3, n3, r3, e2) {\n        e2 || (e2 = p2(null)), e2.minX = 1 \/ 0, e2.minY = 1 \/ 0, e2.maxX = -1 \/ 0, e2.maxY = -1 \/ 0;\n        for (var a4 = i3; a4 < n3; a4++) {\n          var h3 = t2.children[a4];\n          o2(e2, t2.leaf ? r3(h3) : h3);\n        }\n        return e2;\n      }\n      function o2(t2, i3) {\n        return t2.minX = Math.min(t2.minX, i3.minX), t2.minY = Math.min(t2.minY, i3.minY), t2.maxX = Math.max(t2.maxX, i3.maxX), t2.maxY = Math.max(t2.maxY, i3.maxY), t2;\n      }\n      function s2(t2, i3) {\n        return t2.minX - i3.minX;\n      }\n      function l3(t2, i3) {\n        return t2.minY - i3.minY;\n      }\n      function f2(t2) {\n        return (t2.maxX - t2.minX) * (t2.maxY - t2.minY);\n      }\n      function u2(t2) {\n        return t2.maxX - t2.minX + (t2.maxY - t2.minY);\n      }\n      function m2(t2, i3) {\n        return t2.minX <= i3.minX && t2.minY <= i3.minY && i3.maxX <= t2.maxX && i3.maxY <= t2.maxY;\n      }\n      function c2(t2, i3) {\n        return i3.minX <= t2.maxX && i3.minY <= t2.maxY && i3.maxX >= t2.minX && i3.maxY >= t2.minY;\n      }\n      function p2(t2) {\n        return { children: t2, height: 1, leaf: true, minX: 1 \/ 0, minY: 1 \/ 0, maxX: -1 \/ 0, maxY: -1 \/ 0 };\n      }\n      function d2(i3, n3, r3, e2, a4) {\n        for (var h3 = [n3, r3]; h3.length; )\n          if (!((r3 = h3.pop()) - (n3 = h3.pop()) <= e2)) {\n            var o3 = n3 + Math.ceil((r3 - n3) \/ e2 \/ 2) * e2;\n            t(i3, o3, n3, r3, a4), h3.push(n3, o3, o3, r3);\n          }\n      }\n      return r2.prototype.all = function() {\n        return this._all(this.data, []);\n      }, r2.prototype.search = function(t2) {\n        var i3 = this.data, n3 = [];\n        if (!c2(t2, i3))\n          return n3;\n        for (var r3 = this.toBBox, e2 = []; i3; ) {\n          for (var a4 = 0; a4 < i3.children.length; a4++) {\n            var h3 = i3.children[a4], o3 = i3.leaf ? r3(h3) : h3;\n            c2(t2, o3) && (i3.leaf ? n3.push(h3) : m2(t2, o3) ? this._all(h3, n3) : e2.push(h3));\n          }\n          i3 = e2.pop();\n        }\n        return n3;\n      }, r2.prototype.collides = function(t2) {\n        var i3 = this.data;\n        if (!c2(t2, i3))\n          return false;\n        for (var n3 = []; i3; ) {\n          for (var r3 = 0; r3 < i3.children.length; r3++) {\n            var e2 = i3.children[r3], a4 = i3.leaf ? this.toBBox(e2) : e2;\n            if (c2(t2, a4)) {\n              if (i3.leaf || m2(t2, a4))\n                return true;\n              n3.push(e2);\n            }\n          }\n          i3 = n3.pop();\n        }\n        return false;\n      }, r2.prototype.load = function(t2) {\n        if (!t2 || !t2.length)\n          return this;\n        if (t2.length < this._minEntries) {\n          for (var i3 = 0; i3 < t2.length; i3++)\n            this.insert(t2[i3]);\n          return this;\n        }\n        var n3 = this._build(t2.slice(), 0, t2.length - 1, 0);\n        if (this.data.children.length)\n          if (this.data.height === n3.height)\n            this._splitRoot(this.data, n3);\n          else {\n            if (this.data.height < n3.height) {\n              var r3 = this.data;\n              this.data = n3, n3 = r3;\n            }\n            this._insert(n3, this.data.height - n3.height - 1, true);\n          }\n        else\n          this.data = n3;\n        return this;\n      }, r2.prototype.insert = function(t2) {\n        return t2 && this._insert(t2, this.data.height - 1), this;\n      }, r2.prototype.clear = function() {\n        return this.data = p2([]), this;\n      }, r2.prototype.remove = function(t2, i3) {\n        if (!t2)\n          return this;\n        for (var n3, r3, a4, h3 = this.data, o3 = this.toBBox(t2), s3 = [], l4 = []; h3 || s3.length; ) {\n          if (h3 || (h3 = s3.pop(), r3 = s3[s3.length - 1], n3 = l4.pop(), a4 = true), h3.leaf) {\n            var f3 = e(t2, h3.children, i3);\n            if (-1 !== f3)\n              return h3.children.splice(f3, 1), s3.push(h3), this._condense(s3), this;\n          }\n          a4 || h3.leaf || !m2(h3, o3) ? r3 ? (n3++, h3 = r3.children[n3], a4 = false) : h3 = null : (s3.push(h3), l4.push(n3), n3 = 0, r3 = h3, h3 = h3.children[0]);\n        }\n        return this;\n      }, r2.prototype.toBBox = function(t2) {\n        return t2;\n      }, r2.prototype.compareMinX = function(t2, i3) {\n        return t2.minX - i3.minX;\n      }, r2.prototype.compareMinY = function(t2, i3) {\n        return t2.minY - i3.minY;\n      }, r2.prototype.toJSON = function() {\n        return this.data;\n      }, r2.prototype.fromJSON = function(t2) {\n        return this.data = t2, this;\n      }, r2.prototype._all = function(t2, i3) {\n        for (var n3 = []; t2; )\n          t2.leaf ? i3.push.apply(i3, t2.children) : n3.push.apply(n3, t2.children), t2 = n3.pop();\n        return i3;\n      }, r2.prototype._build = function(t2, i3, n3, r3) {\n        var e2, h3 = n3 - i3 + 1, o3 = this._maxEntries;\n        if (h3 <= o3)\n          return a3(e2 = p2(t2.slice(i3, n3 + 1)), this.toBBox), e2;\n        r3 || (r3 = Math.ceil(Math.log(h3) \/ Math.log(o3)), o3 = Math.ceil(h3 \/ Math.pow(o3, r3 - 1))), (e2 = p2([])).leaf = false, e2.height = r3;\n        var s3 = Math.ceil(h3 \/ o3), l4 = s3 * Math.ceil(Math.sqrt(o3));\n        d2(t2, i3, n3, l4, this.compareMinX);\n        for (var f3 = i3; f3 <= n3; f3 += l4) {\n          var u3 = Math.min(f3 + l4 - 1, n3);\n          d2(t2, f3, u3, s3, this.compareMinY);\n          for (var m3 = f3; m3 <= u3; m3 += s3) {\n            var c3 = Math.min(m3 + s3 - 1, u3);\n            e2.children.push(this._build(t2, m3, c3, r3 - 1));\n          }\n        }\n        return a3(e2, this.toBBox), e2;\n      }, r2.prototype._chooseSubtree = function(t2, i3, n3, r3) {\n        for (; r3.push(i3), !i3.leaf && r3.length - 1 !== n3; ) {\n          for (var e2 = 1 \/ 0, a4 = 1 \/ 0, h3 = void 0, o3 = 0; o3 < i3.children.length; o3++) {\n            var s3 = i3.children[o3], l4 = f2(s3), u3 = (m3 = t2, c3 = s3, (Math.max(c3.maxX, m3.maxX) - Math.min(c3.minX, m3.minX)) * (Math.max(c3.maxY, m3.maxY) - Math.min(c3.minY, m3.minY)) - l4);\n            u3 < a4 ? (a4 = u3, e2 = l4 < e2 ? l4 : e2, h3 = s3) : u3 === a4 && l4 < e2 && (e2 = l4, h3 = s3);\n          }\n          i3 = h3 || i3.children[0];\n        }\n        var m3, c3;\n        return i3;\n      }, r2.prototype._insert = function(t2, i3, n3) {\n        var r3 = n3 ? t2 : this.toBBox(t2), e2 = [], a4 = this._chooseSubtree(r3, this.data, i3, e2);\n        for (a4.children.push(t2), o2(a4, r3); i3 >= 0 && e2[i3].children.length > this._maxEntries; )\n          this._split(e2, i3), i3--;\n        this._adjustParentBBoxes(r3, e2, i3);\n      }, r2.prototype._split = function(t2, i3) {\n        var n3 = t2[i3], r3 = n3.children.length, e2 = this._minEntries;\n        this._chooseSplitAxis(n3, e2, r3);\n        var h3 = this._chooseSplitIndex(n3, e2, r3), o3 = p2(n3.children.splice(h3, n3.children.length - h3));\n        o3.height = n3.height, o3.leaf = n3.leaf, a3(n3, this.toBBox), a3(o3, this.toBBox), i3 ? t2[i3 - 1].children.push(o3) : this._splitRoot(n3, o3);\n      }, r2.prototype._splitRoot = function(t2, i3) {\n        this.data = p2([t2, i3]), this.data.height = t2.height + 1, this.data.leaf = false, a3(this.data, this.toBBox);\n      }, r2.prototype._chooseSplitIndex = function(t2, i3, n3) {\n        for (var r3, e2, a4, o3, s3, l4, u3, m3 = 1 \/ 0, c3 = 1 \/ 0, p3 = i3; p3 <= n3 - i3; p3++) {\n          var d3 = h2(t2, 0, p3, this.toBBox), x2 = h2(t2, p3, n3, this.toBBox), v2 = (e2 = d3, a4 = x2, o3 = void 0, s3 = void 0, l4 = void 0, u3 = void 0, o3 = Math.max(e2.minX, a4.minX), s3 = Math.max(e2.minY, a4.minY), l4 = Math.min(e2.maxX, a4.maxX), u3 = Math.min(e2.maxY, a4.maxY), Math.max(0, l4 - o3) * Math.max(0, u3 - s3)), M2 = f2(d3) + f2(x2);\n          v2 < m3 ? (m3 = v2, r3 = p3, c3 = M2 < c3 ? M2 : c3) : v2 === m3 && M2 < c3 && (c3 = M2, r3 = p3);\n        }\n        return r3 || n3 - i3;\n      }, r2.prototype._chooseSplitAxis = function(t2, i3, n3) {\n        var r3 = t2.leaf ? this.compareMinX : s2, e2 = t2.leaf ? this.compareMinY : l3;\n        this._allDistMargin(t2, i3, n3, r3) < this._allDistMargin(t2, i3, n3, e2) && t2.children.sort(r3);\n      }, r2.prototype._allDistMargin = function(t2, i3, n3, r3) {\n        t2.children.sort(r3);\n        for (var e2 = this.toBBox, a4 = h2(t2, 0, i3, e2), s3 = h2(t2, n3 - i3, n3, e2), l4 = u2(a4) + u2(s3), f3 = i3; f3 < n3 - i3; f3++) {\n          var m3 = t2.children[f3];\n          o2(a4, t2.leaf ? e2(m3) : m3), l4 += u2(a4);\n        }\n        for (var c3 = n3 - i3 - 1; c3 >= i3; c3--) {\n          var p3 = t2.children[c3];\n          o2(s3, t2.leaf ? e2(p3) : p3), l4 += u2(s3);\n        }\n        return l4;\n      }, r2.prototype._adjustParentBBoxes = function(t2, i3, n3) {\n        for (var r3 = n3; r3 >= 0; r3--)\n          o2(i3[r3], t2);\n      }, r2.prototype._condense = function(t2) {\n        for (var i3 = t2.length - 1, n3 = void 0; i3 >= 0; i3--)\n          0 === t2[i3].children.length ? i3 > 0 ? (n3 = t2[i3 - 1].children).splice(n3.indexOf(t2[i3]), 1) : this.clear() : a3(t2[i3], this.toBBox);\n      }, r2;\n    });\n  }\n});\n\n\/\/ ..\/..\/node_modules\/fast-deep-equal\/index.js\nvar require_fast_deep_equal = __commonJS({\n  \"..\/..\/node_modules\/fast-deep-equal\/index.js\"(exports, module2) {\n    \"use strict\";\n    module2.exports = function equal(a3, b3) {\n      if (a3 === b3)\n        return true;\n      if (a3 && b3 && typeof a3 == \"object\" && typeof b3 == \"object\") {\n        if (a3.constructor !== b3.constructor)\n          return false;\n        var length, i2, keys;\n        if (Array.isArray(a3)) {\n          length = a3.length;\n          if (length != b3.length)\n            return false;\n          for (i2 = length; i2-- !== 0; )\n            if (!equal(a3[i2], b3[i2]))\n              return false;\n          return true;\n        }\n        if (a3.constructor === RegExp)\n          return a3.source === b3.source && a3.flags === b3.flags;\n        if (a3.valueOf !== Object.prototype.valueOf)\n          return a3.valueOf() === b3.valueOf();\n        if (a3.toString !== Object.prototype.toString)\n          return a3.toString() === b3.toString();\n        keys = Object.keys(a3);\n        length = keys.length;\n        if (length !== Object.keys(b3).length)\n          return false;\n        for (i2 = length; i2-- !== 0; )\n          if (!Object.prototype.hasOwnProperty.call(b3, keys[i2]))\n            return false;\n        for (i2 = length; i2-- !== 0; ) {\n          var key = keys[i2];\n          if (!equal(a3[key], b3[key]))\n            return false;\n        }\n        return true;\n      }\n      return a3 !== a3 && b3 !== b3;\n    };\n  }\n});\n\n\/\/ ..\/..\/..\/..\/node_modules\/deepmerge\/dist\/cjs.js\nvar require_cjs = __commonJS({\n  \"..\/..\/..\/..\/node_modules\/deepmerge\/dist\/cjs.js\"(exports, module2) {\n    \"use strict\";\n    var isMergeableObject = function isMergeableObject2(value) {\n      return isNonNullObject(value) && !isSpecial(value);\n    };\n    function isNonNullObject(value) {\n      return !!value && typeof value === \"object\";\n    }\n    function isSpecial(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue === \"[object RegExp]\" || stringValue === \"[object Date]\" || isReactElement(value);\n    }\n    var canUseSymbol = typeof Symbol === \"function\" && Symbol.for;\n    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for(\"react.element\") : 60103;\n    function isReactElement(value) {\n      return value.$$typeof === REACT_ELEMENT_TYPE;\n    }\n    function emptyTarget(val) {\n      return Array.isArray(val) ? [] : {};\n    }\n    function cloneUnlessOtherwiseSpecified(value, options) {\n      return options.clone !== false && options.isMergeableObject(value) ? deepmerge2(emptyTarget(value), value, options) : value;\n    }\n    function defaultArrayMerge(target, source, options) {\n      return target.concat(source).map(function(element) {\n        return cloneUnlessOtherwiseSpecified(element, options);\n      });\n    }\n    function getMergeFunction(key, options) {\n      if (!options.customMerge) {\n        return deepmerge2;\n      }\n      var customMerge = options.customMerge(key);\n      return typeof customMerge === \"function\" ? customMerge : deepmerge2;\n    }\n    function getEnumerableOwnPropertySymbols(target) {\n      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n        return Object.propertyIsEnumerable.call(target, symbol);\n      }) : [];\n    }\n    function getKeys(target) {\n      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n    }\n    function propertyIsOnObject(object2, property) {\n      try {\n        return property in object2;\n      } catch (_2) {\n        return false;\n      }\n    }\n    function propertyIsUnsafe(target, key) {\n      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));\n    }\n    function mergeObject(target, source, options) {\n      var destination = {};\n      if (options.isMergeableObject(target)) {\n        getKeys(target).forEach(function(key) {\n          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n        });\n      }\n      getKeys(source).forEach(function(key) {\n        if (propertyIsUnsafe(target, key)) {\n          return;\n        }\n        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n        } else {\n          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n        }\n      });\n      return destination;\n    }\n    function deepmerge2(target, source, options) {\n      options = options || {};\n      options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n      options.isMergeableObject = options.isMergeableObject || isMergeableObject;\n      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n      var sourceIsArray = Array.isArray(source);\n      var targetIsArray = Array.isArray(target);\n      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n      if (!sourceAndTargetTypesMatch) {\n        return cloneUnlessOtherwiseSpecified(source, options);\n      } else if (sourceIsArray) {\n        return options.arrayMerge(target, source, options);\n      } else {\n        return mergeObject(target, source, options);\n      }\n    }\n    deepmerge2.all = function deepmergeAll(array2, options) {\n      if (!Array.isArray(array2)) {\n        throw new Error(\"first argument should be an array\");\n      }\n      return array2.reduce(function(prev, next) {\n        return deepmerge2(prev, next, options);\n      }, {});\n    };\n    var deepmerge_1 = deepmerge2;\n    module2.exports = deepmerge_1;\n  }\n});\n\n\/\/ src\/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  App: () => App3,\n  PreviewManager: () => PreviewManager,\n  generateJSXFromModel: () => generateJSXFromModel,\n  generateSVGFromModel: () => generateSVGFromModel\n});\nmodule.exports = __toCommonJS(src_exports);\n\n\/\/ ..\/..\/packages\/core\/src\/types\/types.ts\nvar Color = \/* @__PURE__ *\/ ((Color2) => {\n  Color2[\"Yellow\"] = \"yellow\";\n  Color2[\"Red\"] = \"red\";\n  Color2[\"Pink\"] = \"pink\";\n  Color2[\"Green\"] = \"green\";\n  Color2[\"Blue\"] = \"blue\";\n  Color2[\"Purple\"] = \"purple\";\n  Color2[\"Gray\"] = \"gray\";\n  Color2[\"Default\"] = \"\";\n  return Color2;\n})(Color || {});\nvar Geometry = \/* @__PURE__ *\/ ((Geometry2) => {\n  Geometry2[\"Box\"] = \"box\";\n  Geometry2[\"Ellipse\"] = \"ellipse\";\n  Geometry2[\"Polygon\"] = \"polygon\";\n  return Geometry2;\n})(Geometry || {});\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/rng.js\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  if (!getRandomValues) {\n    getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error(\"crypto.getRandomValues() not supported. See https:\/\/github.com\/uuidjs\/uuid#getrandomvalues-not-supported\");\n    }\n  }\n  return getRandomValues(rnds8);\n}\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/regex.js\nvar regex_default = \/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$\/i;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/validate.js\nfunction validate(uuid) {\n  return typeof uuid === \"string\" && regex_default.test(uuid);\n}\nvar validate_default = validate;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/stringify.js\nvar byteToHex = [];\nfor (let i2 = 0; i2 < 256; ++i2) {\n  byteToHex.push((i2 + 256).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + \"-\" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + \"-\" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + \"-\" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + \"-\" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/v1.js\nvar _nodeId;\nvar _clockseq;\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\nfunction v1(options, buf, offset) {\n  let i2 = buf && offset || 0;\n  const b3 = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== void 0 ? options.clockseq : _clockseq;\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n    if (node == null) {\n      node = _nodeId = [seedBytes[0] | 1, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 16383;\n    }\n  }\n  let msecs = options.msecs !== void 0 ? options.msecs : Date.now();\n  let nsecs = options.nsecs !== void 0 ? options.nsecs : _lastNSecs + 1;\n  const dt2 = msecs - _lastMSecs + (nsecs - _lastNSecs) \/ 1e4;\n  if (dt2 < 0 && options.clockseq === void 0) {\n    clockseq = clockseq + 1 & 16383;\n  }\n  if ((dt2 < 0 || msecs > _lastMSecs) && options.nsecs === void 0) {\n    nsecs = 0;\n  }\n  if (nsecs >= 1e4) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids\/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n  msecs += 122192928e5;\n  const tl = ((msecs & 268435455) * 1e4 + nsecs) % 4294967296;\n  b3[i2++] = tl >>> 24 & 255;\n  b3[i2++] = tl >>> 16 & 255;\n  b3[i2++] = tl >>> 8 & 255;\n  b3[i2++] = tl & 255;\n  const tmh = msecs \/ 4294967296 * 1e4 & 268435455;\n  b3[i2++] = tmh >>> 8 & 255;\n  b3[i2++] = tmh & 255;\n  b3[i2++] = tmh >>> 24 & 15 | 16;\n  b3[i2++] = tmh >>> 16 & 255;\n  b3[i2++] = clockseq >>> 8 | 128;\n  b3[i2++] = clockseq & 255;\n  for (let n2 = 0; n2 < 6; ++n2) {\n    b3[i2 + n2] = node[n2];\n  }\n  return buf || unsafeStringify(b3);\n}\nvar v1_default = v1;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/parse.js\nfunction parse(uuid) {\n  if (!validate_default(uuid)) {\n    throw TypeError(\"Invalid UUID\");\n  }\n  let v2;\n  const arr = new Uint8Array(16);\n  arr[0] = (v2 = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v2 >>> 16 & 255;\n  arr[2] = v2 >>> 8 & 255;\n  arr[3] = v2 & 255;\n  arr[4] = (v2 = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v2 & 255;\n  arr[6] = (v2 = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v2 & 255;\n  arr[8] = (v2 = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v2 & 255;\n  arr[10] = (v2 = parseInt(uuid.slice(24, 36), 16)) \/ 1099511627776 & 255;\n  arr[11] = v2 \/ 4294967296 & 255;\n  arr[12] = v2 >>> 24 & 255;\n  arr[13] = v2 >>> 16 & 255;\n  arr[14] = v2 >>> 8 & 255;\n  arr[15] = v2 & 255;\n  return arr;\n}\nvar parse_default = parse;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/nil.js\nvar nil_default = \"00000000-0000-0000-0000-000000000000\";\n\n\/\/ ..\/..\/packages\/utils\/vec\/src\/index.ts\nvar _Vec = class {\n  static clamp(n2, min, max) {\n    return Math.max(min, typeof max !== \"undefined\" ? Math.min(n2, max) : n2);\n  }\n  static clampV(A3, min, max) {\n    return A3.map((n2) => max ? _Vec.clamp(n2, min, max) : _Vec.clamp(n2, min));\n  }\n  static cross(x2, y2, z2) {\n    return (y2[0] - x2[0]) * (z2[1] - x2[1]) - (z2[0] - x2[0]) * (y2[1] - x2[1]);\n  }\n  static snap(a3, step = 1) {\n    return [Math.round(a3[0] \/ step) * step, Math.round(a3[1] \/ step) * step];\n  }\n};\nvar Vec = _Vec;\nVec.neg = (A3) => {\n  return [-A3[0], -A3[1]];\n};\nVec.add = (A3, B3) => {\n  return [A3[0] + B3[0], A3[1] + B3[1]];\n};\nVec.addScalar = (A3, n2) => {\n  return [A3[0] + n2, A3[1] + n2];\n};\nVec.sub = (A3, B3) => {\n  return [A3[0] - B3[0], A3[1] - B3[1]];\n};\nVec.subScalar = (A3, n2) => {\n  return [A3[0] - n2, A3[1] - n2];\n};\nVec.vec = (A3, B3) => {\n  return [B3[0] - A3[0], B3[1] - A3[1]];\n};\nVec.mul = (A3, n2) => {\n  return [A3[0] * n2, A3[1] * n2];\n};\nVec.mulV = (A3, B3) => {\n  return [A3[0] * B3[0], A3[1] * B3[1]];\n};\nVec.div = (A3, n2) => {\n  return [A3[0] \/ n2, A3[1] \/ n2];\n};\nVec.divV = (A3, B3) => {\n  return [A3[0] \/ B3[0], A3[1] \/ B3[1]];\n};\nVec.per = (A3) => {\n  return [A3[1], -A3[0]];\n};\nVec.dpr = (A3, B3) => {\n  return A3[0] * B3[0] + A3[1] * B3[1];\n};\nVec.cpr = (A3, B3) => {\n  return A3[0] * B3[1] - B3[0] * A3[1];\n};\nVec.len2 = (A3) => {\n  return A3[0] * A3[0] + A3[1] * A3[1];\n};\nVec.len = (A3) => {\n  return Math.hypot(A3[0], A3[1]);\n};\nVec.pry = (A3, B3) => {\n  return _Vec.dpr(A3, B3) \/ _Vec.len(B3);\n};\nVec.uni = (A3) => {\n  return _Vec.div(A3, _Vec.len(A3));\n};\nVec.normalize = (A3) => {\n  return _Vec.uni(A3);\n};\nVec.tangent = (A3, B3) => {\n  return _Vec.uni(_Vec.sub(A3, B3));\n};\nVec.dist2 = (A3, B3) => {\n  return _Vec.len2(_Vec.sub(A3, B3));\n};\nVec.dist = (A3, B3) => {\n  return Math.hypot(A3[1] - B3[1], A3[0] - B3[0]);\n};\nVec.fastDist = (A3, B3) => {\n  const V4 = [B3[0] - A3[0], B3[1] - A3[1]];\n  const aV = [Math.abs(V4[0]), Math.abs(V4[1])];\n  let r2 = 1 \/ Math.max(aV[0], aV[1]);\n  r2 = r2 * (1.29289 - (aV[0] + aV[1]) * r2 * 0.29289);\n  return [V4[0] * r2, V4[1] * r2];\n};\nVec.ang = (A3, B3) => {\n  return Math.atan2(_Vec.cpr(A3, B3), _Vec.dpr(A3, B3));\n};\nVec.angle = (A3, B3) => {\n  return Math.atan2(B3[1] - A3[1], B3[0] - A3[0]);\n};\nVec.med = (A3, B3) => {\n  return _Vec.mul(_Vec.add(A3, B3), 0.5);\n};\nVec.rot = (A3, r2 = 0) => {\n  return [A3[0] * Math.cos(r2) - A3[1] * Math.sin(r2), A3[0] * Math.sin(r2) + A3[1] * Math.cos(r2)];\n};\nVec.rotWith = (A3, C3, r2 = 0) => {\n  if (r2 === 0)\n    return A3;\n  const s2 = Math.sin(r2);\n  const c2 = Math.cos(r2);\n  const px = A3[0] - C3[0];\n  const py = A3[1] - C3[1];\n  const nx = px * c2 - py * s2;\n  const ny = px * s2 + py * c2;\n  return [nx + C3[0], ny + C3[1]];\n};\nVec.isEqual = (A3, B3) => {\n  return A3[0] === B3[0] && A3[1] === B3[1];\n};\nVec.lrp = (A3, B3, t) => {\n  return _Vec.add(A3, _Vec.mul(_Vec.sub(B3, A3), t));\n};\nVec.int = (A3, B3, from, to, s2 = 1) => {\n  const t = (_Vec.clamp(from, to) - from) \/ (to - from);\n  return _Vec.add(_Vec.mul(A3, 1 - t), _Vec.mul(B3, s2));\n};\nVec.ang3 = (p1, pc, p2) => {\n  const v12 = _Vec.vec(pc, p1);\n  const v2 = _Vec.vec(pc, p2);\n  return _Vec.ang(v12, v2);\n};\nVec.abs = (A3) => {\n  return [Math.abs(A3[0]), Math.abs(A3[1])];\n};\nVec.rescale = (a3, n2) => {\n  const l3 = _Vec.len(a3);\n  return [n2 * a3[0] \/ l3, n2 * a3[1] \/ l3];\n};\nVec.isLeft = (p1, pc, p2) => {\n  return (pc[0] - p1[0]) * (p2[1] - p1[1]) - (p2[0] - p1[0]) * (pc[1] - p1[1]);\n};\nVec.clockwise = (p1, pc, p2) => {\n  return _Vec.isLeft(p1, pc, p2) > 0;\n};\nVec.toFixed = (a3) => {\n  return a3.map((v2) => Math.round(v2 * 100) \/ 100);\n};\nVec.nearestPointOnLineThroughPoint = (A3, u2, P2) => {\n  return _Vec.add(A3, _Vec.mul(u2, _Vec.pry(_Vec.sub(P2, A3), u2)));\n};\nVec.distanceToLineThroughPoint = (A3, u2, P2) => {\n  return _Vec.dist(P2, _Vec.nearestPointOnLineThroughPoint(A3, u2, P2));\n};\nVec.nearestPointOnLineSegment = (A3, B3, P2, clamp3 = true) => {\n  const u2 = _Vec.uni(_Vec.sub(B3, A3));\n  const C3 = _Vec.add(A3, _Vec.mul(u2, _Vec.pry(_Vec.sub(P2, A3), u2)));\n  if (clamp3) {\n    if (C3[0] < Math.min(A3[0], B3[0]))\n      return A3[0] < B3[0] ? A3 : B3;\n    if (C3[0] > Math.max(A3[0], B3[0]))\n      return A3[0] > B3[0] ? A3 : B3;\n    if (C3[1] < Math.min(A3[1], B3[1]))\n      return A3[1] < B3[1] ? A3 : B3;\n    if (C3[1] > Math.max(A3[1], B3[1]))\n      return A3[1] > B3[1] ? A3 : B3;\n  }\n  return C3;\n};\nVec.distanceToLineSegment = (A3, B3, P2, clamp3 = true) => {\n  return _Vec.dist(P2, _Vec.nearestPointOnLineSegment(A3, B3, P2, clamp3));\n};\nVec.nudge = (A3, B3, d2) => {\n  if (_Vec.isEqual(A3, B3))\n    return A3;\n  return _Vec.add(A3, _Vec.mul(_Vec.uni(_Vec.sub(B3, A3)), d2));\n};\nVec.nudgeAtAngle = (A3, a3, d2) => {\n  return [Math.cos(a3) * d2 + A3[0], Math.sin(a3) * d2 + A3[1]];\n};\nVec.toPrecision = (a3, n2 = 4) => {\n  return [+a3[0].toPrecision(n2), +a3[1].toPrecision(n2)];\n};\nVec.pointsBetween = (A3, B3, steps = 6) => {\n  return Array.from(Array(steps)).map((_2, i2) => {\n    const t = i2 \/ (steps - 1);\n    const k2 = Math.min(1, 0.5 + Math.abs(0.5 - t));\n    return [..._Vec.lrp(A3, B3, t), k2];\n  });\n};\nVec.slope = (A3, B3) => {\n  if (A3[0] === B3[0])\n    return NaN;\n  return (A3[1] - B3[1]) \/ (A3[0] - B3[0]);\n};\nVec.toAngle = (A3) => {\n  const angle = Math.atan2(A3[1], A3[0]);\n  if (angle < 0)\n    return angle + Math.PI * 2;\n  return angle;\n};\nVec.max = (...v2) => {\n  return [Math.max(...v2.map((a3) => a3[0])), Math.max(...v2.map((a3) => a3[1]))];\n};\nVec.min = (...v2) => {\n  return [Math.min(...v2.map((a3) => a3[0])), Math.min(...v2.map((a3) => a3[1]))];\n};\nvar src_default = Vec;\n\n\/\/ ..\/..\/node_modules\/potpack\/index.js\nfunction potpack(boxes) {\n  let area = 0;\n  let maxWidth = 0;\n  for (const box2 of boxes) {\n    area += box2.w * box2.h;\n    maxWidth = Math.max(maxWidth, box2.w);\n  }\n  boxes.sort((a3, b3) => b3.h - a3.h);\n  const startWidth = Math.max(Math.ceil(Math.sqrt(area \/ 0.95)), maxWidth);\n  const spaces = [{ x: 0, y: 0, w: startWidth, h: Infinity }];\n  let width = 0;\n  let height = 0;\n  for (const box2 of boxes) {\n    for (let i2 = spaces.length - 1; i2 >= 0; i2--) {\n      const space = spaces[i2];\n      if (box2.w > space.w || box2.h > space.h)\n        continue;\n      box2.x = space.x;\n      box2.y = space.y;\n      height = Math.max(height, box2.y + box2.h);\n      width = Math.max(width, box2.x + box2.w);\n      if (box2.w === space.w && box2.h === space.h) {\n        const last = spaces.pop();\n        if (i2 < spaces.length)\n          spaces[i2] = last;\n      } else if (box2.h === space.h) {\n        space.x += box2.w;\n        space.w -= box2.w;\n      } else if (box2.w === space.w) {\n        space.y += box2.h;\n        space.h -= box2.h;\n      } else {\n        spaces.push({\n          x: space.x + box2.w,\n          y: space.y,\n          w: space.w - box2.w,\n          h: box2.h\n        });\n        space.y += box2.h;\n        space.h -= box2.h;\n      }\n      break;\n    }\n  }\n  return {\n    w: width,\n    h: height,\n    fill: area \/ (width * height) || 0\n  };\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/BoundsUtils.ts\nvar BoundsUtils = class {\n  static getRectangleSides(point, size, rotation = 0) {\n    const center = [point[0] + size[0] \/ 2, point[1] + size[1] \/ 2];\n    const tl = Vec.rotWith(point, center, rotation);\n    const tr = Vec.rotWith(Vec.add(point, [size[0], 0]), center, rotation);\n    const br = Vec.rotWith(Vec.add(point, size), center, rotation);\n    const bl = Vec.rotWith(Vec.add(point, [0, size[1]]), center, rotation);\n    return [\n      [\"top\", [tl, tr]],\n      [\"right\", [tr, br]],\n      [\"bottom\", [br, bl]],\n      [\"left\", [bl, tl]]\n    ];\n  }\n  static getBoundsSides(bounds) {\n    return BoundsUtils.getRectangleSides([bounds.minX, bounds.minY], [bounds.width, bounds.height]);\n  }\n  static expandBounds(bounds, delta) {\n    return {\n      minX: bounds.minX - delta,\n      minY: bounds.minY - delta,\n      maxX: bounds.maxX + delta,\n      maxY: bounds.maxY + delta,\n      width: bounds.width + delta * 2,\n      height: bounds.height + delta * 2\n    };\n  }\n  static boundsCollide(a3, b3) {\n    return !(a3.maxX < b3.minX || a3.minX > b3.maxX || a3.maxY < b3.minY || a3.minY > b3.maxY);\n  }\n  static boundsContain(a3, b3) {\n    if (Array.isArray(b3)) {\n      return a3.minX < b3[0] && a3.minY < b3[1] && a3.maxY > b3[1] && a3.maxX > b3[0];\n    }\n    return a3.minX < b3.minX && a3.minY < b3.minY && a3.maxY > b3.maxY && a3.maxX > b3.maxX;\n  }\n  static boundsContained(a3, b3) {\n    return BoundsUtils.boundsContain(b3, a3);\n  }\n  static boundsAreEqual(a3, b3) {\n    return !(b3.maxX !== a3.maxX || b3.minX !== a3.minX || b3.maxY !== a3.maxY || b3.minY !== a3.minY);\n  }\n  static getBoundsFromPoints(points, rotation = 0) {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (points.length < 2) {\n      minX = 0;\n      minY = 0;\n      maxX = 1;\n      maxY = 1;\n    } else {\n      for (const point of points) {\n        minX = Math.min(point[0], minX);\n        minY = Math.min(point[1], minY);\n        maxX = Math.max(point[0], maxX);\n        maxY = Math.max(point[1], maxY);\n      }\n    }\n    if (rotation !== 0) {\n      return BoundsUtils.getBoundsFromPoints(\n        points.map((pt2) => Vec.rotWith(pt2, [(minX + maxX) \/ 2, (minY + maxY) \/ 2], rotation))\n      );\n    }\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY)\n    };\n  }\n  static centerBounds(bounds, point) {\n    const boundsCenter = BoundsUtils.getBoundsCenter(bounds);\n    const dx = point[0] - boundsCenter[0];\n    const dy = point[1] - boundsCenter[1];\n    return BoundsUtils.translateBounds(bounds, [dx, dy]);\n  }\n  static snapBoundsToGrid(bounds, gridSize) {\n    const minX = Math.round(bounds.minX \/ gridSize) * gridSize;\n    const minY = Math.round(bounds.minY \/ gridSize) * gridSize;\n    const maxX = Math.round(bounds.maxX \/ gridSize) * gridSize;\n    const maxY = Math.round(bounds.maxY \/ gridSize) * gridSize;\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY)\n    };\n  }\n  static translateBounds(bounds, delta) {\n    return {\n      minX: bounds.minX + delta[0],\n      minY: bounds.minY + delta[1],\n      maxX: bounds.maxX + delta[0],\n      maxY: bounds.maxY + delta[1],\n      width: bounds.width,\n      height: bounds.height\n    };\n  }\n  static multiplyBounds(bounds, n2) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return BoundsUtils.centerBounds(\n      {\n        minX: bounds.minX * n2,\n        minY: bounds.minY * n2,\n        maxX: bounds.maxX * n2,\n        maxY: bounds.maxY * n2,\n        width: bounds.width * n2,\n        height: bounds.height * n2\n      },\n      [center[0] * n2, center[1] * n2]\n    );\n  }\n  static divideBounds(bounds, n2) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return BoundsUtils.centerBounds(\n      {\n        minX: bounds.minX \/ n2,\n        minY: bounds.minY \/ n2,\n        maxX: bounds.maxX \/ n2,\n        maxY: bounds.maxY \/ n2,\n        width: bounds.width \/ n2,\n        height: bounds.height \/ n2\n      },\n      [center[0] \/ n2, center[1] \/ n2]\n    );\n  }\n  static getRotatedBounds(bounds, rotation = 0) {\n    const corners = BoundsUtils.getRotatedCorners(bounds, rotation);\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    for (const point of corners) {\n      minX = Math.min(point[0], minX);\n      minY = Math.min(point[1], minY);\n      maxX = Math.max(point[0], maxX);\n      maxY = Math.max(point[1], maxY);\n    }\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY),\n      rotation: 0\n    };\n  }\n  static getRotatedEllipseBounds(x2, y2, rx, ry, rotation = 0) {\n    const c2 = Math.cos(rotation);\n    const s2 = Math.sin(rotation);\n    const w2 = Math.hypot(rx * c2, ry * s2);\n    const h2 = Math.hypot(rx * s2, ry * c2);\n    return {\n      minX: x2 + rx - w2,\n      minY: y2 + ry - h2,\n      maxX: x2 + rx + w2,\n      maxY: y2 + ry + h2,\n      width: w2 * 2,\n      height: h2 * 2\n    };\n  }\n  static getExpandedBounds(a3, b3) {\n    const minX = Math.min(a3.minX, b3.minX);\n    const minY = Math.min(a3.minY, b3.minY);\n    const maxX = Math.max(a3.maxX, b3.maxX);\n    const maxY = Math.max(a3.maxY, b3.maxY);\n    const width = Math.abs(maxX - minX);\n    const height = Math.abs(maxY - minY);\n    return { minX, minY, maxX, maxY, width, height };\n  }\n  static getCommonBounds(bounds) {\n    if (bounds.length < 2)\n      return bounds[0];\n    let result = bounds[0];\n    for (let i2 = 1; i2 < bounds.length; i2++) {\n      result = BoundsUtils.getExpandedBounds(result, bounds[i2]);\n    }\n    return result;\n  }\n  static getRotatedCorners(b3, rotation = 0) {\n    const center = [b3.minX + b3.width \/ 2, b3.minY + b3.height \/ 2];\n    const corners = [\n      [b3.minX, b3.minY],\n      [b3.maxX, b3.minY],\n      [b3.maxX, b3.maxY],\n      [b3.minX, b3.maxY]\n    ];\n    if (rotation)\n      return corners.map((point) => Vec.rotWith(point, center, rotation));\n    return corners;\n  }\n  static getTransformedBoundingBox(bounds, handle, delta, rotation = 0, isAspectRatioLocked = false) {\n    const [ax0, ay0] = [bounds.minX, bounds.minY];\n    const [ax1, ay1] = [bounds.maxX, bounds.maxY];\n    let [bx0, by0] = [bounds.minX, bounds.minY];\n    let [bx1, by1] = [bounds.maxX, bounds.maxY];\n    if (handle === \"center\") {\n      return {\n        minX: bx0 + delta[0],\n        minY: by0 + delta[1],\n        maxX: bx1 + delta[0],\n        maxY: by1 + delta[1],\n        width: bx1 - bx0,\n        height: by1 - by0,\n        scaleX: 1,\n        scaleY: 1\n      };\n    }\n    const [dx, dy] = Vec.rot(delta, -rotation);\n    switch (handle) {\n      case \"top_edge\" \/* Top *\/:\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"top_right_corner\" \/* TopRight *\/: {\n        by0 += dy;\n        break;\n      }\n      case \"bottom_edge\" \/* Bottom *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        by1 += dy;\n        break;\n      }\n    }\n    switch (handle) {\n      case \"left_edge\" \/* Left *\/:\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        bx0 += dx;\n        break;\n      }\n      case \"right_edge\" \/* Right *\/:\n      case \"top_right_corner\" \/* TopRight *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        bx1 += dx;\n        break;\n      }\n    }\n    const aw = ax1 - ax0;\n    const ah = ay1 - ay0;\n    const scaleX = (bx1 - bx0) \/ aw;\n    const scaleY = (by1 - by0) \/ ah;\n    const flipX = scaleX < 0;\n    const flipY = scaleY < 0;\n    const bw = Math.abs(bx1 - bx0);\n    const bh = Math.abs(by1 - by0);\n    if (isAspectRatioLocked) {\n      const ar = aw \/ ah;\n      const isTall = ar < bw \/ bh;\n      const tw = bw * (scaleY < 0 ? 1 : -1) * (1 \/ ar);\n      const th = bh * (scaleX < 0 ? 1 : -1) * ar;\n      switch (handle) {\n        case \"top_left_corner\" \/* TopLeft *\/: {\n          if (isTall)\n            by0 = by1 + tw;\n          else\n            bx0 = bx1 + th;\n          break;\n        }\n        case \"top_right_corner\" \/* TopRight *\/: {\n          if (isTall)\n            by0 = by1 + tw;\n          else\n            bx1 = bx0 - th;\n          break;\n        }\n        case \"bottom_right_corner\" \/* BottomRight *\/: {\n          if (isTall)\n            by1 = by0 - tw;\n          else\n            bx1 = bx0 - th;\n          break;\n        }\n        case \"bottom_left_corner\" \/* BottomLeft *\/: {\n          if (isTall)\n            by1 = by0 - tw;\n          else\n            bx0 = bx1 + th;\n          break;\n        }\n        case \"bottom_edge\" \/* Bottom *\/:\n        case \"top_edge\" \/* Top *\/: {\n          const m2 = (bx0 + bx1) \/ 2;\n          const w2 = bh * ar;\n          bx0 = m2 - w2 \/ 2;\n          bx1 = m2 + w2 \/ 2;\n          break;\n        }\n        case \"left_edge\" \/* Left *\/:\n        case \"right_edge\" \/* Right *\/: {\n          const m2 = (by0 + by1) \/ 2;\n          const h2 = bw \/ ar;\n          by0 = m2 - h2 \/ 2;\n          by1 = m2 + h2 \/ 2;\n          break;\n        }\n      }\n    }\n    if (rotation % (Math.PI * 2) !== 0) {\n      let cv = [0, 0];\n      const c0 = Vec.med([ax0, ay0], [ax1, ay1]);\n      const c1 = Vec.med([bx0, by0], [bx1, by1]);\n      switch (handle) {\n        case \"top_left_corner\" \/* TopLeft *\/: {\n          cv = Vec.sub(Vec.rotWith([bx1, by1], c1, rotation), Vec.rotWith([ax1, ay1], c0, rotation));\n          break;\n        }\n        case \"top_right_corner\" \/* TopRight *\/: {\n          cv = Vec.sub(Vec.rotWith([bx0, by1], c1, rotation), Vec.rotWith([ax0, ay1], c0, rotation));\n          break;\n        }\n        case \"bottom_right_corner\" \/* BottomRight *\/: {\n          cv = Vec.sub(Vec.rotWith([bx0, by0], c1, rotation), Vec.rotWith([ax0, ay0], c0, rotation));\n          break;\n        }\n        case \"bottom_left_corner\" \/* BottomLeft *\/: {\n          cv = Vec.sub(Vec.rotWith([bx1, by0], c1, rotation), Vec.rotWith([ax1, ay0], c0, rotation));\n          break;\n        }\n        case \"top_edge\" \/* Top *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by1], [bx1, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay1], [ax1, ay1]), c0, rotation)\n          );\n          break;\n        }\n        case \"left_edge\" \/* Left *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx1, by0], [bx1, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax1, ay0], [ax1, ay1]), c0, rotation)\n          );\n          break;\n        }\n        case \"bottom_edge\" \/* Bottom *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by0], [bx1, by0]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay0], [ax1, ay0]), c0, rotation)\n          );\n          break;\n        }\n        case \"right_edge\" \/* Right *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by0], [bx0, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay0], [ax0, ay1]), c0, rotation)\n          );\n          break;\n        }\n      }\n      ;\n      [bx0, by0] = Vec.sub([bx0, by0], cv);\n      [bx1, by1] = Vec.sub([bx1, by1], cv);\n    }\n    if (bx1 < bx0) {\n      ;\n      [bx1, bx0] = [bx0, bx1];\n    }\n    if (by1 < by0) {\n      ;\n      [by1, by0] = [by0, by1];\n    }\n    return {\n      minX: bx0,\n      minY: by0,\n      maxX: bx1,\n      maxY: by1,\n      width: bx1 - bx0,\n      height: by1 - by0,\n      scaleX: (bx1 - bx0) \/ (ax1 - ax0 || 1) * (flipX ? -1 : 1),\n      scaleY: (by1 - by0) \/ (ay1 - ay0 || 1) * (flipY ? -1 : 1)\n    };\n  }\n  static getTransformAnchor(type, isFlippedX, isFlippedY) {\n    let anchor = type;\n    switch (type) {\n      case \"top_left_corner\" \/* TopLeft *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else if (isFlippedX) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else if (isFlippedY) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        }\n        break;\n      }\n      case \"top_right_corner\" \/* TopRight *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else if (isFlippedX) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else if (isFlippedY) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        }\n        break;\n      }\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else if (isFlippedX) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else if (isFlippedY) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        }\n        break;\n      }\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else if (isFlippedX) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else if (isFlippedY) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        }\n        break;\n      }\n    }\n    return anchor;\n  }\n  static getRelativeTransformedBoundingBox(bounds, initialBounds, initialShapeBounds, isFlippedX, isFlippedY) {\n    const nx = (isFlippedX ? initialBounds.maxX - initialShapeBounds.maxX : initialShapeBounds.minX - initialBounds.minX) \/ initialBounds.width;\n    const ny = (isFlippedY ? initialBounds.maxY - initialShapeBounds.maxY : initialShapeBounds.minY - initialBounds.minY) \/ initialBounds.height;\n    const nw = initialShapeBounds.width \/ initialBounds.width;\n    const nh = initialShapeBounds.height \/ initialBounds.height;\n    const minX = bounds.minX + bounds.width * nx;\n    const minY = bounds.minY + bounds.height * ny;\n    const width = bounds.width * nw;\n    const height = bounds.height * nh;\n    return {\n      minX,\n      minY,\n      maxX: minX + width,\n      maxY: minY + height,\n      width,\n      height\n    };\n  }\n  static getRotatedSize(size, rotation) {\n    const center = Vec.div(size, 2);\n    const points = [[0, 0], [size[0], 0], size, [0, size[1]]].map(\n      (point) => Vec.rotWith(point, center, rotation)\n    );\n    const bounds = BoundsUtils.getBoundsFromPoints(points);\n    return [bounds.width, bounds.height];\n  }\n  static getBoundsCenter(bounds) {\n    return [bounds.minX + bounds.width \/ 2, bounds.minY + bounds.height \/ 2];\n  }\n  static getBoundsWithCenter(bounds) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return __spreadProps(__spreadValues({}, bounds), {\n      midX: center[0],\n      midY: center[1]\n    });\n  }\n  static getCommonTopLeft(points) {\n    const min = [Infinity, Infinity];\n    points.forEach((point) => {\n      min[0] = Math.min(min[0], point[0]);\n      min[1] = Math.min(min[1], point[1]);\n    });\n    return min;\n  }\n  static getTLSnapPoints(bounds, others, snapDistance) {\n    const A3 = __spreadValues({}, bounds);\n    const offset = [0, 0];\n    const snapLines = [];\n    const snaps = {\n      [\"minX\" \/* minX *\/]: { id: \"minX\" \/* minX *\/, isSnapped: false },\n      [\"midX\" \/* midX *\/]: { id: \"midX\" \/* midX *\/, isSnapped: false },\n      [\"maxX\" \/* maxX *\/]: { id: \"maxX\" \/* maxX *\/, isSnapped: false },\n      [\"minY\" \/* minY *\/]: { id: \"minY\" \/* minY *\/, isSnapped: false },\n      [\"midY\" \/* midY *\/]: { id: \"midY\" \/* midY *\/, isSnapped: false },\n      [\"maxY\" \/* maxY *\/]: { id: \"maxY\" \/* maxY *\/, isSnapped: false }\n    };\n    const xs = [\"midX\" \/* midX *\/, \"minX\" \/* minX *\/, \"maxX\" \/* maxX *\/];\n    const ys = [\"midY\" \/* midY *\/, \"minY\" \/* minY *\/, \"maxY\" \/* maxY *\/];\n    const snapResults = others.map((B3) => {\n      const rx = xs.flatMap(\n        (f2, i2) => xs.map((t, k2) => {\n          const gap = A3[f2] - B3[t];\n          const distance = Math.abs(gap);\n          return {\n            f: f2,\n            t,\n            gap,\n            distance,\n            isCareful: i2 === 0 || i2 + k2 === 3\n          };\n        })\n      );\n      const ry = ys.flatMap(\n        (f2, i2) => ys.map((t, k2) => {\n          const gap = A3[f2] - B3[t];\n          const distance = Math.abs(gap);\n          return {\n            f: f2,\n            t,\n            gap,\n            distance,\n            isCareful: i2 === 0 || i2 + k2 === 3\n          };\n        })\n      );\n      return [B3, rx, ry];\n    });\n    let gapX = Infinity;\n    let gapY = Infinity;\n    let minX = Infinity;\n    let minY = Infinity;\n    snapResults.forEach(([_2, rx, ry]) => {\n      rx.forEach((r2) => {\n        if (r2.distance < snapDistance && r2.distance < minX) {\n          minX = r2.distance;\n          gapX = r2.gap;\n        }\n      });\n      ry.forEach((r2) => {\n        if (r2.distance < snapDistance && r2.distance < minY) {\n          minY = r2.distance;\n          gapY = r2.gap;\n        }\n      });\n    });\n    snapResults.forEach(([B3, rx, ry]) => {\n      if (gapX !== Infinity) {\n        rx.forEach((r2) => {\n          if (Math.abs(r2.gap - gapX) < 2) {\n            snaps[r2.f] = __spreadProps(__spreadValues({}, snaps[r2.f]), {\n              isSnapped: true,\n              to: B3[r2.t],\n              B: B3,\n              distance: r2.distance\n            });\n          }\n        });\n      }\n      if (gapY !== Infinity) {\n        ry.forEach((r2) => {\n          if (Math.abs(r2.gap - gapY) < 2) {\n            snaps[r2.f] = __spreadProps(__spreadValues({}, snaps[r2.f]), {\n              isSnapped: true,\n              to: B3[r2.t],\n              B: B3,\n              distance: r2.distance\n            });\n          }\n        });\n      }\n    });\n    offset[0] = gapX === Infinity ? 0 : gapX;\n    offset[1] = gapY === Infinity ? 0 : gapY;\n    A3.minX -= offset[0];\n    A3.midX -= offset[0];\n    A3.maxX -= offset[0];\n    A3.minY -= offset[1];\n    A3.midY -= offset[1];\n    A3.maxY -= offset[1];\n    xs.forEach((from) => {\n      const snap = snaps[from];\n      if (!snap.isSnapped)\n        return;\n      const { id: id3, B: B3 } = snap;\n      const x2 = A3[id3];\n      snapLines.push(\n        id3 === \"minX\" \/* minX *\/ ? [\n          [x2, A3.midY],\n          [x2, B3.minY],\n          [x2, B3.maxY]\n        ] : [\n          [x2, A3.minY],\n          [x2, A3.maxY],\n          [x2, B3.minY],\n          [x2, B3.maxY]\n        ]\n      );\n    });\n    ys.forEach((from) => {\n      const snap = snaps[from];\n      if (!snap.isSnapped)\n        return;\n      const { id: id3, B: B3 } = snap;\n      const y2 = A3[id3];\n      snapLines.push(\n        id3 === \"midY\" \/* midY *\/ ? [\n          [A3.midX, y2],\n          [B3.minX, y2],\n          [B3.maxX, y2]\n        ] : [\n          [A3.minX, y2],\n          [A3.maxX, y2],\n          [B3.minX, y2],\n          [B3.maxX, y2]\n        ]\n      );\n    });\n    return { offset, snapLines };\n  }\n  static ensureRatio(bounds, ratio) {\n    const { width, height } = bounds;\n    const newBounds = __spreadValues({}, bounds);\n    if (width \/ height < ratio) {\n      newBounds.width = height * ratio;\n      newBounds.maxX += width - bounds.width;\n    } else {\n      newBounds.height = width \/ ratio;\n      newBounds.maxY += height - bounds.height;\n    }\n    return newBounds;\n  }\n  static getDistributions(shapes2, type) {\n    const entries = shapes2.map((shape) => {\n      const bounds = shape.getBounds();\n      return {\n        id: shape.id,\n        point: [bounds.minX, bounds.minY],\n        bounds,\n        center: shape.getCenter()\n      };\n    });\n    const len = entries.length;\n    const commonBounds = BoundsUtils.getCommonBounds(entries.map(({ bounds }) => bounds));\n    const results = [];\n    switch (type) {\n      case \"horizontal\" \/* Horizontal *\/: {\n        const span = entries.reduce((a3, c2) => a3 + c2.bounds.width, 0);\n        if (span > commonBounds.width) {\n          const left = entries.sort((a3, b3) => a3.bounds.minX - b3.bounds.minX)[0];\n          const right = entries.sort((a3, b3) => b3.bounds.maxX - a3.bounds.maxX)[0];\n          const entriesToMove = entries.filter((a3) => a3 !== left && a3 !== right).sort((a3, b3) => a3.center[0] - b3.center[0]);\n          const step = (right.center[0] - left.center[0]) \/ (len - 1);\n          const x2 = left.center[0] + step;\n          entriesToMove.forEach(({ id: id3, point, bounds }, i2) => {\n            results.push({\n              id: id3,\n              prev: point,\n              next: [x2 + step * i2 - bounds.width \/ 2, bounds.minY]\n            });\n          });\n        } else {\n          const entriesToMove = entries.sort((a3, b3) => a3.center[0] - b3.center[0]);\n          let x2 = commonBounds.minX;\n          const step = (commonBounds.width - span) \/ (len - 1);\n          entriesToMove.forEach(({ id: id3, point, bounds }) => {\n            results.push({ id: id3, prev: point, next: [x2, bounds.minY] });\n            x2 += bounds.width + step;\n          });\n        }\n        break;\n      }\n      case \"vertical\" \/* Vertical *\/: {\n        const span = entries.reduce((a3, c2) => a3 + c2.bounds.height, 0);\n        if (span > commonBounds.height) {\n          const top = entries.sort((a3, b3) => a3.bounds.minY - b3.bounds.minY)[0];\n          const bottom = entries.sort((a3, b3) => b3.bounds.maxY - a3.bounds.maxY)[0];\n          const entriesToMove = entries.filter((a3) => a3 !== top && a3 !== bottom).sort((a3, b3) => a3.center[1] - b3.center[1]);\n          const step = (bottom.center[1] - top.center[1]) \/ (len - 1);\n          const y2 = top.center[1] + step;\n          entriesToMove.forEach(({ id: id3, point, bounds }, i2) => {\n            results.push({\n              id: id3,\n              prev: point,\n              next: [bounds.minX, y2 + step * i2 - bounds.height \/ 2]\n            });\n          });\n        } else {\n          const entriesToMove = entries.sort((a3, b3) => a3.center[1] - b3.center[1]);\n          let y2 = commonBounds.minY;\n          const step = (commonBounds.height - span) \/ (len - 1);\n          entriesToMove.forEach(({ id: id3, point, bounds }) => {\n            results.push({ id: id3, prev: point, next: [bounds.minX, y2] });\n            y2 += bounds.height + step;\n          });\n        }\n        break;\n      }\n    }\n    return results;\n  }\n  static getPackedDistributions(shapes2) {\n    const commonBounds = BoundsUtils.getCommonBounds(shapes2.map(({ bounds }) => bounds));\n    const origin = [commonBounds.minX, commonBounds.minY];\n    const shapesPosOriginal = Object.fromEntries(\n      shapes2.map((s2) => [s2.id, [s2.bounds.minX, s2.bounds.minY]])\n    );\n    const entries = shapes2.filter((s2) => {\n      var _a3, _b, _c, _d;\n      return !(((_b = (_a3 = s2.props.handles) == null ? void 0 : _a3.start) == null ? void 0 : _b.bindingId) || ((_d = (_c = s2.props.handles) == null ? void 0 : _c.end) == null ? void 0 : _d.bindingId));\n    }).map((shape) => {\n      const bounds = shape.getBounds();\n      return {\n        id: shape.id,\n        w: bounds.width + 16,\n        h: bounds.height + 16,\n        x: bounds.minX,\n        y: bounds.minY\n      };\n    });\n    potpack(entries);\n    const entriesToMove = entries.map(({ id: id3, x: x2, y: y2 }) => {\n      return {\n        id: id3,\n        prev: shapesPosOriginal[id3],\n        next: [x2 + origin[0], y2 + origin[1]]\n      };\n    });\n    return entriesToMove;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/PointUtils.ts\nvar _PointUtils = class {\n  static pointInCircle(A3, C3, r2) {\n    return Vec.dist(A3, C3) <= r2;\n  }\n  static pointInEllipse(A3, C3, rx, ry, rotation = 0) {\n    rotation = rotation || 0;\n    const cos = Math.cos(rotation);\n    const sin = Math.sin(rotation);\n    const delta = Vec.sub(A3, C3);\n    const tdx = cos * delta[0] + sin * delta[1];\n    const tdy = sin * delta[0] - cos * delta[1];\n    return tdx * tdx \/ (rx * rx) + tdy * tdy \/ (ry * ry) <= 1;\n  }\n  static pointInRect(point, size) {\n    return !(point[0] < size[0] || point[0] > point[0] + size[0] || point[1] < size[1] || point[1] > point[1] + size[1]);\n  }\n  static pointInPolygon(p2, points) {\n    let wn = 0;\n    points.forEach((a3, i2) => {\n      const b3 = points[(i2 + 1) % points.length];\n      if (a3[1] <= p2[1]) {\n        if (b3[1] > p2[1] && Vec.cross(a3, b3, p2) > 0) {\n          wn += 1;\n        }\n      } else if (b3[1] <= p2[1] && Vec.cross(a3, b3, p2) < 0) {\n        wn -= 1;\n      }\n    });\n    return wn !== 0;\n  }\n  static pointInBounds(A3, b3) {\n    return !(A3[0] < b3.minX || A3[0] > b3.maxX || A3[1] < b3.minY || A3[1] > b3.maxY);\n  }\n  static pointInPolyline(A3, points, distance = 3) {\n    for (let i2 = 1; i2 < points.length; i2++) {\n      if (Vec.distanceToLineSegment(points[i2 - 1], points[i2], A3) < distance) {\n        return true;\n      }\n    }\n    return false;\n  }\n  static _getSqSegDist(p2, p1, p22) {\n    let x2 = p1[0];\n    let y2 = p1[1];\n    let dx = p22[0] - x2;\n    let dy = p22[1] - y2;\n    if (dx !== 0 || dy !== 0) {\n      const t = ((p2[0] - x2) * dx + (p2[1] - y2) * dy) \/ (dx * dx + dy * dy);\n      if (t > 1) {\n        x2 = p22[0];\n        y2 = p22[1];\n      } else if (t > 0) {\n        x2 += dx * t;\n        y2 += dy * t;\n      }\n    }\n    dx = p2[0] - x2;\n    dy = p2[1] - y2;\n    return dx * dx + dy * dy;\n  }\n  static _simplifyStep(points, first, last, sqTolerance, result) {\n    let maxSqDist = sqTolerance;\n    let index2 = -1;\n    for (let i2 = first + 1; i2 < last; i2++) {\n      const sqDist = _PointUtils._getSqSegDist(points[i2], points[first], points[last]);\n      if (sqDist > maxSqDist) {\n        index2 = i2;\n        maxSqDist = sqDist;\n      }\n    }\n    if (index2 > -1 && maxSqDist > sqTolerance) {\n      if (index2 - first > 1)\n        _PointUtils._simplifyStep(points, first, index2, sqTolerance, result);\n      result.push(points[index2]);\n      if (last - index2 > 1)\n        _PointUtils._simplifyStep(points, index2, last, sqTolerance, result);\n    }\n  }\n  static simplify2(points, tolerance = 1) {\n    if (points.length <= 2)\n      return points;\n    const sqTolerance = tolerance * tolerance;\n    let A3 = points[0];\n    let B3 = points[1];\n    const newPoints = [A3];\n    for (let i2 = 1, len = points.length; i2 < len; i2++) {\n      B3 = points[i2];\n      if ((B3[0] - A3[0]) * (B3[0] - A3[0]) + (B3[1] - A3[1]) * (B3[1] - A3[1]) > sqTolerance) {\n        newPoints.push(B3);\n        A3 = B3;\n      }\n    }\n    if (A3 !== B3)\n      newPoints.push(B3);\n    const last = newPoints.length - 1;\n    const result = [newPoints[0]];\n    _PointUtils._simplifyStep(newPoints, 0, last, sqTolerance, result);\n    result.push(newPoints[last], points[points.length - 1]);\n    return result;\n  }\n  static pointNearToPolyline(point, points, distance = 8) {\n    const len = points.length;\n    for (let i2 = 1; i2 < len; i2++) {\n      const p1 = points[i2 - 1];\n      const p2 = points[i2];\n      const d2 = Vec.distanceToLineSegment(p1, p2, point);\n      if (d2 < distance)\n        return true;\n    }\n    return false;\n  }\n};\nvar PointUtils = _PointUtils;\n__publicField(PointUtils, \"simplify\", (points, tolerance = 1) => {\n  const len = points.length;\n  const a3 = points[0];\n  const b3 = points[len - 1];\n  const [x1, y1] = a3;\n  const [x2, y2] = b3;\n  if (len > 2) {\n    let distance = 0;\n    let index2 = 0;\n    const max = Vec.len2([y2 - y1, x2 - x1]);\n    for (let i2 = 1; i2 < len - 1; i2++) {\n      const [x0, y0] = points[i2];\n      const d2 = Math.pow(x0 * (y2 - y1) + x1 * (y0 - y2) + x2 * (y1 - y0), 2) \/ max;\n      if (distance > d2)\n        continue;\n      distance = d2;\n      index2 = i2;\n    }\n    if (distance > tolerance) {\n      const l0 = _PointUtils.simplify(points.slice(0, index2 + 1), tolerance);\n      const l1 = _PointUtils.simplify(points.slice(index2 + 1), tolerance);\n      return l0.concat(l1.slice(1));\n    }\n  }\n  return [a3, b3];\n});\n\n\/\/ ..\/..\/packages\/core\/src\/constants.ts\nvar PI = Math.PI;\nvar TAU = PI \/ 2;\nvar PI2 = PI * 2;\nvar EPSILON = Math.PI \/ 180;\nvar FIT_TO_SCREEN_PADDING = 100;\nvar BINDING_DISTANCE = 4;\nvar ZOOM_UPDATE_FACTOR = 0.8;\nvar GRID_SIZE = 8;\nvar EXPORT_PADDING = 8;\nvar EMPTY_OBJECT = {};\nvar GROUP_PADDING = 8;\nvar CURSORS = {\n  [\"bottom_edge\" \/* Bottom *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"top_edge\" \/* Top *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"left_edge\" \/* Left *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"right_edge\" \/* Right *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_left_corner\" \/* TopLeft *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_right_corner\" \/* TopRight *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_left_resize_corner\" \/* BottomLeft *\/]: \"swne-rotate\" \/* SwneRotate *\/,\n  [\"bottom_right_resize_corner\" \/* BottomRight *\/]: \"senw-rotate\" \/* SenwRotate *\/,\n  [\"top_left_resize_corner\" \/* TopLeft *\/]: \"nwse-rotate\" \/* NwseRotate *\/,\n  [\"top_right_resize_corner\" \/* TopRight *\/]: \"nesw-rotate\" \/* NeswRotate *\/,\n  rotate: \"rotate\" \/* Rotate *\/,\n  center: \"grab\" \/* Grab *\/,\n  background: \"grab\" \/* Grab *\/\n};\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/GeomUtils.ts\nvar GeomUtils = class {\n  static circleFromThreePoints(A3, B3, C3) {\n    const [x1, y1] = A3;\n    const [x2, y2] = B3;\n    const [x3, y3] = C3;\n    const a3 = x1 * (y2 - y3) - y1 * (x2 - x3) + x2 * y3 - x3 * y2;\n    const b3 = (x1 * x1 + y1 * y1) * (y3 - y2) + (x2 * x2 + y2 * y2) * (y1 - y3) + (x3 * x3 + y3 * y3) * (y2 - y1);\n    const c2 = (x1 * x1 + y1 * y1) * (x2 - x3) + (x2 * x2 + y2 * y2) * (x3 - x1) + (x3 * x3 + y3 * y3) * (x1 - x2);\n    const x4 = -b3 \/ (2 * a3);\n    const y4 = -c2 \/ (2 * a3);\n    return [x4, y4, Math.hypot(x4 - x1, y4 - y1)];\n  }\n  static perimeterOfEllipse(rx, ry) {\n    const h2 = Math.pow(rx - ry, 2) \/ Math.pow(rx + ry, 2);\n    const p2 = PI * (rx + ry) * (1 + 3 * h2 \/ (10 + Math.sqrt(4 - 3 * h2)));\n    return p2;\n  }\n  static shortAngleDist(a0, a1) {\n    const da = (a1 - a0) % PI2;\n    return 2 * da % PI2 - da;\n  }\n  static longAngleDist(a0, a1) {\n    return PI2 - GeomUtils.shortAngleDist(a0, a1);\n  }\n  static lerpAngles(a0, a1, t) {\n    return a0 + GeomUtils.shortAngleDist(a0, a1) * t;\n  }\n  static angleDelta(a0, a1) {\n    return GeomUtils.shortAngleDist(a0, a1);\n  }\n  static getSweep(C3, A3, B3) {\n    return GeomUtils.angleDelta(src_default.angle(C3, A3), src_default.angle(C3, B3));\n  }\n  static clampRadians(r2) {\n    return (PI2 + r2) % PI2;\n  }\n  static snapAngleToSegments(r2, segments) {\n    const seg = PI2 \/ segments;\n    let ang = Math.floor((GeomUtils.clampRadians(r2) + seg \/ 2) \/ seg) * seg % PI2;\n    if (ang < PI)\n      ang += PI2;\n    if (ang > PI)\n      ang -= PI2;\n    return ang;\n  }\n  static isAngleBetween(a3, b3, c2) {\n    if (c2 === a3 || c2 === b3)\n      return true;\n    const AB = (b3 - a3 + TAU) % TAU;\n    const AC = (c2 - a3 + TAU) % TAU;\n    return AB <= PI !== AC > AB;\n  }\n  static degreesToRadians(d2) {\n    return d2 * PI \/ 180;\n  }\n  static radiansToDegrees(r2) {\n    return r2 * 180 \/ PI;\n  }\n  static getArcLength(C3, r2, A3, B3) {\n    const sweep = GeomUtils.getSweep(C3, A3, B3);\n    return r2 * PI2 * (sweep \/ PI2);\n  }\n  static getSweepFlag(A3, B3, C3) {\n    const angleAC = src_default.angle(A3, C3);\n    const angleAB = src_default.angle(A3, B3);\n    const angleCAB = (angleAB - angleAC + 3 * PI) % PI2 - PI;\n    return angleCAB > 0 ? 0 : 1;\n  }\n  static getLargeArcFlag(A3, C3, P2) {\n    const anglePA = src_default.angle(P2, A3);\n    const anglePC = src_default.angle(P2, C3);\n    const angleAPC = (anglePC - anglePA + 3 * PI) % PI2 - PI;\n    return Math.abs(angleAPC) > TAU ? 0 : 1;\n  }\n  static getArcDashOffset(C3, r2, A3, B3, step) {\n    const del0 = GeomUtils.getSweepFlag(C3, A3, B3);\n    const len0 = GeomUtils.getArcLength(C3, r2, A3, B3);\n    const off0 = del0 < 0 ? len0 : PI2 * C3[2] - len0;\n    return -off0 \/ 2 + step;\n  }\n  static getEllipseDashOffset(A3, step) {\n    const c2 = PI2 * A3[2];\n    return -c2 \/ 2 + -step;\n  }\n  static radiansToCardinalDirection(radians) {\n    if (radians < Math.PI * 0.25) {\n      return \"north\";\n    } else if (radians < Math.PI * 0.75) {\n      return \"east\";\n    } else if (radians < Math.PI * 1.25) {\n      return \"south\";\n    } else if (radians < Math.PI * 1.75) {\n      return \"west\";\n    } else {\n      return \"north\";\n    }\n  }\n};\n\n\/\/ ..\/..\/packages\/utils\/intersect\/src\/index.ts\nfunction createIntersection(message, ...points) {\n  const didIntersect = points.length > 0;\n  return { didIntersect, message, points };\n}\nfunction getRectangleSides(point, size, rotation = 0) {\n  const center = [point[0] + size[0] \/ 2, point[1] + size[1] \/ 2];\n  const tl = Vec.rotWith(point, center, rotation);\n  const tr = Vec.rotWith(Vec.add(point, [size[0], 0]), center, rotation);\n  const br = Vec.rotWith(Vec.add(point, size), center, rotation);\n  const bl = Vec.rotWith(Vec.add(point, [0, size[1]]), center, rotation);\n  return [\n    [\"top\", [tl, tr]],\n    [\"right\", [tr, br]],\n    [\"bottom\", [br, bl]],\n    [\"left\", [bl, tl]]\n  ];\n}\nfunction intersectLineLine(AB, PQ) {\n  const slopeAB = Vec.slope(AB[0], AB[1]);\n  const slopePQ = Vec.slope(PQ[0], PQ[1]);\n  if (slopeAB === slopePQ)\n    return void 0;\n  if (Number.isNaN(slopeAB) && !Number.isNaN(slopePQ)) {\n    return [AB[0][0], (AB[0][0] - PQ[0][0]) * slopePQ + PQ[0][1]];\n  }\n  if (Number.isNaN(slopePQ) && !Number.isNaN(slopeAB)) {\n    return [PQ[0][0], (PQ[0][0] - AB[0][0]) * slopeAB + AB[0][1]];\n  }\n  const x2 = (slopeAB * AB[0][0] - slopePQ * PQ[0][0] + PQ[0][1] - AB[0][1]) \/ (slopeAB - slopePQ);\n  const y2 = slopePQ * (x2 - PQ[0][0]) + PQ[0][1];\n  return [x2, y2];\n}\nfunction intersectRayLineSegment(origin, direction, a1, a22) {\n  const [x2, y2] = origin;\n  const [dx, dy] = direction;\n  const [x1, y1] = a1;\n  const [x22, y22] = a22;\n  if (dy \/ dx !== (y22 - y1) \/ (x22 - x1)) {\n    const d2 = dx * (y22 - y1) - dy * (x22 - x1);\n    if (d2 !== 0) {\n      const r2 = ((y2 - y1) * (x22 - x1) - (x2 - x1) * (y22 - y1)) \/ d2;\n      const s2 = ((y2 - y1) * dx - (x2 - x1) * dy) \/ d2;\n      if (r2 >= 0 && s2 >= 0 && s2 <= 1) {\n        return createIntersection(\"intersection\", [x2 + r2 * dx, y2 + r2 * dy]);\n      }\n    }\n  }\n  return createIntersection(\"no intersection\");\n}\nfunction intersectRayRectangle(origin, direction, point, size, rotation = 0) {\n  return intersectRectangleRay(point, size, rotation, origin, direction);\n}\nfunction intersectRayBounds(origin, direction, bounds, rotation = 0) {\n  const { minX, minY, width, height } = bounds;\n  return intersectRayRectangle(origin, direction, [minX, minY], [width, height], rotation);\n}\nfunction intersectLineSegmentLineSegment(a1, a22, b1, b22) {\n  const AB = Vec.sub(a1, b1);\n  const BV = Vec.sub(b22, b1);\n  const AV = Vec.sub(a22, a1);\n  const ua_t = BV[0] * AB[1] - BV[1] * AB[0];\n  const ub_t = AV[0] * AB[1] - AV[1] * AB[0];\n  const u_b = BV[1] * AV[0] - BV[0] * AV[1];\n  if (ua_t === 0 || ub_t === 0) {\n    return createIntersection(\"coincident\");\n  }\n  if (u_b === 0) {\n    return createIntersection(\"parallel\");\n  }\n  if (u_b !== 0) {\n    const ua = ua_t \/ u_b;\n    const ub = ub_t \/ u_b;\n    if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n      return createIntersection(\"intersection\", Vec.add(a1, Vec.mul(AV, ua)));\n    }\n  }\n  return createIntersection(\"no intersection\");\n}\nfunction intersectLineSegmentRectangle(a1, a22, point, size) {\n  return intersectRectangleLineSegment(point, size, a1, a22);\n}\nfunction intersectLineSegmentCircle(a1, a22, c2, r2) {\n  const a3 = (a22[0] - a1[0]) * (a22[0] - a1[0]) + (a22[1] - a1[1]) * (a22[1] - a1[1]);\n  const b3 = 2 * ((a22[0] - a1[0]) * (a1[0] - c2[0]) + (a22[1] - a1[1]) * (a1[1] - c2[1]));\n  const cc = c2[0] * c2[0] + c2[1] * c2[1] + a1[0] * a1[0] + a1[1] * a1[1] - 2 * (c2[0] * a1[0] + c2[1] * a1[1]) - r2 * r2;\n  const deter = b3 * b3 - 4 * a3 * cc;\n  if (deter < 0) {\n    return createIntersection(\"outside\");\n  }\n  if (deter === 0) {\n    return createIntersection(\"tangent\");\n  }\n  const e = Math.sqrt(deter);\n  const u1 = (-b3 + e) \/ (2 * a3);\n  const u2 = (-b3 - e) \/ (2 * a3);\n  if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {\n    if (u1 < 0 && u2 < 0 || u1 > 1 && u2 > 1) {\n      return createIntersection(\"outside\");\n    } else {\n      return createIntersection(\"inside\");\n    }\n  }\n  const results = [];\n  if (0 <= u1 && u1 <= 1)\n    results.push(Vec.lrp(a1, a22, u1));\n  if (0 <= u2 && u2 <= 1)\n    results.push(Vec.lrp(a1, a22, u2));\n  return createIntersection(\"intersection\", ...results);\n}\nfunction intersectLineSegmentEllipse(a1, a22, center, rx, ry, rotation = 0) {\n  if (rx === 0 || ry === 0 || Vec.isEqual(a1, a22)) {\n    return createIntersection(\"no intersection\");\n  }\n  rx = rx < 0 ? rx : -rx;\n  ry = ry < 0 ? ry : -ry;\n  a1 = Vec.sub(Vec.rotWith(a1, center, -rotation), center);\n  a22 = Vec.sub(Vec.rotWith(a22, center, -rotation), center);\n  const diff = Vec.sub(a22, a1);\n  const A3 = diff[0] * diff[0] \/ rx \/ rx + diff[1] * diff[1] \/ ry \/ ry;\n  const B3 = 2 * a1[0] * diff[0] \/ rx \/ rx + 2 * a1[1] * diff[1] \/ ry \/ ry;\n  const C3 = a1[0] * a1[0] \/ rx \/ rx + a1[1] * a1[1] \/ ry \/ ry - 1;\n  const tValues = [];\n  const discriminant = B3 * B3 - 4 * A3 * C3;\n  if (discriminant === 0) {\n    tValues.push(-B3 \/ 2 \/ A3);\n  } else if (discriminant > 0) {\n    const root = Math.sqrt(discriminant);\n    tValues.push((-B3 + root) \/ 2 \/ A3);\n    tValues.push((-B3 - root) \/ 2 \/ A3);\n  }\n  const points = tValues.filter((t) => t >= 0 && t <= 1).map((t) => Vec.add(center, Vec.add(a1, Vec.mul(Vec.sub(a22, a1), t)))).map((p2) => Vec.rotWith(p2, center, rotation));\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectLineSegmentBounds(a1, a22, bounds) {\n  return intersectBoundsLineSegment(bounds, a1, a22);\n}\nfunction intersectLineSegmentPolyline(a1, a22, points) {\n  const pts = [];\n  for (let i2 = 1; i2 < points.length; i2++) {\n    const int = intersectLineSegmentLineSegment(a1, a22, points[i2 - 1], points[i2]);\n    if (int) {\n      pts.push(...int.points);\n    }\n  }\n  if (pts.length === 0) {\n    return createIntersection(\"no intersection\");\n  }\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectLineSegmentPolygon(a1, a22, points) {\n  const pts = [];\n  for (let i2 = 1; i2 < points.length + 1; i2++) {\n    const int = intersectLineSegmentLineSegment(a1, a22, points[i2 - 1], points[i2 % points.length]);\n    if (int) {\n      pts.push(...int.points);\n    }\n  }\n  if (pts.length === 0) {\n    return createIntersection(\"no intersection\");\n  }\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectRectangleRay(point, size, rotation, origin, direction) {\n  const sideIntersections = getRectangleSides(point, size, rotation).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectRayLineSegment(origin, direction, a1, a22);\n      if (intersection) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleLineSegment(point, size, a1, a22) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [b1, b22]]) => {\n      const intersection = intersectLineSegmentLineSegment(a1, a22, b1, b22);\n      if (intersection) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleCircle(point, size, c2, r2) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentCircle(a1, a22, c2, r2);\n      if (intersection) {\n        acc.push(__spreadProps(__spreadValues({}, intersection), { message }));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleEllipse(point, size, c2, rx, ry, rotation = 0) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentEllipse(a1, a22, c2, rx, ry, rotation);\n      if (intersection) {\n        acc.push(__spreadProps(__spreadValues({}, intersection), { message }));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectanglePolyline(point, size, points) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentPolyline(a1, a22, points);\n      if (intersection.didIntersect) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectanglePolygon(point, size, points) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentPolygon(a1, a22, points);\n      if (intersection.didIntersect) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectCircleLineSegment(c2, r2, a1, a22) {\n  return intersectLineSegmentCircle(a1, a22, c2, r2);\n}\nfunction intersectEllipseRectangle(center, rx, ry, rotation = 0, point, size) {\n  if (rx === ry) {\n    return intersectRectangleCircle(point, size, center, rx);\n  }\n  return intersectRectangleEllipse(point, size, center, rx, ry, rotation);\n}\nfunction intersectEllipseBounds(c2, rx, ry, rotation, bounds) {\n  const { minX, minY, width, height } = bounds;\n  return intersectEllipseRectangle(c2, rx, ry, rotation, [minX, minY], [width, height]);\n}\nfunction intersectBoundsLineSegment(bounds, a1, a22) {\n  const { minX, minY, width, height } = bounds;\n  return intersectLineSegmentRectangle(a1, a22, [minX, minY], [width, height]);\n}\nfunction intersectPolylineBounds(points, bounds) {\n  return intersectRectanglePolyline(\n    [bounds.minX, bounds.minY],\n    [bounds.width, bounds.height],\n    points\n  );\n}\nfunction intersectPolygonBounds(points, bounds) {\n  return intersectRectanglePolygon(\n    [bounds.minX, bounds.minY],\n    [bounds.width, bounds.height],\n    points\n  );\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/PolygonUtils.ts\nvar _PolygonUtils = class {\n  static getPolygonCentroid(points) {\n    const x2 = points.map((point) => point[0]);\n    const y2 = points.map((point) => point[1]);\n    const cx2 = Math.min(...x2) + Math.max(...x2);\n    const cy = Math.min(...y2) + Math.max(...y2);\n    return [cx2 ? cx2 \/ 2 : 0, cy ? cy \/ 2 : 0];\n  }\n};\nvar PolygonUtils = _PolygonUtils;\n__publicField(PolygonUtils, \"getEdges\", (points) => {\n  const len = points.length;\n  return points.map((point, i2) => [point, points[(i2 + 1) % len]]);\n});\n__publicField(PolygonUtils, \"getEdgeOutwardNormal\", (A3, B3) => {\n  return src_default.per(src_default.uni(src_default.sub(B3, A3)));\n});\n__publicField(PolygonUtils, \"getEdgeInwardNormal\", (A3, B3) => {\n  return src_default.neg(_PolygonUtils.getEdgeOutwardNormal(A3, B3));\n});\n__publicField(PolygonUtils, \"getOffsetEdge\", (A3, B3, offset) => {\n  const offsetVector = src_default.mul(src_default.per(src_default.uni(src_default.sub(B3, A3))), offset);\n  return [src_default.add(A3, offsetVector), src_default.add(B3, offsetVector)];\n});\n__publicField(PolygonUtils, \"getOffsetEdges\", (edges, offset) => {\n  return edges.map(([A3, B3]) => _PolygonUtils.getOffsetEdge(A3, B3, offset));\n});\n__publicField(PolygonUtils, \"getOffsetPolygon\", (points, offset) => {\n  if (points.length < 1) {\n    throw Error(\"Expected at least one point.\");\n  } else if (points.length === 1) {\n    const A3 = points[0];\n    return [\n      src_default.add(A3, [-offset, -offset]),\n      src_default.add(A3, [offset, -offset]),\n      src_default.add(A3, [offset, offset]),\n      src_default.add(A3, [-offset, offset])\n    ];\n  } else if (points.length === 2) {\n    const [A3, B3] = points;\n    return [\n      ..._PolygonUtils.getOffsetEdge(A3, B3, offset),\n      ..._PolygonUtils.getOffsetEdge(B3, A3, offset)\n    ];\n  }\n  return _PolygonUtils.getOffsetEdges(_PolygonUtils.getEdges(points), offset).flatMap(\n    (edge, i2, edges) => {\n      const intersection = intersectLineLine(edge, edges[(i2 + 1) % edges.length]);\n      if (intersection === void 0)\n        throw Error(\"Expected an intersection\");\n      return intersection;\n    }\n  );\n});\n__publicField(PolygonUtils, \"getPolygonVertices\", (size, sides, padding = 0, ratio = 1) => {\n  const center = src_default.div(size, 2);\n  const [rx, ry] = [Math.max(1, center[0] - padding), Math.max(1, center[1] - padding)];\n  const pointsOnPerimeter = [];\n  for (let i2 = 0, step = PI2 \/ sides; i2 < sides; i2++) {\n    const t1 = (-TAU + i2 * step) % PI2;\n    const t2 = (-TAU + (i2 + 1) * step) % PI2;\n    const p1 = src_default.add(center, [rx * Math.cos(t1), ry * Math.sin(t1)]);\n    const p3 = src_default.add(center, [rx * Math.cos(t2), ry * Math.sin(t2)]);\n    const mid = src_default.med(p1, p3);\n    const p2 = src_default.nudge(mid, center, src_default.dist(center, mid) * (1 - ratio));\n    pointsOnPerimeter.push(p1, p2, p3);\n  }\n  return pointsOnPerimeter;\n});\n__publicField(PolygonUtils, \"getTriangleVertices\", (size, padding = 0, ratio = 1) => {\n  const [w2, h2] = size;\n  const r2 = 1 - ratio;\n  const A3 = [w2 \/ 2, padding \/ 2];\n  const B3 = [w2 - padding, h2 - padding];\n  const C3 = [padding \/ 2, h2 - padding];\n  const centroid = _PolygonUtils.getPolygonCentroid([A3, B3, C3]);\n  const AB = src_default.med(A3, B3);\n  const BC = src_default.med(B3, C3);\n  const CA = src_default.med(C3, A3);\n  const dAB = src_default.dist(AB, centroid) * r2;\n  const dBC = src_default.dist(BC, centroid) * r2;\n  const dCA = src_default.dist(CA, centroid) * r2;\n  return [\n    A3,\n    dAB ? src_default.nudge(AB, centroid, dAB) : AB,\n    B3,\n    dBC ? src_default.nudge(BC, centroid, dBC) : BC,\n    C3,\n    dCA ? src_default.nudge(CA, centroid, dCA) : CA\n  ];\n});\n__publicField(PolygonUtils, \"getStarVertices\", (center, size, sides, ratio = 1) => {\n  const outer = src_default.div(size, 2);\n  const inner = src_default.mul(outer, ratio \/ 2);\n  const step = PI2 \/ sides \/ 2;\n  return Array.from(Array(sides * 2)).map((_2, i2) => {\n    const theta = -TAU + i2 * step;\n    const [rx, ry] = i2 % 2 ? inner : outer;\n    return src_default.add(center, [rx * Math.cos(theta), ry * Math.sin(theta)]);\n  });\n});\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/SvgPathUtils.ts\nvar SvgPathUtils = class {\n  static getCurvedPathForPolygon(points) {\n    if (points.length < 3) {\n      return `M -4, 0\n      a 4,4 0 1,0 8,0\n      a 4,4 0 1,0 -8,0`;\n    }\n    const d2 = [\"M\", ...points[0].slice(0, 2), \"Q\"];\n    const len = points.length;\n    for (let i2 = 1; i2 < len; i2++) {\n      const [x0, y0] = points[i2];\n      const [x1, y1] = points[(i2 + 1) % len];\n      d2.push(x0, y0, (x0 + x1) \/ 2, (y0 + y1) \/ 2);\n    }\n    d2.push(\"Z\");\n    return d2.join(\" \");\n  }\n  static getCurvedPathForPoints(points) {\n    if (points.length < 3) {\n      return `M -4, 0\n      a 4,4 0 1,0 8,0\n      a 4,4 0 1,0 -8,0`;\n    }\n    const d2 = [\"M\", ...points[0].slice(0, 2), \"Q\"];\n    const len = points.length;\n    for (let i2 = 1; i2 < len - 1; i2++) {\n      const [x0, y0] = points[i2];\n      const [x1, y1] = points[i2 + 1];\n      d2.push(x0, y0, (x0 + x1) \/ 2, (y0 + y1) \/ 2);\n    }\n    return d2.join(\" \");\n  }\n  static getSvgPathFromStroke(points, closed = true) {\n    const len = points.length;\n    if (len < 4) {\n      return ``;\n    }\n    let a3 = points[0];\n    let b3 = points[1];\n    const c2 = points[2];\n    let result = `M${a3[0].toFixed(2)},${a3[1].toFixed(2)} Q${b3[0].toFixed(2)},${b3[1].toFixed(\n      2\n    )} ${average(b3[0], c2[0]).toFixed(2)},${average(b3[1], c2[1]).toFixed(2)} T`;\n    for (let i2 = 2, max = len - 1; i2 < max; i2++) {\n      a3 = points[i2];\n      b3 = points[i2 + 1];\n      result += `${average(a3[0], b3[0]).toFixed(2)},${average(a3[1], b3[1]).toFixed(2)} `;\n    }\n    if (closed) {\n      result += \"Z\";\n    }\n    return result;\n  }\n  static getSvgPathFromStrokePoints(points, closed = false) {\n    const len = points.length;\n    if (len < 4) {\n      return ``;\n    }\n    let a3 = points[0].point;\n    let b3 = points[1].point;\n    const c2 = points[2].point;\n    let result = `M${a3[0].toFixed(2)},${a3[1].toFixed(2)} Q${b3[0].toFixed(2)},${b3[1].toFixed(\n      2\n    )} ${average(b3[0], c2[0]).toFixed(2)},${average(b3[1], c2[1]).toFixed(2)} T`;\n    for (let i2 = 2, max = len - 1; i2 < max; i2++) {\n      a3 = points[i2].point;\n      b3 = points[i2 + 1].point;\n      result += `${average(a3[0], b3[0]).toFixed(2)},${average(a3[1], b3[1]).toFixed(2)} `;\n    }\n    if (closed) {\n      result += \"Z\";\n    }\n    return result;\n  }\n};\n__publicField(SvgPathUtils, \"TRIM_NUMBERS\", \/(\\s?[A-Z]?,?-?[0-9]*\\.[0-9]{0,2})(([0-9]|e|-)*)\/g);\nfunction average(a3, b3) {\n  return (a3 + b3) \/ 2;\n}\n\n\/\/ ..\/..\/node_modules\/mobx\/dist\/mobx.esm.js\nfunction die(error) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (false) {\n    var e = typeof error === \"string\" ? error : errors[error];\n    if (typeof e === \"function\")\n      e = e.apply(null, args);\n    throw new Error(\"[MobX] \" + e);\n  }\n  throw new Error(typeof error === \"number\" ? \"[MobX] minified error nr: \" + error + (args.length ? \" \" + args.map(String).join(\",\") : \"\") + \". Find the full error at: https:\/\/github.com\/mobxjs\/mobx\/blob\/main\/packages\/mobx\/src\/errors.ts\" : \"[MobX] \" + error);\n}\nvar mockGlobal = {};\nfunction getGlobal() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  return mockGlobal;\n}\nvar assign = Object.assign;\nvar getDescriptor = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar objectPrototype = Object.prototype;\nvar EMPTY_ARRAY = [];\nObject.freeze(EMPTY_ARRAY);\nvar EMPTY_OBJECT2 = {};\nObject.freeze(EMPTY_OBJECT2);\nvar hasProxy = typeof Proxy !== \"undefined\";\nvar plainObjectString = \/* @__PURE__ *\/ Object.toString();\nfunction assertProxies() {\n  if (!hasProxy) {\n    die(false ? \"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`\" : \"Proxy not available\");\n  }\n}\nfunction once(func) {\n  var invoked = false;\n  return function() {\n    if (invoked) {\n      return;\n    }\n    invoked = true;\n    return func.apply(this, arguments);\n  };\n}\nvar noop = function noop2() {\n};\nfunction isFunction(fn) {\n  return typeof fn === \"function\";\n}\nfunction isStringish(value) {\n  var t = typeof value;\n  switch (t) {\n    case \"string\":\n    case \"symbol\":\n    case \"number\":\n      return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var proto = Object.getPrototypeOf(value);\n  if (proto == null) {\n    return true;\n  }\n  var protoConstructor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof protoConstructor === \"function\" && protoConstructor.toString() === plainObjectString;\n}\nfunction isGenerator(obj) {\n  var constructor = obj == null ? void 0 : obj.constructor;\n  if (!constructor) {\n    return false;\n  }\n  if (\"GeneratorFunction\" === constructor.name || \"GeneratorFunction\" === constructor.displayName) {\n    return true;\n  }\n  return false;\n}\nfunction addHiddenProp(object2, propName, value) {\n  defineProperty(object2, propName, {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value\n  });\n}\nfunction addHiddenFinalProp(object2, propName, value) {\n  defineProperty(object2, propName, {\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    value\n  });\n}\nfunction createInstanceofPredicate(name, theClass) {\n  var propName = \"isMobX\" + name;\n  theClass.prototype[propName] = true;\n  return function(x2) {\n    return isObject(x2) && x2[propName] === true;\n  };\n}\nfunction isES6Map(thing) {\n  return thing instanceof Map;\n}\nfunction isES6Set(thing) {\n  return thing instanceof Set;\n}\nvar hasGetOwnPropertySymbols = typeof Object.getOwnPropertySymbols !== \"undefined\";\nfunction getPlainObjectKeys(object2) {\n  var keys = Object.keys(object2);\n  if (!hasGetOwnPropertySymbols) {\n    return keys;\n  }\n  var symbols = Object.getOwnPropertySymbols(object2);\n  if (!symbols.length) {\n    return keys;\n  }\n  return [].concat(keys, symbols.filter(function(s2) {\n    return objectPrototype.propertyIsEnumerable.call(object2, s2);\n  }));\n}\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : hasGetOwnPropertySymbols ? function(obj) {\n  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n} : Object.getOwnPropertyNames;\nfunction toPrimitive(value) {\n  return value === null ? null : typeof value === \"object\" ? \"\" + value : value;\n}\nfunction hasProp(target, prop) {\n  return objectPrototype.hasOwnProperty.call(target, prop);\n}\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors2(target) {\n  var res = {};\n  ownKeys(target).forEach(function(key) {\n    res[key] = getDescriptor(target, key);\n  });\n  return res;\n};\nfunction _defineProperties(target, props) {\n  for (var i2 = 0; i2 < props.length; i2++) {\n    var descriptor = props[i2];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign || function(target) {\n    for (var i2 = 1; i2 < arguments.length; i2++) {\n      var source = arguments[i2];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o2, p2) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {\n    o3.__proto__ = p3;\n    return o3;\n  };\n  return _setPrototypeOf(o2, p2);\n}\nfunction _assertThisInitialized(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _unsupportedIterableToArray(o2, minLen) {\n  if (!o2)\n    return;\n  if (typeof o2 === \"string\")\n    return _arrayLikeToArray(o2, minLen);\n  var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n  if (n2 === \"Object\" && o2.constructor)\n    n2 = o2.constructor.name;\n  if (n2 === \"Map\" || n2 === \"Set\")\n    return Array.from(o2);\n  if (n2 === \"Arguments\" || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n2))\n    return _arrayLikeToArray(o2, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++)\n    arr2[i2] = arr[i2];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o2, allowArrayLike) {\n  var it2 = typeof Symbol !== \"undefined\" && o2[Symbol.iterator] || o2[\"@@iterator\"];\n  if (it2)\n    return (it2 = it2.call(o2)).next.bind(it2);\n  if (Array.isArray(o2) || (it2 = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === \"number\") {\n    if (it2)\n      o2 = it2;\n    var i2 = 0;\n    return function() {\n      if (i2 >= o2.length)\n        return {\n          done: true\n        };\n      return {\n        done: false,\n        value: o2[i2++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar storedAnnotationsSymbol = \/* @__PURE__ *\/ Symbol(\"mobx-stored-annotations\");\nfunction createDecoratorAnnotation(annotation) {\n  function decorator(target, property) {\n    storeAnnotation(target, property, annotation);\n  }\n  return Object.assign(decorator, annotation);\n}\nfunction storeAnnotation(prototype, key, annotation) {\n  if (!hasProp(prototype, storedAnnotationsSymbol)) {\n    addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));\n  }\n  if (false) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    die(\"'\" + fieldName + \"' is decorated with 'override', but no such decorated member was found on prototype.\");\n  }\n  assertNotDecorated(prototype, annotation, key);\n  if (!isOverride(annotation)) {\n    prototype[storedAnnotationsSymbol][key] = annotation;\n  }\n}\nfunction assertNotDecorated(prototype, annotation, key) {\n  if (false) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    var currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '@\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already decorated with '@\" + currentAnnotationType + \"'.\") + \"\\nRe-decorating fields is not allowed.\\nUse '@override' decorator for methods overridden by subclass.\");\n  }\n}\nfunction collectStoredAnnotations(target) {\n  if (!hasProp(target, storedAnnotationsSymbol)) {\n    if (false) {\n      die(\"No annotations were passed to makeObservable, but no decorated members have been found either\");\n    }\n    addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));\n  }\n  return target[storedAnnotationsSymbol];\n}\nvar $mobx = \/* @__PURE__ *\/ Symbol(\"mobx administration\");\nvar Atom = \/* @__PURE__ *\/ function() {\n  function Atom2(name_) {\n    if (name_ === void 0) {\n      name_ = false ? \"Atom@\" + getNextId() : \"Atom\";\n    }\n    this.name_ = void 0;\n    this.isPendingUnobservation_ = false;\n    this.isBeingObserved_ = false;\n    this.observers_ = \/* @__PURE__ *\/ new Set();\n    this.diffValue_ = 0;\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;\n    this.onBOL = void 0;\n    this.onBUOL = void 0;\n    this.name_ = name_;\n  }\n  var _proto = Atom2.prototype;\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.reportObserved = function reportObserved$1() {\n    return reportObserved(this);\n  };\n  _proto.reportChanged = function reportChanged() {\n    startBatch();\n    propagateChanged(this);\n    endBatch();\n  };\n  _proto.toString = function toString2() {\n    return this.name_;\n  };\n  return Atom2;\n}();\nvar isAtom = \/* @__PURE__ *\/ createInstanceofPredicate(\"Atom\", Atom);\nfunction createAtom(name, onBecomeObservedHandler, onBecomeUnobservedHandler) {\n  if (onBecomeObservedHandler === void 0) {\n    onBecomeObservedHandler = noop;\n  }\n  if (onBecomeUnobservedHandler === void 0) {\n    onBecomeUnobservedHandler = noop;\n  }\n  var atom = new Atom(name);\n  if (onBecomeObservedHandler !== noop) {\n    onBecomeObserved(atom, onBecomeObservedHandler);\n  }\n  if (onBecomeUnobservedHandler !== noop) {\n    onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n  }\n  return atom;\n}\nfunction identityComparer(a3, b3) {\n  return a3 === b3;\n}\nfunction structuralComparer(a3, b3) {\n  return deepEqual(a3, b3);\n}\nfunction shallowComparer(a3, b3) {\n  return deepEqual(a3, b3, 1);\n}\nfunction defaultComparer(a3, b3) {\n  if (Object.is) {\n    return Object.is(a3, b3);\n  }\n  return a3 === b3 ? a3 !== 0 || 1 \/ a3 === 1 \/ b3 : a3 !== a3 && b3 !== b3;\n}\nvar comparer = {\n  identity: identityComparer,\n  structural: structuralComparer,\n  \"default\": defaultComparer,\n  shallow: shallowComparer\n};\nfunction deepEnhancer(v2, _2, name) {\n  if (isObservable(v2)) {\n    return v2;\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, {\n      name\n    });\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, void 0, {\n      name\n    });\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, {\n      name\n    });\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, {\n      name\n    });\n  }\n  if (typeof v2 === \"function\" && !isAction(v2) && !isFlow(v2)) {\n    if (isGenerator(v2)) {\n      return flow(v2);\n    } else {\n      return autoAction(name, v2);\n    }\n  }\n  return v2;\n}\nfunction shallowEnhancer(v2, _2, name) {\n  if (v2 === void 0 || v2 === null) {\n    return v2;\n  }\n  if (isObservableObject(v2) || isObservableArray(v2) || isObservableMap(v2) || isObservableSet(v2)) {\n    return v2;\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, void 0, {\n      name,\n      deep: false\n    });\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (false) {\n    die(\"The shallow modifier \/ decorator can only used in combination with arrays, objects, maps and sets\");\n  }\n}\nfunction referenceEnhancer(newValue) {\n  return newValue;\n}\nfunction refStructEnhancer(v2, oldValue) {\n  if (false) {\n    die(\"observable.struct should not be used with observable values\");\n  }\n  if (deepEqual(v2, oldValue)) {\n    return oldValue;\n  }\n  return v2;\n}\nvar OVERRIDE = \"override\";\nfunction isOverride(annotation) {\n  return annotation.annotationType_ === OVERRIDE;\n}\nfunction createActionAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$1,\n    extend_: extend_$1\n  };\n}\nfunction make_$1(adm, key, descriptor, source) {\n  var _this$options_;\n  if ((_this$options_ = this.options_) != null && _this$options_.bound) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n  }\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 2;\n  }\n  if (isAction(descriptor.value)) {\n    return 1;\n  }\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor, false);\n  defineProperty(source, key, actionDescriptor);\n  return 2;\n}\nfunction extend_$1(adm, key, descriptor, proxyTrap) {\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor);\n  return adm.defineProperty_(key, actionDescriptor, proxyTrap);\n}\nfunction assertActionDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a function value.\"));\n  }\n}\nfunction createActionDescriptor(adm, annotation, key, descriptor, safeDescriptors) {\n  var _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$2, _annotation$options_3, _annotation$options_4, _adm$proxy_2;\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertActionDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  if ((_annotation$options_ = annotation.options_) != null && _annotation$options_.bound) {\n    var _adm$proxy_;\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return {\n    value: createAction(\n      (_annotation$options_$ = (_annotation$options_2 = annotation.options_) == null ? void 0 : _annotation$options_2.name) != null ? _annotation$options_$ : key.toString(),\n      value,\n      (_annotation$options_$2 = (_annotation$options_3 = annotation.options_) == null ? void 0 : _annotation$options_3.autoAction) != null ? _annotation$options_$2 : false,\n      (_annotation$options_4 = annotation.options_) != null && _annotation$options_4.bound ? (_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_ : void 0\n    ),\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    enumerable: false,\n    writable: safeDescriptors ? false : true\n  };\n}\nfunction createFlowAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$2,\n    extend_: extend_$2\n  };\n}\nfunction make_$2(adm, key, descriptor, source) {\n  var _this$options_;\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 2;\n  }\n  if ((_this$options_ = this.options_) != null && _this$options_.bound && (!hasProp(adm.target_, key) || !isFlow(adm.target_[key]))) {\n    if (this.extend_(adm, key, descriptor, false) === null) {\n      return 0;\n    }\n  }\n  if (isFlow(descriptor.value)) {\n    return 1;\n  }\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, false, false);\n  defineProperty(source, key, flowDescriptor);\n  return 2;\n}\nfunction extend_$2(adm, key, descriptor, proxyTrap) {\n  var _this$options_2;\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, (_this$options_2 = this.options_) == null ? void 0 : _this$options_2.bound);\n  return adm.defineProperty_(key, flowDescriptor, proxyTrap);\n}\nfunction assertFlowDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a generator function value.\"));\n  }\n}\nfunction createFlowDescriptor(adm, annotation, key, descriptor, bound, safeDescriptors) {\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertFlowDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  if (!isFlow(value)) {\n    value = flow(value);\n  }\n  if (bound) {\n    var _adm$proxy_;\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n    value.isMobXFlow = true;\n  }\n  return {\n    value,\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    enumerable: false,\n    writable: safeDescriptors ? false : true\n  };\n}\nfunction createComputedAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$3,\n    extend_: extend_$3\n  };\n}\nfunction make_$3(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n}\nfunction extend_$3(adm, key, descriptor, proxyTrap) {\n  assertComputedDescriptor(adm, this, key, descriptor);\n  return adm.defineComputedProperty_(key, _extends({}, this.options_, {\n    get: descriptor.get,\n    set: descriptor.set\n  }), proxyTrap);\n}\nfunction assertComputedDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var get3 = _ref2.get;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on getter(+setter) properties.\"));\n  }\n}\nfunction createObservableAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$4,\n    extend_: extend_$4\n  };\n}\nfunction make_$4(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n}\nfunction extend_$4(adm, key, descriptor, proxyTrap) {\n  var _this$options_$enhanc, _this$options_;\n  assertObservableDescriptor(adm, this, key, descriptor);\n  return adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = this.options_) == null ? void 0 : _this$options_.enhancer) != null ? _this$options_$enhanc : deepEnhancer, proxyTrap);\n}\nfunction assertObservableDescriptor(adm, _ref, key, descriptor) {\n  var annotationType_ = _ref.annotationType_;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' cannot be used on getter\/setter properties\"));\n  }\n}\nvar AUTO = \"true\";\nvar autoAnnotation = \/* @__PURE__ *\/ createAutoAnnotation();\nfunction createAutoAnnotation(options) {\n  return {\n    annotationType_: AUTO,\n    options_: options,\n    make_: make_$5,\n    extend_: extend_$5\n  };\n}\nfunction make_$5(adm, key, descriptor, source) {\n  var _this$options_3, _this$options_4;\n  if (descriptor.get) {\n    return computed.make_(adm, key, descriptor, source);\n  }\n  if (descriptor.set) {\n    var set4 = createAction(key.toString(), descriptor.set);\n    if (source === adm.target_) {\n      return adm.defineProperty_(key, {\n        configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n        set: set4\n      }) === null ? 0 : 2;\n    }\n    defineProperty(source, key, {\n      configurable: true,\n      set: set4\n    });\n    return 2;\n  }\n  if (source !== adm.target_ && typeof descriptor.value === \"function\") {\n    var _this$options_2;\n    if (isGenerator(descriptor.value)) {\n      var _this$options_;\n      var flowAnnotation2 = (_this$options_ = this.options_) != null && _this$options_.autoBind ? flow.bound : flow;\n      return flowAnnotation2.make_(adm, key, descriptor, source);\n    }\n    var actionAnnotation2 = (_this$options_2 = this.options_) != null && _this$options_2.autoBind ? autoAction.bound : autoAction;\n    return actionAnnotation2.make_(adm, key, descriptor, source);\n  }\n  var observableAnnotation2 = ((_this$options_3 = this.options_) == null ? void 0 : _this$options_3.deep) === false ? observable.ref : observable;\n  if (typeof descriptor.value === \"function\" && (_this$options_4 = this.options_) != null && _this$options_4.autoBind) {\n    var _adm$proxy_;\n    descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return observableAnnotation2.make_(adm, key, descriptor, source);\n}\nfunction extend_$5(adm, key, descriptor, proxyTrap) {\n  var _this$options_5, _this$options_6;\n  if (descriptor.get) {\n    return computed.extend_(adm, key, descriptor, proxyTrap);\n  }\n  if (descriptor.set) {\n    return adm.defineProperty_(key, {\n      configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n      set: createAction(key.toString(), descriptor.set)\n    }, proxyTrap);\n  }\n  if (typeof descriptor.value === \"function\" && (_this$options_5 = this.options_) != null && _this$options_5.autoBind) {\n    var _adm$proxy_2;\n    descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_);\n  }\n  var observableAnnotation2 = ((_this$options_6 = this.options_) == null ? void 0 : _this$options_6.deep) === false ? observable.ref : observable;\n  return observableAnnotation2.extend_(adm, key, descriptor, proxyTrap);\n}\nvar OBSERVABLE = \"observable\";\nvar OBSERVABLE_REF = \"observable.ref\";\nvar OBSERVABLE_SHALLOW = \"observable.shallow\";\nvar OBSERVABLE_STRUCT = \"observable.struct\";\nvar defaultCreateObservableOptions = {\n  deep: true,\n  name: void 0,\n  defaultDecorator: void 0,\n  proxy: true\n};\nObject.freeze(defaultCreateObservableOptions);\nfunction asCreateObservableOptions(thing) {\n  return thing || defaultCreateObservableOptions;\n}\nvar observableAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE);\nvar observableRefAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_REF, {\n  enhancer: referenceEnhancer\n});\nvar observableShallowAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_SHALLOW, {\n  enhancer: shallowEnhancer\n});\nvar observableStructAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_STRUCT, {\n  enhancer: refStructEnhancer\n});\nvar observableDecoratorAnnotation = \/* @__PURE__ *\/ createDecoratorAnnotation(observableAnnotation);\nfunction getEnhancerFromOptions(options) {\n  return options.deep === true ? deepEnhancer : options.deep === false ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);\n}\nfunction getAnnotationFromOptions(options) {\n  var _options$defaultDecor;\n  return options ? (_options$defaultDecor = options.defaultDecorator) != null ? _options$defaultDecor : createAutoAnnotation(options) : void 0;\n}\nfunction getEnhancerFromAnnotation(annotation) {\n  var _annotation$options_$, _annotation$options_;\n  return !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == null ? void 0 : _annotation$options_.enhancer) != null ? _annotation$options_$ : deepEnhancer;\n}\nfunction createObservable(v2, arg2, arg3) {\n  if (isStringish(arg2)) {\n    storeAnnotation(v2, arg2, observableAnnotation);\n    return;\n  }\n  if (isObservable(v2)) {\n    return v2;\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, arg2, arg3);\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, arg2);\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, arg2);\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, arg2);\n  }\n  if (typeof v2 === \"object\" && v2 !== null) {\n    return v2;\n  }\n  return observable.box(v2, arg2);\n}\nObject.assign(createObservable, observableDecoratorAnnotation);\nvar observableFactories = {\n  box: function box(value, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableValue(value, getEnhancerFromOptions(o2), o2.name, true, o2.equals);\n  },\n  array: function array(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return (globalState.useProxies === false || o2.proxy === false ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  map: function map(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableMap(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  set: function set(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableSet(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  object: function object(props, decorators, options) {\n    return extendObservable(globalState.useProxies === false || (options == null ? void 0 : options.proxy) === false ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);\n  },\n  ref: \/* @__PURE__ *\/ createDecoratorAnnotation(observableRefAnnotation),\n  shallow: \/* @__PURE__ *\/ createDecoratorAnnotation(observableShallowAnnotation),\n  deep: observableDecoratorAnnotation,\n  struct: \/* @__PURE__ *\/ createDecoratorAnnotation(observableStructAnnotation)\n};\nvar observable = \/* @__PURE__ *\/ assign(createObservable, observableFactories);\nvar COMPUTED = \"computed\";\nvar COMPUTED_STRUCT = \"computed.struct\";\nvar computedAnnotation = \/* @__PURE__ *\/ createComputedAnnotation(COMPUTED);\nvar computedStructAnnotation = \/* @__PURE__ *\/ createComputedAnnotation(COMPUTED_STRUCT, {\n  equals: comparer.structural\n});\nvar computed = function computed2(arg1, arg2) {\n  if (isStringish(arg2)) {\n    return storeAnnotation(arg1, arg2, computedAnnotation);\n  }\n  if (isPlainObject(arg1)) {\n    return createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));\n  }\n  if (false) {\n    if (!isFunction(arg1)) {\n      die(\"First argument to `computed` should be an expression.\");\n    }\n    if (isFunction(arg2)) {\n      die(\"A setter as second argument is no longer supported, use `{ set: fn }` option instead\");\n    }\n  }\n  var opts = isPlainObject(arg2) ? arg2 : {};\n  opts.get = arg1;\n  opts.name || (opts.name = arg1.name || \"\");\n  return new ComputedValue(opts);\n};\nObject.assign(computed, computedAnnotation);\ncomputed.struct = \/* @__PURE__ *\/ createDecoratorAnnotation(computedStructAnnotation);\nvar _getDescriptor$config;\nvar _getDescriptor;\nvar currentActionId = 0;\nvar nextActionId = 1;\nvar isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = \/* @__PURE__ *\/ getDescriptor(function() {\n}, \"name\")) == null ? void 0 : _getDescriptor.configurable) != null ? _getDescriptor$config : false;\nvar tmpNameDescriptor = {\n  value: \"action\",\n  configurable: true,\n  writable: false,\n  enumerable: false\n};\nfunction createAction(actionName, fn, autoAction2, ref) {\n  if (autoAction2 === void 0) {\n    autoAction2 = false;\n  }\n  if (false) {\n    if (!isFunction(fn)) {\n      die(\"`action` can only be invoked on functions\");\n    }\n    if (typeof actionName !== \"string\" || !actionName) {\n      die(\"actions should have valid names, got: '\" + actionName + \"'\");\n    }\n  }\n  function res() {\n    return executeAction(actionName, autoAction2, fn, ref || this, arguments);\n  }\n  res.isMobxAction = true;\n  if (isFunctionNameConfigurable) {\n    tmpNameDescriptor.value = actionName;\n    Object.defineProperty(res, \"name\", tmpNameDescriptor);\n  }\n  return res;\n}\nfunction executeAction(actionName, canRunAsDerivation, fn, scope, args) {\n  var runInfo = _startAction(actionName, canRunAsDerivation, scope, args);\n  try {\n    return fn.apply(scope, args);\n  } catch (err) {\n    runInfo.error_ = err;\n    throw err;\n  } finally {\n    _endAction(runInfo);\n  }\n}\nfunction _startAction(actionName, canRunAsDerivation, scope, args) {\n  var notifySpy_ = false;\n  var startTime_ = 0;\n  if (false) {\n    startTime_ = Date.now();\n    var flattenedArgs = args ? Array.from(args) : EMPTY_ARRAY;\n    spyReportStart({\n      type: ACTION,\n      name: actionName,\n      object: scope,\n      arguments: flattenedArgs\n    });\n  }\n  var prevDerivation_ = globalState.trackingDerivation;\n  var runAsAction = !canRunAsDerivation || !prevDerivation_;\n  startBatch();\n  var prevAllowStateChanges_ = globalState.allowStateChanges;\n  if (runAsAction) {\n    untrackedStart();\n    prevAllowStateChanges_ = allowStateChangesStart(true);\n  }\n  var prevAllowStateReads_ = allowStateReadsStart(true);\n  var runInfo = {\n    runAsAction_: runAsAction,\n    prevDerivation_,\n    prevAllowStateChanges_,\n    prevAllowStateReads_,\n    notifySpy_,\n    startTime_,\n    actionId_: nextActionId++,\n    parentActionId_: currentActionId\n  };\n  currentActionId = runInfo.actionId_;\n  return runInfo;\n}\nfunction _endAction(runInfo) {\n  if (currentActionId !== runInfo.actionId_) {\n    die(30);\n  }\n  currentActionId = runInfo.parentActionId_;\n  if (runInfo.error_ !== void 0) {\n    globalState.suppressReactionErrors = true;\n  }\n  allowStateChangesEnd(runInfo.prevAllowStateChanges_);\n  allowStateReadsEnd(runInfo.prevAllowStateReads_);\n  endBatch();\n  if (runInfo.runAsAction_) {\n    untrackedEnd(runInfo.prevDerivation_);\n  }\n  if (false) {\n    spyReportEnd({\n      time: Date.now() - runInfo.startTime_\n    });\n  }\n  globalState.suppressReactionErrors = false;\n}\nfunction allowStateChanges(allowStateChanges2, func) {\n  var prev = allowStateChangesStart(allowStateChanges2);\n  try {\n    return func();\n  } finally {\n    allowStateChangesEnd(prev);\n  }\n}\nfunction allowStateChangesStart(allowStateChanges2) {\n  var prev = globalState.allowStateChanges;\n  globalState.allowStateChanges = allowStateChanges2;\n  return prev;\n}\nfunction allowStateChangesEnd(prev) {\n  globalState.allowStateChanges = prev;\n}\nvar _Symbol$toPrimitive;\n_Symbol$toPrimitive = Symbol.toPrimitive;\nvar ObservableValue = \/* @__PURE__ *\/ function(_Atom) {\n  _inheritsLoose(ObservableValue2, _Atom);\n  function ObservableValue2(value, enhancer, name_, notifySpy, equals) {\n    var _this;\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableValue@\" + getNextId() : \"ObservableValue\";\n    }\n    if (notifySpy === void 0) {\n      notifySpy = true;\n    }\n    if (equals === void 0) {\n      equals = comparer[\"default\"];\n    }\n    _this = _Atom.call(this, name_) || this;\n    _this.enhancer = void 0;\n    _this.name_ = void 0;\n    _this.equals = void 0;\n    _this.hasUnreportedChange_ = false;\n    _this.interceptors_ = void 0;\n    _this.changeListeners_ = void 0;\n    _this.value_ = void 0;\n    _this.dehancer = void 0;\n    _this.enhancer = enhancer;\n    _this.name_ = name_;\n    _this.equals = equals;\n    _this.value_ = enhancer(value, void 0, name_);\n    if (false) {\n      spyReport({\n        type: CREATE,\n        object: _assertThisInitialized(_this),\n        observableKind: \"value\",\n        debugObjectName: _this.name_,\n        newValue: \"\" + _this.value_\n      });\n    }\n    return _this;\n  }\n  var _proto = ObservableValue2.prototype;\n  _proto.dehanceValue = function dehanceValue(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.set = function set4(newValue) {\n    var oldValue = this.value_;\n    newValue = this.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      if (false) {\n        spyReportStart({\n          type: UPDATE,\n          object: this,\n          observableKind: \"value\",\n          debugObjectName: this.name_,\n          newValue,\n          oldValue\n        });\n      }\n      this.setNewValue_(newValue);\n      if (false) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.prepareNewValue_ = function prepareNewValue_(newValue) {\n    checkIfStateModificationsAreAllowed(this);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this,\n        type: UPDATE,\n        newValue\n      });\n      if (!change) {\n        return globalState.UNCHANGED;\n      }\n      newValue = change.newValue;\n    }\n    newValue = this.enhancer(newValue, this.value_, this.name_);\n    return this.equals(this.value_, newValue) ? globalState.UNCHANGED : newValue;\n  };\n  _proto.setNewValue_ = function setNewValue_(newValue) {\n    var oldValue = this.value_;\n    this.value_ = newValue;\n    this.reportChanged();\n    if (hasListeners(this)) {\n      notifyListeners(this, {\n        type: UPDATE,\n        object: this,\n        newValue,\n        oldValue\n      });\n    }\n  };\n  _proto.get = function get3() {\n    this.reportObserved();\n    return this.dehanceValue(this.value_);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately) {\n      listener({\n        observableKind: \"value\",\n        debugObjectName: this.name_,\n        object: this,\n        type: UPDATE,\n        newValue: this.value_,\n        oldValue: void 0\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.raw = function raw() {\n    return this.value_;\n  };\n  _proto.toJSON = function toJSON2() {\n    return this.get();\n  };\n  _proto.toString = function toString2() {\n    return this.name_ + \"[\" + this.value_ + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[_Symbol$toPrimitive] = function() {\n    return this.valueOf();\n  };\n  return ObservableValue2;\n}(Atom);\nvar isObservableValue = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableValue\", ObservableValue);\nvar _Symbol$toPrimitive$1;\n_Symbol$toPrimitive$1 = Symbol.toPrimitive;\nvar ComputedValue = \/* @__PURE__ *\/ function() {\n  function ComputedValue2(options) {\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.observing_ = [];\n    this.newObserving_ = null;\n    this.isBeingObserved_ = false;\n    this.isPendingUnobservation_ = false;\n    this.observers_ = \/* @__PURE__ *\/ new Set();\n    this.diffValue_ = 0;\n    this.runId_ = 0;\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    this.unboundDepsCount_ = 0;\n    this.value_ = new CaughtException(null);\n    this.name_ = void 0;\n    this.triggeredBy_ = void 0;\n    this.isComputing_ = false;\n    this.isRunningSetter_ = false;\n    this.derivation = void 0;\n    this.setter_ = void 0;\n    this.isTracing_ = TraceMode.NONE;\n    this.scope_ = void 0;\n    this.equals_ = void 0;\n    this.requiresReaction_ = void 0;\n    this.keepAlive_ = void 0;\n    this.onBOL = void 0;\n    this.onBUOL = void 0;\n    if (!options.get) {\n      die(31);\n    }\n    this.derivation = options.get;\n    this.name_ = options.name || (false ? \"ComputedValue@\" + getNextId() : \"ComputedValue\");\n    if (options.set) {\n      this.setter_ = createAction(false ? this.name_ + \"-setter\" : \"ComputedValue-setter\", options.set);\n    }\n    this.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer[\"default\"]);\n    this.scope_ = options.context;\n    this.requiresReaction_ = options.requiresReaction;\n    this.keepAlive_ = !!options.keepAlive;\n  }\n  var _proto = ComputedValue2.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    propagateMaybeChanged(this);\n  };\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.get = function get3() {\n    if (this.isComputing_) {\n      die(32, this.name_, this.derivation);\n    }\n    if (globalState.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_) {\n      if (shouldCompute(this)) {\n        this.warnAboutUntrackedRead_();\n        startBatch();\n        this.value_ = this.computeValue_(false);\n        endBatch();\n      }\n    } else {\n      reportObserved(this);\n      if (shouldCompute(this)) {\n        var prevTrackingContext = globalState.trackingContext;\n        if (this.keepAlive_ && !prevTrackingContext) {\n          globalState.trackingContext = this;\n        }\n        if (this.trackAndCompute()) {\n          propagateChangeConfirmed(this);\n        }\n        globalState.trackingContext = prevTrackingContext;\n      }\n    }\n    var result = this.value_;\n    if (isCaughtException(result)) {\n      throw result.cause;\n    }\n    return result;\n  };\n  _proto.set = function set4(value) {\n    if (this.setter_) {\n      if (this.isRunningSetter_) {\n        die(33, this.name_);\n      }\n      this.isRunningSetter_ = true;\n      try {\n        this.setter_.call(this.scope_, value);\n      } finally {\n        this.isRunningSetter_ = false;\n      }\n    } else {\n      die(34, this.name_);\n    }\n  };\n  _proto.trackAndCompute = function trackAndCompute() {\n    var oldValue = this.value_;\n    var wasSuspended = this.dependenciesState_ === IDerivationState_.NOT_TRACKING_;\n    var newValue = this.computeValue_(true);\n    var changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !this.equals_(oldValue, newValue);\n    if (changed) {\n      this.value_ = newValue;\n      if (false) {\n        spyReport({\n          observableKind: \"computed\",\n          debugObjectName: this.name_,\n          object: this.scope_,\n          type: \"update\",\n          oldValue,\n          newValue\n        });\n      }\n    }\n    return changed;\n  };\n  _proto.computeValue_ = function computeValue_(track) {\n    this.isComputing_ = true;\n    var prev = allowStateChangesStart(false);\n    var res;\n    if (track) {\n      res = trackDerivedFunction(this, this.derivation, this.scope_);\n    } else {\n      if (globalState.disableErrorBoundaries === true) {\n        res = this.derivation.call(this.scope_);\n      } else {\n        try {\n          res = this.derivation.call(this.scope_);\n        } catch (e) {\n          res = new CaughtException(e);\n        }\n      }\n    }\n    allowStateChangesEnd(prev);\n    this.isComputing_ = false;\n    return res;\n  };\n  _proto.suspend_ = function suspend_() {\n    if (!this.keepAlive_) {\n      clearObserving(this);\n      this.value_ = void 0;\n      if (false) {\n        console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' was suspended and it will recompute on the next access.\");\n      }\n    }\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    var _this = this;\n    var firstTime = true;\n    var prevValue = void 0;\n    return autorun(function() {\n      var newValue = _this.get();\n      if (!firstTime || fireImmediately) {\n        var prevU = untrackedStart();\n        listener({\n          observableKind: \"computed\",\n          debugObjectName: _this.name_,\n          type: UPDATE,\n          object: _this,\n          newValue,\n          oldValue: prevValue\n        });\n        untrackedEnd(prevU);\n      }\n      firstTime = false;\n      prevValue = newValue;\n    });\n  };\n  _proto.warnAboutUntrackedRead_ = function warnAboutUntrackedRead_() {\n    if (true) {\n      return;\n    }\n    if (this.isTracing_ !== TraceMode.NONE) {\n      console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n    if (typeof this.requiresReaction_ === \"boolean\" ? this.requiresReaction_ : globalState.computedRequiresReaction) {\n      console.warn(\"[mobx] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n  };\n  _proto.toString = function toString2() {\n    return this.name_ + \"[\" + this.derivation.toString() + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[_Symbol$toPrimitive$1] = function() {\n    return this.valueOf();\n  };\n  return ComputedValue2;\n}();\nvar isComputedValue = \/* @__PURE__ *\/ createInstanceofPredicate(\"ComputedValue\", ComputedValue);\nvar IDerivationState_;\n(function(IDerivationState_2) {\n  IDerivationState_2[IDerivationState_2[\"NOT_TRACKING_\"] = -1] = \"NOT_TRACKING_\";\n  IDerivationState_2[IDerivationState_2[\"UP_TO_DATE_\"] = 0] = \"UP_TO_DATE_\";\n  IDerivationState_2[IDerivationState_2[\"POSSIBLY_STALE_\"] = 1] = \"POSSIBLY_STALE_\";\n  IDerivationState_2[IDerivationState_2[\"STALE_\"] = 2] = \"STALE_\";\n})(IDerivationState_ || (IDerivationState_ = {}));\nvar TraceMode;\n(function(TraceMode2) {\n  TraceMode2[TraceMode2[\"NONE\"] = 0] = \"NONE\";\n  TraceMode2[TraceMode2[\"LOG\"] = 1] = \"LOG\";\n  TraceMode2[TraceMode2[\"BREAK\"] = 2] = \"BREAK\";\n})(TraceMode || (TraceMode = {}));\nvar CaughtException = function CaughtException2(cause) {\n  this.cause = void 0;\n  this.cause = cause;\n};\nfunction isCaughtException(e) {\n  return e instanceof CaughtException;\n}\nfunction shouldCompute(derivation) {\n  switch (derivation.dependenciesState_) {\n    case IDerivationState_.UP_TO_DATE_:\n      return false;\n    case IDerivationState_.NOT_TRACKING_:\n    case IDerivationState_.STALE_:\n      return true;\n    case IDerivationState_.POSSIBLY_STALE_: {\n      var prevAllowStateReads = allowStateReadsStart(true);\n      var prevUntracked = untrackedStart();\n      var obs = derivation.observing_, l3 = obs.length;\n      for (var i2 = 0; i2 < l3; i2++) {\n        var obj = obs[i2];\n        if (isComputedValue(obj)) {\n          if (globalState.disableErrorBoundaries) {\n            obj.get();\n          } else {\n            try {\n              obj.get();\n            } catch (e) {\n              untrackedEnd(prevUntracked);\n              allowStateReadsEnd(prevAllowStateReads);\n              return true;\n            }\n          }\n          if (derivation.dependenciesState_ === IDerivationState_.STALE_) {\n            untrackedEnd(prevUntracked);\n            allowStateReadsEnd(prevAllowStateReads);\n            return true;\n          }\n        }\n      }\n      changeDependenciesStateTo0(derivation);\n      untrackedEnd(prevUntracked);\n      allowStateReadsEnd(prevAllowStateReads);\n      return false;\n    }\n  }\n}\nfunction checkIfStateModificationsAreAllowed(atom) {\n  if (true) {\n    return;\n  }\n  var hasObservers = atom.observers_.size > 0;\n  if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === \"always\")) {\n    console.warn(\"[MobX] \" + (globalState.enforceActions ? \"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: \" : \"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: \") + atom.name_);\n  }\n}\nfunction checkIfStateReadsAreAllowed(observable2) {\n  if (false) {\n    console.warn(\"[mobx] Observable '\" + observable2.name_ + \"' being read outside a reactive context.\");\n  }\n}\nfunction trackDerivedFunction(derivation, f2, context) {\n  var prevAllowStateReads = allowStateReadsStart(true);\n  changeDependenciesStateTo0(derivation);\n  derivation.newObserving_ = new Array(derivation.observing_.length + 100);\n  derivation.unboundDepsCount_ = 0;\n  derivation.runId_ = ++globalState.runId;\n  var prevTracking = globalState.trackingDerivation;\n  globalState.trackingDerivation = derivation;\n  globalState.inBatch++;\n  var result;\n  if (globalState.disableErrorBoundaries === true) {\n    result = f2.call(context);\n  } else {\n    try {\n      result = f2.call(context);\n    } catch (e) {\n      result = new CaughtException(e);\n    }\n  }\n  globalState.inBatch--;\n  globalState.trackingDerivation = prevTracking;\n  bindDependencies(derivation);\n  warnAboutDerivationWithoutDependencies(derivation);\n  allowStateReadsEnd(prevAllowStateReads);\n  return result;\n}\nfunction warnAboutDerivationWithoutDependencies(derivation) {\n  if (true) {\n    return;\n  }\n  if (derivation.observing_.length !== 0) {\n    return;\n  }\n  if (typeof derivation.requiresObservable_ === \"boolean\" ? derivation.requiresObservable_ : globalState.reactionRequiresObservable) {\n    console.warn(\"[mobx] Derivation '\" + derivation.name_ + \"' is created\/updated without reading any observable value.\");\n  }\n}\nfunction bindDependencies(derivation) {\n  var prevObserving = derivation.observing_;\n  var observing = derivation.observing_ = derivation.newObserving_;\n  var lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_;\n  var i0 = 0, l3 = derivation.unboundDepsCount_;\n  for (var i2 = 0; i2 < l3; i2++) {\n    var dep = observing[i2];\n    if (dep.diffValue_ === 0) {\n      dep.diffValue_ = 1;\n      if (i0 !== i2) {\n        observing[i0] = dep;\n      }\n      i0++;\n    }\n    if (dep.dependenciesState_ > lowestNewObservingDerivationState) {\n      lowestNewObservingDerivationState = dep.dependenciesState_;\n    }\n  }\n  observing.length = i0;\n  derivation.newObserving_ = null;\n  l3 = prevObserving.length;\n  while (l3--) {\n    var _dep = prevObserving[l3];\n    if (_dep.diffValue_ === 0) {\n      removeObserver(_dep, derivation);\n    }\n    _dep.diffValue_ = 0;\n  }\n  while (i0--) {\n    var _dep2 = observing[i0];\n    if (_dep2.diffValue_ === 1) {\n      _dep2.diffValue_ = 0;\n      addObserver(_dep2, derivation);\n    }\n  }\n  if (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {\n    derivation.dependenciesState_ = lowestNewObservingDerivationState;\n    derivation.onBecomeStale_();\n  }\n}\nfunction clearObserving(derivation) {\n  var obs = derivation.observing_;\n  derivation.observing_ = [];\n  var i2 = obs.length;\n  while (i2--) {\n    removeObserver(obs[i2], derivation);\n  }\n  derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n}\nfunction untracked(action2) {\n  var prev = untrackedStart();\n  try {\n    return action2();\n  } finally {\n    untrackedEnd(prev);\n  }\n}\nfunction untrackedStart() {\n  var prev = globalState.trackingDerivation;\n  globalState.trackingDerivation = null;\n  return prev;\n}\nfunction untrackedEnd(prev) {\n  globalState.trackingDerivation = prev;\n}\nfunction allowStateReadsStart(allowStateReads) {\n  var prev = globalState.allowStateReads;\n  globalState.allowStateReads = allowStateReads;\n  return prev;\n}\nfunction allowStateReadsEnd(prev) {\n  globalState.allowStateReads = prev;\n}\nfunction changeDependenciesStateTo0(derivation) {\n  if (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;\n  var obs = derivation.observing_;\n  var i2 = obs.length;\n  while (i2--) {\n    obs[i2].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n  }\n}\nvar MobXGlobals = function MobXGlobals2() {\n  this.version = 6;\n  this.UNCHANGED = {};\n  this.trackingDerivation = null;\n  this.trackingContext = null;\n  this.runId = 0;\n  this.mobxGuid = 0;\n  this.inBatch = 0;\n  this.pendingUnobservations = [];\n  this.pendingReactions = [];\n  this.isRunningReactions = false;\n  this.allowStateChanges = false;\n  this.allowStateReads = true;\n  this.enforceActions = true;\n  this.spyListeners = [];\n  this.globalReactionErrorHandlers = [];\n  this.computedRequiresReaction = false;\n  this.reactionRequiresObservable = false;\n  this.observableRequiresReaction = false;\n  this.disableErrorBoundaries = false;\n  this.suppressReactionErrors = false;\n  this.useProxies = true;\n  this.verifyProxies = false;\n  this.safeDescriptors = true;\n};\nvar canMergeGlobalState = true;\nvar isolateCalled = false;\nvar globalState = \/* @__PURE__ *\/ function() {\n  var global2 = \/* @__PURE__ *\/ getGlobal();\n  if (global2.__mobxInstanceCount > 0 && !global2.__mobxGlobals) {\n    canMergeGlobalState = false;\n  }\n  if (global2.__mobxGlobals && global2.__mobxGlobals.version !== new MobXGlobals().version) {\n    canMergeGlobalState = false;\n  }\n  if (!canMergeGlobalState) {\n    setTimeout(function() {\n      if (!isolateCalled) {\n        die(35);\n      }\n    }, 1);\n    return new MobXGlobals();\n  } else if (global2.__mobxGlobals) {\n    global2.__mobxInstanceCount += 1;\n    if (!global2.__mobxGlobals.UNCHANGED) {\n      global2.__mobxGlobals.UNCHANGED = {};\n    }\n    return global2.__mobxGlobals;\n  } else {\n    global2.__mobxInstanceCount = 1;\n    return global2.__mobxGlobals = \/* @__PURE__ *\/ new MobXGlobals();\n  }\n}();\nfunction isolateGlobalState() {\n  if (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) {\n    die(36);\n  }\n  isolateCalled = true;\n  if (canMergeGlobalState) {\n    var global2 = getGlobal();\n    if (--global2.__mobxInstanceCount === 0) {\n      global2.__mobxGlobals = void 0;\n    }\n    globalState = new MobXGlobals();\n  }\n}\nfunction addObserver(observable2, node) {\n  observable2.observers_.add(node);\n  if (observable2.lowestObserverState_ > node.dependenciesState_) {\n    observable2.lowestObserverState_ = node.dependenciesState_;\n  }\n}\nfunction removeObserver(observable2, node) {\n  observable2.observers_[\"delete\"](node);\n  if (observable2.observers_.size === 0) {\n    queueForUnobservation(observable2);\n  }\n}\nfunction queueForUnobservation(observable2) {\n  if (observable2.isPendingUnobservation_ === false) {\n    observable2.isPendingUnobservation_ = true;\n    globalState.pendingUnobservations.push(observable2);\n  }\n}\nfunction startBatch() {\n  globalState.inBatch++;\n}\nfunction endBatch() {\n  if (--globalState.inBatch === 0) {\n    runReactions();\n    var list = globalState.pendingUnobservations;\n    for (var i2 = 0; i2 < list.length; i2++) {\n      var observable2 = list[i2];\n      observable2.isPendingUnobservation_ = false;\n      if (observable2.observers_.size === 0) {\n        if (observable2.isBeingObserved_) {\n          observable2.isBeingObserved_ = false;\n          observable2.onBUO();\n        }\n        if (observable2 instanceof ComputedValue) {\n          observable2.suspend_();\n        }\n      }\n    }\n    globalState.pendingUnobservations = [];\n  }\n}\nfunction reportObserved(observable2) {\n  checkIfStateReadsAreAllowed(observable2);\n  var derivation = globalState.trackingDerivation;\n  if (derivation !== null) {\n    if (derivation.runId_ !== observable2.lastAccessedBy_) {\n      observable2.lastAccessedBy_ = derivation.runId_;\n      derivation.newObserving_[derivation.unboundDepsCount_++] = observable2;\n      if (!observable2.isBeingObserved_ && globalState.trackingContext) {\n        observable2.isBeingObserved_ = true;\n        observable2.onBO();\n      }\n    }\n    return observable2.isBeingObserved_;\n  } else if (observable2.observers_.size === 0 && globalState.inBatch > 0) {\n    queueForUnobservation(observable2);\n  }\n  return false;\n}\nfunction propagateChanged(observable2) {\n  if (observable2.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      if (false) {\n        logTraceInfo(d2, observable2);\n      }\n      d2.onBecomeStale_();\n    }\n    d2.dependenciesState_ = IDerivationState_.STALE_;\n  });\n}\nfunction propagateChangeConfirmed(observable2) {\n  if (observable2.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {\n      d2.dependenciesState_ = IDerivationState_.STALE_;\n      if (false) {\n        logTraceInfo(d2, observable2);\n      }\n    } else if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      observable2.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    }\n  });\n}\nfunction propagateMaybeChanged(observable2) {\n  if (observable2.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      d2.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;\n      d2.onBecomeStale_();\n    }\n  });\n}\nvar Reaction = \/* @__PURE__ *\/ function() {\n  function Reaction2(name_, onInvalidate_, errorHandler_, requiresObservable_) {\n    if (name_ === void 0) {\n      name_ = false ? \"Reaction@\" + getNextId() : \"Reaction\";\n    }\n    this.name_ = void 0;\n    this.onInvalidate_ = void 0;\n    this.errorHandler_ = void 0;\n    this.requiresObservable_ = void 0;\n    this.observing_ = [];\n    this.newObserving_ = [];\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.diffValue_ = 0;\n    this.runId_ = 0;\n    this.unboundDepsCount_ = 0;\n    this.isDisposed_ = false;\n    this.isScheduled_ = false;\n    this.isTrackPending_ = false;\n    this.isRunning_ = false;\n    this.isTracing_ = TraceMode.NONE;\n    this.name_ = name_;\n    this.onInvalidate_ = onInvalidate_;\n    this.errorHandler_ = errorHandler_;\n    this.requiresObservable_ = requiresObservable_;\n  }\n  var _proto = Reaction2.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    this.schedule_();\n  };\n  _proto.schedule_ = function schedule_() {\n    if (!this.isScheduled_) {\n      this.isScheduled_ = true;\n      globalState.pendingReactions.push(this);\n      runReactions();\n    }\n  };\n  _proto.isScheduled = function isScheduled() {\n    return this.isScheduled_;\n  };\n  _proto.runReaction_ = function runReaction_() {\n    if (!this.isDisposed_) {\n      startBatch();\n      this.isScheduled_ = false;\n      var prev = globalState.trackingContext;\n      globalState.trackingContext = this;\n      if (shouldCompute(this)) {\n        this.isTrackPending_ = true;\n        try {\n          this.onInvalidate_();\n          if (false) {\n            spyReport({\n              name: this.name_,\n              type: \"scheduled-reaction\"\n            });\n          }\n        } catch (e) {\n          this.reportExceptionInDerivation_(e);\n        }\n      }\n      globalState.trackingContext = prev;\n      endBatch();\n    }\n  };\n  _proto.track = function track(fn) {\n    if (this.isDisposed_) {\n      return;\n    }\n    startBatch();\n    var notify = isSpyEnabled();\n    var startTime;\n    if (false) {\n      startTime = Date.now();\n      spyReportStart({\n        name: this.name_,\n        type: \"reaction\"\n      });\n    }\n    this.isRunning_ = true;\n    var prevReaction = globalState.trackingContext;\n    globalState.trackingContext = this;\n    var result = trackDerivedFunction(this, fn, void 0);\n    globalState.trackingContext = prevReaction;\n    this.isRunning_ = false;\n    this.isTrackPending_ = false;\n    if (this.isDisposed_) {\n      clearObserving(this);\n    }\n    if (isCaughtException(result)) {\n      this.reportExceptionInDerivation_(result.cause);\n    }\n    if (false) {\n      spyReportEnd({\n        time: Date.now() - startTime\n      });\n    }\n    endBatch();\n  };\n  _proto.reportExceptionInDerivation_ = function reportExceptionInDerivation_(error) {\n    var _this = this;\n    if (this.errorHandler_) {\n      this.errorHandler_(error, this);\n      return;\n    }\n    if (globalState.disableErrorBoundaries) {\n      throw error;\n    }\n    var message = false ? \"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\" + this + \"'\" : \"[mobx] uncaught error in '\" + this + \"'\";\n    if (!globalState.suppressReactionErrors) {\n      console.error(message, error);\n    } else if (false) {\n      console.warn(\"[mobx] (error in reaction '\" + this.name_ + \"' suppressed, fix error of causing action below)\");\n    }\n    if (false) {\n      spyReport({\n        type: \"error\",\n        name: this.name_,\n        message,\n        error: \"\" + error\n      });\n    }\n    globalState.globalReactionErrorHandlers.forEach(function(f2) {\n      return f2(error, _this);\n    });\n  };\n  _proto.dispose = function dispose() {\n    if (!this.isDisposed_) {\n      this.isDisposed_ = true;\n      if (!this.isRunning_) {\n        startBatch();\n        clearObserving(this);\n        endBatch();\n      }\n    }\n  };\n  _proto.getDisposer_ = function getDisposer_() {\n    var r2 = this.dispose.bind(this);\n    r2[$mobx] = this;\n    return r2;\n  };\n  _proto.toString = function toString2() {\n    return \"Reaction[\" + this.name_ + \"]\";\n  };\n  _proto.trace = function trace$1(enterBreakPoint) {\n    if (enterBreakPoint === void 0) {\n      enterBreakPoint = false;\n    }\n    trace(this, enterBreakPoint);\n  };\n  return Reaction2;\n}();\nvar MAX_REACTION_ITERATIONS = 100;\nvar reactionScheduler = function reactionScheduler2(f2) {\n  return f2();\n};\nfunction runReactions() {\n  if (globalState.inBatch > 0 || globalState.isRunningReactions) {\n    return;\n  }\n  reactionScheduler(runReactionsHelper);\n}\nfunction runReactionsHelper() {\n  globalState.isRunningReactions = true;\n  var allReactions = globalState.pendingReactions;\n  var iterations = 0;\n  while (allReactions.length > 0) {\n    if (++iterations === MAX_REACTION_ITERATIONS) {\n      console.error(false ? \"Reaction doesn't converge to a stable state after \" + MAX_REACTION_ITERATIONS + \" iterations.\" + (\" Probably there is a cycle in the reactive function: \" + allReactions[0]) : \"[mobx] cycle in reaction: \" + allReactions[0]);\n      allReactions.splice(0);\n    }\n    var remainingReactions = allReactions.splice(0);\n    for (var i2 = 0, l3 = remainingReactions.length; i2 < l3; i2++) {\n      remainingReactions[i2].runReaction_();\n    }\n  }\n  globalState.isRunningReactions = false;\n}\nvar isReaction = \/* @__PURE__ *\/ createInstanceofPredicate(\"Reaction\", Reaction);\nfunction setReactionScheduler(fn) {\n  var baseScheduler = reactionScheduler;\n  reactionScheduler = function reactionScheduler3(f2) {\n    return fn(function() {\n      return baseScheduler(f2);\n    });\n  };\n}\nfunction isSpyEnabled() {\n  return false;\n}\nfunction spy(listener) {\n  if (true) {\n    console.warn(\"[mobx.spy] Is a no-op in production builds\");\n    return function() {\n    };\n  } else {\n    globalState.spyListeners.push(listener);\n    return once(function() {\n      globalState.spyListeners = globalState.spyListeners.filter(function(l3) {\n        return l3 !== listener;\n      });\n    });\n  }\n}\nvar ACTION = \"action\";\nvar ACTION_BOUND = \"action.bound\";\nvar AUTOACTION = \"autoAction\";\nvar AUTOACTION_BOUND = \"autoAction.bound\";\nvar DEFAULT_ACTION_NAME = \"<unnamed action>\";\nvar actionAnnotation = \/* @__PURE__ *\/ createActionAnnotation(ACTION);\nvar actionBoundAnnotation = \/* @__PURE__ *\/ createActionAnnotation(ACTION_BOUND, {\n  bound: true\n});\nvar autoActionAnnotation = \/* @__PURE__ *\/ createActionAnnotation(AUTOACTION, {\n  autoAction: true\n});\nvar autoActionBoundAnnotation = \/* @__PURE__ *\/ createActionAnnotation(AUTOACTION_BOUND, {\n  autoAction: true,\n  bound: true\n});\nfunction createActionFactory(autoAction2) {\n  var res = function action2(arg1, arg2) {\n    if (isFunction(arg1)) {\n      return createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction2);\n    }\n    if (isFunction(arg2)) {\n      return createAction(arg1, arg2, autoAction2);\n    }\n    if (isStringish(arg2)) {\n      return storeAnnotation(arg1, arg2, autoAction2 ? autoActionAnnotation : actionAnnotation);\n    }\n    if (isStringish(arg1)) {\n      return createDecoratorAnnotation(createActionAnnotation(autoAction2 ? AUTOACTION : ACTION, {\n        name: arg1,\n        autoAction: autoAction2\n      }));\n    }\n    if (false) {\n      die(\"Invalid arguments for `action`\");\n    }\n  };\n  return res;\n}\nvar action = \/* @__PURE__ *\/ createActionFactory(false);\nObject.assign(action, actionAnnotation);\nvar autoAction = \/* @__PURE__ *\/ createActionFactory(true);\nObject.assign(autoAction, autoActionAnnotation);\naction.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(actionBoundAnnotation);\nautoAction.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(autoActionBoundAnnotation);\nfunction isAction(thing) {\n  return isFunction(thing) && thing.isMobxAction === true;\n}\nfunction autorun(view, opts) {\n  var _opts$name, _opts;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT2;\n  }\n  if (false) {\n    if (!isFunction(view)) {\n      die(\"Autorun expects a function as first argument\");\n    }\n    if (isAction(view)) {\n      die(\"Autorun does not accept actions since actions are untrackable\");\n    }\n  }\n  var name = (_opts$name = (_opts = opts) == null ? void 0 : _opts.name) != null ? _opts$name : false ? view.name || \"Autorun@\" + getNextId() : \"Autorun\";\n  var runSync = !opts.scheduler && !opts.delay;\n  var reaction2;\n  if (runSync) {\n    reaction2 = new Reaction(name, function() {\n      this.track(reactionRunner);\n    }, opts.onError, opts.requiresObservable);\n  } else {\n    var scheduler = createSchedulerFromOptions(opts);\n    var isScheduled = false;\n    reaction2 = new Reaction(name, function() {\n      if (!isScheduled) {\n        isScheduled = true;\n        scheduler(function() {\n          isScheduled = false;\n          if (!reaction2.isDisposed_) {\n            reaction2.track(reactionRunner);\n          }\n        });\n      }\n    }, opts.onError, opts.requiresObservable);\n  }\n  function reactionRunner() {\n    view(reaction2);\n  }\n  reaction2.schedule_();\n  return reaction2.getDisposer_();\n}\nvar run = function run2(f2) {\n  return f2();\n};\nfunction createSchedulerFromOptions(opts) {\n  return opts.scheduler ? opts.scheduler : opts.delay ? function(f2) {\n    return setTimeout(f2, opts.delay);\n  } : run;\n}\nfunction reaction(expression, effect, opts) {\n  var _opts$name2;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT2;\n  }\n  if (false) {\n    if (!isFunction(expression) || !isFunction(effect)) {\n      die(\"First and second argument to reaction should be functions\");\n    }\n    if (!isPlainObject(opts)) {\n      die(\"Third argument of reactions should be an object\");\n    }\n  }\n  var name = (_opts$name2 = opts.name) != null ? _opts$name2 : false ? \"Reaction@\" + getNextId() : \"Reaction\";\n  var effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n  var runSync = !opts.scheduler && !opts.delay;\n  var scheduler = createSchedulerFromOptions(opts);\n  var firstTime = true;\n  var isScheduled = false;\n  var value;\n  var oldValue;\n  var equals = opts.compareStructural ? comparer.structural : opts.equals || comparer[\"default\"];\n  var r2 = new Reaction(name, function() {\n    if (firstTime || runSync) {\n      reactionRunner();\n    } else if (!isScheduled) {\n      isScheduled = true;\n      scheduler(reactionRunner);\n    }\n  }, opts.onError, opts.requiresObservable);\n  function reactionRunner() {\n    isScheduled = false;\n    if (r2.isDisposed_) {\n      return;\n    }\n    var changed = false;\n    r2.track(function() {\n      var nextValue = allowStateChanges(false, function() {\n        return expression(r2);\n      });\n      changed = firstTime || !equals(value, nextValue);\n      oldValue = value;\n      value = nextValue;\n    });\n    if (firstTime && opts.fireImmediately) {\n      effectAction(value, oldValue, r2);\n    } else if (!firstTime && changed) {\n      effectAction(value, oldValue, r2);\n    }\n    firstTime = false;\n  }\n  r2.schedule_();\n  return r2.getDisposer_();\n}\nfunction wrapErrorHandler(errorHandler, baseFn) {\n  return function() {\n    try {\n      return baseFn.apply(this, arguments);\n    } catch (e) {\n      errorHandler.call(this, e);\n    }\n  };\n}\nvar ON_BECOME_OBSERVED = \"onBO\";\nvar ON_BECOME_UNOBSERVED = \"onBUO\";\nfunction onBecomeObserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);\n}\nfunction onBecomeUnobserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);\n}\nfunction interceptHook(hook, thing, arg2, arg3) {\n  var atom = typeof arg3 === \"function\" ? getAtom(thing, arg2) : getAtom(thing);\n  var cb = isFunction(arg3) ? arg3 : arg2;\n  var listenersKey = hook + \"L\";\n  if (atom[listenersKey]) {\n    atom[listenersKey].add(cb);\n  } else {\n    atom[listenersKey] = \/* @__PURE__ *\/ new Set([cb]);\n  }\n  return function() {\n    var hookListeners = atom[listenersKey];\n    if (hookListeners) {\n      hookListeners[\"delete\"](cb);\n      if (hookListeners.size === 0) {\n        delete atom[listenersKey];\n      }\n    }\n  };\n}\nvar NEVER = \"never\";\nvar ALWAYS = \"always\";\nvar OBSERVED = \"observed\";\nfunction configure(options) {\n  if (options.isolateGlobalState === true) {\n    isolateGlobalState();\n  }\n  var useProxies = options.useProxies, enforceActions = options.enforceActions;\n  if (useProxies !== void 0) {\n    globalState.useProxies = useProxies === ALWAYS ? true : useProxies === NEVER ? false : typeof Proxy !== \"undefined\";\n  }\n  if (useProxies === \"ifavailable\") {\n    globalState.verifyProxies = true;\n  }\n  if (enforceActions !== void 0) {\n    var ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;\n    globalState.enforceActions = ea;\n    globalState.allowStateChanges = ea === true || ea === ALWAYS ? false : true;\n  }\n  [\"computedRequiresReaction\", \"reactionRequiresObservable\", \"observableRequiresReaction\", \"disableErrorBoundaries\", \"safeDescriptors\"].forEach(function(key) {\n    if (key in options) {\n      globalState[key] = !!options[key];\n    }\n  });\n  globalState.allowStateReads = !globalState.observableRequiresReaction;\n  if (false) {\n    console.warn(\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\");\n  }\n  if (options.reactionScheduler) {\n    setReactionScheduler(options.reactionScheduler);\n  }\n}\nfunction extendObservable(target, properties, annotations, options) {\n  if (false) {\n    if (arguments.length > 4) {\n      die(\"'extendObservable' expected 2-4 arguments\");\n    }\n    if (typeof target !== \"object\") {\n      die(\"'extendObservable' expects an object as first argument\");\n    }\n    if (isObservableMap(target)) {\n      die(\"'extendObservable' should not be used on maps, use map.merge instead\");\n    }\n    if (!isPlainObject(properties)) {\n      die(\"'extendObservable' only accepts plain objects as second argument\");\n    }\n    if (isObservable(properties) || isObservable(annotations)) {\n      die(\"Extending an object with another observable (object) is not supported\");\n    }\n  }\n  var descriptors = getOwnPropertyDescriptors(properties);\n  var adm = asObservableObject(target, options)[$mobx];\n  startBatch();\n  try {\n    ownKeys(descriptors).forEach(function(key) {\n      adm.extend_(\n        key,\n        descriptors[key],\n        !annotations ? true : key in annotations ? annotations[key] : true\n      );\n    });\n  } finally {\n    endBatch();\n  }\n  return target;\n}\nfunction getDependencyTree(thing, property) {\n  return nodeToDependencyTree(getAtom(thing, property));\n}\nfunction nodeToDependencyTree(node) {\n  var result = {\n    name: node.name_\n  };\n  if (node.observing_ && node.observing_.length > 0) {\n    result.dependencies = unique(node.observing_).map(nodeToDependencyTree);\n  }\n  return result;\n}\nfunction unique(list) {\n  return Array.from(new Set(list));\n}\nvar generatorId = 0;\nfunction FlowCancellationError() {\n  this.message = \"FLOW_CANCELLED\";\n}\nFlowCancellationError.prototype = \/* @__PURE__ *\/ Object.create(Error.prototype);\nvar flowAnnotation = \/* @__PURE__ *\/ createFlowAnnotation(\"flow\");\nvar flowBoundAnnotation = \/* @__PURE__ *\/ createFlowAnnotation(\"flow.bound\", {\n  bound: true\n});\nvar flow = \/* @__PURE__ *\/ Object.assign(function flow2(arg1, arg2) {\n  if (isStringish(arg2)) {\n    return storeAnnotation(arg1, arg2, flowAnnotation);\n  }\n  if (false) {\n    die(\"Flow expects single argument with generator function\");\n  }\n  var generator = arg1;\n  var name = generator.name || \"<unnamed flow>\";\n  var res = function res2() {\n    var ctx = this;\n    var args = arguments;\n    var runId = ++generatorId;\n    var gen = action(name + \" - runid: \" + runId + \" - init\", generator).apply(ctx, args);\n    var rejector;\n    var pendingPromise = void 0;\n    var promise = new Promise(function(resolve, reject) {\n      var stepId = 0;\n      rejector = reject;\n      function onFulfilled(res3) {\n        pendingPromise = void 0;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen.next).call(gen, res3);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function onRejected(err) {\n        pendingPromise = void 0;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen[\"throw\"]).call(gen, err);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function next(ret) {\n        if (isFunction(ret == null ? void 0 : ret.then)) {\n          ret.then(next, reject);\n          return;\n        }\n        if (ret.done) {\n          return resolve(ret.value);\n        }\n        pendingPromise = Promise.resolve(ret.value);\n        return pendingPromise.then(onFulfilled, onRejected);\n      }\n      onFulfilled(void 0);\n    });\n    promise.cancel = action(name + \" - runid: \" + runId + \" - cancel\", function() {\n      try {\n        if (pendingPromise) {\n          cancelPromise(pendingPromise);\n        }\n        var _res = gen[\"return\"](void 0);\n        var yieldedPromise = Promise.resolve(_res.value);\n        yieldedPromise.then(noop, noop);\n        cancelPromise(yieldedPromise);\n        rejector(new FlowCancellationError());\n      } catch (e) {\n        rejector(e);\n      }\n    });\n    return promise;\n  };\n  res.isMobXFlow = true;\n  return res;\n}, flowAnnotation);\nflow.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(flowBoundAnnotation);\nfunction cancelPromise(promise) {\n  if (isFunction(promise.cancel)) {\n    promise.cancel();\n  }\n}\nfunction isFlow(fn) {\n  return (fn == null ? void 0 : fn.isMobXFlow) === true;\n}\nfunction _isObservable(value, property) {\n  if (!value) {\n    return false;\n  }\n  if (property !== void 0) {\n    if (false) {\n      return die(\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\");\n    }\n    if (isObservableObject(value)) {\n      return value[$mobx].values_.has(property);\n    }\n    return false;\n  }\n  return isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);\n}\nfunction isObservable(value) {\n  if (false) {\n    die(\"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property\");\n  }\n  return _isObservable(value);\n}\nfunction apiOwnKeys(obj) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].ownKeys_();\n  }\n  die(38);\n}\nfunction cache(map3, key, value) {\n  map3.set(key, value);\n  return value;\n}\nfunction toJSHelper(source, __alreadySeen) {\n  if (source == null || typeof source !== \"object\" || source instanceof Date || !isObservable(source)) {\n    return source;\n  }\n  if (isObservableValue(source) || isComputedValue(source)) {\n    return toJSHelper(source.get(), __alreadySeen);\n  }\n  if (__alreadySeen.has(source)) {\n    return __alreadySeen.get(source);\n  }\n  if (isObservableArray(source)) {\n    var res = cache(__alreadySeen, source, new Array(source.length));\n    source.forEach(function(value, idx) {\n      res[idx] = toJSHelper(value, __alreadySeen);\n    });\n    return res;\n  }\n  if (isObservableSet(source)) {\n    var _res = cache(__alreadySeen, source, \/* @__PURE__ *\/ new Set());\n    source.forEach(function(value) {\n      _res.add(toJSHelper(value, __alreadySeen));\n    });\n    return _res;\n  }\n  if (isObservableMap(source)) {\n    var _res2 = cache(__alreadySeen, source, \/* @__PURE__ *\/ new Map());\n    source.forEach(function(value, key) {\n      _res2.set(key, toJSHelper(value, __alreadySeen));\n    });\n    return _res2;\n  } else {\n    var _res3 = cache(__alreadySeen, source, {});\n    apiOwnKeys(source).forEach(function(key) {\n      if (objectPrototype.propertyIsEnumerable.call(source, key)) {\n        _res3[key] = toJSHelper(source[key], __alreadySeen);\n      }\n    });\n    return _res3;\n  }\n}\nfunction toJS(source, options) {\n  if (false) {\n    die(\"toJS no longer supports options\");\n  }\n  return toJSHelper(source, \/* @__PURE__ *\/ new Map());\n}\nfunction trace() {\n  if (true) {\n    die(\"trace() is not available in production builds\");\n  }\n  var enterBreakPoint = false;\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (typeof args[args.length - 1] === \"boolean\") {\n    enterBreakPoint = args.pop();\n  }\n  var derivation = getAtomFromArgs(args);\n  if (!derivation) {\n    return die(\"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly\");\n  }\n  if (derivation.isTracing_ === TraceMode.NONE) {\n    console.log(\"[mobx.trace] '\" + derivation.name_ + \"' tracing enabled\");\n  }\n  derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n}\nfunction getAtomFromArgs(args) {\n  switch (args.length) {\n    case 0:\n      return globalState.trackingDerivation;\n    case 1:\n      return getAtom(args[0]);\n    case 2:\n      return getAtom(args[0], args[1]);\n  }\n}\nfunction transaction(action2, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = void 0;\n  }\n  startBatch();\n  try {\n    return action2.apply(thisArg);\n  } finally {\n    endBatch();\n  }\n}\nfunction getAdm(target) {\n  return target[$mobx];\n}\nvar objectProxyTraps = {\n  has: function has(target, name) {\n    if (false) {\n      warnAboutProxyRequirement(\"detect new properties using the 'in' operator. Use 'has' from 'mobx' instead.\");\n    }\n    return getAdm(target).has_(name);\n  },\n  get: function get(target, name) {\n    return getAdm(target).get_(name);\n  },\n  set: function set2(target, name, value) {\n    var _getAdm$set_;\n    if (!isStringish(name)) {\n      return false;\n    }\n    if (false) {\n      warnAboutProxyRequirement(\"add a new observable property through direct assignment. Use 'set' from 'mobx' instead.\");\n    }\n    return (_getAdm$set_ = getAdm(target).set_(name, value, true)) != null ? _getAdm$set_ : true;\n  },\n  deleteProperty: function deleteProperty(target, name) {\n    var _getAdm$delete_;\n    if (false) {\n      warnAboutProxyRequirement(\"delete properties from an observable object. Use 'remove' from 'mobx' instead.\");\n    }\n    if (!isStringish(name)) {\n      return false;\n    }\n    return (_getAdm$delete_ = getAdm(target).delete_(name, true)) != null ? _getAdm$delete_ : true;\n  },\n  defineProperty: function defineProperty2(target, name, descriptor) {\n    var _getAdm$definePropert;\n    if (false) {\n      warnAboutProxyRequirement(\"define property on an observable object. Use 'defineProperty' from 'mobx' instead.\");\n    }\n    return (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != null ? _getAdm$definePropert : true;\n  },\n  ownKeys: function ownKeys2(target) {\n    if (false) {\n      warnAboutProxyRequirement(\"iterate keys to detect added \/ removed properties. Use 'keys' from 'mobx' instead.\");\n    }\n    return getAdm(target).ownKeys_();\n  },\n  preventExtensions: function preventExtensions(target) {\n    die(13);\n  }\n};\nfunction asDynamicObservableObject(target, options) {\n  var _target$$mobx, _target$$mobx$proxy_;\n  assertProxies();\n  target = asObservableObject(target, options);\n  return (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != null ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = new Proxy(target, objectProxyTraps);\n}\nfunction hasInterceptors(interceptable) {\n  return interceptable.interceptors_ !== void 0 && interceptable.interceptors_.length > 0;\n}\nfunction registerInterceptor(interceptable, handler) {\n  var interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);\n  interceptors.push(handler);\n  return once(function() {\n    var idx = interceptors.indexOf(handler);\n    if (idx !== -1) {\n      interceptors.splice(idx, 1);\n    }\n  });\n}\nfunction interceptChange(interceptable, change) {\n  var prevU = untrackedStart();\n  try {\n    var interceptors = [].concat(interceptable.interceptors_ || []);\n    for (var i2 = 0, l3 = interceptors.length; i2 < l3; i2++) {\n      change = interceptors[i2](change);\n      if (change && !change.type) {\n        die(14);\n      }\n      if (!change) {\n        break;\n      }\n    }\n    return change;\n  } finally {\n    untrackedEnd(prevU);\n  }\n}\nfunction hasListeners(listenable) {\n  return listenable.changeListeners_ !== void 0 && listenable.changeListeners_.length > 0;\n}\nfunction registerListener(listenable, handler) {\n  var listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);\n  listeners.push(handler);\n  return once(function() {\n    var idx = listeners.indexOf(handler);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n  });\n}\nfunction notifyListeners(listenable, change) {\n  var prevU = untrackedStart();\n  var listeners = listenable.changeListeners_;\n  if (!listeners) {\n    return;\n  }\n  listeners = listeners.slice();\n  for (var i2 = 0, l3 = listeners.length; i2 < l3; i2++) {\n    listeners[i2](change);\n  }\n  untrackedEnd(prevU);\n}\nfunction makeObservable(target, annotations, options) {\n  var adm = asObservableObject(target, options)[$mobx];\n  startBatch();\n  try {\n    var _annotations;\n    if (false) {\n      die(\"makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported.\");\n    }\n    (_annotations = annotations) != null ? _annotations : annotations = collectStoredAnnotations(target);\n    ownKeys(annotations).forEach(function(key) {\n      return adm.make_(key, annotations[key]);\n    });\n  } finally {\n    endBatch();\n  }\n  return target;\n}\nvar SPLICE = \"splice\";\nvar UPDATE = \"update\";\nvar MAX_SPLICE_SIZE = 1e4;\nvar arrayTraps = {\n  get: function get2(target, name) {\n    var adm = target[$mobx];\n    if (name === $mobx) {\n      return adm;\n    }\n    if (name === \"length\") {\n      return adm.getArrayLength_();\n    }\n    if (typeof name === \"string\" && !isNaN(name)) {\n      return adm.get_(parseInt(name));\n    }\n    if (hasProp(arrayExtensions, name)) {\n      return arrayExtensions[name];\n    }\n    return target[name];\n  },\n  set: function set3(target, name, value) {\n    var adm = target[$mobx];\n    if (name === \"length\") {\n      adm.setArrayLength_(value);\n    }\n    if (typeof name === \"symbol\" || isNaN(name)) {\n      target[name] = value;\n    } else {\n      adm.set_(parseInt(name), value);\n    }\n    return true;\n  },\n  preventExtensions: function preventExtensions2() {\n    die(15);\n  }\n};\nvar ObservableArrayAdministration = \/* @__PURE__ *\/ function() {\n  function ObservableArrayAdministration2(name, enhancer, owned_, legacyMode_) {\n    if (name === void 0) {\n      name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    this.owned_ = void 0;\n    this.legacyMode_ = void 0;\n    this.atom_ = void 0;\n    this.values_ = [];\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.enhancer_ = void 0;\n    this.dehancer = void 0;\n    this.proxy_ = void 0;\n    this.lastKnownLength_ = 0;\n    this.owned_ = owned_;\n    this.legacyMode_ = legacyMode_;\n    this.atom_ = new Atom(name);\n    this.enhancer_ = function(newV, oldV) {\n      return enhancer(newV, oldV, false ? name + \"[..]\" : \"ObservableArray[..]\");\n    };\n  }\n  var _proto = ObservableArrayAdministration2.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.dehanceValues_ = function dehanceValues_(values) {\n    if (this.dehancer !== void 0 && values.length > 0) {\n      return values.map(this.dehancer);\n    }\n    return values;\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately === void 0) {\n      fireImmediately = false;\n    }\n    if (fireImmediately) {\n      listener({\n        observableKind: \"array\",\n        object: this.proxy_,\n        debugObjectName: this.atom_.name_,\n        type: \"splice\",\n        index: 0,\n        added: this.values_.slice(),\n        addedCount: this.values_.length,\n        removed: [],\n        removedCount: 0\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.getArrayLength_ = function getArrayLength_() {\n    this.atom_.reportObserved();\n    return this.values_.length;\n  };\n  _proto.setArrayLength_ = function setArrayLength_(newLength) {\n    if (typeof newLength !== \"number\" || isNaN(newLength) || newLength < 0) {\n      die(\"Out of range: \" + newLength);\n    }\n    var currentLength = this.values_.length;\n    if (newLength === currentLength) {\n      return;\n    } else if (newLength > currentLength) {\n      var newItems = new Array(newLength - currentLength);\n      for (var i2 = 0; i2 < newLength - currentLength; i2++) {\n        newItems[i2] = void 0;\n      }\n      this.spliceWithArray_(currentLength, 0, newItems);\n    } else {\n      this.spliceWithArray_(newLength, currentLength - newLength);\n    }\n  };\n  _proto.updateArrayLength_ = function updateArrayLength_(oldLength, delta) {\n    if (oldLength !== this.lastKnownLength_) {\n      die(16);\n    }\n    this.lastKnownLength_ += delta;\n    if (this.legacyMode_ && delta > 0) {\n      reserveArrayBuffer(oldLength + delta + 1);\n    }\n  };\n  _proto.spliceWithArray_ = function spliceWithArray_(index2, deleteCount, newItems) {\n    var _this = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    var length = this.values_.length;\n    if (index2 === void 0) {\n      index2 = 0;\n    } else if (index2 > length) {\n      index2 = length;\n    } else if (index2 < 0) {\n      index2 = Math.max(0, length + index2);\n    }\n    if (arguments.length === 1) {\n      deleteCount = length - index2;\n    } else if (deleteCount === void 0 || deleteCount === null) {\n      deleteCount = 0;\n    } else {\n      deleteCount = Math.max(0, Math.min(deleteCount, length - index2));\n    }\n    if (newItems === void 0) {\n      newItems = EMPTY_ARRAY;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_,\n        type: SPLICE,\n        index: index2,\n        removedCount: deleteCount,\n        added: newItems\n      });\n      if (!change) {\n        return EMPTY_ARRAY;\n      }\n      deleteCount = change.removedCount;\n      newItems = change.added;\n    }\n    newItems = newItems.length === 0 ? newItems : newItems.map(function(v2) {\n      return _this.enhancer_(v2, void 0);\n    });\n    if (this.legacyMode_ || false) {\n      var lengthDelta = newItems.length - deleteCount;\n      this.updateArrayLength_(length, lengthDelta);\n    }\n    var res = this.spliceItemsIntoValues_(index2, deleteCount, newItems);\n    if (deleteCount !== 0 || newItems.length !== 0) {\n      this.notifyArraySplice_(index2, newItems, res);\n    }\n    return this.dehanceValues_(res);\n  };\n  _proto.spliceItemsIntoValues_ = function spliceItemsIntoValues_(index2, deleteCount, newItems) {\n    if (newItems.length < MAX_SPLICE_SIZE) {\n      var _this$values_;\n      return (_this$values_ = this.values_).splice.apply(_this$values_, [index2, deleteCount].concat(newItems));\n    } else {\n      var res = this.values_.slice(index2, index2 + deleteCount);\n      var oldItems = this.values_.slice(index2 + deleteCount);\n      this.values_.length += newItems.length - deleteCount;\n      for (var i2 = 0; i2 < newItems.length; i2++) {\n        this.values_[index2 + i2] = newItems[i2];\n      }\n      for (var _i = 0; _i < oldItems.length; _i++) {\n        this.values_[index2 + newItems.length + _i] = oldItems[_i];\n      }\n      return res;\n    }\n  };\n  _proto.notifyArrayChildUpdate_ = function notifyArrayChildUpdate_(index2, newValue, oldValue) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      type: UPDATE,\n      debugObjectName: this.atom_.name_,\n      index: index2,\n      newValue,\n      oldValue\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.notifyArraySplice_ = function notifyArraySplice_(index2, added, removed) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      debugObjectName: this.atom_.name_,\n      type: SPLICE,\n      index: index2,\n      removed,\n      added,\n      removedCount: removed.length,\n      addedCount: added.length\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.get_ = function get_(index2) {\n    if (this.legacyMode_ && index2 >= this.values_.length) {\n      console.warn(false ? \"[mobx.array] Attempt to read an array index (\" + index2 + \") that is out of bounds (\" + this.values_.length + \"). Please check length first. Out of bound indices will not be tracked by MobX\" : \"[mobx] Out of bounds read: \" + index2);\n      return void 0;\n    }\n    this.atom_.reportObserved();\n    return this.dehanceValue_(this.values_[index2]);\n  };\n  _proto.set_ = function set_(index2, newValue) {\n    var values = this.values_;\n    if (this.legacyMode_ && index2 > values.length) {\n      die(17, index2, values.length);\n    }\n    if (index2 < values.length) {\n      checkIfStateModificationsAreAllowed(this.atom_);\n      var oldValue = values[index2];\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          type: UPDATE,\n          object: this.proxy_,\n          index: index2,\n          newValue\n        });\n        if (!change) {\n          return;\n        }\n        newValue = change.newValue;\n      }\n      newValue = this.enhancer_(newValue, oldValue);\n      var changed = newValue !== oldValue;\n      if (changed) {\n        values[index2] = newValue;\n        this.notifyArrayChildUpdate_(index2, newValue, oldValue);\n      }\n    } else {\n      var newItems = new Array(index2 + 1 - values.length);\n      for (var i2 = 0; i2 < newItems.length - 1; i2++) {\n        newItems[i2] = void 0;\n      }\n      newItems[newItems.length - 1] = newValue;\n      this.spliceWithArray_(values.length, 0, newItems);\n    }\n  };\n  return ObservableArrayAdministration2;\n}();\nfunction createObservableArray(initialValues, enhancer, name, owned) {\n  if (name === void 0) {\n    name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n  }\n  if (owned === void 0) {\n    owned = false;\n  }\n  assertProxies();\n  var adm = new ObservableArrayAdministration(name, enhancer, owned, false);\n  addHiddenFinalProp(adm.values_, $mobx, adm);\n  var proxy = new Proxy(adm.values_, arrayTraps);\n  adm.proxy_ = proxy;\n  if (initialValues && initialValues.length) {\n    var prev = allowStateChangesStart(true);\n    adm.spliceWithArray_(0, 0, initialValues);\n    allowStateChangesEnd(prev);\n  }\n  return proxy;\n}\nvar arrayExtensions = {\n  clear: function clear() {\n    return this.splice(0);\n  },\n  replace: function replace(newItems) {\n    var adm = this[$mobx];\n    return adm.spliceWithArray_(0, adm.values_.length, newItems);\n  },\n  toJSON: function toJSON() {\n    return this.slice();\n  },\n  splice: function splice(index2, deleteCount) {\n    for (var _len = arguments.length, newItems = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      newItems[_key - 2] = arguments[_key];\n    }\n    var adm = this[$mobx];\n    switch (arguments.length) {\n      case 0:\n        return [];\n      case 1:\n        return adm.spliceWithArray_(index2);\n      case 2:\n        return adm.spliceWithArray_(index2, deleteCount);\n    }\n    return adm.spliceWithArray_(index2, deleteCount, newItems);\n  },\n  spliceWithArray: function spliceWithArray(index2, deleteCount, newItems) {\n    return this[$mobx].spliceWithArray_(index2, deleteCount, newItems);\n  },\n  push: function push() {\n    var adm = this[$mobx];\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n    adm.spliceWithArray_(adm.values_.length, 0, items);\n    return adm.values_.length;\n  },\n  pop: function pop() {\n    return this.splice(Math.max(this[$mobx].values_.length - 1, 0), 1)[0];\n  },\n  shift: function shift() {\n    return this.splice(0, 1)[0];\n  },\n  unshift: function unshift() {\n    var adm = this[$mobx];\n    for (var _len3 = arguments.length, items = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      items[_key3] = arguments[_key3];\n    }\n    adm.spliceWithArray_(0, 0, items);\n    return adm.values_.length;\n  },\n  reverse: function reverse() {\n    if (globalState.trackingDerivation) {\n      die(37, \"reverse\");\n    }\n    this.replace(this.slice().reverse());\n    return this;\n  },\n  sort: function sort() {\n    if (globalState.trackingDerivation) {\n      die(37, \"sort\");\n    }\n    var copy = this.slice();\n    copy.sort.apply(copy, arguments);\n    this.replace(copy);\n    return this;\n  },\n  remove: function remove(value) {\n    var adm = this[$mobx];\n    var idx = adm.dehanceValues_(adm.values_).indexOf(value);\n    if (idx > -1) {\n      this.splice(idx, 1);\n      return true;\n    }\n    return false;\n  }\n};\naddArrayExtension(\"concat\", simpleFunc);\naddArrayExtension(\"flat\", simpleFunc);\naddArrayExtension(\"includes\", simpleFunc);\naddArrayExtension(\"indexOf\", simpleFunc);\naddArrayExtension(\"join\", simpleFunc);\naddArrayExtension(\"lastIndexOf\", simpleFunc);\naddArrayExtension(\"slice\", simpleFunc);\naddArrayExtension(\"toString\", simpleFunc);\naddArrayExtension(\"toLocaleString\", simpleFunc);\naddArrayExtension(\"every\", mapLikeFunc);\naddArrayExtension(\"filter\", mapLikeFunc);\naddArrayExtension(\"find\", mapLikeFunc);\naddArrayExtension(\"findIndex\", mapLikeFunc);\naddArrayExtension(\"flatMap\", mapLikeFunc);\naddArrayExtension(\"forEach\", mapLikeFunc);\naddArrayExtension(\"map\", mapLikeFunc);\naddArrayExtension(\"some\", mapLikeFunc);\naddArrayExtension(\"reduce\", reduceLikeFunc);\naddArrayExtension(\"reduceRight\", reduceLikeFunc);\nfunction addArrayExtension(funcName, funcFactory) {\n  if (typeof Array.prototype[funcName] === \"function\") {\n    arrayExtensions[funcName] = funcFactory(funcName);\n  }\n}\nfunction simpleFunc(funcName) {\n  return function() {\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\nfunction mapLikeFunc(funcName) {\n  return function(callback, thisArg) {\n    var _this2 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName](function(element, index2) {\n      return callback.call(thisArg, element, index2, _this2);\n    });\n  };\n}\nfunction reduceLikeFunc(funcName) {\n  return function() {\n    var _this3 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    var callback = arguments[0];\n    arguments[0] = function(accumulator, currentValue, index2) {\n      return callback(accumulator, currentValue, index2, _this3);\n    };\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\nvar isObservableArrayAdministration = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableArrayAdministration\", ObservableArrayAdministration);\nfunction isObservableArray(thing) {\n  return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);\n}\nvar _Symbol$iterator;\nvar _Symbol$toStringTag;\nvar ObservableMapMarker = {};\nvar ADD = \"add\";\nvar DELETE = \"delete\";\n_Symbol$iterator = Symbol.iterator;\n_Symbol$toStringTag = Symbol.toStringTag;\nvar ObservableMap = \/* @__PURE__ *\/ function() {\n  function ObservableMap2(initialData, enhancer_, name_) {\n    var _this = this;\n    if (enhancer_ === void 0) {\n      enhancer_ = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableMap@\" + getNextId() : \"ObservableMap\";\n    }\n    this.enhancer_ = void 0;\n    this.name_ = void 0;\n    this[$mobx] = ObservableMapMarker;\n    this.data_ = void 0;\n    this.hasMap_ = void 0;\n    this.keysAtom_ = void 0;\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = enhancer_;\n    this.name_ = name_;\n    if (!isFunction(Map)) {\n      die(18);\n    }\n    this.keysAtom_ = createAtom(false ? this.name_ + \".keys()\" : \"ObservableMap.keys()\");\n    this.data_ = \/* @__PURE__ *\/ new Map();\n    this.hasMap_ = \/* @__PURE__ *\/ new Map();\n    allowStateChanges(true, function() {\n      _this.merge(initialData);\n    });\n  }\n  var _proto = ObservableMap2.prototype;\n  _proto.has_ = function has_(key) {\n    return this.data_.has(key);\n  };\n  _proto.has = function has2(key) {\n    var _this2 = this;\n    if (!globalState.trackingDerivation) {\n      return this.has_(key);\n    }\n    var entry = this.hasMap_.get(key);\n    if (!entry) {\n      var newEntry = entry = new ObservableValue(this.has_(key), referenceEnhancer, false ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableMap.key?\", false);\n      this.hasMap_.set(key, newEntry);\n      onBecomeUnobserved(newEntry, function() {\n        return _this2.hasMap_[\"delete\"](key);\n      });\n    }\n    return entry.get();\n  };\n  _proto.set = function set4(key, value) {\n    var hasKey = this.has_(key);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: hasKey ? UPDATE : ADD,\n        object: this,\n        newValue: value,\n        name: key\n      });\n      if (!change) {\n        return this;\n      }\n      value = change.newValue;\n    }\n    if (hasKey) {\n      this.updateValue_(key, value);\n    } else {\n      this.addValue_(key, value);\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(key) {\n    var _this3 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        name: key\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has_(key)) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: this.data_.get(key).value_,\n        name: key\n      } : null;\n      if (false) {\n        spyReportStart(_change);\n      }\n      transaction(function() {\n        var _this3$hasMap_$get;\n        _this3.keysAtom_.reportChanged();\n        (_this3$hasMap_$get = _this3.hasMap_.get(key)) == null ? void 0 : _this3$hasMap_$get.setNewValue_(false);\n        var observable2 = _this3.data_.get(key);\n        observable2.setNewValue_(void 0);\n        _this3.data_[\"delete\"](key);\n      });\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.updateValue_ = function updateValue_(key, newValue) {\n    var observable2 = this.data_.get(key);\n    newValue = observable2.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: UPDATE,\n        object: this,\n        oldValue: observable2.value_,\n        name: key,\n        newValue\n      } : null;\n      if (false) {\n        spyReportStart(change);\n      }\n      observable2.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.addValue_ = function addValue_(key, newValue) {\n    var _this4 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    transaction(function() {\n      var _this4$hasMap_$get;\n      var observable2 = new ObservableValue(newValue, _this4.enhancer_, false ? _this4.name_ + \".\" + stringifyKey(key) : \"ObservableMap.key\", false);\n      _this4.data_.set(key, observable2);\n      newValue = observable2.value_;\n      (_this4$hasMap_$get = _this4.hasMap_.get(key)) == null ? void 0 : _this4$hasMap_$get.setNewValue_(true);\n      _this4.keysAtom_.reportChanged();\n    });\n    var notifySpy = isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"map\",\n      debugObjectName: this.name_,\n      type: ADD,\n      object: this,\n      name: key,\n      newValue\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.get = function get3(key) {\n    if (this.has(key)) {\n      return this.dehanceValue_(this.data_.get(key).get());\n    }\n    return this.dehanceValue_(void 0);\n  };\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.keys = function keys() {\n    this.keysAtom_.reportObserved();\n    return this.data_.keys();\n  };\n  _proto.values = function values() {\n    var self2 = this;\n    var keys = this.keys();\n    return makeIterable({\n      next: function next() {\n        var _keys$next = keys.next(), done = _keys$next.done, value = _keys$next.value;\n        return {\n          done,\n          value: done ? void 0 : self2.get(value)\n        };\n      }\n    });\n  };\n  _proto.entries = function entries() {\n    var self2 = this;\n    var keys = this.keys();\n    return makeIterable({\n      next: function next() {\n        var _keys$next2 = keys.next(), done = _keys$next2.done, value = _keys$next2.value;\n        return {\n          done,\n          value: done ? void 0 : [value, self2.get(value)]\n        };\n      }\n    });\n  };\n  _proto[_Symbol$iterator] = function() {\n    return this.entries();\n  };\n  _proto.forEach = function forEach(callback, thisArg) {\n    for (var _iterator = _createForOfIteratorHelperLoose(this), _step; !(_step = _iterator()).done; ) {\n      var _step$value = _step.value, key = _step$value[0], value = _step$value[1];\n      callback.call(thisArg, value, key, this);\n    }\n  };\n  _proto.merge = function merge2(other) {\n    var _this5 = this;\n    if (isObservableMap(other)) {\n      other = new Map(other);\n    }\n    transaction(function() {\n      if (isPlainObject(other)) {\n        getPlainObjectKeys(other).forEach(function(key) {\n          return _this5.set(key, other[key]);\n        });\n      } else if (Array.isArray(other)) {\n        other.forEach(function(_ref) {\n          var key = _ref[0], value = _ref[1];\n          return _this5.set(key, value);\n        });\n      } else if (isES6Map(other)) {\n        if (other.constructor !== Map) {\n          die(19, other);\n        }\n        other.forEach(function(value, key) {\n          return _this5.set(key, value);\n        });\n      } else if (other !== null && other !== void 0) {\n        die(20, other);\n      }\n    });\n    return this;\n  };\n  _proto.clear = function clear2() {\n    var _this6 = this;\n    transaction(function() {\n      untracked(function() {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(_this6.keys()), _step2; !(_step2 = _iterator2()).done; ) {\n          var key = _step2.value;\n          _this6[\"delete\"](key);\n        }\n      });\n    });\n  };\n  _proto.replace = function replace2(values) {\n    var _this7 = this;\n    transaction(function() {\n      var replacementMap = convertToMap(values);\n      var orderedData = \/* @__PURE__ *\/ new Map();\n      var keysReportChangedCalled = false;\n      for (var _iterator3 = _createForOfIteratorHelperLoose(_this7.data_.keys()), _step3; !(_step3 = _iterator3()).done; ) {\n        var key = _step3.value;\n        if (!replacementMap.has(key)) {\n          var deleted = _this7[\"delete\"](key);\n          if (deleted) {\n            keysReportChangedCalled = true;\n          } else {\n            var value = _this7.data_.get(key);\n            orderedData.set(key, value);\n          }\n        }\n      }\n      for (var _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done; ) {\n        var _step4$value = _step4.value, _key = _step4$value[0], _value = _step4$value[1];\n        var keyExisted = _this7.data_.has(_key);\n        _this7.set(_key, _value);\n        if (_this7.data_.has(_key)) {\n          var _value2 = _this7.data_.get(_key);\n          orderedData.set(_key, _value2);\n          if (!keyExisted) {\n            keysReportChangedCalled = true;\n          }\n        }\n      }\n      if (!keysReportChangedCalled) {\n        if (_this7.data_.size !== orderedData.size) {\n          _this7.keysAtom_.reportChanged();\n        } else {\n          var iter1 = _this7.data_.keys();\n          var iter2 = orderedData.keys();\n          var next1 = iter1.next();\n          var next2 = iter2.next();\n          while (!next1.done) {\n            if (next1.value !== next2.value) {\n              _this7.keysAtom_.reportChanged();\n              break;\n            }\n            next1 = iter1.next();\n            next2 = iter2.next();\n          }\n        }\n      }\n      _this7.data_ = orderedData;\n    });\n    return this;\n  };\n  _proto.toString = function toString2() {\n    return \"[object ObservableMap]\";\n  };\n  _proto.toJSON = function toJSON2() {\n    return Array.from(this);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with maps.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _createClass(ObservableMap2, [{\n    key: \"size\",\n    get: function get3() {\n      this.keysAtom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: _Symbol$toStringTag,\n    get: function get3() {\n      return \"Map\";\n    }\n  }]);\n  return ObservableMap2;\n}();\nvar isObservableMap = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableMap\", ObservableMap);\nfunction convertToMap(dataStructure) {\n  if (isES6Map(dataStructure) || isObservableMap(dataStructure)) {\n    return dataStructure;\n  } else if (Array.isArray(dataStructure)) {\n    return new Map(dataStructure);\n  } else if (isPlainObject(dataStructure)) {\n    var map3 = \/* @__PURE__ *\/ new Map();\n    for (var key in dataStructure) {\n      map3.set(key, dataStructure[key]);\n    }\n    return map3;\n  } else {\n    return die(21, dataStructure);\n  }\n}\nvar _Symbol$iterator$1;\nvar _Symbol$toStringTag$1;\nvar ObservableSetMarker = {};\n_Symbol$iterator$1 = Symbol.iterator;\n_Symbol$toStringTag$1 = Symbol.toStringTag;\nvar ObservableSet = \/* @__PURE__ *\/ function() {\n  function ObservableSet2(initialData, enhancer, name_) {\n    if (enhancer === void 0) {\n      enhancer = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableSet@\" + getNextId() : \"ObservableSet\";\n    }\n    this.name_ = void 0;\n    this[$mobx] = ObservableSetMarker;\n    this.data_ = \/* @__PURE__ *\/ new Set();\n    this.atom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = void 0;\n    this.name_ = name_;\n    if (!isFunction(Set)) {\n      die(22);\n    }\n    this.atom_ = createAtom(this.name_);\n    this.enhancer_ = function(newV, oldV) {\n      return enhancer(newV, oldV, name_);\n    };\n    if (initialData) {\n      this.replace(initialData);\n    }\n  }\n  var _proto = ObservableSet2.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.clear = function clear2() {\n    var _this = this;\n    transaction(function() {\n      untracked(function() {\n        for (var _iterator = _createForOfIteratorHelperLoose(_this.data_.values()), _step; !(_step = _iterator()).done; ) {\n          var value = _step.value;\n          _this[\"delete\"](value);\n        }\n      });\n    });\n  };\n  _proto.forEach = function forEach(callbackFn, thisArg) {\n    for (var _iterator2 = _createForOfIteratorHelperLoose(this), _step2; !(_step2 = _iterator2()).done; ) {\n      var value = _step2.value;\n      callbackFn.call(thisArg, value, value, this);\n    }\n  };\n  _proto.add = function add(value) {\n    var _this2 = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: ADD,\n        object: this,\n        newValue: value\n      });\n      if (!change) {\n        return this;\n      }\n    }\n    if (!this.has(value)) {\n      transaction(function() {\n        _this2.data_.add(_this2.enhancer_(value, void 0));\n        _this2.atom_.reportChanged();\n      });\n      var notifySpy = false;\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: ADD,\n        object: this,\n        newValue: value\n      } : null;\n      if (notifySpy && false) {\n        spyReportStart(_change);\n      }\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (notifySpy && false) {\n        spyReportEnd();\n      }\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(value) {\n    var _this3 = this;\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        oldValue: value\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has(value)) {\n      var notifySpy = false;\n      var notify = hasListeners(this);\n      var _change2 = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: value\n      } : null;\n      if (notifySpy && false) {\n        spyReportStart(_change2);\n      }\n      transaction(function() {\n        _this3.atom_.reportChanged();\n        _this3.data_[\"delete\"](value);\n      });\n      if (notify) {\n        notifyListeners(this, _change2);\n      }\n      if (notifySpy && false) {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.has = function has2(value) {\n    this.atom_.reportObserved();\n    return this.data_.has(this.dehanceValue_(value));\n  };\n  _proto.entries = function entries() {\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    var values = Array.from(this.values());\n    return makeIterable({\n      next: function next() {\n        var index2 = nextIndex;\n        nextIndex += 1;\n        return index2 < values.length ? {\n          value: [keys[index2], values[index2]],\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n  _proto.keys = function keys() {\n    return this.values();\n  };\n  _proto.values = function values() {\n    this.atom_.reportObserved();\n    var self2 = this;\n    var nextIndex = 0;\n    var observableValues = Array.from(this.data_.values());\n    return makeIterable({\n      next: function next() {\n        return nextIndex < observableValues.length ? {\n          value: self2.dehanceValue_(observableValues[nextIndex++]),\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n  _proto.replace = function replace2(other) {\n    var _this4 = this;\n    if (isObservableSet(other)) {\n      other = new Set(other);\n    }\n    transaction(function() {\n      if (Array.isArray(other)) {\n        _this4.clear();\n        other.forEach(function(value) {\n          return _this4.add(value);\n        });\n      } else if (isES6Set(other)) {\n        _this4.clear();\n        other.forEach(function(value) {\n          return _this4.add(value);\n        });\n      } else if (other !== null && other !== void 0) {\n        die(\"Cannot initialize set from \" + other);\n      }\n    });\n    return this;\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with sets.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.toJSON = function toJSON2() {\n    return Array.from(this);\n  };\n  _proto.toString = function toString2() {\n    return \"[object ObservableSet]\";\n  };\n  _proto[_Symbol$iterator$1] = function() {\n    return this.values();\n  };\n  _createClass(ObservableSet2, [{\n    key: \"size\",\n    get: function get3() {\n      this.atom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: _Symbol$toStringTag$1,\n    get: function get3() {\n      return \"Set\";\n    }\n  }]);\n  return ObservableSet2;\n}();\nvar isObservableSet = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableSet\", ObservableSet);\nvar descriptorCache = \/* @__PURE__ *\/ Object.create(null);\nvar REMOVE = \"remove\";\nvar ObservableObjectAdministration = \/* @__PURE__ *\/ function() {\n  function ObservableObjectAdministration2(target_, values_, name_, defaultAnnotation_) {\n    if (values_ === void 0) {\n      values_ = \/* @__PURE__ *\/ new Map();\n    }\n    if (defaultAnnotation_ === void 0) {\n      defaultAnnotation_ = autoAnnotation;\n    }\n    this.target_ = void 0;\n    this.values_ = void 0;\n    this.name_ = void 0;\n    this.defaultAnnotation_ = void 0;\n    this.keysAtom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.proxy_ = void 0;\n    this.isPlainObject_ = void 0;\n    this.appliedAnnotations_ = void 0;\n    this.pendingKeys_ = void 0;\n    this.target_ = target_;\n    this.values_ = values_;\n    this.name_ = name_;\n    this.defaultAnnotation_ = defaultAnnotation_;\n    this.keysAtom_ = new Atom(false ? this.name_ + \".keys\" : \"ObservableObject.keys\");\n    this.isPlainObject_ = isPlainObject(this.target_);\n    if (false) {\n      die(\"defaultAnnotation must be valid annotation\");\n    }\n    if (false) {\n      this.appliedAnnotations_ = {};\n    }\n  }\n  var _proto = ObservableObjectAdministration2.prototype;\n  _proto.getObservablePropValue_ = function getObservablePropValue_(key) {\n    return this.values_.get(key).get();\n  };\n  _proto.setObservablePropValue_ = function setObservablePropValue_(key, newValue) {\n    var observable2 = this.values_.get(key);\n    if (observable2 instanceof ComputedValue) {\n      observable2.set(newValue);\n      return true;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: UPDATE,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue\n      });\n      if (!change) {\n        return null;\n      }\n      newValue = change.newValue;\n    }\n    newValue = observable2.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notify = hasListeners(this);\n      var notifySpy = false;\n      var _change = notify || notifySpy ? {\n        type: UPDATE,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        oldValue: observable2.value_,\n        name: key,\n        newValue\n      } : null;\n      if (false) {\n        spyReportStart(_change);\n      }\n      observable2.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n    return true;\n  };\n  _proto.get_ = function get_(key) {\n    if (globalState.trackingDerivation && !hasProp(this.target_, key)) {\n      this.has_(key);\n    }\n    return this.target_[key];\n  };\n  _proto.set_ = function set_(key, value, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (hasProp(this.target_, key)) {\n      if (this.values_.has(key)) {\n        return this.setObservablePropValue_(key, value);\n      } else if (proxyTrap) {\n        return Reflect.set(this.target_, key, value);\n      } else {\n        this.target_[key] = value;\n        return true;\n      }\n    } else {\n      return this.extend_(key, {\n        value,\n        enumerable: true,\n        writable: true,\n        configurable: true\n      }, this.defaultAnnotation_, proxyTrap);\n    }\n  };\n  _proto.has_ = function has_(key) {\n    if (!globalState.trackingDerivation) {\n      return key in this.target_;\n    }\n    this.pendingKeys_ || (this.pendingKeys_ = \/* @__PURE__ *\/ new Map());\n    var entry = this.pendingKeys_.get(key);\n    if (!entry) {\n      entry = new ObservableValue(key in this.target_, referenceEnhancer, false ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableObject.key?\", false);\n      this.pendingKeys_.set(key, entry);\n    }\n    return entry.get();\n  };\n  _proto.make_ = function make_(key, annotation) {\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return;\n    }\n    assertAnnotable(this, annotation, key);\n    if (!(key in this.target_)) {\n      var _this$target_$storedA;\n      if ((_this$target_$storedA = this.target_[storedAnnotationsSymbol]) != null && _this$target_$storedA[key]) {\n        return;\n      } else {\n        die(1, annotation.annotationType_, this.name_ + \".\" + key.toString());\n      }\n    }\n    var source = this.target_;\n    while (source && source !== objectPrototype) {\n      var descriptor = getDescriptor(source, key);\n      if (descriptor) {\n        var outcome = annotation.make_(this, key, descriptor, source);\n        if (outcome === 0) {\n          return;\n        }\n        if (outcome === 1) {\n          break;\n        }\n      }\n      source = Object.getPrototypeOf(source);\n    }\n    recordAnnotationApplied(this, annotation, key);\n  };\n  _proto.extend_ = function extend_(key, descriptor, annotation, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return this.defineProperty_(key, descriptor, proxyTrap);\n    }\n    assertAnnotable(this, annotation, key);\n    var outcome = annotation.extend_(this, key, descriptor, proxyTrap);\n    if (outcome) {\n      recordAnnotationApplied(this, annotation, key);\n    }\n    return outcome;\n  };\n  _proto.defineProperty_ = function defineProperty_(key, descriptor, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: descriptor.value\n        });\n        if (!change) {\n          return null;\n        }\n        var newValue = change.newValue;\n        if (descriptor.value !== newValue) {\n          descriptor = _extends({}, descriptor, {\n            value: newValue\n          });\n        }\n      }\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      this.notifyPropertyAddition_(key, descriptor.value);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.defineObservableProperty_ = function defineObservableProperty_(key, value, enhancer, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: value\n        });\n        if (!change) {\n          return null;\n        }\n        value = change.newValue;\n      }\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: true,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      var observable2 = new ObservableValue(value, enhancer, false ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\", false);\n      this.values_.set(key, observable2);\n      this.notifyPropertyAddition_(key, observable2.value_);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.defineComputedProperty_ = function defineComputedProperty_(key, options, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: void 0\n        });\n        if (!change) {\n          return null;\n        }\n      }\n      options.name || (options.name = false ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\");\n      options.context = this.proxy_ || this.target_;\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: false,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      this.values_.set(key, new ComputedValue(options));\n      this.notifyPropertyAddition_(key, void 0);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.delete_ = function delete_(key, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (!hasProp(this.target_, key)) {\n      return true;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_ || this.target_,\n        name: key,\n        type: REMOVE\n      });\n      if (!change) {\n        return null;\n      }\n    }\n    try {\n      var _this$pendingKeys_, _this$pendingKeys_$ge;\n      startBatch();\n      var notify = hasListeners(this);\n      var notifySpy = false;\n      var observable2 = this.values_.get(key);\n      var value = void 0;\n      if (!observable2 && (notify || notifySpy)) {\n        var _getDescriptor2;\n        value = (_getDescriptor2 = getDescriptor(this.target_, key)) == null ? void 0 : _getDescriptor2.value;\n      }\n      if (proxyTrap) {\n        if (!Reflect.deleteProperty(this.target_, key)) {\n          return false;\n        }\n      } else {\n        delete this.target_[key];\n      }\n      if (false) {\n        delete this.appliedAnnotations_[key];\n      }\n      if (observable2) {\n        this.values_[\"delete\"](key);\n        if (observable2 instanceof ObservableValue) {\n          value = observable2.value_;\n        }\n        propagateChanged(observable2);\n      }\n      this.keysAtom_.reportChanged();\n      (_this$pendingKeys_ = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_$ge = _this$pendingKeys_.get(key)) == null ? void 0 : _this$pendingKeys_$ge.set(key in this.target_);\n      if (notify || notifySpy) {\n        var _change2 = {\n          type: REMOVE,\n          observableKind: \"object\",\n          object: this.proxy_ || this.target_,\n          debugObjectName: this.name_,\n          oldValue: value,\n          name: key\n        };\n        if (false) {\n          spyReportStart(_change2);\n        }\n        if (notify) {\n          notifyListeners(this, _change2);\n        }\n        if (false) {\n          spyReportEnd();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.observe_ = function observe_(callback, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support the fire immediately property for observable objects.\");\n    }\n    return registerListener(this, callback);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.notifyPropertyAddition_ = function notifyPropertyAddition_(key, value) {\n    var _this$pendingKeys_2, _this$pendingKeys_2$g;\n    var notify = hasListeners(this);\n    var notifySpy = false;\n    if (notify || notifySpy) {\n      var change = notify || notifySpy ? {\n        type: ADD,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue: value\n      } : null;\n      if (false) {\n        spyReportStart(change);\n      }\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n    (_this$pendingKeys_2 = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_2$g = _this$pendingKeys_2.get(key)) == null ? void 0 : _this$pendingKeys_2$g.set(true);\n    this.keysAtom_.reportChanged();\n  };\n  _proto.ownKeys_ = function ownKeys_() {\n    this.keysAtom_.reportObserved();\n    return ownKeys(this.target_);\n  };\n  _proto.keys_ = function keys_() {\n    this.keysAtom_.reportObserved();\n    return Object.keys(this.target_);\n  };\n  return ObservableObjectAdministration2;\n}();\nfunction asObservableObject(target, options) {\n  var _options$name;\n  if (false) {\n    die(\"Options can't be provided for already observable objects.\");\n  }\n  if (hasProp(target, $mobx)) {\n    if (false) {\n      die(\"Cannot convert '\" + getDebugName(target) + \"' into observable object:\\nThe target is already observable of different type.\\nExtending builtins is not supported.\");\n    }\n    return target;\n  }\n  if (false) {\n    die(\"Cannot make the designated object observable; it is not extensible\");\n  }\n  var name = (_options$name = options == null ? void 0 : options.name) != null ? _options$name : false ? (isPlainObject(target) ? \"ObservableObject\" : target.constructor.name) + \"@\" + getNextId() : \"ObservableObject\";\n  var adm = new ObservableObjectAdministration(target, \/* @__PURE__ *\/ new Map(), String(name), getAnnotationFromOptions(options));\n  addHiddenProp(target, $mobx, adm);\n  return target;\n}\nvar isObservableObjectAdministration = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableObjectAdministration\", ObservableObjectAdministration);\nfunction getCachedObservablePropDescriptor(key) {\n  return descriptorCache[key] || (descriptorCache[key] = {\n    get: function get3() {\n      return this[$mobx].getObservablePropValue_(key);\n    },\n    set: function set4(value) {\n      return this[$mobx].setObservablePropValue_(key, value);\n    }\n  });\n}\nfunction isObservableObject(thing) {\n  if (isObject(thing)) {\n    return isObservableObjectAdministration(thing[$mobx]);\n  }\n  return false;\n}\nfunction recordAnnotationApplied(adm, annotation, key) {\n  var _adm$target_$storedAn;\n  if (false) {\n    adm.appliedAnnotations_[key] = annotation;\n  }\n  (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == null ? true : delete _adm$target_$storedAn[key];\n}\nfunction assertAnnotable(adm, annotation, key) {\n  if (false) {\n    die(\"Cannot annotate '\" + adm.name_ + \".\" + key.toString() + \"': Invalid annotation.\");\n  }\n  if (false) {\n    var fieldName = adm.name_ + \".\" + key.toString();\n    var currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already annotated with '\" + currentAnnotationType + \"'.\") + \"\\nRe-annotating fields is not allowed.\\nUse 'override' annotation for methods overridden by subclass.\");\n  }\n}\nvar ENTRY_0 = \/* @__PURE__ *\/ createArrayEntryDescriptor(0);\nvar OBSERVABLE_ARRAY_BUFFER_SIZE = 0;\nvar StubArray = function StubArray2() {\n};\nfunction inherit(ctor, proto) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ctor.prototype, proto);\n  } else if (ctor.prototype.__proto__ !== void 0) {\n    ctor.prototype.__proto__ = proto;\n  } else {\n    ctor.prototype = proto;\n  }\n}\ninherit(StubArray, Array.prototype);\nvar LegacyObservableArray = \/* @__PURE__ *\/ function(_StubArray, _Symbol$toStringTag2, _Symbol$iterator2) {\n  _inheritsLoose(LegacyObservableArray2, _StubArray);\n  function LegacyObservableArray2(initialValues, enhancer, name, owned) {\n    var _this;\n    if (name === void 0) {\n      name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    if (owned === void 0) {\n      owned = false;\n    }\n    _this = _StubArray.call(this) || this;\n    var adm = new ObservableArrayAdministration(name, enhancer, owned, true);\n    adm.proxy_ = _assertThisInitialized(_this);\n    addHiddenFinalProp(_assertThisInitialized(_this), $mobx, adm);\n    if (initialValues && initialValues.length) {\n      var prev = allowStateChangesStart(true);\n      _this.spliceWithArray(0, 0, initialValues);\n      allowStateChangesEnd(prev);\n    }\n    {\n      Object.defineProperty(_assertThisInitialized(_this), \"0\", ENTRY_0);\n    }\n    return _this;\n  }\n  var _proto = LegacyObservableArray2.prototype;\n  _proto.concat = function concat() {\n    this[$mobx].atom_.reportObserved();\n    for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n      arrays[_key] = arguments[_key];\n    }\n    return Array.prototype.concat.apply(\n      this.slice(),\n      arrays.map(function(a3) {\n        return isObservableArray(a3) ? a3.slice() : a3;\n      })\n    );\n  };\n  _proto[_Symbol$iterator2] = function() {\n    var self2 = this;\n    var nextIndex = 0;\n    return makeIterable({\n      next: function next() {\n        return nextIndex < self2.length ? {\n          value: self2[nextIndex++],\n          done: false\n        } : {\n          done: true,\n          value: void 0\n        };\n      }\n    });\n  };\n  _createClass(LegacyObservableArray2, [{\n    key: \"length\",\n    get: function get3() {\n      return this[$mobx].getArrayLength_();\n    },\n    set: function set4(newLength) {\n      this[$mobx].setArrayLength_(newLength);\n    }\n  }, {\n    key: _Symbol$toStringTag2,\n    get: function get3() {\n      return \"Array\";\n    }\n  }]);\n  return LegacyObservableArray2;\n}(StubArray, Symbol.toStringTag, Symbol.iterator);\nObject.entries(arrayExtensions).forEach(function(_ref) {\n  var prop = _ref[0], fn = _ref[1];\n  if (prop !== \"concat\") {\n    addHiddenProp(LegacyObservableArray.prototype, prop, fn);\n  }\n});\nfunction createArrayEntryDescriptor(index2) {\n  return {\n    enumerable: false,\n    configurable: true,\n    get: function get3() {\n      return this[$mobx].get_(index2);\n    },\n    set: function set4(value) {\n      this[$mobx].set_(index2, value);\n    }\n  };\n}\nfunction createArrayBufferItem(index2) {\n  defineProperty(LegacyObservableArray.prototype, \"\" + index2, createArrayEntryDescriptor(index2));\n}\nfunction reserveArrayBuffer(max) {\n  if (max > OBSERVABLE_ARRAY_BUFFER_SIZE) {\n    for (var index2 = OBSERVABLE_ARRAY_BUFFER_SIZE; index2 < max + 100; index2++) {\n      createArrayBufferItem(index2);\n    }\n    OBSERVABLE_ARRAY_BUFFER_SIZE = max;\n  }\n}\nreserveArrayBuffer(1e3);\nfunction createLegacyArray(initialValues, enhancer, name) {\n  return new LegacyObservableArray(initialValues, enhancer, name);\n}\nfunction getAtom(thing, property) {\n  if (typeof thing === \"object\" && thing !== null) {\n    if (isObservableArray(thing)) {\n      if (property !== void 0) {\n        die(23);\n      }\n      return thing[$mobx].atom_;\n    }\n    if (isObservableSet(thing)) {\n      return thing[$mobx];\n    }\n    if (isObservableMap(thing)) {\n      if (property === void 0) {\n        return thing.keysAtom_;\n      }\n      var observable2 = thing.data_.get(property) || thing.hasMap_.get(property);\n      if (!observable2) {\n        die(25, property, getDebugName(thing));\n      }\n      return observable2;\n    }\n    if (isObservableObject(thing)) {\n      if (!property) {\n        return die(26);\n      }\n      var _observable = thing[$mobx].values_.get(property);\n      if (!_observable) {\n        die(27, property, getDebugName(thing));\n      }\n      return _observable;\n    }\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n      return thing;\n    }\n  } else if (isFunction(thing)) {\n    if (isReaction(thing[$mobx])) {\n      return thing[$mobx];\n    }\n  }\n  die(28);\n}\nfunction getAdministration(thing, property) {\n  if (!thing) {\n    die(29);\n  }\n  if (property !== void 0) {\n    return getAdministration(getAtom(thing, property));\n  }\n  if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n    return thing;\n  }\n  if (isObservableMap(thing) || isObservableSet(thing)) {\n    return thing;\n  }\n  if (thing[$mobx]) {\n    return thing[$mobx];\n  }\n  die(24, thing);\n}\nfunction getDebugName(thing, property) {\n  var named;\n  if (property !== void 0) {\n    named = getAtom(thing, property);\n  } else if (isAction(thing)) {\n    return thing.name;\n  } else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {\n    named = getAdministration(thing);\n  } else {\n    named = getAtom(thing);\n  }\n  return named.name_;\n}\nvar toString = objectPrototype.toString;\nfunction deepEqual(a3, b3, depth) {\n  if (depth === void 0) {\n    depth = -1;\n  }\n  return eq(a3, b3, depth);\n}\nfunction eq(a3, b3, depth, aStack, bStack) {\n  if (a3 === b3) {\n    return a3 !== 0 || 1 \/ a3 === 1 \/ b3;\n  }\n  if (a3 == null || b3 == null) {\n    return false;\n  }\n  if (a3 !== a3) {\n    return b3 !== b3;\n  }\n  var type = typeof a3;\n  if (type !== \"function\" && type !== \"object\" && typeof b3 != \"object\") {\n    return false;\n  }\n  var className = toString.call(a3);\n  if (className !== toString.call(b3)) {\n    return false;\n  }\n  switch (className) {\n    case \"[object RegExp]\":\n    case \"[object String]\":\n      return \"\" + a3 === \"\" + b3;\n    case \"[object Number]\":\n      if (+a3 !== +a3) {\n        return +b3 !== +b3;\n      }\n      return +a3 === 0 ? 1 \/ +a3 === 1 \/ b3 : +a3 === +b3;\n    case \"[object Date]\":\n    case \"[object Boolean]\":\n      return +a3 === +b3;\n    case \"[object Symbol]\":\n      return typeof Symbol !== \"undefined\" && Symbol.valueOf.call(a3) === Symbol.valueOf.call(b3);\n    case \"[object Map]\":\n    case \"[object Set]\":\n      if (depth >= 0) {\n        depth++;\n      }\n      break;\n  }\n  a3 = unwrap(a3);\n  b3 = unwrap(b3);\n  var areArrays = className === \"[object Array]\";\n  if (!areArrays) {\n    if (typeof a3 != \"object\" || typeof b3 != \"object\") {\n      return false;\n    }\n    var aCtor = a3.constructor, bCtor = b3.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor && isFunction(bCtor) && bCtor instanceof bCtor) && \"constructor\" in a3 && \"constructor\" in b3) {\n      return false;\n    }\n  }\n  if (depth === 0) {\n    return false;\n  } else if (depth < 0) {\n    depth = -1;\n  }\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    if (aStack[length] === a3) {\n      return bStack[length] === b3;\n    }\n  }\n  aStack.push(a3);\n  bStack.push(b3);\n  if (areArrays) {\n    length = a3.length;\n    if (length !== b3.length) {\n      return false;\n    }\n    while (length--) {\n      if (!eq(a3[length], b3[length], depth - 1, aStack, bStack)) {\n        return false;\n      }\n    }\n  } else {\n    var keys = Object.keys(a3);\n    var key;\n    length = keys.length;\n    if (Object.keys(b3).length !== length) {\n      return false;\n    }\n    while (length--) {\n      key = keys[length];\n      if (!(hasProp(b3, key) && eq(a3[key], b3[key], depth - 1, aStack, bStack))) {\n        return false;\n      }\n    }\n  }\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\nfunction unwrap(a3) {\n  if (isObservableArray(a3)) {\n    return a3.slice();\n  }\n  if (isES6Map(a3) || isObservableMap(a3)) {\n    return Array.from(a3.entries());\n  }\n  if (isES6Set(a3) || isObservableSet(a3)) {\n    return Array.from(a3.entries());\n  }\n  return a3;\n}\nfunction makeIterable(iterator) {\n  iterator[Symbol.iterator] = getSelf;\n  return iterator;\n}\nfunction getSelf() {\n  return this;\n}\n[\"Symbol\", \"Map\", \"Set\"].forEach(function(m2) {\n  var g2 = getGlobal();\n  if (typeof g2[m2] === \"undefined\") {\n    die(\"MobX requires global '\" + m2 + \"' to be available or polyfilled\");\n  }\n});\nif (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n    spy,\n    extras: {\n      getDebugName\n    },\n    $mobx\n  });\n}\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLShape\/TLShape.tsx\nvar import_jsx_runtime = require(\"react\/jsx-runtime\");\nvar TLShape = class {\n  constructor(props) {\n    __publicField(this, \"props\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"type\");\n    __publicField(this, \"hideCloneHandles\", false);\n    __publicField(this, \"hideResizeHandles\", false);\n    __publicField(this, \"hideRotateHandle\", false);\n    __publicField(this, \"hideContextBar\", false);\n    __publicField(this, \"hideSelectionDetail\", false);\n    __publicField(this, \"hideSelection\", false);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canUnmount\", true);\n    __publicField(this, \"canResize\", [true, true]);\n    __publicField(this, \"canScale\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", false);\n    __publicField(this, \"canBind\", false);\n    __publicField(this, \"nonce\");\n    __publicField(this, \"bindingDistance\", BINDING_DISTANCE);\n    __publicField(this, \"isDirty\", false);\n    __publicField(this, \"lastSerialized\");\n    __publicField(this, \"getCenter\", () => {\n      return BoundsUtils.getBoundsCenter(this.bounds);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        bounds,\n        props: { rotation }\n      } = this;\n      if (!rotation)\n        return bounds;\n      return BoundsUtils.getBoundsFromPoints(BoundsUtils.getRotatedCorners(bounds, rotation));\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const ownBounds = this.rotatedBounds;\n      if (!this.props.rotation) {\n        return PointUtils.pointInBounds(point, ownBounds);\n      }\n      const corners = BoundsUtils.getRotatedCorners(ownBounds, this.props.rotation);\n      return PointUtils.pointInPolygon(point, corners);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const box2 = BoundsUtils.getBoundsFromPoints([A3, B3]);\n      const {\n        rotatedBounds,\n        props: { rotation = 0 }\n      } = this;\n      return BoundsUtils.boundsContain(rotatedBounds, box2) || rotation ? intersectLineSegmentPolyline(A3, B3, BoundsUtils.getRotatedCorners(this.bounds)).didIntersect : intersectLineSegmentBounds(A3, B3, rotatedBounds).length > 0;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        props: { rotation = 0 }\n      } = this;\n      const corners = BoundsUtils.getRotatedCorners(this.bounds, rotation);\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || intersectPolygonBounds(corners, bounds).length > 0;\n    });\n    __publicField(this, \"getExpandedBounds\", () => {\n      return BoundsUtils.expandBounds(this.getBounds(), this.bindingDistance);\n    });\n    __publicField(this, \"getBindingPoint\", (point, origin, direction, bindAnywhere) => {\n      const bounds = this.getBounds();\n      const expandedBounds = this.getExpandedBounds();\n      if (!PointUtils.pointInBounds(point, expandedBounds))\n        return;\n      const intersections = intersectRayBounds(origin, direction, expandedBounds).filter((int) => int.didIntersect).map((int) => int.points[0]);\n      if (!intersections.length)\n        return;\n      const center = this.getCenter();\n      const intersection = intersections.sort((a3, b3) => src_default.dist(b3, origin) - src_default.dist(a3, origin))[0];\n      const middlePoint = src_default.med(point, intersection);\n      let anchor;\n      let distance;\n      if (bindAnywhere) {\n        anchor = src_default.dist(point, center) < BINDING_DISTANCE \/ 2 ? center : point;\n        distance = 0;\n      } else {\n        if (src_default.distanceToLineSegment(point, middlePoint, center) < BINDING_DISTANCE \/ 2) {\n          anchor = center;\n        } else {\n          anchor = middlePoint;\n        }\n        if (PointUtils.pointInBounds(point, bounds)) {\n          distance = this.bindingDistance;\n        } else {\n          distance = Math.max(\n            this.bindingDistance,\n            BoundsUtils.getBoundsSides(bounds).map((side) => src_default.distanceToLineSegment(side[1][0], side[1][1], point)).sort((a3, b3) => a3 - b3)[0]\n          );\n        }\n      }\n      const bindingPoint = src_default.divV(src_default.sub(anchor, [expandedBounds.minX, expandedBounds.minY]), [\n        expandedBounds.width,\n        expandedBounds.height\n      ]);\n      return {\n        point: src_default.clampV(bindingPoint, 0, 1),\n        distance\n      };\n    });\n    __publicField(this, \"getSerialized\", () => {\n      return toJS(__spreadProps(__spreadValues({}, this.props), { type: this.type, nonce: this.nonce }));\n    });\n    __publicField(this, \"getCachedSerialized\", () => {\n      if (this.isDirty || !this.lastSerialized) {\n        transaction(() => {\n          this.setIsDirty(false);\n          this.setLastSerialized(this.getSerialized());\n        });\n      }\n      if (this.lastSerialized) {\n        return this.lastSerialized;\n      }\n      throw new Error(\"Should not get here for getCachedSerialized\");\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      return props;\n    });\n    __publicField(this, \"update\", (props, isDeserializing = false, skipNounce = false) => {\n      if (!(isDeserializing || this.isDirty))\n        this.setIsDirty(true);\n      if (!isDeserializing && !skipNounce)\n        this.incNonce();\n      Object.assign(this.props, this.validateProps(props));\n      return this;\n    });\n    __publicField(this, \"clone\", () => {\n      return new this.constructor(this.serialized);\n    });\n    __publicField(this, \"onResetBounds\", (info) => {\n      return this;\n    });\n    __publicField(this, \"scale\", [1, 1]);\n    __publicField(this, \"onResizeStart\", (info) => {\n      var _a3;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      this.update({ point: [bounds.minX, bounds.minY], scale: nextScale, rotation });\n      return this;\n    });\n    __publicField(this, \"onHandleChange\", (initialShape, { id: id3, delta }) => {\n      if (initialShape.handles === void 0)\n        return;\n      const nextHandles = deepCopy(initialShape.handles);\n      nextHandles[id3] = __spreadProps(__spreadValues({}, nextHandles[id3]), {\n        point: src_default.add(delta, initialShape.handles[id3].point)\n      });\n      const topLeft = BoundsUtils.getCommonTopLeft(Object.values(nextHandles).map((h2) => h2.point));\n      Object.values(nextHandles).forEach((h2) => {\n        h2.point = src_default.sub(h2.point, topLeft);\n      });\n      this.update({\n        point: src_default.add(initialShape.point, topLeft),\n        handles: nextHandles\n      });\n    });\n    var _a3, _b;\n    const type = this.constructor[\"id\"];\n    const defaultProps = (_a3 = this.constructor[\"defaultProps\"]) != null ? _a3 : {};\n    this.type = type;\n    this.props = __spreadValues(__spreadValues({ scale: [1, 1] }, defaultProps), props);\n    this.nonce = (_b = props.nonce) != null ? _b : Date.now();\n    makeObservable(this);\n  }\n  get id() {\n    return this.props.id;\n  }\n  setNonce(nonce) {\n    this.nonce = nonce;\n  }\n  incNonce() {\n    this.nonce++;\n  }\n  setIsDirty(isDirty) {\n    this.isDirty = isDirty;\n  }\n  setLastSerialized(serialized) {\n    this.lastSerialized = serialized;\n  }\n  get center() {\n    return this.getCenter();\n  }\n  get bounds() {\n    return this.getBounds();\n  }\n  get rotatedBounds() {\n    return this.getRotatedBounds();\n  }\n  get serialized() {\n    return this.getCachedSerialized();\n  }\n  getShapeSVGJsx(_2) {\n    const bounds = this.getBounds();\n    const { stroke, strokeWidth, strokeType, opacity, fill, noFill, borderRadius } = this.props;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime.jsx)(\"rect\", {\n      fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n      stroke: getComputedColor(stroke, \"stroke\"),\n      strokeWidth: strokeWidth != null ? strokeWidth : 2,\n      strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n      fillOpacity: opacity != null ? opacity : 0.2,\n      width: bounds.width,\n      height: bounds.height,\n      rx: borderRadius,\n      ry: borderRadius\n    });\n  }\n};\n__publicField(TLShape, \"type\");\n__decorateClass([\n  observable\n], TLShape.prototype, \"props\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"canResize\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"nonce\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"isDirty\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"lastSerialized\", 2);\n__decorateClass([\n  computed\n], TLShape.prototype, \"id\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setNonce\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"incNonce\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setIsDirty\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setLastSerialized\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"center\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"bounds\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"rotatedBounds\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"serialized\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"update\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLBoxShape\/TLBoxShape.tsx\nvar TLBoxShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canBind\", true);\n    __publicField(this, \"getBounds\", () => {\n      const [x2, y2] = this.props.point;\n      const [width, height] = this.props.size;\n      return {\n        minX: x2,\n        minY: y2,\n        maxX: x2 + width,\n        maxY: y2 + height,\n        width,\n        height\n      };\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      return BoundsUtils.getBoundsFromPoints(\n        BoundsUtils.getRotatedCorners(this.bounds, this.props.rotation)\n      );\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      this.update({ point: [bounds.minX, bounds.minY], scale: nextScale, rotation });\n      return this.update({\n        rotation,\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, bounds.height)],\n        scale: nextScale\n      });\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return props;\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLBoxShape, \"id\", \"box\");\n__publicField(TLBoxShape, \"defaultProps\", {\n  id: \"box\",\n  type: \"box\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100]\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLDrawShape\/TLDrawShape.tsx\nvar TLDrawShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        pointBounds,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(pointBounds, point);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        props: { rotation, point },\n        bounds,\n        rotatedPoints\n      } = this;\n      if (!rotation)\n        return bounds;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(rotatedPoints), point);\n    });\n    __publicField(this, \"normalizedPoints\", []);\n    __publicField(this, \"isResizeFlippedX\", false);\n    __publicField(this, \"isResizeFlippedY\", false);\n    __publicField(this, \"onResizeStart\", () => {\n      var _a3;\n      const {\n        bounds,\n        props: { points }\n      } = this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      const size = [bounds.width, bounds.height];\n      this.normalizedPoints = points.map((point) => Vec.divV(point, size));\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        scale: [scaleX, scaleY]\n      } = info;\n      const size = [bounds.width, bounds.height];\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      return this.update(\n        scaleX || scaleY ? {\n          point: [bounds.minX, bounds.minY],\n          points: this.normalizedPoints.map((point) => Vec.mulV(point, size).concat(point[2])),\n          scale: nextScale\n        } : {\n          point: [bounds.minX, bounds.minY],\n          points: this.normalizedPoints.map((point) => Vec.mulV(point, size).concat(point[2]))\n        }\n      );\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const {\n        props: { points, point: ownPoint }\n      } = this;\n      return PointUtils.pointNearToPolyline(Vec.sub(point, ownPoint), points);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        bounds,\n        props: { points, point }\n      } = this;\n      if (PointUtils.pointInBounds(A3, bounds) || PointUtils.pointInBounds(B3, bounds) || intersectBoundsLineSegment(bounds, A3, B3).length > 0) {\n        const rA = Vec.sub(A3, point);\n        const rB = Vec.sub(B3, point);\n        return intersectLineSegmentPolyline(rA, rB, points).didIntersect || !!points.find((point2) => Vec.dist(rA, point2) < 5 || Vec.dist(rB, point2) < 5);\n      }\n      return false;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        props: { points, point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(point));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || points.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || BoundsUtils.boundsCollide(bounds, rotatedBounds) && intersectPolylineBounds(points, oBounds).length > 0;\n    });\n    makeObservable(this);\n  }\n  get pointBounds() {\n    const {\n      props: { points }\n    } = this;\n    return BoundsUtils.getBoundsFromPoints(points);\n  }\n  get rotatedPoints() {\n    const {\n      props: { point, points, rotation },\n      center\n    } = this;\n    if (!rotation)\n      return points;\n    const relativeCenter = Vec.sub(center, point);\n    return points.map((point2) => Vec.rotWith(point2, relativeCenter, rotation));\n  }\n};\n__publicField(TLDrawShape, \"id\", \"draw\");\n__publicField(TLDrawShape, \"defaultProps\", {\n  id: \"draw\",\n  type: \"draw\",\n  parentId: \"page\",\n  point: [0, 0],\n  points: [],\n  isComplete: false\n});\n__decorateClass([\n  computed\n], TLDrawShape.prototype, \"pointBounds\", 1);\n__decorateClass([\n  computed\n], TLDrawShape.prototype, \"rotatedPoints\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLEllipseShape\/TLEllipseShape.ts\nvar TLEllipseShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        props: {\n          point: [x2, y2],\n          size: [w2, h2]\n        }\n      } = this;\n      return BoundsUtils.getRotatedEllipseBounds(x2, y2, w2 \/ 2, h2 \/ 2, 0);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        props: {\n          point: [x2, y2],\n          size: [w2, h2],\n          rotation\n        }\n      } = this;\n      return BoundsUtils.getRotatedEllipseBounds(x2, y2, w2 \/ 2, h2 \/ 2, rotation);\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const {\n        props: { size, rotation },\n        center\n      } = this;\n      return PointUtils.pointInEllipse(point, center, size[0], size[1], rotation || 0);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        props: {\n          size: [w2, h2],\n          rotation = 0\n        },\n        center\n      } = this;\n      return intersectLineSegmentEllipse(A3, B3, center, w2, h2, rotation).didIntersect;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        props: {\n          size: [w2, h2],\n          rotation = 0\n        },\n        rotatedBounds\n      } = this;\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || intersectEllipseBounds(this.center, w2 \/ 2, h2 \/ 2, rotation, bounds).length > 0;\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLEllipseShape, \"id\", \"ellipse\");\n__publicField(TLEllipseShape, \"defaultProps\", {\n  id: \"ellipse\",\n  type: \"ellipse\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100]\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLImageShape\/TLImageShape.ts\nvar TLImageShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"onResetBounds\", (info) => {\n      const { clipping, size, point } = this.props;\n      if (clipping) {\n        const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n        return this.update({\n          clipping: 0,\n          point: [point[0] - l3, point[1] - t],\n          size: [size[0] + (l3 - r2), size[1] + (t - b3)]\n        });\n      } else if (info.asset) {\n        const {\n          size: [w2, h2]\n        } = info.asset;\n        this.update({\n          clipping: 0,\n          point: [point[0] + size[0] \/ 2 - w2 \/ 2, point[1] + size[1] \/ 2 - h2 \/ 2],\n          size: [w2, h2]\n        });\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const { bounds, clip, scale } = info;\n      let { clipping } = this.props;\n      const { clipping: iClipping } = initialProps;\n      if (clip) {\n        const {\n          point: [x2, y2],\n          size: [w2, h2]\n        } = initialProps;\n        const [t, r2, b3, l3] = iClipping ? Array.isArray(iClipping) ? iClipping : [iClipping, iClipping, iClipping, iClipping] : [0, 0, 0, 0];\n        clipping = [\n          t + (bounds.minY - y2),\n          r2 + (bounds.maxX - (x2 + w2)),\n          b3 + (bounds.maxY - (y2 + h2)),\n          l3 + (bounds.minX - x2)\n        ];\n      } else {\n        if (iClipping !== void 0) {\n          clipping = Array.isArray(iClipping) ? iClipping : [iClipping, iClipping, iClipping, iClipping];\n          clipping = [\n            clipping[0] * scale[1],\n            clipping[1] * scale[0],\n            clipping[2] * scale[1],\n            clipping[3] * scale[0]\n          ];\n        }\n      }\n      if (clipping && Array.isArray(clipping)) {\n        const c2 = clipping;\n        if (c2.every((v2, i2) => i2 === 0 || v2 === c2[i2 - 1])) {\n          clipping = c2[0];\n        }\n      }\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, bounds.height)],\n        clipping\n      });\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLImageShape, \"id\", \"ellipse\");\n__publicField(TLImageShape, \"defaultProps\", {\n  id: \"ellipse\",\n  type: \"ellipse\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100],\n  clipping: 0,\n  objectFit: \"none\",\n  assetId: \"\"\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLPolylineShape\/TLPolylineShape.tsx\nvar _TLPolylineShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        points,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(points), point);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        rotatedPoints,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(rotatedPoints), point);\n    });\n    __publicField(this, \"normalizedHandles\", []);\n    __publicField(this, \"onResizeStart\", () => {\n      var _a3;\n      const {\n        props: { handles },\n        bounds\n      } = this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      const size = [bounds.width, bounds.height];\n      this.normalizedHandles = Object.values(handles).map((h2) => Vec.divV(h2.point, size));\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        scale: [scaleX, scaleY]\n      } = info;\n      const {\n        props: { handles },\n        normalizedHandles\n      } = this;\n      const size = [bounds.width, bounds.height];\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        handles: Object.values(handles).map((handle, i2) => __spreadProps(__spreadValues({}, handle), {\n          point: Vec.mulV(normalizedHandles[i2], size)\n        })),\n        scale: nextScale\n      });\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const { points } = this;\n      return PointUtils.pointNearToPolyline(Vec.sub(point, this.props.point), points);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        bounds,\n        points,\n        props: { point }\n      } = this;\n      if (PointUtils.pointInBounds(A3, bounds) || PointUtils.pointInBounds(B3, bounds) || intersectBoundsLineSegment(bounds, A3, B3).length > 0) {\n        const rA = Vec.sub(A3, point);\n        const rB = Vec.sub(B3, point);\n        return intersectLineSegmentPolyline(rA, rB, points).didIntersect || !!points.find((point2) => Vec.dist(rA, point2) < 5 || Vec.dist(rB, point2) < 5);\n      }\n      return false;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        points,\n        props: { point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(point));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || points.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || BoundsUtils.boundsCollide(bounds, rotatedBounds) && intersectPolylineBounds(points, oBounds).length > 0;\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.handles !== void 0 && Object.values(props.handles).length < 1)\n        props.handles = _TLPolylineShape.defaultProps[\"handles\"];\n      return props;\n    });\n    makeObservable(this);\n  }\n  get points() {\n    return Object.values(this.props.handles).map((h2) => h2.point);\n  }\n  get centroid() {\n    const { points } = this;\n    return PolygonUtils.getPolygonCentroid(points);\n  }\n  get rotatedPoints() {\n    const {\n      centroid,\n      props: { handles, rotation }\n    } = this;\n    if (!rotation)\n      return this.points;\n    return Object.values(handles).map((h2) => Vec.rotWith(h2.point, centroid, rotation));\n  }\n};\nvar TLPolylineShape = _TLPolylineShape;\n__publicField(TLPolylineShape, \"id\", \"polyline\");\n__publicField(TLPolylineShape, \"defaultProps\", {\n  id: \"polyline\",\n  type: \"polyline\",\n  parentId: \"page\",\n  point: [0, 0],\n  handles: {}\n});\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"points\", 1);\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"centroid\", 1);\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"rotatedPoints\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLLineShape\/TLLineShape.tsx\nvar _TLLineShape = class extends TLPolylineShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"hideResizeHandles\", true);\n    __publicField(this, \"hideRotateHandle\", true);\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.handles !== void 0 && Object.values(props.handles).length < 1)\n        props.handles = _TLLineShape.defaultProps[\"handles\"];\n      return props;\n    });\n    __publicField(this, \"getHandlesChange\", (shape, handles) => {\n      let nextHandles = deepMerge(shape.handles, handles);\n      nextHandles = deepMerge(nextHandles, {\n        start: {\n          point: src_default.toFixed(nextHandles.start.point)\n        },\n        end: {\n          point: src_default.toFixed(nextHandles.end.point)\n        }\n      });\n      if (src_default.isEqual(nextHandles.start.point, nextHandles.end.point))\n        return;\n      const nextShape = {\n        point: shape.point,\n        handles: deepCopy(nextHandles)\n      };\n      const topLeft = shape.point;\n      const nextBounds = BoundsUtils.translateBounds(\n        BoundsUtils.getBoundsFromPoints(Object.values(nextHandles).map((h2) => h2.point)),\n        nextShape.point\n      );\n      const offset = src_default.sub([nextBounds.minX, nextBounds.minY], topLeft);\n      if (!src_default.isEqual(offset, [0, 0])) {\n        Object.values(nextShape.handles).forEach((handle) => {\n          handle.point = src_default.toFixed(src_default.sub(handle.point, offset));\n        });\n        nextShape.point = src_default.toFixed(src_default.add(nextShape.point, offset));\n      }\n      return nextShape;\n    });\n    makeObservable(this);\n  }\n};\nvar TLLineShape = _TLLineShape;\n__publicField(TLLineShape, \"id\", \"line\");\n__publicField(TLLineShape, \"defaultProps\", {\n  id: \"line\",\n  type: \"line\",\n  parentId: \"page\",\n  point: [0, 0],\n  handles: {\n    start: { id: \"start\", canBind: true, point: [0, 0] },\n    end: { id: \"end\", canBind: true, point: [1, 1] }\n  }\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLPolygonShape\/TLPolygonShape.tsx\nvar TLPolygonShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        rotatedVertices,\n        props: { point },\n        offset\n      } = this;\n      return BoundsUtils.translateBounds(\n        BoundsUtils.getBoundsFromPoints(rotatedVertices),\n        Vec.add(point, offset)\n      );\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const { vertices } = this;\n      return PointUtils.pointInPolygon(Vec.add(point, this.props.point), vertices);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        vertices,\n        props: { point }\n      } = this;\n      return intersectLineSegmentPolyline(Vec.sub(A3, point), Vec.sub(B3, point), vertices).didIntersect;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        offset,\n        rotatedVertices,\n        props: { point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(Vec.add(point, offset)));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || rotatedVertices.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || intersectPolygonBounds(rotatedVertices, oBounds).length > 0;\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.sides !== void 0 && props.sides < 3)\n        props.sides = 3;\n      return props;\n    });\n    makeObservable(this);\n  }\n  get vertices() {\n    return this.getVertices();\n  }\n  get pageVertices() {\n    const {\n      props: { point },\n      vertices\n    } = this;\n    return vertices.map((vert) => Vec.add(vert, point));\n  }\n  get centroid() {\n    const { vertices } = this;\n    return PolygonUtils.getPolygonCentroid(vertices);\n  }\n  get rotatedVertices() {\n    const {\n      vertices,\n      centroid,\n      props: { rotation }\n    } = this;\n    if (!rotation)\n      return vertices;\n    return vertices.map((v2) => Vec.rotWith(v2, centroid, rotation));\n  }\n  get offset() {\n    const {\n      props: {\n        size: [w2, h2]\n      }\n    } = this;\n    const center = BoundsUtils.getBoundsCenter(BoundsUtils.getBoundsFromPoints(this.vertices));\n    return Vec.sub(Vec.div([w2, h2], 2), center);\n  }\n  getVertices(padding = 0) {\n    const { ratio, sides, size, scale } = this.props;\n    const vertices = sides === 3 ? PolygonUtils.getTriangleVertices(size, padding, ratio) : PolygonUtils.getPolygonVertices(size, sides, padding, ratio);\n    return vertices;\n  }\n};\n__publicField(TLPolygonShape, \"id\", \"polygon\");\n__publicField(TLPolygonShape, \"defaultProps\", {\n  id: \"polygon\",\n  type: \"polygon\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100],\n  sides: 5,\n  ratio: 1,\n  isFlippedY: false\n});\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"vertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"pageVertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"centroid\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"rotatedVertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"offset\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLTextShape\/TLTextShape.tsx\nvar TLTextShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"canFlip\", false);\n    makeObservable(this);\n  }\n};\n__publicField(TLTextShape, \"id\", \"text\");\n__publicField(TLTextShape, \"defaultProps\", {\n  id: \"text\",\n  type: \"text\",\n  parentId: \"page\",\n  isSizeLocked: true,\n  point: [0, 0],\n  size: [16, 32],\n  text: \"\"\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLGroupShape\/TLGroupShape.tsx\nvar TLGroupShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canEdit\", false);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"getBounds\", () => {\n      if (this.shapes.length === 0) {\n        const app = useApp();\n        app.deleteShapes([this.id]);\n        return {\n          minX: 0,\n          minY: 0,\n          maxX: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return BoundsUtils.getCommonBounds(this.shapes.map((s2) => s2.getBounds()));\n    });\n    makeObservable(this);\n    this.canResize = [false, false];\n  }\n  getShapes() {\n    throw new Error(\"will be implemented other places\");\n  }\n  get shapes() {\n    return this.getShapes();\n  }\n};\n__publicField(TLGroupShape, \"id\", \"group\");\n__publicField(TLGroupShape, \"defaultProps\", {\n  id: \"group\",\n  type: \"group\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [0, 0],\n  children: []\n});\n__decorateClass([\n  computed\n], TLGroupShape.prototype, \"shapes\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLState.ts\nvar TLRootState = class {\n  constructor() {\n    __publicField(this, \"_id\");\n    __publicField(this, \"_initial\");\n    __publicField(this, \"_states\");\n    __publicField(this, \"_isActive\", false);\n    __publicField(this, \"cursor\");\n    __publicField(this, \"_disposables\", []);\n    __publicField(this, \"children\", \/* @__PURE__ *\/ new Map([]));\n    __publicField(this, \"registerStates\", (stateClasses) => {\n      stateClasses.forEach((StateClass) => this.children.set(StateClass.id, new StateClass(this, this)));\n      return this;\n    });\n    __publicField(this, \"deregisterStates\", (states) => {\n      states.forEach((StateClass) => {\n        var _a3;\n        (_a3 = this.children.get(StateClass.id)) == null ? void 0 : _a3.dispose();\n        this.children.delete(StateClass.id);\n      });\n      return this;\n    });\n    __publicField(this, \"currentState\", {});\n    __publicField(this, \"transition\", (id3, data = {}) => {\n      if (this.children.size === 0)\n        throw Error(`Tool ${this.id} has no states, cannot transition to ${id3}.`);\n      const nextState = this.children.get(id3);\n      const prevState = this.currentState;\n      if (!nextState)\n        throw Error(`Could not find a state named ${id3}.`);\n      transaction(() => {\n        if (this.currentState) {\n          prevState._events.onExit(__spreadProps(__spreadValues({}, data), { toId: id3 }));\n          prevState.dispose();\n          this.setCurrentState(nextState);\n          this._events.onTransition(__spreadProps(__spreadValues({}, data), { fromId: prevState.id, toId: id3 }));\n          nextState._events.onEnter(__spreadProps(__spreadValues({}, data), { fromId: prevState.id }));\n        } else {\n          this.currentState = nextState;\n          nextState._events.onEnter(__spreadProps(__spreadValues({}, data), { fromId: \"\" }));\n        }\n      });\n      return this;\n    });\n    __publicField(this, \"isIn\", (path) => {\n      const ids = path.split(\".\").reverse();\n      let state = this;\n      while (ids.length > 0) {\n        const id3 = ids.pop();\n        if (!id3) {\n          return true;\n        }\n        if (state.currentState.id === id3) {\n          if (ids.length === 0) {\n            return true;\n          }\n          state = state.currentState;\n          continue;\n        } else {\n          return false;\n        }\n      }\n      return false;\n    });\n    __publicField(this, \"isInAny\", (...paths) => {\n      return paths.some(this.isIn);\n    });\n    __publicField(this, \"forwardEvent\", (eventName, ...args) => {\n      var _a3, _b;\n      if ((_b = (_a3 = this.currentState) == null ? void 0 : _a3._events) == null ? void 0 : _b[eventName]) {\n        transaction(() => {\n          var _a4;\n          return (_a4 = this.currentState._events) == null ? void 0 : _a4[eventName](...args);\n        });\n      }\n    });\n    __publicField(this, \"_events\", {\n      onTransition: (info) => {\n        var _a3;\n        (_a3 = this.onTransition) == null ? void 0 : _a3.call(this, info);\n      },\n      onEnter: (info) => {\n        var _a3;\n        this._isActive = true;\n        if (this.initial)\n          this.transition(this.initial, info);\n        (_a3 = this.onEnter) == null ? void 0 : _a3.call(this, info);\n      },\n      onExit: (info) => {\n        var _a3, _b, _c;\n        this._isActive = false;\n        (_b = (_a3 = this.currentState) == null ? void 0 : _a3.onExit) == null ? void 0 : _b.call(_a3, { toId: \"parent\" });\n        (_c = this.onExit) == null ? void 0 : _c.call(this, info);\n      },\n      onPointerDown: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerDown) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerDown\", info, event);\n      },\n      onPointerUp: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerUp) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerUp\", info, event);\n      },\n      onPointerMove: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerMove) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerMove\", info, event);\n      },\n      onPointerEnter: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerEnter) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerEnter\", info, event);\n      },\n      onPointerLeave: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerLeave) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerLeave\", info, event);\n      },\n      onDoubleClick: (info, event) => {\n        var _a3;\n        (_a3 = this.onDoubleClick) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onDoubleClick\", info, event);\n      },\n      onKeyDown: (info, event) => {\n        var _a3;\n        this._events.onModifierKey(info, event);\n        (_a3 = this.onKeyDown) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onKeyDown\", info, event);\n      },\n      onKeyUp: (info, event) => {\n        var _a3;\n        this._events.onModifierKey(info, event);\n        (_a3 = this.onKeyUp) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onKeyUp\", info, event);\n      },\n      onPinchStart: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinchStart) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinchStart\", info, event);\n      },\n      onPinch: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinch) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinch\", info, event);\n      },\n      onPinchEnd: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinchEnd) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinchEnd\", info, event);\n      },\n      onModifierKey: (info, event) => {\n        switch (event.key) {\n          case \"Shift\":\n          case \"Alt\":\n          case \"Ctrl\":\n          case \"Meta\": {\n            this._events.onPointerMove(info, event);\n            break;\n          }\n        }\n      }\n    });\n    __publicField(this, \"onEnter\");\n    __publicField(this, \"onExit\");\n    __publicField(this, \"onTransition\");\n    __publicField(this, \"onPointerDown\");\n    __publicField(this, \"onPointerUp\");\n    __publicField(this, \"onPointerMove\");\n    __publicField(this, \"onPointerEnter\");\n    __publicField(this, \"onPointerLeave\");\n    __publicField(this, \"onDoubleClick\");\n    __publicField(this, \"onKeyDown\");\n    __publicField(this, \"onKeyUp\");\n    __publicField(this, \"onPinchStart\");\n    __publicField(this, \"onPinch\");\n    __publicField(this, \"onPinchEnd\");\n    const id3 = this.constructor[\"id\"];\n    const initial = this.constructor[\"initial\"];\n    const states = this.constructor[\"states\"];\n    this._id = id3;\n    this._initial = initial;\n    this._states = states;\n  }\n  dispose() {\n    this._disposables.forEach((disposable) => disposable());\n    this._disposables = [];\n    return this;\n  }\n  get initial() {\n    return this._initial;\n  }\n  get states() {\n    return this._states;\n  }\n  get id() {\n    return this._id;\n  }\n  get isActive() {\n    return this._isActive;\n  }\n  get ascendants() {\n    return [this];\n  }\n  get descendants() {\n    return Array.from(this.children.values()).flatMap((state) => [state, ...state.descendants]);\n  }\n  setCurrentState(state) {\n    this.currentState = state;\n  }\n};\n__publicField(TLRootState, \"id\");\n__publicField(TLRootState, \"shortcuts\");\n__decorateClass([\n  observable\n], TLRootState.prototype, \"currentState\", 2);\n__decorateClass([\n  action\n], TLRootState.prototype, \"setCurrentState\", 1);\nvar TLState = class extends TLRootState {\n  constructor(parent, root) {\n    var _a3, _b;\n    super();\n    __publicField(this, \"_root\");\n    __publicField(this, \"_parent\");\n    __publicField(this, \"children\", \/* @__PURE__ *\/ new Map([]));\n    __publicField(this, \"registerStates\", (stateClasses) => {\n      stateClasses.forEach(\n        (StateClass) => this.children.set(StateClass.id, new StateClass(this, this._root))\n      );\n      return this;\n    });\n    __publicField(this, \"deregisterStates\", (states) => {\n      states.forEach((StateClass) => {\n        var _a3;\n        (_a3 = this.children.get(StateClass.id)) == null ? void 0 : _a3.dispose();\n        this.children.delete(StateClass.id);\n      });\n      return this;\n    });\n    this._parent = parent;\n    this._root = root;\n    if (this.states && this.states.length > 0) {\n      this.registerStates(this.states);\n      const initialId = (_a3 = this.initial) != null ? _a3 : this.states[0].id;\n      const state = this.children.get(initialId);\n      if (state) {\n        this.setCurrentState(state);\n        (_b = this.currentState) == null ? void 0 : _b._events.onEnter({ fromId: \"initial\" });\n      }\n    }\n    makeObservable(this);\n  }\n  get root() {\n    return this._root;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get ascendants() {\n    if (!this.parent)\n      return [this];\n    if (!(\"ascendants\" in this.parent))\n      return [this.parent, this];\n    return [...this.parent.ascendants, this];\n  }\n};\n__publicField(TLState, \"cursor\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLTool.tsx\nvar TLTool = class extends TLState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"isLocked\", false);\n    __publicField(this, \"previous\");\n    __publicField(this, \"onEnter\", ({ fromId }) => {\n      this.previous = fromId;\n      if (this.cursor)\n        this.app.cursors.setCursor(this.cursor);\n    });\n    __publicField(this, \"onTransition\", (info) => {\n      const { toId } = info;\n      const toState = this.children.get(toId);\n      this.app.cursors.reset();\n      if (toState.cursor) {\n        this.app.cursors.setCursor(toState.cursor);\n      } else if (this.cursor) {\n        this.app.cursors.setCursor(this.cursor);\n      }\n    });\n  }\n  get app() {\n    return this.root;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLToolState.ts\nvar TLToolState = class extends TLState {\n  get app() {\n    return this.root;\n  }\n  get tool() {\n    return this.parent;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/CreatingState.tsx\nvar CreatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"initialBounds\", {});\n    __publicField(this, \"onEnter\", () => {\n      const {\n        currentPage,\n        inputs: { originPoint, currentPoint }\n      } = this.app;\n      const { Shape: Shape5 } = this.tool;\n      const shape = new Shape5({\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: currentPage.id,\n        point: [...originPoint],\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color,\n        size: src_default.abs(src_default.sub(currentPoint, originPoint))\n      });\n      this.initialBounds = {\n        minX: originPoint[0],\n        minY: originPoint[1],\n        maxX: originPoint[0] + 1,\n        maxY: originPoint[1] + 1,\n        width: 1,\n        height: 1\n      };\n      if (!shape.canChangeAspectRatio) {\n        if (shape.aspectRatio) {\n          this.aspectRatio = shape.aspectRatio;\n          this.initialBounds.height = this.aspectRatio;\n          this.initialBounds.width = 1;\n        } else {\n          this.aspectRatio = 1;\n          this.initialBounds.height = 1;\n          this.initialBounds.width = 1;\n        }\n        this.initialBounds.maxY = this.initialBounds.minY + this.initialBounds.height;\n      }\n      this.creatingShape = shape;\n      this.creatingShape.setScaleLevel(this.app.settings.scaleLevel);\n      this.app.currentPage.addShapes(shape);\n      this.app.setSelectedShapes([shape]);\n    });\n    __publicField(this, \"onPointerMove\", (info) => {\n      if (info.order)\n        return;\n      if (!this.creatingShape)\n        throw Error(\"Expected a creating shape.\");\n      const { initialBounds } = this;\n      const { currentPoint, originPoint, shiftKey } = this.app.inputs;\n      const isAspectRatioLocked = shiftKey || this.creatingShape.props.isAspectRatioLocked || !this.creatingShape.canChangeAspectRatio;\n      let bounds = BoundsUtils.getTransformedBoundingBox(\n        initialBounds,\n        \"bottom_right_corner\" \/* BottomRight *\/,\n        src_default.sub(currentPoint, originPoint),\n        0,\n        isAspectRatioLocked\n      );\n      if (this.app.settings.snapToGrid && !isAspectRatioLocked) {\n        bounds = BoundsUtils.snapBoundsToGrid(bounds, GRID_SIZE);\n      }\n      this.creatingShape.update({\n        point: [bounds.minX, bounds.minY],\n        size: [bounds.width, bounds.height]\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n      if (this.creatingShape) {\n        this.app.setSelectedShapes([this.creatingShape]);\n        this.app.api.editShape(this.creatingShape);\n      } else {\n        this.app.transition(\"select\");\n      }\n      this.app.persist();\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          if (!this.creatingShape)\n            throw Error(\"Expected a creating shape.\");\n          this.app.deleteShapes([this.creatingShape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(CreatingState, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/IdleState.tsx\nvar IdleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/PointingState.tsx\nvar PointingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"creating\");\n        this.app.setSelectedShapes(this.app.currentPage.shapes);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingState, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/TLBoxTool.ts\nvar TLBoxTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLBoxTool, \"id\", \"box\");\n__publicField(TLBoxTool, \"states\", [IdleState, PointingState, CreatingState]);\n__publicField(TLBoxTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/CreatingState.tsx\nvar CreatingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"shape\", {});\n    __publicField(this, \"points\", [[0, 0, 0.5]]);\n    __publicField(this, \"persistDebounced\", debounce(this.app.persist, 200));\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onEnter\", () => {\n      var _a3, _b;\n      const { Shape: Shape5, previousShape } = this.tool;\n      const { originPoint } = this.app.inputs;\n      this.app.history.pause();\n      if (this.app.inputs.shiftKey && previousShape) {\n        this.shape = previousShape;\n        const { shape } = this;\n        const prevPoint = shape.props.points[shape.props.points.length - 1];\n        const nextPoint = Vec.sub(originPoint, shape.props.point).concat((_a3 = originPoint[2]) != null ? _a3 : 0.5);\n        this.points = [...shape.props.points, prevPoint, prevPoint];\n        const len = Math.ceil(Vec.dist(prevPoint, originPoint) \/ 16);\n        for (let i2 = 0, t = i2 \/ (len - 1); i2 < len; i2++) {\n          this.points.push(\n            Vec.lrp(prevPoint, nextPoint, t).concat(lerp(prevPoint[2], nextPoint[2], t))\n          );\n        }\n        this.addNextPoint(nextPoint);\n      } else {\n        this.tool.previousShape = void 0;\n        this.points = [[0, 0, (_b = originPoint[2]) != null ? _b : 0.5]];\n        this.shape = new Shape5({\n          id: uniqueId(),\n          type: Shape5.id,\n          parentId: this.app.currentPage.id,\n          point: originPoint.slice(0, 2),\n          points: this.points,\n          isComplete: false,\n          fill: this.app.settings.color,\n          stroke: this.app.settings.color\n        });\n        this.shape.setScaleLevel(this.app.settings.scaleLevel);\n        this.app.currentPage.addShapes(this.shape);\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { shape } = this;\n      const { currentPoint, previousPoint } = this.app.inputs;\n      if (Vec.isEqual(previousPoint, currentPoint))\n        return;\n      this.addNextPoint(Vec.sub(currentPoint, shape.props.point).concat(currentPoint[2]));\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      if (!this.shape)\n        throw Error(\"Expected a creating shape.\");\n      this.app.history.resume();\n      this.shape.update({\n        isComplete: true,\n        points: this.tool.simplify ? PointUtils.simplify2(this.points, this.tool.simplifyTolerance) : this.shape.props.points\n      });\n      this.tool.previousShape = this.shape;\n      this.tool.transition(\"idle\");\n      let tool = this.app.selectedTool.id;\n      if (tool === \"pencil\" || tool === \"highlighter\") {\n        this.persistDebounced();\n      } else {\n        this.app.persist();\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          if (!this.shape)\n            throw Error(\"Expected a creating shape.\");\n          this.app.deleteShapes([this.shape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  addNextPoint(point) {\n    const { shape } = this;\n    const offset = Vec.min(point, [0, 0]);\n    this.points.push(point);\n    if (offset[0] < 0 || offset[1] < 0) {\n      this.points = this.points.map((pt2) => Vec.sub(pt2, offset).concat(pt2[2]));\n      shape.update({\n        point: Vec.add(shape.props.point, offset),\n        points: this.points\n      });\n    } else {\n      shape.update({\n        points: this.points\n      });\n    }\n  }\n};\n__publicField(CreatingState3, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/IdleState.tsx\nvar IdleState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order || this.app.readOnly)\n        return;\n      this.tool.transition(\"creating\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState3, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/PinchingState.ts\nvar PinchingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"origin\", [0, 0]);\n    __publicField(this, \"prevDelta\", [0, 0]);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevDelta = info.info.delta;\n      this.origin = info.info.point;\n    });\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/TLDrawTool.tsx\nvar TLDrawTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"simplify\", true);\n    __publicField(this, \"simplifyTolerance\", 1);\n    __publicField(this, \"previousShape\");\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(TLDrawTool, \"id\", \"draw\");\n__publicField(TLDrawTool, \"states\", [IdleState3, CreatingState3, PinchingState]);\n__publicField(TLDrawTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/ErasingState.tsx\nvar ErasingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"points\", [[0, 0, 0.5]]);\n    __publicField(this, \"hitShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"onEnter\", () => {\n      const { originPoint } = this.app.inputs;\n      this.points = [originPoint];\n      this.hitShapes.clear();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, previousPoint } = this.app.inputs;\n      if (Vec.isEqual(previousPoint, currentPoint))\n        return;\n      this.points.push(currentPoint);\n      this.app.shapesInViewport.filter((shape) => shape.hitTestLineSegment(previousPoint, currentPoint)).forEach((shape) => this.hitShapes.add(shape));\n      this.app.setErasingShapes(Array.from(this.hitShapes.values()));\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.deleteShapes(Array.from(this.hitShapes.values()));\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.setErasingShapes([]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(ErasingState, \"id\", \"erasing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/IdleState.tsx\nvar IdleState4 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState4, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/PointingState.tsx\nvar PointingState2 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      const { currentPoint } = this.app.inputs;\n      this.app.setErasingShapes(\n        this.app.shapesInViewport.filter((shape) => shape.hitTestPoint(currentPoint))\n      );\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"erasing\");\n        this.app.setSelectedShapes([]);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const shapesToDelete = [...this.app.erasingShapes];\n      this.app.setErasingShapes([]);\n      this.app.deleteShapes(shapesToDelete);\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingState2, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/TLEraseTool.tsx\nvar TLEraseTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLEraseTool, \"id\", \"erase\");\n__publicField(TLEraseTool, \"states\", [IdleState4, PointingState2, ErasingState]);\n__publicField(TLEraseTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLBaseLineBindingState.ts\nvar TLBaseLineBindingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"handle\", {});\n    __publicField(this, \"handleId\", \"end\");\n    __publicField(this, \"currentShape\", {});\n    __publicField(this, \"initialShape\", {});\n    __publicField(this, \"bindableShapeIds\", []);\n    __publicField(this, \"startBindingShapeId\");\n    __publicField(this, \"newStartBindingId\", \"\");\n    __publicField(this, \"draggedBindingId\", \"\");\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { shiftKey, previousPoint, originPoint, currentPoint, modKey: modKey2, altKey },\n        settings: { snapToGrid }\n      } = this.app;\n      const shape = this.app.getShapeById(this.initialShape.id);\n      const { handles } = this.initialShape;\n      const handleId = this.handleId;\n      const otherHandleId = this.handleId === \"start\" ? \"end\" : \"start\";\n      if (src_default.isEqual(previousPoint, currentPoint))\n        return;\n      let delta = src_default.sub(currentPoint, originPoint);\n      if (shiftKey) {\n        const A3 = handles[otherHandleId].point;\n        const B3 = handles[handleId].point;\n        const C3 = src_default.add(B3, delta);\n        const angle = src_default.angle(A3, C3);\n        const adjusted = src_default.rotWith(C3, A3, GeomUtils.snapAngleToSegments(angle, 24) - angle);\n        delta = src_default.add(delta, src_default.sub(adjusted, C3));\n      }\n      const nextPoint = src_default.add(handles[handleId].point, delta);\n      const handleChanges = {\n        [handleId]: __spreadProps(__spreadValues({}, handles[handleId]), {\n          point: snapToGrid ? src_default.snap(nextPoint, GRID_SIZE) : src_default.toFixed(nextPoint),\n          bindingId: void 0\n        })\n      };\n      let updated = this.currentShape.getHandlesChange(this.initialShape, handleChanges);\n      if (!updated)\n        return;\n      const next = {\n        shape: deepMerge(shape.props, updated),\n        bindings: {}\n      };\n      let draggedBinding;\n      const draggingHandle = next.shape.handles[handleId];\n      const oppositeHandle = next.shape.handles[otherHandleId];\n      if (this.startBindingShapeId) {\n        let nextStartBinding;\n        const startTarget = this.app.getShapeById(this.startBindingShapeId);\n        if (startTarget) {\n          const center = startTarget.getCenter();\n          const startHandle = next.shape.handles.start;\n          const endHandle = next.shape.handles.end;\n          const rayPoint = src_default.add(startHandle.point, next.shape.point);\n          if (src_default.isEqual(rayPoint, center))\n            rayPoint[1]++;\n          const rayOrigin = center;\n          const isInsideShape = startTarget.hitTestPoint(currentPoint);\n          const rayDirection = src_default.uni(src_default.sub(rayPoint, rayOrigin));\n          const hasStartBinding = this.app.currentPage.bindings[this.newStartBindingId] !== void 0;\n          if (!modKey2 && !startTarget.hitTestPoint(src_default.add(next.shape.point, endHandle.point))) {\n            nextStartBinding = findBindingPoint(\n              shape.props,\n              startTarget,\n              \"start\",\n              this.newStartBindingId,\n              center,\n              rayOrigin,\n              rayDirection,\n              isInsideShape\n            );\n          }\n          if (nextStartBinding && !hasStartBinding) {\n            next.bindings[this.newStartBindingId] = nextStartBinding;\n            next.shape.handles.start.bindingId = nextStartBinding.id;\n          } else if (!nextStartBinding && hasStartBinding) {\n            console.log(\"removing start binding\");\n            delete next.bindings[this.newStartBindingId];\n            next.shape.handles.start.bindingId = void 0;\n          }\n        }\n      }\n      if (!modKey2) {\n        const rayOrigin = src_default.add(oppositeHandle.point, next.shape.point);\n        const rayPoint = src_default.add(draggingHandle.point, next.shape.point);\n        const rayDirection = src_default.uni(src_default.sub(rayPoint, rayOrigin));\n        const startPoint = src_default.add(next.shape.point, next.shape.handles.start.point);\n        const endPoint = src_default.add(next.shape.point, next.shape.handles.end.point);\n        const targets = this.bindableShapeIds.map((id3) => this.app.getShapeById(id3)).sort((a3, b3) => b3.nonce - a3.nonce).filter((shape2) => {\n          return ![startPoint, endPoint].every((point) => shape2.hitTestPoint(point));\n        });\n        for (const target of targets) {\n          draggedBinding = findBindingPoint(\n            shape.props,\n            target,\n            this.handleId,\n            this.draggedBindingId,\n            rayPoint,\n            rayOrigin,\n            rayDirection,\n            altKey\n          );\n          if (draggedBinding)\n            break;\n        }\n      }\n      if (draggedBinding) {\n        next.bindings[this.draggedBindingId] = draggedBinding;\n        next.shape = deepMerge(next.shape, {\n          handles: {\n            [this.handleId]: {\n              bindingId: this.draggedBindingId\n            }\n          }\n        });\n      } else {\n        const currentBindingId = shape.props.handles[this.handleId].bindingId;\n        if (currentBindingId !== void 0) {\n          delete next.bindings[currentBindingId];\n          next.shape = deepMerge(next.shape, {\n            handles: {\n              [this.handleId]: {\n                bindingId: void 0\n              }\n            }\n          });\n        }\n      }\n      updated = this.currentShape.getHandlesChange(next.shape, next.shape.handles);\n      transaction(() => {\n        var _a3;\n        if (updated) {\n          this.currentShape.update(updated);\n          this.app.currentPage.updateBindings(next.bindings);\n          const bindingShapes = Object.values((_a3 = updated.handles) != null ? _a3 : {}).map((handle) => handle.bindingId).map((id3) => this.app.currentPage.bindings[id3]).filter(Boolean).flatMap((binding) => [binding.toId, binding.fromId].filter(Boolean));\n          this.app.setBindingShapes(bindingShapes);\n        }\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n      if (this.currentShape) {\n        this.app.setSelectedShapes([this.currentShape]);\n      }\n      this.app.transition(\"select\");\n      this.app.persist();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.clearBindingShape();\n      this.app.history.resume();\n      this.app.persist();\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.deleteShapes([this.currentShape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(TLBaseLineBindingState, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/CreatingState.tsx\nvar CreatingState4 = class extends TLBaseLineBindingState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      this.app.history.pause();\n      this.newStartBindingId = uniqueId();\n      this.draggedBindingId = uniqueId();\n      const page = this.app.currentPage;\n      this.bindableShapeIds = page.getBindableShapes();\n      const { Shape: Shape5 } = this.tool;\n      const { originPoint } = this.app.inputs;\n      const shape = new Shape5(__spreadProps(__spreadValues({}, Shape5.defaultProps), {\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: this.app.currentPage.id,\n        point: this.app.settings.snapToGrid ? src_default.snap(originPoint, GRID_SIZE) : originPoint,\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color,\n        scaleLevel: this.app.settings.scaleLevel\n      }));\n      this.initialShape = toJS(shape.props);\n      this.currentShape = shape;\n      this.app.currentPage.addShapes(shape);\n      this.app.setSelectedShapes([shape]);\n      this.startBindingShapeId = (_a3 = this.bindableShapeIds.map((id3) => this.app.getShapeById(id3)).filter((s2) => PointUtils.pointInBounds(originPoint, s2.bounds))[0]) == null ? void 0 : _a3.id;\n      if (this.startBindingShapeId) {\n        this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId), 1);\n        this.app.setBindingShapes([this.startBindingShapeId]);\n      }\n    });\n  }\n};\n__publicField(CreatingState4, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/IdleState.tsx\nvar IdleState5 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerEnter\", (info) => {\n      if (info.order)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.app.setHoveredShape(info.shape.id);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (!(info.handle === \"background\" || info.handle === \"center\")) {\n            this.tool.transition(\"hoveringSelectionHandle\", info);\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", (info) => {\n      if (info.order)\n        return;\n      if (info.type === \"shape\" \/* Shape *\/) {\n        if (this.app.hoveredId) {\n          this.app.setHoveredShape(void 0);\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState5, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/PointingState.tsx\nvar PointingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"creating\");\n        this.app.setSelectedShapes(this.app.currentPage.shapes);\n      }\n    });\n  }\n};\n__publicField(PointingState3, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/TLLineTool.ts\nvar TLLineTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLLineTool, \"id\", \"line\");\n__publicField(TLLineTool, \"states\", [IdleState5, PointingState3, CreatingState4]);\n__publicField(TLLineTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/states\/CreatingState.tsx\nvar CreatingState5 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"initialBounds\", {});\n    __publicField(this, \"onEnter\", () => {\n      const {\n        currentPage,\n        inputs: { originPoint }\n      } = this.app;\n      const { Shape: Shape5 } = this.tool;\n      const shape = new Shape5({\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: currentPage.id,\n        point: [...originPoint],\n        text: \"\",\n        size: [16, 32],\n        isSizeLocked: true,\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color\n      });\n      this.creatingShape = shape;\n      this.creatingShape.setScaleLevel(this.app.settings.scaleLevel);\n      transaction(() => {\n        this.app.currentPage.addShapes(shape);\n        const point = this.app.settings.snapToGrid ? src_default.snap([...originPoint], GRID_SIZE) : originPoint;\n        const { bounds } = shape;\n        shape.update({\n          point: src_default.sub(point, [bounds.width \/ 2, bounds.height \/ 2])\n        });\n        this.app.transition(\"select\");\n        this.app.setSelectedShapes([shape]);\n        this.app.currentState.transition(\"editingShape\", {\n          type: \"shape\" \/* Shape *\/,\n          shape: this.creatingShape,\n          order: 0\n        });\n      });\n    });\n  }\n};\n__publicField(CreatingState5, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/states\/IdleState.tsx\nvar IdleState6 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order || this.app.readOnly)\n        return;\n      this.tool.transition(\"creating\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState6, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/TLTextTool.ts\nvar TLTextTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLTextTool, \"id\", \"box\");\n__publicField(TLTextTool, \"states\", [IdleState6, CreatingState5]);\n__publicField(TLTextTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLBush.ts\nvar import_rbush = __toESM(require_rbush_min());\nvar TLBush = class extends import_rbush.default {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"toBBox\", (shape) => shape.rotatedBounds);\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/BrushingState.ts\nvar BrushingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"initialSelectedIds\", []);\n    __publicField(this, \"initialSelectedShapes\", []);\n    __publicField(this, \"tree\", new TLBush());\n    __publicField(this, \"onEnter\", () => {\n      const { selectedShapes, currentPage, selectedIds } = this.app;\n      this.initialSelectedIds = Array.from(selectedIds.values());\n      this.initialSelectedShapes = Array.from(selectedShapes.values());\n      this.tree.load(currentPage.shapes);\n    });\n    __publicField(this, \"onExit\", () => {\n      this.initialSelectedIds = [];\n      this.tree.clear();\n      this.app.setBrush(void 0);\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { shiftKey, ctrlKey, originPoint, currentPoint }\n      } = this.app;\n      const brushBounds = BoundsUtils.getBoundsFromPoints([currentPoint, originPoint], 0);\n      this.app.setBrush(brushBounds);\n      const hits = dedupe(\n        this.tree.search(brushBounds).filter(\n          (shape) => ctrlKey ? BoundsUtils.boundsContain(brushBounds, shape.rotatedBounds) : shape.hitTestBounds(brushBounds)\n        ).filter((shape) => shape.type !== \"group\").map((shape) => {\n          var _a3;\n          return (_a3 = this.app.getParentGroup(shape)) != null ? _a3 : shape;\n        })\n      );\n      if (shiftKey) {\n        if (hits.every((hit) => this.initialSelectedShapes.includes(hit))) {\n          this.app.setSelectedShapes(this.initialSelectedShapes.filter((hit) => !hits.includes(hit)));\n        } else {\n          this.app.setSelectedShapes(dedupe([...this.initialSelectedShapes, ...hits]));\n        }\n      } else {\n        this.app.setSelectedShapes(hits);\n      }\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.setBrush(void 0);\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"handleModifierKey\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.setBrush(void 0);\n          this.app.setSelectedShapes(this.initialSelectedIds);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(BrushingState, \"id\", \"brushing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/ContextMenuState.ts\nvar ContextMenuState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      if (info.type === \"shape\" \/* Shape *\/ && !selectedIds.has(info.shape.id)) {\n        const shape = (_a3 = this.app.getParentGroup(info.shape)) != null ? _a3 : info.shape;\n        if (shiftKey) {\n          this.app.setSelectedShapes([...Array.from(selectedIds.values()), shape.id]);\n          return;\n        }\n        this.app.setSelectedShapes([shape]);\n      }\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(ContextMenuState, \"id\", \"contextMenu\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/IdleState.ts\nvar IdleState7 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      if (info.fromId === \"pinching\" && this.parent.returnTo) {\n        this.app.transition(this.parent.returnTo);\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n    });\n    __publicField(this, \"onPointerEnter\", (info) => {\n      if (info.order)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.app.setHoveredShape(info.shape.id);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (!(info.handle === \"background\" || info.handle === \"center\")) {\n            this.tool.transition(\"hoveringSelectionHandle\", info);\n          }\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          this.app.setHoveredShape(void 0);\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerDown\", (info, event) => {\n      const {\n        selectedShapes,\n        inputs: { ctrlKey }\n      } = this.app;\n      if (event.button === 2) {\n        this.tool.transition(\"contextMenu\", info);\n        return;\n      }\n      if (ctrlKey) {\n        this.tool.transition(\"pointingCanvas\");\n        return;\n      }\n      switch (info.type) {\n        case \"selection\" \/* Selection *\/: {\n          switch (info.handle) {\n            case \"center\": {\n              break;\n            }\n            case \"background\": {\n              this.tool.transition(\"pointingBoundsBackground\");\n              break;\n            }\n            case \"rotate\": {\n              this.tool.transition(\"pointingRotateHandle\");\n              break;\n            }\n            default: {\n              this.tool.transition(\"pointingResizeHandle\", info);\n            }\n          }\n          break;\n        }\n        case \"shape\" \/* Shape *\/: {\n          if (selectedShapes.has(info.shape)) {\n            this.tool.transition(\"pointingSelectedShape\", info);\n          } else {\n            const { selectionBounds, inputs } = this.app;\n            if (selectionBounds && PointUtils.pointInBounds(inputs.currentPoint, selectionBounds)) {\n              this.tool.transition(\"pointingShapeBehindBounds\", info);\n            } else {\n              this.tool.transition(\"pointingShape\", info);\n            }\n          }\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          this.tool.transition(\"pointingHandle\", info);\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          this.tool.transition(\"pointingCanvas\");\n          break;\n        }\n        case \"minimap\" \/* Minimap *\/: {\n          this.tool.transition(\"pointingMinimap\", __spreadValues(__spreadValues({}, event), info));\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", (info) => {\n      if (info.order)\n        return;\n      if (info.type === \"shape\" \/* Shape *\/) {\n        if (this.app.hoveredId) {\n          this.app.setHoveredShape(void 0);\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onDoubleClick\", (info) => {\n      if (info.order || this.app.selectedShapesArray.length !== 1 || this.app.readOnly)\n        return;\n      const selectedShape = this.app.selectedShapesArray[0];\n      if (!selectedShape.canEdit || selectedShape.props.isLocked)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.tool.transition(\"editingShape\", info);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (this.app.selectedShapesArray.length === 1) {\n            this.tool.transition(\"editingShape\", {\n              type: \"shape\" \/* Shape *\/,\n              target: selectedShape\n            });\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      const { selectedShapesArray } = this.app;\n      switch (e.key) {\n        case \"Enter\": {\n          if (selectedShapesArray.length === 1 && selectedShapesArray[0].canEdit && !this.app.readOnly) {\n            this.tool.transition(\"editingShape\", {\n              type: \"shape\" \/* Shape *\/,\n              shape: selectedShapesArray[0],\n              order: 0\n            });\n          }\n          break;\n        }\n        case \"Escape\": {\n          if (selectedShapesArray.length) {\n            this.app.setSelectedShapes([]);\n          }\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState7, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingShapeState.ts\nvar PointingShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      const shape = (_a3 = this.app.getParentGroup(info.shape)) != null ? _a3 : info.shape;\n      if (shiftKey) {\n        this.app.setSelectedShapes([...Array.from(selectedIds.values()), shape.id]);\n      } else {\n        this.app.setSelectedShapes([shape]);\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingShapeState, \"id\", \"pointingShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingBoundsBackgroundState.ts\nvar PointingBoundsBackgroundState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"move\" \/* Move *\/);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.setSelectedShapes([]);\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingBoundsBackgroundState, \"id\", \"pointingBoundsBackground\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingCanvasState.ts\nvar PointingCanvasState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      const { shiftKey } = this.app.inputs;\n      if (!shiftKey) {\n        this.app.setSelectedShapes([]);\n        this.app.setEditingShape();\n        (_a3 = window.getSelection()) == null ? void 0 : _a3.removeAllRanges();\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"brushing\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      if (!this.app.inputs.shiftKey) {\n        this.app.setSelectedShapes([]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onDoubleClick\", () => {\n      this.app.notify(\"canvas-dbclick\", { point: this.app.inputs.originPoint });\n    });\n  }\n};\n__publicField(PointingCanvasState, \"id\", \"pointingCanvas\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/TranslatingState.ts\nvar TranslatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"move\" \/* Move *\/);\n    __publicField(this, \"isCloning\", false);\n    __publicField(this, \"didClone\", false);\n    __publicField(this, \"initialPoints\", {});\n    __publicField(this, \"initialShapePoints\", {});\n    __publicField(this, \"initialClonePoints\", {});\n    __publicField(this, \"clones\", []);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      this.app.history.pause();\n      const { allSelectedShapesArray, inputs } = this.app;\n      this.initialShapePoints = Object.fromEntries(\n        allSelectedShapesArray.map(({ id: id3, props: { point } }) => [id3, point.slice()])\n      );\n      this.initialPoints = this.initialShapePoints;\n      document.querySelectorAll(\"input,textarea\").forEach((el) => el.blur());\n      (_a3 = document.getSelection()) == null ? void 0 : _a3.empty();\n      if (inputs.altKey) {\n        this.startCloning();\n      } else {\n        this.moveSelectedShapesToPointer();\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.history.resume();\n      this.didClone = false;\n      this.isCloning = false;\n      this.clones = [];\n      this.initialPoints = {};\n      this.initialShapePoints = {};\n      this.initialClonePoints = {};\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { currentPoint }\n      } = this.app;\n      this.moveSelectedShapesToPointer();\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Alt\": {\n          this.startCloning();\n          break;\n        }\n        case \"Escape\": {\n          this.app.allSelectedShapes.forEach((shape) => {\n            shape.update({ point: this.initialPoints[shape.id] });\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyUp\", (info, e) => {\n      switch (e.key) {\n        case \"Alt\": {\n          if (!this.isCloning)\n            throw Error(\"Expected to be cloning.\");\n          const { currentPage, allSelectedShapes } = this.app;\n          currentPage.removeShapes(...allSelectedShapes);\n          this.initialPoints = this.initialShapePoints;\n          this.app.setSelectedShapes(Object.keys(this.initialPoints));\n          this.moveSelectedShapesToPointer();\n          this.isCloning = false;\n          break;\n        }\n      }\n    });\n  }\n  moveSelectedShapesToPointer() {\n    const {\n      inputs: { shiftKey, originPoint, currentPoint }\n    } = this.app;\n    const { initialPoints } = this;\n    const delta = Vec.sub(currentPoint, originPoint);\n    if (shiftKey) {\n      if (Math.abs(delta[0]) < Math.abs(delta[1])) {\n        delta[0] = 0;\n      } else {\n        delta[1] = 0;\n      }\n    }\n    transaction(() => {\n      this.app.allSelectedShapesArray.filter((s2) => !s2.props.isLocked).forEach((shape) => {\n        let position = Vec.add(initialPoints[shape.id], delta);\n        if (this.app.settings.snapToGrid) {\n          position = Vec.snap(position, GRID_SIZE);\n        }\n        shape.update({ point: position });\n      });\n    });\n  }\n  startCloning() {\n    if (!this.didClone) {\n      this.clones = this.app.allSelectedShapesArray.map((shape) => {\n        const ShapeClass = this.app.getShapeClass(shape.type);\n        if (!ShapeClass)\n          throw Error(\"Could not find that shape class.\");\n        const clone = new ShapeClass(__spreadProps(__spreadValues({}, shape.serialized), {\n          id: uniqueId(),\n          type: shape.type,\n          point: this.initialPoints[shape.id],\n          rotation: shape.props.rotation,\n          isLocked: false\n        }));\n        return clone;\n      });\n      this.initialClonePoints = Object.fromEntries(\n        this.clones.map(({ id: id3, props: { point } }) => [id3, point.slice()])\n      );\n      this.didClone = true;\n    }\n    this.app.allSelectedShapes.forEach((shape) => {\n      shape.update({ point: this.initialPoints[shape.id] });\n    });\n    this.initialPoints = this.initialClonePoints;\n    this.app.currentPage.addShapes(...this.clones);\n    this.app.setSelectedShapes(Object.keys(this.initialClonePoints));\n    this.moveSelectedShapesToPointer();\n    this.isCloning = true;\n  }\n};\n__publicField(TranslatingState, \"id\", \"translating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingSelectedShapeState.ts\nvar PointingSelectedShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"pointedSelectedShape\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.pointedSelectedShape = info.shape;\n    });\n    __publicField(this, \"onExit\", () => {\n      this.pointedSelectedShape = void 0;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const { shiftKey, currentPoint } = this.app.inputs;\n      const { selectedShapesArray } = this.app;\n      if (!this.pointedSelectedShape)\n        throw Error(\"Expected a pointed selected shape\");\n      if (shiftKey) {\n        const { selectedIds } = this.app;\n        const next = Array.from(selectedIds.values());\n        next.splice(next.indexOf(this.pointedSelectedShape.id), 1);\n        this.app.setSelectedShapes(next);\n      } else if (selectedShapesArray.length === 1 && this.pointedSelectedShape.canEdit && !this.app.readOnly && !this.pointedSelectedShape.props.isLocked && this.pointedSelectedShape instanceof TLBoxShape && PointUtils.pointInBounds(currentPoint, this.pointedSelectedShape.bounds)) {\n        this.tool.transition(\"editingShape\", {\n          shape: this.pointedSelectedShape,\n          order: 0,\n          type: \"shape\" \/* Shape *\/\n        });\n        return;\n      } else {\n        this.app.setSelectedShapes([this.pointedSelectedShape.id]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingSelectedShapeState, \"id\", \"pointingSelectedShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingResizeHandleState.ts\nvar PointingResizeHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n      this.updateCursor();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"resizing\", this.info);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"hoveringSelectionHandle\", this.info);\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n  updateCursor() {\n    const rotation = this.app.selectionBounds.rotation;\n    const cursor = CURSORS[this.info.handle];\n    this.app.cursors.setCursor(cursor, rotation);\n  }\n};\n__publicField(PointingResizeHandleState, \"id\", \"pointingResizeHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/ResizingState.ts\nvar _ResizingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"isSingle\", false);\n    __publicField(this, \"handle\", \"bottom_right_corner\" \/* BottomRight *\/);\n    __publicField(this, \"snapshots\", {});\n    __publicField(this, \"initialCommonBounds\", {});\n    __publicField(this, \"selectionRotation\", 0);\n    __publicField(this, \"resizeType\", \"corner\");\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3, _b;\n      const { history, selectedShapesArray, selectionBounds } = this.app;\n      if (!selectionBounds)\n        throw Error(\"Expected a selected bounds.\");\n      this.handle = info.handle;\n      this.resizeType = info.handle === \"left_edge\" \/* Left *\/ || info.handle === \"right_edge\" \/* Right *\/ ? \"horizontal-edge\" : info.handle === \"top_edge\" \/* Top *\/ || info.handle === \"bottom_edge\" \/* Bottom *\/ ? \"vertical-edge\" : \"corner\";\n      this.app.cursors.setCursor(\n        _ResizingState.CURSORS[info.handle],\n        (_a3 = this.app.selectionBounds) == null ? void 0 : _a3.rotation\n      );\n      history.pause();\n      const initialInnerBounds = BoundsUtils.getBoundsFromPoints(\n        selectedShapesArray.map((shape) => BoundsUtils.getBoundsCenter(shape.bounds))\n      );\n      this.isSingle = selectedShapesArray.length === 1;\n      this.selectionRotation = this.isSingle ? (_b = selectedShapesArray[0].props.rotation) != null ? _b : 0 : 0;\n      this.initialCommonBounds = __spreadValues({}, selectionBounds);\n      this.snapshots = Object.fromEntries(\n        selectedShapesArray.map((shape) => {\n          const bounds = __spreadValues({}, shape.bounds);\n          const [cx2, cy] = BoundsUtils.getBoundsCenter(bounds);\n          return [\n            shape.id,\n            {\n              props: shape.serialized,\n              bounds,\n              transformOrigin: [\n                (cx2 - this.initialCommonBounds.minX) \/ this.initialCommonBounds.width,\n                (cy - this.initialCommonBounds.minY) \/ this.initialCommonBounds.height\n              ],\n              innerTransformOrigin: [\n                (cx2 - initialInnerBounds.minX) \/ initialInnerBounds.width,\n                (cy - initialInnerBounds.minY) \/ initialInnerBounds.height\n              ],\n              isAspectRatioLocked: shape.props.isAspectRatioLocked || Boolean(!shape.canChangeAspectRatio || shape.props.rotation)\n            }\n          ];\n        })\n      );\n      selectedShapesArray.forEach((shape) => {\n        var _a4;\n        (_a4 = shape.onResizeStart) == null ? void 0 : _a4.call(shape, { isSingle: this.isSingle });\n      });\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n      this.snapshots = {};\n      this.initialCommonBounds = {};\n      this.selectionRotation = 0;\n      this.app.history.resume();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { altKey, shiftKey, ctrlKey, originPoint, currentPoint }\n      } = this.app;\n      const { handle, snapshots, initialCommonBounds } = this;\n      let delta = Vec.sub(currentPoint, originPoint);\n      if (altKey) {\n        delta = Vec.mul(delta, 2);\n      }\n      const firstShape = getFirstFromSet(this.app.selectedShapes);\n      const useAspectRatioLock = shiftKey || this.isSingle && (ctrlKey ? !(\"clipping\" in firstShape.props) : !firstShape.canChangeAspectRatio || firstShape.props.isAspectRatioLocked);\n      let nextBounds = BoundsUtils.getTransformedBoundingBox(\n        initialCommonBounds,\n        handle,\n        delta,\n        this.selectionRotation,\n        useAspectRatioLock\n      );\n      if (altKey) {\n        nextBounds = __spreadValues(__spreadValues({}, nextBounds), BoundsUtils.centerBounds(nextBounds, BoundsUtils.getBoundsCenter(initialCommonBounds)));\n      }\n      const { scaleX, scaleY } = nextBounds;\n      let resizeDimension;\n      switch (this.resizeType) {\n        case \"horizontal-edge\": {\n          resizeDimension = Math.abs(scaleX);\n          break;\n        }\n        case \"vertical-edge\": {\n          resizeDimension = Math.abs(scaleY);\n          break;\n        }\n        case \"corner\": {\n          resizeDimension = Math.min(Math.abs(scaleX), Math.abs(scaleY));\n        }\n      }\n      this.app.selectedShapes.forEach((shape) => {\n        var _a3, _b;\n        const {\n          isAspectRatioLocked,\n          props: initialShapeProps,\n          bounds: initialShapeBounds,\n          transformOrigin,\n          innerTransformOrigin\n        } = snapshots[shape.id];\n        let relativeBounds = BoundsUtils.getRelativeTransformedBoundingBox(\n          nextBounds,\n          initialCommonBounds,\n          initialShapeBounds,\n          scaleX < 0,\n          scaleY < 0\n        );\n        const canResizeAny = shape.canResize.some((r2) => r2);\n        if (!(canResizeAny || shape.props.isSizeLocked) && this.isSingle) {\n          return;\n        }\n        let scale = [scaleX, scaleY];\n        let rotation = (_a3 = initialShapeProps.rotation) != null ? _a3 : 0;\n        let center = BoundsUtils.getBoundsCenter(relativeBounds);\n        if (!shape.canFlip) {\n          scale = Vec.abs(scale);\n        }\n        if (!shape.canScale) {\n          scale = (_b = initialShapeProps.scale) != null ? _b : [1, 1];\n        }\n        if (rotation && scaleX < 0 && scaleY >= 0 || scaleY < 0 && scaleX >= 0) {\n          rotation *= -1;\n        }\n        if (this.app.settings.snapToGrid && !isAspectRatioLocked) {\n          relativeBounds = BoundsUtils.snapBoundsToGrid(relativeBounds, GRID_SIZE);\n        }\n        shape.onResize(initialShapeProps, {\n          center,\n          rotation,\n          scale,\n          bounds: relativeBounds,\n          type: handle,\n          clip: ctrlKey,\n          transformOrigin\n        });\n      });\n      this.updateCursor(scaleX, scaleY);\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.selectedShapes.forEach((shape) => {\n            shape.update(__spreadValues({}, this.snapshots[shape.id].props));\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  updateCursor(scaleX, scaleY) {\n    var _a3, _b, _c, _d;\n    const isFlippedX = scaleX < 0 && scaleY >= 0;\n    const isFlippedY = scaleY < 0 && scaleX >= 0;\n    switch (this.handle) {\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        if (isFlippedX || isFlippedY) {\n          if (this.app.cursors.cursor === \"nwse-resize\" \/* NwseResize *\/) {\n            this.app.cursors.setCursor(\"nesw-resize\" \/* NeswResize *\/, (_a3 = this.app.selectionBounds) == null ? void 0 : _a3.rotation);\n          }\n        } else {\n          if (this.app.cursors.cursor === \"nesw-resize\" \/* NeswResize *\/) {\n            this.app.cursors.setCursor(\"nwse-resize\" \/* NwseResize *\/, (_b = this.app.selectionBounds) == null ? void 0 : _b.rotation);\n          }\n        }\n        break;\n      }\n      case \"top_right_corner\" \/* TopRight *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        if (isFlippedX || isFlippedY) {\n          if (this.app.cursors.cursor === \"nesw-resize\" \/* NeswResize *\/) {\n            this.app.cursors.setCursor(\"nwse-resize\" \/* NwseResize *\/, (_c = this.app.selectionBounds) == null ? void 0 : _c.rotation);\n          }\n        } else {\n          if (this.app.cursors.cursor === \"nwse-resize\" \/* NwseResize *\/) {\n            this.app.cursors.setCursor(\"nesw-resize\" \/* NeswResize *\/, (_d = this.app.selectionBounds) == null ? void 0 : _d.rotation);\n          }\n        }\n        break;\n      }\n    }\n  }\n};\nvar ResizingState = _ResizingState;\n__publicField(ResizingState, \"id\", \"resizing\");\n__publicField(ResizingState, \"CURSORS\", {\n  [\"bottom_edge\" \/* Bottom *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"top_edge\" \/* Top *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"left_edge\" \/* Left *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"right_edge\" \/* Right *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_left_corner\" \/* TopLeft *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_right_corner\" \/* TopRight *\/]: \"nesw-resize\" \/* NeswResize *\/\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingRotateHandleState.ts\nvar PointingRotateHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"rotate\" \/* Rotate *\/);\n    __publicField(this, \"handle\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.app.history.pause();\n      this.handle = info.handle;\n      this.updateCursor();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"rotating\", { handle: this.handle });\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n  updateCursor() {\n    this.app.cursors.setCursor(CURSORS[this.handle], this.app.selectionRotation);\n  }\n};\n__publicField(PointingRotateHandleState, \"id\", \"pointingRotateHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingShapeBehindBoundsState.ts\nvar PointingShapeBehindBoundsState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      if (shiftKey) {\n        this.app.setSelectedShapes([...Array.from(selectedIds.values()), this.info.shape.id]);\n      } else {\n        this.app.setSelectedShapes([this.info.shape.id]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingShapeBehindBoundsState, \"id\", \"pointingShapeBehindBounds\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/RotatingState.ts\nvar RotatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"rotate\" \/* Rotate *\/);\n    __publicField(this, \"snapshot\", {});\n    __publicField(this, \"initialCommonCenter\", [0, 0]);\n    __publicField(this, \"initialCommonBounds\", {});\n    __publicField(this, \"initialAngle\", 0);\n    __publicField(this, \"initialSelectionRotation\", 0);\n    __publicField(this, \"handle\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      const { history, selectedShapesArray, selectionBounds } = this.app;\n      if (!selectionBounds)\n        throw Error(\"Expected selected bounds.\");\n      history.pause();\n      this.handle = info.handle;\n      this.initialSelectionRotation = this.app.selectionRotation;\n      this.initialCommonBounds = __spreadValues({}, selectionBounds);\n      this.initialCommonCenter = BoundsUtils.getBoundsCenter(selectionBounds);\n      this.initialAngle = Vec.angle(this.initialCommonCenter, this.app.inputs.currentPoint);\n      this.snapshot = Object.fromEntries(\n        selectedShapesArray.map((shape) => [\n          shape.id,\n          {\n            point: [...shape.props.point],\n            center: [...shape.center],\n            rotation: shape.props.rotation,\n            handles: \"handles\" in shape ? deepCopy(shape.handles) : void 0\n          }\n        ])\n      );\n      this.updateCursor();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.history.resume();\n      this.snapshot = {};\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        selectedShapes,\n        inputs: { shiftKey, currentPoint }\n      } = this.app;\n      const { snapshot, initialCommonCenter, initialAngle, initialSelectionRotation } = this;\n      const currentAngle = Vec.angle(initialCommonCenter, currentPoint);\n      let angleDelta = currentAngle - initialAngle;\n      if (shiftKey) {\n        angleDelta = GeomUtils.snapAngleToSegments(angleDelta, 24);\n      }\n      selectedShapes.forEach((shape) => {\n        const initialShape = snapshot[shape.id];\n        let initialAngle2 = 0;\n        if (shiftKey) {\n          const { rotation = 0 } = initialShape;\n          initialAngle2 = GeomUtils.snapAngleToSegments(rotation, 24) - rotation;\n        }\n        const relativeCenter = Vec.sub(initialShape.center, initialShape.point);\n        const rotatedCenter = Vec.rotWith(initialShape.center, initialCommonCenter, angleDelta);\n        if (\"handles\" in shape) {\n          const initialHandles = initialShape.handles;\n          const handlePoints = initialHandles.map(\n            (handle) => Vec.rotWith(handle.point, relativeCenter, angleDelta)\n          );\n          const topLeft = BoundsUtils.getCommonTopLeft(handlePoints);\n          shape.update({\n            point: Vec.add(topLeft, Vec.sub(rotatedCenter, relativeCenter)),\n            handles: initialHandles.map((h2, i2) => __spreadProps(__spreadValues({}, h2), {\n              point: Vec.sub(handlePoints[i2], topLeft)\n            }))\n          });\n        } else {\n          shape.update({\n            point: Vec.sub(rotatedCenter, relativeCenter),\n            rotation: GeomUtils.clampRadians(\n              (initialShape.rotation || 0) + angleDelta + initialAngle2\n            )\n          });\n        }\n      });\n      const selectionRotation = GeomUtils.clampRadians(initialSelectionRotation + angleDelta);\n      this.app.setSelectionRotation(\n        shiftKey ? GeomUtils.snapAngleToSegments(selectionRotation, 24) : selectionRotation\n      );\n      this.updateCursor();\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.selectedShapes.forEach((shape) => {\n            shape.update(this.snapshot[shape.id]);\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  updateCursor() {\n    this.app.cursors.setCursor(CURSORS[this.handle], this.app.selectionRotation);\n  }\n};\n__publicField(RotatingState, \"id\", \"rotating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PinchingState.ts\nvar PinchingState2 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPinch\", (info, event) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState2, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/TranslatingHandleState.ts\nvar TranslatingHandleState = class extends TLBaseLineBindingState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"onEnter\", (info) => {\n      this.app.history.pause();\n      this.newStartBindingId = uniqueId();\n      this.draggedBindingId = uniqueId();\n      const page = this.app.currentPage;\n      this.bindableShapeIds = page.getBindableShapes();\n      this.handleId = info.id;\n      this.currentShape = info.shape;\n      this.initialShape = toJS(this.currentShape.props);\n      this.app.setSelectedShapes([this.currentShape]);\n    });\n  }\n};\n__publicField(TranslatingHandleState, \"id\", \"translatingHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingHandleState.ts\nvar PointingHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"translatingHandle\", this.info);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingHandleState, \"id\", \"pointingHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/HoveringSelectionHandleState.ts\nvar HoveringSelectionHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"handle\");\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      this.app.cursors.setCursor(CURSORS[info.handle], (_a3 = this.app.selectionBounds.rotation) != null ? _a3 : 0);\n      this.handle = info.handle;\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"selection\" \/* Selection *\/: {\n          switch (info.handle) {\n            case \"center\": {\n              break;\n            }\n            case \"background\": {\n              break;\n            }\n            case \"top_left_resize_corner\" \/* TopLeft *\/:\n            case \"top_right_resize_corner\" \/* TopRight *\/:\n            case \"bottom_right_resize_corner\" \/* BottomRight *\/:\n            case \"bottom_left_resize_corner\" \/* BottomLeft *\/: {\n              this.tool.transition(\"pointingRotateHandle\", info);\n              break;\n            }\n            default: {\n              this.tool.transition(\"pointingResizeHandle\", info);\n            }\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onDoubleClick\", (info) => {\n      var _a3;\n      if (info.order)\n        return;\n      const isSingle = this.app.selectedShapes.size === 1;\n      if (!isSingle)\n        return;\n      const selectedShape = getFirstFromSet(this.app.selectedShapes);\n      if (selectedShape.canEdit && !this.app.readOnly && !selectedShape.props.isLocked) {\n        switch (info.type) {\n          case \"shape\" \/* Shape *\/: {\n            this.tool.transition(\"editingShape\", info);\n            break;\n          }\n          case \"selection\" \/* Selection *\/: {\n            (_a3 = selectedShape.onResetBounds) == null ? void 0 : _a3.call(selectedShape, {\n              zoom: this.app.viewport.camera.zoom\n            });\n            if (this.app.selectedShapesArray.length === 1) {\n              this.tool.transition(\"editingShape\", {\n                type: \"shape\" \/* Shape *\/,\n                target: selectedShape\n              });\n            }\n            break;\n          }\n        }\n      } else {\n        const asset = selectedShape.props.assetId ? this.app.assets[selectedShape.props.assetId] : void 0;\n        selectedShape.onResetBounds({ asset, zoom: this.app.viewport.camera.zoom });\n        this.tool.transition(\"idle\");\n      }\n    });\n  }\n};\n__publicField(HoveringSelectionHandleState, \"id\", \"hoveringSelectionHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/EditingShapeState.ts\nvar EditingShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"editingShape\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.editingShape = info.shape;\n      this.app.setEditingShape(info.shape);\n    });\n    __publicField(this, \"onExit\", () => {\n      var _a3;\n      if (this.editingShape && \"text\" in this.editingShape.props) {\n        const newText = this.editingShape.props[\"text\"].trim();\n        if (newText === \"\" && this.editingShape.props.type === \"text\") {\n          this.app.deleteShapes([this.editingShape]);\n        } else {\n          this.editingShape.onResetBounds();\n          this.editingShape.update({\n            text: newText\n          });\n        }\n      }\n      this.app.persist();\n      this.app.setEditingShape();\n      (_a3 = document.querySelector(\".tl-canvas\")) == null ? void 0 : _a3.focus();\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          if (info.shape === this.editingShape)\n            return;\n          this.tool.transition(\"idle\", info);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          if (!info.order) {\n            this.tool.transition(\"idle\", info);\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          transaction(() => {\n            e.stopPropagation();\n            this.app.setSelectedShapes([this.editingShape]);\n            this.tool.transition(\"idle\");\n          });\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(EditingShapeState, \"id\", \"editingShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingMinimapState.ts\nvar PointingMinimapState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"minimapZoom\", 1);\n    __publicField(this, \"minimapRect\", {\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0\n    });\n    __publicField(this, \"getCameraPoint\", (clientPoint) => {\n      const minimapContainer = document.querySelector(\".tl-preview-minimap svg\");\n      const minimapCamera = document.querySelector(\n        \".tl-preview-minimap #minimap-camera-rect\"\n      );\n      if (minimapContainer && minimapCamera) {\n        const rect = minimapContainer.getBoundingClientRect();\n        this.minimapRect.height = rect.height;\n        this.minimapRect.width = rect.width;\n        this.minimapRect.minX = rect.left;\n        this.minimapRect.minY = rect.top;\n        this.minimapRect.maxX = rect.right;\n        this.minimapRect.maxY = rect.bottom;\n        this.minimapZoom = +minimapContainer.dataset.commonBoundWidth \/ this.minimapRect.width;\n        const cursorInSvg = Vec.sub(clientPoint, [this.minimapRect.minX, this.minimapRect.minY]);\n        const minimapCameraRect = minimapCamera.getBoundingClientRect();\n        const minimapCameraCenter = [\n          minimapCameraRect.left + minimapCameraRect.width \/ 2,\n          minimapCameraRect.top + minimapCameraRect.height \/ 2\n        ];\n        const delta = Vec.mul(Vec.sub(cursorInSvg, minimapCameraCenter), this.minimapZoom);\n        return Vec.sub(this.app.viewport.camera.point, delta);\n      }\n      return;\n    });\n    __publicField(this, \"onEnter\", (info) => {\n      const newCameraPoint = this.getCameraPoint([info.clientX, info.clientY]);\n      if (newCameraPoint) {\n        this.app.viewport.update({\n          point: newCameraPoint\n        });\n      } else {\n        this.tool.transition(\"idle\");\n      }\n    });\n    __publicField(this, \"onPointerMove\", (info, e) => {\n      if (\"clientX\" in e) {\n        const newCameraPoint = this.getCameraPoint([e.clientX, e.clientY]);\n        if (newCameraPoint) {\n          this.app.viewport.update({\n            point: newCameraPoint\n          });\n        }\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingMinimapState, \"id\", \"pointingMinimap\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/TLSelectTool.tsx\nvar TLSelectTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"returnTo\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.returnTo = info == null ? void 0 : info.returnTo;\n    });\n  }\n};\n__publicField(TLSelectTool, \"id\", \"select\");\n__publicField(TLSelectTool, \"initial\", \"idle\");\n__publicField(TLSelectTool, \"shortcut\", \"whiteboard\/select\");\n__publicField(TLSelectTool, \"states\", [\n  IdleState7,\n  BrushingState,\n  ContextMenuState,\n  PointingCanvasState,\n  PointingShapeState,\n  PointingShapeBehindBoundsState,\n  PointingSelectedShapeState,\n  PointingBoundsBackgroundState,\n  HoveringSelectionHandleState,\n  PointingResizeHandleState,\n  PointingRotateHandleState,\n  PointingMinimapState,\n  PointingHandleState,\n  TranslatingHandleState,\n  TranslatingState,\n  ResizingState,\n  RotatingState,\n  RotatingState,\n  PinchingState2,\n  EditingShapeState\n]);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/PanningState.tsx\nvar PanningState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"originalScreenPoint\", []);\n    __publicField(this, \"originalCameraPoint\", []);\n    __publicField(this, \"prevState\", \"idle\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevState = info == null ? void 0 : info.prevState;\n      this.originalScreenPoint = this.app.inputs.currentScreenPoint;\n      this.originalCameraPoint = this.app.viewport.camera.point;\n    });\n    __publicField(this, \"onPointerMove\", (_2, e) => {\n      const delta = src_default.sub(this.originalScreenPoint, this.app.inputs.currentScreenPoint);\n      this.app.viewport.update({\n        point: src_default.sub(this.originalCameraPoint, src_default.div(delta, this.app.viewport.camera.zoom))\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      var _a3;\n      this.tool.transition((_a3 = this.prevState) != null ? _a3 : \"idle\");\n    });\n  }\n};\n__publicField(PanningState, \"id\", \"panning\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/IdleState.tsx\nvar IdleState8 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      if (this.parent.prevTool && info.exit) {\n        this.app.setCurrentState(this.parent.prevTool);\n        setTimeout(() => {\n          this.app.cursors.reset();\n          this.app.cursors.setCursor(this.parent.prevTool.cursor);\n        });\n      }\n    });\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"panning\");\n    });\n  }\n};\n__publicField(IdleState8, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/IdleHoldState.tsx\nvar IdleHoldState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"panning\", { prevState: \"idleHold\" });\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(IdleHoldState, \"id\", \"idleHold\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/PinchingState.ts\nvar PinchingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"origin\", [0, 0]);\n    __publicField(this, \"prevDelta\", [0, 0]);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevDelta = info.info.delta;\n      this.origin = info.info.point;\n    });\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState3, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/TLMoveTool.ts\nvar TLMoveTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grab\" \/* Grab *\/);\n    __publicField(this, \"prevTool\", null);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevTool = info == null ? void 0 : info.prevTool;\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(TLMoveTool, \"id\", \"move\");\n__publicField(TLMoveTool, \"shortcut\", \"whiteboard\/pan\");\n__publicField(TLMoveTool, \"states\", [IdleState8, IdleHoldState, PanningState, PinchingState3]);\n__publicField(TLMoveTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLPage\/TLPage.ts\nvar TLPage = class {\n  constructor(app, props = {}) {\n    __publicField(this, \"lastShapesNounces\", null);\n    __publicField(this, \"app\");\n    __publicField(this, \"id\");\n    __publicField(this, \"name\");\n    __publicField(this, \"shapes\", []);\n    __publicField(this, \"bindings\", {});\n    __publicField(this, \"nonce\", 0);\n    __publicField(this, \"bringForward\", (shapes2) => {\n      this.bringToFront(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendBackward\", (shapes2) => {\n      this.sendToBack(shapes2);\n      return this;\n    });\n    __publicField(this, \"bringToFront\", (shapes2) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      let others = this.shapes.filter((shape) => !shapesToMove.includes(shape));\n      this.shapes = others.concat(shapesToMove);\n      const info = { op: \"bringToFront\", shapes: shapesToMove, before: others[others.length - 1] };\n      this.app.persist(info);\n      this.persistInfo = info;\n      return this;\n    });\n    __publicField(this, \"sendToBack\", (shapes2) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      let others = this.shapes.filter((shape) => !shapesToMove.includes(shape));\n      this.shapes = shapesToMove.concat(others);\n      this.app.persist({ op: \"sendToBack\", shapes: shapesToMove, next: others[0] });\n      return this;\n    });\n    __publicField(this, \"flip\", (shapes2, direction) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      const commonBounds = BoundsUtils.getCommonBounds(shapesToMove.map((shape) => shape.bounds));\n      shapesToMove.forEach((shape) => {\n        var _a3;\n        const relativeBounds = BoundsUtils.getRelativeTransformedBoundingBox(\n          commonBounds,\n          commonBounds,\n          shape.bounds,\n          direction === \"horizontal\",\n          direction === \"vertical\"\n        );\n        if (shape.serialized) {\n          shape.onResize(shape.serialized, {\n            bounds: relativeBounds,\n            center: BoundsUtils.getBoundsCenter(relativeBounds),\n            rotation: (_a3 = shape.props.rotation) != null ? _a3 : 0 * -1,\n            type: \"top_left_corner\" \/* TopLeft *\/,\n            scale: shape.canFlip && shape.props.scale ? direction === \"horizontal\" ? [-shape.props.scale[0], 1] : [1, -shape.props.scale[1]] : [1, 1],\n            clip: false,\n            transformOrigin: [0.5, 0.5]\n          });\n        }\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"getShapeById\", (id3) => {\n      const shape = this.shapes.find((shape2) => shape2.id === id3);\n      return shape;\n    });\n    __publicField(this, \"cleanup\", (changedShapeIds) => {\n      const bindingsToUpdate = getRelatedBindings(this.bindings, changedShapeIds);\n      const visitedShapes = \/* @__PURE__ *\/ new Set();\n      let shapeChanged = false;\n      let bindingChanged = false;\n      const newBindings = deepCopy(this.bindings);\n      bindingsToUpdate.forEach((binding) => {\n        var _a3;\n        if (!this.bindings[binding.id]) {\n          return;\n        }\n        const toShape = this.getShapeById(binding.toId);\n        const fromShape = this.getShapeById(binding.fromId);\n        if (!(toShape && fromShape)) {\n          delete newBindings[binding.id];\n          bindingChanged = true;\n          return;\n        }\n        if (visitedShapes.has(fromShape.id)) {\n          return;\n        }\n        const fromDelta = this.updateArrowBindings(fromShape);\n        visitedShapes.add(fromShape.id);\n        if (fromDelta) {\n          const nextShape = __spreadValues(__spreadValues({}, fromShape.props), fromDelta);\n          shapeChanged = true;\n          (_a3 = this.getShapeById(nextShape.id)) == null ? void 0 : _a3.update(nextShape, false, (0, import_fast_deep_equal.default)(fromDelta == null ? void 0 : fromDelta.handles, fromShape == null ? void 0 : fromShape.props.handles));\n        }\n      });\n      Object.keys(newBindings).forEach((id3) => {\n        const binding = this.bindings[id3];\n        const relatedShapes = this.shapes.filter(\n          (shape) => shape.id === binding.fromId || shape.id === binding.toId\n        );\n        if (relatedShapes.length === 0) {\n          delete newBindings[id3];\n          bindingChanged = true;\n        }\n      });\n      if (bindingChanged) {\n        this.update({\n          bindings: newBindings\n        });\n      }\n    });\n    __publicField(this, \"updateArrowBindings\", (lineShape) => {\n      var _a3, _b, _c;\n      const result = {\n        start: deepCopy(lineShape.props.handles.start),\n        end: deepCopy(lineShape.props.handles.end)\n      };\n      let start = {\n        isBound: false,\n        handle: lineShape.props.handles.start,\n        point: src_default.add(lineShape.props.handles.start.point, lineShape.props.point)\n      };\n      let end = {\n        isBound: false,\n        handle: lineShape.props.handles.end,\n        point: src_default.add(lineShape.props.handles.end.point, lineShape.props.point)\n      };\n      if (lineShape.props.handles.start.bindingId) {\n        const hasDecoration = ((_a3 = lineShape.props.decorations) == null ? void 0 : _a3.start) !== void 0;\n        const handle = lineShape.props.handles.start;\n        const binding = this.bindings[lineShape.props.handles.start.bindingId];\n        const target = this.getShapeById(binding == null ? void 0 : binding.toId);\n        if (target) {\n          const bounds = target.getBounds();\n          const expandedBounds = target.getExpandedBounds();\n          const intersectBounds = BoundsUtils.expandBounds(\n            bounds,\n            hasDecoration ? binding.distance : 1\n          );\n          const { minX, minY, width, height } = expandedBounds;\n          const anchorPoint = src_default.add(\n            [minX, minY],\n            src_default.mulV(\n              [width, height],\n              src_default.rotWith(binding.point, [0.5, 0.5], target.props.rotation || 0)\n            )\n          );\n          start = {\n            isBound: true,\n            hasDecoration,\n            binding,\n            handle,\n            point: anchorPoint,\n            target,\n            bounds,\n            expandedBounds,\n            intersectBounds,\n            center: target.getCenter()\n          };\n        }\n      }\n      if (lineShape.props.handles.end.bindingId) {\n        const hasDecoration = ((_b = lineShape.props.decorations) == null ? void 0 : _b.end) !== void 0;\n        const handle = lineShape.props.handles.end;\n        const binding = this.bindings[lineShape.props.handles.end.bindingId];\n        const target = this.getShapeById(binding == null ? void 0 : binding.toId);\n        if (target) {\n          const bounds = target.getBounds();\n          const expandedBounds = target.getExpandedBounds();\n          const intersectBounds = hasDecoration ? BoundsUtils.expandBounds(bounds, binding.distance) : bounds;\n          const { minX, minY, width, height } = expandedBounds;\n          const anchorPoint = src_default.add(\n            [minX, minY],\n            src_default.mulV(\n              [width, height],\n              src_default.rotWith(binding.point, [0.5, 0.5], target.props.rotation || 0)\n            )\n          );\n          end = {\n            isBound: true,\n            hasDecoration,\n            binding,\n            handle,\n            point: anchorPoint,\n            target,\n            bounds,\n            expandedBounds,\n            intersectBounds,\n            center: target.getCenter()\n          };\n        }\n      }\n      for (const ID of [\"end\", \"start\"]) {\n        const A3 = ID === \"start\" ? start : end;\n        const B3 = ID === \"start\" ? end : start;\n        if (A3.isBound) {\n          if (!A3.binding.distance) {\n            result[ID].point = src_default.sub(A3.point, lineShape.props.point);\n          } else {\n            const direction = src_default.uni(src_default.sub(A3.point, B3.point));\n            switch (A3.target.type) {\n              default: {\n                const hits = intersectRayBounds(\n                  B3.point,\n                  direction,\n                  A3.intersectBounds,\n                  A3.target.props.rotation\n                ).filter((int) => int.didIntersect).map((int) => int.points[0]).sort((a3, b3) => src_default.dist(a3, B3.point) - src_default.dist(b3, B3.point));\n                if (!hits[0])\n                  continue;\n                let bHit = void 0;\n                if (B3.isBound) {\n                  const bHits = intersectRayBounds(\n                    B3.point,\n                    direction,\n                    B3.intersectBounds,\n                    B3.target.props.rotation\n                  ).filter((int) => int.didIntersect).map((int) => int.points[0]).sort((a3, b3) => src_default.dist(a3, B3.point) - src_default.dist(b3, B3.point));\n                  bHit = bHits[0];\n                }\n                if (B3.isBound && (hits.length < 2 || bHit && hits[0] && Math.ceil(src_default.dist(hits[0], bHit)) < BINDING_DISTANCE * 2.5 || BoundsUtils.boundsContain(A3.expandedBounds, B3.expandedBounds) || BoundsUtils.boundsCollide(A3.expandedBounds, B3.expandedBounds))) {\n                  const shortArrowDirection = src_default.uni(src_default.sub(B3.point, A3.point));\n                  const shortArrowHits = intersectRayBounds(\n                    A3.point,\n                    shortArrowDirection,\n                    A3.bounds,\n                    A3.target.props.rotation\n                  ).filter((int) => int.didIntersect).map((int) => int.points[0]);\n                  if (!shortArrowHits[0])\n                    continue;\n                  result[ID].point = src_default.toFixed(src_default.sub(shortArrowHits[0], lineShape.props.point));\n                  result[ID === \"start\" ? \"end\" : \"start\"].point = src_default.toFixed(\n                    src_default.add(\n                      src_default.sub(shortArrowHits[0], lineShape.props.point),\n                      src_default.mul(\n                        shortArrowDirection,\n                        Math.min(\n                          src_default.dist(shortArrowHits[0], B3.point),\n                          BINDING_DISTANCE * 2.5 * (BoundsUtils.boundsContain(B3.bounds, A3.intersectBounds) ? -1 : 1)\n                        )\n                      )\n                    )\n                  );\n                } else if (!B3.isBound && (hits[0] && src_default.dist(hits[0], B3.point) < BINDING_DISTANCE * 2.5 || PointUtils.pointInBounds(B3.point, A3.intersectBounds))) {\n                  const shortArrowDirection = src_default.uni(src_default.sub(A3.center, B3.point));\n                  return (_c = lineShape.getHandlesChange) == null ? void 0 : _c.call(lineShape, lineShape.props, {\n                    [ID]: __spreadProps(__spreadValues({}, lineShape.props.handles[ID]), {\n                      point: src_default.toFixed(\n                        src_default.add(\n                          src_default.sub(B3.point, lineShape.props.point),\n                          src_default.mul(shortArrowDirection, BINDING_DISTANCE * 2.5)\n                        )\n                      )\n                    })\n                  });\n                } else if (hits[0]) {\n                  result[ID].point = src_default.toFixed(src_default.sub(hits[0], lineShape.props.point));\n                }\n              }\n            }\n          }\n        }\n      }\n      return lineShape.getHandlesChange(lineShape.props, result);\n    });\n    const { id: id3, name, shapes: shapes2 = [], bindings = {}, nonce } = props;\n    this.id = id3;\n    this.name = name;\n    this.bindings = Object.assign({}, bindings);\n    this.app = app;\n    this.nonce = nonce || 0;\n    this.persistInfo = null;\n    this.addShapes(...shapes2);\n    makeObservable(this);\n    autorun(() => {\n      const newShapesNouncesMap = this.shapes.length > 0 ? Object.fromEntries(this.shapes.map((shape) => [shape.id, shape.nonce])) : null;\n      if (this.lastShapesNounces && newShapesNouncesMap) {\n        const lastShapesNounces = this.lastShapesNounces;\n        const allIds = \/* @__PURE__ *\/ new Set([\n          ...Object.keys(newShapesNouncesMap),\n          ...Object.keys(lastShapesNounces)\n        ]);\n        const changedShapeIds = [...allIds].filter((s2) => {\n          return lastShapesNounces[s2] !== newShapesNouncesMap[s2];\n        });\n        requestAnimationFrame(() => {\n          this.cleanup(changedShapeIds);\n        });\n      }\n      if (newShapesNouncesMap) {\n        this.lastShapesNounces = newShapesNouncesMap;\n      }\n    });\n  }\n  get serialized() {\n    return {\n      id: this.id,\n      name: this.name,\n      shapes: this.shapes.map((shape) => shape.serialized).filter((s2) => !!s2).map((s2) => toJS(s2)),\n      bindings: deepCopy(this.bindings),\n      nonce: this.nonce\n    };\n  }\n  get shapesById() {\n    return Object.fromEntries(this.shapes.map((shape) => [shape.id, shape]));\n  }\n  update(props) {\n    Object.assign(this, props);\n    return this;\n  }\n  updateBindings(bindings) {\n    Object.assign(this.bindings, bindings);\n    return this;\n  }\n  updateShapesIndex(shapesIndex) {\n    this.shapes.sort((a3, b3) => shapesIndex.indexOf(a3.id) - shapesIndex.indexOf(b3.id));\n    return this;\n  }\n  addShapes(...shapes2) {\n    if (shapes2.length === 0)\n      return;\n    const shapeInstances = \"getBounds\" in shapes2[0] ? shapes2 : shapes2.map((shape) => {\n      const ShapeClass = this.app.getShapeClass(shape.type);\n      return new ShapeClass(shape);\n    });\n    this.shapes.push(...shapeInstances);\n    return shapeInstances;\n  }\n  parseShapesArg(shapes2) {\n    if (typeof shapes2[0] === \"string\") {\n      return this.shapes.filter((shape) => shapes2.includes(shape.id));\n    }\n    return shapes2;\n  }\n  removeShapes(...shapes2) {\n    const shapeInstances = this.parseShapesArg(shapes2);\n    this.shapes = this.shapes.filter((shape) => !shapeInstances.includes(shape));\n    return shapeInstances;\n  }\n  getBindableShapes() {\n    return this.shapes.filter((shape) => shape.canBind).sort((a3, b3) => b3.nonce - a3.nonce).map((s2) => s2.id);\n  }\n};\n__decorateClass([\n  observable\n], TLPage.prototype, \"id\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"name\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"shapes\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"bindings\", 2);\n__decorateClass([\n  computed\n], TLPage.prototype, \"serialized\", 1);\n__decorateClass([\n  computed\n], TLPage.prototype, \"shapesById\", 1);\n__decorateClass([\n  observable\n], TLPage.prototype, \"nonce\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"update\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"updateBindings\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"updateShapesIndex\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"addShapes\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"removeShapes\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"bringForward\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"sendBackward\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"bringToFront\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"sendToBack\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"cleanup\", 2);\nfunction getRelatedBindings(bindings, ids) {\n  const changedShapeIds = new Set(ids);\n  const bindingsArr = Object.values(bindings);\n  const bindingsToUpdate = new Set(\n    bindingsArr.filter(\n      (binding) => changedShapeIds.has(binding.toId) || changedShapeIds.has(binding.fromId)\n    )\n  );\n  let prevSize = bindingsToUpdate.size;\n  let delta = -1;\n  while (delta !== 0) {\n    bindingsToUpdate.forEach((binding) => {\n      const fromId = binding.fromId;\n      for (const otherBinding of bindingsArr) {\n        if (otherBinding.fromId === fromId) {\n          bindingsToUpdate.add(otherBinding);\n        }\n        if (otherBinding.toId === fromId) {\n          bindingsToUpdate.add(otherBinding);\n        }\n      }\n    });\n    delta = bindingsToUpdate.size - prevSize;\n    prevSize = bindingsToUpdate.size;\n  }\n  return Array.from(bindingsToUpdate.values());\n}\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLInputs.ts\nvar TLInputs = class {\n  constructor() {\n    __publicField(this, \"shiftKey\", false);\n    __publicField(this, \"ctrlKey\", false);\n    __publicField(this, \"modKey\", false);\n    __publicField(this, \"altKey\", false);\n    __publicField(this, \"spaceKey\", false);\n    __publicField(this, \"isPinching\", false);\n    __publicField(this, \"currentScreenPoint\", [0, 0]);\n    __publicField(this, \"currentPoint\", [0, 0]);\n    __publicField(this, \"previousScreenPoint\", [0, 0]);\n    __publicField(this, \"previousPoint\", [0, 0]);\n    __publicField(this, \"originScreenPoint\", [0, 0]);\n    __publicField(this, \"originPoint\", [0, 0]);\n    __publicField(this, \"pointerIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"state\", \"idle\");\n    __publicField(this, \"containerOffset\", [0, 0]);\n    __publicField(this, \"onPointerDown\", (pagePoint, event) => {\n      this.pointerIds.add(event.pointerId);\n      this.updateModifiers(event);\n      this.originScreenPoint = this.currentScreenPoint;\n      this.originPoint = pagePoint;\n      this.state = \"pointing\";\n    });\n    __publicField(this, \"onPointerMove\", (pagePoint, event) => {\n      if (this.state === \"pinching\")\n        return;\n      if (this.state === \"panning\") {\n        this.state = \"idle\";\n      }\n      this.updateModifiers(event);\n      this.previousPoint = this.currentPoint;\n      this.currentPoint = pagePoint;\n    });\n    __publicField(this, \"onPointerUp\", (pagePoint, event) => {\n      this.pointerIds.clear();\n      this.updateModifiers(event);\n      this.state = \"idle\";\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      this.updateModifiers(event);\n      switch (event.key) {\n        case \" \": {\n          this.spaceKey = true;\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyUp\", (event) => {\n      this.updateModifiers(event);\n      switch (event.key) {\n        case \" \": {\n          this.spaceKey = false;\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (pagePoint, event) => {\n      this.updateModifiers(event);\n      this.state = \"pinching\";\n    });\n    __publicField(this, \"onPinch\", (pagePoint, event) => {\n      if (this.state !== \"pinching\")\n        return;\n      this.updateModifiers(event);\n    });\n    __publicField(this, \"onPinchEnd\", (pagePoint, event) => {\n      if (this.state !== \"pinching\")\n        return;\n      this.updateModifiers(event);\n      this.state = \"idle\";\n    });\n    makeObservable(this);\n  }\n  updateContainerOffset(containerOffset) {\n    Object.assign(this.containerOffset, containerOffset);\n  }\n  updateModifiers(event) {\n    if (!event.isPrimary) {\n      return;\n    }\n    if (\"clientX\" in event) {\n      this.previousScreenPoint = this.currentScreenPoint;\n      this.currentScreenPoint = src_default.sub([event.clientX, event.clientY], this.containerOffset);\n    }\n    if (\"shiftKey\" in event) {\n      this.shiftKey = event.shiftKey;\n      this.ctrlKey = event.ctrlKey;\n      this.altKey = event.altKey;\n      this.modKey = modKey(event);\n    }\n  }\n};\n__decorateClass([\n  observable\n], TLInputs.prototype, \"shiftKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"ctrlKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"modKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"altKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"spaceKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"isPinching\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"currentScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"currentPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"previousScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"previousPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"originScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"originPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"state\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"containerOffset\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"updateContainerOffset\", 1);\n__decorateClass([\n  action\n], TLInputs.prototype, \"updateModifiers\", 1);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerDown\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerMove\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerUp\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onKeyDown\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onKeyUp\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinchStart\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinch\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinchEnd\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLViewport.ts\nvar ease = (x2) => {\n  return -(Math.cos(Math.PI * x2) - 1) \/ 2;\n};\nvar elapsedProgress = (t, duration = 100) => {\n  return ease(Vec.clamp(t \/ duration, 0, 1));\n};\nvar _TLViewport = class {\n  constructor() {\n    __publicField(this, \"bounds\", {\n      minX: 0,\n      minY: 0,\n      maxX: 1080,\n      maxY: 720,\n      width: 1080,\n      height: 720\n    });\n    __publicField(this, \"camera\", {\n      point: [0, 0],\n      zoom: 1\n    });\n    __publicField(this, \"updateBounds\", (bounds) => {\n      this.bounds = bounds;\n      return this;\n    });\n    __publicField(this, \"panCamera\", (delta) => {\n      return this.update({\n        point: Vec.sub(this.camera.point, Vec.div(delta, this.camera.zoom))\n      });\n    });\n    __publicField(this, \"panToPointWhenNearBounds\", (point) => {\n      const threshold = Vec.div([_TLViewport.panThreshold, _TLViewport.panThreshold], this.camera.zoom);\n      const deltaMax = Vec.sub([this.currentView.maxX, this.currentView.maxY], Vec.add(point, threshold));\n      const deltaMin = Vec.sub([this.currentView.minX, this.currentView.minY], Vec.sub(point, threshold));\n      const deltaX = deltaMax[0] < 0 ? deltaMax[0] : deltaMin[0] > 0 ? deltaMin[0] : 0;\n      const deltaY = deltaMax[1] < 0 ? deltaMax[1] : deltaMin[1] > 0 ? deltaMin[1] : 0;\n      this.panCamera(Vec.mul([deltaX, deltaY], -_TLViewport.panMultiplier * this.camera.zoom));\n    });\n    __publicField(this, \"update\", ({ point, zoom }) => {\n      if (point !== void 0 && !isNaN(point[0]) && !isNaN(point[1]))\n        this.camera.point = point;\n      if (zoom !== void 0 && !isNaN(zoom))\n        this.camera.zoom = Math.min(4, Math.max(0.1, zoom));\n      return this;\n    });\n    __publicField(this, \"getPagePoint\", (point) => {\n      const { camera, bounds } = this;\n      return Vec.sub(Vec.div(Vec.sub(point, [bounds.minX, bounds.minY]), camera.zoom), camera.point);\n    });\n    __publicField(this, \"getScreenPoint\", (point) => {\n      const { camera } = this;\n      return Vec.mul(Vec.add(point, camera.point), camera.zoom);\n    });\n    __publicField(this, \"onZoom\", (point, zoom, animate = false) => {\n      return this.pinchZoom(point, [0, 0], zoom, animate);\n    });\n    __publicField(this, \"pinchZoom\", (point, delta, zoom, animate = false) => {\n      const { camera } = this;\n      const nextPoint = Vec.sub(camera.point, Vec.div(delta, camera.zoom));\n      zoom = Vec.clamp(zoom, _TLViewport.minZoom, _TLViewport.maxZoom);\n      const p0 = Vec.div(point, camera.zoom);\n      const p1 = Vec.div(point, zoom);\n      const newPoint = Vec.toFixed(Vec.add(nextPoint, Vec.sub(p1, p0)));\n      if (animate) {\n        this.animateCamera({ point: newPoint, zoom });\n      } else {\n        this.update({ point: newPoint, zoom });\n      }\n      return this;\n    });\n    __publicField(this, \"setZoom\", (zoom, animate = false) => {\n      const { bounds } = this;\n      const center = [bounds.width \/ 2, bounds.height \/ 2];\n      this.onZoom(center, zoom, animate);\n    });\n    __publicField(this, \"zoomIn\", () => {\n      const { camera } = this;\n      this.setZoom(camera.zoom \/ ZOOM_UPDATE_FACTOR, true);\n    });\n    __publicField(this, \"zoomOut\", () => {\n      const { camera } = this;\n      this.setZoom(camera.zoom * ZOOM_UPDATE_FACTOR, true);\n    });\n    __publicField(this, \"resetZoom\", () => {\n      this.setZoom(1, true);\n      return this;\n    });\n    __publicField(this, \"animateCamera\", ({ point, zoom }) => {\n      return this.animateToViewport({\n        minX: -point[0],\n        minY: -point[1],\n        maxX: this.bounds.width \/ zoom - point[0],\n        maxY: this.bounds.height \/ zoom - point[1],\n        width: this.bounds.width \/ zoom,\n        height: this.bounds.height \/ zoom\n      });\n    });\n    __publicField(this, \"animateToViewport\", (view) => {\n      const startTime = performance.now();\n      const oldView = __spreadValues({}, this.currentView);\n      const step = () => {\n        const elapsed = performance.now() - startTime;\n        const progress = elapsedProgress(elapsed);\n        const next = {\n          minX: oldView.minX + (view.minX - oldView.minX) * progress,\n          minY: oldView.minY + (view.minY - oldView.minY) * progress,\n          maxX: oldView.maxX + (view.maxX - oldView.maxX) * progress,\n          maxY: oldView.maxY + (view.maxY - oldView.maxY) * progress\n        };\n        const point = [-next.minX, -next.minY];\n        const zoom = this.bounds.width \/ (next.maxX - next.minX);\n        this.update({ point, zoom });\n        if (progress < 1) {\n          requestAnimationFrame(step);\n        }\n      };\n      step();\n    });\n    __publicField(this, \"zoomToBounds\", ({ width, height, minX, minY }) => {\n      const { bounds, camera } = this;\n      let zoom = Math.min(\n        (bounds.width - FIT_TO_SCREEN_PADDING) \/ width,\n        (bounds.height - FIT_TO_SCREEN_PADDING) \/ height\n      );\n      zoom = Math.min(\n        1,\n        Math.max(\n          _TLViewport.minZoom,\n          camera.zoom === zoom || camera.zoom < 1 ? Math.min(1, zoom) : zoom\n        )\n      );\n      const delta = [\n        (bounds.width - width * zoom) \/ 2 \/ zoom,\n        (bounds.height - height * zoom) \/ 2 \/ zoom\n      ];\n      const point = Vec.add([-minX, -minY], delta);\n      this.animateCamera({ point, zoom });\n    });\n    makeObservable(this);\n  }\n  get currentView() {\n    const {\n      bounds,\n      camera: { point, zoom }\n    } = this;\n    const w2 = bounds.width \/ zoom;\n    const h2 = bounds.height \/ zoom;\n    return {\n      minX: -point[0],\n      minY: -point[1],\n      maxX: w2 - point[0],\n      maxY: h2 - point[1],\n      width: w2,\n      height: h2\n    };\n  }\n};\nvar TLViewport = _TLViewport;\n__publicField(TLViewport, \"minZoom\", 0.1);\n__publicField(TLViewport, \"maxZoom\", 4);\n__publicField(TLViewport, \"panMultiplier\", 0.05);\n__publicField(TLViewport, \"panThreshold\", 100);\n__decorateClass([\n  observable\n], TLViewport.prototype, \"bounds\", 2);\n__decorateClass([\n  observable\n], TLViewport.prototype, \"camera\", 2);\n__decorateClass([\n  action\n], TLViewport.prototype, \"updateBounds\", 2);\n__decorateClass([\n  action\n], TLViewport.prototype, \"update\", 2);\n__decorateClass([\n  computed\n], TLViewport.prototype, \"currentView\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLApi\/TLApi.ts\nvar TLApi = class {\n  constructor(app) {\n    __publicField(this, \"app\");\n    __publicField(this, \"editShape\", (shape) => {\n      if (!(shape == null ? void 0 : shape.props.isLocked))\n        this.app.transition(\"select\").selectedTool.transition(\"editingShape\", { shape });\n      return this;\n    });\n    __publicField(this, \"hoverShape\", (shape) => {\n      this.app.setHoveredShape(shape);\n      return this;\n    });\n    __publicField(this, \"createShapes\", (...shapes2) => {\n      this.app.createShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"updateShapes\", (...shapes2) => {\n      this.app.updateShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"deleteShapes\", (...shapes2) => {\n      this.app.deleteShapes(shapes2.length ? shapes2 : this.app.selectedShapesArray);\n      return this;\n    });\n    __publicField(this, \"selectShapes\", (...shapes2) => {\n      this.app.setSelectedShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"deselectShapes\", (...shapes2) => {\n      const ids = typeof shapes2[0] === \"string\" ? shapes2 : shapes2.map((shape) => shape.id);\n      this.app.setSelectedShapes(\n        this.app.selectedShapesArray.filter((shape) => !ids.includes(shape.id))\n      );\n      return this;\n    });\n    __publicField(this, \"flipHorizontal\", (...shapes2) => {\n      this.app.flipHorizontal(shapes2);\n      return this;\n    });\n    __publicField(this, \"flipVertical\", (...shapes2) => {\n      this.app.flipVertical(shapes2);\n      return this;\n    });\n    __publicField(this, \"selectAll\", () => {\n      this.app.setSelectedShapes(\n        this.app.currentPage.shapes.filter((s2) => !this.app.shapesInGroups().includes(s2))\n      );\n      return this;\n    });\n    __publicField(this, \"deselectAll\", () => {\n      this.app.setSelectedShapes([]);\n      return this;\n    });\n    __publicField(this, \"zoomIn\", () => {\n      this.app.viewport.zoomIn();\n      return this;\n    });\n    __publicField(this, \"zoomOut\", () => {\n      this.app.viewport.zoomOut();\n      return this;\n    });\n    __publicField(this, \"resetZoom\", () => {\n      this.app.viewport.resetZoom();\n      return this;\n    });\n    __publicField(this, \"zoomToFit\", () => {\n      const { shapes: shapes2 } = this.app.currentPage;\n      if (shapes2.length === 0)\n        return this;\n      const commonBounds = BoundsUtils.getCommonBounds(shapes2.map((shape) => shape.bounds));\n      this.app.viewport.zoomToBounds(commonBounds);\n      return this;\n    });\n    __publicField(this, \"cameraToCenter\", () => {\n      const { shapes: shapes2 } = this.app.currentPage;\n      if (shapes2.length === 0)\n        return this;\n      const commonBounds = BoundsUtils.getCommonBounds(shapes2.map((shape) => shape.bounds));\n      this.app.viewport.update({\n        point: src_default.add(src_default.neg(BoundsUtils.getBoundsCenter(commonBounds)), [\n          this.app.viewport.currentView.width \/ 2,\n          this.app.viewport.currentView.height \/ 2\n        ])\n      });\n      return this;\n    });\n    __publicField(this, \"zoomToSelection\", () => {\n      const { selectionBounds } = this.app;\n      if (!selectionBounds)\n        return this;\n      this.app.viewport.zoomToBounds(selectionBounds);\n      return this;\n    });\n    __publicField(this, \"resetZoomToCursor\", () => {\n      const viewport = this.app.viewport;\n      viewport.animateCamera({\n        zoom: 1,\n        point: src_default.sub(this.app.inputs.originScreenPoint, this.app.inputs.originPoint)\n      });\n      return this;\n    });\n    __publicField(this, \"toggleGrid\", () => {\n      const { settings } = this.app;\n      settings.update({ showGrid: !settings.showGrid });\n      return this;\n    });\n    __publicField(this, \"toggleSnapToGrid\", () => {\n      const { settings } = this.app;\n      settings.update({ snapToGrid: !settings.snapToGrid });\n      return this;\n    });\n    __publicField(this, \"togglePenMode\", () => {\n      const { settings } = this.app;\n      settings.update({ penMode: !settings.penMode });\n      return this;\n    });\n    __publicField(this, \"setColor\", (color) => {\n      const { settings } = this.app;\n      settings.update({ color });\n      this.app.selectedShapesArray.forEach((s2) => {\n        if (!s2.props.isLocked)\n          s2.update({ fill: color, stroke: color });\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"setScaleLevel\", (scaleLevel) => {\n      const { settings } = this.app;\n      settings.update({ scaleLevel });\n      this.app.selectedShapes.forEach((shape) => {\n        if (!shape.props.isLocked)\n          shape.setScaleLevel(scaleLevel);\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"undo\", () => {\n      this.app.undo();\n      return this;\n    });\n    __publicField(this, \"redo\", () => {\n      this.app.redo();\n      return this;\n    });\n    __publicField(this, \"persist\", () => {\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"createNewLineBinding\", (source, target) => {\n      return this.app.createNewLineBinding(source, target);\n    });\n    __publicField(this, \"clone\", (direction) => {\n      if (this.app.readOnly || this.app.selectedShapesArray.length !== 1 || !Object.values(Geometry).some((geometry) => geometry === this.app.selectedShapesArray[0].type))\n        return;\n      const shape = this.app.allSelectedShapesArray[0];\n      const ShapeClass = this.app.getShapeClass(shape.type);\n      const { minX, minY, maxX, maxY, width, height } = shape.bounds;\n      const spacing = 100;\n      let point = [0, 0];\n      switch (direction) {\n        case \"down\" \/* Down *\/: {\n          point = [minX, maxY + spacing];\n          break;\n        }\n        case \"up\" \/* Up *\/: {\n          point = [minX, minY - spacing - height];\n          break;\n        }\n        case \"left\" \/* Left *\/: {\n          point = [minX - spacing - width, minY];\n          break;\n        }\n        case \"right\" \/* Right *\/: {\n          point = [maxX + spacing, minY];\n          break;\n        }\n      }\n      const clone = new ShapeClass(__spreadProps(__spreadValues({}, shape.serialized), {\n        id: uniqueId(),\n        nonce: Date.now(),\n        refs: [],\n        label: \"\",\n        point\n      }));\n      this.app.history.pause();\n      this.app.currentPage.addShapes(clone);\n      this.app.createNewLineBinding(shape, clone);\n      this.app.history.resume();\n      this.app.persist();\n      setTimeout(() => this.editShape(clone));\n    });\n    __publicField(this, \"cloneShapes\", ({\n      shapes: shapes2,\n      assets,\n      bindings,\n      point = [0, 0]\n    }) => {\n      const commonBounds = BoundsUtils.getCommonBounds(\n        shapes2.filter((s2) => s2.type !== \"group\").map((shape) => {\n          var _a3, _b, _c, _d, _e2, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n          return {\n            minX: (_b = (_a3 = shape.point) == null ? void 0 : _a3[0]) != null ? _b : point[0],\n            minY: (_d = (_c = shape.point) == null ? void 0 : _c[1]) != null ? _d : point[1],\n            width: (_f = (_e2 = shape.size) == null ? void 0 : _e2[0]) != null ? _f : 4,\n            height: (_h = (_g = shape.size) == null ? void 0 : _g[1]) != null ? _h : 4,\n            maxX: ((_j = (_i = shape.point) == null ? void 0 : _i[0]) != null ? _j : point[0]) + ((_l = (_k = shape.size) == null ? void 0 : _k[0]) != null ? _l : 4),\n            maxY: ((_n = (_m = shape.point) == null ? void 0 : _m[1]) != null ? _n : point[1]) + ((_p = (_o = shape.size) == null ? void 0 : _o[1]) != null ? _p : 4)\n          };\n        })\n      );\n      const clonedShapes = shapes2.map((shape) => {\n        return __spreadProps(__spreadValues({}, shape), {\n          id: uniqueId(),\n          point: [\n            point[0] + shape.point[0] - commonBounds.minX,\n            point[1] + shape.point[1] - commonBounds.minY\n          ]\n        });\n      });\n      clonedShapes.forEach((s2) => {\n        var _a3;\n        if (s2.children && ((_a3 = s2.children) == null ? void 0 : _a3.length) > 0) {\n          s2.children = s2.children.map((oldId) => {\n            var _a4;\n            return (_a4 = clonedShapes[shapes2.findIndex((s3) => s3.id === oldId)]) == null ? void 0 : _a4.id;\n          }).filter(isNonNullable);\n        }\n      });\n      const clonedBindings = [];\n      clonedShapes.flatMap((s2) => {\n        var _a3;\n        return Object.values((_a3 = s2.handles) != null ? _a3 : {});\n      }).forEach((handle) => {\n        if (!handle.bindingId) {\n          return;\n        }\n        const binding = bindings[handle.bindingId];\n        if (binding) {\n          const oldFromIdx = shapes2.findIndex((s2) => s2.id === binding.fromId);\n          const oldToIdx = shapes2.findIndex((s2) => s2.id === binding.toId);\n          if (binding && oldFromIdx !== -1 && oldToIdx !== -1) {\n            const newBinding = __spreadProps(__spreadValues({}, binding), {\n              id: uniqueId(),\n              fromId: clonedShapes[oldFromIdx].id,\n              toId: clonedShapes[oldToIdx].id\n            });\n            clonedBindings.push(newBinding);\n            handle.bindingId = newBinding.id;\n          } else {\n            handle.bindingId = void 0;\n          }\n        } else {\n          console.warn(\"binding not found\", handle.bindingId);\n        }\n      });\n      const clonedAssets = assets.filter((asset) => {\n        return clonedShapes.some((shape) => shape.assetId === asset.id);\n      });\n      return {\n        shapes: clonedShapes,\n        assets: clonedAssets,\n        bindings: clonedBindings\n      };\n    });\n    __publicField(this, \"getClonedShapesFromTldrString\", (text, point) => {\n      const safeParseJson = (json) => {\n        try {\n          return JSON.parse(json);\n        } catch (e) {\n          return null;\n        }\n      };\n      const getWhiteboardsTldrFromText = (text2) => {\n        var _a3;\n        const innerText = (_a3 = text2.match(\/<whiteboard-tldr>(.*)<\\\/whiteboard-tldr>\/)) == null ? void 0 : _a3[1];\n        if (innerText) {\n          return safeParseJson(innerText);\n        }\n      };\n      try {\n        const data = getWhiteboardsTldrFromText(text);\n        if (!data)\n          return null;\n        const { shapes: shapes2, bindings, assets } = data;\n        return this.cloneShapes({\n          shapes: shapes2,\n          bindings,\n          assets,\n          point\n        });\n      } catch (err) {\n        console.log(err);\n      }\n      return null;\n    });\n    __publicField(this, \"cloneShapesIntoCurrentPage\", (opts) => {\n      const data = this.cloneShapes(opts);\n      if (data) {\n        this.addClonedShapes(data);\n      }\n      return this;\n    });\n    __publicField(this, \"addClonedShapes\", (opts) => {\n      const { shapes: shapes2, assets, bindings } = opts;\n      if (assets.length > 0) {\n        this.app.createAssets(assets);\n      }\n      if (shapes2.length > 0) {\n        this.app.createShapes(shapes2);\n      }\n      this.app.currentPage.updateBindings(Object.fromEntries(bindings.map((b3) => [b3.id, b3])));\n      this.app.selectedTool.transition(\"idle\");\n      return this;\n    });\n    __publicField(this, \"addClonedShapesFromTldrString\", (text, point) => {\n      const data = this.getClonedShapesFromTldrString(text, point);\n      if (data) {\n        this.addClonedShapes(data);\n      }\n      return this;\n    });\n    __publicField(this, \"doGroup\", (shapes2 = this.app.allSelectedShapesArray) => {\n      if (this.app.readOnly)\n        return;\n      this.app.history.pause();\n      const selectedGroups = [\n        ...shapes2.filter((s2) => s2.type === \"group\"),\n        ...shapes2.map((s2) => this.app.getParentGroup(s2))\n      ].filter(isNonNullable);\n      this.app.currentPage.removeShapes(...selectedGroups);\n      let selectedShapes = shapes2.filter((s2) => s2.type !== \"group\");\n      if (selectedShapes.length > 1) {\n        const ShapeGroup = this.app.getShapeClass(\"group\");\n        const group = new ShapeGroup({\n          id: uniqueId(),\n          type: ShapeGroup.id,\n          parentId: this.app.currentPage.id,\n          children: selectedShapes.map((s2) => s2.id)\n        });\n        this.app.currentPage.addShapes(group);\n        this.app.setSelectedShapes([group]);\n        selectedShapes.push(group);\n        this.app.bringForward(selectedShapes);\n      }\n      this.app.history.resume();\n      this.app.persist(this.app.currentPage.persistInfo);\n    });\n    __publicField(this, \"unGroup\", (shapes2 = this.app.allSelectedShapesArray) => {\n      if (this.app.readOnly)\n        return;\n      const selectedGroups = [\n        ...shapes2.filter((s2) => s2.type === \"group\"),\n        ...shapes2.map((s2) => this.app.getParentGroup(s2))\n      ].filter(isNonNullable);\n      const shapesInGroups = this.app.shapesInGroups(selectedGroups);\n      if (selectedGroups.length > 0) {\n        this.app.currentPage.removeShapes(...selectedGroups);\n        this.app.persist();\n        this.app.setSelectedShapes(shapesInGroups);\n      }\n    });\n    __publicField(this, \"convertShapes\", (type, shapes2 = this.app.allSelectedShapesArray) => {\n      const ShapeClass = this.app.getShapeClass(type);\n      this.app.currentPage.removeShapes(...shapes2);\n      const clones = shapes2.map((s2) => {\n        return new ShapeClass(__spreadProps(__spreadValues({}, s2.serialized), {\n          type,\n          nonce: Date.now()\n        }));\n      });\n      this.app.currentPage.addShapes(...clones);\n      this.app.persist();\n      this.app.setSelectedShapes(clones);\n    });\n    __publicField(this, \"setCollapsed\", (collapsed, shapes2 = this.app.allSelectedShapesArray) => {\n      shapes2.forEach((shape) => {\n        if (shape.props.type === \"logseq-portal\")\n          shape.setCollapsed(collapsed);\n      });\n      this.app.persist();\n    });\n    this.app = app;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLCursors.ts\nvar TLCursors = class {\n  constructor() {\n    __publicField(this, \"cursor\", \"default\" \/* Default *\/);\n    __publicField(this, \"rotation\", 0);\n    __publicField(this, \"reset\", () => {\n      this.cursor = \"default\" \/* Default *\/;\n    });\n    __publicField(this, \"setCursor\", (cursor, rotation = 0) => {\n      if (cursor === this.cursor && rotation === this.rotation)\n        return;\n      this.cursor = cursor;\n      this.rotation = rotation;\n    });\n    __publicField(this, \"setRotation\", (rotation) => {\n      if (rotation === this.rotation)\n        return;\n      this.rotation = rotation;\n    });\n    makeObservable(this);\n  }\n};\n__decorateClass([\n  observable\n], TLCursors.prototype, \"cursor\", 2);\n__decorateClass([\n  observable\n], TLCursors.prototype, \"rotation\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"reset\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"setCursor\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"setRotation\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLHistory.ts\nvar TLHistory = class {\n  constructor(app) {\n    __publicField(this, \"app\");\n    __publicField(this, \"stack\", []);\n    __publicField(this, \"isPaused\", true);\n    __publicField(this, \"pause\", () => {\n      if (this.isPaused)\n        return;\n      this.isPaused = true;\n    });\n    __publicField(this, \"resume\", () => {\n      if (!this.isPaused)\n        return;\n      this.isPaused = false;\n    });\n    __publicField(this, \"persist\", (info) => {\n      if (this.isPaused || this.creating)\n        return;\n      this.app.notify(\"persist\", info);\n    });\n    __publicField(this, \"undo\", () => {\n      if (this.isPaused)\n        return;\n      if (this.app.selectedTool.currentState.id !== \"idle\")\n        return;\n      if (this.app.appUndo) {\n        this.app.appUndo();\n      }\n    });\n    __publicField(this, \"redo\", () => {\n      if (this.isPaused)\n        return;\n      if (this.app.selectedTool.currentState.id !== \"idle\")\n        return;\n      if (this.app.appRedo) {\n        this.app.appRedo();\n      }\n    });\n    __publicField(this, \"instantiateShape\", (serializedShape) => {\n      const ShapeClass = this.app.getShapeClass(serializedShape.type);\n      return new ShapeClass(serializedShape);\n    });\n    __publicField(this, \"deserialize\", (snapshot) => {\n      transaction(() => {\n        var _a3;\n        const { pages } = snapshot;\n        const wasPaused = this.isPaused;\n        this.pause();\n        const newSelectedIds = [...this.app.selectedIds];\n        try {\n          const pagesMap = new Map(this.app.pages);\n          const pagesToAdd = [];\n          for (const serializedPage of pages) {\n            const page = pagesMap.get(serializedPage.id);\n            if (page !== void 0) {\n              const shapesMap = new Map(page.shapes.map((shape) => [shape.props.id, shape]));\n              const shapesToAdd = [];\n              for (const serializedShape of serializedPage.shapes) {\n                const shape = shapesMap.get(serializedShape.id);\n                if (shape !== void 0) {\n                  if (shape.nonce !== serializedShape.nonce) {\n                    shape.update(serializedShape, true);\n                    shape.nonce = serializedShape.nonce;\n                    shape.setLastSerialized(serializedShape);\n                  }\n                  shapesMap.delete(serializedShape.id);\n                } else {\n                  shapesToAdd.push(this.instantiateShape(serializedShape));\n                }\n              }\n              if (shapesMap.size > 0 && !this.app.selectedTool.isInAny(\"creating\", \"editingShape\")) {\n                page.removeShapes(...shapesMap.values());\n              }\n              if (shapesToAdd.length > 0)\n                page.addShapes(...shapesToAdd);\n              pagesMap.delete(serializedPage.id);\n              page.updateBindings(serializedPage.bindings);\n              page.nonce = (_a3 = serializedPage.nonce) != null ? _a3 : 0;\n            } else {\n              const { id: id3, name, shapes: shapes2, bindings, nonce } = serializedPage;\n              pagesToAdd.push(\n                new TLPage(this.app, {\n                  id: id3,\n                  name,\n                  nonce,\n                  bindings,\n                  shapes: shapes2.map((serializedShape) => {\n                    return this.instantiateShape(serializedShape);\n                  })\n                })\n              );\n            }\n          }\n          if (pagesToAdd.length > 0)\n            this.app.addPages(pagesToAdd);\n          if (pagesMap.size > 0)\n            this.app.removePages(Array.from(pagesMap.values()));\n          this.app.setSelectedShapes(newSelectedIds).setErasingShapes([]);\n        } catch (e) {\n          console.warn(e);\n        }\n        if (!wasPaused)\n          this.resume();\n      });\n    });\n    this.app = app;\n    makeObservable(this);\n  }\n  get creating() {\n    return this.app.selectedTool.currentState.id === \"creating\";\n  }\n};\n__decorateClass([\n  observable\n], TLHistory.prototype, \"stack\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"persist\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"undo\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"redo\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"deserialize\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLSettings.ts\nvar TLSettings = class {\n  constructor() {\n    __publicField(this, \"mode\", \"light\");\n    __publicField(this, \"showGrid\", true);\n    __publicField(this, \"snapToGrid\", false);\n    __publicField(this, \"penMode\", false);\n    __publicField(this, \"scaleLevel\", \"md\");\n    __publicField(this, \"color\", \"\");\n    makeObservable(this);\n  }\n  update(props) {\n    Object.assign(this, props);\n  }\n};\n__decorateClass([\n  observable\n], TLSettings.prototype, \"mode\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"showGrid\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"snapToGrid\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"penMode\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"scaleLevel\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"color\", 2);\n__decorateClass([\n  action\n], TLSettings.prototype, \"update\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLApp\/TLApp.ts\nvar TLApp = class extends TLRootState {\n  constructor(serializedApp, Shapes, Tools, readOnly) {\n    var _a3, _b;\n    super();\n    __publicField(this, \"uuid\", uniqueId());\n    __publicField(this, \"readOnly\");\n    __publicField(this, \"api\");\n    __publicField(this, \"inputs\", new TLInputs());\n    __publicField(this, \"cursors\", new TLCursors());\n    __publicField(this, \"viewport\", new TLViewport());\n    __publicField(this, \"settings\", new TLSettings());\n    __publicField(this, \"Tools\", []);\n    __publicField(this, \"history\", new TLHistory(this));\n    __publicField(this, \"persist\", this.history.persist);\n    __publicField(this, \"undo\", this.history.undo);\n    __publicField(this, \"redo\", this.history.redo);\n    __publicField(this, \"saving\", false);\n    __publicField(this, \"saveState\", () => {\n      if (this.history.isPaused)\n        return;\n      this.saving = true;\n      requestAnimationFrame(() => {\n        if (this.saving) {\n          this.persist();\n          this.saving = false;\n        }\n      });\n    });\n    __publicField(this, \"load\", () => {\n      this.notify(\"load\", null);\n      return this;\n    });\n    __publicField(this, \"save\", () => {\n      this.notify(\"save\", null);\n      return this;\n    });\n    __publicField(this, \"pages\", \/* @__PURE__ *\/ new Map([\n      [\"page\", new TLPage(this, { id: \"page\", name: \"page\", shapes: [], bindings: {} })]\n    ]));\n    __publicField(this, \"getPageById\", (pageId) => {\n      const page = this.pages.get(pageId);\n      if (!page)\n        throw Error(`Could not find a page named ${pageId}.`);\n      return page;\n    });\n    __publicField(this, \"getShapeById\", (id3, pageId = this.currentPage.id) => {\n      var _a3;\n      const shape = (_a3 = this.getPageById(pageId)) == null ? void 0 : _a3.shapesById[id3];\n      return shape;\n    });\n    __publicField(this, \"createShapes\", (shapes2) => {\n      if (this.readOnly)\n        return this;\n      const newShapes = this.currentPage.addShapes(...shapes2);\n      if (newShapes)\n        this.notify(\"create-shapes\", newShapes);\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"updateShapes\", (shapes2) => {\n      if (this.readOnly)\n        return this;\n      shapes2.forEach((shape) => {\n        const oldShape = this.getShapeById(shape.id);\n        oldShape == null ? void 0 : oldShape.update(shape);\n        if (shape.type !== (oldShape == null ? void 0 : oldShape.type)) {\n          this.api.convertShapes(shape.type, [oldShape]);\n        }\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"deleteShapes\", (shapes2) => {\n      if (shapes2.length === 0 || this.readOnly)\n        return this;\n      const normalizedShapes = shapes2.map((shape) => typeof shape === \"string\" ? this.getShapeById(shape) : shape).filter(isNonNullable).filter((s2) => !s2.props.isLocked);\n      const shapesInGroups = this.shapesInGroups(normalizedShapes);\n      normalizedShapes.forEach((shape) => {\n        if (this.getParentGroup(shape)) {\n          shapesInGroups.push(shape);\n        }\n      });\n      let ids = new Set([...normalizedShapes, ...shapesInGroups].map((s2) => s2.id));\n      shapesInGroups.forEach((shape) => {\n        var _a3;\n        const parentGroup = this.getParentGroup(shape);\n        if (parentGroup) {\n          const newChildren = (_a3 = parentGroup.props.children) == null ? void 0 : _a3.filter(\n            (id3) => id3 !== shape.id\n          );\n          if (!newChildren || (newChildren == null ? void 0 : newChildren.length) <= 1) {\n            ids.add(parentGroup.id);\n          } else {\n            parentGroup.update({ children: newChildren });\n          }\n        }\n      });\n      const deleteBinding = (shapeA, shapeB) => {\n        var _a3;\n        if ([...ids].includes(shapeA) && ((_a3 = this.getShapeById(shapeB)) == null ? void 0 : _a3.type) === \"line\")\n          ids.add(shapeB);\n      };\n      this.currentPage.shapes.filter((s2) => !s2.props.isLocked).flatMap((s2) => {\n        var _a3;\n        return Object.values((_a3 = s2.props.handles) != null ? _a3 : {});\n      }).flatMap((h2) => h2.bindingId).filter(isNonNullable).map((binding) => {\n        var _a3, _b;\n        const toId = (_a3 = this.currentPage.bindings[binding]) == null ? void 0 : _a3.toId;\n        const fromId = (_b = this.currentPage.bindings[binding]) == null ? void 0 : _b.fromId;\n        if (toId && fromId) {\n          deleteBinding(toId, fromId);\n          deleteBinding(fromId, toId);\n        }\n      });\n      const allShapesToDelete = [...ids].map((id3) => this.getShapeById(id3));\n      this.setSelectedShapes(this.selectedShapesArray.filter((shape) => !ids.has(shape.id)));\n      const removedShapes = this.currentPage.removeShapes(...allShapesToDelete);\n      if (removedShapes)\n        this.notify(\"delete-shapes\", removedShapes);\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"bringForward\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.bringForward(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendBackward\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.sendBackward(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendToBack\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.sendToBack(shapes2);\n      return this;\n    });\n    __publicField(this, \"bringToFront\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.bringToFront(shapes2);\n      return this;\n    });\n    __publicField(this, \"flipHorizontal\", (shapes2 = this.selectedShapesArray) => {\n      this.currentPage.flip(shapes2, \"horizontal\");\n      return this;\n    });\n    __publicField(this, \"flipVertical\", (shapes2 = this.selectedShapesArray) => {\n      this.currentPage.flip(shapes2, \"vertical\");\n      return this;\n    });\n    __publicField(this, \"align\", (type, shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const boundsForShapes = shapes2.map((shape) => {\n        const bounds = shape.getBounds();\n        return {\n          id: shape.id,\n          point: [bounds.minX, bounds.minY],\n          bounds\n        };\n      });\n      const commonBounds = BoundsUtils.getCommonBounds(boundsForShapes.map(({ bounds }) => bounds));\n      const midX = commonBounds.minX + commonBounds.width \/ 2;\n      const midY = commonBounds.minY + commonBounds.height \/ 2;\n      const deltaMap = Object.fromEntries(\n        boundsForShapes.map(({ id: id3, point, bounds }) => {\n          return [\n            id3,\n            {\n              prev: point,\n              next: {\n                [\"top\" \/* Top *\/]: [point[0], commonBounds.minY],\n                [\"centerVertical\" \/* CenterVertical *\/]: [point[0], midY - bounds.height \/ 2],\n                [\"bottom\" \/* Bottom *\/]: [point[0], commonBounds.maxY - bounds.height],\n                [\"left\" \/* Left *\/]: [commonBounds.minX, point[1]],\n                [\"centerHorizontal\" \/* CenterHorizontal *\/]: [midX - bounds.width \/ 2, point[1]],\n                [\"right\" \/* Right *\/]: [commonBounds.maxX - bounds.width, point[1]]\n              }[type]\n            }\n          ];\n        })\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"distribute\", (type, shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const deltaMap = Object.fromEntries(\n        BoundsUtils.getDistributions(shapes2, type).map((d2) => [d2.id, d2])\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"packIntoRectangle\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const deltaMap = Object.fromEntries(\n        BoundsUtils.getPackedDistributions(shapes2).map((d2) => [d2.id, d2])\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"setLocked\", (locked) => {\n      if (this.selectedShapesArray.length === 0 || this.readOnly)\n        return this;\n      this.selectedShapesArray.forEach((shape) => {\n        shape.update({ isLocked: locked });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"assets\", {});\n    __publicField(this, \"removeUnusedAssets\", () => {\n      const usedAssets = this.getCleanUpAssets();\n      Object.keys(this.assets).forEach((assetId) => {\n        if (!usedAssets.some((asset) => asset.id === assetId)) {\n          delete this.assets[assetId];\n        }\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"copy\", () => {\n      if (this.selectedShapesArray.length > 0 && !this.editingShape) {\n        const selectedShapes = this.allSelectedShapesArray;\n        const jsonString = JSON.stringify({\n          shapes: selectedShapes.map((shape) => shape.serialized),\n          assets: this.getCleanUpAssets().filter((asset) => {\n            return selectedShapes.some((shape) => shape.props.assetId === asset.id);\n          }),\n          bindings: toJS(this.currentPage.bindings)\n        });\n        const tldrawString = encodeURIComponent(`<whiteboard-tldr>${jsonString}<\/whiteboard-tldr>`);\n        const shapeBlockRefs = this.selectedShapesArray.map((s2) => `((${s2.props.id}))`).join(\" \");\n        this.notify(\"copy\", {\n          text: shapeBlockRefs,\n          html: tldrawString\n        });\n      }\n    });\n    __publicField(this, \"paste\", (e, shiftKey) => {\n      var _a3;\n      if (!this.editingShape && !this.readOnly) {\n        this.notify(\"paste\", {\n          point: this.inputs.currentPoint,\n          shiftKey: !!shiftKey,\n          dataTransfer: (_a3 = e == null ? void 0 : e.clipboardData) != null ? _a3 : void 0\n        });\n      }\n    });\n    __publicField(this, \"cut\", () => {\n      this.copy();\n      this.api.deleteShapes();\n    });\n    __publicField(this, \"drop\", (dataTransfer, point) => {\n      this.notify(\"drop\", {\n        dataTransfer,\n        point: point ? this.viewport.getPagePoint(point) : BoundsUtils.getBoundsCenter(this.viewport.currentView)\n      });\n      return void 0;\n    });\n    __publicField(this, \"selectTool\", (id3, data = {}) => {\n      if (!this.readOnly || [\"select\", \"move\"].includes(id3))\n        this.transition(id3, data);\n    });\n    __publicField(this, \"editingId\");\n    __publicField(this, \"setEditingShape\", (shape) => {\n      this.editingId = typeof shape === \"string\" ? shape : shape == null ? void 0 : shape.id;\n      return this;\n    });\n    __publicField(this, \"clearEditingState\", () => {\n      this.selectedTool.transition(\"idle\");\n      return this.setEditingShape();\n    });\n    __publicField(this, \"hoveredId\");\n    __publicField(this, \"setHoveredShape\", (shape) => {\n      this.hoveredId = typeof shape === \"string\" ? shape : shape == null ? void 0 : shape.id;\n      return this;\n    });\n    __publicField(this, \"selectedIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"selectedShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"selectionRotation\", 0);\n    __publicField(this, \"setSelectedShapes\", (shapes2) => {\n      var _a3;\n      const { selectedIds, selectedShapes } = this;\n      selectedIds.clear();\n      selectedShapes.clear();\n      if (shapes2[0] && typeof shapes2[0] === \"string\") {\n        ;\n        shapes2.forEach((s2) => selectedIds.add(s2));\n      } else {\n        ;\n        shapes2.forEach((s2) => selectedIds.add(s2.id));\n      }\n      const newSelectedShapes = this.currentPage.shapes.filter((shape) => selectedIds.has(shape.id));\n      newSelectedShapes.forEach((s2) => selectedShapes.add(s2));\n      if (newSelectedShapes.length === 1) {\n        this.selectionRotation = (_a3 = newSelectedShapes[0].props.rotation) != null ? _a3 : 0;\n      } else {\n        this.selectionRotation = 0;\n      }\n      if (shapes2.length === 0) {\n        this.setEditingShape();\n      }\n      return this;\n    });\n    __publicField(this, \"erasingIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"erasingShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"setErasingShapes\", (shapes2) => {\n      const { erasingIds, erasingShapes } = this;\n      erasingIds.clear();\n      erasingShapes.clear();\n      if (shapes2[0] && typeof shapes2[0] === \"string\") {\n        ;\n        shapes2.forEach((s2) => erasingIds.add(s2));\n      } else {\n        ;\n        shapes2.forEach((s2) => erasingIds.add(s2.id));\n      }\n      const newErasingShapes = this.currentPage.shapes.filter((shape) => erasingIds.has(shape.id));\n      newErasingShapes.forEach((s2) => erasingShapes.add(s2));\n      return this;\n    });\n    __publicField(this, \"bindingIds\");\n    __publicField(this, \"setBindingShapes\", (ids) => {\n      this.bindingIds = ids;\n      return this;\n    });\n    __publicField(this, \"clearBindingShape\", () => {\n      return this.setBindingShapes();\n    });\n    __publicField(this, \"createNewLineBinding\", (source, target) => {\n      const src = typeof source === \"string\" ? this.getShapeById(source) : source;\n      const tgt = typeof target === \"string\" ? this.getShapeById(target) : target;\n      if ((src == null ? void 0 : src.canBind) && (tgt == null ? void 0 : tgt.canBind)) {\n        const result = createNewLineBinding(src, tgt);\n        if (result) {\n          const [newLine, newBindings] = result;\n          this.createShapes([newLine]);\n          this.currentPage.updateBindings(Object.fromEntries(newBindings.map((b3) => [b3.id, b3])));\n          this.persist();\n          return true;\n        }\n      }\n      return false;\n    });\n    __publicField(this, \"brush\");\n    __publicField(this, \"setBrush\", (brush) => {\n      this.brush = brush;\n      return this;\n    });\n    __publicField(this, \"setCamera\", (point, zoom) => {\n      this.viewport.update({ point, zoom });\n      return this;\n    });\n    __publicField(this, \"getPagePoint\", (point) => {\n      const { camera } = this.viewport;\n      return Vec.sub(Vec.div(point, camera.zoom), camera.point);\n    });\n    __publicField(this, \"getScreenPoint\", (point) => {\n      const { camera } = this.viewport;\n      return Vec.mul(Vec.add(point, camera.point), camera.zoom);\n    });\n    __publicField(this, \"Shapes\", \/* @__PURE__ *\/ new Map());\n    __publicField(this, \"registerShapes\", (Shapes) => {\n      Shapes.forEach((Shape5) => {\n        if (Shape5.id === \"group\") {\n          const app = this;\n          Shape5.prototype.getShapes = function() {\n            var _a3, _b;\n            return (_b = (_a3 = this.props.children) == null ? void 0 : _a3.map((id3) => app.getShapeById(id3)).filter(Boolean)) != null ? _b : [];\n          };\n        }\n        return this.Shapes.set(Shape5.id, Shape5);\n      });\n    });\n    __publicField(this, \"deregisterShapes\", (Shapes) => {\n      Shapes.forEach((Shape5) => this.Shapes.delete(Shape5.id));\n    });\n    __publicField(this, \"getShapeClass\", (type) => {\n      if (!type)\n        throw Error(\"No shape type provided.\");\n      const Shape5 = this.Shapes.get(type);\n      if (!Shape5)\n        throw Error(`Could not find shape class for ${type}`);\n      return Shape5;\n    });\n    __publicField(this, \"wrapUpdate\", (fn) => {\n      transaction(() => {\n        const shouldSave = !this.history.isPaused;\n        if (shouldSave) {\n          this.history.pause();\n        }\n        fn();\n        if (shouldSave) {\n          this.history.resume();\n          this.persist();\n        }\n      });\n    });\n    __publicField(this, \"subscriptions\", \/* @__PURE__ *\/ new Set([]));\n    __publicField(this, \"subscribe\", (event, callback) => {\n      if (callback === void 0)\n        throw Error(\"Callback is required.\");\n      const subscription = { event, callback };\n      this.subscriptions.add(subscription);\n      return () => this.unsubscribe(subscription);\n    });\n    __publicField(this, \"unsubscribe\", (subscription) => {\n      this.subscriptions.delete(subscription);\n      return this;\n    });\n    __publicField(this, \"notify\", (event, info) => {\n      this.subscriptions.forEach((subscription) => {\n        if (subscription.event === event) {\n          subscription.callback(this, info);\n        }\n      });\n      return this;\n    });\n    __publicField(this, \"onTransition\", () => {\n    });\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (!this.editingShape && e.button === 1 && !this.isIn(\"move\")) {\n        this.temporaryTransitionToMove(e);\n        return;\n      }\n      if (e.button === 2 && !this.editingShape) {\n        e.preventDefault();\n        this.transition(\"select\");\n        return;\n      }\n      if (\"clientX\" in e) {\n        this.inputs.onPointerDown(\n          [...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure],\n          e\n        );\n      }\n    });\n    __publicField(this, \"onPointerUp\", (info, e) => {\n      if (!this.editingShape && e.button === 1 && this.isIn(\"move\")) {\n        this.selectedTool.transition(\"idle\", { exit: true });\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      if (\"clientX\" in e) {\n        this.inputs.onPointerUp(\n          [...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure],\n          e\n        );\n      }\n    });\n    __publicField(this, \"onPointerMove\", (info, e) => {\n      if (\"clientX\" in e) {\n        this.inputs.onPointerMove([...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure], e);\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      if (!this.editingShape && e[\"key\"] === \" \" && !this.isIn(\"move\")) {\n        this.temporaryTransitionToMove(e);\n        return;\n      }\n      this.inputs.onKeyDown(e);\n    });\n    __publicField(this, \"onKeyUp\", (info, e) => {\n      if (!this.editingShape && e[\"key\"] === \" \" && this.isIn(\"move\")) {\n        this.selectedTool.transition(\"idle\", { exit: true });\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      this.inputs.onKeyUp(e);\n    });\n    __publicField(this, \"onPinchStart\", (info, e) => {\n      this.inputs.onPinchStart([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    __publicField(this, \"onPinch\", (info, e) => {\n      this.inputs.onPinch([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    __publicField(this, \"onPinchEnd\", (info, e) => {\n      this.inputs.onPinchEnd([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    this._states = [TLSelectTool, TLMoveTool];\n    this.readOnly = readOnly;\n    this.history.pause();\n    if (this.states && this.states.length > 0) {\n      this.registerStates(this.states);\n      const initialId = (_a3 = this.initial) != null ? _a3 : this.states[0].id;\n      const state = this.children.get(initialId);\n      if (state) {\n        this.currentState = state;\n        (_b = this.currentState) == null ? void 0 : _b._events.onEnter({ fromId: \"initial\" });\n      }\n    }\n    if (Shapes)\n      this.registerShapes(Shapes);\n    if (Tools)\n      this.registerTools(Tools);\n    this.history.resume();\n    if (serializedApp)\n      this.history.deserialize(serializedApp);\n    this.api = new TLApi(this);\n    makeObservable(this);\n    this.notify(\"mount\", null);\n  }\n  loadDocumentModel(model) {\n    this.history.deserialize(model);\n    if (model.assets && model.assets.length > 0)\n      this.addAssets(model.assets);\n    return this;\n  }\n  get serialized() {\n    return {};\n  }\n  get currentPageId() {\n    return this.pages.keys().next().value;\n  }\n  get currentPage() {\n    return this.getPageById(this.currentPageId);\n  }\n  addPages(pages) {\n    pages.forEach((page) => this.pages.set(page.id, page));\n    this.persist();\n    return this;\n  }\n  removePages(pages) {\n    pages.forEach((page) => this.pages.delete(page.id));\n    this.persist();\n    return this;\n  }\n  shapesInGroups(groups = this.shapes) {\n    return groups.flatMap((shape) => shape.props.children).filter(isNonNullable).map((id3) => this.getShapeById(id3)).filter(isNonNullable);\n  }\n  getParentGroup(shape) {\n    return this.shapes.find((group) => {\n      var _a3;\n      return (_a3 = group.props.children) == null ? void 0 : _a3.includes(shape.id);\n    });\n  }\n  addAssets(assets) {\n    assets.forEach((asset) => this.assets[asset.id] = asset);\n    return this;\n  }\n  removeAssets(assets) {\n    if (typeof assets[0] === \"string\")\n      assets.forEach((asset) => delete this.assets[asset]);\n    else\n      assets.forEach((asset) => delete this.assets[asset.id]);\n    this.persist();\n    return this;\n  }\n  getCleanUpAssets() {\n    const usedAssets = \/* @__PURE__ *\/ new Set();\n    this.pages.forEach(\n      (p2) => p2.shapes.forEach((s2) => {\n        if (s2.props.assetId && this.assets[s2.props.assetId]) {\n          usedAssets.add(this.assets[s2.props.assetId]);\n        }\n      })\n    );\n    return Array.from(usedAssets);\n  }\n  createAssets(assets) {\n    this.addAssets(assets);\n    this.notify(\"create-assets\", { assets });\n    this.persist();\n    return this;\n  }\n  get selectedTool() {\n    return this.currentState;\n  }\n  registerTools(tools2) {\n    this.Tools = tools2;\n    return this.registerStates(tools2);\n  }\n  get editingShape() {\n    const { editingId, currentPage } = this;\n    return editingId ? currentPage.shapes.find((shape) => shape.id === editingId) : void 0;\n  }\n  get hoveredShape() {\n    const { hoveredId, currentPage } = this;\n    return hoveredId ? currentPage.shapes.find((shape) => shape.id === hoveredId) : void 0;\n  }\n  get hoveredGroup() {\n    const { hoveredShape } = this;\n    const hoveredGroup = hoveredShape ? this.shapes.find((s2) => {\n      var _a3;\n      return s2.type === \"group\" && ((_a3 = s2.props.children) == null ? void 0 : _a3.includes(hoveredShape.id));\n    }) : void 0;\n    return hoveredGroup;\n  }\n  get selectedShapesArray() {\n    const { selectedShapes, selectedTool } = this;\n    const stateId = selectedTool.id;\n    if (stateId !== \"select\")\n      return [];\n    return Array.from(selectedShapes.values());\n  }\n  get allSelectedShapes() {\n    return new Set(this.allSelectedShapesArray);\n  }\n  get allSelectedShapesArray() {\n    const { selectedShapesArray } = this;\n    return dedupe([...selectedShapesArray, ...this.shapesInGroups(selectedShapesArray)]);\n  }\n  setSelectionRotation(radians) {\n    this.selectionRotation = radians;\n  }\n  get erasingShapesArray() {\n    return Array.from(this.erasingShapes.values());\n  }\n  get bindingShapes() {\n    var _a3;\n    const activeBindings = this.selectedShapesArray.length === 1 ? this.selectedShapesArray.flatMap((s2) => {\n      var _a4;\n      return Object.values((_a4 = s2.props.handles) != null ? _a4 : {});\n    }).flatMap((h2) => h2.bindingId).filter(isNonNullable).flatMap((binding) => {\n      var _a4, _b;\n      return [\n        (_a4 = this.currentPage.bindings[binding]) == null ? void 0 : _a4.fromId,\n        (_b = this.currentPage.bindings[binding]) == null ? void 0 : _b.toId\n      ];\n    }).filter(isNonNullable) : [];\n    const bindingIds = [...(_a3 = this.bindingIds) != null ? _a3 : [], ...activeBindings];\n    return bindingIds ? this.currentPage.shapes.filter((shape) => bindingIds == null ? void 0 : bindingIds.includes(shape.id)) : void 0;\n  }\n  get currentGrid() {\n    const { zoom } = this.viewport.camera;\n    if (zoom < 0.15) {\n      return GRID_SIZE * 16;\n    } else if (zoom < 1) {\n      return GRID_SIZE * 4;\n    } else {\n      return GRID_SIZE * 1;\n    }\n  }\n  get shapes() {\n    const {\n      currentPage: { shapes: shapes2 }\n    } = this;\n    return Array.from(shapes2.values());\n  }\n  get shapesInViewport() {\n    const {\n      selectedShapes,\n      currentPage,\n      viewport: { currentView }\n    } = this;\n    return currentPage.shapes.filter((shape) => {\n      return !shape.canUnmount || selectedShapes.has(shape) || BoundsUtils.boundsContain(currentView, shape.rotatedBounds) || BoundsUtils.boundsCollide(currentView, shape.rotatedBounds);\n    });\n  }\n  get selectionDirectionHint() {\n    const {\n      selectionBounds,\n      viewport: { currentView }\n    } = this;\n    if (!selectionBounds || BoundsUtils.boundsContain(currentView, selectionBounds) || BoundsUtils.boundsCollide(currentView, selectionBounds)) {\n      return;\n    }\n    const center = BoundsUtils.getBoundsCenter(selectionBounds);\n    return Vec.clampV(\n      [\n        (center[0] - currentView.minX - currentView.width \/ 2) \/ currentView.width,\n        (center[1] - currentView.minY - currentView.height \/ 2) \/ currentView.height\n      ],\n      -1,\n      1\n    );\n  }\n  get selectionBounds() {\n    const { selectedShapesArray } = this;\n    if (selectedShapesArray.length === 0)\n      return void 0;\n    if (selectedShapesArray.length === 1) {\n      return __spreadProps(__spreadValues({}, selectedShapesArray[0].bounds), { rotation: selectedShapesArray[0].props.rotation });\n    }\n    return BoundsUtils.getCommonBounds(this.selectedShapesArray.map((shape) => shape.rotatedBounds));\n  }\n  get showSelection() {\n    var _a3;\n    const { selectedShapesArray } = this;\n    return this.isIn(\"select\") && !this.isInAny(\"select.translating\", \"select.pinching\", \"select.rotating\") && (selectedShapesArray.length === 1 && !((_a3 = selectedShapesArray[0]) == null ? void 0 : _a3.hideSelection) || selectedShapesArray.length > 1);\n  }\n  get showSelectionDetail() {\n    return this.isIn(\"select\") && !this.isInAny(\"select.translating\", \"select.pinching\") && this.selectedShapes.size > 0 && !this.selectedShapesArray.every((shape) => shape.hideSelectionDetail) && false;\n  }\n  get showSelectionRotation() {\n    return this.showSelectionDetail && this.isInAny(\"select.rotating\", \"select.pointingRotateHandle\");\n  }\n  get showContextBar() {\n    const {\n      selectedShapesArray,\n      inputs: { ctrlKey }\n    } = this;\n    return this.isInAny(\"select.idle\", \"select.hoveringSelectionHandle\") && !this.isIn(\"select.contextMenu\") && selectedShapesArray.length > 0 && !this.readOnly && !selectedShapesArray.every((shape) => shape.hideContextBar);\n  }\n  get showRotateHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingRotateHandle\",\n      \"select.pointingResizeHandle\"\n    ) && selectedShapesArray.length > 0 && !this.readOnly && !selectedShapesArray.some((shape) => shape.hideRotateHandle);\n  }\n  get showResizeHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingShape\",\n      \"select.pointingSelectedShape\",\n      \"select.pointingRotateHandle\",\n      \"select.pointingResizeHandle\"\n    ) && selectedShapesArray.length === 1 && !this.readOnly && !selectedShapesArray.every((shape) => shape.hideResizeHandles);\n  }\n  get showCloneHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingShape\",\n      \"select.pointingSelectedShape\"\n    ) && selectedShapesArray.length === 1 && Object.values(Geometry).some((geometry) => geometry === this.selectedShapesArray[0].type) && !this.readOnly;\n  }\n  temporaryTransitionToMove(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    const prevTool = this.selectedTool;\n    this.transition(\"move\", { prevTool });\n    this.selectedTool.transition(\"idleHold\");\n  }\n};\n__publicField(TLApp, \"id\", \"app\");\n__publicField(TLApp, \"initial\", \"select\");\n__decorateClass([\n  computed\n], TLApp.prototype, \"serialized\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"pages\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentPageId\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentPage\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"addPages\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removePages\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"createShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"updateShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"deleteShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"assets\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"addAssets\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removeAssets\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removeUnusedAssets\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectedTool\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"editingId\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"editingShape\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setEditingShape\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"hoveredId\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"hoveredShape\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"hoveredGroup\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setHoveredShape\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectedIds\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectedShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectionRotation\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectedShapesArray\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"allSelectedShapes\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"allSelectedShapesArray\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setSelectedShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setSelectionRotation\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"erasingIds\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"erasingShapes\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"erasingShapesArray\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setErasingShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"bindingIds\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"bindingShapes\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setBindingShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"createNewLineBinding\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"brush\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setBrush\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setCamera\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentGrid\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"shapes\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"shapesInViewport\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectionDirectionHint\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectionBounds\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelection\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelectionDetail\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelectionRotation\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showContextBar\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showRotateHandles\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showResizeHandles\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showCloneHandles\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/BindingUtils.ts\nfunction findBindingPoint(shape, target, handleId, bindingId, point, origin, direction, bindAnywhere) {\n  const bindingPoint = target.getBindingPoint(\n    point,\n    origin,\n    direction,\n    bindAnywhere\n  );\n  if (!bindingPoint)\n    return;\n  return {\n    id: bindingId,\n    type: \"line\",\n    fromId: shape.id,\n    toId: target.id,\n    handleId,\n    point: src_default.toFixed(bindingPoint.point),\n    distance: bindingPoint.distance\n  };\n}\nfunction createNewLineBinding(source, target) {\n  const cs = source.getCenter();\n  const ct2 = target.getCenter();\n  const lineId = uniqueId();\n  const lineShape = __spreadProps(__spreadValues({}, TLLineShape.defaultProps), {\n    id: lineId,\n    type: TLLineShape.id,\n    parentId: source.props.parentId,\n    point: cs\n  });\n  const startBinding = findBindingPoint(\n    lineShape,\n    source,\n    \"start\",\n    uniqueId(),\n    cs,\n    cs,\n    src_default.uni(src_default.sub(ct2, cs)),\n    false\n  );\n  const endBinding = findBindingPoint(\n    lineShape,\n    target,\n    \"end\",\n    uniqueId(),\n    ct2,\n    ct2,\n    src_default.uni(src_default.sub(cs, ct2)),\n    false\n  );\n  if (startBinding && endBinding) {\n    lineShape.handles.start.point = [0, 0];\n    lineShape.handles.end.point = src_default.sub(ct2, cs);\n    lineShape.handles.start.bindingId = startBinding.id;\n    lineShape.handles.end.bindingId = endBinding.id;\n    return [lineShape, [startBinding, endBinding]];\n  }\n  return null;\n}\n\n\/\/ ..\/..\/node_modules\/fast-copy\/dist\/esm\/index.mjs\nvar toStringFunction = Function.prototype.toString;\nvar create = Object.create;\nvar toStringObject = Object.prototype.toString;\nvar LegacyCache = function() {\n  function LegacyCache2() {\n    this._keys = [];\n    this._values = [];\n  }\n  LegacyCache2.prototype.has = function(key) {\n    return !!~this._keys.indexOf(key);\n  };\n  LegacyCache2.prototype.get = function(key) {\n    return this._values[this._keys.indexOf(key)];\n  };\n  LegacyCache2.prototype.set = function(key, value) {\n    this._keys.push(key);\n    this._values.push(value);\n  };\n  return LegacyCache2;\n}();\nfunction createCacheLegacy() {\n  return new LegacyCache();\n}\nfunction createCacheModern() {\n  return \/* @__PURE__ *\/ new WeakMap();\n}\nvar createCache = typeof WeakMap !== \"undefined\" ? createCacheModern : createCacheLegacy;\nfunction getCleanClone(prototype) {\n  if (!prototype) {\n    return create(null);\n  }\n  var Constructor = prototype.constructor;\n  if (Constructor === Object) {\n    return prototype === Object.prototype ? {} : create(prototype);\n  }\n  if (~toStringFunction.call(Constructor).indexOf(\"[native code]\")) {\n    try {\n      return new Constructor();\n    } catch (_a3) {\n    }\n  }\n  return create(prototype);\n}\nfunction getRegExpFlagsLegacy(regExp) {\n  var flags = \"\";\n  if (regExp.global) {\n    flags += \"g\";\n  }\n  if (regExp.ignoreCase) {\n    flags += \"i\";\n  }\n  if (regExp.multiline) {\n    flags += \"m\";\n  }\n  if (regExp.unicode) {\n    flags += \"u\";\n  }\n  if (regExp.sticky) {\n    flags += \"y\";\n  }\n  return flags;\n}\nfunction getRegExpFlagsModern(regExp) {\n  return regExp.flags;\n}\nvar getRegExpFlags = \/test\/g.flags === \"g\" ? getRegExpFlagsModern : getRegExpFlagsLegacy;\nfunction getTagLegacy(value) {\n  var type = toStringObject.call(value);\n  return type.substring(8, type.length - 1);\n}\nfunction getTagModern(value) {\n  return value[Symbol.toStringTag] || getTagLegacy(value);\n}\nvar getTag = typeof Symbol !== \"undefined\" ? getTagModern : getTagLegacy;\nvar defineProperty3 = Object.defineProperty;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar _a = Object.prototype;\nvar hasOwnProperty = _a.hasOwnProperty;\nvar propertyIsEnumerable = _a.propertyIsEnumerable;\nvar SUPPORTS_SYMBOL = typeof getOwnPropertySymbols === \"function\";\nfunction getStrictPropertiesModern(object2) {\n  return getOwnPropertyNames(object2).concat(getOwnPropertySymbols(object2));\n}\nvar getStrictProperties = SUPPORTS_SYMBOL ? getStrictPropertiesModern : getOwnPropertyNames;\nfunction copyOwnPropertiesStrict(value, clone, state) {\n  var properties = getStrictProperties(value);\n  for (var index2 = 0, length_1 = properties.length, property = void 0, descriptor = void 0; index2 < length_1; ++index2) {\n    property = properties[index2];\n    if (property === \"callee\" || property === \"caller\") {\n      continue;\n    }\n    descriptor = getOwnPropertyDescriptor(value, property);\n    if (!descriptor) {\n      clone[property] = state.copier(value[property], state);\n      continue;\n    }\n    if (!descriptor.get && !descriptor.set) {\n      descriptor.value = state.copier(descriptor.value, state);\n    }\n    try {\n      defineProperty3(clone, property, descriptor);\n    } catch (error) {\n      clone[property] = descriptor.value;\n    }\n  }\n  return clone;\n}\nfunction copyArrayLoose(array2, state) {\n  var clone = new state.Constructor();\n  state.cache.set(array2, clone);\n  for (var index2 = 0, length_2 = array2.length; index2 < length_2; ++index2) {\n    clone[index2] = state.copier(array2[index2], state);\n  }\n  return clone;\n}\nfunction copyArrayStrict(array2, state) {\n  var clone = new state.Constructor();\n  state.cache.set(array2, clone);\n  return copyOwnPropertiesStrict(array2, clone, state);\n}\nfunction copyArrayBuffer(arrayBuffer, _state) {\n  return arrayBuffer.slice(0);\n}\nfunction copyBlob(blob, _state) {\n  return blob.slice(0, blob.size, blob.type);\n}\nfunction copyDataView(dataView, state) {\n  return new state.Constructor(copyArrayBuffer(dataView.buffer));\n}\nfunction copyDate(date, state) {\n  return new state.Constructor(date.getTime());\n}\nfunction copyMapLoose(map3, state) {\n  var clone = new state.Constructor();\n  state.cache.set(map3, clone);\n  map3.forEach(function(value, key) {\n    clone.set(key, state.copier(value, state));\n  });\n  return clone;\n}\nfunction copyMapStrict(map3, state) {\n  return copyOwnPropertiesStrict(map3, copyMapLoose(map3, state), state);\n}\nfunction copyObjectLooseLegacy(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  for (var key in object2) {\n    if (hasOwnProperty.call(object2, key)) {\n      clone[key] = state.copier(object2[key], state);\n    }\n  }\n  return clone;\n}\nfunction copyObjectLooseModern(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  for (var key in object2) {\n    if (hasOwnProperty.call(object2, key)) {\n      clone[key] = state.copier(object2[key], state);\n    }\n  }\n  var symbols = getOwnPropertySymbols(object2);\n  for (var index2 = 0, length_3 = symbols.length, symbol = void 0; index2 < length_3; ++index2) {\n    symbol = symbols[index2];\n    if (propertyIsEnumerable.call(object2, symbol)) {\n      clone[symbol] = state.copier(object2[symbol], state);\n    }\n  }\n  return clone;\n}\nvar copyObjectLoose = SUPPORTS_SYMBOL ? copyObjectLooseModern : copyObjectLooseLegacy;\nfunction copyObjectStrict(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  return copyOwnPropertiesStrict(object2, clone, state);\n}\nfunction copyPrimitiveWrapper(primitiveObject, state) {\n  return new state.Constructor(primitiveObject.valueOf());\n}\nfunction copyRegExp(regExp, state) {\n  var clone = new state.Constructor(regExp.source, getRegExpFlags(regExp));\n  clone.lastIndex = regExp.lastIndex;\n  return clone;\n}\nfunction copySelf(value, _state) {\n  return value;\n}\nfunction copySetLoose(set4, state) {\n  var clone = new state.Constructor();\n  state.cache.set(set4, clone);\n  set4.forEach(function(value) {\n    clone.add(state.copier(value, state));\n  });\n  return clone;\n}\nfunction copySetStrict(set4, state) {\n  return copyOwnPropertiesStrict(set4, copySetLoose(set4, state), state);\n}\nvar isArray = Array.isArray;\nvar assign2 = Object.assign;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar DEFAULT_LOOSE_OPTIONS = {\n  array: copyArrayLoose,\n  arrayBuffer: copyArrayBuffer,\n  blob: copyBlob,\n  dataView: copyDataView,\n  date: copyDate,\n  error: copySelf,\n  map: copyMapLoose,\n  object: copyObjectLoose,\n  regExp: copyRegExp,\n  set: copySetLoose\n};\nvar DEFAULT_STRICT_OPTIONS = assign2({}, DEFAULT_LOOSE_OPTIONS, {\n  array: copyArrayStrict,\n  map: copyMapStrict,\n  object: copyObjectStrict,\n  set: copySetStrict\n});\nfunction getTagSpecificCopiers(options) {\n  return {\n    Arguments: options.object,\n    Array: options.array,\n    ArrayBuffer: options.arrayBuffer,\n    Blob: options.blob,\n    Boolean: copyPrimitiveWrapper,\n    DataView: options.dataView,\n    Date: options.date,\n    Error: options.error,\n    Float32Array: options.arrayBuffer,\n    Float64Array: options.arrayBuffer,\n    Int8Array: options.arrayBuffer,\n    Int16Array: options.arrayBuffer,\n    Int32Array: options.arrayBuffer,\n    Map: options.map,\n    Number: copyPrimitiveWrapper,\n    Object: options.object,\n    Promise: copySelf,\n    RegExp: options.regExp,\n    Set: options.set,\n    String: copyPrimitiveWrapper,\n    WeakMap: copySelf,\n    WeakSet: copySelf,\n    Uint8Array: options.arrayBuffer,\n    Uint8ClampedArray: options.arrayBuffer,\n    Uint16Array: options.arrayBuffer,\n    Uint32Array: options.arrayBuffer,\n    Uint64Array: options.arrayBuffer\n  };\n}\nfunction createCopier(options) {\n  var normalizedOptions = assign2({}, DEFAULT_LOOSE_OPTIONS, options);\n  var tagSpecificCopiers = getTagSpecificCopiers(normalizedOptions);\n  var array2 = tagSpecificCopiers.Array, object2 = tagSpecificCopiers.Object;\n  function copier(value, state) {\n    state.prototype = state.Constructor = void 0;\n    if (!value || typeof value !== \"object\") {\n      return value;\n    }\n    if (state.cache.has(value)) {\n      return state.cache.get(value);\n    }\n    state.prototype = value.__proto__ || getPrototypeOf(value);\n    state.Constructor = state.prototype && state.prototype.constructor;\n    if (!state.Constructor || state.Constructor === Object) {\n      return object2(value, state);\n    }\n    if (isArray(value)) {\n      return array2(value, state);\n    }\n    var tagSpecificCopier = tagSpecificCopiers[getTag(value)];\n    if (tagSpecificCopier) {\n      return tagSpecificCopier(value, state);\n    }\n    return typeof value.then === \"function\" ? value : object2(value, state);\n  }\n  return function copy(value) {\n    return copier(value, {\n      Constructor: void 0,\n      cache: createCache(),\n      copier,\n      prototype: void 0\n    });\n  };\n}\nfunction createStrictCopier(options) {\n  return createCopier(assign2({}, DEFAULT_STRICT_OPTIONS, options));\n}\nvar copyStrict = createStrictCopier({});\nvar index = createCopier({});\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/DataUtils.ts\nvar import_fast_deep_equal = __toESM(require_fast_deep_equal());\nvar import_deepmerge = __toESM(require_cjs());\nvar deepCopy = index;\nfunction deepMerge(a3, b3) {\n  return (0, import_deepmerge.default)(a3, b3, {\n    arrayMerge: (destinationArray, sourceArray, options) => sourceArray\n  });\n}\nfunction modulate(value, rangeA, rangeB, clamp3 = false) {\n  const [fromLow, fromHigh] = rangeA;\n  const [v0, v12] = rangeB;\n  const result = v0 + (value - fromLow) \/ (fromHigh - fromLow) * (v12 - v0);\n  return clamp3 ? v0 < v12 ? Math.max(Math.min(result, v12), v0) : Math.max(Math.min(result, v0), v12) : result;\n}\nfunction clamp(n2, min, max) {\n  return Math.max(min, typeof max !== \"undefined\" ? Math.min(n2, max) : n2);\n}\nfunction getSizeFromSrc(dataURL, type) {\n  return new Promise((resolve, reject) => {\n    if (type === \"video\") {\n      const video = document.createElement(\"video\");\n      video.addEventListener(\n        \"loadedmetadata\",\n        function() {\n          const height = this.videoHeight;\n          const width = this.videoWidth;\n          resolve([width, height]);\n        },\n        false\n      );\n      video.src = dataURL;\n    } else if (type === \"image\") {\n      const img = new Image();\n      img.onload = () => resolve([img.width, img.height]);\n      img.src = dataURL;\n      img.onerror = (err) => reject(err);\n    } else if (type === \"pdf\") {\n      resolve([595, 842]);\n    }\n  });\n}\nfunction getFirstFromSet(set4) {\n  return set4.values().next().value;\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/TextUtils.ts\nvar _TextUtils = class {\n  static insertTextFirefox(field, text) {\n    field.setRangeText(\n      text,\n      field.selectionStart || 0,\n      field.selectionEnd || 0,\n      \"end\"\n    );\n    field.dispatchEvent(\n      new InputEvent(\"input\", {\n        data: text,\n        inputType: \"insertText\",\n        isComposing: false\n      })\n    );\n  }\n  static insert(field, text) {\n    const document2 = field.ownerDocument;\n    const initialFocus = document2.activeElement;\n    if (initialFocus !== field) {\n      field.focus();\n    }\n    if (!document2.execCommand(\"insertText\", false, text)) {\n      _TextUtils.insertTextFirefox(field, text);\n    }\n    if (initialFocus === document2.body) {\n      field.blur();\n    } else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n      initialFocus.focus();\n    }\n  }\n  static set(field, text) {\n    field.select();\n    _TextUtils.insert(field, text);\n  }\n  static getSelection(field) {\n    const { selectionStart, selectionEnd } = field;\n    return field.value.slice(\n      selectionStart ? selectionStart : void 0,\n      selectionEnd ? selectionEnd : void 0\n    );\n  }\n  static wrapSelection(field, wrap, wrapEnd) {\n    const { selectionStart, selectionEnd } = field;\n    const selection = _TextUtils.getSelection(field);\n    _TextUtils.insert(field, wrap + selection + (wrapEnd != null ? wrapEnd : wrap));\n    field.selectionStart = (selectionStart || 0) + wrap.length;\n    field.selectionEnd = (selectionEnd || 0) + wrap.length;\n  }\n  static replace(field, searchValue, replacer) {\n    let drift = 0;\n    field.value.replace(searchValue, (...args) => {\n      const matchStart = drift + args[args.length - 2];\n      const matchLength = args[0].length;\n      field.selectionStart = matchStart;\n      field.selectionEnd = matchStart + matchLength;\n      const replacement = typeof replacer === \"string\" ? replacer : replacer(...args);\n      _TextUtils.insert(field, replacement);\n      field.selectionStart = matchStart;\n      drift += replacement.length - matchLength;\n      return replacement;\n    });\n  }\n  static findLineEnd(value, currentEnd) {\n    const lastLineStart = value.lastIndexOf(\"\\n\", currentEnd - 1) + 1;\n    if (value.charAt(lastLineStart) !== \"\t\") {\n      return currentEnd;\n    }\n    return lastLineStart + 1;\n  }\n  static indent(element) {\n    var _a3;\n    const { selectionStart, selectionEnd, value } = element;\n    const selectedContrast = value.slice(selectionStart, selectionEnd);\n    const lineBreakCount = (_a3 = \/\\n\/g.exec(selectedContrast)) == null ? void 0 : _a3.length;\n    if (lineBreakCount && lineBreakCount > 0) {\n      const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n      const newSelection = element.value.slice(firstLineStart, selectionEnd - 1);\n      const indentedText = newSelection.replace(\n        \/^|\\n\/g,\n        `$&${_TextUtils.INDENT}`\n      );\n      const replacementsCount = indentedText.length - newSelection.length;\n      element.setSelectionRange(firstLineStart, selectionEnd - 1);\n      _TextUtils.insert(element, indentedText);\n      element.setSelectionRange(selectionStart + 1, selectionEnd + replacementsCount);\n    } else {\n      _TextUtils.insert(element, _TextUtils.INDENT);\n    }\n  }\n  static unindent(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n    const minimumSelectionEnd = _TextUtils.findLineEnd(value, selectionEnd);\n    const newSelection = element.value.slice(firstLineStart, minimumSelectionEnd);\n    const indentedText = newSelection.replace(\/(^|\\n)(\\t| {1,2})\/g, \"$1\");\n    const replacementsCount = newSelection.length - indentedText.length;\n    element.setSelectionRange(firstLineStart, minimumSelectionEnd);\n    _TextUtils.insert(element, indentedText);\n    const firstLineIndentation = \/\\t| {1,2}\/.exec(value.slice(firstLineStart, selectionStart));\n    const difference = firstLineIndentation ? firstLineIndentation[0].length : 0;\n    const newSelectionStart = selectionStart - difference;\n    element.setSelectionRange(\n      selectionStart - difference,\n      Math.max(newSelectionStart, selectionEnd - replacementsCount)\n    );\n  }\n  static normalizeText(text) {\n    return text.replace(_TextUtils.fixNewLines, \"\\n\");\n  }\n};\nvar TextUtils = _TextUtils;\n__publicField(TextUtils, \"fixNewLines\", \/\\r?\\n|\\r\/g);\n__publicField(TextUtils, \"INDENT\", \"  \");\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/ColorUtils.ts\nfunction isBuiltInColor(color) {\n  return Object.values(Color).includes(color);\n}\nfunction getComputedColor(color, type) {\n  if (isBuiltInColor(color) || color == null) {\n    return `var(--ls-wb-${type}-color-${color ? color : \"default\"})`;\n  }\n  return color;\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/getTextSize.ts\nvar melm;\nfunction getMeasurementDiv() {\n  var _a3;\n  (_a3 = document.getElementById(\"__textLabelMeasure\")) == null ? void 0 : _a3.remove();\n  const pre = document.createElement(\"pre\");\n  pre.id = \"__textLabelMeasure\";\n  Object.assign(pre.style, {\n    whiteSpace: \"pre\",\n    width: \"auto\",\n    borderLeft: \"2px solid transparent\",\n    borderRight: \"1px solid transparent\",\n    borderBottom: \"2px solid transparent\",\n    padding: \"0px\",\n    margin: \"0px\",\n    opacity: \"0\",\n    position: \"absolute\",\n    top: \"-500px\",\n    left: \"0px\",\n    zIndex: \"9999\",\n    userSelect: \"none\",\n    pointerEvents: \"none\",\n    font: \"var(--ls-font-family)\"\n  });\n  pre.tabIndex = -1;\n  document.body.appendChild(pre);\n  return pre;\n}\nif (typeof window !== \"undefined\") {\n  melm = getMeasurementDiv();\n}\nvar cache2 = \/* @__PURE__ *\/ new Map();\nvar getKey = (text, font5, padding) => {\n  return `${text}-${font5}-${padding}`;\n};\nvar hasCached = (text, font5, padding) => {\n  const key = getKey(text, font5, padding);\n  return cache2.has(key);\n};\nvar getCached = (text, font5, padding) => {\n  const key = getKey(text, font5, padding);\n  return cache2.get(key);\n};\nvar saveCached = (text, font5, padding, size) => {\n  const key = getKey(text, font5, padding);\n  cache2.set(key, size);\n};\nfunction getTextLabelSize(text, fontOrStyles, padding = 0) {\n  var _a3, _b, _c;\n  if (!text) {\n    return [16, 32];\n  }\n  let font5;\n  if (typeof fontOrStyles === \"string\") {\n    font5 = fontOrStyles;\n  } else {\n    font5 = `${(_a3 = fontOrStyles.fontStyle) != null ? _a3 : \"normal\"} ${(_b = fontOrStyles.fontVariant) != null ? _b : \"normal\"} ${(_c = fontOrStyles.fontWeight) != null ? _c : \"normal\"} ${fontOrStyles.fontSize}px\/${fontOrStyles.fontSize * fontOrStyles.lineHeight}px ${fontOrStyles.fontFamily}`;\n  }\n  if (!hasCached(text, font5, padding)) {\n    if (!melm) {\n      return [10, 10];\n    }\n    if (!melm.parentNode)\n      document.body.appendChild(melm);\n    melm.innerHTML = `${text}&#8203;`;\n    melm.style.font = font5;\n    melm.style.padding = padding + \"px\";\n    const rect = melm.getBoundingClientRect();\n    const width = Math.ceil(rect.width || 1);\n    const height = Math.ceil(rect.height || 1);\n    saveCached(text, font5, padding, [width, height]);\n  }\n  return getCached(text, font5, padding);\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/index.ts\nfunction uniqueId() {\n  return v1_default();\n}\nfunction validUUID(input) {\n  try {\n    parse_default(input);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction debounce(fn, ms = 0, immediateFn = void 0) {\n  let timeoutId;\n  return function(...args) {\n    immediateFn == null ? void 0 : immediateFn(...args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(args), ms);\n  };\n}\nfunction dedupe(arr) {\n  return [...new Set(arr)];\n}\nfunction lerp(a3, b3, t) {\n  return a3 + (b3 - a3) * t;\n}\nfunction isDarwin() {\n  return \/Mac|iPod|iPhone|iPad\/.test(window.navigator.platform);\n}\nfunction isDev() {\n  var _a3, _b, _c;\n  return ((_c = (_b = (_a3 = window == null ? void 0 : window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.get_state_from_store) == null ? void 0 : _c.call(_b, \"ui\/developer-mode?\")) || false;\n}\nfunction isSafari() {\n  const ua = window.navigator.userAgent.toLowerCase();\n  return ua.includes(\"webkit\") && !ua.includes(\"chrome\");\n}\nfunction modKey(e) {\n  return isDarwin() ? e.metaKey : e.ctrlKey;\n}\nvar MOD_KEY = isDarwin() ? \"\\u2318\" : \"ctrl\";\nfunction isNonNullable(value) {\n  return Boolean(value);\n}\nfunction delay(ms = 0) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/lib\/TLReactApp.ts\nvar TLReactApp = class extends TLApp {\n};\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useBoundsEvents.ts\nvar React2 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/constants.ts\nvar PI3 = Math.PI;\nvar TAU2 = PI3 \/ 2;\nvar PI22 = PI3 * 2;\nvar EPSILON2 = Math.PI \/ 180;\nvar DOUBLE_CLICK_DURATION = 300;\nvar NOOP = () => void 0;\nvar isSafari2 = \/^((?!chrome|android).)*safari\/i.test(navigator.userAgent);\nvar CURSORS2 = {\n  canvas: \"default\",\n  grab: \"grab\",\n  grabbing: \"grabbing\",\n  [\"top_left_corner\" \/* TopLeft *\/]: \"resize-nwse\",\n  [\"top_right_corner\" \/* TopRight *\/]: \"resize-nesw\",\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"resize-nwse\",\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"resize-nesw\",\n  [\"top_edge\" \/* Top *\/]: \"resize-ns\",\n  [\"right_edge\" \/* Right *\/]: \"resize-ew\",\n  [\"bottom_edge\" \/* Bottom *\/]: \"resize-ns\",\n  [\"left_edge\" \/* Left *\/]: \"resize-ew\"\n};\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useRendererContext.ts\nvar React = __toESM(require(\"react\"));\nvar contextMap = {};\nfunction getRendererContext(id3 = \"noid\") {\n  if (!contextMap[id3]) {\n    contextMap[id3] = React.createContext({});\n  }\n  return contextMap[id3];\n}\nfunction useRendererContext(id3 = \"noid\") {\n  return React.useContext(getRendererContext(id3));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useBoundsEvents.ts\nfunction useBoundsEvents(handle) {\n  const { callbacks } = useRendererContext();\n  const rDoubleClickTimer = React2.useRef(-1);\n  const events = React2.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      const elm = loopToHtmlElement(e.currentTarget);\n      elm.setPointerCapture(e.pointerId);\n      elm.addEventListener(\"pointerup\", onPointerUp);\n      (_a3 = callbacks.onPointerDown) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      const elm = e.target;\n      elm.removeEventListener(\"pointerup\", onPointerUp);\n      elm.releasePointerCapture(e.pointerId);\n      (_a3 = callbacks.onPointerUp) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_b = callbacks.onDoubleClick) == null ? void 0 : _b.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyDown,\n      onKeyUp\n    };\n  }, [callbacks]);\n  return events;\n}\nfunction loopToHtmlElement(elm) {\n  var _a3;\n  if ((_a3 = elm.namespaceURI) == null ? void 0 : _a3.endsWith(\"svg\")) {\n    if (elm.parentElement)\n      return loopToHtmlElement(elm.parentElement);\n    else\n      throw Error(\"Could not find a parent element of an HTML type!\");\n  }\n  return elm;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useResizeObserver.ts\nvar React3 = __toESM(require(\"react\"));\nvar getNearestScrollableContainer = (element) => {\n  let parent = element.parentElement;\n  while (parent) {\n    if (parent === document.body) {\n      return document;\n    }\n    const { overflowY } = window.getComputedStyle(parent);\n    const hasScrollableContent = parent.scrollHeight > parent.clientHeight;\n    if (hasScrollableContent && (overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\")) {\n      return parent;\n    }\n    parent = parent.parentElement;\n  }\n  return document;\n};\nfunction useResizeObserver(ref, viewport, onBoundsChange) {\n  const rIsMounted = React3.useRef(false);\n  const updateBounds = React3.useCallback(() => {\n    var _a3;\n    if (rIsMounted.current) {\n      const rect = (_a3 = ref.current) == null ? void 0 : _a3.getBoundingClientRect();\n      if (rect) {\n        const bounds = {\n          minX: rect.left,\n          maxX: rect.left + rect.width,\n          minY: rect.top,\n          maxY: rect.top + rect.height,\n          width: rect.width,\n          height: rect.height\n        };\n        viewport.updateBounds(bounds);\n        onBoundsChange == null ? void 0 : onBoundsChange(bounds);\n      }\n    } else {\n      rIsMounted.current = true;\n    }\n  }, [ref, onBoundsChange]);\n  React3.useEffect(() => {\n    const scrollingAnchor = ref.current ? getNearestScrollableContainer(ref.current) : document;\n    const debouncedupdateBounds = debounce(updateBounds, 100);\n    scrollingAnchor.addEventListener(\"scroll\", debouncedupdateBounds);\n    window.addEventListener(\"resize\", debouncedupdateBounds);\n    return () => {\n      scrollingAnchor.removeEventListener(\"scroll\", debouncedupdateBounds);\n      window.removeEventListener(\"resize\", debouncedupdateBounds);\n    };\n  }, []);\n  React3.useLayoutEffect(() => {\n    const resizeObserver = new ResizeObserver((entries) => {\n      if (entries[0].contentRect) {\n        updateBounds();\n      }\n    });\n    if (ref.current) {\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [ref]);\n  React3.useEffect(() => {\n    updateBounds();\n    setTimeout(() => {\n      var _a3, _b;\n      (_b = (_a3 = ref.current) == null ? void 0 : _a3.querySelector(\".tl-canvas\")) == null ? void 0 : _b.focus();\n    });\n  }, [ref]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useStylesheet.ts\nvar React4 = __toESM(require(\"react\"));\nvar styles = \/* @__PURE__ *\/ new Map();\nfunction makeCssTheme(prefix, theme) {\n  return Object.keys(theme).reduce((acc, key) => {\n    const value = theme[key];\n    if (value) {\n      return acc + `${`--${prefix}-${key}`}: ${value};\n`;\n    }\n    return acc;\n  }, \"\");\n}\nfunction useTheme(prefix, theme, selector = \".logseq-tldraw\") {\n  React4.useLayoutEffect(() => {\n    const style = document.createElement(\"style\");\n    const cssTheme = makeCssTheme(prefix, theme);\n    style.setAttribute(\"id\", `${prefix}-theme`);\n    style.setAttribute(\"data-selector\", selector);\n    style.innerHTML = `\n        ${selector} {\n          ${cssTheme}\n        }\n      `;\n    document.head.appendChild(style);\n    return () => {\n      if (style && document.head.contains(style)) {\n        document.head.removeChild(style);\n      }\n    };\n  }, [prefix, theme, selector]);\n}\nfunction useStyle(uid, rules) {\n  React4.useLayoutEffect(() => {\n    if (styles.get(uid)) {\n      return () => void 0;\n    }\n    const style = document.createElement(\"style\");\n    style.innerHTML = rules;\n    style.setAttribute(\"id\", uid);\n    document.head.appendChild(style);\n    styles.set(uid, style);\n    return () => {\n      if (style && document.head.contains(style)) {\n        document.head.removeChild(style);\n        styles.delete(uid);\n      }\n    };\n  }, [uid, rules]);\n}\nvar css = (strings, ...args) => strings.reduce(\n  (acc, string, index2) => acc + string + (index2 < args.length ? args[index2] : \"\"),\n  \"\"\n);\nvar defaultTheme = {\n  accent: \"var(--lx-accent-09, hsl(var(--primary)))\",\n  brushFill: \"var(--ls-scrollbar-background-color, rgba(0, 0, 0, .05))\",\n  brushStroke: \"var(--ls-scrollbar-thumb-hover-color, rgba(0, 0, 0, .05))\",\n  selectStroke: \"var(--color-selectedStroke)\",\n  selectFill: \"var(--color-selectedFill)\",\n  binding: \"var(--color-binding, rgba(65, 132, 244, 0.5))\",\n  background: \"var(--ls-primary-background-color, hsl(var(--background)))\",\n  foreground: \"var(--ls-primary-text-color, hsl(var(--foreground)))\",\n  grid: \"var(--ls-quaternary-background-color, hsl(var(--secondary)))\"\n};\nvar tlcss = css`\n  .tl-container {\n    --tl-zoom: 1;\n    --tl-scale: calc(1 \/ var(--tl-zoom));\n    --tl-padding: calc(64px \/ var(--tl-zoom));;\n    --tl-shadow-color: 0deg 0% 0%;\n    --tl-binding-distance: ${BINDING_DISTANCE}px;\n    --tl-shadow-elevation-low: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0px 0.6px 0.8px -0.7px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.1px 1.2px 1.5px -1.4px hsl(var(--tl-shadow-color) \/ 0.08);\n    --tl-shadow-elevation-medium: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0.1px 1.3px 1.7px -0.5px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.1px 2.8px 3.6px -1px hsl(var(--tl-shadow-color) \/ 0.07),\n      0.3px 6.1px 7.8px -1.4px hsl(var(--tl-shadow-color) \/ 0.09);\n    --tl-shadow-elevation-high: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0.1px 2.3px 3px -0.2px hsl(var(--tl-shadow-color) \/ 0.05),\n      0.2px 4.1px 5.3px -0.5px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.4px 6.6px 8.5px -0.7px hsl(var(--tl-shadow-color) \/ 0.07),\n      0.6px 10.3px 13.2px -1px hsl(var(--tl-shadow-color) \/ 0.08),\n      0.9px 16px 20.6px -1.2px hsl(var(--tl-shadow-color) \/ 0.09),\n      1.3px 24.3px 31.2px -1.4px hsl(var(--tl-shadow-color) \/ 0.1);\n    box-sizing: border-box;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n    padding: 0px;\n    margin: 0px;\n    outline: none;\n    z-index: 100;\n    user-select: none;\n    touch-action: none;\n    overscroll-behavior: none;\n    background-color: var(--tl-background);\n    cursor: inherit;\n    box-sizing: border-box;\n    color: var(--tl-foreground);\n    -webkit-user-select: none;\n    -webkit-user-drag: none;\n  }\n\n  .tl-overlay {\n    background: none;\n    fill: transparent;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n  }\n\n  .tl-snap-line {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-snap-point {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: all;\n    overflow: clip;\n    outline: none;\n  }\n\n  .tl-layer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 0px;\n    width: 0px;\n    contain: layout style size;\n  }\n\n  .tl-absolute {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    contain: layout style size;\n  }\n\n  .tl-positioned {\n    position: absolute;\n    transform-origin: center center;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    contain: layout style size;\n  }\n\n  .tl-positioned-svg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    contain: layout style size;\n    pointer-events: none;\n  }\n\n  .tl-positioned-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    padding: var(--tl-padding);\n    contain: layout style size;\n  }\n\n  .tl-positioned-inner {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n\n  .tl-counter-scaled {\n    transform: scale(var(--tl-scale));\n  }\n\n  .tl-dashed {\n    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));\n  }\n\n  .tl-transparent {\n    fill: transparent;\n    stroke: transparent;\n  }\n\n  .tl-corner-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-rotate-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-clone-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-clone-handle:hover {\n    fill: var(--tl-selectStroke);\n    cursor: pointer;\n  }\n\n  .tl-clone-handle:hover line {\n    stroke: var(--tl-background);\n  }\n\n  .tl-user {\n    left: -4px;\n    top: -4px;\n    height: 8px;\n    width: 8px;\n    border-radius: 100%;\n    pointer-events: none;\n  }\n\n  .tl-indicator {\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-indicator-container {\n    transform-origin: 0 0;\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user-indicator-bounds {\n    border-style: solid;\n    border-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-selected {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-hovered {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-clone-target {\n    pointer-events: all;\n  }\n\n  .tl-clone-target:hover .tl-clone-button {\n    opacity: 1;\n  }\n\n  .tl-clone-button-target {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  .tl-clone-button-target:hover .tl-clone-button {\n    fill: var(--tl-selectStroke);\n  }\n\n  .tl-clone-button {\n    opacity: 0;\n    r: calc(8px * var(--tl-scale));\n    stroke-width: calc(1.5px * var(--tl-scale));\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n  }\n\n  .tl-bounds {\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-bounds-bg {\n    stroke: none;\n    fill: var(--tl-selectFill);\n    pointer-events: all;\n    contain: layout style size;\n  }\n\n  .tl-bounds-fg {\n    fill: transparent;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-brush {\n    fill: var(--tl-brushFill);\n    stroke: var(--tl-brushStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-dot {\n    fill: var(--tl-background);\n    stroke: var(--tl-foreground);\n    stroke-width: 2px;\n  }\n\n  .tl-handle {\n    fill: var(--tl-background);\n    stroke: var(--tl-selectStroke);\n    stroke-width: 1.5px;\n    pointer-events: none;\n  }\n\n  .tl-handle-bg {\n    fill: transparent;\n    stroke: none;\n    r: calc(16px \/ max(1, var(--tl-zoom)));\n    pointer-events: all;\n    cursor: grab;\n  }\n\n  .tl-handle-bg:active {\n    pointer-events: all;\n    fill: none;\n  }\n\n  .tl-handle-bg:hover {\n    cursor: grab;\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-binding-indicator {\n    fill: transparent;\n    stroke: var(--tl-binding);\n  }\n\n  .tl-centered {\n    display: grid;\n    place-content: center;\n    place-items: center;\n  }\n\n  .tl-centered > * {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .tl-centered-g {\n    transform: translate(var(--tl-padding), var(--tl-padding));\n  }\n\n  .tl-current-parent > *[data-shy='true'] {\n    opacity: 1;\n  }\n\n  .tl-binding {\n    fill: none;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(2px * var(--tl-scale));\n  }\n\n  .tl-counter-scaled-positioned {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    padding: 0;\n    contain: layout style size;\n  }\n\n  .tl-fade-in {\n    opacity: 1;\n    transition-timing-function: ease-in-out;\n    transition-property: opacity;\n    transition-duration: 0.12s;\n    transition-delay: 0;\n  }\n\n  .tl-fade-out {\n    opacity: 0;\n    transition-timing-function: ease-out;\n    transition-property: opacity;\n    transition-duration: 0.12s;\n    transition-delay: 0;\n  }\n\n  .tl-counter-scaled-positioned > .tl-positioned-div {\n    user-select: none;\n    padding: 64px;\n  }\n\n  .tl-context-bar > * {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .tl-bounds-detail {\n    padding: 2px 3px;\n    border-radius: 1px;\n    white-space: nowrap;\n    width: fit-content;\n    text-align: center;\n    font-size: 12px;\n    font-weight: 500;\n    background-color: var(--tl-selectStroke);\n    color: var(--tl-background);\n  }\n\n  .tl-grid-canvas {\n    position: absolute;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-grid {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-grid-dot {\n    fill: var(--tl-grid);\n  }\n\n  .tl-html-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    zindex: 20000;\n    pointer-events: none;\n    border: 2px solid red;\n  }\n\n  .tl-direction-indicator {\n    z-index: 100000;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    fill: var(--tl-selectStroke);\n  }\n`;\nfunction useStylesheet(theme, selector) {\n  const tltheme = React4.useMemo(\n    () => __spreadValues(__spreadValues({}, defaultTheme), theme),\n    [theme]\n  );\n  useTheme(\"tl\", tltheme, selector);\n  useStyle(\"tl-canvas\", tlcss);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCanvasEvents.ts\nvar React6 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useApp.ts\nvar React5 = __toESM(require(\"react\"));\nvar contextMap2 = {};\nfunction getAppContext(id3 = \"noid\") {\n  if (!contextMap2[id3]) {\n    contextMap2[id3] = React5.createContext({});\n  }\n  return contextMap2[id3];\n}\nfunction useApp(id3 = \"noid\") {\n  return React5.useContext(getAppContext(id3));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCanvasEvents.ts\nfunction useCanvasEvents() {\n  const app = useApp();\n  const { callbacks } = useRendererContext();\n  const rDoubleClickTimer = React6.useRef(-1);\n  const events = React6.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b, _c;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      if (!e.isPrimary) {\n        return;\n      }\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_c = callbacks.onDoubleClick) == null ? void 0 : _c.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onDrop = (e) => __async(this, null, function* () {\n      e.preventDefault();\n      if (\"clientX\" in e) {\n        const point = [e.clientX, e.clientY];\n        app.drop(e.dataTransfer, point);\n      }\n    });\n    const onDragOver = (e) => {\n      e.preventDefault();\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onDrop,\n      onDragOver,\n      onTouchEnd: (e) => {\n        let tool = app.selectedTool.id;\n        if (tool === \"pencil\" || tool === \"highlighter\") {\n          e.preventDefault();\n        }\n      }\n    };\n  }, [callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/maths-b28d9b98.esm.js\nfunction clamp2(v2, min, max) {\n  return Math.max(min, Math.min(v2, max));\n}\nvar V = {\n  toVector(v2, fallback) {\n    if (v2 === void 0)\n      v2 = fallback;\n    return Array.isArray(v2) ? v2 : [v2, v2];\n  },\n  add(v12, v2) {\n    return [v12[0] + v2[0], v12[1] + v2[1]];\n  },\n  sub(v12, v2) {\n    return [v12[0] - v2[0], v12[1] - v2[1]];\n  },\n  addTo(v12, v2) {\n    v12[0] += v2[0];\n    v12[1] += v2[1];\n  },\n  subTo(v12, v2) {\n    v12[0] -= v2[0];\n    v12[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity)\n    return Math.pow(distance, constant * 5);\n  return distance * dimension * constant \/ (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0)\n    return clamp2(position, min, max);\n  if (position < min)\n    return -rubberband(min - position, max - min, constant) + min;\n  if (position > max)\n    return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/actions-e3d93fde.esm.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction ownKeys3(object2, enumerableOnly) {\n  var keys = Object.keys(object2);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object2);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object2, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i2 = 1; i2 < arguments.length; i2++) {\n    var source = null != arguments[i2] ? arguments[i2] : {};\n    i2 % 2 ? ownKeys3(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys3(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar EVENT_TYPE_MAP = {\n  pointer: {\n    start: \"down\",\n    change: \"move\",\n    end: \"up\"\n  },\n  mouse: {\n    start: \"down\",\n    change: \"move\",\n    end: \"up\"\n  },\n  touch: {\n    start: \"start\",\n    change: \"move\",\n    end: \"end\"\n  },\n  gesture: {\n    start: \"start\",\n    change: \"change\",\n    end: \"end\"\n  }\n};\nfunction capitalize(string) {\n  if (!string)\n    return \"\";\n  return string[0].toUpperCase() + string.slice(1);\n}\nvar actionsWithoutCaptureSupported = [\"enter\", \"leave\"];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action2 = \"\", capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action2] || action2 : action2;\n  return \"on\" + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? \"Capture\" : \"\");\n}\nvar pointerCaptureEvents = [\"gotpointercapture\", \"lostpointercapture\"];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf(\"passive\");\n  if (passive)\n    eventKey = eventKey.replace(\"passive\", \"\");\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? \"capturecapture\" : \"capture\";\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture)\n    eventKey = eventKey.replace(\"capture\", \"\");\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action2 = \"\") {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action2] || action2 : action2;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return \"touches\" in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event))\n    return \"touch\";\n  if (\"pointerType\" in event)\n    return event.pointerType;\n  return \"mouse\";\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter((e) => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === \"touchend\" || event.type === \"touchcancel\" ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  const dx = P2.clientX - P1.clientX;\n  const dy = P2.clientY - P1.clientY;\n  const cx2 = (P2.clientX + P1.clientX) \/ 2;\n  const cy = (P2.clientY + P1.clientY) \/ 2;\n  const distance = Math.hypot(dx, dy);\n  const angle = -(Math.atan2(dx, dy) * 180) \/ Math.PI;\n  const origin = [cx2, cy];\n  return {\n    angle,\n    distance,\n    origin\n  };\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map((touch) => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter((touch) => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if (\"buttons\" in event)\n    payload.buttons = event.buttons;\n  if (\"shiftKey\" in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\nfunction call(v2, ...args) {\n  if (typeof v2 === \"function\") {\n    return v2(...args);\n  } else {\n    return v2;\n  }\n}\nfunction noop3() {\n}\nfunction chain(...fns) {\n  if (fns.length === 0)\n    return noop3;\n  if (fns.length === 1)\n    return fns[0];\n  return function() {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\nvar BEFORE_LAST_KINEMATICS_DELAY = 32;\nvar Engine = class {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init)\n        this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = void 0;\n    state.memo = void 0;\n    state.elapsedTime = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n    }\n    state.startTime = state.timeStamp = event.timeStamp;\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt2 = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable)\n        state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt2 = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent)\n      this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false)\n        _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false)\n        _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false)\n        _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false)\n        _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional)\n      return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v12] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v12 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked)\n      this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if (\"bounds\" in config)\n            state._bounds = call(config.bounds, state);\n          if (this.setup)\n            this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband2 = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband2);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt2 > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt2 > 0) {\n        state.velocity = [absoluteDelta[0] \/ dt2, absoluteDelta[1] \/ dt2];\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active)\n      this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents)\n      return;\n    const memo6 = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo6 !== void 0)\n      state.memo = memo6;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n};\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return \"x\";\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return \"y\";\n  }\n  return void 0;\n}\nvar CoordinatesEngine = class extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", \"xy\");\n  }\n  reset() {\n    super.reset();\n    this.state.axis = void 0;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === \"object\" ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v2) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case \"x\":\n          v2[1] = 0;\n          break;\n        case \"y\":\n          v2[0] = 0;\n          break;\n      }\n    }\n  }\n};\nvar identity = (v2) => v2;\nvar DEFAULT_RUBBERBAND = 0.15;\nvar commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === \"function\")\n      return value;\n    if (value != null)\n      return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (false) {\n      const originalTransform = transform || identity;\n      return (v2) => {\n        const r2 = originalTransform(v2);\n        if (!isFinite(r2[0]) || !isFinite(r2[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r2[0]},${[1]}]`);\n        }\n        return r2;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (false) {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\nvar DEFAULT_AXIS_THRESHOLD = 0;\nvar coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === \"lock\";\n    if (!this.lockDirection)\n      return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === \"function\") {\n      return (state) => coordinatesConfigResolver.bounds(value(state));\n    }\n    if (\"current\" in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === \"function\" && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\nvar DISPLACEMENT = 10;\nvar KEYS_DELTA_MAP = {\n  ArrowRight: (factor = 1) => [DISPLACEMENT * factor, 0],\n  ArrowLeft: (factor = 1) => [-DISPLACEMENT * factor, 0],\n  ArrowUp: (factor = 1) => [0, -DISPLACEMENT * factor],\n  ArrowDown: (factor = 1) => [0, DISPLACEMENT * factor]\n};\nvar DragEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"dragging\");\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = void 0;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled)\n      return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons))\n      return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive)\n      return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== \"mouse\") {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive)\n      return;\n    if (state.type === event.type && event.timeStamp === state.timeStamp)\n      return;\n    const id3 = pointerId(event);\n    if (state._pointerId !== void 0 && id3 !== state._pointerId)\n      return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove(\"dragDelay\");\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === \"xy\") {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove(\"startPointerDrag\");\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (false) {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three\/fiber\\`. \n\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive)\n      return;\n    const id3 = pointerId(event);\n    if (state._pointerId !== void 0 && id3 !== state._pointerId)\n      return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [dirx, diry] = state.direction;\n      const [vx, vy] = state.velocity;\n      const [mx, my] = state.movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        if (Math.abs(vx) > svx && Math.abs(mx) > sx)\n          state.swipe[0] = dirx;\n        if (Math.abs(vy) > svy && Math.abs(my) > sy)\n          state.swipe[1] = diry;\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (false) {\n      try {\n        if (device === \"pointer\" && config.preventScrollDelay === void 0) {\n          const currentTarget = \"uv\" in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === \"auto\") {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https:\/\/use-gesture.netlify.app\/docs\/extras\/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {\n      }\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, \"change\", this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, \"end\", this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, \"cancel\", this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove2 = this.eventStore.add(this.sharedConfig.window, \"touch\", \"change\", this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, \"touch\", \"end\", remove2);\n    this.eventStore.add(this.sharedConfig.window, \"touch\", \"cancel\", remove2);\n    this.timeoutStore.add(\"startPointerDrag\", this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add(\"dragDelay\", () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP))\n      return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, \"start\", this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, \"change\", this.pointerMove.bind(this));\n      bindFunction(device, \"end\", this.pointerUp.bind(this));\n      bindFunction(device, \"cancel\", this.pointerUp.bind(this));\n      bindFunction(\"lostPointerCapture\", \"\", this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction(\"key\", \"down\", this.keyDown.bind(this));\n      bindFunction(\"key\", \"up\", this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction(\"click\", \"\", this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n};\nfunction persistEvent(event) {\n  \"persist\" in event && typeof event.persist === \"function\" && event.persist();\n}\nvar isBrowser = typeof window !== \"undefined\" && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && \"ontouchstart\" in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && \"onpointerdown\" in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && \"exitPointerLock\" in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return \"constructor\" in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nvar SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\nvar DEFAULT_PREVENT_SCROLL_DELAY = 250;\nvar DEFAULT_DRAG_DELAY = 180;\nvar DEFAULT_SWIPE_VELOCITY = 0.5;\nvar DEFAULT_SWIPE_DISTANCE = 50;\nvar DEFAULT_SWIPE_DURATION = 250;\nvar DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nvar dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch)\n      return \"touch\";\n    if (this.pointerLock)\n      return \"mouse\";\n    if (SUPPORT.pointer && !mouse)\n      return \"pointer\";\n    if (SUPPORT.touch)\n      return \"touch\";\n    return \"mouse\";\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === \"number\" ? preventScroll : preventScroll || preventScroll === void 0 && value ? DEFAULT_PREVENT_SCROLL_DELAY : void 0;\n    if (!SUPPORT.touchscreen || preventScroll === false)\n      return void 0;\n    return value ? value : preventScroll !== void 0 ? \"y\" : void 0;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === \"pointer\" && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = void 0\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value)\n      return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  }\n});\nif (false) {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\nvar SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nvar PINCH_WHEEL_RATIO = 100;\nvar PinchEngine = class extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"pinching\");\n    _defineProperty(this, \"aliasKey\", \"da\");\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = \/* @__PURE__ *\/ new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === \"wheel\") {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] \/ lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0)\n        state.axis = \"angle\";\n      else if (axisMovementDifference > 0)\n        state.axis = \"scale\";\n    }\n  }\n  restrictToAxis(v2) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === \"scale\")\n        v2[1] = 0;\n      else if (this.state.axis === \"angle\")\n        v2[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled)\n      return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every((id3) => ctrlTouchIds.has(id3)))\n        return;\n    }\n    if (ctrlTouchIds.size < 2)\n      return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1)\n      return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every((id3) => ctrlPointerIds.has(id3)))\n        return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2)\n      return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active)\n      return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active)\n      return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270)\n      delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] \/ state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active)\n      return;\n    if (this.state._touchIds.some((id3) => !this.ctrl.touchIds.has(id3))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {\n    }\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active)\n      return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    const state = this.state;\n    if (state._active)\n      return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    if (!this.state._active)\n      return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey])\n      return;\n    if (!this.state._active)\n      this.wheelStart(event);\n    else\n      this.wheelChange(event);\n    this.timeoutStore.add(\"wheelEnd\", this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = \"uv\" in event;\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (false) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\n\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] \/ PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, \"start\", this[device + \"Start\"].bind(this));\n      bindFunction(device, \"change\", this[device + \"Move\"].bind(this));\n      bindFunction(device, \"end\", this[device + \"End\"].bind(this));\n      bindFunction(device, \"cancel\", this[device + \"End\"].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction(\"wheel\", \"\", this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n};\nvar pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture)\n      return \"gesture\";\n    if (SUPPORT.touch && touch)\n      return \"touch\";\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer)\n        return \"pointer\";\n      if (SUPPORT.touch)\n        return \"touch\";\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = (state) => {\n      const D2 = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D2.min, D2.max];\n    };\n    const _angleBounds = (state) => {\n      const A3 = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A3.min, A3.max];\n    };\n    if (typeof scaleBounds !== \"function\" && typeof angleBounds !== \"function\")\n      return [_scaleBounds(), _angleBounds()];\n    return (state) => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === \"lock\";\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === void 0)\n      return \"ctrlKey\";\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\nvar MoveEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"moving\");\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    if (!this.state._active)\n      this.moveStart(event);\n    else\n      this.moveChange(event);\n    this.timeoutStore.add(\"moveEnd\", this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active)\n      return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"pointer\", \"change\", this.move.bind(this));\n    bindFunction(\"pointer\", \"leave\", this.moveEnd.bind(this));\n  }\n};\nvar moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\nvar ScrollEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"scrolling\");\n  }\n  scroll(event) {\n    if (!this.state._active)\n      this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add(\"scrollEnd\", this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"scroll\", \"\", this.scroll.bind(this));\n  }\n};\nvar scrollConfigResolver = coordinatesConfigResolver;\nvar WheelEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"wheeling\");\n  }\n  wheel(event) {\n    if (!this.state._active)\n      this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add(\"wheelEnd\", this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"wheel\", \"\", this.wheel.bind(this));\n  }\n};\nvar wheelConfigResolver = coordinatesConfigResolver;\nvar HoverEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"hovering\");\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    const state = this.state;\n    if (!state._active)\n      return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"pointer\", \"enter\", this.enter.bind(this));\n    bindFunction(\"pointer\", \"leave\", this.leave.bind(this));\n  }\n};\nvar hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\nvar EngineMap = \/* @__PURE__ *\/ new Map();\nvar ConfigResolverMap = \/* @__PURE__ *\/ new Map();\nfunction registerAction(action2) {\n  EngineMap.set(action2.key, action2.engine);\n  ConfigResolverMap.set(action2.key, action2.resolver);\n}\nvar dragAction = {\n  key: \"drag\",\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nvar hoverAction = {\n  key: \"hover\",\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nvar moveAction = {\n  key: \"move\",\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nvar pinchAction = {\n  key: \"pinch\",\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nvar scrollAction = {\n  key: \"scroll\",\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nvar wheelAction = {\n  key: \"wheel\",\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/react\/dist\/use-gesture-react.esm.js\nvar import_react2 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/use-gesture-core.esm.js\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i2;\n  for (i2 = 0; i2 < sourceKeys.length; i2++) {\n    key = sourceKeys[i2];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i2;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i2 = 0; i2 < sourceSymbolKeys.length; i2++) {\n      key = sourceSymbolKeys[i2];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => \"current\" in value ? value.current : value;\n    }\n    return void 0;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : void 0) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\nvar _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case \"function\":\n        if (false) {\n          const r2 = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r2))\n            result[key] = r2;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case \"object\":\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case \"boolean\":\n        if (resolver)\n          result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse2(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig, {\n    target,\n    eventOptions,\n    window: window2,\n    enabled,\n    transform\n  } = _ref, rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window: window2,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (false) {\n        if (![\"drag\", \"pinch\", \"scroll\", \"wheel\", \"move\", \"hover\"].includes(key)) {\n          if (key === \"domTarget\") {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\nvar EventStore = class {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", \/* @__PURE__ *\/ new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action2, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action2);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove2 = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove2);\n    };\n    listeners.add(remove2);\n    return remove2;\n  }\n  clean() {\n    this._listeners.forEach((remove2) => remove2());\n    this._listeners.clear();\n  }\n};\nvar TimeoutStore = class {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", \/* @__PURE__ *\/ new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout)\n      window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach((timeout) => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n};\nvar Controller = class {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"touchIds\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if (\"pointerId\" in event) {\n      if (event.type === \"pointerup\" || event.type === \"pointercancel\")\n        this.pointerIds.delete(event.pointerId);\n      else if (event.type === \"pointerdown\")\n        this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse2(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target)\n      this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target)\n        return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine2 = EngineMap.get(gestureKey);\n          new Engine2(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(\n          eventKey,\n          \"\",\n          (event) => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n            event,\n            args\n          })),\n          void 0,\n          true\n        );\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target)\n      return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, \"\", props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n};\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag)\n    setupGesture(ctrl, \"drag\");\n  if (internalHandlers.wheel)\n    setupGesture(ctrl, \"wheel\");\n  if (internalHandlers.scroll)\n    setupGesture(ctrl, \"scroll\");\n  if (internalHandlers.move)\n    setupGesture(ctrl, \"move\");\n  if (internalHandlers.pinch)\n    setupGesture(ctrl, \"pinch\");\n  if (internalHandlers.hover)\n    setupGesture(ctrl, \"hover\");\n}\nvar bindToProps = (props, eventOptions, withPassiveOption) => (device, action2, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action2, capture);\n  if (withPassiveOption && passive)\n    handlerProp += \"Passive\";\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\nvar RE_NOT_NATIVE = \/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)\/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = \/* @__PURE__ *\/ new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey))\n    return;\n  if (!EngineMap.has(key)) {\n    if (false) {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\n\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + \"Start\";\n  const endKey = handlerKey + \"End\";\n  const fn = (state) => {\n    let memo6 = void 0;\n    if (state.first && startKey in handlers)\n      handlers[startKey](state);\n    if (handlerKey in handlers)\n      memo6 = handlers[handlerKey](state);\n    if (state.last && endKey in handlers)\n      handlers[endKey](state);\n    return memo6;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, \"onDrag\", \"drag\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onWheel\", \"wheel\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onScroll\", \"scroll\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onPinch\", \"pinch\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onMove\", \"move\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onHover\", \"hover\", internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/react\/dist\/use-gesture-react.esm.js\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = import_react2.default.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  import_react2.default.useEffect(ctrl.effect.bind(ctrl));\n  import_react2.default.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === void 0) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return void 0;\n}\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture2(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, void 0, nativeHandlers);\n  };\n}\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useGestureEvents.ts\nvar React8 = __toESM(require(\"react\"));\nfunction useGestureEvents(ref) {\n  const { viewport, inputs, callbacks } = useRendererContext();\n  const rOriginPoint = React8.useRef(void 0);\n  const rDelta = React8.useRef([0, 0]);\n  const rWheelTs = React8.useRef(0);\n  const events = React8.useMemo(() => {\n    const onWheel = (gesture) => {\n      var _a3;\n      const { event } = gesture;\n      event.preventDefault();\n      const [x2, y2, z2] = normalizeWheel(event);\n      if (inputs.state === \"pinching\" || rWheelTs.current >= event.timeStamp) {\n        return;\n      }\n      rWheelTs.current = event.timeStamp;\n      if ((event.altKey || event.ctrlKey || event.metaKey) && event.buttons === 0) {\n        const bounds = viewport.bounds;\n        const point = (_a3 = inputs.currentScreenPoint) != null ? _a3 : [bounds.width \/ 2, bounds.height \/ 2];\n        const delta = z2 \/ 100;\n        const zoom = viewport.camera.zoom;\n        viewport.onZoom(point, zoom - delta * zoom);\n        return;\n      } else {\n        const delta = src_default.mul(\n          event.shiftKey && !isDarwin() ? [y2, 0] : [x2, y2],\n          0.8\n        );\n        if (src_default.isEqual(delta, [0, 0])) {\n          return;\n        }\n        viewport.panCamera(delta);\n      }\n    };\n    const onPinchStart = ({ event, delta, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      (_a3 = callbacks.onPinchStart) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [...delta, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rOriginPoint.current = origin;\n      rDelta.current = [0, 0];\n    };\n    const onPinch = ({ event, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      if (!rOriginPoint.current) {\n        rOriginPoint.current = origin;\n      }\n      const delta = src_default.sub(rOriginPoint.current, origin);\n      const trueDelta = src_default.sub(delta, rDelta.current);\n      (_a3 = callbacks.onPinch) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [...trueDelta, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rDelta.current = delta;\n    };\n    const onPinchEnd = ({ event, delta, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      if (inputs.state !== \"pinching\")\n        return;\n      (_a3 = callbacks.onPinchEnd) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [0, 0, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rDelta.current = [0, 0];\n    };\n    return {\n      onWheel,\n      onPinchStart,\n      onPinchEnd,\n      onPinch\n    };\n  }, [callbacks]);\n  useGesture(events, {\n    target: ref,\n    eventOptions: { passive: false },\n    pinch: {\n      from: [viewport.camera.zoom, viewport.camera.zoom],\n      scaleBounds: () => ({\n        from: viewport.camera.zoom,\n        max: TLViewport.maxZoom,\n        min: TLViewport.minZoom\n      })\n    }\n  });\n}\nfunction normalizeWheel(event) {\n  const MAX_ZOOM_STEP = 10;\n  const { deltaY, deltaX } = event;\n  let deltaZ = 0;\n  if (event.ctrlKey || event.metaKey) {\n    const signY = Math.sign(event.deltaY);\n    const absDeltaY = Math.abs(event.deltaY);\n    let dy = deltaY;\n    if (absDeltaY > MAX_ZOOM_STEP) {\n      dy = MAX_ZOOM_STEP * signY;\n    }\n    deltaZ = dy;\n  }\n  return [deltaX, deltaY, deltaZ];\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCounterScaledPosition.tsx\nvar React9 = __toESM(require(\"react\"));\nfunction useCounterScaledPosition(ref, bounds, rotation, zIndex) {\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    elm.style.transform = `translate(\n        calc(${bounds.minX}px - var(--tl-padding)),\n        calc(${bounds.minY}px - var(--tl-padding)))\n        scale(var(--tl-scale))`;\n  }, [bounds.minX, bounds.minY, rotation, bounds.rotation]);\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    elm.style.width = `calc(${Math.floor(bounds.width)}px + (var(--tl-padding) * 2))`;\n    elm.style.height = `calc(${Math.floor(bounds.height)}px + (var(--tl-padding) * 2))`;\n  }, [bounds.width, bounds.height]);\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    if (zIndex !== void 0)\n      elm.style.zIndex = zIndex.toString();\n  }, [zIndex]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useSetup.ts\nvar React10 = __toESM(require(\"react\"));\nfunction useSetup(app, props) {\n  const {\n    onPersist,\n    onError,\n    onMount,\n    onCreateAssets,\n    onCreateShapes,\n    onDeleteAssets,\n    onDeleteShapes,\n    onDrop,\n    onPaste,\n    onCopy,\n    onCanvasDBClick\n  } = props;\n  React10.useLayoutEffect(() => {\n    const unsubs = [];\n    if (!app)\n      return;\n    if (typeof window !== void 0) {\n      window[\"tlapps\"] = window[\"tlapps\"] || {};\n      window[\"tlapps\"][app.uuid] = app;\n    }\n    if (onMount)\n      onMount(app, null);\n    return () => {\n      unsubs.forEach((unsub) => unsub());\n      if (typeof window !== void 0 && window[\"tlapps\"]) {\n        delete window[\"tlapps\"][app.uuid];\n      }\n    };\n  }, [app]);\n  React10.useLayoutEffect(() => {\n    const unsubs = [];\n    if (onPersist)\n      unsubs.push(app.subscribe(\"persist\", onPersist));\n    if (onError)\n      unsubs.push(app.subscribe(\"error\", onError));\n    if (onCreateShapes)\n      unsubs.push(app.subscribe(\"create-shapes\", onCreateShapes));\n    if (onCreateAssets)\n      unsubs.push(app.subscribe(\"create-assets\", onCreateAssets));\n    if (onDeleteShapes)\n      unsubs.push(app.subscribe(\"delete-shapes\", onDeleteShapes));\n    if (onDeleteAssets)\n      unsubs.push(app.subscribe(\"delete-assets\", onDeleteAssets));\n    if (onDrop)\n      unsubs.push(app.subscribe(\"drop\", onDrop));\n    if (onPaste)\n      unsubs.push(app.subscribe(\"paste\", onPaste));\n    if (onCopy)\n      unsubs.push(app.subscribe(\"copy\", onCopy));\n    if (onCanvasDBClick)\n      unsubs.push(app.subscribe(\"canvas-dbclick\", onCanvasDBClick));\n    return () => unsubs.forEach((unsub) => unsub());\n  }, [app, onPersist, onError]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useAppSetup.ts\nvar React11 = __toESM(require(\"react\"));\nfunction useAppSetup(props) {\n  if (\"app\" in props)\n    return props.app;\n  const [app] = React11.useState(\n    () => new TLReactApp(props.model, props.Shapes, props.Tools, props.readOnly)\n  );\n  React11.useLayoutEffect(() => {\n    return () => {\n      app.dispose();\n    };\n  }, [app]);\n  return app;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/usePropControl.ts\nvar React12 = __toESM(require(\"react\"));\nfunction usePropControl(app, props) {\n  React12.useEffect(() => {\n    if (!(\"model\" in props))\n      return;\n    if (props.model)\n      app.loadDocumentModel(props.model);\n  }, [props.model]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/usePreventNavigation.ts\nvar React13 = __toESM(require(\"react\"));\nfunction usePreventNavigation(rCanvas) {\n  const context = useRendererContext();\n  const {\n    viewport: { bounds }\n  } = context;\n  React13.useEffect(() => {\n    const preventGestureNavigation = (event) => {\n      event.preventDefault();\n    };\n    const preventNavigation = (event) => {\n      if (event.touches.length === 0) {\n        return;\n      }\n      const touchXPosition = event.touches[0].pageX;\n      const touchXRadius = event.touches[0].radiusX || 0;\n      if (touchXPosition - touchXRadius < 10 || touchXPosition + touchXRadius > bounds.width - 10) {\n        event.preventDefault();\n      }\n    };\n    const elm = rCanvas.current;\n    if (!elm)\n      return () => void 0;\n    elm.addEventListener(\"touchstart\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gestureend\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gesturechange\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gesturestart\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"touchstart\", preventNavigation, {\n      passive: true\n    });\n    return () => {\n      if (elm) {\n        elm.removeEventListener(\"touchstart\", preventGestureNavigation);\n        elm.removeEventListener(\"gestureend\", preventGestureNavigation);\n        elm.removeEventListener(\"gesturechange\", preventGestureNavigation);\n        elm.removeEventListener(\"gesturestart\", preventGestureNavigation);\n        elm.removeEventListener(\"touchstart\", preventNavigation);\n      }\n    };\n  }, [rCanvas, bounds.width]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useHandleEvents.ts\nvar React14 = __toESM(require(\"react\"));\nfunction useHandleEvents(shape, id3) {\n  const { inputs, callbacks } = useRendererContext();\n  const events = React14.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      const handle = shape.props.handles[id3];\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      const handle = shape.props.handles[id3];\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyUp,\n      onKeyDown\n    };\n  }, [shape.id, inputs, callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCursor.ts\nvar React15 = __toESM(require(\"react\"));\nfunction getCursorCss(svg, r2, f2 = false) {\n  return `url(\"data:image\/svg+xml,<svg height='32' width='32' viewBox='0 0 35 35' xmlns='http:\/\/www.w3.org\/2000\/svg'><g fill='none' style='transform-origin:center center' transform='rotate(${r2})${f2 ? ` scale(-1,-1) translate(0, -32)` : \"\"}'>` + svg.replaceAll(`\"`, `'`) + '<\/g><\/svg>\") 16 16, pointer';\n}\nvar CORNER_SVG = `<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'\/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'\/>`;\nvar EDGE_SVG = `<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'\/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'\/>`;\nvar ROTATE_CORNER_SVG = `<g><path d=\"M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z\" fill=\"black\"\/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z\" fill=\"white\"\/><\/g>`;\nvar TEXT_SVG = `<path d='m6.94 2v-1c-1.35866267-.08246172-2.66601117.53165299-3.47 1.63-.80398883-1.09834701-2.11133733-1.71246172-3.47-1.63v1c1.30781678-.16635468 2.55544738.59885876 3 1.84v5.1h-1v1h1v4.16c-.4476345 1.2386337-1.69302129 2.002471-3 1.84v1c1.35687108.0731933 2.6600216-.5389494 3.47-1.63.8099784 1.0910506 2.11312892 1.7031933 3.47 1.63v-1c-1.28590589.133063-2.49760499-.6252793-2.94-1.84v-4.18h1v-1h-1v-5.08c.43943906-1.21710975 1.65323743-1.97676587 2.94-1.84z' transform='translate(14 9)'\/>`;\nvar GRABBING_SVG = `<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='%23fff'\/><g stroke='%23000' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'\/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'\/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'\/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'\/><\/g>`;\nvar GRAB_SVG = `<path d=\"m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121\" fill=\"%23fff\"\/><g stroke=\"%23000\" stroke-linecap=\"round\" stroke-width=\".75\"><path d=\"m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121\" stroke-linejoin=\"round\"\/><path d=\"m20.5664 21.7344v-3.459\"\/><path d=\"m18.5508 21.7461-.016-3.473\"\/><path d=\"m16.5547 18.3047.021 3.426\"\/><\/g>`;\nvar CURSORS3 = {\n  [\"none\" \/* None *\/]: (r2, f2) => \"none\",\n  [\"default\" \/* Default *\/]: (r2, f2) => \"default\",\n  [\"pointer\" \/* Pointer *\/]: (r2, f2) => \"pointer\",\n  [\"crosshair\" \/* Cross *\/]: (r2, f2) => \"crosshair\",\n  [\"move\" \/* Move *\/]: (r2, f2) => \"move\",\n  [\"wait\" \/* Wait *\/]: (r2, f2) => \"wait\",\n  [\"progress\" \/* Progress *\/]: (r2, f2) => \"progress\",\n  [\"grab\" \/* Grab *\/]: (r2, f2) => getCursorCss(GRAB_SVG, r2, f2),\n  [\"grabbing\" \/* Grabbing *\/]: (r2, f2) => getCursorCss(GRABBING_SVG, r2, f2),\n  [\"text\" \/* Text *\/]: (r2, f2) => getCursorCss(TEXT_SVG, r2, f2),\n  [\"resize-edge\" \/* ResizeEdge *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2, f2),\n  [\"resize-corner\" \/* ResizeCorner *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2, f2),\n  [\"ew-resize\" \/* EwResize *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2, f2),\n  [\"ns-resize\" \/* NsResize *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2 + 90, f2),\n  [\"nesw-resize\" \/* NeswResize *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2, f2),\n  [\"nwse-resize\" \/* NwseResize *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2 + 90, f2),\n  [\"rotate\" \/* Rotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 45, f2),\n  [\"nwse-rotate\" \/* NwseRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2, f2),\n  [\"nesw-rotate\" \/* NeswRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 90, f2),\n  [\"senw-rotate\" \/* SenwRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 180, f2),\n  [\"swne-rotate\" \/* SwneRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 270, f2)\n};\nfunction useCursor(ref, cursor, rotation = 0) {\n  React15.useEffect(() => {\n    const elm = ref.current;\n    if (!elm)\n      return;\n    elm.style.cursor = CURSORS3[cursor](GeomUtils.radiansToDegrees(rotation));\n  }, [cursor, rotation]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useZoom.ts\nvar React16 = __toESM(require(\"react\"));\nfunction useZoom(ref) {\n  const { viewport } = useRendererContext();\n  const app = useApp();\n  React16.useLayoutEffect(() => {\n    return autorun(() => {\n      const debouncedZoom = debounce(() => {\n        var _a3;\n        (_a3 = ref.current) == null ? void 0 : _a3.style.setProperty(\"--tl-zoom\", viewport.camera.zoom.toString());\n      }, 200);\n      if (app.inputs.state !== \"pinching\" && viewport.camera.zoom != null) {\n        debouncedZoom();\n      }\n    });\n  }, []);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useMinimapEvents.ts\nvar React17 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useDebounced.ts\nvar import_react4 = require(\"react\");\nfunction useDebouncedValue(value, ms = 0) {\n  const [debouncedValue, setDebouncedValue] = (0, import_react4.useState)(value);\n  (0, import_react4.useEffect)(() => {\n    let canceled = false;\n    const handler = setTimeout(() => {\n      if (!canceled) {\n        setDebouncedValue(value);\n      }\n    }, ms);\n    return () => {\n      canceled = true;\n      clearTimeout(handler);\n    };\n  }, [value, ms]);\n  return debouncedValue;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useRestoreCamera.ts\nvar React18 = __toESM(require(\"react\"));\nvar storingKey = \"logseq.tldraw.camera\";\nvar cacheCamera = (app) => {\n  window.sessionStorage.setItem(\n    storingKey + \":\" + app.currentPageId,\n    JSON.stringify(app.viewport.camera)\n  );\n};\nvar loadCamera = (app) => {\n  var _a3;\n  const camera = JSON.parse(\n    (_a3 = window.sessionStorage.getItem(storingKey + \":\" + app.currentPageId)) != null ? _a3 : \"null\"\n  );\n  if (camera) {\n    app.viewport.update(camera);\n  } else if (app.selectedIds.size) {\n    app.api.zoomToSelection();\n  } else {\n    app.api.zoomToFit();\n  }\n};\nfunction useRestoreCamera() {\n  const app = useApp();\n  React18.useEffect(() => {\n    reaction(\n      () => __spreadValues({}, app.viewport.camera),\n      () => cacheCamera(app)\n    );\n  }, [app.viewport.camera]);\n  React18.useEffect(() => {\n    loadCamera(app);\n  }, [app]);\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/assertEnvironment.js\nvar import_react5 = require(\"react\");\nif (!import_react5.useState) {\n  throw new Error(\"mobx-react-lite requires React with Hooks support\");\n}\nif (!makeObservable) {\n  throw new Error(\"mobx-react-lite@3 requires mobx at least version 6 to be available\");\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactBatchedUpdates.js\nvar import_react_dom = require(\"react-dom\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/observerBatching.js\nfunction defaultNoopBatch(callback) {\n  callback();\n}\nfunction observerBatching(reactionScheduler3) {\n  if (!reactionScheduler3) {\n    reactionScheduler3 = defaultNoopBatch;\n    if (false) {\n      console.warn(\"[MobX] Failed to get unstable_batched updates from react-dom \/ react-native\");\n    }\n  }\n  configure({ reactionScheduler: reactionScheduler3 });\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useObserver.js\nvar import_react6 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/printDebugValue.js\nfunction printDebugValue(v2) {\n  return getDependencyTree(v2);\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/FinalizationRegistryWrapper.js\nvar FinalizationRegistryLocal = typeof FinalizationRegistry === \"undefined\" ? void 0 : FinalizationRegistry;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactionCleanupTrackingCommon.js\nfunction createTrackingData(reaction2) {\n  var trackingData = {\n    reaction: reaction2,\n    mounted: false,\n    changedBeforeMount: false,\n    cleanAt: Date.now() + CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS\n  };\n  return trackingData;\n}\nvar CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS = 1e4;\nvar CLEANUP_TIMER_LOOP_MILLIS = 1e4;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/createReactionCleanupTrackingUsingFinalizationRegister.js\nfunction createReactionCleanupTrackingUsingFinalizationRegister(FinalizationRegistry2) {\n  var cleanupTokenToReactionTrackingMap = \/* @__PURE__ *\/ new Map();\n  var globalCleanupTokensCounter = 1;\n  var registry = new FinalizationRegistry2(function cleanupFunction(token) {\n    var trackedReaction = cleanupTokenToReactionTrackingMap.get(token);\n    if (trackedReaction) {\n      trackedReaction.reaction.dispose();\n      cleanupTokenToReactionTrackingMap.delete(token);\n    }\n  });\n  return {\n    addReactionToTrack: function(reactionTrackingRef, reaction2, objectRetainedByReact) {\n      var token = globalCleanupTokensCounter++;\n      registry.register(objectRetainedByReact, token, reactionTrackingRef);\n      reactionTrackingRef.current = createTrackingData(reaction2);\n      reactionTrackingRef.current.finalizationRegistryCleanupToken = token;\n      cleanupTokenToReactionTrackingMap.set(token, reactionTrackingRef.current);\n      return reactionTrackingRef.current;\n    },\n    recordReactionAsCommitted: function(reactionRef) {\n      registry.unregister(reactionRef);\n      if (reactionRef.current && reactionRef.current.finalizationRegistryCleanupToken) {\n        cleanupTokenToReactionTrackingMap.delete(reactionRef.current.finalizationRegistryCleanupToken);\n      }\n    },\n    forceCleanupTimerToRunNowForTests: function() {\n    },\n    resetCleanupScheduleForTests: function() {\n    }\n  };\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/createTimerBasedReactionCleanupTracking.js\nvar __values = function(o2) {\n  var s2 = typeof Symbol === \"function\" && Symbol.iterator, m2 = s2 && o2[s2], i2 = 0;\n  if (m2)\n    return m2.call(o2);\n  if (o2 && typeof o2.length === \"number\")\n    return {\n      next: function() {\n        if (o2 && i2 >= o2.length)\n          o2 = void 0;\n        return { value: o2 && o2[i2++], done: !o2 };\n      }\n    };\n  throw new TypeError(s2 ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nfunction createTimerBasedReactionCleanupTracking() {\n  var uncommittedReactionRefs = \/* @__PURE__ *\/ new Set();\n  var reactionCleanupHandle;\n  function forceCleanupTimerToRunNowForTests2() {\n    if (reactionCleanupHandle) {\n      clearTimeout(reactionCleanupHandle);\n      cleanUncommittedReactions();\n    }\n  }\n  function resetCleanupScheduleForTests2() {\n    var e_1, _a3;\n    if (uncommittedReactionRefs.size > 0) {\n      try {\n        for (var uncommittedReactionRefs_1 = __values(uncommittedReactionRefs), uncommittedReactionRefs_1_1 = uncommittedReactionRefs_1.next(); !uncommittedReactionRefs_1_1.done; uncommittedReactionRefs_1_1 = uncommittedReactionRefs_1.next()) {\n          var ref = uncommittedReactionRefs_1_1.value;\n          var tracking = ref.current;\n          if (tracking) {\n            tracking.reaction.dispose();\n            ref.current = null;\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n      } finally {\n        try {\n          if (uncommittedReactionRefs_1_1 && !uncommittedReactionRefs_1_1.done && (_a3 = uncommittedReactionRefs_1.return))\n            _a3.call(uncommittedReactionRefs_1);\n        } finally {\n          if (e_1)\n            throw e_1.error;\n        }\n      }\n      uncommittedReactionRefs.clear();\n    }\n    if (reactionCleanupHandle) {\n      clearTimeout(reactionCleanupHandle);\n      reactionCleanupHandle = void 0;\n    }\n  }\n  function ensureCleanupTimerRunning() {\n    if (reactionCleanupHandle === void 0) {\n      reactionCleanupHandle = setTimeout(cleanUncommittedReactions, CLEANUP_TIMER_LOOP_MILLIS);\n    }\n  }\n  function scheduleCleanupOfReactionIfLeaked(ref) {\n    uncommittedReactionRefs.add(ref);\n    ensureCleanupTimerRunning();\n  }\n  function recordReactionAsCommitted2(reactionRef) {\n    uncommittedReactionRefs.delete(reactionRef);\n  }\n  function cleanUncommittedReactions() {\n    reactionCleanupHandle = void 0;\n    var now = Date.now();\n    uncommittedReactionRefs.forEach(function(ref) {\n      var tracking = ref.current;\n      if (tracking) {\n        if (now >= tracking.cleanAt) {\n          tracking.reaction.dispose();\n          ref.current = null;\n          uncommittedReactionRefs.delete(ref);\n        }\n      }\n    });\n    if (uncommittedReactionRefs.size > 0) {\n      ensureCleanupTimerRunning();\n    }\n  }\n  return {\n    addReactionToTrack: function(reactionTrackingRef, reaction2, objectRetainedByReact) {\n      reactionTrackingRef.current = createTrackingData(reaction2);\n      scheduleCleanupOfReactionIfLeaked(reactionTrackingRef);\n      return reactionTrackingRef.current;\n    },\n    recordReactionAsCommitted: recordReactionAsCommitted2,\n    forceCleanupTimerToRunNowForTests: forceCleanupTimerToRunNowForTests2,\n    resetCleanupScheduleForTests: resetCleanupScheduleForTests2\n  };\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactionCleanupTracking.js\nvar _a2 = FinalizationRegistryLocal ? createReactionCleanupTrackingUsingFinalizationRegister(FinalizationRegistryLocal) : createTimerBasedReactionCleanupTracking();\nvar addReactionToTrack = _a2.addReactionToTrack;\nvar recordReactionAsCommitted = _a2.recordReactionAsCommitted;\nvar resetCleanupScheduleForTests = _a2.resetCleanupScheduleForTests;\nvar forceCleanupTimerToRunNowForTests = _a2.forceCleanupTimerToRunNowForTests;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/staticRendering.js\nvar globalIsUsingStaticRendering = false;\nfunction isUsingStaticRendering() {\n  return globalIsUsingStaticRendering;\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useObserver.js\nvar __read = function(o2, n2) {\n  var m2 = typeof Symbol === \"function\" && o2[Symbol.iterator];\n  if (!m2)\n    return o2;\n  var i2 = m2.call(o2), r2, ar = [], e;\n  try {\n    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done)\n      ar.push(r2.value);\n  } catch (error) {\n    e = { error };\n  } finally {\n    try {\n      if (r2 && !r2.done && (m2 = i2[\"return\"]))\n        m2.call(i2);\n    } finally {\n      if (e)\n        throw e.error;\n    }\n  }\n  return ar;\n};\nfunction observerComponentNameFor(baseComponentName) {\n  return \"observer\".concat(baseComponentName);\n}\nvar ObjectToBeRetainedByReact = function() {\n  function ObjectToBeRetainedByReact2() {\n  }\n  return ObjectToBeRetainedByReact2;\n}();\nfunction objectToBeRetainedByReactFactory() {\n  return new ObjectToBeRetainedByReact();\n}\nfunction useObserver(fn, baseComponentName) {\n  if (baseComponentName === void 0) {\n    baseComponentName = \"observed\";\n  }\n  if (isUsingStaticRendering()) {\n    return fn();\n  }\n  var _a3 = __read(import_react6.default.useState(objectToBeRetainedByReactFactory), 1), objectRetainedByReact = _a3[0];\n  var _b = __read(import_react6.default.useState(), 2), setState = _b[1];\n  var forceUpdate = function() {\n    return setState([]);\n  };\n  var reactionTrackingRef = import_react6.default.useRef(null);\n  if (!reactionTrackingRef.current) {\n    var newReaction = new Reaction(observerComponentNameFor(baseComponentName), function() {\n      if (trackingData_1.mounted) {\n        forceUpdate();\n      } else {\n        trackingData_1.changedBeforeMount = true;\n      }\n    });\n    var trackingData_1 = addReactionToTrack(reactionTrackingRef, newReaction, objectRetainedByReact);\n  }\n  var reaction2 = reactionTrackingRef.current.reaction;\n  import_react6.default.useDebugValue(reaction2, printDebugValue);\n  import_react6.default.useEffect(function() {\n    recordReactionAsCommitted(reactionTrackingRef);\n    if (reactionTrackingRef.current) {\n      reactionTrackingRef.current.mounted = true;\n      if (reactionTrackingRef.current.changedBeforeMount) {\n        reactionTrackingRef.current.changedBeforeMount = false;\n        forceUpdate();\n      }\n    } else {\n      reactionTrackingRef.current = {\n        reaction: new Reaction(observerComponentNameFor(baseComponentName), function() {\n          forceUpdate();\n        }),\n        mounted: true,\n        changedBeforeMount: false,\n        cleanAt: Infinity\n      };\n      forceUpdate();\n    }\n    return function() {\n      reactionTrackingRef.current.reaction.dispose();\n      reactionTrackingRef.current = null;\n    };\n  }, []);\n  var rendering;\n  var exception;\n  reaction2.track(function() {\n    try {\n      rendering = fn();\n    } catch (e) {\n      exception = e;\n    }\n  });\n  if (exception) {\n    throw exception;\n  }\n  return rendering;\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/observer.js\nvar import_react7 = require(\"react\");\nvar hasSymbol = typeof Symbol === \"function\" && Symbol.for;\nvar ReactForwardRefSymbol = hasSymbol ? Symbol.for(\"react.forward_ref\") : typeof import_react7.forwardRef === \"function\" && (0, import_react7.forwardRef)(function(props) {\n  return null;\n})[\"$$typeof\"];\nvar ReactMemoSymbol = hasSymbol ? Symbol.for(\"react.memo\") : typeof import_react7.memo === \"function\" && (0, import_react7.memo)(function(props) {\n  return null;\n})[\"$$typeof\"];\nfunction observer(baseComponent, options) {\n  var _a3;\n  if (false) {\n    warnObserverOptionsDeprecated = false;\n    console.warn(\"[mobx-react-lite] `observer(fn, { forwardRef: true })` is deprecated, use `observer(React.forwardRef(fn))`\");\n  }\n  if (ReactMemoSymbol && baseComponent[\"$$typeof\"] === ReactMemoSymbol) {\n    throw new Error(\"[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.\");\n  }\n  if (isUsingStaticRendering()) {\n    return baseComponent;\n  }\n  var useForwardRef = (_a3 = options === null || options === void 0 ? void 0 : options.forwardRef) !== null && _a3 !== void 0 ? _a3 : false;\n  var render = baseComponent;\n  var baseComponentName = baseComponent.displayName || baseComponent.name;\n  if (ReactForwardRefSymbol && baseComponent[\"$$typeof\"] === ReactForwardRefSymbol) {\n    useForwardRef = true;\n    render = baseComponent[\"render\"];\n    if (typeof render !== \"function\") {\n      throw new Error(\"[mobx-react-lite] `render` property of ForwardRef was not a function\");\n    }\n  }\n  var observerComponent = function(props, ref) {\n    return useObserver(function() {\n      return render(props, ref);\n    }, baseComponentName);\n  };\n  if (baseComponentName !== \"\") {\n    ;\n    observerComponent.displayName = baseComponentName;\n  }\n  if (baseComponent.contextTypes) {\n    ;\n    observerComponent.contextTypes = baseComponent.contextTypes;\n  }\n  if (useForwardRef) {\n    observerComponent = (0, import_react7.forwardRef)(observerComponent);\n  }\n  observerComponent = (0, import_react7.memo)(observerComponent);\n  copyStaticProperties(baseComponent, observerComponent);\n  if (false) {\n    Object.defineProperty(observerComponent, \"contextTypes\", {\n      set: function() {\n        var _a4;\n        throw new Error(\"[mobx-react-lite] `\".concat(this.displayName || ((_a4 = this.type) === null || _a4 === void 0 ? void 0 : _a4.displayName) || \"Component\", \".contextTypes` must be set before applying `observer`.\"));\n      }\n    });\n  }\n  return observerComponent;\n}\nvar hoistBlackList = {\n  $$typeof: true,\n  render: true,\n  compare: true,\n  type: true,\n  displayName: true\n};\nfunction copyStaticProperties(base, target) {\n  Object.keys(base).forEach(function(key) {\n    if (!hoistBlackList[key]) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(base, key));\n    }\n  });\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/ObserverComponent.js\nfunction ObserverComponent(_a3) {\n  var children = _a3.children, render = _a3.render;\n  var component = children || render;\n  if (typeof component !== \"function\") {\n    return null;\n  }\n  return useObserver(component);\n}\nif (false) {\n  ObserverComponent.propTypes = {\n    children: ObserverPropsCheck,\n    render: ObserverPropsCheck\n  };\n}\nObserverComponent.displayName = \"Observer\";\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useLocalObservable.js\nvar import_react8 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useLocalStore.js\nvar import_react10 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useAsObservableSource.js\nvar import_react9 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/index.js\nobserverBatching(import_react_dom.unstable_batchedUpdates);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/HTMLContainer\/HTMLContainer.tsx\nvar React20 = __toESM(require(\"react\"));\nvar import_jsx_runtime2 = require(\"react\/jsx-runtime\");\nvar HTMLContainer = React20.forwardRef(\n  function HTMLContainer2(_a3, ref) {\n    var _b = _a3, { children, opacity, centered, className = \"\" } = _b, rest = __objRest(_b, [\"children\", \"opacity\", \"centered\", \"className\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(ObserverComponent, {\n      children: () => \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(\"div\", {\n        ref,\n        className: `tl-positioned-div ${className}`,\n        style: opacity ? { opacity } : void 0,\n        draggable: false,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(\"div\", __spreadProps(__spreadValues({\n          className: `tl-positioned-inner ${centered ? \"tl-centered\" : \"\"}`\n        }, rest), {\n          children\n        }))\n      })\n    });\n  }\n);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SVGContainer\/SVGContainer.tsx\nvar React21 = __toESM(require(\"react\"));\nvar import_jsx_runtime3 = require(\"react\/jsx-runtime\");\nvar SVGContainer = React21.forwardRef(\n  function SVGContainer2(_a3, ref) {\n    var _b = _a3, { id: id3, className = \"\", style, children } = _b, rest = __objRest(_b, [\"id\", \"className\", \"style\", \"children\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(ObserverComponent, {\n      children: () => \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(\"svg\", {\n        ref,\n        style,\n        className: `tl-positioned-svg ${className}`,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(\"g\", __spreadProps(__spreadValues({\n          id: id3,\n          className: \"tl-centered-g\"\n        }, rest), {\n          children\n        }))\n      })\n    });\n  }\n);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Canvas\/Canvas.tsx\nvar React31 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useKeyboardEvents.ts\nvar React22 = __toESM(require(\"react\"));\nfunction useKeyboardEvents(ref) {\n  const app = useApp();\n  const { callbacks } = useRendererContext();\n  const shiftKeyDownRef = React22.useRef(false);\n  React22.useEffect(() => {\n    const onKeyDown = (e) => {\n      var _a3, _b;\n      if ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) {\n        (_b = callbacks.onKeyDown) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order: -1 }, e);\n        shiftKeyDownRef.current = e.shiftKey;\n      }\n    };\n    const onKeyUp = (e) => {\n      var _a3, _b;\n      if ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) {\n        (_b = callbacks.onKeyUp) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order: -1 }, e);\n        shiftKeyDownRef.current = e.shiftKey;\n      }\n    };\n    const onPaste = (e) => {\n      var _a3, _b, _c;\n      if (!app.editingShape && ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) && ![\"INPUT\", \"TEXTAREA\"].includes((_c = (_b = document.activeElement) == null ? void 0 : _b.tagName) != null ? _c : \"\")) {\n        e.preventDefault();\n        app.paste(e, shiftKeyDownRef.current);\n      }\n    };\n    const onCopy = (e) => {\n      var _a3, _b, _c;\n      if (!app.editingShape && app.selectedShapes.size > 0 && ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) && ![\"INPUT\", \"TEXTAREA\"].includes((_c = (_b = document.activeElement) == null ? void 0 : _b.tagName) != null ? _c : \"\")) {\n        e.preventDefault();\n        app.copy();\n      }\n    };\n    window.addEventListener(\"keydown\", onKeyDown);\n    window.addEventListener(\"keyup\", onKeyUp);\n    document.addEventListener(\"paste\", onPaste);\n    document.addEventListener(\"copy\", onCopy);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n      window.removeEventListener(\"keyup\", onKeyUp);\n      document.removeEventListener(\"paste\", onPaste);\n      document.removeEventListener(\"copy\", onCopy);\n    };\n  }, []);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Container\/Container.tsx\nvar React23 = __toESM(require(\"react\"));\nvar import_jsx_runtime4 = require(\"react\/jsx-runtime\");\nvar Container = observer(function Container2(_a3) {\n  var _b = _a3, {\n    id: id3,\n    bounds,\n    zIndex,\n    rotation = 0,\n    className = \"\",\n    children\n  } = _b, props = __objRest(_b, [\n    \"id\",\n    \"bounds\",\n    \"zIndex\",\n    \"rotation\",\n    \"className\",\n    \"children\"\n  ]);\n  const rBounds = React23.useRef(null);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    elm.style.transform = `translate(\n        calc(${bounds.minX}px - var(--tl-padding)),\n        calc(${bounds.minY}px - var(--tl-padding)))\n        rotate(${rotation + (bounds.rotation || 0)}rad)`;\n  }, [bounds.minX, bounds.minY, rotation, bounds.rotation]);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    elm.style.width = `calc(${Math.floor(bounds.width)}px + (var(--tl-padding) * 2))`;\n    elm.style.height = `calc(${Math.floor(bounds.height)}px + (var(--tl-padding) * 2))`;\n  }, [bounds.width, bounds.height]);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    if (zIndex !== void 0)\n      elm.style.zIndex = zIndex.toString();\n  }, [zIndex]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime4.jsx)(\"div\", __spreadProps(__spreadValues({\n    id: id3,\n    ref: rBounds,\n    className: `tl-positioned ${className}`,\n    \"aria-label\": \"container\"\n  }, props), {\n    children\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ContextBarContainer\/ContextBarContainer.tsx\nvar React24 = __toESM(require(\"react\"));\nvar import_jsx_runtime5 = require(\"react\/jsx-runtime\");\nvar ContextBarContainer = observer(function ContextBarContainer2({\n  shapes: shapes2,\n  hidden,\n  bounds,\n  rotation = 0\n}) {\n  const {\n    components: { ContextBar: ContextBar2 },\n    viewport: {\n      bounds: vpBounds,\n      camera: {\n        point: [x2, y2],\n        zoom\n      }\n    }\n  } = useRendererContext();\n  const rBounds = React24.useRef(null);\n  const rotatedBounds = BoundsUtils.getRotatedBounds(bounds, rotation);\n  const scaledBounds = BoundsUtils.multiplyBounds(rotatedBounds, zoom);\n  useCounterScaledPosition(rBounds, bounds, rotation, 10005);\n  if (!ContextBar2)\n    throw Error(\"Expected a ContextBar component.\");\n  const screenBounds = BoundsUtils.translateBounds(scaledBounds, [x2 * zoom, y2 * zoom]);\n  const offsets = {\n    left: screenBounds.minX,\n    right: vpBounds.width - screenBounds.maxX,\n    top: screenBounds.minY,\n    bottom: vpBounds.height - screenBounds.maxY,\n    width: screenBounds.width,\n    height: screenBounds.height\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime5.jsx)(\"div\", {\n    ref: rBounds,\n    className: \"tl-counter-scaled-positioned\",\n    \"aria-label\": \"context-bar-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime5.jsx)(ContextBar2, {\n      hidden,\n      shapes: shapes2,\n      bounds,\n      offsets,\n      scaledBounds,\n      rotation\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/HTMLLayer\/HTMLLayer.tsx\nvar React25 = __toESM(require(\"react\"));\nvar import_jsx_runtime6 = require(\"react\/jsx-runtime\");\nvar HTMLLayer = observer(function HTMLLayer2({ children }) {\n  const rLayer = React25.useRef(null);\n  const { viewport } = useRendererContext();\n  const layer = rLayer.current;\n  const { zoom, point } = viewport.camera;\n  React25.useEffect(() => {\n    if (!layer)\n      return;\n    layer.style.transform = `scale(${zoom}) translate3d(${point[0]}px, ${point[1]}px, 0)`;\n  }, [zoom, point, layer]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime6.jsx)(\"div\", {\n    ref: rLayer,\n    className: \"tl-absolute tl-layer\",\n    children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Indicator\/Indicator.tsx\nvar import_jsx_runtime7 = require(\"react\/jsx-runtime\");\nvar Indicator = observer(function Shape({\n  shape,\n  isHovered = false,\n  isSelected = false,\n  isBinding = false,\n  isEditing = false,\n  isLocked = false,\n  meta\n}) {\n  const {\n    bounds,\n    props: { scale, rotation = 0 },\n    ReactIndicator\n  } = shape;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(Container, {\n    \"data-type\": \"Indicator\",\n    \"data-html2canvas-ignore\": \"true\",\n    bounds,\n    rotation,\n    scale,\n    zIndex: isEditing ? 1e3 : 1e4,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(SVGContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(\"g\", {\n        className: `tl-indicator-container ${isSelected ? \"tl-selected\" : \"tl-hovered\"} ${isLocked ? \"tl-locked\" : \"\"}`,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(ReactIndicator, {\n          isEditing,\n          isBinding,\n          isHovered,\n          isLocked,\n          isSelected,\n          isErasing: false,\n          meta\n        })\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useShapeEvents.ts\nvar React26 = __toESM(require(\"react\"));\nfunction useShapeEvents(shape) {\n  const app = useApp();\n  const { inputs, callbacks } = useRendererContext();\n  const rDoubleClickTimer = React26.useRef(-1);\n  const events = React26.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b, _c;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_c = callbacks.onDoubleClick) == null ? void 0 : _c.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyUp,\n      onKeyDown\n    };\n  }, [shape.id, inputs, callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/QuickLinksContainer\/QuickLinksContainer.tsx\nvar import_jsx_runtime8 = require(\"react\/jsx-runtime\");\nvar QuickLinksContainer = observer(function QuickLinksContainer2({\n  bounds,\n  shape\n}) {\n  const {\n    viewport: {\n      camera: { zoom }\n    },\n    components: { QuickLinks: QuickLinks2 }\n  } = useRendererContext();\n  const app = useApp();\n  const events = useShapeEvents(shape);\n  if (!QuickLinks2)\n    throw Error(\"Expected a QuickLinks component.\");\n  const stop2 = (e) => e.stopPropagation();\n  const rounded = bounds.height * zoom < 50 || !app.selectedShapesArray.includes(shape);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(Container, {\n    bounds,\n    className: \"tl-quick-links-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(HTMLContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(\"span\", __spreadProps(__spreadValues({\n        style: {\n          position: \"absolute\",\n          top: \"100%\",\n          pointerEvents: \"all\",\n          transformOrigin: \"left top\",\n          paddingTop: \"8px\",\n          transform: \"scale(var(--tl-scale))\",\n          minWidth: \"320px\"\n        }\n      }, events), {\n        onPointerDown: stop2,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(QuickLinks2, {\n          className: \"tl-backlinks-count \" + (rounded ? \"tl-backlinks-count-rounded\" : \"\"),\n          id: shape.id,\n          shape\n        })\n      }))\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/BacklinksCountContainer\/BacklinksCountContainer.tsx\nvar import_jsx_runtime9 = require(\"react\/jsx-runtime\");\nvar BacklinksCountContainer = observer(function BacklinksCountContainer2({ bounds, shape }) {\n  const {\n    viewport: {\n      camera: { zoom }\n    },\n    components: { BacklinksCount: BacklinksCount2 }\n  } = useRendererContext();\n  const app = useApp();\n  if (!BacklinksCount2)\n    throw Error(\"Expected a BacklinksCount component.\");\n  const stop2 = (e) => e.stopPropagation();\n  const rounded = bounds.height * zoom < 50 || !app.selectedShapesArray.includes(shape) || shape.hideSelection;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(Container, {\n    bounds,\n    className: \"tl-backlinks-count-container\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(HTMLContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(\"span\", {\n        style: {\n          position: \"absolute\",\n          left: \"100%\",\n          pointerEvents: \"all\",\n          transformOrigin: \"left top\",\n          transform: \"translateY(6px) scale(var(--tl-scale))\"\n        },\n        onPointerDown: stop2,\n        onWheelCapture: stop2,\n        onKeyDown: stop2,\n        title: \"Shape Backlinks\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(BacklinksCount2, {\n          className: \"tl-backlinks-count \" + (rounded ? \"tl-backlinks-count-rounded\" : \"\"),\n          id: shape.id,\n          shape\n        })\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SelectionDetailContainer\/SelectionDetailContainer.tsx\nvar React27 = __toESM(require(\"react\"));\nvar import_jsx_runtime10 = require(\"react\/jsx-runtime\");\nvar SelectionDetailContainer = observer(function SelectionDetail({\n  bounds,\n  hidden,\n  shapes: shapes2,\n  rotation = 0,\n  detail = \"size\"\n}) {\n  const {\n    components: { SelectionDetail: SelectionDetail4 },\n    viewport: {\n      camera: { zoom }\n    }\n  } = useRendererContext();\n  const rBounds = React27.useRef(null);\n  const scaledBounds = BoundsUtils.multiplyBounds(bounds, zoom);\n  useCounterScaledPosition(rBounds, bounds, rotation, 10003);\n  if (!SelectionDetail4)\n    throw Error(\"Expected a SelectionDetail component.\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime10.jsx)(\"div\", {\n    ref: rBounds,\n    className: `tl-counter-scaled-positioned ${hidden ? `tl-fade-out` : \"\"}`,\n    \"aria-label\": \"bounds-detail-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime10.jsx)(SelectionDetail4, {\n      shapes: shapes2,\n      bounds,\n      scaledBounds,\n      zoom,\n      rotation,\n      detail\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Shape\/Shape.tsx\nvar import_jsx_runtime11 = require(\"react\/jsx-runtime\");\nvar Shape2 = observer(function Shape3({\n  shape,\n  isHovered = false,\n  isSelected = false,\n  isBinding = false,\n  isErasing = false,\n  isEditing = false,\n  onEditingEnd,\n  asset,\n  meta,\n  zIndex\n}) {\n  const {\n    bounds,\n    props: { rotation, scale },\n    ReactComponent\n  } = shape;\n  const app = useApp();\n  const events = useShapeEvents(shape);\n  const parentGroup = app.getParentGroup(shape);\n  const isParentGrpupSelected = app.selectedIds.has(parentGroup == null ? void 0 : parentGroup.id);\n  const ignoreExport = !isSelected && !isParentGrpupSelected && app.selectedShapes.size !== 0 || null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime11.jsx)(Container, {\n    \"data-shape-id\": shape.id,\n    \"data-html2canvas-ignore\": ignoreExport,\n    zIndex,\n    \"data-type\": \"Shape\",\n    bounds,\n    rotation,\n    scale,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime11.jsx)(ReactComponent, {\n      meta,\n      isEditing,\n      isBinding,\n      isHovered,\n      isSelected,\n      isErasing,\n      events,\n      asset,\n      onEditingEnd\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Grid\/Grid.tsx\nvar import_jsx_runtime12 = require(\"react\/jsx-runtime\");\nvar STEPS = [\n  [-1, 0.15, 64],\n  [0.05, 0.375, 16],\n  [0.15, 1, 4],\n  [0.7, 2.5, 1]\n];\nvar SVGGrid = observer(function CanvasGrid({ size }) {\n  const {\n    viewport: {\n      camera: { point, zoom }\n    }\n  } = useRendererContext();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsxs)(\"svg\", {\n    className: \"tl-grid\",\n    version: \"1.1\",\n    xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"defs\", {\n        children: STEPS.map(([min, mid, _size], i2) => {\n          const s2 = _size * size * zoom;\n          const xo = point[0] * zoom;\n          const yo = point[1] * zoom;\n          const gxo = xo > 0 ? xo % s2 : s2 + xo % s2;\n          const gyo = yo > 0 ? yo % s2 : s2 + yo % s2;\n          const opacity = modulate(zoom, [min, mid], [0, 1]);\n          const hide = opacity > 2 || opacity < 0.1;\n          return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"pattern\", {\n            id: `grid-${i2}`,\n            width: s2,\n            height: s2,\n            patternUnits: \"userSpaceOnUse\",\n            children: !hide && \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"circle\", {\n              className: `tl-grid-dot`,\n              cx: gxo,\n              cy: gyo,\n              r: 1.5,\n              opacity: clamp(opacity, 0, 1)\n            })\n          }, `grid-pattern-${i2}`);\n        })\n      }),\n      STEPS.map((_2, i2) => \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"rect\", {\n        width: \"100%\",\n        height: \"100%\",\n        fill: `url(#grid-${i2})`\n      }, `grid-rect-${i2}`))\n    ]\n  });\n});\nvar Grid = observer(function Grid2({ size }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(SVGGrid, {\n    size\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionBackground\/SelectionBackground.tsx\nvar import_jsx_runtime13 = require(\"react\/jsx-runtime\");\nvar SelectionBackground = observer(function SelectionBackground2({\n  bounds\n}) {\n  const events = useBoundsEvents(\"background\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime13.jsx)(SVGContainer, __spreadProps(__spreadValues({\n    \"data-html2canvas-ignore\": \"true\"\n  }, events), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime13.jsx)(\"rect\", {\n      className: \"tl-bounds-bg\",\n      width: Math.max(1, bounds.width),\n      height: Math.max(1, bounds.height),\n      pointerEvents: \"all\",\n      rx: 8,\n      ry: 8\n    })\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionDetail\/SelectionDetail.tsx\nvar React28 = require(\"react\");\nvar import_jsx_runtime14 = require(\"react\/jsx-runtime\");\nvar SelectionDetail2 = observer(function SelectionDetail3({\n  scaledBounds,\n  shapes: shapes2,\n  detail = \"size\",\n  rotation = 0\n}) {\n  var _a3;\n  const selectionRotation = shapes2.length === 1 ? rotation : (_a3 = scaledBounds.rotation) != null ? _a3 : 0;\n  const isFlipped = !(selectionRotation < TAU || selectionRotation > TAU * 3);\n  const isLine = shapes2.length === 1 && shapes2[0].type === \"line\";\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime14.jsx)(HTMLContainer, {\n    centered: true,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime14.jsx)(\"div\", {\n      className: \"tl-bounds-detail\",\n      style: {\n        transform: isFlipped ? `rotate(${Math.PI + selectionRotation}rad) translateY(${scaledBounds.height \/ 2 + 32}px)` : `rotate(${selectionRotation}rad) translateY(${scaledBounds.height \/ 2 + 24}px)`,\n        padding: \"2px 3px\",\n        borderRadius: \"1px\"\n      },\n      children: isLine ? `${src_default.dist(\n        shapes2[0].props.handles.start.point,\n        shapes2[0].props.handles.end.point\n      ).toFixed()}` : detail === \"size\" ? `${scaledBounds.width.toFixed()} \\xD7 ${scaledBounds.height.toFixed()}` : `\\u2220${GeomUtils.radiansToDegrees(GeomUtils.clampRadians(rotation)).toFixed()}\\xB0`\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/CornerHandle.tsx\nvar import_jsx_runtime15 = require(\"react\/jsx-runtime\");\nvar cornerBgClassnames = {\n  [\"top_left_corner\" \/* TopLeft *\/]: \"tl-cursor-nwse\",\n  [\"top_right_corner\" \/* TopRight *\/]: \"tl-cursor-nesw\",\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"tl-cursor-nwse\",\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"tl-cursor-nesw\"\n};\nvar CornerHandle = observer(function CornerHandle2({\n  cx: cx2,\n  cy,\n  size,\n  targetSize,\n  corner,\n  isHidden\n}) {\n  const events = useBoundsEvents(corner);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsxs)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsx)(\"rect\", {\n        className: \"tl-transparent \" + (isHidden ? \"\" : cornerBgClassnames[corner]),\n        \"aria-label\": `${corner} target`,\n        x: cx2 - targetSize * 1.25,\n        y: cy - targetSize * 1.25,\n        width: targetSize * 2.5,\n        height: targetSize * 2.5,\n        pointerEvents: isHidden ? \"none\" : \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsx)(\"rect\", {\n        className: \"tl-corner-handle\",\n        \"aria-label\": `${corner} handle`,\n        x: cx2 - size \/ 2,\n        y: cy - size \/ 2,\n        width: size,\n        height: size,\n        pointerEvents: \"none\"\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/CloneHandle.tsx\nvar import_jsx_runtime16 = require(\"react\/jsx-runtime\");\nvar CloneHandle = observer(function CloneHandle2({\n  cx: cx2,\n  cy,\n  size,\n  direction,\n  isHidden\n}) {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsxs)(\"g\", {\n    className: \"tl-clone-handle\",\n    opacity: isHidden ? 0 : 1,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"circle\", {\n        \"aria-label\": `${direction} handle`,\n        pointerEvents: \"all\",\n        onPointerDown: (e) => app.api.clone(direction),\n        cx: cx2,\n        cy,\n        r: size\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"line\", {\n        x1: cx2 - size \/ 2,\n        y1: cy,\n        x2: cx2 + size \/ 2,\n        y2: cy\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"line\", {\n        x1: cx2,\n        y1: cy - size \/ 2,\n        x2: cx2,\n        y2: cy + size \/ 2\n      })\n    ]\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/EdgeHandle.tsx\nvar import_jsx_runtime17 = require(\"react\/jsx-runtime\");\nvar edgeClassnames = {\n  [\"top_edge\" \/* Top *\/]: \"tl-cursor-ns\",\n  [\"right_edge\" \/* Right *\/]: \"tl-cursor-ew\",\n  [\"bottom_edge\" \/* Bottom *\/]: \"tl-cursor-ns\",\n  [\"left_edge\" \/* Left *\/]: \"tl-cursor-ew\"\n};\nvar EdgeHandle = observer(function EdgeHandle2({\n  x: x2,\n  y: y2,\n  width,\n  height,\n  targetSize,\n  edge,\n  disabled,\n  isHidden\n}) {\n  const events = useBoundsEvents(edge);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime17.jsx)(\"rect\", __spreadValues({\n    pointerEvents: isHidden || disabled ? \"none\" : \"all\",\n    className: \"tl-transparent tl-edge-handle \" + (isHidden ? \"\" : edgeClassnames[edge]),\n    \"aria-label\": `${edge} target`,\n    opacity: isHidden ? 0 : 1,\n    x: x2 - targetSize,\n    y: y2 - targetSize,\n    width: Math.max(1, width + targetSize * 2),\n    height: Math.max(1, height + targetSize * 2)\n  }, events));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/RotateHandle.tsx\nvar import_jsx_runtime18 = require(\"react\/jsx-runtime\");\nvar RotateHandle = observer(function RotateHandle2({\n  cx: cx2,\n  cy,\n  size,\n  targetSize,\n  isHidden\n}) {\n  const events = useBoundsEvents(\"rotate\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsxs)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsx)(\"circle\", {\n        className: \"tl-transparent \",\n        \"aria-label\": \"rotate target\",\n        cx: cx2,\n        cy,\n        r: targetSize,\n        pointerEvents: isHidden ? \"none\" : \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsx)(\"circle\", {\n        className: \"tl-rotate-handle\",\n        \"aria-label\": \"rotate handle\",\n        cx: cx2,\n        cy,\n        r: size \/ 2,\n        pointerEvents: \"none\"\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/RotateCornerHandle.tsx\nvar React29 = require(\"react\");\nvar import_jsx_runtime19 = require(\"react\/jsx-runtime\");\nvar RotateCornerHandle = observer(function RotateCornerHandle2({\n  cx: cx2,\n  cy,\n  targetSize,\n  corner,\n  isHidden\n}) {\n  const events = useBoundsEvents(corner);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime19.jsx)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime19.jsx)(\"rect\", {\n      className: \"tl-transparent\",\n      \"aria-label\": `${corner} target`,\n      x: cx2 - targetSize * 2.5,\n      y: cy - targetSize * 2.5,\n      width: targetSize * 3,\n      height: targetSize * 3,\n      pointerEvents: isHidden ? \"none\" : \"all\"\n    })\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/SelectionForeground.tsx\nvar import_jsx_runtime20 = require(\"react\/jsx-runtime\");\nvar SelectionForeground = observer(function SelectionForeground2({\n  bounds,\n  showResizeHandles,\n  showRotateHandles,\n  showCloneHandles,\n  shapes: shapes2\n}) {\n  var _a3, _b;\n  const app = useApp();\n  let { width, height } = bounds;\n  const zoom = app.viewport.camera.zoom;\n  const size = 8 \/ zoom;\n  const targetSize = 6 \/ zoom;\n  const clonePadding = 30 \/ zoom;\n  const cloneHandleSize = size * 2;\n  const canResize = shapes2.length === 1 ? shapes2[0].canResize : [true, true];\n  const borderRadius = (_b = (_a3 = app.editingShape) == null ? void 0 : _a3.props[\"borderRadius\"]) != null ? _b : 0;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(import_jsx_runtime20.Fragment, {\n    children: shapes2.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsxs)(SVGContainer, {\n      children: [\n        !app.editingShape && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(\"rect\", {\n          className: \"tl-bounds-fg\",\n          width: Math.max(width, 1),\n          height: Math.max(height, 1),\n          rx: borderRadius,\n          ry: borderRadius,\n          pointerEvents: \"none\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: targetSize * 2,\n          y: 0,\n          width: width - targetSize * 4,\n          height: 0,\n          targetSize,\n          edge: \"top_edge\" \/* Top *\/,\n          disabled: !canResize[1],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: width,\n          y: targetSize * 2,\n          width: 0,\n          height: height - targetSize * 4,\n          targetSize,\n          edge: \"right_edge\" \/* Right *\/,\n          disabled: !canResize[0],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: targetSize * 2,\n          y: height,\n          width: width - targetSize * 4,\n          height: 0,\n          targetSize,\n          edge: \"bottom_edge\" \/* Bottom *\/,\n          disabled: !canResize[1],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: 0,\n          y: targetSize * 2,\n          width: 0,\n          height: height - targetSize * 4,\n          targetSize,\n          edge: \"left_edge\" \/* Left *\/,\n          disabled: !canResize[0],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: 0,\n          cy: 0,\n          targetSize,\n          corner: \"top_left_resize_corner\" \/* TopLeft *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: width + targetSize * 2,\n          cy: 0,\n          targetSize,\n          corner: \"top_right_resize_corner\" \/* TopRight *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: width + targetSize * 2,\n          cy: height + targetSize * 2,\n          targetSize,\n          corner: \"bottom_right_resize_corner\" \/* BottomRight *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: 0,\n          cy: height + targetSize * 2,\n          targetSize,\n          corner: \"bottom_left_resize_corner\" \/* BottomLeft *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: -clonePadding,\n          cy: height \/ 2,\n          size: cloneHandleSize,\n          direction: \"left\" \/* Left *\/,\n          isHidden: !showCloneHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: width + clonePadding,\n          cy: height \/ 2,\n          size: cloneHandleSize,\n          direction: \"right\" \/* Right *\/,\n          isHidden: !showCloneHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: width \/ 2,\n          cy: height + clonePadding,\n          size: cloneHandleSize,\n          direction: \"down\" \/* Down *\/,\n          isHidden: !showCloneHandles\n        }),\n        (canResize == null ? void 0 : canResize.every((r2) => r2)) && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsxs)(import_jsx_runtime20.Fragment, {\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: 0,\n              cy: 0,\n              size,\n              targetSize,\n              corner: \"top_left_corner\" \/* TopLeft *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: width,\n              cy: 0,\n              size,\n              targetSize,\n              corner: \"top_right_corner\" \/* TopRight *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: width,\n              cy: height,\n              size,\n              targetSize,\n              corner: \"bottom_right_corner\" \/* BottomRight *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: 0,\n              cy: height,\n              size,\n              targetSize,\n              corner: \"bottom_left_corner\" \/* BottomLeft *\/,\n              isHidden: !showResizeHandles\n            })\n          ]\n        })\n      ]\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Brush\/Brush.tsx\nvar import_jsx_runtime21 = require(\"react\/jsx-runtime\");\nvar Brush = observer(function Brush2({ bounds }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(Container, {\n    bounds,\n    zIndex: 10001,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(SVGContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(\"rect\", {\n        className: \"tl-brush\",\n        x: 0,\n        y: 0,\n        width: bounds.width,\n        height: bounds.height\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Cursor\/Cursor.tsx\nvar import_jsx_runtime22 = require(\"react\/jsx-runtime\");\nvar Cursor = observer(function Cursor2() {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime22.jsx)(import_jsx_runtime22.Fragment, {});\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Handle\/Handle.tsx\nvar import_jsx_runtime23 = require(\"react\/jsx-runtime\");\nvar Handle = observer(function Handle2({\n  shape,\n  handle,\n  id: id3\n}) {\n  const events = useHandleEvents(shape, id3);\n  const [x2, y2] = handle.point;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsxs)(\"g\", __spreadProps(__spreadValues({\n    className: \"tl-handle\",\n    \"aria-label\": \"handle\"\n  }, events), {\n    transform: `translate(${x2}, ${y2})`,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsx)(\"circle\", {\n        className: \"tl-handle-bg\",\n        pointerEvents: \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsx)(\"circle\", {\n        className: \"tl-counter-scaled tl-handle\",\n        pointerEvents: \"none\",\n        r: 4\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/DirectionIndicator\/DirectionIndicator.tsx\nvar React30 = __toESM(require(\"react\"));\nvar import_jsx_runtime24 = require(\"react\/jsx-runtime\");\nvar DirectionIndicator = observer(function DirectionIndicator2({ direction }) {\n  const {\n    viewport: { bounds }\n  } = useRendererContext();\n  const rIndicator = React30.useRef(null);\n  React30.useLayoutEffect(() => {\n    const elm = rIndicator.current;\n    if (!elm)\n      return;\n    const center = [bounds.width \/ 2, bounds.height \/ 2];\n    const insetBoundSides = BoundsUtils.getRectangleSides(\n      [12, 12],\n      [bounds.width - 24, bounds.height - 24]\n    );\n    for (const [_2, [A3, B3]] of insetBoundSides) {\n      const int = intersectRayLineSegment(center, direction, A3, B3);\n      if (!int.didIntersect)\n        continue;\n      const point = int.points[0];\n      elm.style.transform = `translate(${point[0] - 6}px,${point[1] - 6}px) rotate(${src_default.toAngle(\n        direction\n      )}rad)`;\n    }\n  }, [direction, bounds]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"div\", {\n    ref: rIndicator,\n    className: \"tl-direction-indicator\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"svg\", {\n      height: 12,\n      width: 12,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"polygon\", {\n        points: \"0,0 12,6 0,12\"\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Canvas\/Canvas.tsx\nvar import_jsx_runtime25 = require(\"react\/jsx-runtime\");\nvar Canvas = observer(function Renderer({\n  id: id3,\n  className,\n  brush,\n  shapes: shapes2,\n  assets,\n  bindingShapes,\n  editingShape,\n  hoveredShape,\n  hoveredGroup,\n  selectionBounds,\n  selectedShapes,\n  erasingShapes,\n  selectionDirectionHint,\n  cursor = \"default\" \/* Default *\/,\n  cursorRotation = 0,\n  selectionRotation = 0,\n  showSelection = true,\n  showHandles = true,\n  showSelectionRotation = false,\n  showResizeHandles = true,\n  showRotateHandles = true,\n  showCloneHandles = true,\n  showSelectionDetail = true,\n  showContextBar = true,\n  showGrid = true,\n  gridSize = 8,\n  onEditingEnd = NOOP,\n  theme = EMPTY_OBJECT,\n  children\n}) {\n  var _a3;\n  const rContainer = React31.useRef(null);\n  const { viewport, components, meta } = useRendererContext();\n  const app = useApp();\n  const onBoundsChange = React31.useCallback((bounds) => {\n    app.inputs.updateContainerOffset([bounds.minX, bounds.minY]);\n  }, []);\n  useStylesheet(theme, id3);\n  usePreventNavigation(rContainer);\n  useResizeObserver(rContainer, viewport, onBoundsChange);\n  useGestureEvents(rContainer);\n  useRestoreCamera();\n  useCursor(rContainer, cursor, cursorRotation);\n  useZoom(rContainer);\n  useKeyboardEvents(rContainer);\n  const events = useCanvasEvents();\n  const onlySelectedShape = (selectedShapes == null ? void 0 : selectedShapes.length) === 1 && selectedShapes[0];\n  const onlySelectedShapeWithHandles = onlySelectedShape && \"handles\" in onlySelectedShape.props ? selectedShapes == null ? void 0 : selectedShapes[0] : void 0;\n  const selectedShapesSet = React31.useMemo(() => new Set(selectedShapes || []), [selectedShapes]);\n  const erasingShapesSet = React31.useMemo(() => new Set(erasingShapes || []), [erasingShapes]);\n  const singleSelectedShape = (selectedShapes == null ? void 0 : selectedShapes.length) === 1 ? selectedShapes[0] : void 0;\n  const hoveredShapes = [...\/* @__PURE__ *\/ new Set([hoveredGroup, hoveredShape])].filter(isNonNullable);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(\"div\", {\n    ref: rContainer,\n    className: `tl-container ${className != null ? className : \"\"}`,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(\"div\", __spreadProps(__spreadValues({\n        tabIndex: -1,\n        className: \"tl-absolute tl-canvas\"\n      }, events), {\n        children: [\n          showGrid && components.Grid && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.Grid, {\n            size: gridSize\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(HTMLLayer, {\n            children: [\n              components.SelectionBackground && selectedShapes && selectionBounds && showSelection && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                \"data-type\": \"SelectionBackground\",\n                bounds: selectionBounds,\n                zIndex: 2,\n                \"data-html2canvas-ignore\": \"true\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.SelectionBackground, {\n                  shapes: selectedShapes,\n                  bounds: selectionBounds,\n                  showResizeHandles,\n                  showRotateHandles\n                })\n              }),\n              shapes2 && shapes2.map((shape, i2) => \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Shape2, {\n                shape,\n                asset: assets && shape.props.assetId ? assets[shape.props.assetId] : void 0,\n                isEditing: shape === editingShape,\n                isHovered: shape === hoveredShape,\n                isBinding: bindingShapes == null ? void 0 : bindingShapes.includes(shape),\n                isSelected: selectedShapesSet.has(shape),\n                isErasing: erasingShapesSet.has(shape),\n                meta,\n                zIndex: 1e3 + i2,\n                onEditingEnd\n              }, \"shape_\" + shape.id)),\n              !app.isIn(\"select.pinching\") && (selectedShapes == null ? void 0 : selectedShapes.map((shape) => \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Indicator, {\n                shape,\n                isEditing: shape === editingShape,\n                isHovered: false,\n                isBinding: false,\n                isSelected: true,\n                isLocked: shape.props.isLocked\n              }, \"selected_indicator_\" + shape.id))),\n              hoveredShapes.map(\n                (s2) => s2 !== editingShape && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Indicator, {\n                  shape: s2\n                }, \"hovered_indicator_\" + s2.id)\n              ),\n              singleSelectedShape && components.BacklinksCount && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(BacklinksCountContainer, {\n                hidden: false,\n                bounds: singleSelectedShape.bounds,\n                shape: singleSelectedShape\n              }),\n              hoveredShape && hoveredShape !== singleSelectedShape && components.QuickLinks && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(QuickLinksContainer, {\n                hidden: false,\n                bounds: hoveredShape.bounds,\n                shape: hoveredShape\n              }),\n              brush && components.Brush && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.Brush, {\n                bounds: brush\n              }),\n              selectedShapes && selectionBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(import_jsx_runtime25.Fragment, {\n                children: [\n                  showSelection && components.SelectionForeground && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                    \"data-type\": \"SelectionForeground\",\n                    \"data-html2canvas-ignore\": \"true\",\n                    bounds: selectionBounds,\n                    zIndex: editingShape && selectedShapes.includes(editingShape) ? 1002 : 10002,\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.SelectionForeground, {\n                      shapes: selectedShapes.filter((shape) => !shape.props.isLocked),\n                      bounds: selectionBounds,\n                      showResizeHandles,\n                      showRotateHandles,\n                      showCloneHandles\n                    })\n                  }),\n                  showHandles && onlySelectedShapeWithHandles && components.Handle && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                    \"data-type\": \"onlySelectedShapeWithHandles\",\n                    \"data-html2canvas-ignore\": \"true\",\n                    bounds: selectionBounds,\n                    zIndex: 10003,\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(SVGContainer, {\n                      children: Object.entries((_a3 = onlySelectedShapeWithHandles.props.handles) != null ? _a3 : {}).map(\n                        ([id4, handle]) => React31.createElement(components.Handle, {\n                          key: `${handle.id}_handle_${handle.id}`,\n                          shape: onlySelectedShapeWithHandles,\n                          handle,\n                          id: id4\n                        })\n                      )\n                    })\n                  }),\n                  selectedShapes && components.SelectionDetail && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(SelectionDetailContainer, {\n                    \"data-html2canvas-ignore\": \"true\",\n                    shapes: selectedShapes,\n                    bounds: selectionBounds,\n                    detail: showSelectionRotation ? \"rotation\" : \"size\",\n                    hidden: !showSelectionDetail,\n                    rotation: selectionRotation\n                  }, \"detail\" + selectedShapes.map((shape) => shape.id).join(\"\"))\n                ]\n              })\n            ]\n          }),\n          selectionDirectionHint && selectionBounds && selectedShapes && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(DirectionIndicator, {\n            direction: selectionDirectionHint,\n            bounds: selectionBounds,\n            shapes: selectedShapes\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(\"div\", {\n            id: \"tl-dev-tools-canvas-anchor\",\n            \"data-html2canvas-ignore\": \"true\"\n          })\n        ]\n      })),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(HTMLLayer, {\n        children: selectedShapes && selectionBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(import_jsx_runtime25.Fragment, {\n          children: selectedShapes && components.ContextBar && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(ContextBarContainer, {\n            shapes: selectedShapes.filter((s2) => !s2.props.isLocked),\n            hidden: !showContextBar,\n            bounds: singleSelectedShape ? singleSelectedShape.bounds : selectionBounds,\n            rotation: singleSelectedShape ? singleSelectedShape.props.rotation : 0\n          }, \"context\" + selectedShapes.map((shape) => shape.id).join(\"\"))\n        })\n      }),\n      children\n    ]\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/RendererContext.tsx\nvar React33 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SVGLayer\/SVGLayer.tsx\nvar React32 = __toESM(require(\"react\"));\nvar import_jsx_runtime26 = require(\"react\/jsx-runtime\");\nvar SVGLayer = observer(function SVGLayer2({ children }) {\n  const rGroup = React32.useRef(null);\n  const { viewport } = useRendererContext();\n  React32.useEffect(\n    () => autorun(() => {\n      const group = rGroup.current;\n      if (!group)\n        return;\n      const { zoom, point } = viewport.camera;\n      group.style.transform = `scale(${zoom}) translateX(${point[0]}px) translateY(${point[1]}px)`;\n    }),\n    []\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime26.jsx)(\"svg\", {\n    className: \"tl-absolute tl-overlay\",\n    pointerEvents: \"none\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime26.jsx)(\"g\", {\n      ref: rGroup,\n      pointerEvents: \"none\",\n      children\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/AppProvider.tsx\nvar import_jsx_runtime27 = require(\"react\/jsx-runtime\");\nvar AppProvider = observer(function App(props) {\n  const app = useAppSetup(props);\n  const context = getAppContext(props.id);\n  usePropControl(app, props);\n  useSetup(app, props);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime27.jsx)(context.Provider, {\n    value: app,\n    children: props.children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/RendererContext.tsx\nvar import_jsx_runtime28 = require(\"react\/jsx-runtime\");\nvar RendererContext = observer(function App2({\n  id: id3 = \"noid\",\n  viewport,\n  inputs,\n  callbacks = EMPTY_OBJECT,\n  meta = EMPTY_OBJECT,\n  components = EMPTY_OBJECT,\n  children\n}) {\n  const [currentContext, setCurrentContext] = React33.useState(() => {\n    const _a3 = components, {\n      Brush: Brush3,\n      ContextBar: ContextBar2,\n      DirectionIndicator: DirectionIndicator3,\n      Grid: Grid3,\n      Handle: Handle3,\n      SelectionBackground: SelectionBackground3,\n      SelectionDetail: SelectionDetail4,\n      SelectionForeground: SelectionForeground3\n    } = _a3, rest = __objRest(_a3, [\n      \"Brush\",\n      \"ContextBar\",\n      \"DirectionIndicator\",\n      \"Grid\",\n      \"Handle\",\n      \"SelectionBackground\",\n      \"SelectionDetail\",\n      \"SelectionForeground\"\n    ]);\n    return {\n      id: id3,\n      viewport,\n      inputs,\n      callbacks,\n      meta,\n      components: __spreadProps(__spreadValues({}, rest), {\n        Brush: Brush3 === null ? void 0 : Brush,\n        ContextBar: ContextBar2,\n        DirectionIndicator: DirectionIndicator3 === null ? void 0 : DirectionIndicator,\n        Grid: Grid3 === null ? void 0 : Grid,\n        Handle: Handle3 === null ? void 0 : Handle,\n        SelectionBackground: SelectionBackground3 === null ? void 0 : SelectionBackground,\n        SelectionDetail: SelectionDetail4 === null ? void 0 : SelectionDetail2,\n        SelectionForeground: SelectionForeground3 === null ? void 0 : SelectionForeground\n      })\n    };\n  });\n  React33.useLayoutEffect(() => {\n    const _a3 = components, {\n      Brush: Brush3,\n      ContextBar: ContextBar2,\n      DirectionIndicator: DirectionIndicator3,\n      Grid: Grid3,\n      Handle: Handle3,\n      SelectionBackground: SelectionBackground3,\n      SelectionDetail: SelectionDetail4,\n      SelectionForeground: SelectionForeground3\n    } = _a3, rest = __objRest(_a3, [\n      \"Brush\",\n      \"ContextBar\",\n      \"DirectionIndicator\",\n      \"Grid\",\n      \"Handle\",\n      \"SelectionBackground\",\n      \"SelectionDetail\",\n      \"SelectionForeground\"\n    ]);\n    return autorun(() => {\n      setCurrentContext({\n        id: id3,\n        viewport,\n        inputs,\n        callbacks,\n        meta,\n        components: __spreadProps(__spreadValues({}, rest), {\n          Brush: Brush3 === null ? void 0 : Brush,\n          ContextBar: ContextBar2,\n          DirectionIndicator: DirectionIndicator3 === null ? void 0 : DirectionIndicator,\n          Grid: Grid3 === null ? void 0 : Grid,\n          Handle: Handle3 === null ? void 0 : Handle,\n          SelectionBackground: SelectionBackground3 === null ? void 0 : SelectionBackground,\n          SelectionDetail: SelectionDetail4 === null ? void 0 : SelectionDetail2,\n          SelectionForeground: SelectionForeground3 === null ? void 0 : SelectionForeground\n        })\n      });\n    });\n  }, []);\n  const context = getRendererContext(id3);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime28.jsx)(context.Provider, {\n    value: currentContext,\n    children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/Renderer.tsx\nvar import_jsx_runtime29 = require(\"react\/jsx-runtime\");\nfunction Renderer2(_a3) {\n  var _b = _a3, {\n    viewport,\n    inputs,\n    callbacks,\n    components\n  } = _b, rest = __objRest(_b, [\n    \"viewport\",\n    \"inputs\",\n    \"callbacks\",\n    \"components\"\n  ]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime29.jsx)(RendererContext, {\n    id: rest.id,\n    viewport,\n    inputs,\n    callbacks,\n    components,\n    meta: rest.meta,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime29.jsx)(Canvas, __spreadValues({}, rest))\n  });\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/AppCanvas.tsx\nvar import_jsx_runtime30 = require(\"react\/jsx-runtime\");\nvar AppCanvas = observer(function InnerApp(props) {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime30.jsx)(Renderer2, __spreadValues({\n    viewport: app.viewport,\n    inputs: app.inputs,\n    callbacks: app._events,\n    brush: app.brush,\n    editingShape: app.editingShape,\n    hoveredShape: app.hoveredShape,\n    hoveredGroup: app.hoveredGroup,\n    bindingShapes: app.bindingShapes,\n    selectionDirectionHint: app.selectionDirectionHint,\n    selectionBounds: app.selectionBounds,\n    selectedShapes: app.selectedShapesArray,\n    erasingShapes: app.erasingShapesArray,\n    shapes: app.shapes,\n    assets: app.assets,\n    showGrid: app.settings.showGrid,\n    penMode: app.settings.penMode,\n    showSelection: app.showSelection,\n    showSelectionRotation: app.showSelectionRotation,\n    showResizeHandles: app.showResizeHandles,\n    showRotateHandles: app.showRotateHandles,\n    showCloneHandles: app.showCloneHandles,\n    showSelectionDetail: app.showSelectionDetail,\n    showContextBar: app.showContextBar,\n    cursor: app.cursors.cursor,\n    cursorRotation: app.cursors.rotation,\n    selectionRotation: app.selectionRotation,\n    onEditingEnd: app.clearEditingState\n  }, props));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/App.tsx\nvar import_jsx_runtime31 = require(\"react\/jsx-runtime\");\n\n\/\/ ..\/..\/packages\/react\/src\/index.ts\nfunction getContextBarTranslation(barSize, offset) {\n  let x2 = 0;\n  let y2 = 0;\n  if (offset.top < 116) {\n    y2 = offset.height \/ 2 + 40;\n    if (offset.bottom < 140) {\n      y2 += offset.bottom - 140;\n    }\n  } else {\n    y2 = -(offset.height \/ 2 + 40);\n  }\n  if (offset.left + offset.width \/ 2 - barSize[0] \/ 2 < 16) {\n    x2 += -(offset.left + offset.width \/ 2 - barSize[0] \/ 2 - 16);\n  } else if (offset.right + offset.width \/ 2 - barSize[0] \/ 2 < 16) {\n    x2 += offset.right + offset.width \/ 2 - barSize[0] \/ 2 - 16;\n  }\n  return [x2, y2];\n}\n\n\/\/ src\/app.tsx\nvar React69 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ActionBar\/ActionBar.tsx\nvar React36 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/icons\/TablerIcon.tsx\nvar import_jsx_runtime32 = require(\"react\/jsx-runtime\");\nvar extendedIcons = [\n  \"add-link\",\n  \"block-search\",\n  \"block\",\n  \"connector\",\n  \"group\",\n  \"internal-link\",\n  \"link-to-block\",\n  \"link-to-page\",\n  \"link-to-whiteboard\",\n  \"move-to-sidebar-right\",\n  \"object-compact\",\n  \"object-expanded\",\n  \"open-as-page\",\n  \"page-search\",\n  \"page\",\n  \"references-hide\",\n  \"references-show\",\n  \"select-cursor\",\n  \"text\",\n  \"ungroup\",\n  \"whiteboard-element\",\n  \"whiteboard\"\n];\nvar cx = (...args) => args.join(\" \");\nvar TablerIcon = (_a3) => {\n  var _b = _a3, {\n    name,\n    className\n  } = _b, props = __objRest(_b, [\n    \"name\",\n    \"className\"\n  ]);\n  const classNamePrefix = extendedIcons.includes(name) ? `tie tie-` : `ti ti-`;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime32.jsx)(\"i\", __spreadValues({\n    className: cx(classNamePrefix + name, className)\n  }, props));\n};\n\n\/\/ src\/components\/Tooltip\/Tooltip.tsx\nvar import_jsx_runtime33 = require(\"react\/jsx-runtime\");\nvar LSUI = window.LSUI;\nfunction Tooltip(_a3) {\n  var _b = _a3, { side, content, sideOffset = 10 } = _b, rest = __objRest(_b, [\"side\", \"content\", \"sideOffset\"]);\n  return content ? \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipProvider, {\n    delayDuration: 300,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsxs)(LSUI.Tooltip, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipTrigger, {\n          asChild: true,\n          children: rest.children\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsxs)(LSUI.TooltipContent, __spreadProps(__spreadValues({\n          sideOffset,\n          side\n        }, rest), {\n          children: [\n            content,\n            \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipArrow, {\n              className: \"popper-arrow\"\n            })\n          ]\n        }))\n      ]\n    })\n  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(import_jsx_runtime33.Fragment, {\n    children: rest.children\n  });\n}\n\n\/\/ src\/components\/Button\/Button.tsx\nvar import_jsx_runtime34 = require(\"react\/jsx-runtime\");\nfunction Button(_a3) {\n  var _b = _a3, { className, tooltip, tooltipSide } = _b, rest = __objRest(_b, [\"className\", \"tooltip\", \"tooltipSide\"]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime34.jsx)(Tooltip, {\n    content: tooltip,\n    side: tooltipSide,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime34.jsx)(\"button\", __spreadValues({\n      className: \"tl-button \" + (className != null ? className : \"\")\n    }, rest))\n  });\n}\n\n\/\/ src\/components\/Button\/CircleButton.tsx\nvar import_jsx_runtime35 = require(\"react\/jsx-runtime\");\nvar CircleButton = ({\n  style,\n  icon,\n  onClick\n}) => {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(\"button\", {\n    \"data-html2canvas-ignore\": \"true\",\n    style,\n    className: \"tl-circle-button\",\n    onPointerDown: onClick,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(\"div\", {\n      className: \"tl-circle-button-icons-wrapper\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(TablerIcon, {\n        name: icon\n      })\n    })\n  });\n};\n\n\/\/ src\/components\/inputs\/ToggleInput.tsx\nvar import_jsx_runtime36 = require(\"react\/jsx-runtime\");\nvar LSUI2 = window.LSUI;\nfunction ToggleInput(_a3) {\n  var _b = _a3, {\n    toggle = true,\n    pressed,\n    onPressedChange,\n    className,\n    tooltip\n  } = _b, rest = __objRest(_b, [\n    \"toggle\",\n    \"pressed\",\n    \"onPressedChange\",\n    \"className\",\n    \"tooltip\"\n  ]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(Tooltip, {\n    content: tooltip,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(\"div\", {\n      className: \"inline-flex\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(LSUI2.Toggle, __spreadProps(__spreadValues({}, rest), {\n        \"data-toggle\": toggle,\n        className: \"tl-button\" + (className ? \" \" + className : \"\"),\n        pressed,\n        onPressedChange\n      }))\n    })\n  });\n}\n\n\/\/ src\/lib\/logseq-context.ts\nvar import_react12 = __toESM(require(\"react\"));\nvar LogseqContext = import_react12.default.createContext({});\n\n\/\/ src\/components\/KeyboardShortcut\/KeyboardShortcut.tsx\nvar React35 = __toESM(require(\"react\"));\nvar import_jsx_runtime37 = require(\"react\/jsx-runtime\");\nvar KeyboardShortcut = (_a3) => {\n  var _b = _a3, {\n    action: action2,\n    shortcut,\n    opts\n  } = _b, props = __objRest(_b, [\n    \"action\",\n    \"shortcut\",\n    \"opts\"\n  ]);\n  const { renderers } = React35.useContext(LogseqContext);\n  const Shortcut = renderers == null ? void 0 : renderers.KeyboardShortcut;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime37.jsx)(\"div\", __spreadProps(__spreadValues({\n    className: \"tl-menu-right-slot\"\n  }, props), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime37.jsx)(Shortcut, {\n      action: action2,\n      shortcut,\n      opts\n    })\n  }));\n};\n\n\/\/ src\/components\/ZoomMenu\/ZoomMenu.tsx\nvar import_jsx_runtime38 = require(\"react\/jsx-runtime\");\nvar LSUI3 = window.LSUI;\nvar ZoomMenu = observer(function ZoomMenu2() {\n  const app = useApp();\n  const preventEvent = (e) => {\n    e.preventDefault();\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenu, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(LSUI3.DropdownMenuTrigger, {\n        className: \"tl-button text-sm px-2 important\",\n        id: \"tl-zoom\",\n        children: (app.viewport.camera.zoom * 100).toFixed(0) + \"%\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuContent, {\n        onCloseAutoFocus: (e) => e.preventDefault(),\n        id: \"zoomPopup\",\n        sideOffset: 12,\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomToFit,\n            children: [\n              \"Zoom to drawing\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-to-fit\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomToSelection,\n            disabled: app.selectedShapesArray.length === 0,\n            children: [\n              \"Zoom to fit selection\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-to-selection\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomIn,\n            children: [\n              \"Zoom in\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-in\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomOut,\n            children: [\n              \"Zoom out\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-out\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.resetZoom,\n            children: [\n              \"Reset zoom\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/reset-zoom\"\n              })\n            ]\n          })\n        ]\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/ActionBar\/ActionBar.tsx\nvar import_jsx_runtime39 = require(\"react\/jsx-runtime\");\nvar LSUI4 = window.LSUI;\nvar ActionBar = observer(function ActionBar2() {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = React36.useContext(LogseqContext);\n  const undo = React36.useCallback(() => {\n    app.api.undo();\n  }, [app]);\n  const redo = React36.useCallback(() => {\n    app.api.redo();\n  }, [app]);\n  const zoomIn = React36.useCallback(() => {\n    app.api.zoomIn();\n  }, [app]);\n  const zoomOut = React36.useCallback(() => {\n    app.api.zoomOut();\n  }, [app]);\n  const toggleGrid = React36.useCallback(() => {\n    app.api.toggleGrid();\n  }, [app]);\n  const toggleSnapToGrid = React36.useCallback(() => {\n    app.api.toggleSnapToGrid();\n  }, [app]);\n  const togglePenMode = React36.useCallback(() => {\n    app.api.togglePenMode();\n  }, [app]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n    className: \"tl-action-bar\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-history-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/undo\"),\n            onClick: undo,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"arrow-back-up\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/redo\"),\n            onClick: redo,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"arrow-forward-up\"\n            })\n          })\n        ]\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-zoom-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/zoom-in\"),\n            onClick: zoomIn,\n            id: \"tl-zoom-in\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"plus\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/zoom-out\"),\n            onClick: zoomOut,\n            id: \"tl-zoom-out\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"minus\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(LSUI4.Separator, {\n            orientation: \"vertical\"\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ZoomMenu, {})\n        ]\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-grid-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n            tooltip: t(\"whiteboard\/toggle-grid\"),\n            className: \"tl-button\",\n            pressed: app.settings.showGrid,\n            id: \"tl-show-grid\",\n            onPressedChange: toggleGrid,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"grid-dots\"\n            })\n          }),\n          !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n            tooltip: t(\"whiteboard\/snap-to-grid\"),\n            className: \"tl-button\",\n            pressed: app.settings.snapToGrid,\n            id: \"tl-snap-to-grid\",\n            onPressedChange: toggleSnapToGrid,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: app.settings.snapToGrid ? \"magnet\" : \"magnet-off\"\n            })\n          })\n        ]\n      }),\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(\"div\", {\n        className: \"tl-toolbar tl-pen-mode-bar mb-2\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n          tooltip: t(\"whiteboard\/toggle-pen-mode\"),\n          className: \"tl-button\",\n          pressed: app.settings.penMode,\n          id: \"tl-toggle-pen-mode\",\n          onPressedChange: togglePenMode,\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n            name: app.settings.penMode ? \"pencil\" : \"pencil-off\"\n          })\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/Devtools\/Devtools.tsx\nvar import_react16 = __toESM(require(\"react\"));\nvar import_react_dom2 = __toESM(require(\"react-dom\"));\nvar import_jsx_runtime40 = require(\"react\/jsx-runtime\");\nvar printPoint = (point) => {\n  return `[${point.map((d2) => {\n    var _a3;\n    return (_a3 = d2 == null ? void 0 : d2.toFixed(2)) != null ? _a3 : \"-\";\n  }).join(\", \")}]`;\n};\nvar DevTools = observer(() => {\n  var _a3;\n  const {\n    viewport: {\n      bounds,\n      camera: { point, zoom }\n    },\n    inputs\n  } = useRendererContext();\n  const statusbarAnchorRef = import_react16.default.useRef();\n  import_react16.default.useEffect(() => {\n    const statusbarAnchor = document.getElementById(\"tl-statusbar-anchor\");\n    statusbarAnchorRef.current = statusbarAnchor;\n  }, []);\n  const rendererStatusText = [\n    [\"Z\", (_a3 = zoom == null ? void 0 : zoom.toFixed(2)) != null ? _a3 : \"null\"],\n    [\"MP\", printPoint(inputs.currentPoint)],\n    [\"MS\", printPoint(inputs.currentScreenPoint)],\n    [\"VP\", printPoint(point)],\n    [\"VBR\", printPoint([bounds.maxX, bounds.maxY])]\n  ].map((p2) => p2.join(\"\")).join(\"|\");\n  const rendererStatus = statusbarAnchorRef.current ? import_react_dom2.default.createPortal(\n    \/* @__PURE__ *\/ (0, import_jsx_runtime40.jsx)(\"div\", {\n      style: {\n        flex: 1,\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      children: rendererStatusText\n    }),\n    statusbarAnchorRef.current\n  ) : null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime40.jsx)(import_jsx_runtime40.Fragment, {\n    children: rendererStatus\n  });\n});\n\n\/\/ src\/components\/PrimaryTools\/PrimaryTools.tsx\nvar React42 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ToolButton\/ToolButton.tsx\nvar import_jsx_runtime41 = require(\"react\/jsx-runtime\");\nvar ToolButton = observer(\n  (_a3) => {\n    var _b = _a3, { id: id3, icon, tooltip, tooltipSide = \"left\", handleClick } = _b, props = __objRest(_b, [\"id\", \"icon\", \"tooltip\", \"tooltipSide\", \"handleClick\"]);\n    var _a4;\n    const app = useApp();\n    const Tool = (_a4 = [...app.Tools, TLSelectTool, TLMoveTool]) == null ? void 0 : _a4.find((T2) => T2.id === id3);\n    const shortcut = Tool == null ? void 0 : Tool[\"shortcut\"];\n    const tooltipContent = shortcut && tooltip ? \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsxs)(\"div\", {\n      className: \"flex\",\n      children: [\n        tooltip,\n        \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(KeyboardShortcut, {\n          action: shortcut\n        })\n      ]\n    }) : tooltip;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(Button, __spreadProps(__spreadValues({}, props), {\n      tooltipSide,\n      tooltip: tooltipContent,\n      \"data-tool\": id3,\n      \"data-selected\": id3 === app.selectedTool.id,\n      onClick: handleClick,\n      children: typeof icon === \"string\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(TablerIcon, {\n        name: icon\n      }) : icon\n    }));\n  }\n);\n\n\/\/ src\/components\/GeometryTools\/GeometryTools.tsx\nvar import_react18 = __toESM(require(\"react\"));\nvar import_jsx_runtime42 = require(\"react\/jsx-runtime\");\nvar LSUI5 = window.LSUI;\nvar GeometryTools = observer(function GeometryTools2(_a3) {\n  var _b = _a3, {\n    popoverSide = \"left\",\n    setGeometry,\n    activeGeometry,\n    chevron = true\n  } = _b, rest = __objRest(_b, [\n    \"popoverSide\",\n    \"setGeometry\",\n    \"activeGeometry\",\n    \"chevron\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react18.default.useContext(LogseqContext);\n  const geometries = [\n    {\n      id: \"box\",\n      icon: \"square\",\n      tooltip: t(\"whiteboard\/rectangle\")\n    },\n    {\n      id: \"ellipse\",\n      icon: \"circle\",\n      tooltip: t(\"whiteboard\/circle\")\n    },\n    {\n      id: \"polygon\",\n      icon: \"triangle\",\n      tooltip: t(\"whiteboard\/triangle\")\n    }\n  ];\n  const shapes2 = {\n    id: \"shapes\",\n    icon: \"triangle-square-circle\",\n    tooltip: t(\"whiteboard\/shape\")\n  };\n  const activeTool = activeGeometry ? geometries.find((geo) => geo.id === activeGeometry) : shapes2;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsxs)(LSUI5.Popover, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(LSUI5.PopoverTrigger, {\n        asChild: true,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsxs)(\"div\", __spreadProps(__spreadValues({}, rest), {\n          className: \"tl-geometry-tools-pane-anchor\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(ToolButton, __spreadProps(__spreadValues({}, activeTool), {\n              tooltipSide: popoverSide\n            })),\n            chevron && \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(TablerIcon, {\n              \"data-selected\": activeGeometry,\n              className: \"tl-popover-indicator\",\n              name: \"chevron-down-left\"\n            })\n          ]\n        }))\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(LSUI5.PopoverContent, {\n        className: \"p-0 w-auto\",\n        side: popoverSide,\n        sideOffset: 15,\n        collisionBoundary: document.querySelector(\".logseq-tldraw\"),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(\"div\", {\n          className: `tl-toolbar tl-geometry-toolbar ${[\"left\", \"right\"].includes(popoverSide) ? \"flex-col\" : \"flex-row\"}`,\n          children: geometries.map((props) => \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(ToolButton, {\n            id: props.id,\n            icon: props.icon,\n            handleClick: setGeometry,\n            tooltipSide: popoverSide\n          }, props.id))\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/PopoverButton\/PopoverButton.tsx\nvar import_jsx_runtime43 = require(\"react\/jsx-runtime\");\nvar LSUI6 = window.LSUI;\nfunction PopoverButton(_a3) {\n  var _b = _a3, { side, align, alignOffset, label, children, border } = _b, rest = __objRest(_b, [\"side\", \"align\", \"alignOffset\", \"label\", \"children\", \"border\"]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsxs)(LSUI6.Popover, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsx)(LSUI6.PopoverTrigger, __spreadProps(__spreadValues({}, rest), {\n        \"data-border\": border,\n        className: \"tl-button tl-popover-trigger-button\",\n        children: label\n      })),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsxs)(LSUI6.PopoverContent, {\n        className: \"w-auto p-1\",\n        align,\n        alignOffset,\n        side,\n        sideOffset: 15,\n        collisionBoundary: document.querySelector(\".logseq-tldraw\"),\n        children: [\n          children,\n          \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsx)(LSUI6.PopoverArrow, {\n            className: \"popper-arrow\"\n          })\n        ]\n      })\n    ]\n  });\n}\n\n\/\/ src\/components\/inputs\/ColorInput.tsx\nvar import_react19 = __toESM(require(\"react\"));\nvar import_jsx_runtime44 = require(\"react\/jsx-runtime\");\nvar LSUI7 = window.LSUI;\nfunction ColorInput(_a3) {\n  var _b = _a3, {\n    color,\n    opacity,\n    popoverSide,\n    setColor,\n    setOpacity\n  } = _b, rest = __objRest(_b, [\n    \"color\",\n    \"opacity\",\n    \"popoverSide\",\n    \"setColor\",\n    \"setOpacity\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react19.default.useContext(LogseqContext);\n  function renderColor(color2) {\n    return color2 ? \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n      className: \"tl-color-bg\",\n      style: { backgroundColor: color2 },\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n        className: `w-full h-full bg-${color2}-500`\n      })\n    }) : \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n      className: \"tl-color-bg\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(TablerIcon, {\n        name: \"color-swatch\"\n      })\n    });\n  }\n  function isHexColor(color2) {\n    return \/^#(?:[0-9a-f]{3}){1,2}$\/i.test(color2);\n  }\n  const handleChangeDebounced = import_react19.default.useMemo(() => {\n    let latestValue = \"\";\n    const handler = (e) => {\n      setColor(latestValue);\n    };\n    return debounce(handler, 100, (e) => {\n      latestValue = e.target.value;\n    });\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(PopoverButton, __spreadProps(__spreadValues({}, rest), {\n    border: true,\n    side: popoverSide,\n    label: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(Tooltip, {\n      content: t(\"whiteboard\/color\"),\n      side: popoverSide,\n      sideOffset: 14,\n      children: renderColor(color)\n    }),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(\"div\", {\n      className: \"p-1\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n          className: \"tl-color-palette\",\n          children: Object.values(Color).map((value) => \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"button\", {\n            className: `tl-color-drip m-1${value === color ? \" active\" : \"\"}`,\n            onClick: () => setColor(value),\n            children: renderColor(value)\n          }, value))\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(\"div\", {\n          className: \"flex items-center tl-custom-color\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n              className: `tl-color-drip m-1 mr-3 ${!isBuiltInColor(color) ? \"active\" : \"\"}`,\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n                className: \"color-input-wrapper tl-color-bg\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"input\", __spreadValues({\n                  className: \"color-input cursor-pointer\",\n                  id: \"tl-custom-color-input\",\n                  type: \"color\",\n                  value: isHexColor(color) ? color : \"#000000\",\n                  onChange: handleChangeDebounced,\n                  style: { opacity: isBuiltInColor(color) ? 0 : 1 }\n                }, rest))\n              })\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"label\", {\n              htmlFor: \"tl-custom-color-input\",\n              className: \"text-xs cursor-pointer\",\n              children: t(\"whiteboard\/select-custom-color\")\n            })\n          ]\n        }),\n        setOpacity && \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n          className: \"mx-1 my-2\",\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(LSUI7.Slider, {\n            defaultValue: [opacity != null ? opacity : 0],\n            onValueCommit: (value) => setOpacity(value[0]),\n            max: 1,\n            step: 0.1,\n            \"aria-label\": t(\"whiteboard\/opacity\"),\n            className: \"tl-slider-root\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderTrack, {\n                className: \"tl-slider-track\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderRange, {\n                  className: \"tl-slider-range\"\n                })\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderThumb, {\n                className: \"tl-slider-thumb\"\n              })\n            ]\n          })\n        })\n      ]\n    })\n  }));\n}\n\n\/\/ src\/components\/inputs\/SelectInput.tsx\nvar React40 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/createLucideIcon.js\nvar import_react20 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/defaultAttributes.js\nvar defaultAttributes = {\n  xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/createLucideIcon.js\nvar toKebabCase = (string) => string.replace(\/([a-z0-9])([A-Z])\/g, \"$1-$2\").toLowerCase();\nvar createLucideIcon = (iconName, iconNode) => {\n  const Component = (0, import_react20.forwardRef)(\n    (_a3, ref) => {\n      var _b = _a3, { color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children } = _b, rest = __objRest(_b, [\"color\", \"size\", \"strokeWidth\", \"absoluteStrokeWidth\", \"children\"]);\n      return (0, import_react20.createElement)(\n        \"svg\",\n        __spreadValues(__spreadProps(__spreadValues({\n          ref\n        }, defaultAttributes), {\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 \/ Number(size) : strokeWidth,\n          className: `lucide lucide-${toKebabCase(iconName)}`\n        }), rest),\n        [\n          ...iconNode.map(([tag, attrs]) => (0, import_react20.createElement)(tag, attrs)),\n          ...(Array.isArray(children) ? children : [children]) || []\n        ]\n      );\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/icons\/chevron-down.js\nvar ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\n\/\/ src\/components\/inputs\/SelectInput.tsx\nvar import_jsx_runtime45 = require(\"react\/jsx-runtime\");\nvar LSUI8 = window.LSUI;\nfunction SelectInput(_a3) {\n  var _b = _a3, {\n    options,\n    tooltip,\n    popoverSide,\n    compact = false,\n    value,\n    onValueChange\n  } = _b, rest = __objRest(_b, [\n    \"options\",\n    \"tooltip\",\n    \"popoverSide\",\n    \"compact\",\n    \"value\",\n    \"onValueChange\"\n  ]);\n  const [isOpen, setIsOpen] = React40.useState(false);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(\"div\", __spreadProps(__spreadValues({}, rest), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsxs)(LSUI8.Select, {\n      open: isOpen,\n      onOpenChange: setIsOpen,\n      value,\n      onValueChange,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(Tooltip, {\n          content: tooltip,\n          side: popoverSide,\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsxs)(LSUI8.SelectTrigger, {\n            className: `tl-select-trigger ${compact ? \"compact\" : \"\"}`,\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectValue, {}),\n              !compact && \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectIcon, {\n                asChild: true,\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(ChevronDown, {\n                  className: \"h-4 w-4 opacity-50\"\n                })\n              })\n            ]\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectContent, {\n          className: \"min-w-min\",\n          side: popoverSide,\n          position: \"popper\",\n          sideOffset: 14,\n          align: \"center\",\n          onKeyDown: (e) => e.stopPropagation(),\n          children: options.map((option) => {\n            return \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectItem, {\n              value: option.value,\n              children: option.label\n            }, option.value);\n          })\n        })\n      ]\n    })\n  }));\n}\n\n\/\/ src\/components\/inputs\/ScaleInput.tsx\nvar import_react22 = __toESM(require(\"react\"));\nvar import_jsx_runtime46 = require(\"react\/jsx-runtime\");\nfunction ScaleInput(_a3) {\n  var _b = _a3, { scaleLevel, compact, popoverSide } = _b, rest = __objRest(_b, [\"scaleLevel\", \"compact\", \"popoverSide\"]);\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react22.default.useContext(LogseqContext);\n  const sizeOptions = [\n    {\n      label: compact ? \"XS\" : t(\"whiteboard\/extra-small\"),\n      value: \"xs\"\n    },\n    {\n      label: compact ? \"SM\" : t(\"whiteboard\/small\"),\n      value: \"sm\"\n    },\n    {\n      label: compact ? \"MD\" : t(\"whiteboard\/medium\"),\n      value: \"md\"\n    },\n    {\n      label: compact ? \"LG\" : t(\"whiteboard\/large\"),\n      value: \"lg\"\n    },\n    {\n      label: compact ? \"XL\" : t(\"whiteboard\/extra-large\"),\n      value: \"xl\"\n    },\n    {\n      label: compact ? \"XXL\" : t(\"whiteboard\/huge\"),\n      value: \"xxl\"\n    }\n  ];\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime46.jsx)(SelectInput, {\n    tooltip: t(\"whiteboard\/scale-level\"),\n    options: sizeOptions,\n    value: scaleLevel,\n    popoverSide,\n    compact,\n    onValueChange: (v2) => {\n      app.api.setScaleLevel(v2);\n    }\n  });\n}\n\n\/\/ src\/components\/PrimaryTools\/PrimaryTools.tsx\nvar import_jsx_runtime47 = require(\"react\/jsx-runtime\");\nvar LSUI9 = window.LSUI;\nvar PrimaryTools = observer(function PrimaryTools2() {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = React42.useContext(LogseqContext);\n  const handleSetColor = React42.useCallback((color) => {\n    app.api.setColor(color);\n  }, []);\n  const handleToolClick = React42.useCallback((e) => {\n    const tool = e.currentTarget.dataset.tool;\n    if (tool)\n      app.selectTool(tool);\n  }, []);\n  const [activeGeomId, setActiveGeomId] = React42.useState(\n    () => {\n      var _a3;\n      return (_a3 = Object.values(Geometry).find((geo) => geo === app.selectedTool.id)) != null ? _a3 : Object.values(Geometry)[0];\n    }\n  );\n  React42.useEffect(() => {\n    setActiveGeomId((prevId) => {\n      var _a3;\n      return (_a3 = Object.values(Geometry).find((geo) => geo === app.selectedTool.id)) != null ? _a3 : prevId;\n    });\n  }, [app.selectedTool.id]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(\"div\", {\n    className: \"tl-primary-tools\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsxs)(\"div\", {\n      className: \"tl-toolbar tl-tools-floating-panel\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"select\"),\n          tooltip: t(\"whiteboard\/select\"),\n          id: \"select\",\n          icon: \"select-cursor\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"move\"),\n          tooltip: t(\"whiteboard\/pan\"),\n          id: \"move\",\n          icon: app.isIn(\"move.panning\") ? \"hand-grab\" : \"hand-stop\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(LSUI9.Separator, {\n          orientation: \"horizontal\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"logseq-portal\"),\n          tooltip: t(\"whiteboard\/add-block-or-page\"),\n          id: \"logseq-portal\",\n          icon: \"circle-plus\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"pencil\"),\n          tooltip: t(\"whiteboard\/draw\"),\n          id: \"pencil\",\n          icon: \"ballpen\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"highlighter\"),\n          tooltip: t(\"whiteboard\/highlight\"),\n          id: \"highlighter\",\n          icon: \"highlight\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"erase\"),\n          tooltip: t(\"whiteboard\/eraser\"),\n          id: \"erase\",\n          icon: \"eraser\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"line\"),\n          tooltip: t(\"whiteboard\/connector\"),\n          id: \"line\",\n          icon: \"connector\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"text\"),\n          tooltip: t(\"whiteboard\/text\"),\n          id: \"text\",\n          icon: \"text\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(GeometryTools, {\n          activeGeometry: activeGeomId,\n          setGeometry: handleToolClick\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(LSUI9.Separator, {\n          orientation: \"horizontal\",\n          style: { margin: \"0 -4px\" }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ColorInput, {\n          popoverSide: \"left\",\n          color: app.settings.color,\n          setColor: handleSetColor\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ScaleInput, {\n          scaleLevel: app.settings.scaleLevel,\n          popoverSide: \"left\",\n          compact: true\n        })\n      ]\n    })\n  });\n});\n\n\/\/ src\/components\/StatusBar\/StatusBar.tsx\nvar import_jsx_runtime48 = require(\"react\/jsx-runtime\");\nvar StatusBar = observer(function StatusBar2() {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsxs)(\"div\", {\n    className: \"tl-statusbar\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      app.selectedTool.id,\n      \" | \",\n      app.selectedTool.currentState.id,\n      \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsx)(\"div\", {\n        style: { flex: 1 }\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsx)(\"div\", {\n        id: \"tl-statusbar-anchor\",\n        className: \"flex gap-1\"\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/AppUI.tsx\nvar import_jsx_runtime49 = require(\"react\/jsx-runtime\");\nvar AppUI = observer(function AppUI2() {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsxs)(import_jsx_runtime49.Fragment, {\n    children: [\n      isDev() && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(StatusBar, {}),\n      isDev() && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(DevTools, {}),\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(PrimaryTools, {}),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(ActionBar, {})\n    ]\n  });\n});\n\n\/\/ src\/components\/ContextBar\/ContextBar.tsx\nvar React62 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ContextBar\/contextBarActionFactory.tsx\nvar import_react52 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/inputs\/ShapeLinksInput.tsx\nvar import_react50 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/BlockLink\/BlockLink.tsx\nvar import_react26 = __toESM(require(\"react\"));\nvar import_jsx_runtime50 = require(\"react\/jsx-runtime\");\nvar BlockLink = ({\n  id: id3,\n  showReferenceContent = false\n}) => {\n  var _a3;\n  const {\n    handlers: { isWhiteboardPage, redirectToPage, sidebarAddBlock, queryBlockByUUID },\n    renderers: { Breadcrumb, PageName }\n  } = import_react26.default.useContext(LogseqContext);\n  let iconName = \"\";\n  let linkType = validUUID(id3) ? \"B\" : \"P\";\n  let blockContent = \"\";\n  if (validUUID(id3)) {\n    const block = queryBlockByUUID(id3);\n    if (!block) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(\"span\", {\n        className: \"p-2\",\n        children: \"Invalid reference. Did you remove it?\"\n      });\n    }\n    blockContent = block.title;\n    if (((_a3 = block.properties) == null ? void 0 : _a3[\"ls-type\"]) === \"whiteboard-shape\") {\n      iconName = \"link-to-whiteboard\";\n    } else {\n      iconName = \"link-to-block\";\n    }\n  } else {\n    if (isWhiteboardPage(id3)) {\n      iconName = \"link-to-whiteboard\";\n    } else {\n      iconName = \"link-to-page\";\n    }\n  }\n  const slicedContent = blockContent && blockContent.length > 23 ? blockContent.slice(0, 20) + \"...\" : blockContent;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsxs)(\"button\", {\n    className: \"inline-flex gap-1 items-center w-full\",\n    onPointerDown: (e) => {\n      e.stopPropagation();\n      if (e.shiftKey) {\n        sidebarAddBlock(id3, linkType === \"B\" ? \"block\" : \"page\");\n      } else {\n        redirectToPage(id3);\n      }\n    },\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(TablerIcon, {\n        name: iconName\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(\"span\", {\n        className: \"pointer-events-none block-link-reference-row\",\n        children: linkType === \"P\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(PageName, {\n          pageName: id3\n        }) : \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsxs)(import_jsx_runtime50.Fragment, {\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(Breadcrumb, {\n              levelLimit: 1,\n              blockId: id3,\n              endSeparator: showReferenceContent\n            }),\n            showReferenceContent && slicedContent\n          ]\n        })\n      })\n    ]\n  });\n};\n\n\/\/ src\/components\/QuickSearch\/QuickSearch.tsx\nvar import_react48 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/react-urx\/dist\/react-urx.esm.js\nvar import_react27 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/urx\/dist\/urx.esm.js\nvar PUBLISH = 0;\nvar SUBSCRIBE = 1;\nvar RESET = 2;\nvar VALUE = 4;\nfunction compose(a3, b3) {\n  return function(arg) {\n    return a3(b3(arg));\n  };\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return function(arg2) {\n    return proc(arg1, arg2);\n  };\n}\nfunction curry1to0(proc, arg) {\n  return function() {\n    return proc(arg);\n  };\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args;\n}\nfunction call2(proc) {\n  proc();\n}\nfunction always(value) {\n  return function() {\n    return value;\n  };\n}\nfunction joinProc() {\n  for (var _len2 = arguments.length, procs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    procs[_key2] = arguments[_key2];\n  }\n  return function() {\n    procs.map(call2);\n  };\n}\nfunction noop4() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  var unsub = emitter(SUBSCRIBE, function(value) {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  var subscriptions = [];\n  return function(action2, arg) {\n    switch (action2) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return function() {\n          var indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach(function(subscription) {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  var value = initial;\n  var innerSubject = stream();\n  return function(action2, arg) {\n    switch (action2) {\n      case SUBSCRIBE:\n        var subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action2, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  var unsub;\n  var currentSubscription;\n  var cleanup = function cleanup2() {\n    return unsub && unsub();\n  };\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop4;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), function(stream2) {\n    return connect(emitter, stream2);\n  });\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), function(stream2) {\n    return connect(emitter, stream2);\n  });\n}\nfunction combineOperators() {\n  for (var _len = arguments.length, operators = new Array(_len), _key = 0; _key < _len; _key++) {\n    operators[_key] = arguments[_key];\n  }\n  return function(subscriber) {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source) {\n  for (var _len2 = arguments.length, operators = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    operators[_key2 - 1] = arguments[_key2];\n  }\n  var project = combineOperators.apply(void 0, operators);\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator) {\n  if (comparator === void 0) {\n    comparator = defaultComparator;\n  }\n  var current;\n  return function(done) {\n    return function(next) {\n      if (!comparator(current, next)) {\n        current = next;\n        done(next);\n      }\n    };\n  };\n}\nfunction filter(predicate) {\n  return function(done) {\n    return function(value) {\n      predicate(value) && done(value);\n    };\n  };\n}\nfunction map2(project) {\n  return function(done) {\n    return compose(done, project);\n  };\n}\nfunction mapTo(value) {\n  return function(done) {\n    return function() {\n      return done(value);\n    };\n  };\n}\nfunction scan(scanner, initial) {\n  return function(done) {\n    return function(value) {\n      return done(initial = scanner(initial, value));\n    };\n  };\n}\nfunction skip(times) {\n  return function(done) {\n    return function(value) {\n      times > 0 ? times-- : done(value);\n    };\n  };\n}\nfunction throttleTime(interval) {\n  var currentValue;\n  var timeout;\n  return function(done) {\n    return function(value) {\n      currentValue = value;\n      if (timeout) {\n        return;\n      }\n      timeout = setTimeout(function() {\n        timeout = void 0;\n        done(currentValue);\n      }, interval);\n    };\n  };\n}\nfunction debounceTime(interval) {\n  var currentValue;\n  var timeout;\n  return function(done) {\n    return function(value) {\n      currentValue = value;\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(function() {\n        done(currentValue);\n      }, interval);\n    };\n  };\n}\nfunction withLatestFrom() {\n  for (var _len3 = arguments.length, sources = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    sources[_key3] = arguments[_key3];\n  }\n  var values = new Array(sources.length);\n  var called = 0;\n  var pendingCall = null;\n  var allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach(function(source, index2) {\n    var bit = Math.pow(2, index2);\n    subscribe(source, function(value) {\n      var prevCalled = called;\n      called = called | bit;\n      values[index2] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return function(done) {\n    return function(value) {\n      var call3 = function call4() {\n        return done([value].concat(values));\n      };\n      if (called === allCalled) {\n        call3();\n      } else {\n        pendingCall = call3;\n      }\n    };\n  };\n}\nfunction merge() {\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        return joinProc.apply(void 0, sources.map(function(source) {\n          return subscribe(source, subscription);\n        }));\n      case RESET:\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction duc(source, comparator) {\n  if (comparator === void 0) {\n    comparator = defaultComparator;\n  }\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest() {\n  var innerSubject = stream();\n  for (var _len2 = arguments.length, emitters = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    emitters[_key2] = arguments[_key2];\n  }\n  var values = new Array(emitters.length);\n  var called = 0;\n  var allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach(function(source, index2) {\n    var bit = Math.pow(2, index2);\n    subscribe(source, function(value) {\n      values[index2] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction system(constructor, dependencies, _temp) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n  var _ref = _temp === void 0 ? {\n    singleton: true\n  } : _temp, singleton = _ref.singleton;\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nvar id = function id2() {\n  return Symbol();\n};\nfunction init(systemSpec) {\n  var singletons = \/* @__PURE__ *\/ new Map();\n  var _init = function _init2(_ref2) {\n    var id3 = _ref2.id, constructor = _ref2.constructor, dependencies = _ref2.dependencies, singleton = _ref2.singleton;\n    if (singleton && singletons.has(id3)) {\n      return singletons.get(id3);\n    }\n    var system2 = constructor(dependencies.map(function(e) {\n      return _init2(e);\n    }));\n    if (singleton) {\n      singletons.set(id3, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/react-urx\/dist\/react-urx.esm.js\nfunction _objectWithoutPropertiesLoose2(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i2;\n  for (i2 = 0; i2 < sourceKeys.length; i2++) {\n    key = sourceKeys[i2];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _unsupportedIterableToArray2(o2, minLen) {\n  if (!o2)\n    return;\n  if (typeof o2 === \"string\")\n    return _arrayLikeToArray2(o2, minLen);\n  var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n  if (n2 === \"Object\" && o2.constructor)\n    n2 = o2.constructor.name;\n  if (n2 === \"Map\" || n2 === \"Set\")\n    return Array.from(o2);\n  if (n2 === \"Arguments\" || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n2))\n    return _arrayLikeToArray2(o2, minLen);\n}\nfunction _arrayLikeToArray2(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++)\n    arr2[i2] = arr[i2];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose2(o2, allowArrayLike) {\n  var it2 = typeof Symbol !== \"undefined\" && o2[Symbol.iterator] || o2[\"@@iterator\"];\n  if (it2)\n    return (it2 = it2.call(o2)).next.bind(it2);\n  if (Array.isArray(o2) || (it2 = _unsupportedIterableToArray2(o2)) || allowArrayLike && o2 && typeof o2.length === \"number\") {\n    if (it2)\n      o2 = it2;\n    var i2 = 0;\n    return function() {\n      if (i2 >= o2.length)\n        return {\n          done: true\n        };\n      return {\n        done: false,\n        value: o2[i2++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar _excluded2 = [\"children\"];\nfunction omit(keys, obj) {\n  var result = {};\n  var index2 = {};\n  var idx = 0;\n  var len = keys.length;\n  while (idx < len) {\n    index2[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (var prop in obj) {\n    if (!index2.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nvar useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? import_react27.useLayoutEffect : import_react27.useEffect;\nfunction systemToComponent(systemSpec, map3, Root) {\n  var requiredPropNames = Object.keys(map3.required || {});\n  var optionalPropNames = Object.keys(map3.optional || {});\n  var methodNames = Object.keys(map3.methods || {});\n  var eventNames = Object.keys(map3.events || {});\n  var Context = (0, import_react27.createContext)({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (var _iterator = _createForOfIteratorHelperLoose2(requiredPropNames), _step; !(_step = _iterator()).done; ) {\n      var requiredPropName = _step.value;\n      var stream2 = system2[map3.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (var _iterator2 = _createForOfIteratorHelperLoose2(optionalPropNames), _step2; !(_step2 = _iterator2()).done; ) {\n      var optionalPropName = _step2.value;\n      if (optionalPropName in props) {\n        var _stream = system2[map3.optional[optionalPropName]];\n        publish(_stream, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce(function(acc, methodName) {\n      acc[methodName] = function(value) {\n        var stream2 = system2[map3.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce(function(handlers, eventName) {\n      handlers[eventName] = eventHandler(system2[map3.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  var Component = (0, import_react27.forwardRef)(function(propsWithChildren, ref) {\n    var children = propsWithChildren.children, props = _objectWithoutPropertiesLoose2(propsWithChildren, _excluded2);\n    var _useState = (0, import_react27.useState)(function() {\n      return tap(init(systemSpec), function(system3) {\n        return applyPropsToSystem(system3, props);\n      });\n    }), system2 = _useState[0];\n    var _useState2 = (0, import_react27.useState)(curry1to0(buildEventHandlers, system2)), handlers = _useState2[0];\n    useIsomorphicLayoutEffect(function() {\n      for (var _iterator3 = _createForOfIteratorHelperLoose2(eventNames), _step3; !(_step3 = _iterator3()).done; ) {\n        var eventName = _step3.value;\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return function() {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect(function() {\n      applyPropsToSystem(system2, props);\n    });\n    (0, import_react27.useImperativeHandle)(ref, always(buildMethods(system2)));\n    return (0, import_react27.createElement)(Context.Provider, {\n      value: system2\n    }, Root ? (0, import_react27.createElement)(Root, omit([].concat(requiredPropNames, optionalPropNames, eventNames), props), children) : children);\n  });\n  var usePublisher = function usePublisher2(key) {\n    return (0, import_react27.useCallback)(curry2to1(publish, (0, import_react27.useContext)(Context)[key]), [key]);\n  };\n  var useEmitterValue = function useEmitterValue2(key) {\n    var context = (0, import_react27.useContext)(Context);\n    var source = context[key];\n    var _useState3 = (0, import_react27.useState)(curry1to0(getValue, source)), value = _useState3[0], setValue = _useState3[1];\n    useIsomorphicLayoutEffect(function() {\n      return subscribe(source, function(next) {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      });\n    }, [source, value]);\n    return value;\n  };\n  var useEmitter = function useEmitter2(key, callback) {\n    var context = (0, import_react27.useContext)(Context);\n    var source = context[key];\n    useIsomorphicLayoutEffect(function() {\n      return subscribe(source, callback);\n    }, [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher,\n    useEmitterValue,\n    useEmitter\n  };\n}\n\n\/\/ ..\/..\/node_modules\/react-virtuoso\/dist\/index.m.js\nvar n = __toESM(require(\"react\"));\nvar import_react28 = require(\"react\");\nvar import_react_dom3 = require(\"react-dom\");\nfunction c() {\n  return c = Object.assign || function(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n2 = arguments[t];\n      for (var o2 in n2)\n        Object.prototype.hasOwnProperty.call(n2, o2) && (e[o2] = n2[o2]);\n    }\n    return e;\n  }, c.apply(this, arguments);\n}\nfunction m(e, t) {\n  if (null == e)\n    return {};\n  var n2, o2, r2 = {}, i2 = Object.keys(e);\n  for (o2 = 0; o2 < i2.length; o2++)\n    t.indexOf(n2 = i2[o2]) >= 0 || (r2[n2] = e[n2]);\n  return r2;\n}\nfunction d(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n  for (var n2 = 0, o2 = new Array(t); n2 < t; n2++)\n    o2[n2] = e[n2];\n  return o2;\n}\nfunction f(e, t) {\n  var n2 = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n  if (n2)\n    return (n2 = n2.call(e)).next.bind(n2);\n  if (Array.isArray(e) || (n2 = function(e2, t2) {\n    if (e2) {\n      if (\"string\" == typeof e2)\n        return d(e2, t2);\n      var n3 = Object.prototype.toString.call(e2).slice(8, -1);\n      return \"Object\" === n3 && e2.constructor && (n3 = e2.constructor.name), \"Map\" === n3 || \"Set\" === n3 ? Array.from(e2) : \"Arguments\" === n3 || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n3) ? d(e2, t2) : void 0;\n    }\n  }(e)) || t && e && \"number\" == typeof e.length) {\n    n2 && (e = n2);\n    var o2 = 0;\n    return function() {\n      return o2 >= e.length ? { done: true } : { done: false, value: e[o2++] };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar p;\nvar h;\nvar g = \"undefined\" != typeof document ? import_react28.useLayoutEffect : import_react28.useEffect;\n!function(e) {\n  e[e.DEBUG = 0] = \"DEBUG\", e[e.INFO = 1] = \"INFO\", e[e.WARN = 2] = \"WARN\", e[e.ERROR = 3] = \"ERROR\";\n}(h || (h = {}));\nvar v = ((p = {})[h.DEBUG] = \"debug\", p[h.INFO] = \"log\", p[h.WARN] = \"warn\", p[h.ERROR] = \"error\", p);\nvar S = system(function() {\n  var e = statefulStream(h.ERROR);\n  return { log: statefulStream(function(n2, o2, r2) {\n    var i2;\n    void 0 === r2 && (r2 = h.INFO), r2 >= (null != (i2 = (\"undefined\" == typeof globalThis ? window : globalThis).VIRTUOSO_LOG_LEVEL) ? i2 : getValue(e)) && console[v[r2]](\"%creact-virtuoso: %c%s %o\", \"color: #0253b3; font-weight: bold\", \"color: initial\", n2, o2);\n  }), logLevel: e };\n}, [], { singleton: true });\nfunction C(e, t) {\n  void 0 === t && (t = true);\n  var n2 = (0, import_react28.useRef)(null), o2 = function(e2) {\n  };\n  if (\"undefined\" != typeof ResizeObserver) {\n    var r2 = new ResizeObserver(function(t2) {\n      var n3 = t2[0].target;\n      null !== n3.offsetParent && e(n3);\n    });\n    o2 = function(e2) {\n      e2 && t ? (r2.observe(e2), n2.current = e2) : (n2.current && r2.unobserve(n2.current), n2.current = null);\n    };\n  }\n  return { ref: n2, callbackRef: o2 };\n}\nfunction I(e, t) {\n  return void 0 === t && (t = true), C(e, t).callbackRef;\n}\nfunction T(e, t, n2, o2, r2, i2, a3) {\n  return C(function(n3) {\n    for (var l3 = function(e2, t2, n4, o3) {\n      var r3 = e2.length;\n      if (0 === r3)\n        return null;\n      for (var i3 = [], a4 = 0; a4 < r3; a4++) {\n        var l4 = e2.item(a4);\n        if (l4 && void 0 !== l4.dataset.index) {\n          var s3 = parseInt(l4.dataset.index), u3 = parseFloat(l4.dataset.knownSize), c3 = t2(l4, \"offsetHeight\");\n          if (0 === c3 && o3(\"Zero-sized element, this should not happen\", { child: l4 }, h.ERROR), c3 !== u3) {\n            var m3 = i3[i3.length - 1];\n            0 === i3.length || m3.size !== c3 || m3.endIndex !== s3 - 1 ? i3.push({ startIndex: s3, endIndex: s3, size: c3 }) : i3[i3.length - 1].endIndex++;\n          }\n        }\n      }\n      return i3;\n    }(n3.children, t, 0, r2), s2 = n3.parentElement; !s2.dataset.virtuosoScroller; )\n      s2 = s2.parentElement;\n    var u2 = \"window\" === s2.firstElementChild.dataset.viewportType, c2 = a3 ? a3.scrollTop : u2 ? window.pageYOffset || document.documentElement.scrollTop : s2.scrollTop, m2 = a3 ? a3.scrollHeight : u2 ? document.documentElement.scrollHeight : s2.scrollHeight, d2 = a3 ? a3.offsetHeight : u2 ? window.innerHeight : s2.offsetHeight;\n    o2({ scrollTop: Math.max(c2, 0), scrollHeight: m2, viewportHeight: d2 }), null == i2 || i2(function(e2, t2, n4) {\n      return \"normal\" === t2 || null != t2 && t2.endsWith(\"px\") || n4(\"row-gap was not resolved to pixel value correctly\", t2, h.WARN), \"normal\" === t2 ? 0 : parseInt(null != t2 ? t2 : \"0\", 10);\n    }(0, getComputedStyle(n3).rowGap, r2)), null !== l3 && e(l3);\n  }, n2);\n}\nfunction w(e, t) {\n  return Math.round(e.getBoundingClientRect()[t]);\n}\nfunction x(e, t) {\n  return Math.abs(e - t) < 1.01;\n}\nfunction b(e, n2, o2, l3, s2) {\n  void 0 === l3 && (l3 = noop4);\n  var c2 = (0, import_react28.useRef)(null), m2 = (0, import_react28.useRef)(null), d2 = (0, import_react28.useRef)(null), f2 = (0, import_react28.useRef)(false), p2 = (0, import_react28.useCallback)(function(t) {\n    var o3 = t.target, r2 = o3 === window || o3 === document, i2 = r2 ? window.pageYOffset || document.documentElement.scrollTop : o3.scrollTop, a3 = r2 ? document.documentElement.scrollHeight : o3.scrollHeight, l4 = r2 ? window.innerHeight : o3.offsetHeight, s3 = function() {\n      e({ scrollTop: Math.max(i2, 0), scrollHeight: a3, viewportHeight: l4 });\n    };\n    f2.current ? (0, import_react_dom3.flushSync)(s3) : s3(), f2.current = false, null !== m2.current && (i2 === m2.current || i2 <= 0 || i2 === a3 - l4) && (m2.current = null, n2(true), d2.current && (clearTimeout(d2.current), d2.current = null));\n  }, [e, n2]);\n  return (0, import_react28.useEffect)(function() {\n    var e2 = s2 || c2.current;\n    return l3(s2 || c2.current), p2({ target: e2 }), e2.addEventListener(\"scroll\", p2, { passive: true }), function() {\n      l3(null), e2.removeEventListener(\"scroll\", p2);\n    };\n  }, [c2, p2, o2, l3, s2]), { scrollerRef: c2, scrollByCallback: function(e2) {\n    f2.current = true, c2.current.scrollBy(e2);\n  }, scrollToCallback: function(t) {\n    var o3 = c2.current;\n    if (o3 && (!(\"offsetHeight\" in o3) || 0 !== o3.offsetHeight)) {\n      var r2, i2, a3, l4 = \"smooth\" === t.behavior;\n      if (o3 === window ? (i2 = Math.max(w(document.documentElement, \"height\"), document.documentElement.scrollHeight), r2 = window.innerHeight, a3 = document.documentElement.scrollTop) : (i2 = o3.scrollHeight, r2 = w(o3, \"height\"), a3 = o3.scrollTop), t.top = Math.ceil(Math.max(Math.min(i2 - r2, t.top), 0)), x(r2, i2) || t.top === a3)\n        return e({ scrollTop: a3, scrollHeight: i2, viewportHeight: r2 }), void (l4 && n2(true));\n      l4 ? (m2.current = t.top, d2.current && clearTimeout(d2.current), d2.current = setTimeout(function() {\n        d2.current = null, m2.current = null, n2(true);\n      }, 1e3)) : m2.current = null, o3.scrollTo(t);\n    }\n  } };\n}\nvar y = system(function() {\n  var e = stream(), n2 = stream(), o2 = statefulStream(0), r2 = stream(), i2 = statefulStream(0), a3 = stream(), l3 = stream(), s2 = statefulStream(0), u2 = statefulStream(0), c2 = statefulStream(0), m2 = statefulStream(0), d2 = stream(), f2 = stream(), p2 = statefulStream(false), h2 = statefulStream(false);\n  return connect(pipe(e, map2(function(e2) {\n    return e2.scrollTop;\n  })), n2), connect(pipe(e, map2(function(e2) {\n    return e2.scrollHeight;\n  })), l3), connect(n2, i2), { scrollContainerState: e, scrollTop: n2, viewportHeight: a3, headerHeight: s2, fixedHeaderHeight: u2, fixedFooterHeight: c2, footerHeight: m2, scrollHeight: l3, smoothScrollTargetReached: r2, react18ConcurrentRendering: h2, scrollTo: d2, scrollBy: f2, statefulScrollTop: i2, deviation: o2, scrollingInProgress: p2 };\n}, [], { singleton: true });\nvar H = { lvl: 0 };\nfunction E(e, t, n2, o2, r2) {\n  return void 0 === o2 && (o2 = H), void 0 === r2 && (r2 = H), { k: e, v: t, lvl: n2, l: o2, r: r2 };\n}\nfunction R(e) {\n  return e === H;\n}\nfunction L() {\n  return H;\n}\nfunction F(e, t) {\n  if (R(e))\n    return H;\n  var n2 = e.k, o2 = e.l, r2 = e.r;\n  if (t === n2) {\n    if (R(o2))\n      return r2;\n    if (R(r2))\n      return o2;\n    var i2 = O(o2);\n    return U(W(e, { k: i2[0], v: i2[1], l: M(o2) }));\n  }\n  return U(W(e, t < n2 ? { l: F(o2, t) } : { r: F(r2, t) }));\n}\nfunction k(e, t, n2) {\n  if (void 0 === n2 && (n2 = \"k\"), R(e))\n    return [-Infinity, void 0];\n  if (e[n2] === t)\n    return [e.k, e.v];\n  if (e[n2] < t) {\n    var o2 = k(e.r, t, n2);\n    return -Infinity === o2[0] ? [e.k, e.v] : o2;\n  }\n  return k(e.l, t, n2);\n}\nfunction z(e, t, n2) {\n  return R(e) ? E(t, n2, 1) : t === e.k ? W(e, { k: t, v: n2 }) : function(e2) {\n    return D(G(e2));\n  }(W(e, t < e.k ? { l: z(e.l, t, n2) } : { r: z(e.r, t, n2) }));\n}\nfunction B(e, t, n2) {\n  if (R(e))\n    return [];\n  var o2 = e.k, r2 = e.v, i2 = e.r, a3 = [];\n  return o2 > t && (a3 = a3.concat(B(e.l, t, n2))), o2 >= t && o2 <= n2 && a3.push({ k: o2, v: r2 }), o2 <= n2 && (a3 = a3.concat(B(i2, t, n2))), a3;\n}\nfunction P(e) {\n  return R(e) ? [] : [].concat(P(e.l), [{ k: e.k, v: e.v }], P(e.r));\n}\nfunction O(e) {\n  return R(e.r) ? [e.k, e.v] : O(e.r);\n}\nfunction M(e) {\n  return R(e.r) ? e.l : U(W(e, { r: M(e.r) }));\n}\nfunction W(e, t) {\n  return E(void 0 !== t.k ? t.k : e.k, void 0 !== t.v ? t.v : e.v, void 0 !== t.lvl ? t.lvl : e.lvl, void 0 !== t.l ? t.l : e.l, void 0 !== t.r ? t.r : e.r);\n}\nfunction V2(e) {\n  return R(e) || e.lvl > e.r.lvl;\n}\nfunction U(e) {\n  var t = e.l, n2 = e.r, o2 = e.lvl;\n  if (n2.lvl >= o2 - 1 && t.lvl >= o2 - 1)\n    return e;\n  if (o2 > n2.lvl + 1) {\n    if (V2(t))\n      return G(W(e, { lvl: o2 - 1 }));\n    if (R(t) || R(t.r))\n      throw new Error(\"Unexpected empty nodes\");\n    return W(t.r, { l: W(t, { r: t.r.l }), r: W(e, { l: t.r.r, lvl: o2 - 1 }), lvl: o2 });\n  }\n  if (V2(e))\n    return D(W(e, { lvl: o2 - 1 }));\n  if (R(n2) || R(n2.l))\n    throw new Error(\"Unexpected empty nodes\");\n  var r2 = n2.l, i2 = V2(r2) ? n2.lvl - 1 : n2.lvl;\n  return W(r2, { l: W(e, { r: r2.l, lvl: o2 - 1 }), r: D(W(n2, { l: r2.r, lvl: i2 })), lvl: r2.lvl + 1 });\n}\nfunction A(e, t, n2) {\n  return R(e) ? [] : N(B(e, k(e, t)[0], n2), function(e2) {\n    return { index: e2.k, value: e2.v };\n  });\n}\nfunction N(e, t) {\n  var n2 = e.length;\n  if (0 === n2)\n    return [];\n  for (var o2 = t(e[0]), r2 = o2.index, i2 = o2.value, a3 = [], l3 = 1; l3 < n2; l3++) {\n    var s2 = t(e[l3]), u2 = s2.index, c2 = s2.value;\n    a3.push({ start: r2, end: u2 - 1, value: i2 }), r2 = u2, i2 = c2;\n  }\n  return a3.push({ start: r2, end: Infinity, value: i2 }), a3;\n}\nfunction D(e) {\n  var t = e.r, n2 = e.lvl;\n  return R(t) || R(t.r) || t.lvl !== n2 || t.r.lvl !== n2 ? e : W(t, { l: W(e, { r: t.l }), lvl: n2 + 1 });\n}\nfunction G(e) {\n  var t = e.l;\n  return R(t) || t.lvl !== e.lvl ? e : W(t, { r: W(e, { l: t.r }) });\n}\nfunction _(e, t, n2, o2) {\n  void 0 === o2 && (o2 = 0);\n  for (var r2 = e.length - 1; o2 <= r2; ) {\n    var i2 = Math.floor((o2 + r2) \/ 2), a3 = n2(e[i2], t);\n    if (0 === a3)\n      return i2;\n    if (-1 === a3) {\n      if (r2 - o2 < 2)\n        return i2 - 1;\n      r2 = i2 - 1;\n    } else {\n      if (r2 === o2)\n        return i2;\n      o2 = i2 + 1;\n    }\n  }\n  throw new Error(\"Failed binary finding record in array - \" + e.join(\",\") + \", searched for \" + t);\n}\nfunction j(e, t, n2) {\n  return e[_(e, t, n2)];\n}\nvar K = system(function() {\n  return { recalcInProgress: statefulStream(false) };\n}, [], { singleton: true });\nfunction Y(e) {\n  var t = e.size, n2 = e.startIndex, o2 = e.endIndex;\n  return function(e2) {\n    return e2.start === n2 && (e2.end === o2 || Infinity === e2.end) && e2.value === t;\n  };\n}\nfunction q(e, t) {\n  var n2 = e.index;\n  return t === n2 ? 0 : t < n2 ? -1 : 1;\n}\nfunction Z(e, t) {\n  var n2 = e.offset;\n  return t === n2 ? 0 : t < n2 ? -1 : 1;\n}\nfunction J(e) {\n  return { index: e.index, value: e };\n}\nfunction $(e, t, n2, o2) {\n  var r2 = e, i2 = 0, a3 = 0, l3 = 0, s2 = 0;\n  if (0 !== t) {\n    l3 = r2[s2 = _(r2, t - 1, q)].offset;\n    var u2 = k(n2, t - 1);\n    i2 = u2[0], a3 = u2[1], r2.length && r2[s2].size === k(n2, t)[1] && (s2 -= 1), r2 = r2.slice(0, s2 + 1);\n  } else\n    r2 = [];\n  for (var c2, m2 = f(A(n2, t, Infinity)); !(c2 = m2()).done; ) {\n    var d2 = c2.value, p2 = d2.start, h2 = d2.value, g2 = p2 - i2, v2 = g2 * a3 + l3 + g2 * o2;\n    r2.push({ offset: v2, size: h2, index: p2 }), i2 = p2, l3 = v2, a3 = h2;\n  }\n  return { offsetTree: r2, lastIndex: i2, lastOffset: l3, lastSize: a3 };\n}\nfunction Q(e, t) {\n  var n2 = t[0], o2 = t[1], r2 = t[3];\n  n2.length > 0 && (0, t[2])(\"received item sizes\", n2, h.DEBUG);\n  var i2 = e.sizeTree, a3 = i2, l3 = 0;\n  if (o2.length > 0 && R(i2) && 2 === n2.length) {\n    var s2 = n2[0].size, u2 = n2[1].size;\n    a3 = o2.reduce(function(e2, t2) {\n      return z(z(e2, t2, s2), t2 + 1, u2);\n    }, a3);\n  } else {\n    var c2 = function(e2, t2) {\n      for (var n3, o3 = R(e2) ? 0 : Infinity, r3 = f(t2); !(n3 = r3()).done; ) {\n        var i3 = n3.value, a4 = i3.size, l4 = i3.startIndex, s3 = i3.endIndex;\n        if (o3 = Math.min(o3, l4), R(e2))\n          e2 = z(e2, 0, a4);\n        else {\n          var u3 = A(e2, l4 - 1, s3 + 1);\n          if (!u3.some(Y(i3))) {\n            for (var c3, m3 = false, d3 = false, p2 = f(u3); !(c3 = p2()).done; ) {\n              var h2 = c3.value, g2 = h2.start, v2 = h2.end, S2 = h2.value;\n              m3 ? (s3 >= g2 || a4 === S2) && (e2 = F(e2, g2)) : (d3 = S2 !== a4, m3 = true), v2 > s3 && s3 >= g2 && S2 !== a4 && (e2 = z(e2, s3 + 1, S2));\n            }\n            d3 && (e2 = z(e2, l4, a4));\n          }\n        }\n      }\n      return [e2, o3];\n    }(a3, n2);\n    a3 = c2[0], l3 = c2[1];\n  }\n  if (a3 === i2)\n    return e;\n  var m2 = $(e.offsetTree, l3, a3, r2), d2 = m2.offsetTree;\n  return { sizeTree: a3, offsetTree: d2, lastIndex: m2.lastIndex, lastOffset: m2.lastOffset, lastSize: m2.lastSize, groupOffsetTree: o2.reduce(function(e2, t2) {\n    return z(e2, t2, X(t2, d2, r2));\n  }, L()), groupIndices: o2 };\n}\nfunction X(e, t, n2) {\n  if (0 === t.length)\n    return 0;\n  var o2 = j(t, e, q), r2 = e - o2.index, i2 = o2.size * r2 + (r2 - 1) * n2 + o2.offset;\n  return i2 > 0 ? i2 + n2 : i2;\n}\nfunction ee(e, t, n2) {\n  if (function(e2) {\n    return void 0 !== e2.groupIndex;\n  }(e))\n    return t.groupIndices[e.groupIndex] + 1;\n  var o2 = te(\"LAST\" === e.index ? n2 : e.index, t);\n  return Math.max(0, o2, Math.min(n2, o2));\n}\nfunction te(e, t) {\n  if (!ne(t))\n    return e;\n  for (var n2 = 0; t.groupIndices[n2] <= e + n2; )\n    n2++;\n  return e + n2;\n}\nfunction ne(e) {\n  return !R(e.groupOffsetTree);\n}\nvar oe = { offsetHeight: \"height\", offsetWidth: \"width\" };\nvar re = system(function(e) {\n  var n2 = e[0].log, o2 = e[1].recalcInProgress, r2 = stream(), i2 = stream(), a3 = statefulStreamFromEmitter(i2, 0), l3 = stream(), s2 = stream(), u2 = statefulStream(0), m2 = statefulStream([]), d2 = statefulStream(void 0), f2 = statefulStream(void 0), p2 = statefulStream(function(e2, t) {\n    return w(e2, oe[t]);\n  }), g2 = statefulStream(void 0), v2 = statefulStream(0), S2 = { offsetTree: [], sizeTree: L(), groupOffsetTree: L(), lastIndex: 0, lastOffset: 0, lastSize: 0, groupIndices: [] }, C3 = statefulStreamFromEmitter(pipe(r2, withLatestFrom(m2, n2, v2), scan(Q, S2), distinctUntilChanged()), S2);\n  connect(pipe(m2, filter(function(e2) {\n    return e2.length > 0;\n  }), withLatestFrom(C3, v2), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = t.reduce(function(e3, t2, r4) {\n      return z(e3, t2, X(t2, n3.offsetTree, o3) || r4);\n    }, L());\n    return c({}, n3, { groupIndices: t, groupOffsetTree: r3 });\n  })), C3), connect(pipe(i2, withLatestFrom(C3), filter(function(e2) {\n    return e2[0] < e2[1].lastIndex;\n  }), map2(function(e2) {\n    var t = e2[1];\n    return [{ startIndex: e2[0], endIndex: t.lastIndex, size: t.lastSize }];\n  })), r2), connect(d2, f2);\n  var I2 = statefulStreamFromEmitter(pipe(d2, map2(function(e2) {\n    return void 0 === e2;\n  })), true);\n  connect(pipe(f2, filter(function(e2) {\n    return void 0 !== e2 && R(getValue(C3).sizeTree);\n  }), map2(function(e2) {\n    return [{ startIndex: 0, endIndex: 0, size: e2 }];\n  })), r2);\n  var T2 = streamFromEmitter(pipe(r2, withLatestFrom(C3), scan(function(e2, t) {\n    var n3 = t[1];\n    return { changed: n3 !== e2.sizes, sizes: n3 };\n  }, { changed: false, sizes: S2 }), map2(function(e2) {\n    return e2.changed;\n  })));\n  subscribe(pipe(u2, scan(function(e2, t) {\n    return { diff: e2.prev - t, prev: t };\n  }, { diff: 0, prev: 0 }), map2(function(e2) {\n    return e2.diff;\n  })), function(e2) {\n    e2 > 0 ? (publish(o2, true), publish(l3, e2)) : e2 < 0 && publish(s2, e2);\n  }), subscribe(pipe(u2, withLatestFrom(n2)), function(e2) {\n    e2[0] < 0 && (0, e2[1])(\"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\", { firstItemIndex: u2 }, h.ERROR);\n  });\n  var x2 = streamFromEmitter(l3);\n  connect(pipe(l3, withLatestFrom(C3), map2(function(e2) {\n    var t = e2[0], n3 = e2[1];\n    if (n3.groupIndices.length > 0)\n      throw new Error(\"Virtuoso: prepending items does not work with groups\");\n    return P(n3.sizeTree).reduce(function(e3, n4) {\n      var o3 = n4.k, r3 = n4.v;\n      return { ranges: [].concat(e3.ranges, [{ startIndex: e3.prevIndex, endIndex: o3 + t - 1, size: e3.prevSize }]), prevIndex: o3 + t, prevSize: r3 };\n    }, { ranges: [], prevIndex: 0, prevSize: n3.lastSize }).ranges;\n  })), r2);\n  var b3 = streamFromEmitter(pipe(s2, withLatestFrom(C3, v2), map2(function(e2) {\n    return X(-e2[0], e2[1].offsetTree, e2[2]);\n  })));\n  return connect(pipe(s2, withLatestFrom(C3, v2), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2];\n    if (n3.groupIndices.length > 0)\n      throw new Error(\"Virtuoso: shifting items does not work with groups\");\n    var r3 = P(n3.sizeTree).reduce(function(e3, n4) {\n      var o4 = n4.v;\n      return z(e3, Math.max(0, n4.k + t), o4);\n    }, L());\n    return c({}, n3, { sizeTree: r3 }, $(n3.offsetTree, 0, r3, o3));\n  })), C3), { data: g2, totalCount: i2, sizeRanges: r2, groupIndices: m2, defaultItemSize: f2, fixedItemSize: d2, unshiftWith: l3, shiftWith: s2, shiftWithOffset: b3, beforeUnshiftWith: x2, firstItemIndex: u2, gap: v2, sizes: C3, listRefresh: T2, statefulTotalCount: a3, trackItemSizes: I2, itemSize: p2 };\n}, tup(S, K), { singleton: true });\nvar ie = \"undefined\" != typeof document && \"scrollBehavior\" in document.documentElement.style;\nfunction ae(e) {\n  var t = \"number\" == typeof e ? { index: e } : e;\n  return t.align || (t.align = \"start\"), t.behavior && ie || (t.behavior = \"auto\"), t.offset || (t.offset = 0), t;\n}\nvar le = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.listRefresh, a3 = n2.gap, l3 = e[1], s2 = l3.scrollingInProgress, u2 = l3.viewportHeight, c2 = l3.scrollTo, m2 = l3.smoothScrollTargetReached, d2 = l3.headerHeight, f2 = l3.footerHeight, p2 = l3.fixedHeaderHeight, g2 = l3.fixedFooterHeight, v2 = e[2].log, S2 = stream(), C3 = statefulStream(0), I2 = null, T2 = null, w2 = null;\n  function x2() {\n    I2 && (I2(), I2 = null), w2 && (w2(), w2 = null), T2 && (clearTimeout(T2), T2 = null), publish(s2, false);\n  }\n  return connect(pipe(S2, withLatestFrom(o2, u2, r2, C3, d2, f2, v2), withLatestFrom(a3, p2, g2), map2(function(e2) {\n    var n3 = e2[0], o3 = n3[0], r3 = n3[1], a4 = n3[2], l4 = n3[3], u3 = n3[4], c3 = n3[5], d3 = n3[6], f3 = n3[7], p3 = e2[1], g3 = e2[2], v3 = e2[3], C4 = ae(o3), b3 = C4.align, y2 = C4.behavior, H2 = C4.offset, E2 = l4 - 1, R3 = ee(C4, r3, E2), L3 = X(R3, r3.offsetTree, p3) + c3;\n    \"end\" === b3 ? (L3 += g3 + k(r3.sizeTree, R3)[1] - a4 + v3, R3 === E2 && (L3 += d3)) : \"center\" === b3 ? L3 += (g3 + k(r3.sizeTree, R3)[1] - a4 + v3) \/ 2 : L3 -= u3, H2 && (L3 += H2);\n    var F2 = function(e3) {\n      x2(), e3 ? (f3(\"retrying to scroll to\", { location: o3 }, h.DEBUG), publish(S2, o3)) : f3(\"list did not change, scroll successful\", {}, h.DEBUG);\n    };\n    if (x2(), \"smooth\" === y2) {\n      var z2 = false;\n      w2 = subscribe(i2, function(e3) {\n        z2 = z2 || e3;\n      }), I2 = handleNext(m2, function() {\n        F2(z2);\n      });\n    } else\n      I2 = handleNext(pipe(i2, function(e3) {\n        var t = setTimeout(function() {\n          e3(false);\n        }, 150);\n        return function(n4) {\n          n4 && (e3(true), clearTimeout(t));\n        };\n      }), F2);\n    return T2 = setTimeout(function() {\n      x2();\n    }, 1200), publish(s2, true), f3(\"scrolling from index to\", { index: R3, top: L3, behavior: y2 }, h.DEBUG), { top: L3, behavior: y2 };\n  })), c2), { scrollToIndex: S2, topListHeight: C3 };\n}, tup(re, y, S), { singleton: true });\nvar se = \"up\";\nvar ue = { atBottom: false, notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\", state: { offsetBottom: 0, scrollTop: 0, viewportHeight: 0, scrollHeight: 0 } };\nvar ce = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollContainerState, r2 = n2.scrollTop, i2 = n2.viewportHeight, a3 = n2.headerHeight, l3 = n2.footerHeight, s2 = n2.scrollBy, u2 = statefulStream(false), c2 = statefulStream(true), m2 = stream(), d2 = stream(), f2 = statefulStream(4), p2 = statefulStream(0), h2 = statefulStreamFromEmitter(pipe(merge(pipe(duc(r2), skip(1), mapTo(true)), pipe(duc(r2), skip(1), mapTo(false), debounceTime(100))), distinctUntilChanged()), false), g2 = statefulStreamFromEmitter(pipe(merge(pipe(s2, mapTo(true)), pipe(s2, mapTo(false), debounceTime(200))), distinctUntilChanged()), false);\n  connect(pipe(combineLatest(duc(r2), duc(p2)), map2(function(e2) {\n    return e2[0] <= e2[1];\n  }), distinctUntilChanged()), c2), connect(pipe(c2, throttleTime(50)), d2);\n  var v2 = streamFromEmitter(pipe(combineLatest(o2, duc(i2), duc(a3), duc(l3), duc(f2)), scan(function(e2, t) {\n    var n3, o3, r3 = t[0], i3 = r3.scrollTop, a4 = r3.scrollHeight, l4 = t[1], s3 = { viewportHeight: l4, scrollTop: i3, scrollHeight: a4 };\n    return i3 + l4 - a4 > -t[4] ? (i3 > e2.state.scrollTop ? (n3 = \"SCROLLED_DOWN\", o3 = e2.state.scrollTop - i3) : (n3 = \"SIZE_DECREASED\", o3 = e2.state.scrollTop - i3 || e2.scrollTopDelta), { atBottom: true, state: s3, atBottomBecause: n3, scrollTopDelta: o3 }) : { atBottom: false, notAtBottomBecause: s3.scrollHeight > e2.state.scrollHeight ? \"SIZE_INCREASED\" : l4 < e2.state.viewportHeight ? \"VIEWPORT_HEIGHT_DECREASING\" : i3 < e2.state.scrollTop ? \"SCROLLING_UPWARDS\" : \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\", state: s3 };\n  }, ue), distinctUntilChanged(function(e2, t) {\n    return e2 && e2.atBottom === t.atBottom;\n  }))), S2 = statefulStreamFromEmitter(pipe(o2, scan(function(e2, t) {\n    var n3 = t.scrollTop, o3 = t.scrollHeight, r3 = t.viewportHeight;\n    return x(e2.scrollHeight, o3) ? { scrollTop: n3, scrollHeight: o3, jump: 0, changed: false } : e2.scrollTop !== n3 && o3 - (n3 + r3) < 1 ? { scrollHeight: o3, scrollTop: n3, jump: e2.scrollTop - n3, changed: true } : { scrollHeight: o3, scrollTop: n3, jump: 0, changed: true };\n  }, { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }), filter(function(e2) {\n    return e2.changed;\n  }), map2(function(e2) {\n    return e2.jump;\n  })), 0);\n  connect(pipe(v2, map2(function(e2) {\n    return e2.atBottom;\n  })), u2), connect(pipe(u2, throttleTime(50)), m2);\n  var C3 = statefulStream(\"down\");\n  connect(pipe(o2, map2(function(e2) {\n    return e2.scrollTop;\n  }), distinctUntilChanged(), scan(function(e2, n3) {\n    return getValue(g2) ? { direction: e2.direction, prevScrollTop: n3 } : { direction: n3 < e2.prevScrollTop ? se : \"down\", prevScrollTop: n3 };\n  }, { direction: \"down\", prevScrollTop: 0 }), map2(function(e2) {\n    return e2.direction;\n  })), C3), connect(pipe(o2, throttleTime(50), mapTo(\"none\")), C3);\n  var I2 = statefulStream(0);\n  return connect(pipe(h2, filter(function(e2) {\n    return !e2;\n  }), mapTo(0)), I2), connect(pipe(r2, throttleTime(100), withLatestFrom(h2), filter(function(e2) {\n    return !!e2[1];\n  }), scan(function(e2, t) {\n    return [e2[1], t[0]];\n  }, [0, 0]), map2(function(e2) {\n    return e2[1] - e2[0];\n  })), I2), { isScrolling: h2, isAtTop: c2, isAtBottom: u2, atBottomState: v2, atTopStateChange: d2, atBottomStateChange: m2, scrollDirection: C3, atBottomThreshold: f2, atTopThreshold: p2, scrollVelocity: I2, lastJumpDueToItemResize: S2 };\n}, tup(y));\nvar me = system(function(e) {\n  var n2 = e[0].log, o2 = statefulStream(false), r2 = streamFromEmitter(pipe(o2, filter(function(e2) {\n    return e2;\n  }), distinctUntilChanged()));\n  return subscribe(o2, function(e2) {\n    e2 && getValue(n2)(\"props updated\", {}, h.DEBUG);\n  }), { propsReady: o2, didMount: r2 };\n}, tup(S), { singleton: true });\nvar de = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.listRefresh, i2 = n2.defaultItemSize, a3 = e[1].scrollTop, l3 = e[2].scrollToIndex, s2 = e[3].didMount, u2 = statefulStream(true), c2 = statefulStream(0);\n  return connect(pipe(s2, withLatestFrom(c2), filter(function(e2) {\n    return !!e2[1];\n  }), mapTo(false)), u2), subscribe(pipe(combineLatest(r2, s2), withLatestFrom(u2, o2, i2), filter(function(e2) {\n    var t = e2[1], n3 = e2[3];\n    return e2[0][1] && (!R(e2[2].sizeTree) || void 0 !== n3) && !t;\n  }), withLatestFrom(c2)), function(e2) {\n    var n3 = e2[1];\n    setTimeout(function() {\n      handleNext(a3, function() {\n        publish(u2, true);\n      }), publish(l3, n3);\n    });\n  }), { scrolledToInitialItem: u2, initialTopMostItemIndex: c2 };\n}, tup(re, y, le, me), { singleton: true });\nfunction fe(e) {\n  return !!e && (\"smooth\" === e ? \"smooth\" : \"auto\");\n}\nvar pe = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.listRefresh, i2 = e[1], a3 = i2.isAtBottom, l3 = i2.atBottomState, s2 = e[2].scrollToIndex, u2 = e[3].scrolledToInitialItem, c2 = e[4], m2 = c2.propsReady, d2 = c2.didMount, f2 = e[5].log, p2 = e[6].scrollingInProgress, g2 = statefulStream(false), v2 = stream(), S2 = null;\n  function C3(e2) {\n    publish(s2, { index: \"LAST\", align: \"end\", behavior: e2 });\n  }\n  function I2(e2) {\n    var n3 = handleNext(l3, function(n4) {\n      !e2 || n4.atBottom || \"SIZE_INCREASED\" !== n4.notAtBottomBecause || S2 || (getValue(f2)(\"scrolling to bottom due to increased size\", {}, h.DEBUG), C3(\"auto\"));\n    });\n    setTimeout(n3, 100);\n  }\n  return subscribe(pipe(combineLatest(pipe(duc(o2), skip(1)), d2), withLatestFrom(duc(g2), a3, u2, p2), map2(function(e2) {\n    var t = e2[0], n3 = t[0], o3 = t[1] && e2[3], r3 = \"auto\";\n    return o3 && (r3 = function(e3, t2) {\n      return \"function\" == typeof e3 ? fe(e3(t2)) : t2 && fe(e3);\n    }(e2[1], e2[2] || e2[4]), o3 = o3 && !!r3), { totalCount: n3, shouldFollow: o3, followOutputBehavior: r3 };\n  }), filter(function(e2) {\n    return e2.shouldFollow;\n  })), function(e2) {\n    var n3 = e2.totalCount, o3 = e2.followOutputBehavior;\n    S2 && (S2(), S2 = null), S2 = handleNext(r2, function() {\n      getValue(f2)(\"following output to \", { totalCount: n3 }, h.DEBUG), C3(o3), S2 = null;\n    });\n  }), subscribe(pipe(combineLatest(duc(g2), o2, m2), filter(function(e2) {\n    return e2[0] && e2[2];\n  }), scan(function(e2, t) {\n    var n3 = t[1];\n    return { refreshed: e2.value === n3, value: n3 };\n  }, { refreshed: false, value: 0 }), filter(function(e2) {\n    return e2.refreshed;\n  }), withLatestFrom(g2, o2)), function(e2) {\n    I2(false !== e2[1]);\n  }), subscribe(v2, function() {\n    I2(false !== getValue(g2));\n  }), subscribe(combineLatest(duc(g2), l3), function(e2) {\n    var t = e2[1];\n    e2[0] && !t.atBottom && \"VIEWPORT_HEIGHT_DECREASING\" === t.notAtBottomBecause && C3(\"auto\");\n  }), { followOutput: g2, autoscrollToBottom: v2 };\n}, tup(re, ce, le, de, me, S, y));\nfunction he(e) {\n  return e.reduce(function(e2, t) {\n    return e2.groupIndices.push(e2.totalCount), e2.totalCount += t + 1, e2;\n  }, { totalCount: 0, groupIndices: [] });\n}\nvar ge = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.groupIndices, i2 = n2.sizes, a3 = e[1], l3 = a3.scrollTop, s2 = a3.headerHeight, u2 = stream(), c2 = stream(), m2 = streamFromEmitter(pipe(u2, map2(he)));\n  return connect(pipe(m2, map2(function(e2) {\n    return e2.totalCount;\n  })), o2), connect(pipe(m2, map2(function(e2) {\n    return e2.groupIndices;\n  })), r2), connect(pipe(combineLatest(l3, i2, s2), filter(function(e2) {\n    return ne(e2[1]);\n  }), map2(function(e2) {\n    return k(e2[1].groupOffsetTree, Math.max(e2[0] - e2[2], 0), \"v\")[0];\n  }), distinctUntilChanged(), map2(function(e2) {\n    return [e2];\n  })), c2), { groupCounts: u2, topItemsIndexes: c2 };\n}, tup(re, y));\nfunction ve(e, t) {\n  return !(!e || e[0] !== t[0] || e[1] !== t[1]);\n}\nfunction Se(e, t) {\n  return !(!e || e.startIndex !== t.startIndex || e.endIndex !== t.endIndex);\n}\nfunction Ce(e, t, n2) {\n  return \"number\" == typeof e ? n2 === se && \"top\" === t || \"down\" === n2 && \"bottom\" === t ? e : 0 : n2 === se ? \"top\" === t ? e.main : e.reverse : \"bottom\" === t ? e.main : e.reverse;\n}\nfunction Ie(e, t) {\n  return \"number\" == typeof e ? e : e[t] || 0;\n}\nvar Te = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollTop, r2 = n2.viewportHeight, i2 = n2.deviation, a3 = n2.headerHeight, l3 = n2.fixedHeaderHeight, s2 = stream(), u2 = statefulStream(0), c2 = statefulStream(0), m2 = statefulStream(0), d2 = statefulStreamFromEmitter(pipe(combineLatest(duc(o2), duc(r2), duc(a3), duc(s2, ve), duc(m2), duc(u2), duc(l3), duc(i2), duc(c2)), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = r3[0], a4 = r3[1], l4 = e2[4], s3 = e2[6], u3 = e2[7], c3 = e2[8], m3 = t - u3, d3 = e2[5] + s3, f2 = Math.max(o3 - m3, 0), p2 = \"none\", h2 = Ie(c3, \"top\"), g2 = Ie(c3, \"bottom\");\n    return i3 -= u3, a4 += o3 + s3, (i3 += o3 + s3) > t + d3 - h2 && (p2 = se), (a4 -= u3) < t - f2 + n3 + g2 && (p2 = \"down\"), \"none\" !== p2 ? [Math.max(m3 - o3 - Ce(l4, \"top\", p2) - h2, 0), m3 - f2 - s3 + n3 + Ce(l4, \"bottom\", p2) + g2] : null;\n  }), filter(function(e2) {\n    return null != e2;\n  }), distinctUntilChanged(ve)), [0, 0]);\n  return { listBoundary: s2, overscan: m2, topListHeight: u2, increaseViewportBy: c2, visibleRange: d2 };\n}, tup(y), { singleton: true });\nvar we = { items: [], topItems: [], offsetTop: 0, offsetBottom: 0, top: 0, bottom: 0, topListHeight: 0, totalCount: 0, firstItemIndex: 0 };\nfunction xe(e, t, n2) {\n  if (0 === e.length)\n    return [];\n  if (!ne(t))\n    return e.map(function(e2) {\n      return c({}, e2, { index: e2.index + n2, originalIndex: e2.index });\n    });\n  for (var o2, r2 = [], i2 = A(t.groupOffsetTree, e[0].index, e[e.length - 1].index), a3 = void 0, l3 = 0, s2 = f(e); !(o2 = s2()).done; ) {\n    var u2 = o2.value;\n    (!a3 || a3.end < u2.index) && (a3 = i2.shift(), l3 = t.groupIndices.indexOf(a3.start)), r2.push(c({}, u2.index === a3.start ? { type: \"group\", index: l3 } : { index: u2.index - (l3 + 1) + n2, groupIndex: l3 }, { size: u2.size, offset: u2.offset, originalIndex: u2.index, data: u2.data }));\n  }\n  return r2;\n}\nfunction be(e, t, n2, o2, r2, i2) {\n  var a3 = 0, l3 = 0;\n  if (e.length > 0) {\n    a3 = e[0].offset;\n    var s2 = e[e.length - 1];\n    l3 = s2.offset + s2.size;\n  }\n  var u2 = n2 - r2.lastIndex, c2 = a3, m2 = r2.lastOffset + u2 * r2.lastSize + (u2 - 1) * o2 - l3;\n  return { items: xe(e, r2, i2), topItems: xe(t, r2, i2), topListHeight: t.reduce(function(e2, t2) {\n    return t2.size + e2;\n  }, 0), offsetTop: a3, offsetBottom: m2, top: c2, bottom: l3, totalCount: n2, firstItemIndex: i2 };\n}\nvar ye = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.data, a3 = n2.firstItemIndex, l3 = n2.gap, s2 = e[1], u2 = e[2], m2 = u2.visibleRange, d2 = u2.listBoundary, p2 = u2.topListHeight, h2 = e[3], g2 = h2.scrolledToInitialItem, v2 = h2.initialTopMostItemIndex, S2 = e[4].topListHeight, C3 = e[5], I2 = e[6].didMount, T2 = e[7].recalcInProgress, w2 = statefulStream([]), x2 = stream();\n  connect(s2.topItemsIndexes, w2);\n  var b3 = statefulStreamFromEmitter(pipe(combineLatest(I2, T2, duc(m2, ve), duc(r2), duc(o2), duc(v2), g2, duc(w2), duc(a3), duc(l3), i2), filter(function(e2) {\n    return e2[0] && !e2[1];\n  }), map2(function(e2) {\n    var n3 = e2[2], o3 = n3[0], r3 = n3[1], i3 = e2[3], a4 = e2[5], l4 = e2[6], s3 = e2[7], u3 = e2[8], m3 = e2[9], d3 = e2[10], p3 = e2[4], h3 = p3.sizeTree, g3 = p3.offsetTree;\n    if (0 === i3 || 0 === o3 && 0 === r3)\n      return c({}, we, { totalCount: i3 });\n    if (R(h3))\n      return be(function(e3, t, n4) {\n        if (ne(t)) {\n          var o4 = te(e3, t);\n          return [{ index: k(t.groupOffsetTree, o4)[0], size: 0, offset: 0 }, { index: o4, size: 0, offset: 0, data: n4 && n4[0] }];\n        }\n        return [{ index: e3, size: 0, offset: 0, data: n4 && n4[0] }];\n      }(function(e3, t) {\n        return \"number\" == typeof e3 ? e3 : \"LAST\" === e3.index ? t - 1 : e3.index;\n      }(a4, i3), p3, d3), [], i3, m3, p3, u3);\n    var v3 = [];\n    if (s3.length > 0)\n      for (var S3, C4 = s3[0], I3 = s3[s3.length - 1], T3 = 0, w3 = f(A(h3, C4, I3)); !(S3 = w3()).done; )\n        for (var x3 = S3.value, b4 = x3.value, y2 = Math.max(x3.start, C4), H2 = Math.min(x3.end, I3), E2 = y2; E2 <= H2; E2++)\n          v3.push({ index: E2, size: b4, offset: T3, data: d3 && d3[E2] }), T3 += b4;\n    if (!l4)\n      return be([], v3, i3, m3, p3, u3);\n    var L3 = s3.length > 0 ? s3[s3.length - 1] + 1 : 0, F2 = function(e3, t, n4, o4) {\n      return void 0 === o4 && (o4 = 0), o4 > 0 && (t = Math.max(t, j(e3, o4, q).offset)), N((i4 = n4, l5 = _(r4 = e3, t, a5 = Z), s4 = _(r4, i4, a5, l5), r4.slice(l5, s4 + 1)), J);\n      var r4, i4, a5, l5, s4;\n    }(g3, o3, r3, L3);\n    if (0 === F2.length)\n      return null;\n    var z2 = i3 - 1;\n    return be(tap([], function(e3) {\n      for (var t, n4 = f(F2); !(t = n4()).done; ) {\n        var i4 = t.value, a5 = i4.value, l5 = a5.offset, s4 = i4.start, u4 = a5.size;\n        if (a5.offset < o3) {\n          var c2 = (s4 += Math.floor((o3 - a5.offset + m3) \/ (u4 + m3))) - i4.start;\n          l5 += c2 * u4 + c2 * m3;\n        }\n        s4 < L3 && (l5 += (L3 - s4) * u4, s4 = L3);\n        for (var p4 = Math.min(i4.end, z2), h4 = s4; h4 <= p4 && !(l5 >= r3); h4++)\n          e3.push({ index: h4, size: u4, offset: l5, data: d3 && d3[h4] }), l5 += u4 + m3;\n      }\n    }), v3, i3, m3, p3, u3);\n  }), filter(function(e2) {\n    return null !== e2;\n  }), distinctUntilChanged()), we);\n  return connect(pipe(i2, filter(function(e2) {\n    return void 0 !== e2;\n  }), map2(function(e2) {\n    return e2.length;\n  })), r2), connect(pipe(b3, map2(function(e2) {\n    return e2.topListHeight;\n  })), S2), connect(S2, p2), connect(pipe(b3, map2(function(e2) {\n    return [e2.top, e2.bottom];\n  })), d2), connect(pipe(b3, map2(function(e2) {\n    return e2.items;\n  })), x2), c({ listState: b3, topItemsIndexes: w2, endReached: streamFromEmitter(pipe(b3, filter(function(e2) {\n    return e2.items.length > 0;\n  }), withLatestFrom(r2, i2), filter(function(e2) {\n    var t = e2[0].items;\n    return t[t.length - 1].originalIndex === e2[1] - 1;\n  }), map2(function(e2) {\n    return [e2[1] - 1, e2[2]];\n  }), distinctUntilChanged(ve), map2(function(e2) {\n    return e2[0];\n  }))), startReached: streamFromEmitter(pipe(b3, throttleTime(200), filter(function(e2) {\n    var t = e2.items;\n    return t.length > 0 && t[0].originalIndex === e2.topItems.length;\n  }), map2(function(e2) {\n    return e2.items[0].index;\n  }), distinctUntilChanged())), rangeChanged: streamFromEmitter(pipe(b3, filter(function(e2) {\n    return e2.items.length > 0;\n  }), map2(function(e2) {\n    for (var t = e2.items, n3 = 0, o3 = t.length - 1; \"group\" === t[n3].type && n3 < o3; )\n      n3++;\n    for (; \"group\" === t[o3].type && o3 > n3; )\n      o3--;\n    return { startIndex: t[n3].index, endIndex: t[o3].index };\n  }), distinctUntilChanged(Se))), itemsRendered: x2 }, C3);\n}, tup(re, ge, Te, de, le, ce, me, K), { singleton: true });\nvar He = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.firstItemIndex, i2 = n2.data, a3 = n2.gap, l3 = e[1].listState, s2 = e[2].didMount, u2 = statefulStream(0);\n  return connect(pipe(s2, withLatestFrom(u2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), withLatestFrom(o2, r2, a3, i2), map2(function(e2) {\n    var t = e2[0][1], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = e2[4], a4 = void 0 === i3 ? [] : i3, l4 = 0;\n    if (n3.groupIndices.length > 0)\n      for (var s3, u3 = f(n3.groupIndices); !((s3 = u3()).done || s3.value - l4 >= t); )\n        l4++;\n    var c2 = t + l4;\n    return be(Array.from({ length: c2 }).map(function(e3, t2) {\n      return { index: t2, size: 0, offset: 0, data: a4[t2] };\n    }), [], c2, r3, n3, o3);\n  })), l3), { initialItemCount: u2 };\n}, tup(re, ye, me), { singleton: true });\nvar Ee = system(function(e) {\n  var n2 = e[0].scrollVelocity, o2 = statefulStream(false), r2 = stream(), i2 = statefulStream(false);\n  return connect(pipe(n2, withLatestFrom(i2, o2, r2), filter(function(e2) {\n    return !!e2[1];\n  }), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = n3.enter;\n    if (o3) {\n      if ((0, n3.exit)(t, r3))\n        return false;\n    } else if (i3(t, r3))\n      return true;\n    return o3;\n  }), distinctUntilChanged()), o2), subscribe(pipe(combineLatest(o2, n2, r2), withLatestFrom(i2)), function(e2) {\n    var t = e2[0], n3 = e2[1];\n    return t[0] && n3 && n3.change && n3.change(t[1], t[2]);\n  }), { isSeeking: o2, scrollSeekConfiguration: i2, scrollVelocity: n2, scrollSeekRangeChanged: r2 };\n}, tup(ce), { singleton: true });\nvar Re = system(function(e) {\n  var n2 = e[0].topItemsIndexes, o2 = statefulStream(0);\n  return connect(pipe(o2, filter(function(e2) {\n    return e2 > 0;\n  }), map2(function(e2) {\n    return Array.from({ length: e2 }).map(function(e3, t) {\n      return t;\n    });\n  })), n2), { topItemCount: o2 };\n}, tup(ye));\nvar Le = system(function(e) {\n  var n2 = e[0], o2 = n2.footerHeight, r2 = n2.headerHeight, i2 = n2.fixedHeaderHeight, a3 = n2.fixedFooterHeight, l3 = e[1].listState, s2 = stream(), u2 = statefulStreamFromEmitter(pipe(combineLatest(o2, a3, r2, i2, l3), map2(function(e2) {\n    var t = e2[4];\n    return e2[0] + e2[1] + e2[2] + e2[3] + t.offsetBottom + t.bottom;\n  })), 0);\n  return connect(duc(u2), s2), { totalListHeight: u2, totalListHeightChanged: s2 };\n}, tup(y, ye), { singleton: true });\nfunction Fe(e) {\n  var t, n2 = false;\n  return function() {\n    return n2 || (n2 = true, t = e()), t;\n  };\n}\nvar ke = Fe(function() {\n  return \/iP(ad|hone|od).+Version\\\/[\\d.]+.*Safari\/i.test(navigator.userAgent);\n});\nvar ze = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollBy, r2 = n2.scrollTop, i2 = n2.deviation, a3 = n2.scrollingInProgress, l3 = e[1], s2 = l3.isScrolling, u2 = l3.isAtBottom, c2 = l3.scrollDirection, m2 = e[3], d2 = m2.beforeUnshiftWith, f2 = m2.shiftWithOffset, p2 = m2.sizes, g2 = m2.gap, v2 = e[4].log, S2 = e[5].recalcInProgress, C3 = streamFromEmitter(pipe(e[2].listState, withLatestFrom(l3.lastJumpDueToItemResize), scan(function(e2, t) {\n    var n3 = e2[1], o3 = t[0], r3 = o3.items, i3 = o3.totalCount, a4 = o3.bottom + o3.offsetBottom, l4 = 0;\n    return e2[2] === i3 && n3.length > 0 && r3.length > 0 && (0 === r3[0].originalIndex && 0 === n3[0].originalIndex || 0 != (l4 = a4 - e2[3]) && (l4 += t[1])), [l4, r3, i3, a4];\n  }, [0, [], 0, 0]), filter(function(e2) {\n    return 0 !== e2[0];\n  }), withLatestFrom(r2, c2, a3, u2, v2), filter(function(e2) {\n    return !e2[3] && 0 !== e2[1] && e2[2] === se;\n  }), map2(function(e2) {\n    var t = e2[0][0];\n    return (0, e2[5])(\"Upward scrolling compensation\", { amount: t }, h.DEBUG), t;\n  })));\n  function I2(e2) {\n    e2 > 0 ? (publish(o2, { top: -e2, behavior: \"auto\" }), publish(i2, 0)) : (publish(i2, 0), publish(o2, { top: -e2, behavior: \"auto\" }));\n  }\n  return subscribe(pipe(C3, withLatestFrom(i2, s2)), function(e2) {\n    var n3 = e2[0], o3 = e2[1];\n    e2[2] && ke() ? publish(i2, o3 - n3) : I2(-n3);\n  }), subscribe(pipe(combineLatest(statefulStreamFromEmitter(s2, false), i2, S2), filter(function(e2) {\n    return !e2[0] && !e2[2] && 0 !== e2[1];\n  }), map2(function(e2) {\n    return e2[1];\n  }), throttleTime(1)), I2), connect(pipe(f2, map2(function(e2) {\n    return { top: -e2 };\n  })), o2), subscribe(pipe(d2, withLatestFrom(p2, g2), map2(function(e2) {\n    var t = e2[0];\n    return t * e2[1].lastSize + t * e2[2];\n  })), function(e2) {\n    publish(i2, e2), requestAnimationFrame(function() {\n      publish(o2, { top: e2 }), requestAnimationFrame(function() {\n        publish(i2, 0), publish(S2, false);\n      });\n    });\n  }), { deviation: i2 };\n}, tup(y, ce, ye, re, S, K));\nvar Be = system(function(e) {\n  var n2 = e[0].totalListHeight, o2 = e[1].didMount, r2 = e[2].scrollTo, i2 = statefulStream(0);\n  return subscribe(pipe(o2, withLatestFrom(i2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), map2(function(e2) {\n    return { top: e2[1] };\n  })), function(e2) {\n    handleNext(pipe(n2, filter(function(e3) {\n      return 0 !== e3;\n    })), function() {\n      setTimeout(function() {\n        publish(r2, e2);\n      });\n    });\n  }), { initialScrollTop: i2 };\n}, tup(Le, me, y), { singleton: true });\nvar Pe = system(function(e) {\n  var n2 = e[0].viewportHeight, o2 = e[1].totalListHeight, r2 = statefulStream(false);\n  return { alignToBottom: r2, paddingTopAddition: statefulStreamFromEmitter(pipe(combineLatest(r2, n2, o2), filter(function(e2) {\n    return e2[0];\n  }), map2(function(e2) {\n    return Math.max(0, e2[1] - e2[2]);\n  }), distinctUntilChanged()), 0) };\n}, tup(y, Le), { singleton: true });\nvar Oe = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollTo, r2 = n2.scrollContainerState, i2 = stream(), a3 = stream(), l3 = stream(), s2 = statefulStream(false), u2 = statefulStream(void 0);\n  return connect(pipe(combineLatest(i2, a3), map2(function(e2) {\n    var t = e2[0], n3 = t.viewportHeight, o3 = t.scrollHeight;\n    return { scrollTop: Math.max(0, t.scrollTop - e2[1].offsetTop), scrollHeight: o3, viewportHeight: n3 };\n  })), r2), connect(pipe(o2, withLatestFrom(a3), map2(function(e2) {\n    var t = e2[0];\n    return c({}, t, { top: t.top + e2[1].offsetTop });\n  })), l3), { useWindowScroll: s2, customScrollParent: u2, windowScrollContainerState: i2, windowViewportRect: a3, windowScrollTo: l3 };\n}, tup(y));\nvar Me = [\"done\", \"behavior\", \"align\"];\nvar We = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.gap, a3 = e[1], l3 = a3.scrollTop, s2 = a3.viewportHeight, u2 = a3.headerHeight, d2 = a3.fixedHeaderHeight, f2 = a3.fixedFooterHeight, p2 = a3.scrollingInProgress, h2 = e[2].scrollToIndex, g2 = stream();\n  return connect(pipe(g2, withLatestFrom(o2, s2, r2, u2, d2, f2, l3), withLatestFrom(i2), map2(function(e2) {\n    var n3 = e2[0], o3 = n3[0], r3 = n3[1], i3 = n3[2], a4 = n3[3], l4 = n3[4], s3 = n3[5], u3 = n3[6], d3 = n3[7], f3 = e2[1], h3 = o3.done, g3 = o3.behavior, v2 = o3.align, S2 = m(o3, Me), C3 = null, I2 = ee(o3, r3, a4 - 1), T2 = X(I2, r3.offsetTree, f3) + l4 + s3;\n    return T2 < d3 + s3 ? C3 = c({}, S2, { behavior: g3, align: null != v2 ? v2 : \"start\" }) : T2 + k(r3.sizeTree, I2)[1] > d3 + i3 - u3 && (C3 = c({}, S2, { behavior: g3, align: null != v2 ? v2 : \"end\" })), C3 ? h3 && handleNext(pipe(p2, skip(1), filter(function(e3) {\n      return false === e3;\n    })), h3) : h3 && h3(), C3;\n  }), filter(function(e2) {\n    return null !== e2;\n  })), h2), { scrollIntoView: g2 };\n}, tup(re, y, le, ye, S), { singleton: true });\nvar Ve = [\"listState\", \"topItemsIndexes\"];\nvar Ue = system(function(e) {\n  return c({}, e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8]);\n}, tup(Te, He, me, Ee, Le, Be, Pe, Oe, We));\nvar Ae = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.sizeRanges, i2 = n2.fixedItemSize, a3 = n2.defaultItemSize, l3 = n2.trackItemSizes, s2 = n2.itemSize, u2 = n2.data, d2 = n2.firstItemIndex, f2 = n2.groupIndices, p2 = n2.statefulTotalCount, h2 = n2.gap, g2 = e[1], v2 = g2.initialTopMostItemIndex, S2 = g2.scrolledToInitialItem, C3 = e[2], I2 = e[3], T2 = e[4], w2 = T2.listState, x2 = T2.topItemsIndexes, b3 = m(T2, Ve), y2 = e[5].scrollToIndex, H2 = e[7].topItemCount, E2 = e[8].groupCounts, R3 = e[9], L3 = e[10];\n  return connect(b3.rangeChanged, R3.scrollSeekRangeChanged), connect(pipe(R3.windowViewportRect, map2(function(e2) {\n    return e2.visibleHeight;\n  })), C3.viewportHeight), c({ totalCount: o2, data: u2, firstItemIndex: d2, sizeRanges: r2, initialTopMostItemIndex: v2, scrolledToInitialItem: S2, topItemsIndexes: x2, topItemCount: H2, groupCounts: E2, fixedItemHeight: i2, defaultItemHeight: a3, gap: h2 }, I2, { statefulTotalCount: p2, listState: w2, scrollToIndex: y2, trackItemSizes: l3, itemSize: s2, groupIndices: f2 }, b3, R3, C3, L3);\n}, tup(re, de, y, pe, ye, le, ze, Re, ge, Ue, S));\nvar Ne = Fe(function() {\n  if (\"undefined\" == typeof document)\n    return \"sticky\";\n  var e = document.createElement(\"div\");\n  return e.style.position = \"-webkit-sticky\", \"-webkit-sticky\" === e.style.position ? \"-webkit-sticky\" : \"sticky\";\n});\nfunction De(e, t) {\n  var n2 = (0, import_react28.useRef)(null), o2 = (0, import_react28.useCallback)(function(o3) {\n    if (null !== o3 && o3.offsetParent) {\n      var r2, i2, a3 = o3.getBoundingClientRect(), l4 = a3.width;\n      if (t) {\n        var s3 = t.getBoundingClientRect(), u3 = a3.top - s3.top;\n        r2 = s3.height - Math.max(0, u3), i2 = u3 + t.scrollTop;\n      } else\n        r2 = window.innerHeight - Math.max(0, a3.top), i2 = a3.top + window.pageYOffset;\n      n2.current = { offsetTop: i2, visibleHeight: r2, visibleWidth: l4 }, e(n2.current);\n    }\n  }, [e, t]), l3 = C(o2), s2 = l3.callbackRef, u2 = l3.ref, c2 = (0, import_react28.useCallback)(function() {\n    o2(u2.current);\n  }, [o2, u2]);\n  return (0, import_react28.useEffect)(function() {\n    if (t) {\n      t.addEventListener(\"scroll\", c2);\n      var e2 = new ResizeObserver(c2);\n      return e2.observe(t), function() {\n        t.removeEventListener(\"scroll\", c2), e2.unobserve(t);\n      };\n    }\n    return window.addEventListener(\"scroll\", c2), window.addEventListener(\"resize\", c2), function() {\n      window.removeEventListener(\"scroll\", c2), window.removeEventListener(\"resize\", c2);\n    };\n  }, [c2, t]), s2;\n}\nvar Ge = n.createContext(void 0);\nvar _e = n.createContext(void 0);\nvar je = [\"placeholder\"];\nvar Ke = [\"style\", \"children\"];\nvar Ye = [\"style\", \"children\"];\nfunction qe(e) {\n  return e;\n}\nvar Ze = system(function() {\n  var e = statefulStream(function(e2) {\n    return \"Item \" + e2;\n  }), n2 = statefulStream(null), o2 = statefulStream(function(e2) {\n    return \"Group \" + e2;\n  }), r2 = statefulStream({}), i2 = statefulStream(qe), a3 = statefulStream(\"div\"), l3 = statefulStream(noop4), s2 = function(e2, n3) {\n    return void 0 === n3 && (n3 = null), statefulStreamFromEmitter(pipe(r2, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), n3);\n  };\n  return { context: n2, itemContent: e, groupContent: o2, components: r2, computeItemKey: i2, headerFooterTag: a3, scrollerRef: l3, FooterComponent: s2(\"Footer\"), HeaderComponent: s2(\"Header\"), TopItemListComponent: s2(\"TopItemList\"), ListComponent: s2(\"List\", \"div\"), ItemComponent: s2(\"Item\", \"div\"), GroupComponent: s2(\"Group\", \"div\"), ScrollerComponent: s2(\"Scroller\", \"div\"), EmptyPlaceholder: s2(\"EmptyPlaceholder\"), ScrollSeekPlaceholder: s2(\"ScrollSeekPlaceholder\") };\n});\nfunction Je(e, n2) {\n  var o2 = stream();\n  return subscribe(o2, function() {\n    return console.warn(\"react-virtuoso: You are using a deprecated property. \" + n2, \"color: red;\", \"color: inherit;\", \"color: blue;\");\n  }), connect(o2, e), o2;\n}\nvar $e = system(function(e) {\n  var n2 = e[0], o2 = e[1], r2 = { item: Je(o2.itemContent, \"Rename the %citem%c prop to %citemContent.\"), group: Je(o2.groupContent, \"Rename the %cgroup%c prop to %cgroupContent.\"), topItems: Je(n2.topItemCount, \"Rename the %ctopItems%c prop to %ctopItemCount.\"), itemHeight: Je(n2.fixedItemHeight, \"Rename the %citemHeight%c prop to %cfixedItemHeight.\"), scrollingStateChange: Je(n2.isScrolling, \"Rename the %cscrollingStateChange%c prop to %cisScrolling.\"), adjustForPrependedItems: stream(), maxHeightCacheSize: stream(), footer: stream(), header: stream(), HeaderContainer: stream(), FooterContainer: stream(), ItemContainer: stream(), ScrollContainer: stream(), GroupContainer: stream(), ListContainer: stream(), emptyComponent: stream(), scrollSeek: stream() };\n  function i2(e2, n3, r3) {\n    connect(pipe(e2, withLatestFrom(o2.components), map2(function(e3) {\n      var t, o3 = e3[0], i3 = e3[1];\n      return console.warn(\"react-virtuoso: \" + r3 + \" property is deprecated. Pass components.\" + n3 + \" instead.\"), c({}, i3, ((t = {})[n3] = o3, t));\n    })), o2.components);\n  }\n  return subscribe(r2.adjustForPrependedItems, function() {\n    console.warn(\"react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https:\/\/virtuoso.dev\/prepend-items.\", \"color: red;\", \"color: inherit;\", \"color: blue;\");\n  }), subscribe(r2.maxHeightCacheSize, function() {\n    console.warn(\"react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.\");\n  }), subscribe(r2.HeaderContainer, function() {\n    console.warn(\"react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.\");\n  }), subscribe(r2.FooterContainer, function() {\n    console.warn(\"react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.\");\n  }), subscribe(r2.scrollSeek, function(e2) {\n    var r3 = e2.placeholder, i3 = m(e2, je);\n    console.warn(\"react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.\"), publish(o2.components, c({}, getValue(o2.components), { ScrollSeekPlaceholder: r3 })), publish(n2.scrollSeekConfiguration, i3);\n  }), i2(r2.footer, \"Footer\", \"footer\"), i2(r2.header, \"Header\", \"header\"), i2(r2.ItemContainer, \"Item\", \"ItemContainer\"), i2(r2.ListContainer, \"List\", \"ListContainer\"), i2(r2.ScrollContainer, \"Scroller\", \"ScrollContainer\"), i2(r2.emptyComponent, \"EmptyPlaceholder\", \"emptyComponent\"), i2(r2.GroupContainer, \"Group\", \"GroupContainer\"), c({}, n2, o2, r2);\n}, tup(Ae, Ze));\nvar Qe = function(e) {\n  return n.createElement(\"div\", { style: { height: e.height } });\n};\nvar Xe = { position: Ne(), zIndex: 1, overflowAnchor: \"none\" };\nvar et = { overflowAnchor: \"none\" };\nvar tt = n.memo(function(e) {\n  var o2 = e.showTopList, r2 = void 0 !== o2 && o2, i2 = gt(\"listState\"), a3 = ht(\"sizeRanges\"), s2 = gt(\"useWindowScroll\"), u2 = gt(\"customScrollParent\"), m2 = ht(\"windowScrollContainerState\"), d2 = ht(\"scrollContainerState\"), f2 = u2 || s2 ? m2 : d2, p2 = gt(\"itemContent\"), h2 = gt(\"context\"), g2 = gt(\"groupContent\"), v2 = gt(\"trackItemSizes\"), S2 = gt(\"itemSize\"), C3 = gt(\"log\"), I2 = ht(\"gap\"), w2 = T(a3, S2, v2, r2 ? noop4 : f2, C3, I2, u2).callbackRef, x2 = n.useState(0), b3 = x2[0], y2 = x2[1];\n  vt(\"deviation\", function(e2) {\n    b3 !== e2 && y2(e2);\n  });\n  var H2 = gt(\"EmptyPlaceholder\"), E2 = gt(\"ScrollSeekPlaceholder\") || Qe, R3 = gt(\"ListComponent\"), L3 = gt(\"ItemComponent\"), F2 = gt(\"GroupComponent\"), k2 = gt(\"computeItemKey\"), z2 = gt(\"isSeeking\"), B3 = gt(\"groupIndices\").length > 0, P2 = gt(\"paddingTopAddition\"), O2 = r2 ? {} : { boxSizing: \"border-box\", paddingTop: i2.offsetTop + P2, paddingBottom: i2.offsetBottom, marginTop: b3 };\n  return !r2 && 0 === i2.totalCount && H2 ? (0, import_react28.createElement)(H2, it(H2, h2)) : (0, import_react28.createElement)(R3, c({}, it(R3, h2), { ref: w2, style: O2, \"data-test-id\": r2 ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\" }), (r2 ? i2.topItems : i2.items).map(function(e2) {\n    var t = e2.originalIndex, n2 = k2(t + i2.firstItemIndex, e2.data, h2);\n    return z2 ? (0, import_react28.createElement)(E2, c({}, it(E2, h2), { key: n2, index: e2.index, height: e2.size, type: e2.type || \"item\" }, \"group\" === e2.type ? {} : { groupIndex: e2.groupIndex })) : \"group\" === e2.type ? (0, import_react28.createElement)(F2, c({}, it(F2, h2), { key: n2, \"data-index\": t, \"data-known-size\": e2.size, \"data-item-index\": e2.index, style: Xe }), g2(e2.index)) : (0, import_react28.createElement)(L3, c({}, it(L3, h2), { key: n2, \"data-index\": t, \"data-known-size\": e2.size, \"data-item-index\": e2.index, \"data-item-group-index\": e2.groupIndex, style: et }), B3 ? p2(e2.index, e2.groupIndex, e2.data, h2) : p2(e2.index, e2.data, h2));\n  }));\n});\nvar nt = { height: \"100%\", outline: \"none\", overflowY: \"auto\", position: \"relative\", WebkitOverflowScrolling: \"touch\" };\nvar ot = { width: \"100%\", height: \"100%\", position: \"absolute\", top: 0 };\nvar rt = { width: \"100%\", position: Ne(), top: 0 };\nfunction it(e, t) {\n  if (\"string\" != typeof e)\n    return { context: t };\n}\nvar at = n.memo(function() {\n  var e = gt(\"HeaderComponent\"), t = ht(\"headerHeight\"), n2 = gt(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = gt(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar lt = n.memo(function() {\n  var e = gt(\"FooterComponent\"), t = ht(\"footerHeight\"), n2 = gt(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = gt(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nfunction st(e) {\n  var t = e.usePublisher, o2 = e.useEmitter, r2 = e.useEmitterValue;\n  return n.memo(function(e2) {\n    var n2 = e2.style, i2 = e2.children, a3 = m(e2, Ke), s2 = t(\"scrollContainerState\"), u2 = r2(\"ScrollerComponent\"), d2 = t(\"smoothScrollTargetReached\"), f2 = r2(\"scrollerRef\"), p2 = r2(\"context\"), h2 = b(s2, d2, u2, f2), g2 = h2.scrollerRef, v2 = h2.scrollByCallback;\n    return o2(\"scrollTo\", h2.scrollToCallback), o2(\"scrollBy\", v2), (0, import_react28.createElement)(u2, c({ ref: g2, style: c({}, nt, n2), \"data-test-id\": \"virtuoso-scroller\", \"data-virtuoso-scroller\": true, tabIndex: 0 }, a3, it(u2, p2)), i2);\n  });\n}\nfunction ut(e) {\n  var o2 = e.usePublisher, r2 = e.useEmitter, i2 = e.useEmitterValue;\n  return n.memo(function(e2) {\n    var n2 = e2.style, a3 = e2.children, s2 = m(e2, Ye), u2 = o2(\"windowScrollContainerState\"), d2 = i2(\"ScrollerComponent\"), f2 = o2(\"smoothScrollTargetReached\"), p2 = i2(\"totalListHeight\"), h2 = i2(\"deviation\"), v2 = i2(\"customScrollParent\"), S2 = i2(\"context\"), C3 = b(u2, f2, d2, noop4, v2), I2 = C3.scrollerRef, T2 = C3.scrollByCallback, w2 = C3.scrollToCallback;\n    return g(function() {\n      return I2.current = v2 || window, function() {\n        I2.current = null;\n      };\n    }, [I2, v2]), r2(\"windowScrollTo\", w2), r2(\"scrollBy\", T2), (0, import_react28.createElement)(d2, c({ style: c({ position: \"relative\" }, n2, 0 !== p2 ? { height: p2 + h2 } : {}), \"data-virtuoso-scroller\": true }, s2, it(d2, S2)), a3);\n  });\n}\nvar ct = function(e) {\n  var o2 = e.children, r2 = (0, import_react28.useContext)(Ge), i2 = ht(\"viewportHeight\"), a3 = ht(\"fixedItemHeight\"), l3 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  }));\n  return n.useEffect(function() {\n    r2 && (i2(r2.viewportHeight), a3(r2.itemHeight));\n  }, [r2, i2, a3]), n.createElement(\"div\", { style: ot, ref: l3, \"data-viewport-type\": \"element\" }, o2);\n};\nvar mt = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(Ge), r2 = ht(\"windowViewportRect\"), i2 = ht(\"fixedItemHeight\"), a3 = gt(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2(o2.itemHeight), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: 100 }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot, \"data-viewport-type\": \"window\" }, t);\n};\nvar dt = function(e) {\n  var t = e.children, n2 = gt(\"TopItemListComponent\"), o2 = gt(\"headerHeight\"), r2 = c({}, rt, { marginTop: o2 + \"px\" }), i2 = gt(\"context\");\n  return (0, import_react28.createElement)(n2 || \"div\", { style: r2, context: i2 }, t);\n};\nvar ft = systemToComponent($e, { required: {}, optional: { context: \"context\", followOutput: \"followOutput\", firstItemIndex: \"firstItemIndex\", itemContent: \"itemContent\", groupContent: \"groupContent\", overscan: \"overscan\", increaseViewportBy: \"increaseViewportBy\", totalCount: \"totalCount\", topItemCount: \"topItemCount\", initialTopMostItemIndex: \"initialTopMostItemIndex\", components: \"components\", groupCounts: \"groupCounts\", atBottomThreshold: \"atBottomThreshold\", atTopThreshold: \"atTopThreshold\", computeItemKey: \"computeItemKey\", defaultItemHeight: \"defaultItemHeight\", fixedItemHeight: \"fixedItemHeight\", itemSize: \"itemSize\", scrollSeekConfiguration: \"scrollSeekConfiguration\", headerFooterTag: \"headerFooterTag\", data: \"data\", initialItemCount: \"initialItemCount\", initialScrollTop: \"initialScrollTop\", alignToBottom: \"alignToBottom\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", logLevel: \"logLevel\", react18ConcurrentRendering: \"react18ConcurrentRendering\", item: \"item\", group: \"group\", topItems: \"topItems\", itemHeight: \"itemHeight\", scrollingStateChange: \"scrollingStateChange\", maxHeightCacheSize: \"maxHeightCacheSize\", footer: \"footer\", header: \"header\", ItemContainer: \"ItemContainer\", ScrollContainer: \"ScrollContainer\", ListContainer: \"ListContainer\", GroupContainer: \"GroupContainer\", emptyComponent: \"emptyComponent\", HeaderContainer: \"HeaderContainer\", FooterContainer: \"FooterContainer\", scrollSeek: \"scrollSeek\" }, methods: { scrollToIndex: \"scrollToIndex\", scrollIntoView: \"scrollIntoView\", scrollTo: \"scrollTo\", scrollBy: \"scrollBy\", adjustForPrependedItems: \"adjustForPrependedItems\", autoscrollToBottom: \"autoscrollToBottom\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\", totalListHeightChanged: \"totalListHeightChanged\", itemsRendered: \"itemsRendered\", groupIndices: \"groupIndices\" } }, n.memo(function(e) {\n  var t = gt(\"useWindowScroll\"), o2 = gt(\"topItemsIndexes\").length > 0, r2 = gt(\"customScrollParent\"), i2 = r2 || t ? mt : ct;\n  return n.createElement(r2 || t ? Ct : St, c({}, e), n.createElement(i2, null, n.createElement(at, null), n.createElement(tt, null), n.createElement(lt, null)), o2 && n.createElement(dt, null, n.createElement(tt, { showTopList: true })));\n}));\nvar pt = ft.Component;\nvar ht = ft.usePublisher;\nvar gt = ft.useEmitterValue;\nvar vt = ft.useEmitter;\nvar St = st({ usePublisher: ht, useEmitterValue: gt, useEmitter: vt });\nvar Ct = ut({ usePublisher: ht, useEmitterValue: gt, useEmitter: vt });\nvar It = { items: [], offsetBottom: 0, offsetTop: 0, top: 0, bottom: 0, itemHeight: 0, itemWidth: 0 };\nvar Tt = { items: [{ index: 0 }], offsetBottom: 0, offsetTop: 0, top: 0, bottom: 0, itemHeight: 0, itemWidth: 0 };\nvar wt = Math.round;\nvar xt = Math.ceil;\nvar bt = Math.floor;\nvar yt = Math.min;\nvar Ht = Math.max;\nfunction Et(e, t, n2) {\n  return Array.from({ length: t - e + 1 }).map(function(t2, o2) {\n    return { index: o2 + e, data: null == n2 ? void 0 : n2[o2 + e] };\n  });\n}\nfunction Rt(e, t) {\n  return e && e.column === t.column && e.row === t.row;\n}\nvar Lt = system(function(e) {\n  var n2 = e[0], o2 = n2.overscan, r2 = n2.visibleRange, i2 = n2.listBoundary, a3 = e[1], l3 = a3.scrollTop, s2 = a3.viewportHeight, u2 = a3.scrollBy, m2 = a3.scrollTo, d2 = a3.smoothScrollTargetReached, f2 = a3.scrollContainerState, p2 = a3.footerHeight, h2 = a3.headerHeight, g2 = e[2], v2 = e[3], S2 = e[4], C3 = S2.propsReady, I2 = S2.didMount, T2 = e[5], w2 = T2.windowViewportRect, x2 = T2.windowScrollTo, b3 = T2.useWindowScroll, y2 = T2.customScrollParent, H2 = T2.windowScrollContainerState, E2 = e[6], R3 = statefulStream(0), L3 = statefulStream(0), F2 = statefulStream(It), k2 = statefulStream({ height: 0, width: 0 }), z2 = statefulStream({ height: 0, width: 0 }), B3 = stream(), P2 = stream(), O2 = statefulStream(0), M2 = statefulStream(void 0), W2 = statefulStream({ row: 0, column: 0 });\n  connect(pipe(combineLatest(I2, L3, M2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), map2(function(e2) {\n    return { items: Et(0, e2[1] - 1, e2[2]), top: 0, bottom: 0, offsetBottom: 0, offsetTop: 0, itemHeight: 0, itemWidth: 0 };\n  })), F2), connect(pipe(combineLatest(duc(R3), r2, duc(W2, Rt), duc(z2, function(e2, t) {\n    return e2 && e2.width === t.width && e2.height === t.height;\n  }), M2), withLatestFrom(k2), map2(function(e2) {\n    var t = e2[0], n3 = t[0], o3 = t[1], r3 = o3[0], i3 = o3[1], a4 = t[2], l4 = t[3], s3 = t[4], u3 = e2[1], m3 = a4.row, d3 = a4.column, f3 = l4.height, p3 = l4.width, h3 = u3.width;\n    if (0 === n3 || 0 === h3)\n      return It;\n    if (0 === p3)\n      return function(e3) {\n        return c({}, Tt, { items: e3 });\n      }(Et(0, 0, s3));\n    var g3 = zt(h3, p3, d3), v3 = g3 * bt((r3 + m3) \/ (f3 + m3)), S3 = g3 * xt((i3 + m3) \/ (f3 + m3)) - 1;\n    S3 = yt(n3 - 1, Ht(S3, g3 - 1));\n    var C4 = Et(v3 = yt(S3, Ht(0, v3)), S3, s3), I3 = Ft(u3, a4, l4, C4), T3 = I3.top, w3 = I3.bottom, x3 = xt(n3 \/ g3);\n    return { items: C4, offsetTop: T3, offsetBottom: x3 * f3 + (x3 - 1) * m3 - w3, top: T3, bottom: w3, itemHeight: f3, itemWidth: p3 };\n  })), F2), connect(pipe(M2, filter(function(e2) {\n    return void 0 !== e2;\n  }), map2(function(e2) {\n    return e2.length;\n  })), R3), connect(pipe(k2, map2(function(e2) {\n    return e2.height;\n  })), s2), connect(pipe(combineLatest(k2, z2, F2, W2), map2(function(e2) {\n    var t = Ft(e2[0], e2[3], e2[1], e2[2].items);\n    return [t.top, t.bottom];\n  }), distinctUntilChanged(ve)), i2);\n  var V4 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    return e2.items.length > 0;\n  }), withLatestFrom(R3), filter(function(e2) {\n    var t = e2[0].items;\n    return t[t.length - 1].index === e2[1] - 1;\n  }), map2(function(e2) {\n    return e2[1] - 1;\n  }), distinctUntilChanged())), U2 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    var t = e2.items;\n    return t.length > 0 && 0 === t[0].index;\n  }), mapTo(0), distinctUntilChanged())), A3 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    return e2.items.length > 0;\n  }), map2(function(e2) {\n    var t = e2.items;\n    return { startIndex: t[0].index, endIndex: t[t.length - 1].index };\n  }), distinctUntilChanged(Se)));\n  connect(A3, v2.scrollSeekRangeChanged), connect(pipe(B3, withLatestFrom(k2, z2, R3, W2), map2(function(e2) {\n    var t = e2[1], n3 = e2[2], o3 = e2[3], r3 = e2[4], i3 = ae(e2[0]), a4 = i3.align, l4 = i3.behavior, s3 = i3.offset, u3 = i3.index;\n    \"LAST\" === u3 && (u3 = o3 - 1);\n    var c2 = kt(t, r3, n3, u3 = Ht(0, u3, yt(o3 - 1, u3)));\n    return \"end\" === a4 ? c2 = wt(c2 - t.height + n3.height) : \"center\" === a4 && (c2 = wt(c2 - t.height \/ 2 + n3.height \/ 2)), s3 && (c2 += s3), { top: c2, behavior: l4 };\n  })), m2);\n  var N2 = statefulStreamFromEmitter(pipe(F2, map2(function(e2) {\n    return e2.offsetBottom + e2.bottom;\n  })), 0);\n  return connect(pipe(w2, map2(function(e2) {\n    return { width: e2.visibleWidth, height: e2.visibleHeight };\n  })), k2), c({ data: M2, totalCount: R3, viewportDimensions: k2, itemDimensions: z2, scrollTop: l3, scrollHeight: P2, overscan: o2, scrollBy: u2, scrollTo: m2, scrollToIndex: B3, smoothScrollTargetReached: d2, windowViewportRect: w2, windowScrollTo: x2, useWindowScroll: b3, customScrollParent: y2, windowScrollContainerState: H2, deviation: O2, scrollContainerState: f2, footerHeight: p2, headerHeight: h2, initialItemCount: L3, gap: W2 }, v2, { gridState: F2, totalListHeight: N2 }, g2, { startReached: U2, endReached: V4, rangeChanged: A3, propsReady: C3 }, E2);\n}, tup(Te, y, ce, Ee, me, Oe, S));\nfunction Ft(e, t, n2, o2) {\n  var r2 = n2.height;\n  return void 0 === r2 || 0 === o2.length ? { top: 0, bottom: 0 } : { top: kt(e, t, n2, o2[0].index), bottom: kt(e, t, n2, o2[o2.length - 1].index) + r2 };\n}\nfunction kt(e, t, n2, o2) {\n  var r2 = zt(e.width, n2.width, t.column), i2 = bt(o2 \/ r2), a3 = i2 * n2.height + Ht(0, i2 - 1) * t.row;\n  return a3 > 0 ? a3 + t.row : a3;\n}\nfunction zt(e, t, n2) {\n  return Ht(1, bt((e + n2) \/ (t + n2)));\n}\nvar Bt = [\"placeholder\"];\nvar Pt = system(function() {\n  var e = statefulStream(function(e2) {\n    return \"Item \" + e2;\n  }), n2 = statefulStream({}), o2 = statefulStream(null), r2 = statefulStream(\"virtuoso-grid-item\"), i2 = statefulStream(\"virtuoso-grid-list\"), a3 = statefulStream(qe), l3 = statefulStream(\"div\"), s2 = statefulStream(noop4), u2 = function(e2, o3) {\n    return void 0 === o3 && (o3 = null), statefulStreamFromEmitter(pipe(n2, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), o3);\n  };\n  return { context: o2, itemContent: e, components: n2, computeItemKey: a3, itemClassName: r2, listClassName: i2, headerFooterTag: l3, scrollerRef: s2, FooterComponent: u2(\"Footer\"), HeaderComponent: u2(\"Header\"), ListComponent: u2(\"List\", \"div\"), ItemComponent: u2(\"Item\", \"div\"), ScrollerComponent: u2(\"Scroller\", \"div\"), ScrollSeekPlaceholder: u2(\"ScrollSeekPlaceholder\", \"div\") };\n});\nvar Ot = system(function(e) {\n  var n2 = e[0], o2 = e[1], r2 = { item: Je(o2.itemContent, \"Rename the %citem%c prop to %citemContent.\"), ItemContainer: stream(), ScrollContainer: stream(), ListContainer: stream(), emptyComponent: stream(), scrollSeek: stream() };\n  function i2(e2, n3, r3) {\n    connect(pipe(e2, withLatestFrom(o2.components), map2(function(e3) {\n      var t, o3 = e3[0], i3 = e3[1];\n      return console.warn(\"react-virtuoso: \" + r3 + \" property is deprecated. Pass components.\" + n3 + \" instead.\"), c({}, i3, ((t = {})[n3] = o3, t));\n    })), o2.components);\n  }\n  return subscribe(r2.scrollSeek, function(e2) {\n    var r3 = e2.placeholder, i3 = m(e2, Bt);\n    console.warn(\"react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.\"), publish(o2.components, c({}, getValue(o2.components), { ScrollSeekPlaceholder: r3 })), publish(n2.scrollSeekConfiguration, i3);\n  }), i2(r2.ItemContainer, \"Item\", \"ItemContainer\"), i2(r2.ListContainer, \"List\", \"ListContainer\"), i2(r2.ScrollContainer, \"Scroller\", \"ScrollContainer\"), c({}, n2, o2, r2);\n}, tup(Lt, Pt));\nvar Mt = n.memo(function() {\n  var e = _t(\"gridState\"), t = _t(\"listClassName\"), n2 = _t(\"itemClassName\"), o2 = _t(\"itemContent\"), r2 = _t(\"computeItemKey\"), i2 = _t(\"isSeeking\"), a3 = Gt(\"scrollHeight\"), s2 = _t(\"ItemComponent\"), u2 = _t(\"ListComponent\"), m2 = _t(\"ScrollSeekPlaceholder\"), d2 = _t(\"context\"), f2 = Gt(\"itemDimensions\"), p2 = Gt(\"gap\"), h2 = _t(\"log\"), g2 = I(function(e2) {\n    a3(e2.parentElement.parentElement.scrollHeight);\n    var t2 = e2.firstChild;\n    t2 && f2(t2.getBoundingClientRect()), p2({ row: qt(\"row-gap\", getComputedStyle(e2).rowGap, h2), column: qt(\"column-gap\", getComputedStyle(e2).columnGap, h2) });\n  });\n  return (0, import_react28.createElement)(u2, c({ ref: g2, className: t }, it(u2, d2), { style: { paddingTop: e.offsetTop, paddingBottom: e.offsetBottom } }), e.items.map(function(t2) {\n    var a4 = r2(t2.index, t2.data, d2);\n    return i2 ? (0, import_react28.createElement)(m2, c({ key: a4 }, it(m2, d2), { index: t2.index, height: e.itemHeight, width: e.itemWidth })) : (0, import_react28.createElement)(s2, c({}, it(s2, d2), { className: n2, \"data-index\": t2.index, key: a4 }), o2(t2.index, t2.data, d2));\n  }));\n});\nvar Wt = n.memo(function() {\n  var e = _t(\"HeaderComponent\"), t = Gt(\"headerHeight\"), n2 = _t(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = _t(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar Vt = n.memo(function() {\n  var e = _t(\"FooterComponent\"), t = Gt(\"footerHeight\"), n2 = _t(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = _t(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar Ut = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(_e), r2 = Gt(\"itemDimensions\"), i2 = Gt(\"viewportDimensions\"), a3 = I(function(e2) {\n    i2(e2.getBoundingClientRect());\n  });\n  return n.useEffect(function() {\n    o2 && (i2({ height: o2.viewportHeight, width: o2.viewportWidth }), r2({ height: o2.itemHeight, width: o2.itemWidth }));\n  }, [o2, i2, r2]), n.createElement(\"div\", { style: ot, ref: a3 }, t);\n};\nvar At = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(_e), r2 = Gt(\"windowViewportRect\"), i2 = Gt(\"itemDimensions\"), a3 = _t(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2({ height: o2.itemHeight, width: o2.itemWidth }), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: o2.viewportWidth }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot }, t);\n};\nvar Nt = systemToComponent(Ot, { optional: { context: \"context\", totalCount: \"totalCount\", overscan: \"overscan\", itemContent: \"itemContent\", components: \"components\", computeItemKey: \"computeItemKey\", data: \"data\", initialItemCount: \"initialItemCount\", scrollSeekConfiguration: \"scrollSeekConfiguration\", headerFooterTag: \"headerFooterTag\", listClassName: \"listClassName\", itemClassName: \"itemClassName\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", item: \"item\", ItemContainer: \"ItemContainer\", ScrollContainer: \"ScrollContainer\", ListContainer: \"ListContainer\", scrollSeek: \"scrollSeek\" }, methods: { scrollTo: \"scrollTo\", scrollBy: \"scrollBy\", scrollToIndex: \"scrollToIndex\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\" } }, n.memo(function(e) {\n  var t = c({}, e), o2 = _t(\"useWindowScroll\"), r2 = _t(\"customScrollParent\"), i2 = r2 || o2 ? At : Ut;\n  return n.createElement(r2 || o2 ? Yt : Kt, c({}, t), n.createElement(i2, null, n.createElement(Wt, null), n.createElement(Mt, null), n.createElement(Vt, null)));\n}));\nvar Dt = Nt.Component;\nvar Gt = Nt.usePublisher;\nvar _t = Nt.useEmitterValue;\nvar jt = Nt.useEmitter;\nvar Kt = st({ usePublisher: Gt, useEmitterValue: _t, useEmitter: jt });\nvar Yt = ut({ usePublisher: Gt, useEmitterValue: _t, useEmitter: jt });\nfunction qt(e, t, n2) {\n  return \"normal\" === t || null != t && t.endsWith(\"px\") || n2(e + \" was not resolved to pixel value correctly\", t, h.WARN), \"normal\" === t ? 0 : parseInt(null != t ? t : \"0\", 10);\n}\nvar Zt = system(function() {\n  var e = statefulStream(function(e2) {\n    return n.createElement(\"td\", null, \"Item $\", e2);\n  }), o2 = statefulStream(null), r2 = statefulStream(null), i2 = statefulStream(null), a3 = statefulStream({}), l3 = statefulStream(qe), s2 = statefulStream(noop4), u2 = function(e2, n2) {\n    return void 0 === n2 && (n2 = null), statefulStreamFromEmitter(pipe(a3, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), n2);\n  };\n  return { context: o2, itemContent: e, fixedHeaderContent: r2, fixedFooterContent: i2, components: a3, computeItemKey: l3, scrollerRef: s2, TableComponent: u2(\"Table\", \"table\"), TableHeadComponent: u2(\"TableHead\", \"thead\"), TableFooterComponent: u2(\"TableFoot\", \"tfoot\"), TableBodyComponent: u2(\"TableBody\", \"tbody\"), TableRowComponent: u2(\"TableRow\", \"tr\"), ScrollerComponent: u2(\"Scroller\", \"div\"), EmptyPlaceholder: u2(\"EmptyPlaceholder\"), ScrollSeekPlaceholder: u2(\"ScrollSeekPlaceholder\"), FillerRow: u2(\"FillerRow\") };\n});\nvar Jt = system(function(e) {\n  return c({}, e[0], e[1]);\n}, tup(Ae, Zt));\nvar $t = function(e) {\n  return n.createElement(\"tr\", null, n.createElement(\"td\", { style: { height: e.height } }));\n};\nvar Qt = function(e) {\n  return n.createElement(\"tr\", null, n.createElement(\"td\", { style: { height: e.height, padding: 0, border: 0 } }));\n};\nvar Xt = n.memo(function() {\n  var e = an(\"listState\"), t = rn(\"sizeRanges\"), o2 = an(\"useWindowScroll\"), r2 = an(\"customScrollParent\"), i2 = rn(\"windowScrollContainerState\"), a3 = rn(\"scrollContainerState\"), s2 = r2 || o2 ? i2 : a3, u2 = an(\"itemContent\"), m2 = an(\"trackItemSizes\"), d2 = T(t, an(\"itemSize\"), m2, s2, an(\"log\"), void 0, r2), f2 = d2.callbackRef, p2 = d2.ref, h2 = n.useState(0), g2 = h2[0], v2 = h2[1];\n  ln(\"deviation\", function(e2) {\n    g2 !== e2 && (p2.current.style.marginTop = e2 + \"px\", v2(e2));\n  });\n  var S2 = an(\"EmptyPlaceholder\"), C3 = an(\"ScrollSeekPlaceholder\") || $t, I2 = an(\"FillerRow\") || Qt, w2 = an(\"TableBodyComponent\"), x2 = an(\"TableRowComponent\"), b3 = an(\"computeItemKey\"), y2 = an(\"isSeeking\"), H2 = an(\"paddingTopAddition\"), E2 = an(\"firstItemIndex\"), R3 = an(\"statefulTotalCount\"), L3 = an(\"context\");\n  if (0 === R3 && S2)\n    return (0, import_react28.createElement)(S2, it(S2, L3));\n  var F2 = e.offsetTop + H2 + g2, k2 = e.offsetBottom, z2 = F2 > 0 ? n.createElement(I2, { height: F2, key: \"padding-top\" }) : null, B3 = k2 > 0 ? n.createElement(I2, { height: k2, key: \"padding-bottom\" }) : null, P2 = e.items.map(function(e2) {\n    var t2 = e2.originalIndex, n2 = b3(t2 + E2, e2.data, L3);\n    return y2 ? (0, import_react28.createElement)(C3, c({}, it(C3, L3), { key: n2, index: e2.index, height: e2.size, type: e2.type || \"item\" })) : (0, import_react28.createElement)(x2, c({}, it(x2, L3), { key: n2, \"data-index\": t2, \"data-known-size\": e2.size, \"data-item-index\": e2.index, style: { overflowAnchor: \"none\" } }), u2(e2.index, e2.data, L3));\n  });\n  return (0, import_react28.createElement)(w2, c({ ref: f2, \"data-test-id\": \"virtuoso-item-list\" }, it(w2, L3)), [z2].concat(P2, [B3]));\n});\nvar en = function(e) {\n  var o2 = e.children, r2 = (0, import_react28.useContext)(Ge), i2 = rn(\"viewportHeight\"), a3 = rn(\"fixedItemHeight\"), l3 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  }));\n  return n.useEffect(function() {\n    r2 && (i2(r2.viewportHeight), a3(r2.itemHeight));\n  }, [r2, i2, a3]), n.createElement(\"div\", { style: ot, ref: l3, \"data-viewport-type\": \"element\" }, o2);\n};\nvar tn = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(Ge), r2 = rn(\"windowViewportRect\"), i2 = rn(\"fixedItemHeight\"), a3 = an(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2(o2.itemHeight), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: 100 }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot, \"data-viewport-type\": \"window\" }, t);\n};\nvar nn = systemToComponent(Jt, { required: {}, optional: { context: \"context\", followOutput: \"followOutput\", firstItemIndex: \"firstItemIndex\", itemContent: \"itemContent\", fixedHeaderContent: \"fixedHeaderContent\", fixedFooterContent: \"fixedFooterContent\", overscan: \"overscan\", increaseViewportBy: \"increaseViewportBy\", totalCount: \"totalCount\", topItemCount: \"topItemCount\", initialTopMostItemIndex: \"initialTopMostItemIndex\", components: \"components\", groupCounts: \"groupCounts\", atBottomThreshold: \"atBottomThreshold\", atTopThreshold: \"atTopThreshold\", computeItemKey: \"computeItemKey\", defaultItemHeight: \"defaultItemHeight\", fixedItemHeight: \"fixedItemHeight\", itemSize: \"itemSize\", scrollSeekConfiguration: \"scrollSeekConfiguration\", data: \"data\", initialItemCount: \"initialItemCount\", initialScrollTop: \"initialScrollTop\", alignToBottom: \"alignToBottom\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", logLevel: \"logLevel\", react18ConcurrentRendering: \"react18ConcurrentRendering\" }, methods: { scrollToIndex: \"scrollToIndex\", scrollIntoView: \"scrollIntoView\", scrollTo: \"scrollTo\", scrollBy: \"scrollBy\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\", totalListHeightChanged: \"totalListHeightChanged\", itemsRendered: \"itemsRendered\", groupIndices: \"groupIndices\" } }, n.memo(function(e) {\n  var o2 = an(\"useWindowScroll\"), r2 = an(\"customScrollParent\"), i2 = rn(\"fixedHeaderHeight\"), a3 = rn(\"fixedFooterHeight\"), l3 = an(\"fixedHeaderContent\"), s2 = an(\"fixedFooterContent\"), u2 = an(\"context\"), m2 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  })), d2 = I(compose(a3, function(e2) {\n    return w(e2, \"height\");\n  })), f2 = r2 || o2 ? un : sn, p2 = r2 || o2 ? tn : en, h2 = an(\"TableComponent\"), g2 = an(\"TableHeadComponent\"), v2 = an(\"TableFooterComponent\"), S2 = l3 ? n.createElement(g2, c({ key: \"TableHead\", style: { zIndex: 1, position: \"sticky\", top: 0 }, ref: m2 }, it(g2, u2)), l3()) : null, C3 = s2 ? n.createElement(v2, c({ key: \"TableFoot\", style: { zIndex: 1, position: \"sticky\", bottom: 0 }, ref: d2 }, it(v2, u2)), s2()) : null;\n  return n.createElement(f2, c({}, e), n.createElement(p2, null, n.createElement(h2, c({ style: { borderSpacing: 0 } }, it(h2, u2)), [S2, n.createElement(Xt, { key: \"TableBody\" }), C3])));\n}));\nvar on = nn.Component;\nvar rn = nn.usePublisher;\nvar an = nn.useEmitterValue;\nvar ln = nn.useEmitter;\nvar sn = st({ usePublisher: rn, useEmitterValue: an, useEmitter: ln });\nvar un = ut({ usePublisher: rn, useEmitterValue: an, useEmitter: ln });\nvar cn = pt;\n\n\/\/ src\/lib\/shapes\/BoxShape.tsx\nvar React45 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/extends.js\nfunction _extends2() {\n  _extends2 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i2 = 1; i2 < arguments.length; i2++) {\n      var source = arguments[i2];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends2.apply(this, arguments);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/assertThisInitialized.js\nfunction _assertThisInitialized2(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/setPrototypeOf.js\nfunction _setPrototypeOf2(o2, p2) {\n  _setPrototypeOf2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf3(o3, p3) {\n    o3.__proto__ = p3;\n    return o3;\n  };\n  return _setPrototypeOf2(o2, p2);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/inheritsLoose.js\nfunction _inheritsLoose2(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf2(subClass, superClass);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/getPrototypeOf.js\nfunction _getPrototypeOf(o2) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o3) {\n    return o3.__proto__ || Object.getPrototypeOf(o3);\n  };\n  return _getPrototypeOf(o2);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/isNativeFunction.js\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/isNativeReflectConstruct.js\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/construct.js\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a3 = [null];\n      a3.push.apply(a3, args2);\n      var Constructor = Function.bind.apply(Parent2, a3);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf2(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/wrapNativeSuper.js\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? \/* @__PURE__ *\/ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf2(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\n\n\/\/ ..\/..\/node_modules\/polished\/dist\/polished.esm.js\nvar PolishedError = \/* @__PURE__ *\/ function(_Error) {\n  _inheritsLoose2(PolishedError2, _Error);\n  function PolishedError2(code) {\n    var _this;\n    if (true) {\n      _this = _Error.call(this, \"An error occurred. See https:\/\/github.com\/styled-components\/polished\/blob\/main\/src\/internalHelpers\/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n    return _assertThisInitialized2(_this);\n  }\n  return PolishedError2;\n}(\/* @__PURE__ *\/ _wrapNativeSuper(Error));\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n  if (saturation === 0) {\n    return convert(lightness, lightness, lightness);\n  }\n  var huePrime = (hue % 360 + 360) % 360 \/ 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n  var lightnessModification = lightness - chroma \/ 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\nvar namedColorMap = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"00ffff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"0000ff\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"00ffff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"ff00ff\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"639\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\nfunction nameToHex(color) {\n  if (typeof color !== \"string\")\n    return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\nvar hexRegex = \/^#[a-fA-F0-9]{6}$\/;\nvar hexRgbaRegex = \/^#[a-fA-F0-9]{8}$\/;\nvar reducedHexRegex = \/^#[a-fA-F0-9]{3}$\/;\nvar reducedRgbaHexRegex = \/^#[a-fA-F0-9]{4}$\/;\nvar rgbRegex = \/^rgb\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*\\)$\/i;\nvar rgbaRegex = \/^rgb(?:a)?\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,|\\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$\/i;\nvar hslRegex = \/^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$\/i;\nvar hslaRegex = \/^hsl(?:a)?\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,|\\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$\/i;\nfunction parseToRgb(color) {\n  if (typeof color !== \"string\") {\n    throw new PolishedError(3);\n  }\n  var normalizedColor = nameToHex(color);\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) \/ 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha\n    };\n  }\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) \/ 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4]) > 1 ? parseFloat(\"\" + rgbaMatched[4]) \/ 100 : parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n  var hslMatched = hslRegex.exec(normalizedColor);\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) \/ 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) \/ 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) \/ 100;\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) \/ 100;\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4]) > 1 ? parseFloat(\"\" + hslaMatched[4]) \/ 100 : parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n  throw new PolishedError(5);\n}\nfunction rgbToHsl(color) {\n  var red = color.red \/ 255;\n  var green = color.green \/ 255;\n  var blue = color.blue \/ 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) \/ 2;\n  if (max === min) {\n    if (color.alpha !== void 0) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness\n      };\n    }\n  }\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta \/ (2 - max - min) : delta \/ (max + min);\n  switch (max) {\n    case red:\n      hue = (green - blue) \/ delta + (green < blue ? 6 : 0);\n      break;\n    case green:\n      hue = (blue - red) \/ delta + 2;\n      break;\n    default:\n      hue = (red - green) \/ delta + 4;\n      break;\n  }\n  hue *= 60;\n  if (color.alpha !== void 0) {\n    return {\n      hue,\n      saturation,\n      lightness,\n      alpha: color.alpha\n    };\n  }\n  return {\n    hue,\n    saturation,\n    lightness\n  };\n}\nfunction parseToHsl(color) {\n  return rgbToHsl(parseToRgb(color));\n}\nvar reduceHexValue = function reduceHexValue2(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n  return value;\n};\nvar reduceHexValue$1 = reduceHexValue;\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue$1(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === \"number\" && typeof saturation === \"number\" && typeof lightness === \"number\") {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === \"object\" && saturation === void 0 && lightness === void 0) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n  throw new PolishedError(1);\n}\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === \"number\" && typeof saturation === \"number\" && typeof lightness === \"number\" && typeof alpha === \"number\") {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === \"object\" && saturation === void 0 && lightness === void 0 && alpha === void 0) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n  throw new PolishedError(2);\n}\nfunction rgb(value, green, blue) {\n  if (typeof value === \"number\" && typeof green === \"number\" && typeof blue === \"number\") {\n    return reduceHexValue$1(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === \"object\" && green === void 0 && blue === void 0) {\n    return reduceHexValue$1(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n  throw new PolishedError(6);\n}\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === \"string\" && typeof secondValue === \"number\") {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === \"number\" && typeof secondValue === \"number\" && typeof thirdValue === \"number\" && typeof fourthValue === \"number\") {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === \"object\" && secondValue === void 0 && thirdValue === void 0 && fourthValue === void 0) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n  throw new PolishedError(7);\n}\nvar isRgb = function isRgb2(color) {\n  return typeof color.red === \"number\" && typeof color.green === \"number\" && typeof color.blue === \"number\" && (typeof color.alpha !== \"number\" || typeof color.alpha === \"undefined\");\n};\nvar isRgba = function isRgba2(color) {\n  return typeof color.red === \"number\" && typeof color.green === \"number\" && typeof color.blue === \"number\" && typeof color.alpha === \"number\";\n};\nvar isHsl = function isHsl2(color) {\n  return typeof color.hue === \"number\" && typeof color.saturation === \"number\" && typeof color.lightness === \"number\" && (typeof color.alpha !== \"number\" || typeof color.alpha === \"undefined\");\n};\nvar isHsla = function isHsla2(color) {\n  return typeof color.hue === \"number\" && typeof color.saturation === \"number\" && typeof color.lightness === \"number\" && typeof color.alpha === \"number\";\n};\nfunction toColorString(color) {\n  if (typeof color !== \"object\")\n    throw new PolishedError(8);\n  if (isRgba(color))\n    return rgba(color);\n  if (isRgb(color))\n    return rgb(color);\n  if (isHsla(color))\n    return hsla(color);\n  if (isHsl(color))\n    return hsl(color);\n  throw new PolishedError(8);\n}\nfunction curried(f2, length, acc) {\n  return function fn() {\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f2.apply(this, combined) : curried(f2, length, combined);\n  };\n}\nfunction curry(f2) {\n  return curried(f2, f2.length, []);\n}\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\nfunction darken(amount, color) {\n  if (color === \"transparent\")\n    return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends2({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n}\nvar curriedDarken = \/* @__PURE__ *\/ curry(darken);\nvar curriedDarken$1 = curriedDarken;\n\n\/\/ src\/lib\/shapes\/style-props.tsx\nfunction withClampedStyles(self2, props) {\n  var _a3;\n  if (props.strokeWidth !== void 0)\n    props.strokeWidth = Math.max(props.strokeWidth, 1);\n  if (props.opacity !== void 0)\n    props.opacity = Math.min(1, Math.max(props.opacity, 0));\n  let fill = (_a3 = props.fill) != null ? _a3 : self2.props.fill;\n  if (fill !== void 0 && !isBuiltInColor(fill) && fill !== \"var(--ls-secondary-background-color)\" && !props.noFill && withFillShapes.includes(self2.props.type)) {\n    const strokeColor = curriedDarken$1(0.3, fill);\n    props.stroke = strokeColor;\n  }\n  return props;\n}\n\n\/\/ src\/lib\/shapes\/BindingIndicator.tsx\nvar import_jsx_runtime51 = require(\"react\/jsx-runtime\");\nfunction BindingIndicator({ strokeWidth, size, mode }) {\n  return mode === \"svg\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime51.jsx)(\"rect\", {\n    className: \"tl-binding-indicator\",\n    x: strokeWidth,\n    y: strokeWidth,\n    rx: 2,\n    ry: 2,\n    width: Math.max(0, size[0] - strokeWidth * 2),\n    height: Math.max(0, size[1] - strokeWidth * 2),\n    strokeWidth: strokeWidth * 4\n  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime51.jsx)(\"div\", {\n    className: \"tl-binding-indicator\",\n    style: {\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      boxShadow: \"0 0 0 4px var(--tl-binding)\",\n      borderRadius: 4\n    }\n  });\n}\n\n\/\/ src\/lib\/shapes\/text\/TextLabel.tsx\nvar React44 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/text\/TextAreaUtils.ts\nvar INDENT = \"  \";\nvar TextAreaUtils = class {\n  static insertTextFirefox(field, text) {\n    field.setRangeText(\n      text,\n      field.selectionStart || 0,\n      field.selectionEnd || 0,\n      \"end\"\n    );\n    field.dispatchEvent(\n      new InputEvent(\"input\", {\n        data: text,\n        inputType: \"insertText\",\n        isComposing: false\n      })\n    );\n  }\n  static insert(field, text) {\n    const document2 = field.ownerDocument;\n    const initialFocus = document2.activeElement;\n    if (initialFocus !== field) {\n      field.focus();\n    }\n    if (!document2.execCommand(\"insertText\", false, text)) {\n      TextAreaUtils.insertTextFirefox(field, text);\n    }\n    if (initialFocus === document2.body) {\n      field.blur();\n    } else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n      initialFocus.focus();\n    }\n  }\n  static set(field, text) {\n    field.select();\n    TextAreaUtils.insert(field, text);\n  }\n  static getSelection(field) {\n    const { selectionStart, selectionEnd } = field;\n    return field.value.slice(\n      selectionStart ? selectionStart : void 0,\n      selectionEnd ? selectionEnd : void 0\n    );\n  }\n  static wrapSelection(field, wrap, wrapEnd) {\n    const { selectionStart, selectionEnd } = field;\n    const selection = TextAreaUtils.getSelection(field);\n    TextAreaUtils.insert(field, wrap + selection + (wrapEnd != null ? wrapEnd : wrap));\n    field.selectionStart = (selectionStart || 0) + wrap.length;\n    field.selectionEnd = (selectionEnd || 0) + wrap.length;\n  }\n  static replace(field, searchValue, replacer) {\n    let drift = 0;\n    field.value.replace(searchValue, (...args) => {\n      const matchStart = drift + args[args.length - 2];\n      const matchLength = args[0].length;\n      field.selectionStart = matchStart;\n      field.selectionEnd = matchStart + matchLength;\n      const replacement = typeof replacer === \"string\" ? replacer : replacer(...args);\n      TextAreaUtils.insert(field, replacement);\n      field.selectionStart = matchStart;\n      drift += replacement.length - matchLength;\n      return replacement;\n    });\n  }\n  static findLineEnd(value, currentEnd) {\n    const lastLineStart = value.lastIndexOf(\"\\n\", currentEnd - 1) + 1;\n    if (value.charAt(lastLineStart) !== \"\t\") {\n      return currentEnd;\n    }\n    return lastLineStart + 1;\n  }\n  static indent(element) {\n    var _a3;\n    const { selectionStart, selectionEnd, value } = element;\n    const selectedContrast = value.slice(selectionStart, selectionEnd);\n    const lineBreakCount = (_a3 = \/\\n\/g.exec(selectedContrast)) == null ? void 0 : _a3.length;\n    if (lineBreakCount && lineBreakCount > 0) {\n      const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n      const newSelection = element.value.slice(firstLineStart, selectionEnd - 1);\n      const indentedText = newSelection.replace(\n        \/^|\\n\/g,\n        `$&${INDENT}`\n      );\n      const replacementsCount = indentedText.length - newSelection.length;\n      element.setSelectionRange(firstLineStart, selectionEnd - 1);\n      TextAreaUtils.insert(element, indentedText);\n      element.setSelectionRange(selectionStart + 1, selectionEnd + replacementsCount);\n    } else {\n      TextAreaUtils.insert(element, INDENT);\n    }\n  }\n  static unindent(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n    const minimumSelectionEnd = TextAreaUtils.findLineEnd(value, selectionEnd);\n    const newSelection = element.value.slice(firstLineStart, minimumSelectionEnd);\n    const indentedText = newSelection.replace(\/(^|\\n)(\\t| {1,2})\/g, \"$1\");\n    const replacementsCount = newSelection.length - indentedText.length;\n    element.setSelectionRange(firstLineStart, minimumSelectionEnd);\n    TextAreaUtils.insert(element, indentedText);\n    const firstLineIndentation = \/\\t| {1,2}\/.exec(value.slice(firstLineStart, selectionStart));\n    const difference = firstLineIndentation ? firstLineIndentation[0].length : 0;\n    const newSelectionStart = selectionStart - difference;\n    element.setSelectionRange(\n      selectionStart - difference,\n      Math.max(newSelectionStart, selectionEnd - replacementsCount)\n    );\n  }\n};\n\n\/\/ src\/lib\/shapes\/text\/TextLabel.tsx\nvar import_jsx_runtime52 = require(\"react\/jsx-runtime\");\nvar stopPropagation = (e) => e.stopPropagation();\nvar placeholder = \"Enter text\";\nvar TextLabel = React44.memo(function TextLabel2({\n  font: font5,\n  text,\n  color,\n  fontStyle,\n  fontSize,\n  fontWeight,\n  offsetX = 0,\n  offsetY = 0,\n  scale = 1,\n  isEditing = false,\n  pointerEvents = false,\n  onBlur,\n  onChange\n}) {\n  const rInput = React44.useRef(null);\n  const rIsMounted = React44.useRef(false);\n  const handleChange = React44.useCallback(\n    (e) => {\n      onChange(TextUtils.normalizeText(e.currentTarget.value));\n    },\n    [onChange]\n  );\n  const handleKeyDown = React44.useCallback(\n    (e) => {\n      if (e.key === \"Escape\")\n        return;\n      if (e.key === \"Tab\" && text.length === 0) {\n        e.preventDefault();\n        return;\n      }\n      if (!(e.key === \"Meta\" || e.metaKey)) {\n        e.stopPropagation();\n      } else if (e.key === \"z\" && e.metaKey) {\n        document.execCommand(e.shiftKey ? \"redo\" : \"undo\", false);\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      if (e.key === \"Tab\") {\n        e.preventDefault();\n        if (e.shiftKey) {\n          TextAreaUtils.unindent(e.currentTarget);\n        } else {\n          TextAreaUtils.indent(e.currentTarget);\n        }\n        onChange == null ? void 0 : onChange(TextUtils.normalizeText(e.currentTarget.value));\n      }\n    },\n    [onChange]\n  );\n  const handleBlur = React44.useCallback(\n    (e) => {\n      if (!isEditing)\n        return;\n      e.currentTarget.setSelectionRange(0, 0);\n      onBlur == null ? void 0 : onBlur();\n    },\n    [onBlur]\n  );\n  const handleFocus = React44.useCallback(\n    (e) => {\n      if (!isEditing || !rIsMounted.current)\n        return;\n      if (document.activeElement === e.currentTarget) {\n        e.currentTarget.select();\n      }\n    },\n    [isEditing]\n  );\n  const handlePointerDown = React44.useCallback(\n    (e) => {\n      if (isEditing) {\n        e.stopPropagation();\n      }\n    },\n    [isEditing]\n  );\n  React44.useEffect(() => {\n    if (isEditing) {\n      requestAnimationFrame(() => {\n        rIsMounted.current = true;\n        const elm = rInput.current;\n        if (elm) {\n          elm.focus();\n          elm.select();\n        }\n      });\n    }\n  }, [isEditing, onBlur]);\n  const rInnerWrapper = React44.useRef(null);\n  React44.useLayoutEffect(() => {\n    const elm = rInnerWrapper.current;\n    if (!elm)\n      return;\n    const size = getTextLabelSize(\n      text || placeholder,\n      { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n      4\n    );\n    elm.style.transform = `scale(${scale}, ${scale}) translate(${offsetX}px, ${offsetY}px)`;\n    elm.style.width = size[0] + 1 + \"px\";\n    elm.style.height = size[1] + 1 + \"px\";\n  }, [text, fontWeight, fontSize, offsetY, offsetX, scale]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsx)(\"div\", {\n    className: \"tl-text-label-wrapper\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsxs)(\"div\", {\n      className: \"tl-text-label-inner-wrapper\",\n      ref: rInnerWrapper,\n      style: {\n        font: font5,\n        fontStyle,\n        fontSize,\n        fontWeight,\n        color,\n        pointerEvents: pointerEvents ? \"all\" : \"none\",\n        userSelect: isEditing ? \"text\" : \"none\"\n      },\n      children: [\n        isEditing ? \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsx)(\"textarea\", {\n          ref: rInput,\n          style: {\n            font: font5,\n            color,\n            fontStyle,\n            fontSize,\n            fontWeight\n          },\n          className: \"tl-text-label-textarea\",\n          name: \"text\",\n          tabIndex: -1,\n          autoComplete: \"false\",\n          autoCapitalize: \"false\",\n          autoCorrect: \"false\",\n          autoSave: \"false\",\n          autoFocus: true,\n          placeholder,\n          spellCheck: \"true\",\n          wrap: \"off\",\n          dir: \"auto\",\n          datatype: \"wysiwyg\",\n          defaultValue: text,\n          color,\n          onFocus: handleFocus,\n          onChange: handleChange,\n          onKeyDown: handleKeyDown,\n          onBlur: handleBlur,\n          onPointerDown: handlePointerDown,\n          onContextMenu: stopPropagation,\n          onCopy: stopPropagation,\n          onPaste: stopPropagation,\n          onCut: stopPropagation\n        }) : text,\n        \"\\u200B\"\n      ]\n    })\n  });\n});\n\n\/\/ src\/lib\/shapes\/BoxShape.tsx\nvar import_jsx_runtime53 = require(\"react\/jsx-runtime\");\nvar font = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar BoxShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ events, isErasing, isBinding, isSelected, isEditing, onEditingEnd }) => {\n        const {\n          props: {\n            size: [w2, h2],\n            stroke,\n            fill,\n            noFill,\n            strokeWidth,\n            strokeType,\n            borderRadius,\n            opacity,\n            label,\n            italic,\n            fontWeight,\n            fontSize\n          }\n        } = this;\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = src_default.mul(this.props.size, 0.5);\n        const scale = Math.max(0.5, Math.min(1, w2 \/ labelSize[0], h2 \/ labelSize[1]));\n        const bounds = this.getBounds();\n        const offset = React45.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React45.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          className: \"tl-box-container\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(TextLabel, {\n              font,\n              text: label,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1],\n              fontSize,\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsxs)(SVGContainer, {\n              opacity: isErasing ? 0.2 : opacity,\n              children: [\n                isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(BindingIndicator, {\n                  mode: \"svg\",\n                  strokeWidth,\n                  size: [w2, h2]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n                  className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                  x: strokeWidth \/ 2,\n                  y: strokeWidth \/ 2,\n                  rx: borderRadius,\n                  ry: borderRadius,\n                  width: Math.max(0.01, w2 - strokeWidth),\n                  height: Math.max(0.01, h2 - strokeWidth),\n                  pointerEvents: \"all\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n                  x: strokeWidth \/ 2,\n                  y: strokeWidth \/ 2,\n                  rx: borderRadius,\n                  ry: borderRadius,\n                  width: Math.max(0.01, w2 - strokeWidth),\n                  height: Math.max(0.01, h2 - strokeWidth),\n                  strokeWidth,\n                  stroke: getComputedColor(stroke, \"stroke\"),\n                  strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n                  fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n                })\n              ]\n            })\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          borderRadius,\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n          width: w2,\n          height: h2,\n          rx: borderRadius,\n          ry: borderRadius,\n          fill: \"transparent\",\n          strokeDasharray: isLocked ? \"8 2\" : void 0\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      if (props.borderRadius !== void 0)\n        props.borderRadius = Math.max(0, props.borderRadius);\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n};\n__publicField(BoxShape, \"id\", \"box\");\n__publicField(BoxShape, \"defaultProps\", {\n  id: \"box\",\n  parentId: \"page\",\n  type: \"box\",\n  point: [0, 0],\n  size: [100, 100],\n  borderRadius: 2,\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], BoxShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], BoxShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/EllipseShape.tsx\nvar React46 = __toESM(require(\"react\"));\nvar import_jsx_runtime54 = require(\"react\/jsx-runtime\");\nvar font2 = \"18px \/ 1 var(--ls-font-family)\";\nvar levelToScale2 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar EllipseShape = class extends TLEllipseShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ isSelected, isErasing, events, isEditing, onEditingEnd }) => {\n        const {\n          size: [w2, h2],\n          stroke,\n          fill,\n          noFill,\n          strokeWidth,\n          strokeType,\n          opacity,\n          label,\n          italic,\n          fontWeight,\n          fontSize\n        } = this.props;\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = src_default.mul(this.props.size, 0.5);\n        const scale = Math.max(0.5, Math.min(1, w2 \/ labelSize[0], h2 \/ labelSize[1]));\n        const bounds = this.getBounds();\n        const offset = React46.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React46.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          className: \"tl-ellipse-container\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(TextLabel, {\n              font: font2,\n              text: label,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1],\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontSize,\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n              opacity: isErasing ? 0.2 : opacity,\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n                  className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                  cx: w2 \/ 2,\n                  cy: h2 \/ 2,\n                  rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n                  ry: Math.max(0.01, (h2 - strokeWidth) \/ 2)\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n                  cx: w2 \/ 2,\n                  cy: h2 \/ 2,\n                  rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n                  ry: Math.max(0.01, (h2 - strokeWidth) \/ 2),\n                  strokeWidth,\n                  stroke: getComputedColor(stroke, \"stroke\"),\n                  strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n                  fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n                })\n              ]\n            }))\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale2[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale2[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        size: [w2, h2],\n        isLocked\n      } = this.props;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: w2 \/ 2,\n          ry: h2 \/ 2,\n          strokeWidth: 2,\n          fill: \"transparent\",\n          strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx(opts) {\n    const {\n      size: [w2, h2],\n      stroke,\n      fill,\n      noFill,\n      strokeWidth,\n      strokeType,\n      opacity\n    } = this.props;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(\"g\", {\n      opacity,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          className: !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n          ry: Math.max(0.01, (h2 - strokeWidth) \/ 2)\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n          ry: Math.max(0.01, (h2 - strokeWidth) \/ 2),\n          strokeWidth,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n          fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n        })\n      ]\n    });\n  }\n};\n__publicField(EllipseShape, \"id\", \"ellipse\");\n__publicField(EllipseShape, \"defaultProps\", {\n  id: \"ellipse\",\n  parentId: \"page\",\n  type: \"ellipse\",\n  point: [0, 0],\n  size: [100, 100],\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], EllipseShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], EllipseShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/GroupShape.tsx\nvar import_jsx_runtime55 = require(\"react\/jsx-runtime\");\nvar GroupShape = class extends TLGroupShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events }) => {\n      const strokeWidth = 2;\n      const bounds = this.getBounds();\n      const app = useApp();\n      const childSelected = app.selectedShapesArray.some((s2) => {\n        return app.shapesInGroups([this]).includes(s2);\n      });\n      const Indicator2 = this.ReactIndicator;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsxs)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        className: \"tl-group-container\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"rect\", {\n            className: \"tl-hitarea-fill\",\n            x: strokeWidth \/ 2,\n            y: strokeWidth \/ 2,\n            width: Math.max(0.01, bounds.width - strokeWidth),\n            height: Math.max(0.01, bounds.height - strokeWidth),\n            pointerEvents: \"all\"\n          }),\n          childSelected && \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"g\", {\n            stroke: \"var(--color-selectedFill)\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(Indicator2, {})\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const bounds = this.getBounds();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"rect\", {\n        strokeDasharray: \"8 2\",\n        x: -GROUP_PADDING,\n        y: -GROUP_PADDING,\n        rx: GROUP_PADDING \/ 2,\n        ry: GROUP_PADDING \/ 2,\n        width: bounds.width + GROUP_PADDING * 2,\n        height: bounds.height + GROUP_PADDING * 2,\n        fill: \"transparent\"\n      });\n    }));\n  }\n};\n__publicField(GroupShape, \"id\", \"group\");\n__publicField(GroupShape, \"defaultProps\", {\n  id: \"group\",\n  type: \"group\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [0, 0],\n  children: []\n});\n\n\/\/ src\/lib\/shapes\/HighlighterShape.tsx\nvar import_jsx_runtime56 = require(\"react\/jsx-runtime\");\nvar levelToScale3 = {\n  xs: 1,\n  sm: 1.6,\n  md: 2,\n  lg: 3.2,\n  xl: 4.8,\n  xxl: 6\n};\nvar HighlighterShape = class extends TLDrawShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing }) => {\n      const {\n        pointsPath,\n        props: { stroke, strokeWidth, opacity }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : 1,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n          d: pointsPath,\n          strokeWidth: strokeWidth * 16,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          fill: \"none\",\n          pointerEvents: \"all\",\n          strokeLinejoin: \"round\",\n          strokeLinecap: \"round\",\n          opacity\n        })\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        strokeWidth: levelToScale3[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const { pointsPath, props } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n        d: pointsPath,\n        fill: \"none\",\n        strokeDasharray: props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      props = withClampedStyles(this, props);\n      if (props.strokeWidth !== void 0)\n        props.strokeWidth = Math.max(props.strokeWidth, 1);\n      return props;\n    });\n    makeObservable(this);\n  }\n  get pointsPath() {\n    const { points } = this.props;\n    return SvgPathUtils.getCurvedPathForPoints(points);\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx() {\n    const {\n      pointsPath,\n      props: { stroke, strokeWidth, opacity }\n    } = this;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n      d: pointsPath,\n      strokeWidth: strokeWidth * 16,\n      stroke: getComputedColor(stroke, \"stroke\"),\n      fill: \"none\",\n      pointerEvents: \"all\",\n      strokeLinejoin: \"round\",\n      strokeLinecap: \"round\",\n      opacity\n    });\n  }\n};\n__publicField(HighlighterShape, \"id\", \"highlighter\");\n__publicField(HighlighterShape, \"defaultProps\", {\n  id: \"highlighter\",\n  parentId: \"page\",\n  type: \"highlighter\",\n  point: [0, 0],\n  points: [],\n  isComplete: false,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 0.5\n});\n__decorateClass([\n  computed\n], HighlighterShape.prototype, \"pointsPath\", 1);\n__decorateClass([\n  computed\n], HighlighterShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], HighlighterShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/HTMLShape.tsx\nvar React47 = __toESM(require(\"react\"));\n\n\/\/ src\/hooks\/useCameraMoving.ts\nfunction useCameraMovingRef() {\n  const app = useApp();\n  return app.inputs.state === \"panning\" || app.inputs.state === \"pinching\";\n}\n\n\/\/ src\/lib\/shapes\/HTMLShape.tsx\nvar import_jsx_runtime57 = require(\"react\/jsx-runtime\");\nvar levelToScale4 = {\n  xs: 0.5,\n  sm: 0.8,\n  md: 1,\n  lg: 1.5,\n  xl: 2,\n  xxl: 3\n};\nvar HTMLShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"htmlAnchorRef\", React47.createRef());\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      var _a3;\n      const newSize = src_default.mul(\n        this.props.size,\n        levelToScale4[v2 != null ? v2 : \"md\"] \/ levelToScale4[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"]\n      );\n      this.update({\n        scaleLevel: v2\n      });\n      yield delay();\n      this.update({\n        size: newSize\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      var _a3;\n      if (this.htmlAnchorRef.current) {\n        const rect = this.htmlAnchorRef.current.getBoundingClientRect();\n        const [w2, h2] = src_default.div([rect.width, rect.height], (_a3 = info == null ? void 0 : info.zoom) != null ? _a3 : 1);\n        const clamp3 = (v2) => Math.max(Math.min(v2 || 400, 1400), 10);\n        this.update({\n          size: [clamp3(w2), clamp3(h2)]\n        });\n      }\n      return this;\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing }) => {\n      const {\n        props: { html, scaleLevel }\n      } = this;\n      const isMoving = useCameraMovingRef();\n      const app = useApp();\n      const isSelected = app.selectedIds.has(this.id);\n      const tlEventsEnabled = isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\";\n      const stop2 = React47.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const scaleRatio = levelToScale4[scaleLevel != null ? scaleLevel : \"md\"];\n      React47.useEffect(() => {\n        if (this.props.size[1] === 0) {\n          this.onResetBounds({ zoom: app.viewport.camera.zoom });\n          app.persist({ replace: true });\n        }\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"div\", {\n          onWheelCapture: stop2,\n          onPointerDown: stop2,\n          onPointerUp: stop2,\n          className: \"tl-html-container\",\n          style: {\n            pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\",\n            overflow: isEditing ? \"auto\" : \"hidden\",\n            width: `calc(100% \/ ${scaleRatio})`,\n            height: `calc(100% \/ ${scaleRatio})`,\n            transform: `scale(${scaleRatio})`\n          },\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"div\", {\n            ref: this.htmlAnchorRef,\n            className: \"tl-html-anchor\",\n            dangerouslySetInnerHTML: { __html: html.trim() }\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n};\n__publicField(HTMLShape, \"id\", \"html\");\n__publicField(HTMLShape, \"defaultProps\", {\n  id: \"html\",\n  type: \"html\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [600, 0],\n  html: \"\"\n});\n__decorateClass([\n  computed\n], HTMLShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], HTMLShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/IFrameShape.tsx\nvar React48 = __toESM(require(\"react\"));\nvar import_jsx_runtime58 = require(\"react\/jsx-runtime\");\nvar IFrameShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"frameRef\", React48.createRef());\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"onIFrameSourceChange\", (url) => {\n      this.update({ url });\n    });\n    __publicField(this, \"reload\", () => {\n      var _a3, _b;\n      if (this.frameRef.current) {\n        this.frameRef.current.src = (_b = (_a3 = this.frameRef) == null ? void 0 : _a3.current) == null ? void 0 : _b.src;\n      }\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing }) => {\n      const ref = React48.useRef(null);\n      const app = useApp();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"div\", {\n          className: \"tl-iframe-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\"\n          },\n          children: this.props.url && \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"div\", {\n            style: {\n              overflow: \"hidden\",\n              position: \"relative\",\n              height: \"100%\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"iframe\", {\n              ref: this.frameRef,\n              className: \"absolute inset-0 w-full h-full m-0\",\n              width: \"100%\",\n              height: \"100%\",\n              src: `${this.props.url}`,\n              frameBorder: \"0\",\n              sandbox: \"allow-scripts allow-same-origin allow-presentation\"\n            })\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(IFrameShape, \"id\", \"iframe\");\n__publicField(IFrameShape, \"defaultProps\", {\n  id: \"iframe\",\n  type: \"iframe\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [853, 480],\n  url: \"\"\n});\n__decorateClass([\n  action\n], IFrameShape.prototype, \"onIFrameSourceChange\", 2);\n__decorateClass([\n  action\n], IFrameShape.prototype, \"reload\", 2);\n\n\/\/ src\/lib\/shapes\/ImageShape.tsx\nvar React49 = __toESM(require(\"react\"));\nvar import_jsx_runtime59 = require(\"react\/jsx-runtime\");\nvar ImageShape = class extends TLImageShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isBinding, asset }) => {\n      const {\n        props: {\n          opacity,\n          objectFit,\n          clipping,\n          size: [w2, h2]\n        }\n      } = this;\n      const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n      const { handlers } = React49.useContext(LogseqContext);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsxs)(HTMLContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: [\n          isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(BindingIndicator, {\n            mode: \"html\",\n            strokeWidth: 4,\n            size: [w2, h2]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"div\", {\n            \"data-asset-loaded\": !!asset,\n            className: \"tl-image-shape-container\",\n            children: asset ? \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"img\", {\n              src: handlers ? handlers.makeAssetUrl(asset.src) : asset.src,\n              draggable: false,\n              style: {\n                position: \"relative\",\n                top: -t,\n                left: -l3,\n                width: w2 + (l3 - r2),\n                height: h2 + (t - b3),\n                objectFit\n              }\n            }) : \"Asset is missing\"\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n  getShapeSVGJsx({ assets }) {\n    var _a3, _b;\n    const bounds = this.getBounds();\n    const {\n      assetId,\n      clipping,\n      size: [w2, h2]\n    } = this.props;\n    const asset = assets.find((ass) => ass.id === assetId);\n    if (asset) {\n      const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n      const make_asset_url = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.make_asset_url;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"image\", {\n        width: bounds.width,\n        height: bounds.height,\n        href: make_asset_url ? make_asset_url(asset.src) : asset.src\n      });\n    } else {\n      return super.getShapeSVGJsx({});\n    }\n  }\n};\n__publicField(ImageShape, \"id\", \"image\");\n__publicField(ImageShape, \"defaultProps\", {\n  id: \"image1\",\n  parentId: \"page\",\n  type: \"image\",\n  point: [0, 0],\n  size: [100, 100],\n  opacity: 1,\n  assetId: \"\",\n  clipping: 0,\n  objectFit: \"fill\",\n  isAspectRatioLocked: true\n});\n\n\/\/ src\/lib\/shapes\/LineShape.tsx\nvar React51 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/arrow\/Arrow.tsx\nvar React50 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/arrow\/ArrowHead.tsx\nvar import_jsx_runtime60 = require(\"react\/jsx-runtime\");\nfunction Arrowhead({ left, middle, right, stroke, strokeWidth }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsxs)(\"g\", {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsx)(\"path\", {\n        className: \"tl-stroke-hitarea\",\n        d: `M ${left} L ${middle} ${right}`\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsx)(\"path\", {\n        d: `M ${left} L ${middle} ${right}`,\n        fill: \"none\",\n        stroke,\n        strokeWidth,\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        pointerEvents: \"none\"\n      })\n    ]\n  });\n}\n\n\/\/ src\/lib\/shapes\/arrow\/arrowHelpers.ts\nfunction getStraightArrowHeadPoints(A3, B3, r2) {\n  const ints = intersectCircleLineSegment(A3, r2, A3, B3).points;\n  if (!ints) {\n    console.warn(\"Could not find an intersection for the arrow head.\");\n    return { left: A3, right: A3 };\n  }\n  const int = ints[0];\n  const left = int ? src_default.rotWith(int, A3, Math.PI \/ 6) : A3;\n  const right = int ? src_default.rotWith(int, A3, -Math.PI \/ 6) : A3;\n  return { left, right };\n}\nfunction getStraightArrowHeadPath(A3, B3, r2) {\n  const { left, right } = getStraightArrowHeadPoints(A3, B3, r2);\n  return `M ${left} L ${A3} ${right}`;\n}\nfunction getArrowPath(style, start, end, decorationStart, decorationEnd) {\n  const strokeWidth = style.strokeWidth;\n  const arrowDist = src_default.dist(start, end);\n  const arrowHeadLength = Math.min(arrowDist \/ 3, strokeWidth * 16);\n  const path = [];\n  path.push(`M ${start} L ${end}`);\n  if (decorationStart) {\n    path.push(getStraightArrowHeadPath(start, end, arrowHeadLength));\n  }\n  if (decorationEnd) {\n    path.push(getStraightArrowHeadPath(end, start, arrowHeadLength));\n  }\n  return path.join(\" \");\n}\n\n\/\/ src\/lib\/shapes\/arrow\/Arrow.tsx\nvar import_jsx_runtime61 = require(\"react\/jsx-runtime\");\nvar levelToScale5 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar Arrow = React50.memo(function StraightArrow({\n  style,\n  start,\n  end,\n  decorationStart,\n  decorationEnd,\n  scaleLevel\n}) {\n  const arrowDist = src_default.dist(start, end);\n  if (arrowDist < 2)\n    return null;\n  const { strokeWidth } = style;\n  const sw = 1 + strokeWidth * levelToScale5[scaleLevel != null ? scaleLevel : \"md\"] \/ 10;\n  const path = \"M\" + src_default.toFixed(start) + \"L\" + src_default.toFixed(end);\n  const arrowHeadLength = Math.min(arrowDist \/ 3, strokeWidth * levelToScale5[scaleLevel != null ? scaleLevel : \"md\"]);\n  const startArrowHead = decorationStart ? getStraightArrowHeadPoints(start, end, arrowHeadLength) : null;\n  const endArrowHead = decorationEnd ? getStraightArrowHeadPoints(end, start, arrowHeadLength) : null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsxs)(import_jsx_runtime61.Fragment, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(\"path\", {\n        className: \"tl-stroke-hitarea\",\n        d: path\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(\"path\", {\n        d: path,\n        strokeWidth: sw,\n        stroke: style.stroke,\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeDasharray: style.strokeType === \"dashed\" ? \"8 4\" : void 0,\n        pointerEvents: \"stroke\"\n      }),\n      startArrowHead && \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(Arrowhead, {\n        left: startArrowHead.left,\n        middle: start,\n        right: startArrowHead.right,\n        stroke: style.stroke,\n        strokeWidth: sw\n      }),\n      endArrowHead && \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(Arrowhead, {\n        left: endArrowHead.left,\n        middle: end,\n        right: endArrowHead.right,\n        stroke: style.stroke,\n        strokeWidth: sw\n      })\n    ]\n  });\n});\n\n\/\/ src\/lib\/shapes\/text\/LabelMask.tsx\nvar import_jsx_runtime62 = require(\"react\/jsx-runtime\");\nfunction LabelMask({ id: id3, bounds, labelSize, offset, scale = 1 }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"defs\", {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsxs)(\"mask\", {\n      id: id3 + \"_clip\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"rect\", {\n          x: -100,\n          y: -100,\n          width: bounds.width + 200,\n          height: bounds.height + 200,\n          fill: \"white\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"rect\", {\n          x: bounds.width \/ 2 - labelSize[0] \/ 2 * scale + ((offset == null ? void 0 : offset[0]) || 0),\n          y: bounds.height \/ 2 - labelSize[1] \/ 2 * scale + ((offset == null ? void 0 : offset[1]) || 0),\n          width: labelSize[0] * scale,\n          height: labelSize[1] * scale,\n          rx: 4 * scale,\n          ry: 4 * scale,\n          fill: \"black\"\n        })\n      ]\n    })\n  });\n}\n\n\/\/ src\/lib\/shapes\/LineShape.tsx\nvar import_jsx_runtime63 = require(\"react\/jsx-runtime\");\nvar font3 = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale6 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar LineShape = class extends TLLineShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"hideSelection\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, onEditingEnd }) => {\n      const {\n        stroke,\n        handles: { start, end },\n        opacity,\n        label,\n        italic,\n        fontWeight,\n        fontSize,\n        id: id3\n      } = this.props;\n      const labelSize = label || isEditing ? getTextLabelSize(\n        label || \"Enter text\",\n        { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n        6\n      ) : [0, 0];\n      const midPoint = src_default.med(start.point, end.point);\n      const dist = src_default.dist(start.point, end.point);\n      const scale = Math.max(\n        0.5,\n        Math.min(1, Math.max(dist \/ (labelSize[1] + 128), dist \/ (labelSize[0] + 128)))\n      );\n      const bounds = this.getBounds();\n      const offset = React51.useMemo(() => {\n        return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n      }, [bounds, scale, midPoint]);\n      const handleLabelChange = React51.useCallback(\n        (label2) => {\n          var _a3;\n          (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n        },\n        [label]\n      );\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n        style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n        className: \"tl-line-container\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(TextLabel, {\n            font: font3,\n            text: label,\n            fontSize,\n            color: getComputedColor(stroke, \"text\"),\n            offsetX: offset[0],\n            offsetY: offset[1],\n            scale,\n            isEditing,\n            onChange: handleLabelChange,\n            onBlur: onEditingEnd,\n            fontStyle: italic ? \"italic\" : \"normal\",\n            fontWeight,\n            pointerEvents: !!label\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(SVGContainer, {\n            opacity: isErasing ? 0.2 : opacity,\n            id: id3 + \"_svg\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(LabelMask, {\n                id: id3,\n                bounds,\n                labelSize,\n                offset,\n                scale\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"g\", {\n                pointerEvents: \"none\",\n                mask: label || isEditing ? `url(#${id3}_clip)` : ``,\n                children: this.getShapeSVGJsx({ preview: false })\n              })\n            ]\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale6[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(({ isEditing }) => {\n      const {\n        id: id3,\n        decorations,\n        label,\n        strokeWidth,\n        fontSize,\n        fontWeight,\n        handles: { start, end },\n        isLocked\n      } = this.props;\n      const bounds = this.getBounds();\n      const labelSize = label || isEditing ? getTextLabelSize(\n        label,\n        { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n        6\n      ) : [0, 0];\n      const midPoint = src_default.med(start.point, end.point);\n      const dist = src_default.dist(start.point, end.point);\n      const scale = Math.max(\n        0.5,\n        Math.min(1, Math.max(dist \/ (labelSize[1] + 128), dist \/ (labelSize[0] + 128)))\n      );\n      const offset = React51.useMemo(() => {\n        return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n      }, [bounds, scale, midPoint]);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"path\", {\n            mask: label ? `url(#${id3}_clip)` : ``,\n            d: getArrowPath(\n              { strokeWidth },\n              start.point,\n              end.point,\n              decorations == null ? void 0 : decorations.start,\n              decorations == null ? void 0 : decorations.end\n            ),\n            strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n          }),\n          label && !isEditing && \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"rect\", {\n            x: bounds.width \/ 2 - labelSize[0] \/ 2 * scale + offset[0],\n            y: bounds.height \/ 2 - labelSize[1] \/ 2 * scale + offset[1],\n            width: labelSize[0] * scale,\n            height: labelSize[1] * scale,\n            rx: 4 * scale,\n            ry: 4 * scale,\n            fill: \"transparent\"\n          })\n        ]\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx({ preview }) {\n    const {\n      stroke,\n      fill,\n      strokeWidth,\n      strokeType,\n      decorations,\n      label,\n      scaleLevel,\n      handles: { start, end }\n    } = this.props;\n    const midPoint = src_default.med(start.point, end.point);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(import_jsx_runtime63.Fragment, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(Arrow, {\n          style: {\n            stroke: getComputedColor(stroke, \"text\"),\n            fill,\n            strokeWidth,\n            strokeType\n          },\n          scaleLevel,\n          start: start.point,\n          end: end.point,\n          decorationStart: decorations == null ? void 0 : decorations.start,\n          decorationEnd: decorations == null ? void 0 : decorations.end\n        }),\n        preview && \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(import_jsx_runtime63.Fragment, {\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"text\", {\n            style: {\n              transformOrigin: \"top left\"\n            },\n            fontFamily: \"Inter\",\n            fontSize: 20,\n            transform: `translate(${midPoint[0]}, ${midPoint[1]})`,\n            textAnchor: \"middle\",\n            fill: getComputedColor(stroke, \"text\"),\n            stroke: getComputedColor(stroke, \"text\"),\n            children: label\n          })\n        })\n      ]\n    });\n  }\n};\n__publicField(LineShape, \"id\", \"line\");\n__publicField(LineShape, \"defaultProps\", {\n  id: \"line\",\n  parentId: \"page\",\n  type: \"line\",\n  point: [0, 0],\n  handles: {\n    start: { id: \"start\", canBind: true, point: [0, 0] },\n    end: { id: \"end\", canBind: true, point: [1, 1] }\n  },\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 1,\n  opacity: 1,\n  decorations: {\n    end: \"arrow\" \/* Arrow *\/\n  },\n  label: \"\"\n});\n__decorateClass([\n  computed\n], LineShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], LineShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/LogseqPortalShape.tsx\nvar React52 = __toESM(require(\"react\"));\nvar import_jsx_runtime64 = require(\"react\/jsx-runtime\");\nvar HEADER_HEIGHT = 40;\nvar AUTO_RESIZE_THRESHOLD = 1;\nvar levelToScale7 = {\n  xs: 0.5,\n  sm: 0.8,\n  md: 1,\n  lg: 1.5,\n  xl: 2,\n  xxl: 3\n};\nvar LogseqPortalShapeHeader = observer(\n  ({\n    type,\n    fill,\n    opacity,\n    children\n  }) => {\n    const bgColor = fill !== \"var(--ls-secondary-background-color)\" ? getComputedColor(fill, \"background\") : \"var(--ls-tertiary-background-color)\";\n    const fillGradient = fill && fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(fill) ? `var(--ls-highlight-color-${fill})` : fill : \"var(--ls-secondary-background-color)\";\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(\"div\", {\n      className: `tl-logseq-portal-header tl-logseq-portal-header-${type === \"P\" ? \"page\" : \"block\"}`,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n          className: \"absolute inset-0 tl-logseq-portal-header-bg\",\n          style: {\n            opacity,\n            background: type === \"P\" ? bgColor : `linear-gradient(0deg, ${fillGradient}, ${bgColor})`\n          }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n          className: \"relative\",\n          children\n        })\n      ]\n    });\n  }\n);\nvar LogseqPortalShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    var _a3;\n    super(props);\n    __publicField(this, \"hideRotateHandle\", true);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"persist\", null);\n    __publicField(this, \"initialHeightCalculated\", true);\n    __publicField(this, \"getInnerHeight\", null);\n    __publicField(this, \"setCollapsed\", (collapsed) => __async(this, null, function* () {\n      var _a3;\n      if (this.props.blockType === \"B\") {\n        this.update({ compact: collapsed });\n        this.canResize[1] = !collapsed;\n        if (!collapsed) {\n          this.onResetBounds();\n        }\n      } else {\n        const originalHeight = this.props.size[1];\n        this.canResize[1] = !collapsed;\n        this.update({\n          isAutoResizing: !collapsed,\n          collapsed,\n          size: [this.props.size[0], collapsed ? this.getHeaderHeight() : this.props.collapsedHeight],\n          collapsedHeight: collapsed ? originalHeight : this.props.collapsedHeight\n        });\n      }\n      (_a3 = this.persist) == null ? void 0 : _a3.call(this);\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      var _a3;\n      const newSize = src_default.mul(\n        this.props.size,\n        levelToScale7[v2 != null ? v2 : \"md\"] \/ levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"]\n      );\n      this.update({\n        scaleLevel: v2\n      });\n      yield delay();\n      this.update({\n        size: newSize\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      const height = this.getAutoResizeHeight();\n      if (height !== null && Math.abs(height - this.props.size[1]) > AUTO_RESIZE_THRESHOLD) {\n        this.update({\n          size: [this.props.size[0], height]\n        });\n        this.initialHeightCalculated = true;\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      var _a3;\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      let height = bounds.height;\n      if (this.props.isAutoResizing) {\n        height = (_a3 = this.getAutoResizeHeight()) != null ? _a3 : height;\n      }\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, height)],\n        scale: nextScale,\n        rotation\n      });\n    });\n    __publicField(this, \"PortalComponent\", observer(({}) => {\n      const {\n        props: { pageId, fill, opacity }\n      } = this;\n      const { renderers } = React52.useContext(LogseqContext);\n      const app = useApp();\n      const cpRefContainer = React52.useRef(null);\n      const [, innerHeight] = this.useComponentSize(\n        cpRefContainer,\n        this.props.compact ? \".tl-logseq-cp-container > .single-block\" : \".tl-logseq-cp-container > .page\"\n      );\n      if (!(renderers == null ? void 0 : renderers.Page)) {\n        return null;\n      }\n      const { Page, Block } = renderers;\n      const [loaded, setLoaded] = React52.useState(false);\n      React52.useEffect(() => {\n        var _a3, _b;\n        if (this.props.isAutoResizing) {\n          const latestInnerHeight = (_b = (_a3 = this.getInnerHeight) == null ? void 0 : _a3.call(this)) != null ? _b : innerHeight;\n          const newHeight = latestInnerHeight + this.getHeaderHeight();\n          if (innerHeight && Math.abs(newHeight - this.props.size[1]) > AUTO_RESIZE_THRESHOLD) {\n            this.update({\n              size: [this.props.size[0], newHeight]\n            });\n            if (loaded)\n              app.persist({ replace: true });\n          }\n        }\n      }, [innerHeight, this.props.isAutoResizing]);\n      React52.useEffect(() => {\n        if (!this.initialHeightCalculated) {\n          setTimeout(() => {\n            this.onResetBounds();\n            app.persist({ replace: true });\n          });\n        }\n      }, [this.initialHeightCalculated]);\n      React52.useEffect(() => {\n        setTimeout(function() {\n          setLoaded(true);\n        });\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(import_jsx_runtime64.Fragment, {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            className: \"absolute inset-0 tl-logseq-cp-container-bg\",\n            style: {\n              textRendering: app.viewport.camera.zoom < 0.5 ? \"optimizeSpeed\" : \"auto\",\n              background: fill && fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(fill) ? `var(--ls-highlight-color-${fill})` : fill : \"var(--ls-secondary-background-color)\",\n              opacity\n            }\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            ref: cpRefContainer,\n            className: \"relative tl-logseq-cp-container\",\n            style: { overflow: this.props.isAutoResizing ? \"visible\" : \"auto\" },\n            children: (loaded || !this.initialHeightCalculated) && (this.props.blockType === \"B\" && this.props.compact ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Block, {\n              blockId: pageId\n            }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Page, {\n              pageName: pageId\n            }))\n          })\n        ]\n      });\n    }));\n    __publicField(this, \"ReactComponent\", observer((componentProps) => {\n      var _a3;\n      const { events, isErasing, isEditing, isBinding } = componentProps;\n      const {\n        props: { opacity, pageId, fill, scaleLevel, strokeWidth, size, isLocked }\n      } = this;\n      const app = useApp();\n      const { renderers, handlers } = React52.useContext(LogseqContext);\n      this.persist = () => app.persist();\n      const isMoving = useCameraMovingRef();\n      const isSelected = app.selectedIds.has(this.id) && app.selectedIds.size === 1;\n      const isCreating = app.isIn(\"logseq-portal.creating\") && !pageId;\n      const tlEventsEnabled = (isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\") && !isCreating;\n      const stop2 = React52.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const portalSelected = app.selectedShapesArray.length === 1 && app.selectedShapesArray.some(\n        (shape) => shape.type === \"logseq-portal\" && shape.props.id !== this.props.id && pageId && shape.props[\"pageId\"] === pageId\n      );\n      const scaleRatio = levelToScale7[scaleLevel != null ? scaleLevel : \"md\"];\n      React52.useEffect(() => {\n        if (this.props.collapsed && isEditing) {\n          this.update({\n            size: [this.props.size[0], this.props.collapsedHeight]\n          });\n          return () => {\n            this.update({\n              size: [this.props.size[0], this.getHeaderHeight()]\n            });\n          };\n        }\n        return () => {\n        };\n      }, [isEditing, this.props.collapsed]);\n      React52.useEffect(() => {\n        if (isCreating) {\n          const screenSize = [app.viewport.bounds.width, app.viewport.bounds.height];\n          const boundScreenCenter = app.viewport.getScreenPoint([this.bounds.minX, this.bounds.minY]);\n          if (boundScreenCenter[0] > screenSize[0] - 400 || boundScreenCenter[1] > screenSize[1] - 240 || app.viewport.camera.zoom > 1.5 || app.viewport.camera.zoom < 0.5) {\n            app.viewport.zoomToBounds(__spreadProps(__spreadValues({}, this.bounds), { minY: this.bounds.maxY + 25 }));\n          }\n        }\n      }, [app.viewport.bounds.height.toFixed(2)]);\n      const onPageNameChanged = React52.useCallback((id3, isPage) => {\n        this.initialHeightCalculated = false;\n        const blockType = isPage ? \"P\" : \"B\";\n        this.update({\n          pageId: id3,\n          size: [400, 320],\n          blockType,\n          compact: blockType === \"B\"\n        });\n        app.selectTool(\"select\");\n        app.history.resume();\n        app.history.persist();\n      }, []);\n      const PortalComponent = this.PortalComponent;\n      const blockContent = React52.useMemo(() => {\n        var _a4;\n        if (pageId && this.props.blockType === \"B\") {\n          return (_a4 = handlers == null ? void 0 : handlers.queryBlockByUUID(pageId)) == null ? void 0 : _a4.title;\n        }\n      }, [handlers == null ? void 0 : handlers.queryBlockByUUID, pageId]);\n      const targetNotFound = this.props.blockType === \"B\" && typeof blockContent !== \"string\";\n      const showingPortal = (!this.props.collapsed || isEditing) && !targetNotFound;\n      if (!(renderers == null ? void 0 : renderers.Page)) {\n        return null;\n      }\n      const { Breadcrumb, PageName } = renderers;\n      const portalStyle = {\n        width: `calc(100% \/ ${scaleRatio})`,\n        height: `calc(100% \/ ${scaleRatio})`,\n        opacity: isErasing ? 0.2 : 1\n      };\n      if (scaleRatio !== 1) {\n        portalStyle.transform = `scale(${scaleRatio})`;\n      }\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          pointerEvents: \"all\"\n        }\n      }, events), {\n        children: [\n          isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(BindingIndicator, {\n            mode: \"html\",\n            strokeWidth,\n            size\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            \"data-inner-events\": !tlEventsEnabled,\n            onWheelCapture: stop2,\n            onPointerDown: stop2,\n            onPointerUp: stop2,\n            style: {\n              width: \"100%\",\n              height: \"100%\",\n              pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\"\n            },\n            children: isCreating ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(LogseqQuickSearch, {\n              onChange: onPageNameChanged,\n              onAddBlock: (uuid) => {\n                setTimeout(() => {\n                  var _a4, _b, _c;\n                  app.api.editShape(this);\n                  (_c = (_b = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b.edit_block) == null ? void 0 : _c.call(_b, uuid);\n                });\n              },\n              placeholder: \"Create or search your graph...\"\n            }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(\"div\", {\n              className: \"tl-logseq-portal-container\",\n              \"data-collapsed\": this.collapsed,\n              \"data-page-id\": pageId,\n              \"data-portal-selected\": portalSelected,\n              \"data-editing\": isEditing,\n              style: portalStyle,\n              children: [\n                !this.props.compact && !targetNotFound && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(LogseqPortalShapeHeader, {\n                  type: (_a3 = this.props.blockType) != null ? _a3 : \"P\",\n                  fill,\n                  opacity,\n                  children: this.props.blockType === \"P\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(PageName, {\n                    pageName: pageId\n                  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Breadcrumb, {\n                    blockId: pageId\n                  })\n                }),\n                targetNotFound && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n                  className: \"tl-target-not-found\",\n                  children: \"Target not found\"\n                }),\n                showingPortal && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(PortalComponent, __spreadValues({}, componentProps))\n              ]\n            })\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const bounds = this.getBounds();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n        width: bounds.width,\n        height: bounds.height,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: this.props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      var _a3;\n      if (props.size !== void 0) {\n        const scale = levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"];\n        props.size[0] = Math.max(props.size[0], 60 * scale);\n        props.size[1] = Math.max(props.size[1], HEADER_HEIGHT * scale);\n      }\n      return withClampedStyles(this, props);\n    });\n    makeObservable(this);\n    if (props.collapsed) {\n      Object.assign(this.canResize, [true, false]);\n    }\n    if (((_a3 = props.size) == null ? void 0 : _a3[1]) === 0) {\n      this.initialHeightCalculated = false;\n    }\n  }\n  static isPageOrBlock(id3) {\n    const blockRefEg = \"((62af02d0-0443-42e8-a284-946c162b0f89))\";\n    if (id3) {\n      return \/^\\(\\(.*\\)\\)$\/.test(id3) && id3.length === blockRefEg.length ? \"B\" : \"P\";\n    }\n    return false;\n  }\n  get collapsed() {\n    return this.props.blockType === \"B\" ? this.props.compact : this.props.collapsed;\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  useComponentSize(ref, selector = \"\") {\n    const [size, setSize] = React52.useState([0, 0]);\n    const app = useApp();\n    React52.useEffect(() => {\n      setTimeout(() => {\n        if (ref == null ? void 0 : ref.current) {\n          const el = selector ? ref.current.querySelector(selector) : ref.current;\n          if (el) {\n            const updateSize = () => {\n              const { width, height } = el.getBoundingClientRect();\n              const bound = src_default.div([width, height], app.viewport.camera.zoom);\n              setSize(bound);\n              return bound;\n            };\n            updateSize();\n            this.getInnerHeight = () => updateSize()[1];\n            const resizeObserver = new ResizeObserver(() => {\n              updateSize();\n            });\n            resizeObserver.observe(el);\n            return () => {\n              resizeObserver.disconnect();\n            };\n          }\n        }\n        return () => {\n        };\n      }, 10);\n    }, [ref, selector]);\n    return size;\n  }\n  getHeaderHeight() {\n    var _a3;\n    const scale = levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"];\n    return this.props.compact ? 0 : HEADER_HEIGHT * scale;\n  }\n  getAutoResizeHeight() {\n    if (this.getInnerHeight) {\n      return this.getHeaderHeight() + this.getInnerHeight();\n    }\n    return null;\n  }\n  getShapeSVGJsx({ preview }) {\n    var _a3, _b, _c;\n    const bounds = this.getBounds();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(import_jsx_runtime64.Fragment, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n          fill: this.props.fill && this.props.fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(this.props.fill) ? `var(--ls-highlight-color-${this.props.fill})` : this.props.fill : \"var(--ls-secondary-background-color)\",\n          stroke: getComputedColor(this.props.fill, \"background\"),\n          strokeWidth: (_a3 = this.props.strokeWidth) != null ? _a3 : 2,\n          fillOpacity: (_b = this.props.opacity) != null ? _b : 0.2,\n          width: bounds.width,\n          rx: 8,\n          ry: 8,\n          height: bounds.height\n        }),\n        !this.props.compact && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n          fill: this.props.fill && this.props.fill !== \"var(--ls-secondary-background-color)\" ? getComputedColor(this.props.fill, \"background\") : \"var(--ls-tertiary-background-color)\",\n          fillOpacity: (_c = this.props.opacity) != null ? _c : 0.2,\n          x: 1,\n          y: 1,\n          width: bounds.width - 2,\n          height: HEADER_HEIGHT - 2,\n          rx: 8,\n          ry: 8\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"text\", {\n          style: {\n            transformOrigin: \"top left\"\n          },\n          transform: `translate(${bounds.width \/ 2}, ${10 + bounds.height \/ 2})`,\n          textAnchor: \"middle\",\n          fontFamily: \"var(--ls-font-family)\",\n          fontSize: \"32\",\n          fill: \"var(--ls-secondary-text-color)\",\n          stroke: \"var(--ls-secondary-text-color)\",\n          children: this.props.blockType === \"P\" ? this.props.pageName : \"\"\n        })\n      ]\n    });\n  }\n};\n__publicField(LogseqPortalShape, \"id\", \"logseq-portal\");\n__publicField(LogseqPortalShape, \"defaultSearchQuery\", \"\");\n__publicField(LogseqPortalShape, \"defaultSearchFilter\", null);\n__publicField(LogseqPortalShape, \"defaultProps\", {\n  id: \"logseq-portal\",\n  type: \"logseq-portal\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [400, 50],\n  collapsedHeight: 0,\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  borderRadius: 8,\n  strokeWidth: 2,\n  strokeType: \"line\",\n  opacity: 1,\n  pageId: \"\",\n  collapsed: false,\n  compact: false,\n  scaleLevel: \"md\",\n  isAutoResizing: true\n});\n__decorateClass([\n  computed\n], LogseqPortalShape.prototype, \"collapsed\", 1);\n__decorateClass([\n  action\n], LogseqPortalShape.prototype, \"setCollapsed\", 2);\n__decorateClass([\n  computed\n], LogseqPortalShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], LogseqPortalShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ ..\/..\/node_modules\/perfect-freehand\/dist\/esm\/index.js\nfunction $2(e, t, u2, x2 = (h2) => h2) {\n  return e * x2(0.5 - t * (0.5 - u2));\n}\nfunction se2(e) {\n  return [-e[0], -e[1]];\n}\nfunction l2(e, t) {\n  return [e[0] + t[0], e[1] + t[1]];\n}\nfunction a2(e, t) {\n  return [e[0] - t[0], e[1] - t[1]];\n}\nfunction b2(e, t) {\n  return [e[0] * t, e[1] * t];\n}\nfunction he2(e, t) {\n  return [e[0] \/ t, e[1] \/ t];\n}\nfunction R2(e) {\n  return [e[1], -e[0]];\n}\nfunction B2(e, t) {\n  return e[0] * t[0] + e[1] * t[1];\n}\nfunction ue2(e, t) {\n  return e[0] === t[0] && e[1] === t[1];\n}\nfunction ge2(e) {\n  return Math.hypot(e[0], e[1]);\n}\nfunction de2(e) {\n  return e[0] * e[0] + e[1] * e[1];\n}\nfunction A2(e, t) {\n  return de2(a2(e, t));\n}\nfunction G2(e) {\n  return he2(e, ge2(e));\n}\nfunction ie2(e, t) {\n  return Math.hypot(e[1] - t[1], e[0] - t[0]);\n}\nfunction L2(e, t, u2) {\n  let x2 = Math.sin(u2), h2 = Math.cos(u2), y2 = e[0] - t[0], n2 = e[1] - t[1], f2 = y2 * h2 - n2 * x2, d2 = y2 * x2 + n2 * h2;\n  return [f2 + t[0], d2 + t[1]];\n}\nfunction K2(e, t, u2) {\n  return l2(e, b2(a2(t, e), u2));\n}\nfunction ee2(e, t, u2) {\n  return l2(e, b2(t, u2));\n}\nvar { min: C2, PI: xe2 } = Math;\nvar pe2 = 0.275;\nvar V3 = xe2 + 1e-4;\nfunction ce2(e, t = {}) {\n  let { size: u2 = 16, smoothing: x2 = 0.5, thinning: h2 = 0.5, simulatePressure: y2 = true, easing: n2 = (r2) => r2, start: f2 = {}, end: d2 = {}, last: D2 = false } = t, { cap: S2 = true, easing: j2 = (r2) => r2 * (2 - r2) } = f2, { cap: q2 = true, easing: c2 = (r2) => --r2 * r2 * r2 + 1 } = d2;\n  if (e.length === 0 || u2 <= 0)\n    return [];\n  let p2 = e[e.length - 1].runningLength, g2 = f2.taper === false ? 0 : f2.taper === true ? Math.max(u2, p2) : f2.taper, T2 = d2.taper === false ? 0 : d2.taper === true ? Math.max(u2, p2) : d2.taper, te2 = Math.pow(u2 * x2, 2), _2 = [], M2 = [], H2 = e.slice(0, 10).reduce((r2, i2) => {\n    let o2 = i2.pressure;\n    if (y2) {\n      let s2 = C2(1, i2.distance \/ u2), W2 = C2(1, 1 - s2);\n      o2 = C2(1, r2 + (W2 - r2) * (s2 * pe2));\n    }\n    return (r2 + o2) \/ 2;\n  }, e[0].pressure), m2 = $2(u2, h2, e[e.length - 1].pressure, n2), U2, X2 = e[0].vector, z2 = e[0].point, F2 = z2, O2 = z2, E2 = F2, J2 = false;\n  for (let r2 = 0; r2 < e.length; r2++) {\n    let { pressure: i2 } = e[r2], { point: o2, vector: s2, distance: W2, runningLength: I2 } = e[r2];\n    if (r2 < e.length - 1 && p2 - I2 < 3)\n      continue;\n    if (h2) {\n      if (y2) {\n        let v2 = C2(1, W2 \/ u2), Z2 = C2(1, 1 - v2);\n        i2 = C2(1, H2 + (Z2 - H2) * (v2 * pe2));\n      }\n      m2 = $2(u2, h2, i2, n2);\n    } else\n      m2 = u2 \/ 2;\n    U2 === void 0 && (U2 = m2);\n    let le2 = I2 < g2 ? j2(I2 \/ g2) : 1, fe2 = p2 - I2 < T2 ? c2((p2 - I2) \/ T2) : 1;\n    m2 = Math.max(0.01, m2 * Math.min(le2, fe2));\n    let re2 = (r2 < e.length - 1 ? e[r2 + 1] : e[r2]).vector, Y2 = r2 < e.length - 1 ? B2(s2, re2) : 1, be2 = B2(s2, X2) < 0 && !J2, ne2 = Y2 !== null && Y2 < 0;\n    if (be2 || ne2) {\n      let v2 = b2(R2(X2), m2);\n      for (let Z2 = 1 \/ 13, w2 = 0; w2 <= 1; w2 += Z2)\n        O2 = L2(a2(o2, v2), o2, V3 * w2), _2.push(O2), E2 = L2(l2(o2, v2), o2, V3 * -w2), M2.push(E2);\n      z2 = O2, F2 = E2, ne2 && (J2 = true);\n      continue;\n    }\n    if (J2 = false, r2 === e.length - 1) {\n      let v2 = b2(R2(s2), m2);\n      _2.push(a2(o2, v2)), M2.push(l2(o2, v2));\n      continue;\n    }\n    let oe2 = b2(R2(K2(re2, s2, Y2)), m2);\n    O2 = a2(o2, oe2), (r2 <= 1 || A2(z2, O2) > te2) && (_2.push(O2), z2 = O2), E2 = l2(o2, oe2), (r2 <= 1 || A2(F2, E2) > te2) && (M2.push(E2), F2 = E2), H2 = i2, X2 = s2;\n  }\n  let P2 = e[0].point.slice(0, 2), k2 = e.length > 1 ? e[e.length - 1].point.slice(0, 2) : l2(e[0].point, [1, 1]), Q2 = [], N2 = [];\n  if (e.length === 1) {\n    if (!(g2 || T2) || D2) {\n      let r2 = ee2(P2, G2(R2(a2(P2, k2))), -(U2 || m2)), i2 = [];\n      for (let o2 = 1 \/ 13, s2 = o2; s2 <= 1; s2 += o2)\n        i2.push(L2(r2, P2, V3 * 2 * s2));\n      return i2;\n    }\n  } else {\n    if (!(g2 || T2 && e.length === 1))\n      if (S2)\n        for (let i2 = 1 \/ 13, o2 = i2; o2 <= 1; o2 += i2) {\n          let s2 = L2(M2[0], P2, V3 * o2);\n          Q2.push(s2);\n        }\n      else {\n        let i2 = a2(_2[0], M2[0]), o2 = b2(i2, 0.5), s2 = b2(i2, 0.51);\n        Q2.push(a2(P2, o2), a2(P2, s2), l2(P2, s2), l2(P2, o2));\n      }\n    let r2 = R2(se2(e[e.length - 1].vector));\n    if (T2 || g2 && e.length === 1)\n      N2.push(k2);\n    else if (q2) {\n      let i2 = ee2(k2, r2, m2);\n      for (let o2 = 1 \/ 29, s2 = o2; s2 < 1; s2 += o2)\n        N2.push(L2(i2, k2, V3 * 3 * s2));\n    } else\n      N2.push(l2(k2, b2(r2, m2)), l2(k2, b2(r2, m2 * 0.99)), a2(k2, b2(r2, m2 * 0.99)), a2(k2, b2(r2, m2)));\n  }\n  return _2.concat(N2, M2.reverse(), Q2);\n}\nfunction me2(e, t = {}) {\n  var q2;\n  let { streamline: u2 = 0.5, size: x2 = 16, last: h2 = false } = t;\n  if (e.length === 0)\n    return [];\n  let y2 = 0.15 + (1 - u2) * 0.85, n2 = Array.isArray(e[0]) ? e : e.map(({ x: c2, y: p2, pressure: g2 = 0.5 }) => [c2, p2, g2]);\n  if (n2.length === 2) {\n    let c2 = n2[1];\n    n2 = n2.slice(0, -1);\n    for (let p2 = 1; p2 < 5; p2++)\n      n2.push(K2(n2[0], c2, p2 \/ 4));\n  }\n  n2.length === 1 && (n2 = [...n2, [...l2(n2[0], [1, 1]), ...n2[0].slice(2)]]);\n  let f2 = [{ point: [n2[0][0], n2[0][1]], pressure: n2[0][2] >= 0 ? n2[0][2] : 0.25, vector: [1, 1], distance: 0, runningLength: 0 }], d2 = false, D2 = 0, S2 = f2[0], j2 = n2.length - 1;\n  for (let c2 = 1; c2 < n2.length; c2++) {\n    let p2 = h2 && c2 === j2 ? n2[c2].slice(0, 2) : K2(S2.point, n2[c2], y2);\n    if (ue2(S2.point, p2))\n      continue;\n    let g2 = ie2(p2, S2.point);\n    if (D2 += g2, c2 < j2 && !d2) {\n      if (D2 < x2)\n        continue;\n      d2 = true;\n    }\n    S2 = { point: p2, pressure: n2[c2][2] >= 0 ? n2[c2][2] : 0.5, vector: G2(a2(S2.point, p2)), distance: g2, runningLength: D2 }, f2.push(S2);\n  }\n  return f2[0].vector = ((q2 = f2[1]) == null ? void 0 : q2.vector) || [0, 0], f2;\n}\n\n\/\/ src\/lib\/shapes\/PencilShape.tsx\nvar import_jsx_runtime65 = require(\"react\/jsx-runtime\");\nvar levelToScale8 = {\n  xs: 1,\n  sm: 1.6,\n  md: 2,\n  lg: 3.2,\n  xl: 4.8,\n  xxl: 6\n};\nvar simulatePressureSettings = {\n  easing: (t) => Math.sin(t * Math.PI \/ 2),\n  simulatePressure: true\n};\nvar realPressureSettings = {\n  easing: (t) => t * t,\n  simulatePressure: false\n};\nfunction getFreehandOptions(shape) {\n  const options = __spreadProps(__spreadValues({\n    size: 1 + shape.strokeWidth * 1.5,\n    thinning: 0.65,\n    streamline: 0.65,\n    smoothing: 0.65\n  }, shape.points[1][2] === 0.5 ? simulatePressureSettings : realPressureSettings), {\n    last: shape.isComplete\n  });\n  return options;\n}\nfunction getDrawStrokePoints(shape, options) {\n  return me2(shape.points, options);\n}\nfunction getDrawStrokePathTDSnapshot(shape) {\n  if (shape.points.length < 2)\n    return \"\";\n  const options = getFreehandOptions(shape);\n  const strokePoints = getDrawStrokePoints(shape, options);\n  const path = SvgPathUtils.getSvgPathFromStroke(ce2(strokePoints, options));\n  return path;\n}\nvar PencilShape = class extends TLDrawShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing }) => {\n      const {\n        props: { opacity }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: this.getShapeSVGJsx()\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        strokeWidth: levelToScale8[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const { pointsPath } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(\"path\", {\n        d: pointsPath,\n        strokeDasharray: this.props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      props = withClampedStyles(this, props);\n      if (props.strokeWidth !== void 0)\n        props.strokeWidth = Math.max(props.strokeWidth, 1);\n      return props;\n    });\n    makeObservable(this);\n  }\n  get pointsPath() {\n    return getDrawStrokePathTDSnapshot(this.props);\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx() {\n    const {\n      pointsPath,\n      props: { stroke, strokeWidth, strokeType }\n    } = this;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(\"path\", {\n      pointerEvents: \"all\",\n      d: pointsPath,\n      strokeWidth: strokeWidth \/ 2,\n      strokeLinejoin: \"round\",\n      strokeLinecap: \"round\",\n      stroke: getComputedColor(stroke, \"text\"),\n      fill: getComputedColor(stroke, \"text\"),\n      strokeDasharray: strokeType === \"dashed\" ? \"12 4\" : void 0\n    });\n  }\n};\n__publicField(PencilShape, \"id\", \"pencil\");\n__publicField(PencilShape, \"defaultProps\", {\n  id: \"pencil\",\n  parentId: \"page\",\n  type: \"pencil\",\n  point: [0, 0],\n  points: [],\n  isComplete: false,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1\n});\n__decorateClass([\n  computed\n], PencilShape.prototype, \"pointsPath\", 1);\n__decorateClass([\n  computed\n], PencilShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], PencilShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/PolygonShape.tsx\nvar React53 = __toESM(require(\"react\"));\nvar import_jsx_runtime66 = require(\"react\/jsx-runtime\");\nvar font4 = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale9 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar PolygonShape = class extends TLPolygonShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ events, isErasing, isSelected, isEditing, onEditingEnd }) => {\n        const {\n          offset: [x2, y2],\n          props: {\n            stroke,\n            fill,\n            noFill,\n            strokeWidth,\n            opacity,\n            strokeType,\n            label,\n            italic,\n            fontWeight,\n            fontSize\n          }\n        } = this;\n        const path = this.getVertices(strokeWidth \/ 2).join();\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = [this.props.size[0] \/ 2, this.props.size[1] * 2 \/ 3];\n        const scale = Math.max(\n          0.5,\n          Math.min(\n            1,\n            this.props.size[0] \/ (labelSize[0] * 2),\n            this.props.size[1] \/ (labelSize[1] * 2)\n          )\n        );\n        const bounds = this.getBounds();\n        const offset = React53.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React53.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(TextLabel, {\n              font: font4,\n              text: label,\n              fontSize,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1] \/ scale,\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(SVGContainer, {\n              opacity: isErasing ? 0.2 : opacity,\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"g\", {\n                transform: `translate(${x2}, ${y2})`,\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n                    className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                    points: path\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n                    points: path,\n                    stroke: getComputedColor(stroke, \"stroke\"),\n                    fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n                    strokeWidth,\n                    rx: 2,\n                    ry: 2,\n                    strokeLinejoin: \"round\",\n                    strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0\n                  })\n                ]\n              })\n            })\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale9[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale9[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        offset: [x2, y2],\n        props: { strokeWidth, isLocked }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          transform: `translate(${x2}, ${y2})`,\n          points: this.getVertices(strokeWidth \/ 2).join(),\n          strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.sides !== void 0)\n        props.sides = Math.max(props.sides, 3);\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx(opts) {\n    const {\n      offset: [x2, y2],\n      props: { stroke, fill, noFill, strokeWidth, opacity, strokeType }\n    } = this;\n    const path = this.getVertices(strokeWidth \/ 2).join();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"g\", {\n      transform: `translate(${x2}, ${y2})`,\n      opacity,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          className: !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n          points: path\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          points: path,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n          strokeWidth,\n          rx: 2,\n          ry: 2,\n          strokeLinejoin: \"round\",\n          strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0\n        })\n      ]\n    });\n  }\n};\n__publicField(PolygonShape, \"id\", \"polygon\");\n__publicField(PolygonShape, \"defaultProps\", {\n  id: \"polygon\",\n  parentId: \"page\",\n  type: \"polygon\",\n  point: [0, 0],\n  size: [100, 100],\n  sides: 3,\n  ratio: 1,\n  isFlippedY: false,\n  stroke: \"\",\n  fill: \"\",\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  noFill: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], PolygonShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], PolygonShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/TextShape.tsx\nvar React54 = __toESM(require(\"react\"));\nvar import_jsx_runtime67 = require(\"react\/jsx-runtime\");\nvar levelToScale10 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar TextShape = class extends TLTextShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, onEditingEnd }) => {\n      const {\n        props: {\n          opacity,\n          fontFamily,\n          fontSize,\n          fontWeight,\n          italic,\n          lineHeight,\n          text,\n          stroke,\n          padding\n        }\n      } = this;\n      const rInput = React54.useRef(null);\n      const rIsMounted = React54.useRef(false);\n      const rInnerWrapper = React54.useRef(null);\n      const handleChange = React54.useCallback((e) => {\n        const { isSizeLocked } = this.props;\n        const text2 = TextUtils.normalizeText(e.currentTarget.value);\n        if (isSizeLocked) {\n          this.update({ text: text2, size: this.getAutoSizedBoundingBox({ text: text2 }) });\n          return;\n        }\n        this.update({ text: text2 });\n      }, []);\n      const handleKeyDown = React54.useCallback((e) => {\n        if (e.key === \"Escape\")\n          return;\n        if (e.key === \"Tab\" && text.length === 0) {\n          e.preventDefault();\n          return;\n        }\n        if (!(e.key === \"Meta\" || e.metaKey)) {\n          e.stopPropagation();\n        } else if (e.key === \"z\" && e.metaKey) {\n          if (e.shiftKey) {\n            document.execCommand(\"redo\", false);\n          } else {\n            document.execCommand(\"undo\", false);\n          }\n          e.stopPropagation();\n          e.preventDefault();\n          return;\n        }\n        if (e.key === \"Tab\") {\n          e.preventDefault();\n          if (e.shiftKey) {\n            TextAreaUtils.unindent(e.currentTarget);\n          } else {\n            TextAreaUtils.indent(e.currentTarget);\n          }\n          this.update({ text: TextUtils.normalizeText(e.currentTarget.value) });\n        }\n      }, []);\n      const handleBlur = React54.useCallback(\n        (e) => {\n          if (!isEditing)\n            return;\n          onEditingEnd == null ? void 0 : onEditingEnd();\n        },\n        [onEditingEnd]\n      );\n      const handleFocus = React54.useCallback(\n        (e) => {\n          if (!isEditing)\n            return;\n          if (!rIsMounted.current)\n            return;\n          if (document.activeElement === e.currentTarget) {\n            e.currentTarget.select();\n          }\n        },\n        [isEditing]\n      );\n      const handlePointerDown = React54.useCallback(\n        (e) => {\n          if (isEditing)\n            e.stopPropagation();\n        },\n        [isEditing]\n      );\n      React54.useEffect(() => {\n        if (isEditing) {\n          requestAnimationFrame(() => {\n            rIsMounted.current = true;\n            const elm = rInput.current;\n            if (elm) {\n              elm.focus();\n              elm.select();\n            }\n          });\n        }\n      }, [isEditing, onEditingEnd]);\n      React54.useLayoutEffect(() => {\n        if (this.props.size[0] === 0 || this.props.size[1] === 0) {\n          this.onResetBounds();\n        }\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(HTMLContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"div\", {\n          ref: rInnerWrapper,\n          className: \"tl-text-shape-wrapper\",\n          \"data-hastext\": !!text,\n          \"data-isediting\": isEditing,\n          style: {\n            fontFamily,\n            fontStyle: italic ? \"italic\" : \"normal\",\n            fontSize,\n            fontWeight,\n            padding,\n            lineHeight,\n            color: getComputedColor(stroke, \"text\")\n          },\n          children: isEditing ? \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"textarea\", {\n            ref: rInput,\n            className: \"tl-text-shape-input\",\n            name: \"text\",\n            tabIndex: -1,\n            autoComplete: \"false\",\n            autoCapitalize: \"false\",\n            autoCorrect: \"false\",\n            autoSave: \"false\",\n            placeholder: \"\",\n            spellCheck: \"true\",\n            wrap: \"off\",\n            dir: \"auto\",\n            datatype: \"wysiwyg\",\n            defaultValue: text,\n            onFocus: handleFocus,\n            onChange: handleChange,\n            onKeyDown: handleKeyDown,\n            onBlur: handleBlur,\n            onPointerDown: handlePointerDown\n          }) : \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsxs)(import_jsx_runtime67.Fragment, {\n            children: [\n              text,\n              \"\\u200B\"\n            ]\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale10[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(({ isEditing }) => {\n      const {\n        props: { borderRadius, isLocked },\n        bounds\n      } = this;\n      return isEditing ? null : \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"rect\", {\n        width: bounds.width,\n        height: bounds.height,\n        rx: borderRadius,\n        ry: borderRadius,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.isSizeLocked || this.props.isSizeLocked) {\n      }\n      return withClampedStyles(this, props);\n    });\n    __publicField(this, \"getBounds\", () => {\n      const [x2, y2] = this.props.point;\n      const [width, height] = this.props.size;\n      return {\n        minX: x2,\n        minY: y2,\n        maxX: x2 + width,\n        maxY: y2 + height,\n        width,\n        height\n      };\n    });\n    __publicField(this, \"onResizeStart\", ({ isSingle }) => {\n      var _a3;\n      if (!isSingle)\n        return this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      return this.update({\n        isSizeLocked: false\n      });\n    });\n    __publicField(this, \"onResetBounds\", () => {\n      this.update({\n        size: this.getAutoSizedBoundingBox(),\n        isSizeLocked: true\n      });\n      return this;\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getAutoSizedBoundingBox(props = {}) {\n    const {\n      text = this.props.text,\n      fontFamily = this.props.fontFamily,\n      fontSize = this.props.fontSize,\n      fontWeight = this.props.fontWeight,\n      lineHeight = this.props.lineHeight,\n      padding = this.props.padding\n    } = props;\n    const [width, height] = getTextLabelSize(\n      text,\n      { fontFamily, fontSize, lineHeight, fontWeight },\n      padding\n    );\n    return [width, height];\n  }\n  getShapeSVGJsx() {\n    if (isSafari()) {\n      return super.getShapeSVGJsx(null);\n    }\n    const {\n      props: { text, stroke, fontSize, fontFamily }\n    } = this;\n    const bounds = this.getBounds();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"foreignObject\", {\n      width: bounds.width,\n      height: bounds.height,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"div\", {\n        style: {\n          color: getComputedColor(stroke, \"text\"),\n          fontSize,\n          fontFamily,\n          display: \"contents\"\n        },\n        children: text\n      })\n    });\n  }\n};\n__publicField(TextShape, \"id\", \"text\");\n__publicField(TextShape, \"defaultProps\", {\n  id: \"box\",\n  parentId: \"page\",\n  type: \"text\",\n  point: [0, 0],\n  size: [0, 0],\n  isSizeLocked: true,\n  text: \"\",\n  lineHeight: 1.2,\n  fontSize: 20,\n  fontWeight: 400,\n  italic: false,\n  padding: 4,\n  fontFamily: \"var(--ls-font-family)\",\n  borderRadius: 0,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1\n});\n__decorateClass([\n  computed\n], TextShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], TextShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/VideoShape.tsx\nvar React55 = __toESM(require(\"react\"));\nvar import_jsx_runtime68 = require(\"react\/jsx-runtime\");\nvar VideoShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"canChangeAspectRatio\", false);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, asset, isEditing }) => {\n      const {\n        props: {\n          opacity,\n          size: [w2, h2]\n        }\n      } = this;\n      const isMoving = useCameraMovingRef();\n      const app = useApp();\n      const isSelected = app.selectedIds.has(this.id);\n      const tlEventsEnabled = isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\";\n      const stop2 = React55.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const { handlers } = React55.useContext(LogseqContext);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : opacity\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"div\", {\n          onWheelCapture: stop2,\n          onPointerDown: stop2,\n          onPointerUp: stop2,\n          className: \"tl-video-container\",\n          style: {\n            pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\",\n            overflow: isEditing ? \"auto\" : \"hidden\"\n          },\n          children: asset && \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"video\", {\n            controls: true,\n            src: handlers ? handlers.makeAssetUrl(asset.src) : asset.src\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(VideoShape, \"id\", \"video\");\n__publicField(VideoShape, \"defaultProps\", {\n  id: \"video1\",\n  parentId: \"page\",\n  type: \"video\",\n  point: [0, 0],\n  size: [100, 100],\n  opacity: 1,\n  assetId: \"\",\n  clipping: 0,\n  isAspectRatioLocked: true\n});\n\n\/\/ src\/lib\/shapes\/YouTubeShape.tsx\nvar import_jsx_runtime69 = require(\"react\/jsx-runtime\");\nvar YOUTUBE_REGEX = \/^(?:https?:\\\/\\\/)?(?:www\\.)?(?:youtu\\.be\\\/|youtube\\.com\\\/(?:embed\\\/|v\\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$\/;\nvar _YouTubeShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"aspectRatio\", 480 \/ 853);\n    __publicField(this, \"canChangeAspectRatio\", false);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"onYoutubeLinkChange\", (url) => {\n      this.update({ url, size: _YouTubeShape.defaultProps.size });\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, isSelected }) => {\n      const app = useApp();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n          className: \"rounded-lg w-full h-full relative overflow-hidden shadow-xl tl-youtube-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\",\n            background: `url('https:\/\/img.youtube.com\/vi\/${this.embedId}\/mqdefault.jpg') no-repeat center\/cover`\n          },\n          children: this.embedId ? \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n            style: {\n              overflow: \"hidden\",\n              position: \"relative\",\n              height: \"100%\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"iframe\", {\n              className: \"absolute inset-0 w-full h-full m-0\",\n              width: \"853\",\n              height: \"480\",\n              src: `https:\/\/www.youtube.com\/embed\/${this.embedId}`,\n              frameBorder: \"0\",\n              allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n              allowFullScreen: true,\n              title: \"Embedded youtube\"\n            })\n          }) : \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n            className: \"w-full h-full flex items-center justify-center p-4\",\n            style: {\n              backgroundColor: \"var(--ls-primary-background-color)\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"svg\", {\n              xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n              viewBox: \"0 0 502 210.649\",\n              height: \"210.65\",\n              width: \"128\",\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                    d: \"M498.333 45.7s-2.91-20.443-11.846-29.447C475.157 4.44 462.452 4.38 456.627 3.687c-41.7-3-104.25-3-104.25-3h-.13s-62.555 0-104.255 3c-5.826.693-18.523.753-29.86 12.566-8.933 9.004-11.84 29.447-11.84 29.447s-2.983 24.003-2.983 48.009v22.507c0 24.006 2.983 48.013 2.983 48.013s2.907 20.44 11.84 29.446c11.337 11.817 26.23 11.44 32.86 12.677 23.84 2.28 101.315 2.983 101.315 2.983s62.62-.094 104.32-3.093c5.824-.694 18.527-.75 29.857-12.567 8.936-9.006 11.846-29.446 11.846-29.446s2.98-24.007 2.98-48.013V93.709c0-24.006-2.98-48.01-2.98-48.01\",\n                    fill: \"#cd201f\"\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"g\", {\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                      d: \"M187.934 169.537h-18.96V158.56c-7.19 8.24-13.284 12.4-19.927 12.4-5.826 0-9.876-2.747-11.9-7.717-1.23-3.02-2.103-7.736-2.103-14.663V68.744h18.957v81.833c.443 2.796 1.636 3.823 4.043 3.823 3.63 0 6.913-3.153 10.93-8.817V68.744h18.96v100.793zM102.109 139.597c.996 9.98-2.1 14.93-7.987 14.93s-8.98-4.95-7.98-14.93v-39.92c-1-9.98 2.093-14.657 7.98-14.657 5.89 0 8.993 4.677 7.996 14.657l-.01 39.92zm18.96-37.923c0-10.77-2.164-18.86-5.987-23.95-5.054-6.897-12.973-9.72-20.96-9.72-9.033 0-15.913 2.823-20.957 9.72-3.886 5.09-5.97 13.266-5.97 24.036l-.016 35.84c0 10.71 1.853 18.11 5.736 23.153 5.047 6.873 13.227 10.513 21.207 10.513 7.986 0 16.306-3.64 21.36-10.513 3.823-5.043 5.586-12.443 5.586-23.153v-35.926zM46.223 114.647v54.889h-19.96v-54.89S5.582 47.358 1.314 34.815H22.27L36.277 87.38l13.936-52.566H71.17l-24.947 79.833z\"\n                    })\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n                    fill: \"#fff\",\n                    children: [\n                      \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                        d: \"M440.413 96.647c0-9.33 2.557-11.874 8.59-11.874 5.99 0 8.374 2.777 8.374 11.997v10.893l-16.964.02V96.647zm35.96 25.986l-.003-20.4c0-10.656-2.1-18.456-5.88-23.5-5.06-6.823-12.253-10.436-21.317-10.436-9.226 0-16.42 3.613-21.643 10.436-3.84 5.044-6.076 13.28-6.076 23.943v34.927c0 10.596 2.46 18.013 6.296 23.003 5.227 6.813 12.42 10.216 21.87 10.216 9.44 0 16.853-3.566 21.85-10.81 2.2-3.196 3.616-6.82 4.226-10.823.164-1.81.64-5.933.64-11.753v-2.827h-18.96c0 7.247.037 11.557-.133 12.54-1.033 4.834-3.623 7.25-8.07 7.25-6.203 0-8.826-4.636-8.76-13.843v-17.923h35.96zM390.513 140.597c0 9.98-2.353 13.806-7.563 13.806-2.973 0-6.4-1.53-9.423-4.553l.02-60.523c3.02-2.98 6.43-4.55 9.403-4.55 5.21 0 7.563 2.93 7.563 12.91v42.91zm2.104-72.453c-6.647 0-13.253 4.087-19.09 11.27l.02-43.603h-17.963V169.54h17.963l.027-10.05c6.036 7.47 12.62 11.333 19.043 11.333 7.193 0 12.45-3.85 14.863-11.267 1.203-4.226 1.993-10.733 1.993-19.956V99.684c0-9.447-1.21-15.907-2.416-19.917-2.41-7.466-7.247-11.623-14.44-11.623M340.618 169.537h-18.956V158.56c-7.193 8.24-13.283 12.4-19.926 12.4-5.827 0-9.877-2.747-11.9-7.717-1.234-3.02-2.107-7.736-2.107-14.663V69.744h18.96v80.833c.443 2.796 1.633 3.823 4.043 3.823 3.63 0 6.913-3.153 10.93-8.817V69.744h18.957v99.793z\"\n                      }),\n                      \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                        d: \"M268.763 169.537h-19.956V54.77h-20.956V35.835l62.869-.024v18.96h-21.957v114.766z\"\n                      })\n                    ]\n                  })\n                ]\n              })\n            })\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[0] * this.aspectRatio, 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get embedId() {\n    var _a3, _b;\n    const url = this.props.url;\n    const match = url.match(YOUTUBE_REGEX);\n    const embedId = (_b = (_a3 = match == null ? void 0 : match[1]) != null ? _a3 : url) != null ? _b : \"\";\n    return embedId;\n  }\n  getShapeSVGJsx() {\n    const bounds = this.getBounds();\n    const embedId = this.embedId;\n    if (embedId) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"image\", {\n            width: bounds.width,\n            height: bounds.height,\n            href: `https:\/\/img.youtube.com\/vi\/${embedId}\/mqdefault.jpg`,\n            className: \"grayscale-[50%]\"\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"svg\", {\n            x: bounds.width \/ 4,\n            y: bounds.height \/ 4,\n            width: bounds.width \/ 2,\n            height: bounds.height \/ 2,\n            viewBox: \"0 0 15 15\",\n            fill: \"none\",\n            xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n              d: \"M4.76447 3.12199C5.63151 3.04859 6.56082 3 7.5 3C8.43918 3 9.36849 3.04859 10.2355 3.12199C11.2796 3.21037 11.9553 3.27008 12.472 3.39203C12.9425 3.50304 13.2048 3.64976 13.4306 3.88086C13.4553 3.90618 13.4902 3.94414 13.5133 3.97092C13.7126 4.20149 13.8435 4.4887 13.918 5.03283C13.9978 5.6156 14 6.37644 14 7.52493C14 8.66026 13.9978 9.41019 13.9181 9.98538C13.8439 10.5206 13.7137 10.8061 13.5125 11.0387C13.4896 11.0651 13.4541 11.1038 13.4296 11.1287C13.2009 11.3625 12.9406 11.5076 12.4818 11.6164C11.9752 11.7365 11.3143 11.7942 10.2878 11.8797C9.41948 11.9521 8.47566 12 7.5 12C6.52434 12 5.58052 11.9521 4.7122 11.8797C3.68572 11.7942 3.02477 11.7365 2.51816 11.6164C2.05936 11.5076 1.7991 11.3625 1.57037 11.1287C1.54593 11.1038 1.51035 11.0651 1.48748 11.0387C1.28628 10.8061 1.15612 10.5206 1.08193 9.98538C1.00221 9.41019 1 8.66026 1 7.52493C1 6.37644 1.00216 5.6156 1.082 5.03283C1.15654 4.4887 1.28744 4.20149 1.48666 3.97092C1.5098 3.94414 1.54468 3.90618 1.56942 3.88086C1.7952 3.64976 2.05752 3.50304 2.52796 3.39203C3.04473 3.27008 3.7204 3.21037 4.76447 3.12199ZM0 7.52493C0 5.28296 0 4.16198 0.729985 3.31713C0.766457 3.27491 0.815139 3.22194 0.854123 3.18204C1.63439 2.38339 2.64963 2.29744 4.68012 2.12555C5.56923 2.05028 6.52724 2 7.5 2C8.47276 2 9.43077 2.05028 10.3199 2.12555C12.3504 2.29744 13.3656 2.38339 14.1459 3.18204C14.1849 3.22194 14.2335 3.27491 14.27 3.31713C15 4.16198 15 5.28296 15 7.52493C15 9.74012 15 10.8477 14.2688 11.6929C14.2326 11.7348 14.1832 11.7885 14.1444 11.8281C13.3629 12.6269 12.3655 12.71 10.3709 12.8763C9.47971 12.9505 8.50782 13 7.5 13C6.49218 13 5.52028 12.9505 4.62915 12.8763C2.63446 12.71 1.63712 12.6269 0.855558 11.8281C0.816844 11.7885 0.767442 11.7348 0.731221 11.6929C0 10.8477 0 9.74012 0 7.52493ZM5.25 5.38264C5.25 5.20225 5.43522 5.08124 5.60041 5.15369L10.428 7.27105C10.6274 7.35853 10.6274 7.64147 10.428 7.72895L5.60041 9.84631C5.43522 9.91876 5.25 9.79775 5.25 9.61736V5.38264Z\",\n              fill: \"#D10014\",\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\"\n            })\n          })\n        ]\n      });\n    }\n    return super.getShapeSVGJsx({});\n  }\n};\nvar YouTubeShape = _YouTubeShape;\n__publicField(YouTubeShape, \"id\", \"youtube\");\n__publicField(YouTubeShape, \"defaultProps\", {\n  id: \"youtube\",\n  type: \"youtube\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [853, 480],\n  url: \"\"\n});\n__decorateClass([\n  computed\n], YouTubeShape.prototype, \"embedId\", 1);\n__decorateClass([\n  action\n], YouTubeShape.prototype, \"onYoutubeLinkChange\", 2);\n\n\/\/ src\/lib\/shapes\/TweetShape.tsx\nvar React56 = __toESM(require(\"react\"));\nvar import_jsx_runtime70 = require(\"react\/jsx-runtime\");\nvar X_OR_TWITTER_REGEX = \/https?:\\\/\\\/(x|twitter).com\\\/[0-9a-zA-Z_]{1,20}\\\/status\\\/([0-9]*)\/;\nvar _TweetShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"initialHeightCalculated\", true);\n    __publicField(this, \"getInnerHeight\", null);\n    __publicField(this, \"onTwitterLinkChange\", (url) => {\n      this.update({ url, size: _TweetShape.defaultProps.size });\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, isSelected }) => {\n      const {\n        renderers: { Tweet }\n      } = React56.useContext(LogseqContext);\n      const app = useApp();\n      const cpRefContainer = React56.useRef(null);\n      const [, innerHeight] = this.useComponentSize(cpRefContainer);\n      React56.useEffect(() => {\n        var _a3, _b;\n        const latestInnerHeight = (_b = (_a3 = this.getInnerHeight) == null ? void 0 : _a3.call(this)) != null ? _b : innerHeight;\n        const newHeight = latestInnerHeight;\n        if (innerHeight && Math.abs(newHeight - this.props.size[1]) > 1) {\n          this.update({\n            size: [this.props.size[0], newHeight]\n          });\n          app.persist({ replace: true });\n        }\n      }, [innerHeight]);\n      React56.useEffect(() => {\n        if (!this.initialHeightCalculated) {\n          setTimeout(() => {\n            this.onResetBounds();\n            app.persist({ replace: true });\n          });\n        }\n      }, [this.initialHeightCalculated]);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"div\", {\n          className: \"rounded-xl w-full h-full relative shadow-xl tl-tweet-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\"\n          },\n          children: this.embedId ? \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"div\", {\n            ref: cpRefContainer,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(Tweet, {\n              tweetId: this.embedId\n            })\n          }) : null\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      const height = this.getAutoResizeHeight();\n      if (height !== null && Math.abs(height - this.props.size[1]) > 1) {\n        this.update({\n          size: [this.props.size[0], height]\n        });\n        this.initialHeightCalculated = true;\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      var _a3;\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      const height = (_a3 = this.getAutoResizeHeight()) != null ? _a3 : bounds.height;\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, height)],\n        scale: nextScale,\n        rotation\n      });\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.min(Math.max(props.size[0], 300), 550);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get embedId() {\n    var _a3, _b;\n    const url = this.props.url;\n    const match = url.match(X_OR_TWITTER_REGEX);\n    const embedId = (_b = (_a3 = match == null ? void 0 : match[1]) != null ? _a3 : url) != null ? _b : \"\";\n    return embedId;\n  }\n  useComponentSize(ref, selector = \"\") {\n    const [size, setSize] = React56.useState([0, 0]);\n    const app = useApp();\n    React56.useEffect(() => {\n      if (ref == null ? void 0 : ref.current) {\n        const el = selector ? ref.current.querySelector(selector) : ref.current;\n        if (el) {\n          const updateSize = () => {\n            const { width, height } = el.getBoundingClientRect();\n            const bound = src_default.div([width, height], app.viewport.camera.zoom);\n            setSize(bound);\n            return bound;\n          };\n          updateSize();\n          this.getInnerHeight = () => updateSize()[1];\n          const resizeObserver = new ResizeObserver(() => {\n            updateSize();\n          });\n          resizeObserver.observe(el);\n          return () => {\n            resizeObserver.disconnect();\n          };\n        }\n      }\n      return () => {\n      };\n    }, [ref, selector]);\n    return size;\n  }\n  getAutoResizeHeight() {\n    if (this.getInnerHeight) {\n      return this.getInnerHeight();\n    }\n    return null;\n  }\n  getShapeSVGJsx() {\n    const bounds = this.getBounds();\n    const embedId = this.embedId;\n    if (embedId) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"rect\", {\n            width: bounds.width,\n            height: bounds.height,\n            fill: \"#15202b\",\n            rx: 8,\n            ry: 8\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"svg\", {\n            x: bounds.width \/ 4,\n            y: bounds.height \/ 4,\n            width: bounds.width \/ 2,\n            height: bounds.height \/ 2,\n            viewBox: \"0 0 15 15\",\n            fill: \"none\",\n            xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"path\", {\n              d: \"m13.464 4.4401c0.0091 0.13224 0.0091 0.26447 0.0091 0.39793 0 4.0664-3.0957 8.7562-8.7562 8.7562v-0.0024c-1.6721 0.0024-3.3095-0.47658-4.7172-1.3797 0.24314 0.02925 0.48751 0.04387 0.73248 0.04448 1.3857 0.0013 2.7319-0.46374 3.8221-1.3199-1.3169-0.024981-2.4717-0.8836-2.8751-2.1371 0.4613 0.08897 0.93662 0.070688 1.3894-0.053016-1.4357-0.29007-2.4686-1.5515-2.4686-3.0165v-0.039001c0.42779 0.23827 0.90676 0.37051 1.3967 0.38513-1.3522-0.90372-1.769-2.7026-0.95247-4.1091 1.5625 1.9226 3.8678 3.0914 6.3425 3.2151-0.24802-1.0689 0.090798-2.1889 0.89031-2.9403 1.2395-1.1651 3.1889-1.1054 4.3541 0.13346 0.68921-0.13589 1.3498-0.38879 1.9543-0.74711-0.22974 0.71237-0.71054 1.3175-1.3528 1.702 0.60999-0.071907 1.206-0.23522 1.7672-0.48446-0.41316 0.61913-0.93358 1.1584-1.5356 1.5942z\",\n              fill: \"#1d9bf0\",\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\"\n            })\n          })\n        ]\n      });\n    }\n    return super.getShapeSVGJsx({});\n  }\n};\nvar TweetShape = _TweetShape;\n__publicField(TweetShape, \"id\", \"tweet\");\n__publicField(TweetShape, \"defaultProps\", {\n  id: \"tweet\",\n  type: \"tweet\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [331, 290],\n  url: \"\"\n});\n__decorateClass([\n  computed\n], TweetShape.prototype, \"embedId\", 1);\n__decorateClass([\n  action\n], TweetShape.prototype, \"onTwitterLinkChange\", 2);\n\n\/\/ src\/lib\/shapes\/PdfShape.tsx\nvar React57 = __toESM(require(\"react\"));\nvar import_jsx_runtime71 = require(\"react\/jsx-runtime\");\nvar PdfShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"frameRef\", React57.createRef());\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(({ events, asset, isErasing, isEditing }) => {\n      const ref = React57.useRef(null);\n      const { handlers } = React57.useContext(LogseqContext);\n      const app = useApp();\n      const isMoving = useCameraMovingRef();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: asset ? \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(\"embed\", {\n          src: handlers ? handlers.inflateAsset(asset.src).url : asset.src,\n          className: \"relative tl-pdf-container\",\n          onWheelCapture: stop,\n          onPointerDown: stop,\n          onPointerUp: stop,\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            pointerEvents: !isMoving && isEditing ? \"all\" : \"none\"\n          }\n        }) : null\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(PdfShape, \"id\", \"pdf\");\n__publicField(PdfShape, \"defaultProps\", {\n  id: \"pdf\",\n  type: \"pdf\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [595, 842],\n  assetId: \"\"\n});\n\n\/\/ src\/lib\/shapes\/DotShape.tsx\nvar import_jsx_runtime72 = require(\"react\/jsx-runtime\");\n\n\/\/ src\/lib\/shapes\/index.ts\nvar shapes = [\n  BoxShape,\n  EllipseShape,\n  HighlighterShape,\n  ImageShape,\n  VideoShape,\n  LineShape,\n  PencilShape,\n  PolygonShape,\n  TextShape,\n  YouTubeShape,\n  TweetShape,\n  IFrameShape,\n  HTMLShape,\n  PdfShape,\n  LogseqPortalShape,\n  GroupShape\n];\n\n\/\/ src\/lib\/tools\/BoxTool.tsx\nvar BoxTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", BoxShape);\n  }\n};\n__publicField(BoxTool, \"id\", \"box\");\n__publicField(BoxTool, \"shortcut\", \"whiteboard\/rectangle\");\n\n\/\/ src\/lib\/tools\/EllipseTool.tsx\nvar EllipseTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", EllipseShape);\n  }\n};\n__publicField(EllipseTool, \"id\", \"ellipse\");\n__publicField(EllipseTool, \"shortcut\", \"whiteboard\/ellipse\");\n\n\/\/ src\/lib\/tools\/EraseTool.tsx\nvar NuEraseTool = class extends TLEraseTool {\n};\n__publicField(NuEraseTool, \"id\", \"erase\");\n__publicField(NuEraseTool, \"shortcut\", \"whiteboard\/eraser\");\n\n\/\/ src\/lib\/tools\/HighlighterTool.tsx\nvar HighlighterTool = class extends TLDrawTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", HighlighterShape);\n    __publicField(this, \"simplify\", true);\n    __publicField(this, \"simplifyTolerance\", 0.618);\n  }\n};\n__publicField(HighlighterTool, \"id\", \"highlighter\");\n__publicField(HighlighterTool, \"shortcut\", \"whiteboard\/highlighter\");\n\n\/\/ src\/lib\/tools\/LineTool.tsx\nvar LineTool = class extends TLLineTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", LineShape);\n  }\n};\n__publicField(LineTool, \"id\", \"line\");\n__publicField(LineTool, \"shortcut\", \"whiteboard\/connector\");\n\n\/\/ src\/lib\/tools\/PencilTool.tsx\nvar PencilTool = class extends TLDrawTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", PencilShape);\n    __publicField(this, \"simplify\", false);\n  }\n};\n__publicField(PencilTool, \"id\", \"pencil\");\n__publicField(PencilTool, \"shortcut\", \"whiteboard\/pencil\");\n\n\/\/ src\/lib\/tools\/PolygonTool.tsx\nvar PolygonTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", PolygonShape);\n  }\n};\n__publicField(PolygonTool, \"id\", \"polygon\");\n\n\/\/ src\/lib\/tools\/TextTool.tsx\nvar TextTool = class extends TLTextTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", TextShape);\n  }\n};\n__publicField(TextTool, \"id\", \"text\");\n__publicField(TextTool, \"shortcut\", \"whiteboard\/text\");\n\n\/\/ src\/lib\/tools\/YouTubeTool.tsx\nvar YouTubeTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", YouTubeShape);\n  }\n};\n__publicField(YouTubeTool, \"id\", \"youtube\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/states\/CreatingState.tsx\nvar CreatingState6 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"offset\", [0, 0]);\n    __publicField(this, \"onEnter\", () => {\n      this.app.history.pause();\n      transaction(() => {\n        let point = src_default.sub(this.app.inputs.originPoint, this.offset);\n        if (this.app.settings.snapToGrid) {\n          point = src_default.snap(point, GRID_SIZE);\n        }\n        const shape = new LogseqPortalShape({\n          id: uniqueId(),\n          parentId: this.app.currentPage.id,\n          point,\n          size: LogseqPortalShape.defaultProps.size,\n          fill: this.app.settings.color,\n          stroke: this.app.settings.color\n        });\n        this.creatingShape = shape;\n        this.app.currentPage.addShapes(shape);\n        this.app.setEditingShape(shape);\n        this.app.setSelectedShapes([shape]);\n      });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          if (info.shape === this.creatingShape)\n            return;\n          this.app.selectTool(\"select\");\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          if (!info.order) {\n            this.app.selectTool(\"select\");\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n      var _a3;\n      if (!this.creatingShape)\n        return;\n      this.app.history.resume();\n      if ((_a3 = this.creatingShape) == null ? void 0 : _a3.props.pageId) {\n        this.app.setSelectedShapes([this.creatingShape.id]);\n      } else {\n        this.app.deleteShapes([this.creatingShape.id]);\n        this.app.setEditingShape();\n      }\n      this.creatingShape = void 0;\n    });\n  }\n};\n__publicField(CreatingState6, \"id\", \"creating\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/states\/IdleState.tsx\nvar IdleState9 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"onPointerDown\", (e) => {\n      this.tool.transition(\"creating\");\n    });\n  }\n};\n__publicField(IdleState9, \"id\", \"idle\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/LogseqPortalTool.tsx\nvar LogseqPortalTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", LogseqPortalShape);\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n  }\n};\n__publicField(LogseqPortalTool, \"id\", \"logseq-portal\");\n__publicField(LogseqPortalTool, \"shortcut\", \"whiteboard\/portal\");\n__publicField(LogseqPortalTool, \"states\", [IdleState9, CreatingState6]);\n__publicField(LogseqPortalTool, \"initial\", \"idle\");\n\n\/\/ src\/lib\/tools\/HTMLTool.tsx\nvar HTMLTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", HTMLShape);\n  }\n};\n__publicField(HTMLTool, \"id\", \"youtube\");\n\n\/\/ src\/lib\/tools\/IFrameTool.tsx\nvar IFrameTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", IFrameShape);\n  }\n};\n__publicField(IFrameTool, \"id\", \"iframe\");\n\n\/\/ src\/lib\/preview-manager.tsx\nvar import_server = __toESM(require(\"react-dom\/server\"));\nvar import_jsx_runtime73 = require(\"react\/jsx-runtime\");\nvar SVG_EXPORT_PADDING = 16;\nvar ShapesMap = new Map(shapes.map((shape) => [shape.id, shape]));\nvar getShapeClass = (type) => {\n  if (!type)\n    throw Error(\"No shape type provided.\");\n  const Shape5 = ShapesMap.get(type);\n  if (!Shape5)\n    throw Error(`Could not find shape class for ${type}`);\n  return Shape5;\n};\nvar PreviewManager = class {\n  constructor(serializedApp) {\n    __publicField(this, \"shapes\");\n    __publicField(this, \"pageId\");\n    __publicField(this, \"assets\");\n    if (serializedApp) {\n      this.load(serializedApp);\n    }\n  }\n  load(snapshot) {\n    var _a3;\n    const page = (_a3 = snapshot == null ? void 0 : snapshot.pages) == null ? void 0 : _a3[0];\n    this.pageId = page == null ? void 0 : page.id;\n    this.assets = snapshot.assets;\n    this.shapes = page == null ? void 0 : page.shapes.map((s2) => {\n      const ShapeClass = getShapeClass(s2.type);\n      return new ShapeClass(s2);\n    }).filter((s2) => s2.type !== \"group\");\n  }\n  generatePreviewJsx(viewport, ratio) {\n    var _a3, _b;\n    const allBounds = [...((_a3 = this.shapes) != null ? _a3 : []).map((s2) => s2.getRotatedBounds())];\n    const vBounds = viewport == null ? void 0 : viewport.currentView;\n    if (vBounds) {\n      allBounds.push(vBounds);\n    }\n    let commonBounds = BoundsUtils.getCommonBounds(allBounds);\n    if (!commonBounds) {\n      return null;\n    }\n    commonBounds = BoundsUtils.expandBounds(commonBounds, SVG_EXPORT_PADDING);\n    commonBounds = ratio ? BoundsUtils.ensureRatio(commonBounds, ratio) : commonBounds;\n    const translatePoint = (p2) => {\n      return [(p2[0] - commonBounds.minX).toFixed(2), (p2[1] - commonBounds.minY).toFixed(2)];\n    };\n    const [vx, vy] = vBounds ? translatePoint([vBounds.minX, vBounds.minY]) : [0, 0];\n    const svgElement = commonBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(\"svg\", {\n      xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n      \"data-common-bound-x\": commonBounds.minX.toFixed(2),\n      \"data-common-bound-y\": commonBounds.minY.toFixed(2),\n      \"data-common-bound-width\": commonBounds.width.toFixed(2),\n      \"data-common-bound-height\": commonBounds.height.toFixed(2),\n      viewBox: [0, 0, commonBounds.width, commonBounds.height].join(\" \"),\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"defs\", {\n          children: vBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(import_jsx_runtime73.Fragment, {\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n                id: this.pageId + \"-camera-rect\",\n                transform: `translate(${vx}, ${vy})`,\n                width: vBounds.width,\n                height: vBounds.height\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(\"mask\", {\n                id: this.pageId + \"-camera-mask\",\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n                    width: commonBounds.width,\n                    height: commonBounds.height,\n                    fill: \"white\"\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"use\", {\n                    href: `#${this.pageId}-camera-rect`,\n                    fill: \"black\"\n                  })\n                ]\n              })\n            ]\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"g\", {\n          id: this.pageId + \"-preview-shapes\",\n          children: (_b = this.shapes) == null ? void 0 : _b.map((s2) => {\n            var _a4, _b2;\n            const {\n              bounds,\n              props: { rotation }\n            } = s2;\n            const [tx, ty] = translatePoint([bounds.minX, bounds.minY]);\n            const r2 = +(((rotation != null ? rotation : 0) + ((_a4 = bounds.rotation) != null ? _a4 : 0)) * 180 \/ Math.PI).toFixed(2);\n            const [rdx, rdy] = [(bounds.width \/ 2).toFixed(2), (bounds.height \/ 2).toFixed(2)];\n            const transformArr = [`translate(${tx}, ${ty})`, `rotate(${r2}, ${rdx}, ${rdy})`];\n            return \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"g\", {\n              transform: transformArr.join(\" \"),\n              children: s2.getShapeSVGJsx({\n                assets: (_b2 = this.assets) != null ? _b2 : []\n              })\n            }, s2.id);\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n          mask: vBounds ? `url(#${this.pageId}-camera-mask)` : \"\",\n          width: commonBounds.width,\n          height: commonBounds.height,\n          fill: \"transparent\"\n        }),\n        vBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"use\", {\n          id: \"minimap-camera-rect\",\n          \"data-x\": vx,\n          \"data-y\": vy,\n          \"data-width\": vBounds.width,\n          \"data-height\": vBounds.height,\n          href: `#${this.pageId}-camera-rect`,\n          fill: \"transparent\",\n          stroke: \"red\",\n          strokeWidth: 4 \/ viewport.camera.zoom\n        })\n      ]\n    });\n    return svgElement;\n  }\n  exportAsSVG(ratio) {\n    const svgElement = this.generatePreviewJsx(void 0, ratio);\n    return svgElement ? import_server.default.renderToString(svgElement) : \"\";\n  }\n};\nfunction generateSVGFromModel(serializedApp, ratio = 4 \/ 3) {\n  const preview = new PreviewManager(serializedApp);\n  return preview.exportAsSVG(ratio);\n}\nfunction generateJSXFromModel(serializedApp, ratio = 4 \/ 3) {\n  const preview = new PreviewManager(serializedApp);\n  return preview.generatePreviewJsx(void 0, ratio);\n}\n\n\/\/ src\/components\/inputs\/TextInput.tsx\nvar React58 = __toESM(require(\"react\"));\nvar import_jsx_runtime74 = require(\"react\/jsx-runtime\");\nvar TextInput = React58.forwardRef(\n  (_a3, ref) => {\n    var _b = _a3, { autoResize = true, value, className } = _b, rest = __objRest(_b, [\"autoResize\", \"value\", \"className\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"div\", {\n      className: \"tl-input\" + (className ? \" \" + className : \"\"),\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsxs)(\"div\", {\n        className: \"tl-input-sizer\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"div\", {\n            className: \"tl-input-hidden\",\n            children: value\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"input\", __spreadValues({\n            ref,\n            value,\n            className: \"tl-text-input\",\n            type: \"text\"\n          }, rest))\n        ]\n      })\n    });\n  }\n);\n\n\/\/ src\/components\/QuickSearch\/QuickSearch.tsx\nvar import_jsx_runtime75 = require(\"react\/jsx-runtime\");\nvar LogseqTypeTag = ({\n  type,\n  active\n}) => {\n  const nameMapping = {\n    B: \"block\",\n    P: \"page\",\n    WP: \"whiteboard\",\n    BA: \"new-block\",\n    PA: \"new-page\",\n    WA: \"new-whiteboard\",\n    BS: \"block-search\",\n    PS: \"page-search\"\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"span\", {\n    className: \"tl-type-tag\",\n    \"data-active\": active,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"i\", {\n      className: `tie tie-${nameMapping[type]}`\n    })\n  });\n};\nfunction escapeRegExp(text) {\n  return text.replace(\/[-[\\]{}()*+?.,\\\\^$|#\\s]\/g, \"\\\\$&\");\n}\nvar highlightedJSX = (input, keyword) => {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"span\", {\n    children: input.split(new RegExp(`(${escapeRegExp(keyword)})`, \"gi\")).map((part, index2) => {\n      if (index2 % 2 === 1) {\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"mark\", {\n          className: \"tl-highlighted\",\n          children: part\n        });\n      }\n      return part;\n    }).map((frag, idx) => \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(import_react48.default.Fragment, {\n      children: frag\n    }, idx))\n  });\n};\nvar useSearch = (q2, searchFilter) => {\n  const { handlers } = import_react48.default.useContext(LogseqContext);\n  const [results, setResults] = import_react48.default.useState(null);\n  const dq = useDebouncedValue(q2, 200);\n  import_react48.default.useEffect(() => {\n    let canceled = false;\n    if (dq.length > 0) {\n      const filter2 = { \"pages?\": true, \"blocks?\": true, \"files?\": false };\n      if (searchFilter === \"B\") {\n        filter2[\"pages?\"] = false;\n      } else if (searchFilter === \"P\") {\n        filter2[\"blocks?\"] = false;\n      }\n      handlers.search(dq, filter2).then((_results) => {\n        if (!canceled) {\n          setResults(_results);\n        }\n      });\n    } else {\n      setResults(null);\n    }\n    return () => {\n      canceled = true;\n    };\n  }, [dq, handlers == null ? void 0 : handlers.search]);\n  return results;\n};\nvar LogseqQuickSearch = observer(\n  ({ className, style, placeholder: placeholder2, onChange, onBlur, onAddBlock }) => {\n    const [q2, setQ] = import_react48.default.useState(LogseqPortalShape.defaultSearchQuery);\n    const [searchFilter, setSearchFilter] = import_react48.default.useState(\n      LogseqPortalShape.defaultSearchFilter\n    );\n    const rInput = import_react48.default.useRef(null);\n    const { handlers, renderers } = import_react48.default.useContext(LogseqContext);\n    const t = handlers.t;\n    const finishSearching = import_react48.default.useCallback((id3, isPage) => {\n      var _a3;\n      console.log({ id: id3, isPage });\n      setTimeout(() => onChange(id3, isPage));\n      (_a3 = rInput.current) == null ? void 0 : _a3.blur();\n      if (id3) {\n        LogseqPortalShape.defaultSearchQuery = \"\";\n        LogseqPortalShape.defaultSearchFilter = null;\n      }\n    }, []);\n    const handleAddBlock = import_react48.default.useCallback(\n      (content) => __async(void 0, null, function* () {\n        const uuid = yield handlers == null ? void 0 : handlers.addNewBlock(content);\n        if (uuid) {\n          finishSearching(uuid);\n          onAddBlock == null ? void 0 : onAddBlock(uuid);\n        }\n        return uuid;\n      }),\n      [onAddBlock]\n    );\n    const optionsWrapperRef = import_react48.default.useRef(null);\n    const [focusedOptionIdx, setFocusedOptionIdx] = import_react48.default.useState(0);\n    const searchResult = useSearch(q2, searchFilter);\n    const [prefixIcon, setPrefixIcon] = import_react48.default.useState(\"circle-plus\");\n    const [showPanel, setShowPanel] = import_react48.default.useState(false);\n    import_react48.default.useEffect(() => {\n      setTimeout(() => {\n        var _a3;\n        (_a3 = rInput.current) == null ? void 0 : _a3.focus();\n      });\n    }, [searchFilter]);\n    import_react48.default.useEffect(() => {\n      LogseqPortalShape.defaultSearchQuery = q2;\n      LogseqPortalShape.defaultSearchFilter = searchFilter;\n    }, [q2, searchFilter]);\n    const options = import_react48.default.useMemo(() => {\n      var _a3;\n      const options2 = [];\n      const Breadcrumb = renderers == null ? void 0 : renderers.Breadcrumb;\n      if (!Breadcrumb || !handlers) {\n        return [];\n      }\n      if (onAddBlock) {\n        options2.push({\n          actionIcon: \"circle-plus\",\n          onChosen: () => {\n            return !!handleAddBlock(q2);\n          },\n          element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n            className: \"tl-quick-search-option-row\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                active: true,\n                type: \"BA\"\n              }),\n              q2.length > 0 ? \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(import_jsx_runtime75.Fragment, {\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                    children: t(\"whiteboard\/new-block\")\n                  }),\n                  q2\n                ]\n              }) : \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                children: t(\"whiteboard\/new-block-no-colon\")\n              })\n            ]\n          })\n        });\n      }\n      if (!((_a3 = searchResult == null ? void 0 : searchResult.pages) == null ? void 0 : _a3.some((p2) => p2.title.toLowerCase() === q2.toLowerCase())) && q2) {\n        options2.push(\n          {\n            actionIcon: \"circle-plus\",\n            onChosen: () => __async(void 0, null, function* () {\n              let result = yield handlers == null ? void 0 : handlers.addNewPage(q2);\n              finishSearching(result, true);\n              return true;\n            }),\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  active: true,\n                  type: \"PA\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                  children: t(\"whiteboard\/new-page\")\n                }),\n                q2\n              ]\n            })\n          },\n          {\n            actionIcon: \"circle-plus\",\n            onChosen: () => __async(void 0, null, function* () {\n              let result = yield handlers == null ? void 0 : handlers.addNewWhiteboard(q2);\n              finishSearching(result, true);\n              return true;\n            }),\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  active: true,\n                  type: \"WA\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                  children: t(\"whiteboard\/new-whiteboard\")\n                }),\n                q2\n              ]\n            })\n          }\n        );\n      }\n      if (q2.length === 0 && searchFilter === null) {\n        options2.push(\n          {\n            actionIcon: \"search\",\n            onChosen: () => {\n              setSearchFilter(\"B\");\n              return true;\n            },\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: \"BS\"\n                }),\n                t(\"whiteboard\/search-only-blocks\")\n              ]\n            })\n          },\n          {\n            actionIcon: \"search\",\n            onChosen: () => {\n              setSearchFilter(\"P\");\n              return true;\n            },\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: \"PS\"\n                }),\n                t(\"whiteboard\/search-only-pages\")\n              ]\n            })\n          }\n        );\n      }\n      if ((!searchFilter || searchFilter === \"P\") && searchResult && searchResult.pages) {\n        options2.push(\n          ...searchResult.pages.map((page) => {\n            return {\n              actionIcon: \"search\",\n              onChosen: () => {\n                finishSearching(page.id, true);\n                return true;\n              },\n              element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n                className: \"tl-quick-search-option-row\",\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                    type: handlers.isWhiteboardPage(page.id) ? \"WP\" : \"P\"\n                  }),\n                  highlightedJSX(page.title, q2)\n                ]\n              })\n            };\n          })\n        );\n      }\n      if ((!searchFilter || searchFilter === \"B\") && searchResult && searchResult.blocks) {\n        options2.push(\n          ...searchResult.blocks.filter((block) => block.title && block.uuid).map(({ title, uuid }) => {\n            const block = handlers.queryBlockByUUID(uuid);\n            return {\n              actionIcon: \"search\",\n              onChosen: () => {\n                var _a4, _b, _c;\n                if (block) {\n                  finishSearching(uuid);\n                  (_c = (_b = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b.set_blocks_id) == null ? void 0 : _c.call(_b, [uuid]);\n                  return true;\n                }\n                return false;\n              },\n              element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(import_jsx_runtime75.Fragment, {\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n                  className: \"tl-quick-search-option-row\",\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                      type: \"B\"\n                    }),\n                    highlightedJSX(title, q2)\n                  ]\n                })\n              })\n            };\n          })\n        );\n      }\n      return options2;\n    }, [q2, searchFilter, searchResult, renderers == null ? void 0 : renderers.Breadcrumb, handlers]);\n    import_react48.default.useEffect(() => {\n      const keydownListener = (e) => {\n        var _a3, _b;\n        let newIndex = focusedOptionIdx;\n        if (e.key === \"ArrowDown\") {\n          newIndex = Math.min(options.length - 1, focusedOptionIdx + 1);\n        } else if (e.key === \"ArrowUp\") {\n          newIndex = Math.max(0, focusedOptionIdx - 1);\n        } else if (e.key === \"Enter\") {\n          (_a3 = options[focusedOptionIdx]) == null ? void 0 : _a3.onChosen();\n          e.stopPropagation();\n          e.preventDefault();\n        } else if (e.key === \"Backspace\" && q2.length === 0) {\n          setSearchFilter(null);\n        } else if (e.key === \"Escape\") {\n          finishSearching(\"\");\n        }\n        if (newIndex !== focusedOptionIdx) {\n          const option = options[newIndex];\n          setFocusedOptionIdx(newIndex);\n          setPrefixIcon(option.actionIcon);\n          e.stopPropagation();\n          e.preventDefault();\n          const optionElement = (_b = optionsWrapperRef.current) == null ? void 0 : _b.querySelector(\n            \".tl-quick-search-option:nth-child(\" + (newIndex + 1) + \")\"\n          );\n          if (optionElement) {\n            optionElement == null ? void 0 : optionElement.scrollIntoViewIfNeeded(false);\n          }\n        }\n      };\n      document.addEventListener(\"keydown\", keydownListener, true);\n      return () => {\n        document.removeEventListener(\"keydown\", keydownListener, true);\n      };\n    }, [options, focusedOptionIdx, q2]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n      className: \"tl-quick-search \" + (className != null ? className : \"\"),\n      style,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(CircleButton, {\n          icon: prefixIcon,\n          onClick: () => {\n            var _a3;\n            (_a3 = options[focusedOptionIdx]) == null ? void 0 : _a3.onChosen();\n          }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n          className: \"tl-quick-search-input-container\",\n          children: [\n            searchFilter && \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-input-filter\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: searchFilter\n                }),\n                searchFilter === \"B\" ? \"Search blocks\" : \"Search pages\",\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n                  className: \"tl-quick-search-input-filter-remove\",\n                  onClick: () => setSearchFilter(null),\n                  children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(TablerIcon, {\n                    name: \"x\"\n                  })\n                })\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(TextInput, {\n              ref: rInput,\n              type: \"text\",\n              value: q2,\n              className: \"tl-quick-search-input\",\n              placeholder: placeholder2 != null ? placeholder2 : \"Create or search your graph...\",\n              onChange: (q3) => setQ(q3.target.value),\n              onKeyDown: (e) => {\n                if (e.key === \"Enter\") {\n                  finishSearching(q2);\n                }\n                e.stopPropagation();\n              },\n              onFocus: () => {\n                setShowPanel(true);\n              },\n              onBlur: () => {\n                setShowPanel(false);\n                onBlur == null ? void 0 : onBlur();\n              }\n            })\n          ]\n        }),\n        options.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n          onWheelCapture: (e) => e.stopPropagation(),\n          className: \"tl-quick-search-options\",\n          ref: optionsWrapperRef,\n          style: {\n            visibility: showPanel ? \"visible\" : \"hidden\",\n            pointerEvents: showPanel ? \"all\" : \"none\"\n          },\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(cn, {\n            style: { height: Math.min(Math.max(1, options.length), 12) * 40 },\n            totalCount: options.length,\n            itemContent: (index2) => {\n              const { actionIcon, onChosen, element } = options[index2];\n              return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n                \"data-focused\": index2 === focusedOptionIdx,\n                className: \"tl-quick-search-option\",\n                tabIndex: 0,\n                onMouseEnter: () => {\n                  setPrefixIcon(actionIcon);\n                  setFocusedOptionIdx(index2);\n                },\n                onPointerDownCapture: (e) => {\n                  if (onChosen()) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                  }\n                },\n                children: element\n              }, index2);\n            }\n          })\n        })\n      ]\n    });\n  }\n);\n\n\/\/ src\/components\/inputs\/ShapeLinksInput.tsx\nvar import_jsx_runtime76 = require(\"react\/jsx-runtime\");\nfunction ShapeLinkItem({\n  id: id3,\n  type,\n  onRemove,\n  showContent\n}) {\n  const app = useApp();\n  const { handlers } = import_react50.default.useContext(LogseqContext);\n  const t = handlers.t;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n    className: \"tl-shape-links-panel-item color-level relative\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n        className: \"whitespace-pre break-all overflow-hidden text-ellipsis inline-flex\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(BlockLink, {\n          id: id3,\n          showReferenceContent: showContent\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n        className: \"flex-1\"\n      }),\n      handlers.getBlockPageName(id3) !== app.currentPage.name && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-page\"),\n        type: \"button\",\n        onClick: () => handlers == null ? void 0 : handlers.redirectToPage(id3),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"open-as-page\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-page-in-sidebar\"),\n        type: \"button\",\n        onClick: () => handlers == null ? void 0 : handlers.sidebarAddBlock(id3, type === \"B\" ? \"block\" : \"page\"),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"move-to-sidebar-right\"\n        })\n      }),\n      onRemove && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        className: \"tl-shape-links-panel-item-remove-button\",\n        tooltip: t(\"whiteboard\/remove-link\"),\n        type: \"button\",\n        onClick: onRemove,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"x\",\n          className: \"!translate-y-0\"\n        })\n      })\n    ]\n  });\n}\nvar ShapeLinksInput = observer(function ShapeLinksInput2(_a3) {\n  var _b = _a3, {\n    pageId,\n    portalType,\n    shapeType,\n    refs,\n    side,\n    onRefsChange\n  } = _b, rest = __objRest(_b, [\n    \"pageId\",\n    \"portalType\",\n    \"shapeType\",\n    \"refs\",\n    \"side\",\n    \"onRefsChange\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react50.default.useContext(LogseqContext);\n  const noOfLinks = refs.length + (pageId ? 1 : 0);\n  const canAddLink = refs.length === 0;\n  const addNewRef = (value) => {\n    if (value && !refs.includes(value) && canAddLink) {\n      onRefsChange([...refs, value]);\n    }\n  };\n  const showReferencePanel = !!(pageId && portalType);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(PopoverButton, __spreadProps(__spreadValues({}, rest), {\n    side,\n    align: \"start\",\n    alignOffset: -6,\n    label: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Tooltip, {\n      content: t(\"whiteboard\/link\"),\n      sideOffset: 14,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n        className: \"flex gap-1 relative items-center justify-center px-1\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n            name: noOfLinks > 0 ? \"link\" : \"add-link\"\n          }),\n          noOfLinks > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n            className: \"tl-shape-links-count\",\n            children: noOfLinks\n          })\n        ]\n      })\n    }),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n      className: \"color-level rounded-lg\",\n      \"data-show-reference-panel\": showReferencePanel,\n      children: [\n        showReferencePanel && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n          className: \"tl-shape-links-reference-panel\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n              className: \"text-base inline-flex gap-1 items-center\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n                  className: \"opacity-50\",\n                  name: \"internal-link\"\n                }),\n                t(\"whiteboard\/references\")\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(ShapeLinkItem, {\n              type: portalType,\n              id: pageId\n            })\n          ]\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n          className: \"tl-shape-links-panel color-level\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n              className: \"text-base inline-flex gap-1 items-center\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n                  className: \"opacity-50\",\n                  name: \"add-link\"\n                }),\n                t(\"whiteboard\/link-to-any-page-or-block\")\n              ]\n            }),\n            canAddLink && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(LogseqQuickSearch, {\n              style: {\n                width: \"calc(100% - 46px)\",\n                marginLeft: \"46px\"\n              },\n              placeholder: t(\"whiteboard\/start-typing-to-search\"),\n              onChange: addNewRef\n            }),\n            refs.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n              className: \"flex flex-col items-stretch gap-2\",\n              children: refs.map((ref, i2) => {\n                return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(ShapeLinkItem, {\n                  id: ref,\n                  type: validUUID(ref) ? \"B\" : \"P\",\n                  onRemove: () => {\n                    onRefsChange(refs.filter((_2, j2) => i2 !== j2));\n                  },\n                  showContent: true\n                }, ref);\n              })\n            })\n          ]\n        })\n      ]\n    })\n  }));\n});\n\n\/\/ src\/components\/inputs\/ToggleGroupInput.tsx\nvar import_jsx_runtime77 = require(\"react\/jsx-runtime\");\nvar LSUI10 = window.LSUI;\nfunction ToggleGroupInput({ options, value, onValueChange }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroup, {\n    type: \"single\",\n    value,\n    onValueChange,\n    children: options.map((option) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(Tooltip, {\n        content: option.tooltip,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(\"div\", {\n          className: \"inline-flex\",\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroupItem, {\n            className: \"tl-button\",\n            value: option.value,\n            disabled: option.value === value,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(TablerIcon, {\n              name: option.icon\n            })\n          })\n        })\n      }, option.value);\n    })\n  });\n}\nfunction ToggleGroupMultipleInput({\n  options,\n  value,\n  onValueChange\n}) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroup, {\n    className: \"inline-flex\",\n    type: \"multiple\",\n    value,\n    onValueChange,\n    children: options.map((option) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroupItem, {\n        className: \"tl-button\",\n        value: option.value,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(TablerIcon, {\n          name: option.icon\n        })\n      }, option.value);\n    })\n  });\n}\n\n\/\/ src\/components\/ContextBar\/contextBarActionFactory.tsx\nvar import_jsx_runtime78 = require(\"react\/jsx-runtime\");\nvar contextBarActionTypes = [\n  \"EditPdf\",\n  \"LogseqPortalViewMode\",\n  \"Geometry\",\n  \"AutoResizing\",\n  \"Swatch\",\n  \"NoFill\",\n  \"StrokeType\",\n  \"ScaleLevel\",\n  \"TextStyle\",\n  \"YoutubeLink\",\n  \"TwitterLink\",\n  \"IFrameSource\",\n  \"ArrowMode\",\n  \"Links\"\n];\nvar singleShapeActions = [\n  \"YoutubeLink\",\n  \"TwitterLink\",\n  \"IFrameSource\",\n  \"Links\",\n  \"EditPdf\"\n];\nvar contextBarActionMapping = \/* @__PURE__ *\/ new Map();\nvar shapeMapping = {\n  \"logseq-portal\": [\"Swatch\", \"LogseqPortalViewMode\", \"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  youtube: [\"YoutubeLink\", \"Links\"],\n  tweet: [\"TwitterLink\", \"Links\"],\n  iframe: [\"IFrameSource\", \"Links\"],\n  box: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  ellipse: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  polygon: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  line: [\"TextStyle\", \"Swatch\", \"ScaleLevel\", \"ArrowMode\", \"Links\"],\n  pencil: [\"Swatch\", \"Links\", \"ScaleLevel\"],\n  highlighter: [\"Swatch\", \"Links\", \"ScaleLevel\"],\n  text: [\"TextStyle\", \"Swatch\", \"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  html: [\"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  image: [\"Links\"],\n  video: [\"Links\"],\n  pdf: [\"EditPdf\", \"Links\"]\n};\nvar withFillShapes = Object.entries(shapeMapping).filter(([key, types]) => {\n  return types.includes(\"NoFill\") && types.includes(\"Swatch\");\n}).map(([key]) => key);\nfunction filterShapeByAction(type) {\n  const app = useApp();\n  const unlockedSelectedShapes = app.selectedShapesArray.filter((s2) => !s2.props.isLocked);\n  return unlockedSelectedShapes.filter((shape) => {\n    var _a3;\n    return (_a3 = shapeMapping[shape.props.type]) == null ? void 0 : _a3.includes(type);\n  });\n}\nvar AutoResizingAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"AutoResizing\");\n  const pressed = shapes2.every((s2) => s2.props.isAutoResizing);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip: t(\"whiteboard\/auto-resize\"),\n    toggle: shapes2.every((s2) => s2.props.type === \"logseq-portal\"),\n    className: \"tl-button\",\n    pressed,\n    onPressedChange: (v2) => {\n      shapes2.forEach((s2) => {\n        if (s2.props.type === \"logseq-portal\") {\n          s2.update({\n            isAutoResizing: v2\n          });\n        } else {\n          s2.onResetBounds({ zoom: app.viewport.camera.zoom });\n        }\n      });\n      app.persist();\n    },\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: \"dimensions\"\n    })\n  });\n});\nvar LogseqPortalViewModeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"LogseqPortalViewMode\");\n  const collapsed = shapes2.every((s2) => s2.collapsed);\n  if (!collapsed && !shapes2.every((s2) => !s2.collapsed)) {\n    return null;\n  }\n  const tooltip = \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"div\", {\n    className: \"flex\",\n    children: [\n      collapsed ? t(\"whiteboard\/expand\") : t(\"whiteboard\/collapse\"),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(KeyboardShortcut, {\n        action: collapsed ? \"editor\/expand-block-children\" : \"editor\/collapse-block-children\"\n      })\n    ]\n  });\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip,\n    toggle: shapes2.every((s2) => s2.props.type === \"logseq-portal\"),\n    className: \"tl-button\",\n    pressed: collapsed,\n    onPressedChange: () => app.api.setCollapsed(!collapsed),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: collapsed ? \"object-expanded\" : \"object-compact\"\n    })\n  });\n});\nvar ScaleLevelAction = observer(() => {\n  const {\n    handlers: { isMobile }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"ScaleLevel\");\n  const scaleLevel = new Set(shapes2.map((s2) => s2.scaleLevel)).size > 1 ? \"\" : shapes2[0].scaleLevel;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ScaleInput, {\n    scaleLevel,\n    compact: isMobile()\n  });\n});\nvar IFrameSourceAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"IFrameSource\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onIFrameSourceChange(e.target.value.trim().toLowerCase());\n    app.persist();\n  }, []);\n  const handleReload = import_react52.default.useCallback(() => {\n    shape.reload();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/reload\"),\n        type: \"button\",\n        onClick: handleReload,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"refresh\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/website-url\"),\n        className: \"tl-iframe-src\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-website-url\"),\n        type: \"button\",\n        onClick: () => window.open(shape.props.url),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar YoutubeLinkAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"YoutubeLink\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onYoutubeLinkChange(e.target.value);\n    app.persist();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/youtube-url\"),\n        className: \"tl-youtube-link\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-youtube-url\"),\n        type: \"button\",\n        onClick: () => {\n          var _a3, _b, _c;\n          return (_c = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.open_external_link) == null ? void 0 : _c.call(_b, shape.props.url);\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar TwitterLinkAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"TwitterLink\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onTwitterLinkChange(e.target.value);\n    app.persist();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/twitter-url\"),\n        className: \"tl-twitter-link\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-twitter-url\"),\n        type: \"button\",\n        onClick: () => {\n          var _a3, _b, _c;\n          return (_c = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.open_external_link) == null ? void 0 : _c.call(_b, shape.props.url);\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar EditPdfAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t, setCurrentPdf }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = app.selectedShapesArray[0];\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n    tooltip: t(\"whiteboard\/edit-pdf\"),\n    type: \"button\",\n    onClick: () => setCurrentPdf(app.assets[shape.props.assetId].src),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: \"edit\"\n    })\n  });\n});\nvar NoFillAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"NoFill\");\n  const handleChange = import_react52.default.useCallback((v2) => {\n    app.selectedShapesArray.forEach((s2) => s2.update({ noFill: v2 }));\n    app.persist();\n  }, []);\n  const noFill = shapes2.every((s2) => s2.props.noFill);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip: t(\"whiteboard\/fill\"),\n    className: \"tl-button\",\n    pressed: noFill,\n    onPressedChange: handleChange,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: noFill ? \"droplet-off\" : \"droplet\"\n    })\n  });\n});\nvar SwatchAction = observer(() => {\n  const app = useApp();\n  const shapes2 = filterShapeByAction(\"Swatch\");\n  const handleSetColor = import_react52.default.useCallback((color2) => {\n    app.selectedShapesArray.forEach((s2) => {\n      s2.update({ fill: color2, stroke: color2 });\n    });\n    app.persist();\n  }, []);\n  const handleSetOpacity = import_react52.default.useCallback((opacity) => {\n    app.selectedShapesArray.forEach((s2) => {\n      s2.update({ opacity });\n    });\n    app.persist();\n  }, []);\n  const color = shapes2[0].props.noFill ? shapes2[0].props.stroke : shapes2[0].props.fill;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ColorInput, {\n    popoverSide: \"top\",\n    color,\n    opacity: shapes2[0].props.opacity,\n    setOpacity: handleSetOpacity,\n    setColor: handleSetColor\n  });\n});\nvar GeometryAction = observer(() => {\n  const app = useApp();\n  const handleSetGeometry = import_react52.default.useCallback((e) => {\n    const type = e.currentTarget.dataset.tool;\n    app.api.convertShapes(type);\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(GeometryTools, {\n    popoverSide: \"top\",\n    chevron: false,\n    setGeometry: handleSetGeometry\n  });\n});\nvar StrokeTypeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"StrokeType\");\n  const StrokeTypeOptions = [\n    {\n      value: \"line\",\n      icon: \"circle\",\n      tooltip: \"Solid\"\n    },\n    {\n      value: \"dashed\",\n      icon: \"circle-dashed\",\n      tooltip: \"Dashed\"\n    }\n  ];\n  const value = shapes2.every((s2) => s2.props.strokeType === \"dashed\") ? \"dashed\" : shapes2.every((s2) => s2.props.strokeType === \"line\") ? \"line\" : \"mixed\";\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleGroupInput, {\n    title: t(\"whiteboard\/stroke-type\"),\n    options: StrokeTypeOptions,\n    value,\n    onValueChange: (v2) => {\n      shapes2.forEach((shape) => {\n        shape.update({\n          strokeType: v2\n        });\n      });\n      app.persist();\n    }\n  });\n});\nvar ArrowModeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"ArrowMode\");\n  const StrokeTypeOptions = [\n    {\n      value: \"start\",\n      icon: \"arrow-narrow-left\"\n    },\n    {\n      value: \"end\",\n      icon: \"arrow-narrow-right\"\n    }\n  ];\n  const startValue = shapes2.every((s2) => {\n    var _a3;\n    return ((_a3 = s2.props.decorations) == null ? void 0 : _a3.start) === \"arrow\" \/* Arrow *\/;\n  });\n  const endValue = shapes2.every((s2) => {\n    var _a3;\n    return ((_a3 = s2.props.decorations) == null ? void 0 : _a3.end) === \"arrow\" \/* Arrow *\/;\n  });\n  const value = [startValue ? \"start\" : null, endValue ? \"end\" : null].filter(isNonNullable);\n  const valueToDecorations = (value2) => {\n    return {\n      start: value2.includes(\"start\") ? \"arrow\" \/* Arrow *\/ : null,\n      end: value2.includes(\"end\") ? \"arrow\" \/* Arrow *\/ : null\n    };\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleGroupMultipleInput, {\n    title: t(\"whiteboard\/arrow-head\"),\n    options: StrokeTypeOptions,\n    value,\n    onValueChange: (v2) => {\n      shapes2.forEach((shape) => {\n        shape.update({\n          decorations: valueToDecorations(v2)\n        });\n      });\n      app.persist();\n    }\n  });\n});\nvar TextStyleAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"TextStyle\");\n  const bold = shapes2.every((s2) => s2.props.fontWeight > 500);\n  const italic = shapes2.every((s2) => s2.props.italic);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-1\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n        tooltip: t(\"whiteboard\/bold\"),\n        className: \"tl-button\",\n        pressed: bold,\n        onPressedChange: (v2) => {\n          shapes2.forEach((shape) => {\n            shape.update({\n              fontWeight: v2 ? 700 : 400\n            });\n            shape.onResetBounds();\n          });\n          app.persist();\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"bold\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n        tooltip: t(\"whiteboard\/italic\"),\n        className: \"tl-button\",\n        pressed: italic,\n        onPressedChange: (v2) => {\n          shapes2.forEach((shape) => {\n            shape.update({\n              italic: v2\n            });\n            shape.onResetBounds();\n          });\n          app.persist();\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"italic\"\n        })\n      })\n    ]\n  });\n});\nvar LinksAction = observer(() => {\n  var _a3;\n  const app = useApp();\n  const shape = app.selectedShapesArray[0];\n  const handleChange = (refs) => {\n    shape.update({ refs });\n    app.persist();\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ShapeLinksInput, {\n    onRefsChange: handleChange,\n    refs: (_a3 = shape.props.refs) != null ? _a3 : [],\n    shapeType: shape.props.type,\n    side: \"right\",\n    pageId: shape.props.type === \"logseq-portal\" ? shape.props.pageId : void 0,\n    portalType: shape.props.type === \"logseq-portal\" ? shape.props.blockType : void 0\n  });\n});\ncontextBarActionMapping.set(\"Geometry\", GeometryAction);\ncontextBarActionMapping.set(\"AutoResizing\", AutoResizingAction);\ncontextBarActionMapping.set(\"LogseqPortalViewMode\", LogseqPortalViewModeAction);\ncontextBarActionMapping.set(\"ScaleLevel\", ScaleLevelAction);\ncontextBarActionMapping.set(\"YoutubeLink\", YoutubeLinkAction);\ncontextBarActionMapping.set(\"TwitterLink\", TwitterLinkAction);\ncontextBarActionMapping.set(\"IFrameSource\", IFrameSourceAction);\ncontextBarActionMapping.set(\"NoFill\", NoFillAction);\ncontextBarActionMapping.set(\"Swatch\", SwatchAction);\ncontextBarActionMapping.set(\"StrokeType\", StrokeTypeAction);\ncontextBarActionMapping.set(\"ArrowMode\", ArrowModeAction);\ncontextBarActionMapping.set(\"TextStyle\", TextStyleAction);\ncontextBarActionMapping.set(\"Links\", LinksAction);\ncontextBarActionMapping.set(\"EditPdf\", EditPdfAction);\nvar getContextBarActionTypes = (type) => {\n  var _a3;\n  return ((_a3 = shapeMapping[type]) != null ? _a3 : []).filter(isNonNullable);\n};\nvar getContextBarActionsForShapes = (shapes2) => {\n  const types = shapes2.map((s2) => s2.props.type);\n  const actionTypes = new Set(shapes2.length > 0 ? getContextBarActionTypes(types[0]) : []);\n  for (let i2 = 1; i2 < types.length && actionTypes.size > 0; i2++) {\n    const otherActionTypes = getContextBarActionTypes(types[i2]);\n    actionTypes.forEach((action2) => {\n      if (!otherActionTypes.includes(action2)) {\n        actionTypes.delete(action2);\n      }\n    });\n  }\n  if (shapes2.length > 1) {\n    singleShapeActions.forEach((action2) => {\n      if (actionTypes.has(action2)) {\n        actionTypes.delete(action2);\n      }\n    });\n  }\n  return Array.from(actionTypes).sort((a3, b3) => contextBarActionTypes.indexOf(a3) - contextBarActionTypes.indexOf(b3)).map((action2) => contextBarActionMapping.get(action2));\n};\n\n\/\/ src\/components\/ContextBar\/ContextBar.tsx\nvar import_jsx_runtime79 = require(\"react\/jsx-runtime\");\nvar LSUI11 = window.LSUI;\nvar _ContextBar = ({ shapes: shapes2, offsets, hidden }) => {\n  const app = useApp();\n  const rSize = React62.useRef(null);\n  const rContextBar = React62.useRef(null);\n  React62.useLayoutEffect(() => {\n    setTimeout(() => {\n      const elm = rContextBar.current;\n      if (!elm)\n        return;\n      const { offsetWidth, offsetHeight } = elm;\n      rSize.current = [offsetWidth, offsetHeight];\n    });\n  });\n  React62.useLayoutEffect(() => {\n    var _a3;\n    const elm = rContextBar.current;\n    if (!elm)\n      return;\n    const size = (_a3 = rSize.current) != null ? _a3 : [0, 0];\n    const [x2, y2] = getContextBarTranslation(size, offsets);\n    elm.style.transform = `translateX(${x2}px) translateY(${y2}px)`;\n  }, [offsets]);\n  if (!app)\n    return null;\n  const Actions = getContextBarActionsForShapes(shapes2);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(HTMLContainer, {\n    centered: true,\n    children: Actions.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(\"div\", {\n      ref: rContextBar,\n      className: \"tl-toolbar tl-context-bar\",\n      style: {\n        visibility: hidden ? \"hidden\" : \"visible\",\n        pointerEvents: hidden ? \"none\" : \"all\"\n      },\n      children: Actions.map((Action, idx) => \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsxs)(React62.Fragment, {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(Action, {}),\n          idx < Actions.length - 1 && \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(LSUI11.Separator, {\n            orientation: \"vertical\"\n          })\n        ]\n      }, idx))\n    })\n  });\n};\nvar ContextBar = observer(_ContextBar);\n\n\/\/ src\/components\/ContextMenu\/ContextMenu.tsx\nvar React63 = __toESM(require(\"react\"));\nvar import_jsx_runtime80 = require(\"react\/jsx-runtime\");\nvar LSUI12 = window.LSUI;\nvar ContextMenu = observer(function ContextMenu2({\n  children,\n  collisionRef\n}) {\n  var _a3, _b, _c, _d, _e2, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n  const app = useApp();\n  const { handlers } = React63.useContext(LogseqContext);\n  const t = handlers.t;\n  const rContent = React63.useRef(null);\n  const runAndTransition = (f2) => {\n    f2();\n    app.transition(\"select\");\n  };\n  const developerMode = React63.useMemo(() => {\n    return isDev();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenu, {\n    onOpenChange: (open) => {\n      if (open && !app.isIn(\"select.contextMenu\")) {\n        app.transition(\"select\").selectedTool.transition(\"contextMenu\");\n      } else if (!open && app.isIn(\"select.contextMenu\")) {\n        app.selectedTool.transition(\"idle\");\n      }\n    },\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuTrigger, {\n        disabled: app.editingShape && Object.keys(app.editingShape).length !== 0,\n        children\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuContent, {\n        className: \"tl-menu tl-context-menu\",\n        ref: rContent,\n        onEscapeKeyDown: () => app.transition(\"select\"),\n        collisionBoundary: collisionRef.current,\n        asChild: true,\n        tabIndex: -1,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n          children: [\n            ((_a3 = app.selectedShapes) == null ? void 0 : _a3.size) > 1 && !app.readOnly && ((_b = app.selectedShapesArray) == null ? void 0 : _b.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-button-row-wrap\",\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n                      className: \"tl-menu-button-row pb-0\",\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-left\"),\n                          onClick: () => runAndTransition(() => app.align(\"left\" \/* Left *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-left\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-center-horizontally\"),\n                          onClick: () => runAndTransition(() => app.align(\"centerHorizontal\" \/* CenterHorizontal *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-center\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-right\"),\n                          onClick: () => runAndTransition(() => app.align(\"right\" \/* Right *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-right\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.Separator, {\n                          className: \"tl-toolbar-separator\",\n                          orientation: \"vertical\"\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/distribute-horizontally\"),\n                          onClick: () => runAndTransition(() => app.distribute(\"horizontal\" \/* Horizontal *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-distribute-vertical\"\n                          })\n                        })\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n                      className: \"tl-menu-button-row pt-0\",\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-top\"),\n                          onClick: () => runAndTransition(() => app.align(\"top\" \/* Top *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-top\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-center-vertically\"),\n                          onClick: () => runAndTransition(() => app.align(\"centerVertical\" \/* CenterVertical *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-middle\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-bottom\"),\n                          onClick: () => runAndTransition(() => app.align(\"bottom\" \/* Bottom *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-bottom\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.Separator, {\n                          className: \"tl-toolbar-separator\",\n                          orientation: \"vertical\"\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/distribute-vertically\"),\n                          onClick: () => runAndTransition(() => app.distribute(\"vertical\" \/* Vertical *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-distribute-horizontal\"\n                          })\n                        })\n                      ]\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.packIntoRectangle),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"layout-grid\"\n                    }),\n                    t(\"whiteboard\/pack-into-rectangle\")\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            ((_c = app.selectedShapes) == null ? void 0 : _c.size) > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.zoomToSelection),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"circle-dotted\"\n                    }),\n                    t(\"whiteboard\/zoom-to-fit\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/zoom-to-fit\"\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            (app.selectedShapesArray.some((s2) => s2.type === \"group\" || app.getParentGroup(s2)) || app.selectedShapesArray.length > 1) && ((_d = app.selectedShapesArray) == null ? void 0 : _d.some((s2) => !s2.props.isLocked)) && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                app.selectedShapesArray.some((s2) => s2.type === \"group\" || app.getParentGroup(s2)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.unGroup),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"ungroup\"\n                    }),\n                    t(\"whiteboard\/ungroup\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/ungroup\"\n                    })\n                  ]\n                }),\n                app.selectedShapesArray.length > 1 && ((_e2 = app.selectedShapesArray) == null ? void 0 : _e2.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.doGroup),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"group\"\n                    }),\n                    t(\"whiteboard\/group\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/group\"\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            ((_f = app.selectedShapes) == null ? void 0 : _f.size) > 0 && ((_g = app.selectedShapesArray) == null ? void 0 : _g.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.cut),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"cut\"\n                    }),\n                    t(\"whiteboard\/cut\")\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.copy),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"copy\"\n                    }),\n                    t(\"whiteboard\/copy\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"editor\/copy\"\n                    })\n                  ]\n                })\n              ]\n            }),\n            !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.paste),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"clipboard\"\n                }),\n                t(\"whiteboard\/paste\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  shortcut: `${MOD_KEY}+v`\n                })\n              ]\n            }),\n            ((_h = app.selectedShapes) == null ? void 0 : _h.size) === 1 && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.paste(void 0, true)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/paste-as-link\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  shortcut: `${MOD_KEY}+\\u21E7+v`\n                })\n              ]\n            }),\n            ((_i = app.selectedShapes) == null ? void 0 : _i.size) > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(\n                    () => {\n                      var _a4, _b2;\n                      return handlers.exportToImage(app.currentPageId, {\n                        x: app.selectionBounds.minX + app.viewport.camera.point[0] - EXPORT_PADDING,\n                        y: app.selectionBounds.minY + app.viewport.camera.point[1] - EXPORT_PADDING,\n                        width: ((_a4 = app.selectionBounds) == null ? void 0 : _a4.width) + EXPORT_PADDING * 2,\n                        height: ((_b2 = app.selectionBounds) == null ? void 0 : _b2.height) + EXPORT_PADDING * 2,\n                        zoom: app.viewport.camera.zoom\n                      });\n                    }\n                  ),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"file-export\"\n                    }),\n                    t(\"whiteboard\/export\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(\"div\", {\n                      className: \"tl-menu-right-slot\",\n                      children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(\"span\", {\n                        className: \"keyboard-shortcut\"\n                      })\n                    })\n                  ]\n                })\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n              className: \"menu-separator\"\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.api.selectAll),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/select-all\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"editor\/select-parent\"\n                })\n              ]\n            }),\n            ((_j = app.selectedShapes) == null ? void 0 : _j.size) > 1 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.api.deselectAll),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/deselect-all\")\n              ]\n            }),\n            !app.readOnly && ((_k = app.selectedShapes) == null ? void 0 : _k.size) > 0 && ((_l = app.selectedShapesArray) == null ? void 0 : _l.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.setLocked(true)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"lock\"\n                }),\n                t(\"whiteboard\/lock\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"whiteboard\/lock\"\n                })\n              ]\n            }),\n            !app.readOnly && ((_m = app.selectedShapes) == null ? void 0 : _m.size) > 0 && ((_n = app.selectedShapesArray) == null ? void 0 : _n.some((s2) => s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.setLocked(false)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"lock-open\"\n                }),\n                t(\"whiteboard\/unlock\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"whiteboard\/unlock\"\n                })\n              ]\n            }),\n            ((_o = app.selectedShapes) == null ? void 0 : _o.size) > 0 && !app.readOnly && ((_p = app.selectedShapesArray) == null ? void 0 : _p.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.deleteShapes),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"backspace\"\n                    }),\n                    t(\"whiteboard\/delete\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"editor\/delete\"\n                    })\n                  ]\n                }),\n                ((_q = app.selectedShapes) == null ? void 0 : _q.size) > 1 && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                      className: \"menu-separator\"\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.flipHorizontal),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"flip-horizontal\"\n                        }),\n                        t(\"whiteboard\/flip-horizontally\")\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.flipVertical),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"flip-vertical\"\n                        }),\n                        t(\"whiteboard\/flip-vertically\")\n                      ]\n                    })\n                  ]\n                }),\n                !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                      className: \"menu-separator\"\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.bringToFront),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"circle-dotted\"\n                        }),\n                        t(\"whiteboard\/move-to-front\"),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                          action: \"whiteboard\/bring-to-front\"\n                        })\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.sendToBack),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"circle-dotted\"\n                        }),\n                        t(\"whiteboard\/move-to-back\"),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                          action: \"whiteboard\/send-to-back\"\n                        })\n                      ]\n                    })\n                  ]\n                }),\n                developerMode && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => {\n                    if (app.selectedShapesArray.length === 1) {\n                      console.log(toJS(app.selectedShapesArray[0].serialized));\n                    } else {\n                      console.log(app.selectedShapesArray.map((s2) => toJS(s2.serialized)));\n                    }\n                  },\n                  children: t(\"whiteboard\/dev-print-shape-props\")\n                })\n              ]\n            })\n          ]\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/QuickLinks\/QuickLinks.tsx\nvar import_react56 = __toESM(require(\"react\"));\nvar import_jsx_runtime81 = require(\"react\/jsx-runtime\");\nvar QuickLinks = observer(({ shape }) => {\n  const app = useApp();\n  const { handlers } = import_react56.default.useContext(LogseqContext);\n  const t = handlers.t;\n  const links = import_react56.default.useMemo(() => {\n    var _a3;\n    const links2 = [...(_a3 = shape.props.refs) != null ? _a3 : []].map(\n      (l3) => [l3, true]\n    );\n    if (shape.props.type === \"logseq-portal\" && shape.props.pageId) {\n      links2.unshift([shape.props.pageId, false]);\n    }\n    return links2.filter(\n      (link) => link[0].toLowerCase() !== app.currentPage.id && link[0] !== shape.props.pageId\n    );\n  }, [shape.props.id, shape.props.type, shape.props.parentId, shape.props.refs]);\n  if (links.length === 0)\n    return null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(\"div\", {\n    className: \"tl-quick-links\",\n    title: t(\"whiteboard\/shape-quick-links\"),\n    children: links.map(([ref, showReferenceContent]) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(\"div\", {\n        className: \"tl-quick-links-row\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(BlockLink, {\n          id: ref,\n          showReferenceContent\n        })\n      }, ref);\n    })\n  });\n});\n\n\/\/ src\/hooks\/useDrop.ts\nvar React66 = __toESM(require(\"react\"));\n\n\/\/ src\/hooks\/usePaste.ts\nvar React65 = __toESM(require(\"react\"));\nvar isValidURL = (url) => {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.host && [\"http:\", \"https:\"].includes(parsedUrl.protocol);\n  } catch (e) {\n    return false;\n  }\n};\nvar assetExtensions = {\n  image: [\".png\", \".svg\", \".jpg\", \".jpeg\", \".gif\"],\n  video: [\".mp4\", \".webm\", \".ogg\"],\n  pdf: [\".pdf\"]\n};\nfunction getFileType(filename) {\n  var _a3;\n  const extensionMatch = filename.match(\/\\.[0-9a-z]+$\/i);\n  if (!extensionMatch)\n    return \"unknown\";\n  const extension = extensionMatch[0].toLowerCase();\n  const [type, _extensions] = (_a3 = Object.entries(assetExtensions).find(\n    ([_type, extensions]) => extensions.includes(extension)\n  )) != null ? _a3 : [\"unknown\", null];\n  return type;\n}\nfunction tryCreateShapeHelper(...fns) {\n  return (...args) => __async(this, null, function* () {\n    for (const fn of fns) {\n      const result = yield fn(...args);\n      if (result && result.length > 0) {\n        return result;\n      }\n    }\n    return null;\n  });\n}\nfunction getDataFromType(item, type) {\n  return __async(this, null, function* () {\n    if (!item.types.includes(type)) {\n      return null;\n    }\n    if (item instanceof DataTransfer) {\n      return item.getData(type);\n    }\n    const blob = yield item.getType(type);\n    return yield blob.text();\n  });\n}\nvar handleCreatingShapes = (_0, _1, _2) => __async(void 0, [_0, _1, _2], function* (app, { point, shiftKey, dataTransfer, fromDrop }, handlers) {\n  var _a3, _b;\n  let imageAssetsToCreate = [];\n  let assetsToClone = [];\n  const bindingsToCreate = [];\n  function createAssetsFromURL(url, type) {\n    return __async(this, null, function* () {\n      const existingAsset = Object.values(app.assets).find((asset2) => asset2.src === url);\n      if (existingAsset) {\n        return existingAsset;\n      }\n      const asset = {\n        id: uniqueId(),\n        type,\n        src: url,\n        size: yield getSizeFromSrc(handlers.makeAssetUrl(url), type)\n      };\n      return asset;\n    });\n  }\n  function createAssetsFromFiles(files) {\n    return __async(this, null, function* () {\n      const tasks = files.filter((file) => getFileType(file.name) !== \"unknown\").map((file) => __async(this, null, function* () {\n        try {\n          const dataurl = yield handlers.saveAsset(file);\n          return yield createAssetsFromURL(dataurl, getFileType(file.name));\n        } catch (err) {\n          console.error(err);\n        }\n        return null;\n      }));\n      return (yield Promise.all(tasks)).filter(isNonNullable);\n    });\n  }\n  function createHTMLShape(text) {\n    return [\n      __spreadProps(__spreadValues({}, HTMLShape.defaultProps), {\n        html: text,\n        point: [point[0], point[1]]\n      })\n    ];\n  }\n  function tryCreateShapesFromDataTransfer(dataTransfer2) {\n    return __async(this, null, function* () {\n      return tryCreateShapeHelper(\n        tryCreateShapeFromFilePath,\n        tryCreateShapeFromFiles,\n        tryCreateShapeFromPageName,\n        tryCreateShapeFromBlockUUID,\n        tryCreateShapeFromTextPlain,\n        tryCreateShapeFromTextHTML,\n        tryCreateLogseqPortalShapesFromString\n      )(dataTransfer2);\n    });\n  }\n  function tryCreateShapesFromClipboard() {\n    return __async(this, null, function* () {\n      const items = yield navigator.clipboard.read();\n      const createShapesFn = tryCreateShapeHelper(\n        tryCreateShapeFromTextPlain,\n        tryCreateShapeFromTextHTML,\n        tryCreateLogseqPortalShapesFromString\n      );\n      const allShapes = (yield Promise.all(items.map((item) => createShapesFn(item)))).flat().filter(isNonNullable);\n      return allShapes;\n    });\n  }\n  function tryCreateShapeFromFilePath(item) {\n    return __async(this, null, function* () {\n      const file = item.getData(\"file\");\n      if (!file)\n        return null;\n      const asset = yield createAssetsFromURL(file, \"pdf\");\n      app.addAssets([asset]);\n      const newShape = __spreadProps(__spreadValues({}, PdfShape.defaultProps), {\n        id: uniqueId(),\n        assetId: asset.id,\n        url: file,\n        opacity: 1\n      });\n      if (asset.size) {\n        Object.assign(newShape, {\n          point: [point[0] - asset.size[0] \/ 4 + 16, point[1] - asset.size[1] \/ 4 + 16],\n          size: src_default.div(asset.size, 2)\n        });\n      }\n      return [newShape];\n    });\n  }\n  function tryCreateShapeFromFiles(item) {\n    return __async(this, null, function* () {\n      const files = Array.from(item.files);\n      if (files.length > 0) {\n        const assets = yield createAssetsFromFiles(files);\n        imageAssetsToCreate = assets;\n        return assets.map((asset, i2) => {\n          let defaultProps = null;\n          switch (asset.type) {\n            case \"video\":\n              defaultProps = VideoShape.defaultProps;\n              break;\n            case \"image\":\n              defaultProps = ImageShape.defaultProps;\n              break;\n            case \"pdf\":\n              defaultProps = PdfShape.defaultProps;\n              break;\n            default:\n              return null;\n          }\n          const newShape = __spreadProps(__spreadValues({}, defaultProps), {\n            id: uniqueId(),\n            assetId: asset.id,\n            opacity: 1\n          });\n          if (asset.size) {\n            Object.assign(newShape, {\n              point: [point[0] - asset.size[0] \/ 4 + i2 * 16, point[1] - asset.size[1] \/ 4 + i2 * 16],\n              size: src_default.div(asset.size, 2)\n            });\n          }\n          return newShape;\n        });\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromTextHTML(item) {\n    return __async(this, null, function* () {\n      if (item.types.includes(\"text\/plain\") && (shiftKey || fromDrop)) {\n        return null;\n      }\n      const rawText = yield getDataFromType(item, \"text\/html\");\n      if (rawText) {\n        return tryCreateShapeHelper(tryCreateClonedShapesFromJSON, createHTMLShape)(rawText);\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromBlockUUID(dataTransfer2) {\n    return __async(this, null, function* () {\n      var _a4, _b2, _c, _d, _e2, _f;\n      const rawText = dataTransfer2.getData(\"block-uuid\");\n      if (rawText) {\n        const text = rawText.trim();\n        const allSelectedBlocks = (_c = (_b2 = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b2.get_selected_blocks) == null ? void 0 : _c.call(_b2);\n        const blockUUIDs = allSelectedBlocks && (allSelectedBlocks == null ? void 0 : allSelectedBlocks.length) > 1 ? allSelectedBlocks.map((b3) => b3.uuid) : [text];\n        (_f = (_e2 = (_d = window.logseq) == null ? void 0 : _d.api) == null ? void 0 : _e2.set_blocks_id) == null ? void 0 : _f.call(_e2, blockUUIDs);\n        const tasks = blockUUIDs.map((uuid) => tryCreateLogseqPortalShapesFromUUID(`((${uuid}))`));\n        const newShapes2 = (yield Promise.all(tasks)).flat().filter(isNonNullable);\n        return newShapes2.map((s2, idx) => {\n          return __spreadProps(__spreadValues({}, s2), {\n            point: [point[0] + (LogseqPortalShape.defaultProps.size[0] + 16) * idx, point[1]]\n          });\n        });\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromPageName(dataTransfer2) {\n    return __async(this, null, function* () {\n      const rawText = dataTransfer2.getData(\"page-name\");\n      if (rawText) {\n        const text = rawText.trim();\n        return tryCreateLogseqPortalShapesFromUUID(`[[${text}]]`);\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromTextPlain(item) {\n    return __async(this, null, function* () {\n      const rawText = yield getDataFromType(item, \"text\/plain\");\n      if (rawText) {\n        const text = rawText.trim();\n        return tryCreateShapeHelper(tryCreateShapeFromURL, tryCreateShapeFromIframeString)(text);\n      }\n      return null;\n    });\n  }\n  function tryCreateClonedShapesFromJSON(rawText) {\n    const result = app.api.getClonedShapesFromTldrString(decodeURIComponent(rawText), point);\n    if (result) {\n      const { shapes: shapes2, assets, bindings } = result;\n      assetsToClone.push(...assets);\n      bindingsToCreate.push(...bindings);\n      return shapes2;\n    }\n    return null;\n  }\n  function tryCreateShapeFromURL(rawText) {\n    return __async(this, null, function* () {\n      if (isValidURL(rawText) && !shiftKey) {\n        if (YOUTUBE_REGEX.test(rawText)) {\n          return [\n            __spreadProps(__spreadValues({}, YouTubeShape.defaultProps), {\n              url: rawText,\n              point: [point[0], point[1]]\n            })\n          ];\n        }\n        if (X_OR_TWITTER_REGEX.test(rawText)) {\n          return [\n            __spreadProps(__spreadValues({}, TweetShape.defaultProps), {\n              url: rawText,\n              point: [point[0], point[1]]\n            })\n          ];\n        }\n        return [\n          __spreadProps(__spreadValues({}, IFrameShape.defaultProps), {\n            url: rawText,\n            point: [point[0], point[1]]\n          })\n        ];\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromIframeString(rawText) {\n    if (rawText.startsWith(\"<iframe\")) {\n      return [\n        __spreadProps(__spreadValues({}, HTMLShape.defaultProps), {\n          html: rawText,\n          point: [point[0], point[1]]\n        })\n      ];\n    }\n    return null;\n  }\n  function tryCreateLogseqPortalShapesFromUUID(rawText) {\n    return __async(this, null, function* () {\n      if (\/^\\(\\(.*\\)\\)$\/.test(rawText) && rawText.length === nil_default.length + 4) {\n        const blockRef = rawText.slice(2, -2);\n        if (validUUID(blockRef)) {\n          return [\n            __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n              point: [point[0], point[1]],\n              size: [400, 0],\n              pageId: blockRef,\n              fill: app.settings.color,\n              stroke: app.settings.color,\n              scaleLevel: app.settings.scaleLevel,\n              blockType: \"B\"\n            })\n          ];\n        }\n      } else if (\/^\\[\\[.*\\]\\]$\/.test(rawText)) {\n        const pageName = rawText.slice(2, -2);\n        return [\n          __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n            point: [point[0], point[1]],\n            size: [400, 0],\n            pageId: pageName,\n            fill: app.settings.color,\n            stroke: app.settings.color,\n            scaleLevel: app.settings.scaleLevel,\n            blockType: \"P\"\n          })\n        ];\n      }\n      return null;\n    });\n  }\n  function tryCreateLogseqPortalShapesFromString(item) {\n    return __async(this, null, function* () {\n      const rawText = yield getDataFromType(item, \"text\/plain\");\n      if (rawText) {\n        const text = rawText.trim();\n        const uuid = yield handlers == null ? void 0 : handlers.addNewBlock(text);\n        if (uuid) {\n          return [\n            __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n              size: [400, 0],\n              point: [point[0], point[1]],\n              pageId: uuid,\n              fill: app.settings.color,\n              stroke: app.settings.color,\n              scaleLevel: app.settings.scaleLevel,\n              blockType: \"B\",\n              compact: true\n            })\n          ];\n        }\n      }\n      return null;\n    });\n  }\n  app.cursors.setCursor(\"progress\" \/* Progress *\/);\n  let newShapes = [];\n  try {\n    if (dataTransfer) {\n      newShapes.push(...(_a3 = yield tryCreateShapesFromDataTransfer(dataTransfer)) != null ? _a3 : []);\n    } else {\n      newShapes.push(...(_b = yield tryCreateShapesFromClipboard()) != null ? _b : []);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  const allShapesToAdd = newShapes.map((shape) => {\n    return __spreadProps(__spreadValues({}, shape), {\n      parentId: app.currentPageId,\n      isLocked: false,\n      id: validUUID(shape.id) ? shape.id : uniqueId()\n    });\n  });\n  const filesOnly = dataTransfer == null ? void 0 : dataTransfer.types.every((t) => t === \"Files\");\n  app.wrapUpdate(() => {\n    const allAssets = [...imageAssetsToCreate, ...assetsToClone];\n    if (allAssets.length > 0) {\n      app.createAssets(allAssets);\n    }\n    if (allShapesToAdd.length > 0) {\n      app.createShapes(allShapesToAdd);\n    }\n    app.currentPage.updateBindings(Object.fromEntries(bindingsToCreate.map((b3) => [b3.id, b3])));\n    if (app.selectedShapesArray.length === 1 && allShapesToAdd.length === 1 && fromDrop) {\n      const source = app.selectedShapesArray[0];\n      const target = app.getShapeById(allShapesToAdd[0].id);\n      app.createNewLineBinding(source, target);\n    }\n    app.setSelectedShapes(allShapesToAdd.map((s2) => s2.id));\n    app.selectedTool.transition(\"idle\");\n    app.cursors.setCursor(\"default\" \/* Default *\/);\n    if (fromDrop || filesOnly) {\n      app.packIntoRectangle();\n    }\n  });\n});\nfunction usePaste() {\n  const { handlers } = React65.useContext(LogseqContext);\n  return React65.useCallback((app, info) => __async(this, null, function* () {\n    if (info.shiftKey && app.selectedShapesArray.length === 1) {\n      const items = yield navigator.clipboard.read();\n      let newRef;\n      if (items.length > 0) {\n        const blob = yield items[0].getType(\"text\/plain\");\n        const rawText = (yield blob.text()).trim();\n        if (rawText) {\n          if (\/^\\(\\(.*\\)\\)$\/.test(rawText) && rawText.length === nil_default.length + 4) {\n            const blockRef = rawText.slice(2, -2);\n            if (validUUID(blockRef)) {\n              newRef = blockRef;\n            }\n          } else if (\/^\\[\\[.*\\]\\]$\/.test(rawText)) {\n            newRef = rawText.slice(2, -2);\n          }\n        }\n      }\n      if (newRef) {\n        app.selectedShapesArray[0].update({\n          refs: [newRef]\n        });\n        app.persist();\n        return;\n      }\n    }\n    handleCreatingShapes(app, info, handlers);\n  }), []);\n}\n\n\/\/ src\/hooks\/useDrop.ts\nfunction useDrop() {\n  const handlePaste = usePaste();\n  return React66.useCallback(\n    (_0, _1) => __async(this, [_0, _1], function* (app, { dataTransfer, point }) {\n      handlePaste(app, { point, shiftKey: false, dataTransfer, fromDrop: true });\n    }),\n    []\n  );\n}\n\n\/\/ src\/hooks\/useCopy.ts\nvar React67 = __toESM(require(\"react\"));\nfunction useCopy() {\n  const { handlers } = React67.useContext(LogseqContext);\n  return React67.useCallback((app, { text, html }) => {\n    handlers.copyToClipboard(text, html);\n  }, []);\n}\n\n\/\/ src\/hooks\/useQuickAdd.ts\nvar import_react57 = __toESM(require(\"react\"));\nfunction useQuickAdd() {\n  return import_react57.default.useCallback((app) => __async(this, null, function* () {\n    setTimeout(() => {\n      app.transition(\"logseq-portal\").selectedTool.transition(\"creating\");\n    }, 100);\n  }), []);\n}\n\n\/\/ src\/app.tsx\nvar import_jsx_runtime82 = require(\"react\/jsx-runtime\");\nvar tools = [\n  BoxTool,\n  EllipseTool,\n  PolygonTool,\n  NuEraseTool,\n  HighlighterTool,\n  LineTool,\n  PencilTool,\n  TextTool,\n  YouTubeTool,\n  IFrameTool,\n  HTMLTool,\n  LogseqPortalTool\n];\nvar BacklinksCount = (props) => {\n  const { renderers } = React69.useContext(LogseqContext);\n  const options = { \"portal?\": false };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(renderers.BacklinksCount, __spreadProps(__spreadValues({}, props), {\n    options\n  }));\n};\nvar AppImpl = () => {\n  const ref = React69.useRef(null);\n  const app = useApp();\n  const components = React69.useMemo(\n    () => ({\n      ContextBar,\n      BacklinksCount,\n      QuickLinks\n    }),\n    []\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(ContextMenu, {\n    collisionRef: ref,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(\"div\", {\n      ref,\n      className: \"logseq-tldraw logseq-tldraw-wrapper\",\n      \"data-tlapp\": app.uuid,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppCanvas, {\n        components,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppUI, {})\n      })\n    })\n  });\n};\nvar AppInner = (_a3) => {\n  var _b = _a3, {\n    onPersist,\n    readOnly,\n    model\n  } = _b, rest = __objRest(_b, [\n    \"onPersist\",\n    \"readOnly\",\n    \"model\"\n  ]);\n  const onDrop = useDrop();\n  const onPaste = usePaste();\n  const onCopy = useCopy();\n  const onQuickAdd = readOnly ? null : useQuickAdd();\n  const onPersistOnDiff = React69.useCallback(\n    (app, info) => {\n      onPersist == null ? void 0 : onPersist(app, info);\n    },\n    [model]\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppProvider, __spreadProps(__spreadValues({\n    Shapes: shapes,\n    Tools: tools,\n    onDrop,\n    onPaste,\n    onCopy,\n    readOnly,\n    onCanvasDBClick: onQuickAdd,\n    onPersist: onPersistOnDiff,\n    model\n  }, rest), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppImpl, {})\n  }));\n};\nvar App3 = function App4(_a3) {\n  var _b = _a3, { renderers, handlers } = _b, rest = __objRest(_b, [\"renderers\", \"handlers\"]);\n  const memoRenders = React69.useMemo(() => {\n    return Object.fromEntries(\n      Object.entries(renderers).map(([key, comp]) => {\n        return [key, React69.memo(comp)];\n      })\n    );\n  }, []);\n  const contextValue = {\n    renderers: memoRenders,\n    handlers\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(LogseqContext.Provider, {\n    value: contextValue,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppInner, __spreadValues({}, rest))\n  });\n};\n\/*!\n * is-plain-object <https:\/\/github.com\/jonschlinkert\/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n *\/\n\n};"],"names":["shadow$provide","global","require","module","exports","rng","getRandomValues","crypto","bind","Error","rnds8","unsafeStringify","arr","offset","toLowerCase","byteToHex","potpack","boxes","area","maxWidth","box2","w","h","Math","max","sort","a3","b3","spaces","x","y","startWidth","ceil","sqrt","Infinity","height","width","i2","length","space","last","pop","push","fill","createIntersection","message","points","didIntersect","getRectangleSides","point","size","rotation","center","tl","Vec","rotWith","tr","add","br","bl","intersectRayLineSegment","origin","direction","a1","a22","x2","y2","dx","dy","x1","y1","x22","y22","d2","r2","s2","intersectRayRectangle","intersectRectangleRay","intersectRayBounds","bounds","minX","minY","intersectLineSegmentLineSegment","b1","b22","AB","sub","BV","AV","ua_t","ub_t","u_b","ua","ub","mul","intersectLineSegmentCircle","c2","deter","e","u1","u2","results","lrp","intersectLineSegmentEllipse","rx","ry","isEqual","diff","A3","B3","tValues","discriminant","root","filter","t","map","p2","intersectLineSegmentPolyline","pts","int","reduce","sideIntersections","acc","intersection","intersectRectangleLineSegment","intersectRectangleCircle","__spreadProps","__spreadValues","intersectRectangleEllipse","intersectRectanglePolyline","intersectRectanglePolygon","intersectEllipseRectangle","intersectBoundsLineSegment","die","error","_len","arguments","args","Array","_key","String","join","getGlobal","globalThis","window","self","mockGlobal","assertProxies","hasProxy","once","func","invoked","apply","isFunction","fn","isStringish","value","isObject","isPlainObject","proto","Object","getPrototypeOf","protoConstructor","hasOwnProperty","call","constructor","toString","plainObjectString","isGenerator","obj","name","displayName","addHiddenProp","object2","propName","defineProperty","enumerable","writable","configurable","addHiddenFinalProp","createInstanceofPredicate","theClass","prototype","isES6Map","thing","Map","isES6Set","Set","getPlainObjectKeys","keys","hasGetOwnPropertySymbols","symbols","getOwnPropertySymbols","concat","objectPrototype","propertyIsEnumerable","toPrimitive","hasProp","target","prop","_defineProperties","props","descriptor","key","_createClass","Constructor","protoProps","staticProps","_extends","assign","source","_inheritsLoose","subClass","superClass","create","_setPrototypeOf","o2","setPrototypeOf","_setPrototypeOf3","o3","p3","__proto__","_assertThisInitialized","self2","ReferenceError","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n2","slice","from","test","len","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it2","Symbol","iterator","next","isArray","done","TypeError","createDecoratorAnnotation","annotation","decorator","property","storeAnnotation","storedAnnotationsSymbol","annotationType_","OVERRIDE","collectStoredAnnotations","createAtom","onBecomeObservedHandler","onBecomeUnobservedHandler","noop","atom","Atom","interceptHook","ON_BECOME_OBSERVED","arg3","onBecomeUnobserved","deepEnhancer","v2","_2","_isObservable","observable","array","object","set","isAction","isFlow","flow","autoAction","referenceEnhancer","newValue","createActionAnnotation","options","options_","make_","make_$1","extend_","extend_$1","adm","_this$options_","bound","target_","actionDescriptor","createActionDescriptor","proxyTrap","defineProperty_","safeDescriptors","_annotation$options_","_annotation$options_$","_annotation$options_2","_annotation$options_$2","_annotation$options_3","_annotation$options_4","_adm$proxy_2","globalState","_adm$proxy_","proxy_","createAction","isPlainObject_","createFlowAnnotation","make_$2","extend_$2","flowDescriptor","createFlowDescriptor","_this$options_2","isMobXFlow","createComputedAnnotation","make_$3","extend_$3","defineComputedProperty_","get","createObservableAnnotation","make_$4","extend_$4","_this$options_$enhanc","defineObservableProperty_","enhancer","createAutoAnnotation","AUTO","make_$5","extend_$5","_this$options_3","_this$options_4","computed","set4","flowAnnotation2","autoBind","actionAnnotation2","observableAnnotation2","deep","ref","_this$options_5","_this$options_6","getEnhancerFromOptions","createObservable","arg2","observableAnnotation","box","actionName","autoAction2","res","prevDerivation_","trackingDerivation","runAsAction","startBatch","prevAllowStateChanges_","allowStateChanges","untrackedStart","allowStateChangesStart","prevAllowStateReads_","allowStateReadsStart","nextActionId","currentActionId","actionId_","scope","err","error_","parentActionId_","suppressReactionErrors","allowStateReads","endBatch","isMobxAction","isFunctionNameConfigurable","tmpNameDescriptor","allowStateChanges2","prev","shouldCompute","derivation","dependenciesState_","IDerivationState_","UP_TO_DATE_","NOT_TRACKING_","STALE_","POSSIBLY_STALE_","prevAllowStateReads","prevUntracked","obs","observing_","l3","isComputedValue","disableErrorBoundaries","changeDependenciesStateTo0","trackDerivedFunction","f2","context","newObserving_","unboundDepsCount_","runId_","runId","prevTracking","inBatch","result","CaughtException","prevObserving","observing","lowestNewObservingDerivationState","i0","dep","diffValue_","_dep","removeObserver","_dep2","observable2","observers_","node","lowestObserverState_","onBecomeStale_","clearObserving","untracked","action2","isolateGlobalState","pendingReactions","isRunningReactions","isolateCalled","canMergeGlobalState","global2","__mobxInstanceCount","__mobxGlobals","MobXGlobals","queueForUnobservation","isPendingUnobservation_","pendingUnobservations","reactionScheduler","runReactionsHelper","list","isBeingObserved_","onBUO","ComputedValue","suspend_","reportObserved","lastAccessedBy_","trackingContext","onBO","propagateChanged","forEach","propagateChangeConfirmed","propagateMaybeChanged","allReactions","iterations","MAX_REACTION_ITERATIONS","console","splice","remainingReactions","runReaction_","setReactionScheduler","baseScheduler","spy","listener","warn","createActionFactory","arg1","DEFAULT_ACTION_NAME","autoActionAnnotation","actionAnnotation","AUTOACTION","ACTION","autorun","view","opts","reactionRunner","reaction2","_opts$name","_opts","EMPTY_OBJECT2","scheduler","delay","createSchedulerFromOptions","isScheduled","Reaction","isDisposed_","track","onError","requiresObservable","schedule_","getDisposer_","setTimeout","run","reaction","expression","effect","changed","nextValue","firstTime","equals","oldValue","fireImmediately","effectAction","_opts$name2","action","wrapErrorHandler","runSync","compareStructural","comparer","structural","errorHandler","baseFn","ON_BECOME_UNOBSERVED","hook","getAtom","cb","listenersKey","hookListeners","configure","useProxies","enforceActions","ALWAYS","NEVER","Proxy","verifyProxies","ea","OBSERVED","observableRequiresReaction","extendObservable","properties","annotations","descriptors","getOwnPropertyDescriptors","asObservableObject","$mobx","ownKeys","nodeToDependencyTree","name_","dependencies","FlowCancellationError","isObservableObject","values_","has","isAtom","isReaction","apiOwnKeys","ownKeys_","cache","map3","toJSHelper","__alreadySeen","Date","isObservableValue","isObservableArray","idx","isObservableSet","_res","isObservableMap","_res2","_res3","toJS","trace","enterBreakPoint","isTracing_","TraceMode","NONE","log","BREAK","LOG","transaction","thisArg","hasInterceptors","interceptable","interceptors_","registerInterceptor","handler","interceptors","indexOf","interceptChange","change","prevU","type","hasListeners","listenable","changeListeners_","registerListener","listeners","notifyListeners","makeObservable","_annotations","createObservableArray","initialValues","owned","ObservableArrayAdministration","proxy","arrayTraps","spliceWithArray_","addArrayExtension","funcName","funcFactory","arrayExtensions","simpleFunc","atom_","dehancedValues","dehanceValues_","mapLikeFunc","callback","_this2","element","index2","reduceLikeFunc","_this3","accumulator","currentValue","isObservableArrayAdministration","convertToMap","dataStructure","_options$name","ObservableObjectAdministration","_options$defaultDecor","defaultDecorator","getCachedObservablePropDescriptor","descriptorCache","get3","getObservablePropValue_","setObservablePropValue_","isObservableObjectAdministration","createArrayEntryDescriptor","get_","set_","reserveArrayBuffer","OBSERVABLE_ARRAY_BUFFER_SIZE","LegacyObservableArray","createLegacyArray","keysAtom_","data_","hasMap_","getDebugName","_observable","getAdministration","named","deepEqual","depth","eq","aStack","bStack","className","valueOf","unwrap","areArrays","aCtor","bCtor","entries","makeIterable","getSelf","getRelatedBindings","bindings","ids","changedShapeIds","bindingsArr","values","bindingsToUpdate","binding","toId","fromId","prevSize","delta","otherBinding","findBindingPoint","shape","handleId","bindingId","bindAnywhere","bindingPoint","getBindingPoint","id","src_default","toFixed","distance","createNewLineBinding","cs","getCenter","ct2","lineId","v1_default","lineShape","TLLineShape","defaultProps","parentId","startBinding","uni","endBinding","handles","start","end","createCacheLegacy","LegacyCache","createCacheModern","WeakMap","getCleanClone","toStringFunction","_a3","getRegExpFlagsLegacy","regExp","flags","ignoreCase","multiline","unicode","sticky","getRegExpFlagsModern","getTagLegacy","toStringObject","substring","getTagModern","toStringTag","getStrictPropertiesModern","getOwnPropertyNames","copyOwnPropertiesStrict","clone","state","getStrictProperties","length_1","getOwnPropertyDescriptor","copier","defineProperty3","copyMapLoose","copyObjectLooseLegacy","copyObjectLooseModern","length_3","symbol","copyPrimitiveWrapper","primitiveObject","copySelf","_state","copySetLoose","createCopier","array2","tagSpecificCopier","tagSpecificCopiers","getTag","then","normalizedOptions","assign2","DEFAULT_LOOSE_OPTIONS","Arguments","ArrayBuffer","arrayBuffer","Blob","blob","Boolean","DataView","dataView","date","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Number","Promise","RegExp","WeakSet","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Uint64Array","copy","createCache","deepMerge","import_deepmerge","default","arrayMerge","destinationArray","sourceArray","modulate","rangeA","rangeB","clamp3","fromLow","fromHigh","v0","v12","min","getSizeFromSrc","dataURL","resolve","reject","video","document","createElement","addEventListener","videoWidth","videoHeight","src","img","Image","onload","img.onload","onerror","img.onerror","isBuiltInColor","color","Color","includes","getComputedColor","getMeasurementDiv","getElementById","remove","pre","style","whiteSpace","borderLeft","borderRight","borderBottom","padding","margin","opacity","position","top","left","zIndex","userSelect","pointerEvents","font","tabIndex","body","appendChild","getTextLabelSize","text","fontOrStyles","_b","_c","font5","fontStyle","fontVariant","fontWeight","fontSize","lineHeight","fontFamily","cache2","melm","parentNode","innerHTML","rect","getBoundingClientRect","validUUID","input","regex_default","parseInt","debounce","ms","immediateFn","timeoutId","clearTimeout","isDarwin","navigator","platform","isDev","logseq","api","get_state_from_store","isNonNullable","getRendererContext","id3","contextMap","React","createContext","useRendererContext","useContext","useBoundsEvents","handle","callbacks","rDoubleClickTimer","React2","useRef","useMemo","events","onPointerUp","order","elm","removeEventListener","releasePointerCapture","pointerId","now","elapsed","current","DOUBLE_CLICK_DURATION","onDoubleClick","onPointerDown","loopToHtmlElement","currentTarget","setPointerCapture","onPointerMove","onPointerEnter","onPointerLeave","onKeyDown","onKeyUp","namespaceURI","endsWith","parentElement","useResizeObserver","viewport","onBoundsChange","rIsMounted","React3","updateBounds","useCallback","maxX","maxY","useEffect","scrollingAnchor","getNearestScrollableContainer","debouncedupdateBounds","useLayoutEffect","resizeObserver","ResizeObserver","contentRect","observe","disconnect","querySelector","focus","makeCssTheme","prefix","theme","useTheme","selector","React4","cssTheme","setAttribute","head","contains","removeChild","useStyle","uid","rules","styles","delete","useStylesheet","tltheme","defaultTheme","tlcss","getAppContext","contextMap2","React5","useApp","useCanvasEvents","app","React6","penMode","settings","pointerType","isPrimary","onDrop","__async","preventDefault","drop","dataTransfer","clientX","clientY","onDragOver","onTouchEnd","tool","selectedTool","rubberband","dimension","constant","abs","pow","rubberbandIfOutOfBounds","computeRubberband","Vx","Vy","Rx","Ry","X0","X1","Y0","Y1","_defineProperty","ownKeys3","enumerableOnly","sym","_objectSpread2","defineProperties","capitalize","string","toUpperCase","hasCapture","capture","actionKey","actionsWithoutCaptureSupported","toHandlerProp","device","deviceProps","EVENT_TYPE_MAP","parseProp","eventKey","passive","replace","captureKey","pointerCaptureEvents","toDomEventType","getPointerType","event","getCurrentTargetTouchList","touches","_event$currentTarget","_event$currentTarget$","getValueEvent","changedTouches","targetTouches","distanceAngle","P1","P2","angle","atan2","PI","hypot","touchIds","touch","identifier","touchDistanceAngle","valueEvent","pointerValues","wheelValues","deltaX","deltaY","deltaMode","LINE_HEIGHT","PAGE_HEIGHT","noop3","chain","fns","selectAxis","threshold","absDx","absDy","clampStateInternalMovementToBounds","ox","oy","overflow","_delta","dirx","diry","_direction","_movement","_movementBound","registerAction","EngineMap","engine","ConfigResolverMap","resolver","resolveWith","config","resolvers","parse2","newConfig","gestureKey","_config","eventOptions","window2","enabled","transform","_excluded","sourceKeys","excluded","sourceSymbolKeys","shared","sharedConfigResolver","rest","setupGesture","ctrl","gestures","gestureEventStores","EventStore","gestureTimeoutStores","TimeoutStore","registerGesture","actions","handlers","handlerKey","internalHandlers","startKey","endKey","memo6","first","useRecognizers","nativeHandlers","import_react2","Controller","applyHandlers","applyConfig","clean","createUseGesture","useGesture2","_handlers","native","RE_NOT_NATIVE","lastMatch","mergedConfig","useGesture","dragAction","pinchAction","scrollAction","wheelAction","moveAction","hoverAction","useGestureEvents","inputs","rOriginPoint","React8","rDelta","rWheelTs","onWheel","gesture","deltaZ","ctrlKey","metaKey","signY","sign","MAX_ZOOM_STEP","absDeltaY","z2","timeStamp","altKey","buttons","currentScreenPoint","zoom","camera","onZoom","shiftKey","panCamera","onPinchStart","WheelEvent","containerOffset","onPinchEnd","onPinch","trueDelta","pinch","scaleBounds","TLViewport","maxZoom","minZoom","useCounterScaledPosition","React9","floor","useSetup","onPersist","onMount","onCreateAssets","onCreateShapes","onDeleteAssets","onDeleteShapes","onPaste","onCopy","onCanvasDBClick","React10","unsubs","uuid","unsub","subscribe","useAppSetup","React11","useState","TLReactApp","model","Shapes","Tools","readOnly","dispose","usePropControl","React12","loadDocumentModel","usePreventNavigation","rCanvas","React13","preventGestureNavigation","preventNavigation","touchXPosition","pageX","touchXRadius","radiusX","useHandleEvents","React14","getCursorCss","svg","replaceAll","useCursor","cursor","React15","CURSORS3","GeomUtils","radiansToDegrees","useZoom","React16","debouncedZoom","setProperty","useDebouncedValue","debouncedValue","setDebouncedValue","import_react4","canceled","useRestoreCamera","React18","sessionStorage","setItem","currentPageId","JSON","stringify","parse","getItem","update","selectedIds","zoomToSelection","zoomToFit","defaultNoopBatch","printDebugValue","createTrackingData","trackingData","mounted","changedBeforeMount","cleanAt","CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS","createReactionCleanupTrackingUsingFinalizationRegister","FinalizationRegistry2","cleanupTokenToReactionTrackingMap","globalCleanupTokensCounter","registry","cleanupFunction","token","trackedReaction","addReactionToTrack","reactionTrackingRef","objectRetainedByReact","register","finalizationRegistryCleanupToken","recordReactionAsCommitted","reactionRef","unregister","forceCleanupTimerToRunNowForTests","resetCleanupScheduleForTests","createTimerBasedReactionCleanupTracking","ensureCleanupTimerRunning","reactionCleanupHandle","cleanUncommittedReactions","CLEANUP_TIMER_LOOP_MILLIS","uncommittedReactionRefs","tracking","recordReactionAsCommitted2","forceCleanupTimerToRunNowForTests2","resetCleanupScheduleForTests2","uncommittedReactionRefs_1","__values","uncommittedReactionRefs_1_1","e_1_1","e_1","return","clear","objectToBeRetainedByReactFactory","ObjectToBeRetainedByReact","useObserver","baseComponentName","__read","import_react6","setState","newReaction","trackingData_1","useDebugValue","rendering","exception","observer","baseComponent","ReactMemoSymbol","useForwardRef","forwardRef","render","ReactForwardRefSymbol","observerComponent","contextTypes","import_react7","memo","copyStaticProperties","base","hoistBlackList","ObserverComponent","component","children","useKeyboardEvents","shiftKeyDownRef","React22","activeElement","editingShape","tagName","paste","selectedShapes","useShapeEvents","React26","Renderer2","components","__objRest","import_jsx_runtime29","jsx","RendererContext","meta","Canvas","Tooltip","side","content","sideOffset","import_jsx_runtime33","LSUI","TooltipProvider","delayDuration","jsxs","TooltipTrigger","asChild","TooltipContent","TooltipArrow","Fragment","Button","tooltip","tooltipSide","import_jsx_runtime34","ToggleInput","toggle","pressed","onPressedChange","import_jsx_runtime36","LSUI2","Toggle","PopoverButton","align","alignOffset","label","border","import_jsx_runtime43","LSUI6","Popover","PopoverTrigger","PopoverContent","collisionBoundary","PopoverArrow","ColorInput","renderColor","color2","import_jsx_runtime44","backgroundColor","TablerIcon","popoverSide","setColor","setOpacity","import_react19","LogseqContext","handleChangeDebounced","latestValue","onClick","onChange","htmlFor","LSUI7","Slider","defaultValue","onValueCommit","step","SliderTrack","SliderRange","SliderThumb","SelectInput","compact","onValueChange","isOpen","setIsOpen","React40","import_jsx_runtime45","LSUI8","Select","open","onOpenChange","SelectTrigger","SelectValue","SelectIcon","ChevronDown","SelectContent","stopPropagation","option","SelectItem","ScaleInput","scaleLevel","import_react22","sizeOptions","import_jsx_runtime46","setScaleLevel","compose","arg","thrush","proc","curry2to1","curry1to0","tap","tup","call2","always","joinProc","_len2","procs","_key2","noop4","emitter","subscription","SUBSCRIBE","publish","publisher","PUBLISH","reset","RESET","getValue","depot","VALUE","connect","handleNext","stream","subscriptions","statefulStream","initial","innerSubject","eventHandler","currentSubscription","streamFromEmitter","stream2","statefulStreamFromEmitter","combineOperators","operators","subscriber","reduceRight","pipe","project","defaultComparator","previous","distinctUntilChanged","comparator","predicate","map2","mapTo","scan","scanner","skip","times","throttleTime","interval","timeout","debounceTime","withLatestFrom","_len3","sources","_key3","called","pendingCall","allCalled","bit","prevCalled","call3","merge","duc","combineLatest","emitters","system","_temp","singleton","_ref","init","systemSpec","singletons","_init","_init2","_ref2","system2","_objectWithoutPropertiesLoose2","_unsupportedIterableToArray2","_arrayLikeToArray2","_createForOfIteratorHelperLoose2","omit","systemToComponent","Root","applyPropsToSystem","_iterator","requiredPropNames","_step","requiredPropName","required","_iterator2","optionalPropNames","_step2","optionalPropName","_stream","optional","buildMethods","methodNames","methodName","methods","buildEventHandlers","eventNames","eventName","Context","import_react27","Component","propsWithChildren","_excluded2","_useState","system3","_useState2","useIsomorphicLayoutEffect","_iterator3","_step3","useImperativeHandle","Provider","usePublisher","useEmitterValue","_useState3","setValue","useEmitter","c","m","d","f","e2","t2","n3","C","import_react28","offsetParent","unobserve","callbackRef","I","T","n4","r3","i3","a4","l4","item","dataset","index","s3","u3","parseFloat","knownSize","c3","child","ERROR","m3","endIndex","startIndex","virtuosoScroller","firstElementChild","viewportType","scrollTop","pageYOffset","documentElement","scrollHeight","m2","viewportHeight","offsetHeight","innerHeight","WARN","getComputedStyle","rowGap","round","b","import_react_dom3","flushSync","scrollerRef","scrollByCallback","scrollBy","scrollToCallback","behavior","scrollTo","E","H","k","v","lvl","l","r","F","O","U","W","M","z","D","G","B","P","V2","A","N","_","Y","q","Z","J","$","h2","g2","offsetTree","lastIndex","lastOffset","lastSize","Q","DEBUG","sizeTree","some","d3","S2","groupOffsetTree","X","groupIndices","ee","groupIndex","te","ae","ie","fe","he","totalCount","ve","Se","Ce","se","main","reverse","xe","originalIndex","shift","data","be","items","topItems","topListHeight","offsetTop","offsetBottom","bottom","firstItemIndex","Fe","De","visibleHeight","visibleWidth","qe","Je","it","st","n","Ke","nt","ut","Ye","C3","I2","T2","w2","g","Et","Rt","column","row","Ft","kt","Ht","bt","qt","_extends2","_setPrototypeOf2","_inheritsLoose2","_getPrototypeOf","_getPrototypeOf2","_isNativeReflectConstruct","Reflect","construct","sham","_construct","Parent","Class","Parent2","args2","Class2","instance","Function","_wrapNativeSuper","_cache","Wrapper","convertToInt","red","green","blue","hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","secondComponent","lightnessModification","parseToRgb","PolishedError","normalizedColorName","namedColorMap","normalizedColor","match","hexRegex","hexRgbaRegex","alpha","reducedHexRegex","reducedRgbaHexRegex","_alpha","rgbMatched","rgbRegex","exec","rgbaMatched","rgbaRegex","hslMatched","hslRegex","rgbColorString","hslRgbMatched","hslaMatched","hslaRegex","_hue","_saturation","_lightness","_rgbColorString","_hslRgbMatched","numberToHex","hex","convertToHex","reduceHexValue$1","rgb","toColorString","curried","combined","darken","amount","hslColor","lowerBoundary","upperBoundary","withClampedStyles","strokeWidth","noFill","withFillShapes","strokeColor","curriedDarken$1","stroke","BindingIndicator","mode","import_jsx_runtime51","right","boxShadow","borderRadius","useCameraMovingRef","Arrowhead","middle","import_jsx_runtime60","strokeLinecap","strokeLinejoin","getStraightArrowHeadPoints","ints","getStraightArrowHeadPath","getArrowPath","decorationStart","decorationEnd","arrowDist","dist","arrowHeadLength","path","LabelMask","labelSize","scale","import_jsx_runtime62","$2","se2","l2","a2","b2","R2","ue2","de2","G2","ie2","L2","sin","cos","K2","ee2","ce2","D2","j2","q2","runningLength","taper","te2","M2","H2","pressure","C2","W2","pe2","U2","X2","vector","F2","O2","E2","J2","Z2","le2","fe2","re2","Y2","ne2","V3","oe2","k2","Q2","N2","me2","generateSVGFromModel","serializedApp","ratio","exportAsSVG","preview","PreviewManager","generateJSXFromModel","generatePreviewJsx","ShapeLinkItem","onRemove","showContent","import_react50","import_jsx_runtime76","BlockLink","showReferenceContent","getBlockPageName","currentPage","redirectToPage","sidebarAddBlock","ToggleGroupInput","import_jsx_runtime77","LSUI10","ToggleGroup","ToggleGroupItem","disabled","icon","ToggleGroupMultipleInput","filterShapeByAction","selectedShapesArray","unlockedSelectedShapes","isLocked","shapeMapping","getFileType","filename","extensionMatch","extension","assetExtensions","find","extensions","tryCreateShapeHelper","getDataFromType","types","DataTransfer","getData","getType","usePaste","React65","info","clipboard","read","newRef","rawText","trim","blockRef","refs","persist","handleCreatingShapes","useDrop","handlePaste","React66","_0","_1","fromDrop","useCopy","React67","html","copyToClipboard","useQuickAdd","import_react57","transition","__create","__defProp","__defProps","__getOwnPropDesc","__getOwnPropDescs","__getOwnPropNames","__getOwnPropSymbols","__getProtoOf","__hasOwnProp","__propIsEnum","__defNormalProp","exclude","__commonJS","mod","__require","__copyProps","to","except","desc","__toESM","isNodeMode","__esModule","__decorateClass","decorators","kind","__publicField","__this","__arguments","generator","fulfilled","rejected","throw","require_rbush_min","module2","define","amd","RBush","h3","t3","r4","e3","a5","h4","f3","exp","leaf","_maxEntries","_minEntries","all","r2.prototype.all","_all","search","r2.prototype.search","toBBox","collides","r2.prototype.collides","load","r2.prototype.load","insert","_build","_splitRoot","_insert","r2.prototype.insert","r2.prototype.clear","r2.prototype.remove","_condense","r2.prototype.toBBox","compareMinX","r2.prototype.compareMinX","compareMinY","r2.prototype.compareMinY","toJSON","r2.prototype.toJSON","fromJSON","r2.prototype.fromJSON","r2.prototype._all","r2.prototype._build","_chooseSubtree","r2.prototype._chooseSubtree","r2.prototype._insert","_split","_adjustParentBBoxes","r2.prototype._split","_chooseSplitAxis","_chooseSplitIndex","r2.prototype._splitRoot","r2.prototype._chooseSplitIndex","r2.prototype._chooseSplitAxis","_allDistMargin","r2.prototype._allDistMargin","r2.prototype._adjustParentBBoxes","r2.prototype._condense","require_fast_deep_equal","module2.exports","equal","require_cjs","cloneUnlessOtherwiseSpecified","isMergeableObject","deepmerge2","defaultArrayMerge","getEnumerableOwnPropertySymbols","getKeys","propertyIsOnObject","mergeObject","destination","customMerge","sourceIsArray","targetIsArray","stringValue","$$typeof","REACT_ELEMENT_TYPE","for","deepmerge2.all","src_exports","__export","App","App3","__toCommonJS","Color2","Geometry","Geometry2","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","buf","clockseq","seedBytes","random","msecs","nsecs","dt2","tmh","_Vec","clamp","clampV","cross","snap","neg","Vec.neg","Vec.add","addScalar","Vec.addScalar","Vec.sub","subScalar","Vec.subScalar","vec","Vec.vec","Vec.mul","mulV","Vec.mulV","div","Vec.div","divV","Vec.divV","per","Vec.per","dpr","Vec.dpr","cpr","Vec.cpr","len2","Vec.len2","Vec.len","pry","Vec.pry","Vec.uni","normalize","Vec.normalize","tangent","Vec.tangent","dist2","Vec.dist2","Vec.dist","fastDist","Vec.fastDist","V4","aV","ang","Vec.ang","Vec.angle","med","Vec.med","rot","Vec.rot","Vec.rotWith","px","py","Vec.isEqual","Vec.lrp","Vec.int","ang3","p1","pc","Vec.ang3","Vec.abs","rescale","Vec.rescale","isLeft","Vec.isLeft","clockwise","Vec.clockwise","Vec.toFixed","nearestPointOnLineThroughPoint","Vec.nearestPointOnLineThroughPoint","distanceToLineThroughPoint","Vec.distanceToLineThroughPoint","nearestPointOnLineSegment","Vec.nearestPointOnLineSegment","distanceToLineSegment","Vec.distanceToLineSegment","nudge","Vec.nudge","nudgeAtAngle","Vec.nudgeAtAngle","toPrecision","Vec.toPrecision","pointsBetween","steps","Vec.pointsBetween","slope","Vec.slope","NaN","toAngle","Vec.toAngle","Vec.max","Vec.min","BoundsUtils","getBoundsSides","expandBounds","boundsCollide","boundsContain","boundsContained","boundsAreEqual","getBoundsFromPoints","pt2","centerBounds","boundsCenter","getBoundsCenter","translateBounds","snapBoundsToGrid","gridSize","multiplyBounds","divideBounds","getRotatedBounds","corners","getRotatedCorners","getRotatedEllipseBounds","getExpandedBounds","getCommonBounds","getTransformedBoundingBox","isAspectRatioLocked","ax0","ay0","ax1","ay1","bx0","by0","bx1","by1","scaleX","scaleY","aw","ah","flipX","flipY","bw","bh","ar","isTall","tw","th","cv","c0","c1","getTransformAnchor","isFlippedX","isFlippedY","anchor","getRelativeTransformedBoundingBox","initialBounds","initialShapeBounds","getRotatedSize","getBoundsWithCenter","midX","midY","getCommonTopLeft","getTLSnapPoints","others","snapDistance","snapLines","snaps","isSnapped","xs","ys","snapResults","flatMap","gap","isCareful","gapX","gapY","ensureRatio","newBounds","getDistributions","shapes2","getBounds","commonBounds","span","entriesToMove","getPackedDistributions","shapesPosOriginal","fromEntries","_d","_PointUtils","pointInCircle","pointInEllipse","tdx","tdy","pointInRect","pointInPolygon","wn","pointInBounds","pointInPolyline","_getSqSegDist","p22","_simplifyStep","sqTolerance","maxSqDist","sqDist","simplify2","tolerance","newPoints","pointNearToPolyline","PointUtils","x0","y0","l0","simplify","l1","TAU","PI2","EMPTY_OBJECT","CURSORS","rotate","background","circleFromThreePoints","x3","y3","x4","y4","perimeterOfEllipse","shortAngleDist","a0","da","longAngleDist","lerpAngles","angleDelta","getSweep","clampRadians","snapAngleToSegments","segments","seg","isAngleBetween","degreesToRadians","getArcLength","sweep","getSweepFlag","angleAC","angleAB","getLargeArcFlag","anglePA","angleAPC","anglePC","getArcDashOffset","del0","len0","off0","getEllipseDashOffset","radiansToCardinalDirection","radians","_PolygonUtils","getPolygonCentroid","cx2","cy","getEdgeOutwardNormal","offsetVector","edges","getOffsetEdge","getOffsetEdges","getEdges","edge","slopeAB","slopePQ","PQ","isNaN","sides","pointsOnPerimeter","t1","mid","centroid","BC","CA","dAB","dBC","dCA","outer","inner","theta","SvgPathUtils","getCurvedPathForPolygon","getCurvedPathForPoints","getSvgPathFromStroke","closed","getSvgPathFromStrokePoints","getDescriptor","EMPTY_ARRAY","freeze","getOwnPropertyDescriptors2","Atom2","onBUOL","onBOL","_proto","_proto.onBO","_proto.onBUO","_proto.reportObserved","reportChanged","_proto.reportChanged","_proto.toString","identity","identityComparer","structuralComparer","defaultComparer","is","shallow","shallowComparer","autoAnnotation","defaultCreateObservableOptions","OBSERVABLE","observableRefAnnotation","OBSERVABLE_REF","observableShallowAnnotation","OBSERVABLE_SHALLOW","shallowEnhancer","observableStructAnnotation","OBSERVABLE_STRUCT","refStructEnhancer","observableDecoratorAnnotation","observableFactories","ObservableValue","ObservableMap","ObservableSet","_target$$mobx","_target$$mobx$proxy_","objectProxyTraps","struct","computedAnnotation","COMPUTED","computedStructAnnotation","COMPUTED_STRUCT","_getDescriptor$config","_getDescriptor","_Symbol$toPrimitive","_Atom","ObservableValue2","notifySpy","_this","hasUnreportedChange_","value_","dehancer","dehanceValue","_proto.dehanceValue","_proto.set","prepareNewValue_","UNCHANGED","setNewValue_","_proto.prepareNewValue_","UPDATE","_proto.setNewValue_","_proto.get","intercept_","_proto.intercept_","observe_","_proto.observe_","observableKind","debugObjectName","raw","_proto.raw","_proto.toJSON","_proto.valueOf","_Symbol$toPrimitive$1","ComputedValue2","triggeredBy_","isRunningSetter_","isComputing_","setter_","keepAlive_","requiresReaction_","equals_","scope_","requiresReaction","keepAlive","_proto.onBecomeStale_","prevTrackingContext","trackAndCompute","warnAboutUntrackedRead_","computeValue_","cause","_proto.trackAndCompute","wasSuspended","_proto.computeValue_","_proto.suspend_","prevValue","_proto.warnAboutUntrackedRead_","IDerivationState_2","TraceMode2","version","mobxGuid","spyListeners","globalReactionErrorHandlers","reactionRequiresObservable","computedRequiresReaction","Reaction2","onInvalidate_","errorHandler_","requiresObservable_","isRunning_","isTrackPending_","isScheduled_","_proto.schedule_","_proto.isScheduled","_proto.runReaction_","reportExceptionInDerivation_","_proto.track","prevReaction","_proto.reportExceptionInDerivation_","_proto.dispose","_proto.getDisposer_","_proto.trace","actionBoundAnnotation","ACTION_BOUND","autoActionBoundAnnotation","AUTOACTION_BOUND","generatorId","flowAnnotation","flowBoundAnnotation","flow2","gen","ctx","rejector","pendingPromise","promise","onFulfilled","res3","ret","stepId","onRejected","cancel","yieldedPromise","has_","set2","_getAdm$set_","deleteProperty","_getAdm$delete_","delete_","defineProperty2","_getAdm$definePropert","ownKeys2","preventExtensions","get2","getArrayLength_","set3","setArrayLength_","preventExtensions2","ObservableArrayAdministration2","owned_","legacyMode_","enhancer_","lastKnownLength_","this.enhancer_","newV","oldV","dehanceValue_","_proto.dehanceValue_","_proto.dehanceValues_","added","addedCount","removed","removedCount","_proto.getArrayLength_","_proto.setArrayLength_","newLength","currentLength","newItems","updateArrayLength_","_proto.updateArrayLength_","oldLength","_proto.spliceWithArray_","deleteCount","SPLICE","spliceItemsIntoValues_","notifyArraySplice_","_proto.spliceItemsIntoValues_","MAX_SPLICE_SIZE","_this$values_","oldItems","_i","notifyArrayChildUpdate_","_proto.notifyArrayChildUpdate_","notify","_proto.notifyArraySplice_","_proto.get_","_proto.set_","spliceWithArray","unshift","ObservableMapMarker","_Symbol$iterator","_Symbol$toStringTag","ObservableMap2","initialData","_proto.has_","_proto.has","entry","newEntry","hasKey","ADD","updateValue_","addValue_","DELETE","_change","_this3$hasMap_$get","_proto.updateValue_","_proto.addValue_","_this4","_this4$hasMap_$get","_proto.keys","_proto.values","_keys$next","_proto.entries","_keys$next2","_proto.forEach","_step$value","_proto.merge","other","_this5","_proto.clear","_this6","_proto.replace","_this7","replacementMap","orderedData","keysReportChangedCalled","deleted","_iterator4","_step4","_step4$value","_value","keyExisted","_value2","iter1","next2","iter2","next1","ObservableSetMarker","_Symbol$iterator$1","_Symbol$toStringTag$1","ObservableSet2","callbackFn","_proto.add","_change2","nextIndex","observableValues","ObservableObjectAdministration2","defaultAnnotation_","pendingKeys_","appliedAnnotations_","_proto.getObservablePropValue_","_proto.setObservablePropValue_","_proto.make_","_this$target_$storedA","outcome","_adm$target_$storedAn","_proto.extend_","_proto.defineProperty_","deleteOutcome","notifyPropertyAddition_","_proto.defineObservableProperty_","cachedDescriptor","_proto.defineComputedProperty_","_proto.delete_","REMOVE","_this$pendingKeys_","_this$pendingKeys_$ge","_getDescriptor2","_proto.notifyPropertyAddition_","_this$pendingKeys_2","_this$pendingKeys_2$g","_proto.ownKeys_","keys_","_proto.keys_","ENTRY_0","StubArray","inherit","ctor","_StubArray","_Symbol$toStringTag2","_Symbol$iterator2","LegacyObservableArray2","_proto.concat","arrays","__MOBX_DEVTOOLS_GLOBAL_HOOK__","injectMobx","extras","import_jsx_runtime","TLShape","BINDING_DISTANCE","ownBounds","rotatedBounds","bindingDistance","expandedBounds","intersections","middlePoint","nonce","isDirty","lastSerialized","setIsDirty","setLastSerialized","getSerialized","isDeserializing","skipNounce","incNonce","validateProps","serialized","initialProps","nextScale","initialShape","nextHandles","deepCopy","topLeft","setNonce","getCachedSerialized","getShapeSVGJsx","strokeType","strokeDasharray","fillOpacity","TLBoxShape","TLDrawShape","pointBounds","rotatedPoints","normalizedPoints","ownPoint","rA","rB","point2","oBounds","every","vert","relativeCenter","isComplete","TLEllipseShape","TLImageShape","clipping","asset","clip","iClipping","objectFit","assetId","_TLPolylineShape","normalizedHandles","TLPolylineShape","_TLLineShape","nextShape","nextBounds","canBind","TLPolygonShape","rotatedVertices","vertices","getVertices","getTriangleVertices","getPolygonVertices","TLTextShape","isSizeLocked","TLGroupShape","shapes","deleteShapes","canResize","getShapes","TLRootState","stateClasses","StateClass","states","nextState","prevState","currentState","_events","onExit","setCurrentState","onTransition","onEnter","split","paths","isIn","_a4","_isActive","forwardEvent","onModifierKey","_id","_initial","_states","_disposables","disposable","descendants","TLState","parent","_root","_parent","registerStates","initialId","ascendants","TLTool","cursors","setCursor","toState","TLToolState","CreatingState","originPoint","currentPoint","Shape5","canChangeAspectRatio","aspectRatio","creatingShape","addShapes","setSelectedShapes","snapToGrid","GRID_SIZE","editShape","IdleState","returnTo","PointingState","TLBoxTool","CreatingState3","previousShape","history","pause","prevPoint","nextPoint","addNextPoint","previousPoint","resume","simplifyTolerance","persistDebounced","IdleState3","PinchingState","prevDelta","pinchZoom","TLDrawTool","ErasingState","hitShapes","shapesInViewport","hitTestLineSegment","setErasingShapes","IdleState4","PointingState2","hitTestPoint","shapesToDelete","erasingShapes","TLEraseTool","TLBaseLineBindingState","modKey2","getShapeById","otherHandleId","adjusted","handleChanges","updated","currentShape","getHandlesChange","draggedBinding","draggingHandle","oppositeHandle","startBindingShapeId","nextStartBinding","startTarget","endHandle","rayPoint","isInsideShape","rayDirection","hasStartBinding","newStartBindingId","rayOrigin","startPoint","endPoint","targets","bindableShapeIds","shape2","draggedBindingId","currentBindingId","updateBindings","bindingShapes","setBindingShapes","clearBindingShape","CreatingState4","getBindableShapes","IdleState5","setHoveredShape","hoveredId","PointingState3","TLLineTool","CreatingState5","IdleState6","TLTextTool","import_rbush","TLBush","BrushingState","initialSelectedIds","initialSelectedShapes","tree","setBrush","brushBounds","hits","hitTestBounds","getParentGroup","hit","panToPointWhenNearBounds","ContextMenuState","IdleState7","button","selectionBounds","selectedShape","canEdit","PointingShapeState","PointingBoundsBackgroundState","PointingCanvasState","setEditingShape","getSelection","removeAllRanges","TranslatingState","allSelectedShapesArray","initialPoints","initialShapePoints","querySelectorAll","el","blur","empty","startCloning","moveSelectedShapesToPointer","isCloning","didClone","clones","initialClonePoints","allSelectedShapes","removeShapes","ShapeClass","getShapeClass","PointingSelectedShapeState","pointedSelectedShape","PointingResizeHandleState","updateCursor","_ResizingState","resizeType","initialInnerBounds","selectionRotation","isSingle","initialCommonBounds","snapshots","transformOrigin","innerTransformOrigin","onResizeStart","firstShape","initialShapeProps","relativeBounds","canResizeAny","canFlip","canScale","onResize","ResizingState","PointingRotateHandleState","PointingShapeBehindBoundsState","RotatingState","initialSelectionRotation","initialCommonCenter","initialAngle","snapshot","currentAngle","initialAngle2","rotatedCenter","initialHandles","handlePoints","setSelectionRotation","PinchingState2","TranslatingHandleState","PointingHandleState","HoveringSelectionHandleState","onResetBounds","assets","EditingShapeState","newText","PointingMinimapState","clientPoint","minimapContainer","minimapCamera","minimapRect","minimapZoom","commonBoundWidth","cursorInSvg","minimapCameraRect","minimapCameraCenter","newCameraPoint","getCameraPoint","TLSelectTool","PanningState","originalScreenPoint","originalCameraPoint","IdleState8","prevTool","exit","IdleHoldState","PinchingState3","TLMoveTool","TLPage","bringToFront","sendToBack","shapesToMove","parseShapesArg","op","before","persistInfo","visitedShapes","bindingChanged","newBindings","toShape","fromShape","fromDelta","updateArrowBindings","import_fast_deep_equal","relatedShapes","isBound","hasDecoration","decorations","intersectBounds","anchorPoint","ID","bHit","bHits","shortArrowDirection","shortArrowHits","newShapesNouncesMap","lastShapesNounces","allIds","requestAnimationFrame","cleanup","updateShapesIndex","shapesIndex","shapeInstances","TLInputs","pagePoint","pointerIds","updateModifiers","originScreenPoint","spaceKey","updateContainerOffset","previousScreenPoint","modKey","elapsedProgress","duration","_TLViewport","panThreshold","deltaMax","currentView","deltaMin","panMultiplier","animate","p0","newPoint","animateCamera","setZoom","ZOOM_UPDATE_FACTOR","animateToViewport","startTime","performance","oldView","progress","FIT_TO_SCREEN_PADDING","TLApi","createShapes","updateShapes","flipHorizontal","flipVertical","shapesInGroups","zoomIn","zoomOut","resetZoom","zoomToBounds","showGrid","undo","redo","geometry","spacing","_e2","_f","_g","_h","_j","_k","_l","_m","_n","_o","_p","clonedShapes","oldId","findIndex","clonedBindings","oldFromIdx","oldToIdx","newBinding","clonedAssets","innerText","cloneShapes","addClonedShapes","createAssets","getClonedShapesFromTldrString","selectedGroups","ShapeGroup","group","bringForward","collapsed","setCollapsed","TLCursors","TLHistory","isPaused","creating","appUndo","appRedo","serializedShape","pages","wasPaused","newSelectedIds","pagesMap","pagesToAdd","serializedPage","page","shapesMap","shapesToAdd","instantiateShape","isInAny","addPages","removePages","TLSettings","TLApp","saving","pageId","getPageById","shapesById","newShapes","oldShape","convertShapes","normalizedShapes","parentGroup","newChildren","deleteBinding","shapeA","shapeB","allShapesToDelete","removedShapes","sendBackward","flip","boundsForShapes","deltaMap","locked","usedAssets","getCleanUpAssets","jsonString","tldrawString","encodeURIComponent","shapeBlockRefs","clipboardData","getPagePoint","editingId","newSelectedShapes","erasingIds","newErasingShapes","bindingIds","tgt","newLine","brush","Shape5.prototype.getShapes","shouldSave","unsubscribe","temporaryTransitionToMove","registerShapes","registerTools","deserialize","addAssets","groups","removeAssets","tools2","hoveredShape","hoveredGroup","activeBindings","canUnmount","hideSelection","hideSelectionDetail","showSelectionDetail","hideContextBar","hideRotateHandle","hideResizeHandles","LegacyCache2","_keys","_values","LegacyCache2.prototype.has","LegacyCache2.prototype.get","LegacyCache2.prototype.set","getRegExpFlags","_a","SUPPORTS_SYMBOL","copyArrayLoose","length_2","copyArrayBuffer","copyBlob","copyDataView","buffer","copyDate","getTime","copyObjectLoose","copyRegExp","DEFAULT_STRICT_OPTIONS","copyArrayStrict","copyMapStrict","copyObjectStrict","copySetStrict","_TextUtils","insertTextFirefox","field","setRangeText","selectionStart","selectionEnd","dispatchEvent","InputEvent","inputType","isComposing","document2","ownerDocument","initialFocus","execCommand","HTMLElement","select","wrapSelection","wrap","wrapEnd","selection","searchValue","replacer","drift","matchStart","matchLength","replacement","findLineEnd","currentEnd","lastLineStart","lastIndexOf","charAt","indent","selectedContrast","lineBreakCount","firstLineStart","newSelection","indentedText","INDENT","replacementsCount","setSelectionRange","unindent","minimumSelectionEnd","difference","firstLineIndentation","normalizeText","fixNewLines","TextUtils","MOD_KEY","NOOP","userAgent","overflowY","clientHeight","accent","brushFill","brushStroke","selectStroke","selectFill","foreground","grid","css","strings","V","toVector","fallback","addTo","subTo","pointer","mouse","Engine","computeValues","computeInitial","ingKey","_active","active","_blocked","_force","intentional","_distance","_bounds","axis","elapsedTime","velocity","movement","compute","cancelable","pointerLockElement","payload","down","_absoluteDelta","axisIntent","_m0","_m1","t0","hasCustomTransform","restrictToAxis","previousOffset","gestureIsActive","setup","computeOffset","rubberband2","computeMovement","BEFORE_LAST_KINEMATICS_DELAY","absoluteDelta","emit","triggerAllEvents","aliasKey","eventStore","timeoutStore","CoordinatesEngine","axisThreshold","lockDirection","commonConfigResolver","DEFAULT_RUBBERBAND","coordinatesConfigResolver","_v","DEFAULT_AXIS_THRESHOLD","KEYS_DELTA_MAP","ArrowRight","factor","DISPLACEMENT","ArrowLeft","ArrowUp","ArrowDown","DragEngine","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","swipe","boundRect","targetRect","setActive","pointerClean","pointerDown","pointerButtons","ctrlIds","setEventIds","pointerCapture","setupPointer","preventScrollAxis","setupScrollPrevention","setupDelayTrigger","startPointerDrag","pointerMove","movementX","movementY","pointerUp","hasPointerCapture","_unused","tapsThreshold","filterTaps","vx","vy","mx","my","svx","svy","sx","sy","pointerClick","detail","pointerLock","requestPointerLock","sharedConfig","exitPointerLock","preventScroll","remove2","preventScrollDelay","keyDown","deltaFn","keyUp","bindFunction","isBrowser","GestureEvent","maxTouchPoints","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","lock","DEFAULT_PREVENT_SCROLL_DELAY","touchscreen","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","DEFAULT_DRAG_DELAY","PinchEngine","_pointerEvents","_touchIds","turns","axisMovementDifference","SCALE_ANGLE_RATIO_INTENT_DEG","touchStart","ctrlTouchIds","pinchStart","pointerStart","ctrlPointerIds","touchMove","pinchMove","delta_a","prev_a","delta_turns","touchEnd","pointerEnd","gestureStart","gestureMove","_previousMovement","gestureEnd","wheel","modifierKey","wheelChange","wheelStart","wheelEnd","PINCH_WHEEL_RATIO","pinchOnWheel","pinchConfigResolver","angleBounds","_scaleBounds","_angleBounds","MoveEngine","move","mouseOnly","moveChange","moveStart","moveEnd","moveConfigResolver","ScrollEngine","scroll","scrollChange","scrollEnd","scrollX","scrollY","scrollLeft","scrollConfigResolver","WheelEngine","wheelConfigResolver","HoverEngine","enter","leave","hoverConfigResolver","_ctrl","_gestureKey","_listeners","_options","_timeouts","drag","hover","_targetEventStore","gestureConfig","bindToProps","Engine2","nativeBindFunction","handlerProp","withPassiveOption","isNative","_options$capture","_options$passive","GRAB_SVG","GRABBING_SVG","TEXT_SVG","EDGE_SVG","CORNER_SVG","ROTATE_CORNER_SVG","import_react5","import_react_dom","FinalizationRegistryLocal","FinalizationRegistry","_a2","ObjectToBeRetainedByReact2","hasSymbol","compare","observerBatching","reactionScheduler3","unstable_batchedUpdates","React20","import_jsx_runtime2","HTMLContainer","HTMLContainer2","centered","draggable","React21","import_jsx_runtime3","SVGContainer","SVGContainer2","React31","React23","import_jsx_runtime4","Container","Container2","rBounds","React24","import_jsx_runtime5","ContextBarContainer","ContextBarContainer2","hidden","ContextBar2","vpBounds","scaledBounds","screenBounds","offsets","React25","import_jsx_runtime6","HTMLLayer","HTMLLayer2","rLayer","layer","import_jsx_runtime7","Indicator","Shape","isHovered","isSelected","isBinding","isEditing","ReactIndicator","isErasing","import_jsx_runtime8","QuickLinksContainer","QuickLinksContainer2","QuickLinks2","rounded","paddingTop","minWidth","stop2","import_jsx_runtime9","BacklinksCountContainer","BacklinksCountContainer2","BacklinksCount2","onWheelCapture","title","React27","import_jsx_runtime10","SelectionDetailContainer","SelectionDetail","SelectionDetail4","import_jsx_runtime11","Shape2","Shape3","onEditingEnd","ReactComponent","isParentGrpupSelected","import_jsx_runtime12","STEPS","SVGGrid","CanvasGrid","xmlns","_size","xo","yo","gxo","gyo","patternUnits","cx","Grid","Grid2","import_jsx_runtime13","SelectionBackground","SelectionBackground2","import_jsx_runtime14","SelectionDetail2","SelectionDetail3","import_jsx_runtime15","cornerBgClassnames","CornerHandle","CornerHandle2","targetSize","corner","isHidden","import_jsx_runtime16","CloneHandle","CloneHandle2","import_jsx_runtime17","edgeClassnames","EdgeHandle","EdgeHandle2","import_jsx_runtime18","RotateHandle2","import_jsx_runtime19","RotateCornerHandle","RotateCornerHandle2","import_jsx_runtime20","SelectionForeground","SelectionForeground2","showResizeHandles","showRotateHandles","showCloneHandles","clonePadding","cloneHandleSize","import_jsx_runtime21","Brush","Brush2","import_jsx_runtime22","Cursor2","import_jsx_runtime23","Handle","Handle2","React30","import_jsx_runtime24","DirectionIndicator","DirectionIndicator2","rIndicator","insetBoundSides","import_jsx_runtime25","Renderer","selectionDirectionHint","cursorRotation","showSelection","showHandles","showSelectionRotation","showContextBar","rContainer","onlySelectedShapeWithHandles","onlySelectedShape","selectedShapesSet","erasingShapesSet","singleSelectedShape","hoveredShapes","BacklinksCount","QuickLinks","id4","ContextBar","React33","React32","import_jsx_runtime26","SVGLayer2","rGroup","import_jsx_runtime27","AppProvider","import_jsx_runtime28","App2","currentContext","setCurrentContext","Brush3","DirectionIndicator3","Grid3","Handle3","SelectionBackground3","SelectionForeground3","import_jsx_runtime30","AppCanvas","InnerApp","erasingShapesArray","clearEditingState","React69","React36","import_jsx_runtime32","extendedIcons","classNamePrefix","import_jsx_runtime35","CircleButton","import_react12","React35","import_jsx_runtime37","KeyboardShortcut","shortcut","renderers","Shortcut","import_jsx_runtime38","LSUI3","ZoomMenu","ZoomMenu2","preventEvent","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","onCloseAutoFocus","DropdownMenuItem","onSelect","import_jsx_runtime39","LSUI4","ActionBar","ActionBar2","toggleGrid","toggleSnapToGrid","togglePenMode","Separator","orientation","import_react16","import_react_dom2","import_jsx_runtime40","printPoint","DevTools","statusbarAnchorRef","statusbarAnchor","rendererStatusText","rendererStatus","createPortal","flex","display","alignItems","React42","import_jsx_runtime41","ToolButton","handleClick","Tool","tooltipContent","import_react18","import_jsx_runtime42","LSUI5","GeometryTools","GeometryTools2","setGeometry","activeGeometry","chevron","geometries","activeTool","geo","import_react20","defaultAttributes","viewBox","createLucideIcon","iconName","iconNode","absoluteStrokeWidth","tag","attrs","import_jsx_runtime47","LSUI9","PrimaryTools","PrimaryTools2","handleSetColor","handleToolClick","selectTool","activeGeomId","setActiveGeomId","prevId","import_jsx_runtime48","StatusBar","StatusBar2","import_jsx_runtime49","AppUI","AppUI2","React62","import_react52","import_react26","import_jsx_runtime50","isWhiteboardPage","queryBlockByUUID","Breadcrumb","PageName","linkType","blockContent","block","slicedContent","pageName","levelLimit","blockId","endSeparator","import_react48","p","INFO","S","VIRTUOSO_LOG_LEVEL","logLevel","scrollContainerState","headerHeight","fixedHeaderHeight","fixedFooterHeight","footerHeight","smoothScrollTargetReached","react18ConcurrentRendering","statefulScrollTop","deviation","scrollingInProgress","K","recalcInProgress","oe","offsetWidth","re","sizes","ranges","prevIndex","sizeRanges","defaultItemSize","fixedItemSize","unshiftWith","shiftWith","shiftWithOffset","beforeUnshiftWith","listRefresh","statefulTotalCount","trackItemSizes","itemSize","le","g3","v3","C4","R3","L3","scrollToIndex","ue","atBottom","notAtBottomBecause","ce","scrollTopDelta","atBottomBecause","jump","prevScrollTop","isScrolling","isAtTop","isAtBottom","atBottomState","atTopStateChange","atBottomStateChange","scrollDirection","atBottomThreshold","atTopThreshold","scrollVelocity","lastJumpDueToItemResize","me","propsReady","didMount","de","scrolledToInitialItem","initialTopMostItemIndex","pe","shouldFollow","followOutputBehavior","refreshed","followOutput","autoscrollToBottom","ge","groupCounts","topItemsIndexes","Te","listBoundary","overscan","increaseViewportBy","visibleRange","we","ye","o4","S3","I3","T3","w3","b4","i4","l5","s4","u4","p4","listState","endReached","startReached","rangeChanged","itemsRendered","He","initialItemCount","Ee","isSeeking","scrollSeekConfiguration","scrollSeekRangeChanged","Re","topItemCount","Le","totalListHeight","totalListHeightChanged","ke","ze","Be","initialScrollTop","Pe","alignToBottom","paddingTopAddition","Oe","useWindowScroll","customScrollParent","windowScrollContainerState","windowViewportRect","windowScrollTo","Me","We","scrollIntoView","Ve","Ue","Ae","fixedItemHeight","defaultItemHeight","Ne","Ge","_e","je","Ze","itemContent","groupContent","computeItemKey","headerFooterTag","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","$e","itemHeight","scrollingStateChange","adjustForPrependedItems","maxHeightCacheSize","footer","header","HeaderContainer","FooterContainer","ItemContainer","ScrollContainer","GroupContainer","ListContainer","emptyComponent","scrollSeek","placeholder","Qe","Xe","overflowAnchor","et","tt","showTopList","gt","ht","vt","boxSizing","paddingBottom","marginTop","outline","WebkitOverflowScrolling","ot","rt","at","lt","ct","mt","dt","ft","Ct","St","pt","It","itemWidth","Tt","wt","xt","yt","Lt","viewportDimensions","itemDimensions","gridState","Bt","Pt","itemClassName","listClassName","Ot","Mt","_t","Gt","firstChild","columnGap","Wt","Vt","Ut","viewportWidth","At","Nt","Yt","Kt","jt","Zt","fixedHeaderContent","fixedFooterContent","TableComponent","TableHeadComponent","TableFooterComponent","TableBodyComponent","TableRowComponent","FillerRow","Jt","$t","Qt","Xt","an","rn","ln","en","tn","nn","un","sn","borderSpacing","React45","_Error","PolishedError2","code","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","reduceHexValue","curriedDarken","React44","TextAreaUtils","import_jsx_runtime52","TextLabel","TextLabel2","offsetX","offsetY","onBlur","rInput","handleChange","handleKeyDown","handleBlur","handleFocus","handlePointerDown","rInnerWrapper","autoComplete","autoCapitalize","autoCorrect","autoSave","autoFocus","spellCheck","dir","datatype","onFocus","onContextMenu","onCut","import_jsx_runtime53","levelToScale","sm","md","lg","xl","xxl","BoxShape","italic","midPoint","handleLabelChange","label2","React46","import_jsx_runtime54","levelToScale2","EllipseShape","font2","import_jsx_runtime55","GroupShape","childSelected","Indicator2","GROUP_PADDING","import_jsx_runtime56","levelToScale3","HighlighterShape","pointsPath","React47","import_jsx_runtime57","levelToScale4","HTMLShape","createRef","newSize","htmlAnchorRef","isMoving","tlEventsEnabled","scaleRatio","dangerouslySetInnerHTML","__html","React48","import_jsx_runtime58","IFrameShape","url","frameRef","frameBorder","sandbox","React49","import_jsx_runtime59","ImageShape","makeAssetUrl","ass","make_asset_url","href","React51","React50","import_jsx_runtime61","levelToScale5","Arrow","StraightArrow","sw","startArrowHead","endArrowHead","import_jsx_runtime63","levelToScale6","LineShape","font3","mask","textAnchor","React52","import_jsx_runtime64","levelToScale7","LogseqPortalShapeHeader","bgColor","fillGradient","LogseqPortalShape","blockType","originalHeight","isAutoResizing","getHeaderHeight","collapsedHeight","getAutoResizeHeight","AUTO_RESIZE_THRESHOLD","initialHeightCalculated","cpRefContainer","useComponentSize","Page","Block","loaded","setLoaded","newHeight","latestInnerHeight","getInnerHeight","textRendering","componentProps","this.persist","isCreating","portalSelected","screenSize","boundScreenCenter","getScreenPoint","onPageNameChanged","isPage","PortalComponent","targetNotFound","showingPortal","portalStyle","LogseqQuickSearch","onAddBlock","edit_block","HEADER_HEIGHT","isPageOrBlock","setSize","updateSize","this.getInnerHeight","xe2","import_jsx_runtime65","levelToScale8","simulatePressureSettings","easing","simulatePressure","realPressureSettings","PencilShape","thinning","streamline","smoothing","strokePoints","React53","import_jsx_runtime66","levelToScale9","PolygonShape","font4","React54","import_jsx_runtime67","levelToScale10","TextShape","text2","getAutoSizedBoundingBox","React55","import_jsx_runtime68","VideoShape","controls","import_jsx_runtime69","YOUTUBE_REGEX","_YouTubeShape","embedId","allow","allowFullScreen","fillRule","clipRule","YouTubeShape","React56","import_jsx_runtime70","X_OR_TWITTER_REGEX","_TweetShape","Tweet","tweetId","TweetShape","React57","import_jsx_runtime71","PdfShape","inflateAsset","stop","BoxTool","EllipseTool","NuEraseTool","HighlighterTool","LineTool","PencilTool","PolygonTool","TextTool","YouTubeTool","CreatingState6","IdleState9","LogseqPortalTool","HTMLTool","IFrameTool","import_server","import_jsx_runtime73","ShapesMap","allBounds","vBounds","SVG_EXPORT_PADDING","translatePoint","_b2","tx","ty","rdx","rdy","transformArr","svgElement","renderToString","React58","import_jsx_runtime74","TextInput","import_jsx_runtime75","LogseqTypeTag","nameMapping","WP","BA","PA","WA","BS","PS","highlightedJSX","keyword","part","frag","useSearch","searchFilter","setResults","dq","filter2","_results","placeholder2","setQ","defaultSearchQuery","setSearchFilter","defaultSearchFilter","finishSearching","handleAddBlock","addNewBlock","optionsWrapperRef","focusedOptionIdx","setFocusedOptionIdx","searchResult","prefixIcon","setPrefixIcon","showPanel","setShowPanel","options2","actionIcon","onChosen","addNewPage","addNewWhiteboard","blocks","set_blocks_id","keydownListener","newIndex","optionElement","scrollIntoViewIfNeeded","q3","visibility","onMouseEnter","onPointerDownCapture","ShapeLinksInput","ShapeLinksInput2","portalType","onRefsChange","noOfLinks","canAddLink","addNewRef","showReferencePanel","marginLeft","import_jsx_runtime78","contextBarActionTypes","singleShapeActions","contextBarActionMapping","youtube","tweet","iframe","ellipse","polygon","line","pencil","highlighter","image","pdf","AutoResizingAction","LogseqPortalViewModeAction","ScaleLevelAction","isMobile","IFrameSourceAction","onIFrameSourceChange","handleReload","reload","YoutubeLinkAction","onYoutubeLinkChange","open_external_link","TwitterLinkAction","onTwitterLinkChange","EditPdfAction","setCurrentPdf","NoFillAction","SwatchAction","handleSetOpacity","GeometryAction","handleSetGeometry","StrokeTypeAction","StrokeTypeOptions","ArrowModeAction","startValue","endValue","TextStyleAction","bold","LinksAction","shapeType","getContextBarActionTypes","getContextBarActionsForShapes","actionTypes","otherActionTypes","import_jsx_runtime79","LSUI11","_ContextBar","rSize","rContextBar","Actions","Action","React63","import_jsx_runtime80","LSUI12","ContextMenu","ContextMenu2","collisionRef","_q","rContent","runAndTransition","developerMode","ContextMenuTrigger","ContextMenuContent","onEscapeKeyDown","ContextMenuItem","distribute","ContextMenuSeparator","packIntoRectangle","unGroup","doGroup","cut","exportToImage","EXPORT_PADDING","selectAll","deselectAll","setLocked","import_react56","import_jsx_runtime81","links","links2","link","createAssetsFromURL","existingAsset","asset2","createAssetsFromFiles","files","tasks","file","dataurl","saveAsset","createHTMLShape","tryCreateShapesFromDataTransfer","dataTransfer2","tryCreateShapeFromFilePath","tryCreateShapeFromFiles","tryCreateShapeFromPageName","tryCreateShapeFromBlockUUID","tryCreateShapeFromTextPlain","tryCreateShapeFromTextHTML","tryCreateLogseqPortalShapesFromString","tryCreateShapesFromClipboard","createShapesFn","flat","allShapes","newShape","imageAssetsToCreate","tryCreateClonedShapesFromJSON","allSelectedBlocks","get_selected_blocks","blockUUIDs","tryCreateLogseqPortalShapesFromUUID","newShapes2","tryCreateShapeFromURL","tryCreateShapeFromIframeString","decodeURIComponent","assetsToClone","bindingsToCreate","parsedUrl","URL","host","protocol","startsWith","allShapesToAdd","filesOnly","wrapUpdate","allAssets","import_jsx_runtime82","tools","AppImpl","AppInner","onQuickAdd","onPersistOnDiff","contextValue","memoRenders","comp"]}},{"offset":{"line":1365,"column":0},"map":{"version":3,"file":"tldraw.js","lineCount":37,"mappings":"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\/CR,CAAAA,CAAAA,CAA+CQ,IAA\/CR,CAAKQ,CAAV2B;AAA2DL,CAA3DK,CACnBW,EAAAA,CAGsB3C,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAIH,QAAAA,CAAK+C,CAAL\/C,CAAK+C,CAAL\/C,IACEgD,EAAmB9F,IAAAA,CAAAA,CAAA8C,CAAMsB,CAANtB,CAAAA,CAAqBjD,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAIuE,CAAJvE,CAAkBK,IAAAA,CAAAA,CAAAH,CAAAA,CAAA+C,CAAKA,IAAAA,CAAAA,EAAA\/C,CAAAA,CAAA+C,CAAa+C,CAAb\/C,CAALA,CAAlBjD,CAArBiD,CAAyD+C,IAA5E\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\/BT,CADQhI,CAAvBgI,CADZ\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\/H,CAAf+H,CAAAA,CAAe\/H,IAAf+H,CAA1BvC,CAAoD1F,CAApD0F,CACAA,IAAIK,IAAAA,CAAAA,EAAAL,CAAAA,IAAAM,IAAAA,CAAAA,EAAAN,CAAAA,IAAAA,CAAAA,IAAAnI,IAAAA,CAAAA,CAAAmI,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAACO,IAADP,CAAAA,CAACO,IAADP,CAAAA;AAACO,IAADP,CAAAA,CAAyBA,IAAAA,CAAAA,EAAArI,CAAAA,CAAAqI,CAAcwB,CAAdxB,CAAzBA,CAAJA,CACEA,MAAAwC,KAAAA,CAAAA,EAAAxC,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,IAAAnI,IAAAA,CAAAA,CAAAmI,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAC4Bb,CAD5Ba,CAC4Bb,IAAAA,CAAAA,EAD5Ba,CAE6BwB,CAF7BxB,CAAAA,CAE6BwB,IAF7BxB,CAAAA,CAGMyC,EAAAA,CAAgBzC,IAAAA,CAAAA,GAAArI,CAAAA,CAAAqI,CIgvC7BY,IAAAA,CAAAA,CAAAA,CJhvC2D8B,IAAAA,CAAAA,EIgvC3D9B,CJhvC6BZ,CAChB2C,EAAAA,CAAUC,IAAAA,CAAAA,EAAAA,CAAAA,CAAD5C,CAAQA,IAAAA,CAAAA,EAAArI,CAAAA,CAAAqI,CAAUyC,CAAVzC,CAARA,CAAmCb,CAAnCa,CACT6C,EAAAA,CAAYC,IAAAA,CAAAA,EAAAA,CAAAA,CAAD9C,CAAC8C,IAAAA,CAAAA,CAAAA,CAAAA,CAAMtB,CAANsB,CAAgB9C,IAAAA,CAAAA,EAAArI,CAAAA,CAAAqI,CAAWyC,CAAXzC,CAAhB8C,CAAAA,CAAD9C,CACfwC,KAAAA,CAAAA,EAHFxC,CAGEA,IAAAA,CAAAA,GAHFA,CAGG+C,IAAAA,CAAAA,EAHH\/C,CAIEA,OAACgD,KAAAA,CAAAA,EAAAA,CAAarM,CAAbqM,CAAkBL,CAAlBK,CAA2BH,CAA3BG,CA5BmB5C,CAA5BJ,MAAAA,KAnBqBF,CD2jBnBpJ,CC1gBAuM,IAAAA,QAAAA,CACHxK,CADGwK,CACO\/H,CADP+H,CACO\/H,CACXgI,IAAMpM,EAAWC,IAAAA,CAAAA,EAAAA,CAAAA,CAADmM,CAAyBhJ,IAAAA,CAAAA,EAADgJ,EAAxBA,CAAhBA,CAAyChJ,EAAzCgJ,IAAArL,IAAAA,CAAAA,CAAAqL,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAApL,IAAAA,CAAAA,CAAAH,CAAAA,CAAAuL,CAAAhI,CAAAgI,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAzJ,CAAAyJ,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAC,IAAAA,CAAAA,EAAAD,CAAAA,IAAAA,CAAAA,GAAAA,CAEyBzK,CAFzByK,CAEyBzK,IAAAA,CAAAA,GAFzByK,CAEyBzK,IAAAA,CAAAA,EAFzByK,CAAAA,CAEyBzK,IAFzByK,CAEyBzK,EAAAA,CAFzBkB,IAAAA,CAAAA,EAAAuJ,CAAAA,CAAAtJ,IAAAA,CAAAA,EAAAsJ,CAOkBA,IAAAA,CAAAA,EAPlBA,CAAAA,CAOmBrJ,IAAAA,CAAAA,GAPnBqJ,CAQkBtJ,IAAAA,CAAAA,EAAAsJ,CAAAA,IAAAA,CAAAA,GAAAA,CARlBA,CAQ4DxK,CAR5DwK,CAAAA,CAQ4DxK,EAAAA,CAR5DwK,IAAArL,IAAAA,CAAAA,CAAAqL,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA;AAAAhI,CAAAgI,CAAAA,IAAAA,CAAAA,EAAAA,CEowBG7J,IAAAA,CAAAA,EF1vBoBC,CAAAA,CAAAA,CE0vBpBD,IAAAA,CAAAA,EF1vBoBC,CAAAA,CAAAA,CAAyBb,CAAzBa,CAAAA,CE0vBpBD,IAAAA,CAAAA,EF1vB6CZ,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAVhDyK,CAUgDzK,IAAAA,CAAAA,EAVhDyK,CAWuBzK,CAXvByK,CAWuBzK,IAAAA,CAAAA,EAXvByK,CAWuBzK,YAXvByK,CAWuBzK,IAAAA,CAAAA,EAXvByK,CAWuBzK,IAAAA,CAAAA,EAXvByK,CAWuBzK,IAAAA,CAAAA,EAXvByK,CE2lBchK,IAAAA,CAAAA,EF7kBeD,CAAAA,CAAAA,CE6kBfC,IAAAA,CAAAA,EF7kBeD,CAAAA,CAAAA,EAAAA,CE6kBfC,IAAAA,CAAAA,EF7kBeD,CAAAA,IAAAA,CAAAA,IAAAA,CAd7BiK,CAc6BjK,IAAAA,CAAAA,EAd7BiK,CE2lBchK,IAAAA,CAAAA,EF5kBeD,CAAAA,CAAAA,CE4kBfC,IAAAA,CAAAA,EF5kBeD,CAAAA,CAAAA,EAAAA,CE4kBfC,IAAAA,CAAAA,EF5kBeD,CAAAA,IAAAA,CAAAA,IAAAA,CAf7BiK,CAAAA,CAe6BjK,IAf7BiK,CAgBME,EAAAA,CAAOtM,CAAJoM,CACGJ,IAAAA,CAAAA,EAAAA,CAAAA,CAADI,CAACJ,IAAAA,CAAAA,CAAAA,CAAAA,CAAMO,CAANP,CAAQQ,CAARR,CAAAA,CAADI,CADFA,CAEEvF,IAAAA,CAAAA,CAAAC,CAAAA,CAAAsF,CAAAG,CAAAH,CAAAA,IAAAA,CAAAA,EAAAA,CAA2BI,CAA3BJ,CAlBXA,OAAAA,KAAAjG,IAAAA,CAAAA,CAAAiG,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAhG,IAAAA,CAAAA,CAAAgG,CAAAA,CAmBGE,CAnBHF,CAAAA,CAmBGE,IAnBHF,CADWhI,CDygBPxE,CCnfA6M,IAAAA,QAAAA,CAGFC,CAHED,CAGFC,CACDC,MAAAC,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAF,CAAAA,IAAAA,CAAAC,CAAAD,QAAAA,EAAAG,CAAAH,MAAAC,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAAaF,QAAAA,EAAAA,CAAAA,IAAAtK,EAAIvB,IAAAA,CAAAA,CAAA6L,CAAKD,CAALC,CAAAA,CAAWI,IAAAA,CAAAA,EAAAA,CAAWL,CAAXK,CAAXJ,CAAKD,CAATC,OAAA7L,KAAAA,CAAAA,CAAA6L,CAAAtK,CAAAsK,CAAAA,CAAAtK,CAAAsK,CAAkCK,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,EAAAA,CK4ZhDC,IAAAA,CAAAA,EL5ZgDD,CAAAA,IAAAA,CAAAA,IAAAA,CAAlCL,CAAAA,EAAbE,CAAAD,CAAAD,QAAAA,CAAQ1L,CAAR0L,CAAQ1L,CAAR0L,MAAAC,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAF,CACa7L,IAAAA,CAAAA,CAAA6L,CAAID,CAAJC,CAAAA;AAAID,CAAJC,CAAS3L,IAAAA,CAAAA,CAAAH,CAAAA,CAAA8L,CAAK1L,CAAL0L,CADtBA,CAAAC,CAAAD,QAAAA,CACQD,CADRC,CACQD,CADRC,MAAAC,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAF,CAAAE,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,EAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAEUF,IAA2E1L,IAAAA,CAAAA,CAA3E0L,CAA2E1L,IAA3E0L,CAA2E1L,CAA3E0L,CAA2E1L,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAA3E0L,CAA2E1L,IAA3E0L,CAFVE,CAAAF,CAAAC,CAEqF3L,QAAAA,EAAAA,CAFrF0L,MAAAE,KAAAA,CAAAA,CAAAA,CAGE5L,CAHF4L,CAEqF5L,CAFrF2L,CACQF,CADRE,CAAQ3L,CAAR2L,CAAAE,CAAAF,CADCF,CDgfE9M,CC\/bAsN,IAAAA,QAAAA,CACHxJ,CADGwJ,CACOC,CADPD,CACOC,CACXC,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAO,CAAAA,IAAAA,CAAAR,CAAAQ,QAAAA,EAAAN,CAAAM,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,EAAAA,CAAAD,CAAAQ,QAAAA,CAAQvN,CAARuN,CAAchK,CAAdgK,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAO,CGtQgBC,IAAAA,CAAAA,EHsQhBR,CAAAA,CAAAA,CGtQgBQ,IAAAA,CAAAA,EHsQhBR,CAAAA,CAAAA,EAAAA,CGtQgBQ,IAAAA,CAAAA,EHsQhBR,CAAAA,IAAAA,CAAAA,IAAAA,CAAAO,CAAAR,CACsBU,QAAAA,CAAAA,CAAAA,CAAAA,CADtBF,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAEqBxD,IAAAA,CAAAA,EAAD+D,CAAgB1J,CAAhB0J,CAFpBP,CAAAD,CAEoClJ,QAAAA,CAAAA,CAAAA,CAAAA,CAFpC0J,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAGWU,IAAAA,CAAAA,EAAAH,CAAAA,IAAArM,IAAAA,CAAAA,CAAAqM,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CACcI,CADdJ,CACcI,IAAAA,CAAAA,EADdJ,CAEetM,IAAAA,CAAAA,CAAAsM,CAAID,CAAJC,CAAAA,CAAID,CAAJC,CAAAA,EAFfA,CAEeA,IAAAA,CAAAA,EAFfA,CAEeA,IAAAA,CAAAA,EAFfA,CAEeA,IAAAA,CAAAA,EAFfA,CAEeA,IAAAA,CAAAA,EAAAvM,CAAAA,CAAAuM,CAAAK,CAAAL,CAFfA,CAEeA,IAAAA,CAAAA,EAFfA;AAEeA,IAAAA,CAAAA,EAAAvM,CAAAA,CAAAuM,CAAAK,CAAAL,CAFfA,CAAAA,CAEeA,IAFfA,CAAAA,CAHXP,CAAAD,CAQmClL,QAAAA,CAAAA,CAAAA,CAAAA,CARnC0L,MAAAR,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAO,CAAAP,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CASUO,IAAAjH,IAAAA,CAAAA,CAAAiH,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAhH,IAAAA,CAAAA,CAAAgH,CAAAA,CAAAM,CAAAN,CAAAA,CAAAA,IAAAA,CATVP,CASUO,IAAArM,IAAAA,CAAAA,CAAAqM,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAoBM,CAAAA,CAApBN,CAAAA,CAAoBM,IAApBN,CATVP,CAAAO,CAAAR,CAS8Bc,QAAAA,EAAAA,CAT9BN,MAAAP,KAAAA,CAAAA,CAAAA,CAWEW,CAXFX,CAS8Ba,CAT9Bd,CAQmClL,CARnCkL,CAEoClJ,CAFpCkJ,CACsBU,CADtBV,CAAcxJ,CAAdwJ,CAAAE,CAAAF,CADWO,CD8bPvN,CCvaA+N,IAAAA,QAAAA,EAAAA,CAEJC,MAAAhB,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAe,CAAAA,IAAAA,CAAAhB,CAAAgB,QAAAA,EAAAd,CAAAc,MAAAhB,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAAgBgB,KAAAD,CAAAA,6BAAAA,CAAhBf,CAAAD,CAAiBkB,QAAAA,CAAAA,CAAAA,CAAAA,CAAjBF,MAAAhB,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,EAAAA,CAAAD,CAAAgB,QAAAA,CACQG,CADRH,CACoBI,CADpBJ,MAAAhB,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CMtGCoB,IAAAA,CAAAA,GAAAL,CNwG6CG,CMxG7CH,CNsGDf,CAAAD,CAE8CmB,QAAAA,CAAAA,CAAAA,CAAAA,CAF9CH,MAAAf,KAAAA,CAAAA,CAAAA,CAGEqB,CAHFrB,CAE8CkB,CAF9CnB,CACoBoB,CADpBpB,CAAiBkB,CAAjBlB,CAAAE,CAAAF,CAFIe,CDuaA\/N,CChaAuO,IAAAA,QAAAA,CAAAA,CAAAA,CAKqBC,CALrBD,CAKqBC,CAL3BC,IAAAC,EAAA7N,IAAAA,CAAAA,EAAA8N,CAAAF,CAAAE,CAAAD,EAAAA,CAAA3N,IAAAA,CAAAA,CAAAA,CAAAA,CAAA4N,CAAAD,CAAAC,CAAAA,IAAAA,CAAAA,EAAAA,CAKYC,EAAAA,CALZ7N,IAAAA,CAAAA,CAAAA,CAAAA,CAAA4N,CAAAD,CAAAC;AAAAA,IAAAA,CAAAA,EAAAA,CAAAA,KAMSrH,EAAYkC,IAAAA,CAAAA,CAAAA,CAAMoF,CAANpF,CAEZQ,EAAAA,CAAQ6E,IAAAA,CAAAA,GAADF,CAAcG,CAAdH,CACPI,EAAAA,COrUP1I,IAAAA,CAAAA,EAAAsI,CPqU2CrH,COrU3CqH,CAAAA,IAAAA,CAAAA,GAAAA,CPsUO1M,EAAAA,CAAO0M,IAAAA,CAAAA,GAAA1N,CAAAA,CAAA0N,CAASI,CAATJ,CACPK,EAAAA,CAASL,IAAAA,CAAAA,EAAA1N,CAAAA,CAAA0N,CAAWI,CAAXJ,CALfA,OAMmCH,EAAAA,CAAAA,0BAAAA,CAAIS,IAAAA,CAAAA,EAAAN,CAAAA,IAAAxN,IAAAA,CAAAA,CAAAwN,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAkB3E,CAAlB2E,CAAkB3E,IAAAA,CAAAA,GAAlB2E,CACkB1M,CADlB0M,CACkB1M,IAAAA,CAAAA,EADlB0M,CAEoBK,CAFpBL,CAAAA,CAEoBK,IAFpBL,CAAAA,CAAJH,CAPXA,CD2ZrBxO,CCjZAkP,IAAAA,QAAAA,CAEHpL,CAFGoL,CAEHpL,CACDqL,IAAMC,EAAaC,IAAAA,CAAAA,GAADF,EAAlBA,QACYG,IAAAA,CAAAA,EAAAA,CAAOF,CAAPE,CADZH,EAGajE,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAK7F,IAAAA,CAAAA,EAAAA,CAAM+J,CAAN\/J,CAAL6F,CAHbiE,EAIajE,IAAAA,CAAAA,CAAAA,CAAAA,CAADiE,CAAG\/N,IAAAA,CAAAA,CAAAH,CAAAA,CAAAkO,CAAKrL,CAALqL,CAAHA,CAAmB\/N,IAAAA,CAAAA,CAAAH,CAAAA,CAAAkO,CAAKA,IAAAA,CAAAA,EAAAlO,CAAAA,CAAAkO,CAAc3F,IAAAA,CAAAA,CAAD2F,CAAOC,CAAPD,CAAbA,CAALA,CAAnBA,CAJZA,GAKQI,IAAAA,CAAAA,EAADJ,CQ6zDPlF,IAAAA,CAAAA,EAAA9E,CAAAA,CAAAgK,CJptBCjF,IAAAA,CAAAA,CAAAA,CIotBDsF,IAAAA,CAAAA,EJptBCtF,CIotBDiF,CAAAA,IAAA5I,IAAAA,CAAAA,CAAA4I,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA3I,IAAAA,CAAAA,CAAA2I,CAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,CAASnD,IAATmD,CAAAA,CR7zDOA,CANNrL,CD+YG9D,CCvYAyP,IAAAA,QAAAA,CACHzF,CADGyF,CACHzF,CADH0F,IAEE1O,EAAgB2O,IAAAA,CAAAA,EAADD,EAAfxO,KAAAA,CAAAA,CAAAwO,CAAA1O,CAAA0O,CAAAA,EAEKE,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAFL5O,CACuB0C,CAAAA,GACI8K,CAAAA,YAAtBoB,CAA4BC,IAAAA,CAAAA,EAADH,CAAW1F,CAAX0F,CAA3BE,CAHJ5F,CDsYGhK,CCjYA8P,IAAAA,QAAAA,CACHhM,CADGgM,CACHhM,CADHiM,IAEE\/O;AAAgB2O,IAAAA,CAAAA,EAADI,EAAfA,IAAA7O,IAAAA,CAAAA,CAAA6O,CAAA\/O,CAAA+O,CAAAA,GACQpM,CACJoM,CADiBxG,IAAAA,CAAAA,EAAAA,CAAQC,IAAAA,CAAAA,CAAAA,CAD7BxI,CAC4C0C,CAAAA,KAAf8F,CAARD,CACjBwG,CAAA7O,IAAAA,CAAAA,CAAA6O,CAAMpM,CAANoM,CAFJA,EAEUpM,CACJoM,IAAA\/O,EG5VciD,IAAAA,CAAAA,EH4VGA,CAAAA,CAAAA,CG5VHA,IAAAA,CAAAA,EH4VGA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CG5VHA,IAAAA,CAAAA,EH4VeH,CAAAA,IAAZG,CAAYH,IAAZG,CAAYH,CAAZG,CAAjB8L,IAAA7O,IAAAA,CAAAA,CAAA6O,CAAA\/O,CAAA+O,CAAAA,CAAA\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\/O,CAAY+O,IAAZ\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\/CpC,CAAfA,CAA8DoC,IAD\/DpC,OAAA1R,KAAAA,CAAAA,CAAA0R,CAAAnQ,CAAAmQ,CAAAA,CAAAnQ,CAAAmQ,CN7Hd3O,IAAAA,CAAAA,EM+HgBA,CAAAA,CAAAA,CN\/HhBA,IAAAA,CAAAA,EM+HgBA,CAAAA,CAAAA,CAAYqQ,CAAZrQ,CAAAA,CN\/HhBA,IAAAA,CAAAA,EM+H4BqQ,CAAAA,IAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAFd1B,CAAAA,EAFbA,CAAA5F,CAAA4F,QAAAA,CAEQpS,CAFRoS,CAEQpS,CAFRoS,MAAA5F,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAKqB+G,IAAAA,CAAAA,EAADpB,CAAwBpS,CAAxBoS,CALpB3F,CAAAD,CAK4CxM,QAAAA,CAAAA,CAAAA,CAAAA,CAL5CoS,MAAA3F,KAAAA,CAAAA,CAAAA,CAMED,IAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAA2F,CAAAA,IAAAA,CAAA5F,CAAA4F,QAAAA,EAAA1F,CAAA0F,MAAA5F,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CAAiB2F,IAAAA,EAAApS,CAAAoS,CACEA,QAAAA,EAAAA,CAAuB0B,IAAvBW,EAAArC,IAAAzR,IAAAA,CAAAA,CAAAyR,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,OAAAY,KAAAA,CAAAA,EAAAZ,CAAAY,IAAAA,CAAAA,EAAAZ,CAAuB0B,CAAvB1B,CAAAqC,CAAArC,CAAAA,CCnH9Ba,IAAAA,CAAAA,EDmH8BwB,CAAAA,IAAAA,CAAAA,IAAAA,CAAuBX,CAAvBW,CAACvB,CAADuB,CAAArC,CADFA,EAAAA,CACGc,IADpBzG,CAAAD,CAAA4F,QAAAA,CAAQsC,CAARtC,CAAiBA,CAAjBA,MAAA5F,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAA2F,CAEc1R,IAAAA,CAAAA,CAAA0R,CAAIsC,CAAJtC,CAAAA,CAAIsC,CAAJtC,CAAapS,CAF3BoS,CAAA5F,CAAA4F,QAAAA,CAEQuC,CAFRvC,CAEQuC,CAFRvC,MAAA3F,KAAAA,CAAAA,CAAAA,CAGGmI,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAgClU,IAAAA,CAAAA,CAAA0R,CAAIyC,CAAJzC,CAAAA;AACEA,IAAAA,CAAAA,EAAA3R,CAAAA,CAAA2R,CAAauC,CAAbvC,CADFA,CVwV7CU,IAAAA,CAAAA,GAAAV,CUtV6EA,IAAAA,CAAAA,EAAA3R,CAAAA,CAAA8B,CAAaoS,CAAbpS,CVsV7E6P,CUxVawC,CAGgClU,IAAAA,CAAAA,CAAA0R,CAAM1R,IAAAA,CAAAA,CAAA0R,CAAKoC,CAALpC,CAAAA,CAAepL,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAKwN,CAALxN,CAAcoL,IAAAA,CAAAA,EAAA3R,CAAAA,CAAA2R,CAAauC,CAAbvC,CAAdpL,CAAfoL,CAAKoC,CAAXpC,CAAAA,CAAAA,IAAAzR,IAAAA,CAAAA,CAAAyR,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAkC,CAAAlC,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,IAHhCwC,CAHHnI,CAEQkI,CAFRnI,CAAiB4F,CAAjB5F,CAAAE,CAAAF,CANFC,CAK4CzM,CAL5CwM,CAEQxM,CAFRwM,CACuEgI,CADvEhI,CAA6BsH,CAA7BtH,CAAAE,CAAAF,CADF4F,CAAAA,IADG0B,CAvCxB1B,CAGqBA,QAAAA,CAAK0C,CAAL1C,CAAK0C,CAAL1C,MACGO,KAAAA,CAAAA,EAAAA,CACCoC,IAAAA,CAAAA,GAAAA,CAA0BD,CAA1BC,CADDpC,CADEmC,CAH1B1C,CAAAA,CAA2BD,CVsoBrB3S,CU5kBCwV,IAAAA,QAAAA,CACJzT,CADIyT,CACM9R,CADN8R,CACUxN,CADVwN,CACUxN,CADjByN,MAAApF,KAAAA,CAAAA,EAAAoF,CAGGzI,IAAAA,CAAAA,CAAAyI,CAAAxI,IAAAA,CAAAA,CAAAA,CAAAwI,IAAAxI,CAAAwI,CAAAA,QAAAA,EAKCnF,CALDmF,MAAAzI,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAA,CLyyCA\/C,IAAAA,CAAAA,CAAAA,CKzyCAsF,GLyyCAtF,CKzyCA+C,CAAAD,CAAAyI,QAAAA,EAAWC,CAAXD,MAAAzI,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAwI,CACezI,IAAAA,CAAAA,CAAAyI,CAAAxI,IAAAA,CAAAA,CAAAA,CAAAwI,IAAAxI,CAAAwI,CAAAA,QAAAA,EAAAE,CAAAF,MAAAzI,KAAAA,CAAAA,CAAAA,CAAAC,IAAAA,CAAAA,CAAAwI,CAAAxI,IAAAA,CAAAA,EAAAA,CACCwI,IAACpJ,IAAAA,CAAAA,CAADoJ,CAACpJ,IAADoJ,CAACpJ,CAADoJ,CAACpJ,CAADoJ,CAACpJ,IAAAA,CAAAA,CAADoJ,CAACpJ,CAAAA,IAAAA,CAAAA,GAAAA,CAAiD7I,IAAAA,CAAAA,EAAAA,EAAjD6I,CAADoJ,CAAkDjS,IAAlDiS,CADDxI,CP2pBFzK,IAAAA,CAAAA,EO1pB+ED,CAAAA,CAAAA,CP0pB\/EC,IAAAA,CAAAA,EO1pB+ED,CAAAA,CAAAA,EAAAA,CP0pB\/EC,IAAAA,CAAAA,EO1pB+ED,CAAAA,IAAAA,CAAAA,IAAAA,CAD7E0K,CAAAwI,CAAAzI,CAC6EzK,QAAAA,EAAAA,CAD7EkT,MAAAxI,KAAAA,CAAAA,CAAAA,CAEE9D,GAADsM,CAA0C1T,CAA1C0T;AAAoD\/R,CAApD+R,CAAwDzN,CAAxDyN,CAFDxI,CAC6E1K,CAD7EyK,CAAA2I,CAAAF,CADfA,CAAAzI,CAAAyI,QAAAA,CACQhL,CADRgL,CACQhL,CADRgL,MAAAxI,KAAAA,CAAAA,CAAAA,CAIG2I,IAAAA,CAAAA,EAADH,CAAQC,GAARD,CAAyBhL,CAAzBgL,CAJFxI,CACQxC,CADRuC,CAAW0I,CAAX1I,CAKCsD,CALDmF,CAHHA,CAQYA,QAAAA,CAASI,CAATJ,CAASI,CACPpF,OAACqF,CAAAA,KAADL,CAAkBI,CAAlBJ,CACAA,OAACM,KAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,IAAAA,IAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CACoBN,CAAAA,gCAAAA,CAAArU,IAAAA,CAAAA,CAAAH,CAAAA,CAAAwU,CAAsCI,CAASA,CAAAA,KAA\/CJ,CAAAA,CAA+CI,CAAAA,IAA\/CJ,CAA+CI,EAA\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\/JEwH,IAAAA,CAAAA,EAAGC,CAAAA,EAAH;","sources":["frontend\/db\/model.cljs","frontend\/handler\/whiteboard.cljs","goog\/object\/object.js","frontend\/util.cljc","frontend\/db.cljs","cljs\/core.cljs","datascript\/core.cljc","logseq\/common\/util.cljs","frontend\/handler\/property\/util.cljs","frontend\/state.cljs","frontend\/extensions\/tldraw.cljs","frontend\/handler\/page.cljs","logseq\/shui\/ui.cljs","shadow\/loader.js","shadow\/module\/tldraw\/prepend.js","frontend\/tldraw-logseq.js","frontend\/rum.cljs","goog\/base.js"],"sourcesContent":["(ns frontend.db.model\n  \"Core db functions.\"\n  ;; TODO: Remove this config once how repos are passed to this ns are standardized\n  {:clj-kondo\/config {:linters {:unused-binding {:level :off}}}}\n  (:require [clojure.set :as set]\n            [clojure.string :as string]\n            [clojure.walk :as walk]\n            [datascript.core :as d]\n            [frontend.date :as date]\n            [frontend.db.conn :as conn]\n            [frontend.db.react :as react]\n            [frontend.db.utils :as db-utils]\n            [frontend.state :as state]\n            [frontend.util :as util :refer [react]]\n            [logseq.db.frontend.rules :as rules]\n            [logseq.db.frontend.content :as db-content]\n            [logseq.graph-parser.db :as gp-db]\n            [logseq.common.util :as common-util]\n            [logseq.common.util.date-time :as date-time-util]\n            [frontend.config :as config]\n            [logseq.db :as ldb]))\n\n;; TODO: extract to specific models and move data transform logic to the\n;; corresponding handlers.\n\n(def file-graph-block-attrs\n  \"In file graphs, use it to replace '*' for datalog queries\"\n  '[:db\/id\n    :block\/uuid\n    :block\/parent\n    :block\/order\n    :block\/collapsed?\n    :block\/format\n    :block\/refs\n    :block\/_refs\n    :block\/path-refs\n    :block\/tags\n    :block\/link\n    :block\/title\n    :block\/marker\n    :block\/priority\n    :block\/properties\n    :block\/properties-order\n    :block\/properties-text-values\n    :block\/pre-block?\n    :block\/scheduled\n    :block\/deadline\n    :block\/repeated?\n    :block\/created-at\n    :block\/updated-at\n    ;; TODO: remove this in later releases\n    :block\/heading-level\n    :block\/file\n    :logseq.property\/parent\n    {:block\/page [:db\/id :block\/name :block\/title :block\/journal-day]}\n    {:block\/_parent ...}])\n\n(def hidden-page? ldb\/hidden?)\n\n(defn get-all-tagged-pages\n  [repo]\n  (d\/q '[:find ?page ?tag\n         :where\n         [?page :block\/tags ?tag]]\n       (conn\/get-db repo)))\n\n(defn get-all-pages\n  [repo]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/get-all-pages db)))\n\n(defn get-all-page-titles\n  [repo]\n  (->> (get-all-pages repo)\n       (map :block\/title)))\n\n(defn get-alias-source-page\n  \"return the source page of an alias\"\n  [repo alias-id]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/get-alias-source-page db alias-id)))\n\n(defn get-files-blocks\n  [repo-url paths]\n  (let [paths (set paths)\n        pred (fn [_db e]\n               (contains? paths e))]\n    (-> (d\/q '[:find ?block\n               :in $ ?pred\n               :where\n               [?file :file\/path ?path]\n               [(?pred $ ?path)]\n               [?p :block\/file ?file]\n               [?block :block\/page ?p]]\n             (conn\/get-db repo-url) pred)\n        db-utils\/seq-flatten)))\n\n(defn get-file-last-modified-at\n  [repo path]\n  (when (and repo path)\n    (when-let [db (conn\/get-db repo)]\n      (-> (db-utils\/entity db [:file\/path path])\n          :file\/last-modified-at))))\n\n(defn file-exists?\n  [repo path]\n  (when (and repo path)\n    (when-let [db (conn\/get-db repo)]\n      (db-utils\/entity db [:file\/path path]))))\n\n(defn get-files-full\n  [repo]\n  (when-let [db (conn\/get-db repo)]\n    (->>\n     (d\/q\n      '[:find (pull ?file [*])\n        :where\n        [?file :file\/path]]\n      db)\n     (flatten))))\n\n(defn get-file\n  ([path]\n   (get-file (state\/get-current-repo) path))\n  ([repo path]\n   (when (and repo path)\n     (when-let [db (conn\/get-db repo)]\n       (:file\/content (db-utils\/entity db [:file\/path path]))))))\n\n(defn get-custom-css\n  []\n  (when-let [repo (state\/get-current-repo)]\n    (get-file repo \"logseq\/custom.css\")))\n\n(defn get-block-by-uuid\n  [id]\n  (db-utils\/entity [:block\/uuid (if (uuid? id) id (uuid id))]))\n\n(defn query-block-by-uuid\n  \"Return block or page entity, depends on the uuid\"\n  [id]\n  (db-utils\/pull [:block\/uuid (if (uuid? id) id (uuid id))]))\n\n(defn heading-content->route-name\n  \"Converts a heading block's content to its route name. This works\nindependent of format as format specific heading characters are stripped\"\n  [block-content]\n  (some->> block-content\n           (re-find #\"^#{0,}\\s*(.*)(?:\\n|$)\")\n           second\n           string\/lower-case))\n\n(defn get-block-by-page-name-and-block-route-name\n  \"Returns first block for given page name and block's route name. Block's route\n  name must match the content of a page's block header\"\n  [repo page-uuid-str route-name]\n  (let [db (conn\/get-db repo)]\n    (if (config\/db-based-graph? repo)\n      (->> (d\/q '[:find (pull ?b [:block\/uuid])\n                  :in $ ?page-uuid ?route-name ?content-matches %\n                  :where\n                  [?page :block\/uuid ?page-uuid]\n                  [?b :block\/page ?page]\n                  (has-property ?b :logseq.property\/heading)\n                  [?b :block\/title ?content]\n                  [(?content-matches ?content ?route-name ?b)]]\n                db\n                (uuid page-uuid-str)\n                route-name\n                (fn content-matches? [block-content external-content block-id]\n                  (let [block (db-utils\/entity repo block-id)\n                        ref-tags (distinct (concat (:block\/tags block) (:block\/refs block)))]\n                    (= (-> block-content\n                           (db-content\/special-id-ref->page-ref ref-tags)\n                           (db-content\/special-id-ref->page ref-tags)\n                           heading-content->route-name)\n                       (string\/lower-case external-content))))\n                (rules\/extract-rules rules\/db-query-dsl-rules [:has-property]))\n           ffirst)\n\n      (->> (d\/q '[:find (pull ?b [:block\/uuid])\n                  :in $ ?page-uuid ?route-name ?content-matches\n                  :where\n                  [?page :block\/uuid ?page-uuid]\n                  [?b :block\/page ?page]\n                  [?b :block\/properties ?prop]\n                  [(get ?prop :heading) _]\n                  [?b :block\/title ?content]\n                  [(?content-matches ?content ?route-name)]]\n                db\n                (uuid page-uuid-str)\n                route-name\n                (fn content-matches? [block-content external-content]\n                  (= (heading-content->route-name block-content)\n                     (string\/lower-case external-content))))\n           ffirst))))\n\n(defn get-page-format\n  [page-name]\n  {:post [(keyword? %)]}\n  (if (config\/db-based-graph? (state\/get-current-repo))\n    :markdown\n    (keyword\n     (or\n      (let [page (some->> page-name (ldb\/get-page (conn\/get-db)))]\n        (or\n         (:block\/format page)\n         (when-let [file (:block\/file page)]\n           (when-let [path (:file\/path (db-utils\/entity (:db\/id file)))]\n             (common-util\/get-format path)))))\n      (state\/get-preferred-format)\n      :markdown))))\n\n(defn page-alias-set\n  [repo-url page-id]\n  (->>\n   (ldb\/get-block-alias (conn\/get-db repo-url) page-id)\n   (set)\n   (set\/union #{page-id})))\n\n(defn get-page-alias-names\n  [repo page-id]\n  (let [page (db-utils\/entity page-id)\n        alias-ids (->> (page-alias-set repo page-id)\n                       (remove #{page-id}))]\n    (when (seq alias-ids)\n      (map (fn [id] (:block\/title (db-utils\/entity id))) alias-ids))))\n\n(defn with-pages\n  [blocks]\n  (let [pages-ids (->> (map (comp :db\/id :block\/page) blocks)\n                       (remove nil?))\n        pages (when (seq pages-ids)\n                (db-utils\/pull-many '[:db\/id :block\/name :block\/title :block\/journal-day] pages-ids))\n        pages-map (reduce (fn [acc p] (assoc acc (:db\/id p) p)) {} pages)\n        blocks (map\n                (fn [block]\n                  (assoc block :block\/page\n                         (get pages-map (:db\/id (:block\/page block)))))\n                blocks)]\n    blocks))\n\n(def sort-by-order ldb\/sort-by-order)\n\n(defn sub-block\n  [id]\n  (when-let [repo (state\/get-current-repo)]\n    (when id\n      (let [ref (react\/q repo [:frontend.worker.react\/block id]\n                         {:query-fn (fn [_]\n                                      (let [e (db-utils\/entity id)]\n                                        [e (:block\/tx-id e)]))}\n                         nil)\n            e (-> ref react first)]\n        (when-let [id (:db\/id e)]\n          (db-utils\/entity id))))))\n\n(defn sort-by-order-recursive\n  [form]\n  (walk\/postwalk (fn [f]\n                   (if (and (map? f)\n                            (:block\/_parent f))\n                     (let [children (:block\/_parent f)]\n                       (-> f\n                           (dissoc :block\/_parent)\n                           (assoc :block\/children (sort-by-order children))))\n                     f))\n                 form))\n\n;; File-based only\n;; Diverged of get-sorted-page-block-ids\n(defn get-sorted-page-block-ids-and-levels\n  \"page-name: the page name, original name\n   return: a list with elements in:\n       :id    - a list of block ids, sorted by :block\/order\n       :level - the level of the block, 1 for root, 2 for children of root, etc.\"\n  [page-name]\n  {:pre [(string? page-name)]}\n  (let [root (ldb\/get-page (conn\/get-db) page-name)]\n    (loop [result []\n           children (sort-by-order (:block\/_parent root))\n           ;; BFS log of walking depth\n           levels (repeat (count children) 1)]\n      (if (seq children)\n        (let [child (first children)\n              cur-level (first levels)\n              next-children (sort-by-order (:block\/_parent child))]\n          (recur (conj result {:id (:db\/id child) :level cur-level})\n                 (concat\n                  next-children\n                  (rest children))\n                 (concat\n                  (repeat (count next-children) (inc cur-level))\n                  (rest levels))))\n        result))))\n\n(defn has-children?\n  ([block-id]\n   (has-children? (conn\/get-db) block-id))\n  ([db block-id]\n   (ldb\/has-children? db block-id)))\n\n(defn top-block?\n  [block]\n  (= (:db\/id (:block\/parent block))\n     (:db\/id (:block\/page block))))\n\n(defn get-block-parent\n  ([block-id]\n   (get-block-parent (state\/get-current-repo) block-id))\n  ([repo block-id]\n   (when-let [db (conn\/get-db repo)]\n     (when-let [block (db-utils\/entity db [:block\/uuid block-id])]\n       (:block\/parent block)))))\n\n(defn get-block-parents\n  [repo block-id opts]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/get-block-parents db block-id opts)))\n\n;; Use built-in recursive\n(defn get-block-parents-v2\n  [repo block-id]\n  (d\/pull (conn\/get-db repo)\n          '[:db\/id :block\/collapsed? {:block\/parent ...}]\n          [:block\/uuid block-id]))\n\n(def get-block-last-direct-child-id ldb\/get-block-last-direct-child-id)\n\n(defn get-block-deep-last-open-child-id\n  [db db-id]\n  (loop [node (db-utils\/entity db db-id)]\n    (if-let [last-child-id (get-block-last-direct-child-id db (:db\/id node) true)]\n      (let [e (db-utils\/entity db last-child-id)]\n        (if (or (:block\/collapsed? e) (empty? (:block\/_parent e)))\n          last-child-id\n          (recur e)))\n      nil)))\n\n(def page? ldb\/page?)\n\n(defn get-next\n  \"Get next block, either its right sibling, or loop to find its next block.\"\n  [db db-id & {:keys [skip-collapsed? init?]\n               :or {skip-collapsed? true\n                    init? true}\n               :as opts}]\n  (when-let [entity (db-utils\/entity db db-id)]\n    (or (when-not (and (:block\/collapsed? entity) skip-collapsed? init?)\n          (ldb\/get-right-sibling (d\/entity db db-id)))\n        (let [parent-id (:db\/id (:block\/parent (db-utils\/entity db db-id)))]\n          (get-next db parent-id (assoc opts :init? false))))))\n\n(defn get-prev\n  \"Get prev block, either its left sibling if the sibling is collapsed or no children,\n  or get sibling's last deep displayable child (collaspsed parent or non-collapsed child).\"\n  [db db-id]\n  (when-let [entity (db-utils\/entity db db-id)]\n    (or\n     (when-let [prev-sibling (ldb\/get-left-sibling entity)]\n       (if (or (:block\/collapsed? prev-sibling)\n               (empty? (:block\/_parent prev-sibling)))\n         prev-sibling\n         (some->> (get-block-deep-last-open-child-id db (:db\/id prev-sibling))\n                  (db-utils\/entity db))))\n     (let [parent (:block\/parent entity)]\n       (when-not (page? parent)\n         parent)))))\n\n(defn get-page-blocks-no-cache\n  ([page-id]\n   (get-page-blocks-no-cache (state\/get-current-repo) page-id nil))\n  ([repo page-id]\n   (get-page-blocks-no-cache repo page-id nil))\n  ([repo page-id opts]\n   (when-let [db (conn\/get-db repo)]\n     (ldb\/get-page-blocks db page-id opts))))\n\n(defn get-page-blocks-count\n  [repo page-id]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/get-page-blocks-count db page-id)))\n\n(defn page-exists?\n  \"Whether a page exists.\"\n  [page-name type]\n  (let [repo (state\/get-current-repo)]\n    (when-let [db (conn\/get-db repo)]\n      (ldb\/page-exists? db page-name type))))\n\n(defn page-empty?\n  \"Whether a page is empty. Does it has a non-page block?\n  `page-id` could be either a string or a db\/id.\"\n  [repo page-id]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/page-empty? db page-id)))\n\n(defn parents-collapsed?\n  [repo block-uuid]\n  (when-let [block (:block\/parent (get-block-parents-v2 repo block-uuid))]\n    (->> (tree-seq map? (fn [x] [(:block\/parent x)]) block)\n         (some util\/collapsed?))))\n\n(defn get-block-page\n  [repo block-uuid]\n  (assert (uuid? block-uuid) (str \"get-block-page requires block-uuid to be of type uuid but got \" block-uuid))\n  (when-let [block (db-utils\/entity repo [:block\/uuid block-uuid])]\n    (db-utils\/entity repo (:db\/id (:block\/page block)))))\n\n(defn get-block-immediate-children\n  \"Doesn't include nested children.\"\n  [repo block-uuid]\n  (when-let [db (conn\/get-db repo)]\n    (ldb\/get-children db block-uuid)))\n\n(defn get-block-children\n  \"Including nested children.\"\n  [repo block-uuid]\n  (when-let [db (conn\/get-db repo)]\n    (let [ids (ldb\/get-block-children-ids db block-uuid)]\n      (when (seq ids)\n        (let [ids' (map (fn [id] [:block\/uuid id]) ids)]\n          (db-utils\/pull-many repo '[*] ids'))))))\n\n(defn get-block-and-children\n  [repo block-uuid]\n  (let [db (conn\/get-db repo)]\n    (ldb\/get-block-and-children db block-uuid)))\n\n(defn get-file-page\n  ([file-path]\n   (get-file-page file-path true))\n  ([file-path title?]\n   (when-let [repo (state\/get-current-repo)]\n     (when-let [db (conn\/get-db repo)]\n       (some->\n        (d\/q\n         (if title?\n           '[:find ?page-name\n             :in $ ?path\n             :where\n             [?file :file\/path ?path]\n             [?page :block\/file ?file]\n             [?page :block\/title ?page-name]]\n           '[:find ?page-name\n             :in $ ?path\n             :where\n             [?file :file\/path ?path]\n             [?page :block\/file ?file]\n             [?page :block\/name ?page-name]])\n         db file-path)\n        db-utils\/seq-flatten\n        first)))))\n\n(defn get-page-file\n  ([page-name]\n   (get-page-file (state\/get-current-repo) page-name))\n  ([repo page-name]\n   (when-let [db (conn\/get-db repo)]\n     (gp-db\/get-page-file db page-name))))\n\n(defn get-block-file-path\n  [block]\n  (when-let [page-id (:db\/id (:block\/page block))]\n    (:file\/path (:block\/file (db-utils\/entity page-id)))))\n\n(defn get-file-page-id\n  [file-path]\n  (when-let [repo (state\/get-current-repo)]\n    (when-let [db (conn\/get-db repo)]\n      (some->\n       (d\/q\n        '[:find ?page\n          :in $ ?path\n          :where\n          [?file :file\/path ?path]\n          [?page :block\/name]\n          [?page :block\/file ?file]]\n        db file-path)\n       db-utils\/seq-flatten\n       first))))\n\n(defn get-page\n  [page-name-or-uuid]\n  (when page-name-or-uuid\n    (ldb\/get-page (conn\/get-db) page-name-or-uuid)))\n\n(defn get-case-page\n  [page-name-or-uuid]\n  (when page-name-or-uuid\n    (ldb\/get-case-page (conn\/get-db) page-name-or-uuid)))\n\n(defn get-journal-page\n  [page-title]\n  (when-let [journal-day (date\/journal-title->int page-title)]\n    (when-let [db (conn\/get-db)]\n      (->\n       (d\/q\n        '[:find [?page ...]\n          :in $ ?day\n          :where\n          [?page :block\/journal-day ?day]]\n        db\n        journal-day)\n       first))))\n\n(defn get-redirect-page-name\n  \"Given any readable page-name, return the exact page-name in db. If page\n   doesn't exists yet, will return the passed `page-name`. Accepts both\n   sanitized or unsanitized names.\n   alias?: if true, alias is allowed to be returned; otherwise, it would be deref.\"\n  ([page-name] (get-redirect-page-name page-name false))\n  ([page-name alias?]\n   (when page-name\n     (let [page-entity (ldb\/get-page (conn\/get-db) page-name)]\n       (cond\n         alias?\n         (or (:block\/name page-entity) page-name)\n\n         (nil? page-entity)\n         (if-let [journal-name (date\/journal-title->custom-format page-name)]\n           (util\/page-name-sanity-lc journal-name)\n           page-name)\n\n         :else\n         (let [source-page (get-alias-source-page (state\/get-current-repo) (:db\/id page-entity))]\n           (or (:block\/name source-page)\n               (:block\/name page-entity)\n               page-name)))))))\n\n(defn get-journals-length\n  []\n  (let [today (date-time-util\/date->int (js\/Date.))]\n    (d\/q '[:find (count ?page) .\n           :in $ ?today\n           :where\n           [?page :block\/type \"journal\"]\n           [?page :block\/journal-day ?journal-day]\n           [(<= ?journal-day ?today)]]\n         (conn\/get-db (state\/get-current-repo))\n         today)))\n\n(defn get-latest-journals\n  ([n]\n   (get-latest-journals (state\/get-current-repo) n))\n  ([repo-url n]\n   (when (conn\/get-db repo-url)\n     (let [date (js\/Date.)\n           _ (.setDate date (- (.getDate date) (dec n)))\n           today (date-time-util\/date->int (js\/Date.))]\n       (->>\n        (react\/q repo-url [:frontend.worker.react\/journals] {:use-cache? false}\n                 '[:find [(pull ?page [*]) ...]\n                   :in $ ?today\n                   :where\n                   [?page :block\/name ?page-name]\n                   [?page :block\/journal-day ?journal-day]\n                   [(<= ?journal-day ?today)]]\n                 today)\n        (react)\n        (sort-by :block\/journal-day)\n        (reverse)\n        (take n))))))\n\n;; get pages that this page referenced\n(defn get-page-referenced-pages\n  [repo page-id]\n  (when-let [db (conn\/get-db repo)]\n    (let [pages (page-alias-set repo page-id)\n          ref-pages (d\/q\n                     '[:find [?ref-page ...]\n                       :in $ ?pages\n                       :where\n                       [(untuple ?pages) [?page ...]]\n                       [?block :block\/page ?page]\n                       [?block :block\/refs ?ref-page]]\n                     db\n                     pages)]\n      ref-pages)))\n\n;; get pages who mentioned this page\n(defn get-pages-that-mentioned-page\n  [repo page-id include-journals?]\n  (when (conn\/get-db repo)\n    (let [pages (page-alias-set repo page-id)\n          mentioned-pages (->>\n                           (mapcat\n                            (fn [id]\n                              (let [page (db-utils\/entity repo id)]\n                                (->> (:block\/_refs page)\n                                     (keep (fn [ref]\n                                             (if (ldb\/page? ref)\n                                               page\n                                               (:block\/page ref)))))))\n                            pages)\n                           (util\/distinct-by :db\/id))]\n      (keep (fn [page]\n              (when-not (and (not include-journals?) (ldb\/journal? page))\n                (:db\/id page)))\n            mentioned-pages))))\n\n(defn get-page-referenced-blocks-full\n  ([page-id]\n   (get-page-referenced-blocks-full (state\/get-current-repo) page-id nil))\n  ([page-id options]\n   (get-page-referenced-blocks-full (state\/get-current-repo) page-id options))\n  ([repo page-id options]\n   (when (and repo page-id)\n     (when-let [db (conn\/get-db repo)]\n       (let [pages (page-alias-set repo page-id)\n             aliases (set\/difference pages #{page-id})]\n         (->>\n          (d\/q\n           '[:find [(pull ?block ?block-attrs) ...]\n             :in $ [?ref-page ...] ?block-attrs\n             :where\n             [?block :block\/path-refs ?ref-page]]\n           db\n           pages\n           (butlast file-graph-block-attrs))\n          (remove (fn [block] (= page-id (:db\/id (:block\/page block)))))\n          db-utils\/group-by-page\n          (map (fn [[k blocks]]\n                 (let [k (if (contains? aliases (:db\/id k))\n                           (assoc k :block\/alias? true)\n                           k)]\n                   [k blocks])))))))))\n\n(defn get-referenced-blocks\n  ([eid]\n   (get-referenced-blocks (state\/get-current-repo) eid nil))\n  ([eid options]\n   (get-referenced-blocks (state\/get-current-repo) eid options))\n  ([repo eid options]\n   (when repo\n     (when (conn\/get-db repo)\n       (let [entity (db-utils\/entity eid)\n             ids (page-alias-set repo eid)]\n         (->>\n          (react\/q repo\n                   [:frontend.worker.react\/refs eid]\n                   {:query-fn (fn []\n                                (let [entities (mapcat (fn [id]\n                                                         (:block\/_path-refs (db-utils\/entity id))) ids)\n                                      blocks (map (fn [e]\n                                                    {:block\/parent (:block\/parent e)\n                                                     :block\/order (:block\/order e)\n                                                     :block\/page (:block\/page e)\n                                                     :block\/collapsed? (:block\/collapsed? e)}) entities)]\n                                  {:entities entities\n                                   :blocks blocks}))}\n                   nil)\n          react\n          :entities\n          (remove (fn [block]\n                    (or\n                     (= (:db\/id block) eid)\n                     (= eid (:db\/id (:block\/page block)))\n                     (ldb\/hidden? (:block\/page block))\n                     (contains? (set (map :db\/id (:block\/tags block))) (:db\/id entity))\n                     (some? (get block (:db\/ident entity))))))\n          (util\/distinct-by :db\/id)))))))\n\n(defn get-block-referenced-blocks\n  ([block-id]\n   (get-block-referenced-blocks block-id {}))\n  ([block-id options]\n   (when-let [repo (state\/get-current-repo)]\n     (when (conn\/get-db repo)\n       (->> (get-referenced-blocks repo block-id options)\n            (sort-by-order-recursive)\n            db-utils\/group-by-page)))))\n\n(defn journal-page?\n  \"sanitized page-name only\"\n  [page-name]\n  (ldb\/journal? (ldb\/get-page (conn\/get-db) page-name)))\n\n(defn get-classes-with-property\n  \"Get classes which have given property as a class property\"\n  [property-id]\n  (ldb\/get-classes-with-property (conn\/get-db) property-id))\n\n(defn get-all-referenced-blocks-uuid\n  \"Get all uuids of blocks with any back link exists.\"\n  []\n  (when-let [db (conn\/get-db)]\n    (d\/q '[:find [?refed-uuid ...]\n           :where\n           ;; ?referee-b is block with ref towards ?refed-b\n           [?refed-b   :block\/uuid ?refed-uuid]\n           [?referee-b :block\/refs ?refed-b]] db)))\n\n(defn delete-blocks\n  [repo-url files _delete-page?]\n  (when (seq files)\n    (let [blocks (->> (get-files-blocks repo-url files)\n                      (remove nil?))]\n      (mapv (fn [eid] [:db.fn\/retractEntity eid]) blocks))))\n\n(defn delete-files\n  [files]\n  (mapv (fn [path] [:db.fn\/retractEntity [:file\/path path]]) files))\n\n;; file-based only so it's safe to use :block\/name lookup refs here\n(defn delete-pages-by-files\n  [files]\n  (let [pages (->> (mapv get-file-page files)\n                   (remove nil?))]\n    (when (seq pages)\n      (mapv (fn [page] [:db.fn\/retractEntity [:block\/name page]]) (map util\/page-name-sanity-lc pages)))))\n\n;; TODO: check whether this works when adding pdf back on Web\n(defn get-pre-block\n  [repo page-id]\n  (-> (d\/q '[:find (pull ?b [*])\n             :in $ ?page\n             :where\n             [?b :block\/page ?page]\n             [?b :block\/pre-block? true]]\n           (conn\/get-db repo)\n           page-id)\n      ffirst))\n\n(defn whiteboard-page?\n  \"Given a page entity, page object or page name, check if it is a whiteboard page\"\n  [page]\n  (let [page (if (string? page)\n               (get-page page)\n               page)]\n    (ldb\/whiteboard? page)))\n\n(comment\n  (defn get-orphaned-pages\n    [opts]\n    (let [db (conn\/get-db)]\n      (ldb\/get-orphaned-pages db\n                              (merge opts\n                                     {:built-in-pages-names\n                                      (if (config\/db-based-graph? (state\/get-current-repo))\n                                        sqlite-create-graph\/built-in-pages-names\n                                        gp-db\/built-in-pages-names)})))))\n\n;; FIXME: use `Untitled` instead of UUID for db based graphs\n(defn untitled-page?\n  [page-name]\n  (when (some->> page-name (ldb\/get-page (conn\/get-db)))\n    (some? (parse-uuid page-name))))\n\n(defn get-all-whiteboards\n  [repo]\n  (d\/q\n   '[:find [(pull ?page [:db\/id\n                         :block\/uuid\n                         :block\/name\n                         :block\/title\n                         :block\/created-at\n                         :block\/updated-at]) ...]\n     :where\n     [?page :block\/name]\n     [?page :block\/type \"whiteboard\"]]\n   (conn\/get-db repo)))\n\n(defn get-whiteboard-id-nonces\n  [repo page-id]\n  (let [db-based? (config\/db-based-graph? repo)\n        key (if db-based?\n              :logseq.property.tldraw\/shape\n              :logseq.tldraw.shape)\n        page (db-utils\/entity page-id)]\n    (->> (:block\/_page page)\n         (keep (fn [{:block\/keys [uuid] :as b}]\n                 (when-let [shape (if db-based?\n                                    (get b key)\n                                    (get (:block\/properties b) key))]\n                   {:id (str uuid)\n                    :nonce (:nonce shape)}))))))\n\n(defn get-all-classes\n  [repo & {:keys [except-root-class?]\n           :or {except-root-class? false}}]\n  (let [db (conn\/get-db repo)\n        classes (->> (d\/datoms db :avet :block\/type \"class\")\n                     (map (fn [d]\n                            (db-utils\/entity db (:e d)))))]\n    (if except-root-class?\n      (keep (fn [e] (when-not (= :logseq.class\/Root (:db\/ident e)) e)) classes)\n      classes)))\n\n(defn get-structured-children\n  [repo eid]\n  (->>\n   (d\/q '[:find [?children ...]\n          :in $ ?parent %\n          :where\n          (parent ?parent ?children)]\n        (conn\/get-db repo)\n        eid\n        (:parent rules\/rules))\n   (remove #{eid})))\n\n(defn get-class-objects\n  [repo class-id]\n  (when-let [class (db-utils\/entity repo class-id)]\n    (if (first (:logseq.property\/_parent class))        ; has children classes\n      (let [all-classes (conj (->> (get-structured-children repo class-id)\n                                   (map #(db-utils\/entity repo %)))\n                              class)]\n        (->> (mapcat :block\/_tags all-classes)\n             distinct))\n      (:block\/_tags class))))\n\n(defn sub-class-objects\n  [repo class-id]\n  (when class-id\n    (-> (react\/q repo [:frontend.worker.react\/objects class-id]\n                 {:query-fn (fn [_] (get-class-objects repo class-id))}\n                 nil)\n        react)))\n\n(defn get-property-related-objects\n  [repo property-id]\n  (when-let [property (db-utils\/entity repo property-id)]\n    (->> (d\/q '[:find [?objects ...]\n                :in $ ?prop\n                :where [?objects ?prop]]\n              (conn\/get-db repo)\n              (:db\/ident property))\n         (map #(db-utils\/entity repo %)))))\n\n(defn get-all-namespace-relation\n  [repo]\n  (d\/q '[:find ?page ?parent\n         :where\n         [?page :block\/namespace ?parent]]\n       (conn\/get-db repo)))\n\n(defn get-all-namespace-parents\n  [repo]\n  (let [db (conn\/get-db repo)]\n    (->> (get-all-namespace-relation repo)\n         (map (fn [[_ ?parent]]\n                (db-utils\/entity db ?parent))))))\n\n;; Ignore files with empty blocks for now\n(defn get-pages-relation\n  [repo with-journal?]\n  (when-let [db (conn\/get-db repo)]\n    (let [q (if with-journal?\n              '[:find ?p ?ref-page\n                :where\n                [?block :block\/page ?p]\n                [?block :block\/refs ?ref-page]]\n              '[:find ?p ?ref-page\n                :where\n                [?block :block\/page ?p]\n                [(get-else $ ?p :block\/type \"N\/A\") ?type]\n                [(not= ?type \"journal\")]\n                [?block :block\/refs ?ref-page]])]\n      (d\/q q db))))\n\n(defn get-namespace-pages\n  \"Accepts both sanitized and unsanitized namespaces\"\n  [repo namespace]\n  (ldb\/get-namespace-pages (conn\/get-db repo) namespace {:db-graph? (config\/db-based-graph? repo)}))\n\n(defn- tree [flat-col root]\n  (let [sort-fn #(sort-by :block\/name %)\n        children (group-by :block\/namespace flat-col)\n        namespace-children (fn namespace-children [parent-id]\n                             (map (fn [m]\n                                    (assoc m :namespace\/children\n                                           (sort-fn (namespace-children {:db\/id (:db\/id m)}))))\n                                  (sort-fn (get children parent-id))))]\n    (namespace-children root)))\n\n(defn get-namespace-hierarchy\n  \"Unsanitized namespaces\"\n  [repo namespace]\n  (let [children (get-namespace-pages repo namespace)\n        namespace-id (:db\/id (db-utils\/entity [:block\/name (util\/page-name-sanity-lc namespace)]))\n        root {:db\/id namespace-id}\n        col (conj children root)]\n    (tree col root)))\n\n(defn get-page-namespace\n  [repo page]\n  (:block\/namespace (db-utils\/entity repo [:block\/name (util\/page-name-sanity-lc page)])))\n\n(defn get-page-namespace-routes\n  [repo page]\n  (assert (string? page))\n  (when-let [db (conn\/get-db repo)]\n    (when-not (string\/blank? page)\n      (let [page (util\/page-name-sanity-lc (string\/trim page))\n            page-exist? (db-utils\/entity repo [:block\/name page])\n            ids (if page-exist?\n                  '()\n                  (->> (d\/datoms db :aevt :block\/name)\n                       (filter (fn [datom]\n                                 (string\/ends-with? (:v datom) (str \"\/\" page))))\n                       (map :e)))]\n        (when (seq ids)\n          (db-utils\/pull-many repo\n                              '[:db\/id :block\/name :block\/title\n                                {:block\/file [:db\/id :file\/path]}]\n                              ids))))))\n\n(comment\n  ;; For debugging\n  (defn get-all-blocks\n    []\n    (let [repo (state\/get-current-repo)]\n      (d\/q\n       '[:find [(pull ?b [*]) ...]\n         :where\n         [?b :block\/uuid]]\n       (conn\/get-db repo)))))\n","(ns frontend.handler.whiteboard\n  \"Whiteboard related handlers\"\n  (:require [datascript.core :as d]\n            [dommy.core :as dom]\n            [frontend.db :as db]\n            [frontend.db.model :as model]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.route :as route-handler]\n            [frontend.handler.property.util :as pu]\n            [frontend.state :as state]\n            [frontend.config :as config]\n            [frontend.storage :as storage]\n            [frontend.util :as util]\n            [logseq.common.util :as common-util]\n            [logseq.graph-parser.whiteboard :as gp-whiteboard]\n            [promesa.core :as p]\n            [goog.object :as gobj]\n            [clojure.set :as set]\n            [clojure.string :as string]\n            [cljs-bean.core :as bean]\n            [logseq.db.sqlite.util :as sqlite-util]\n            [logseq.db.frontend.order :as db-order]\n            [logseq.outliner.core :as outliner-core]))\n\n(defn js->clj-keywordize\n  [obj]\n  (js->clj obj :keywordize-keys true))\n\n(defn- shape->block [shape page-id]\n  (let [repo (state\/get-current-repo)]\n    (gp-whiteboard\/shape->block repo shape page-id)))\n\n(defn- build-shapes\n  [blocks]\n  (let [blocks (db\/sort-by-order blocks)]\n    (->> blocks\n         (db\/sort-by-order blocks)\n         (filter pu\/shape-block?)\n         (map pu\/block->shape)\n         (map (fn [shape]\n                (if-let [page-id (:pageId shape)]\n                  (let [page (db\/get-page page-id)]\n                    ;; Used in page preview\n                    (assoc shape :pageName (:block\/title page)))\n                  shape))))))\n\n(defn- whiteboard-clj->tldr [page-block blocks]\n  (let [id (str (:block\/uuid page-block))\n        shapes (remove #(nil? (:type %)) (build-shapes blocks))\n        tldr-page (pu\/page-block->tldr-page page-block)\n        assets (:assets tldr-page)\n        tldr-page (dissoc tldr-page :assets)]\n    (clj->js {:currentPageId id\n              :assets (or assets #js[])\n              :selectedIds #js[]\n              :pages [(merge tldr-page\n                             {:id id\n                              :name (:block\/name page-block)\n                              :shapes shapes})]})))\n\n(defn db-build-page-block\n  [page-entity page-name tldraw-page assets]\n  (let [get-k #(gobj\/get tldraw-page %)\n        tldraw-page {:id (get-k \"id\")\n                     :name (get-k \"name\")\n                     :bindings (js->clj-keywordize (get-k \"bindings\"))\n                     :nonce (get-k \"nonce\")\n                     :assets (js->clj-keywordize assets)}]\n    {:db\/id (:db\/id page-entity)\n     :block\/title page-name\n     :block\/name (util\/page-name-sanity-lc page-name)\n     :block\/type \"whiteboard\"\n     :block\/format :markdown\n     :logseq.property\/ls-type :whiteboard-page\n     :logseq.property.tldraw\/page tldraw-page\n     :block\/updated-at (util\/time-ms)\n     :block\/created-at (or (:block\/created-at page-entity)\n                           (util\/time-ms))}))\n\n(defn file-build-page-block\n  [page-entity page-name tldraw-page assets]\n  (let [get-k #(gobj\/get tldraw-page %)]\n    {:block\/title page-name\n     :block\/name (util\/page-name-sanity-lc page-name)\n     :block\/type \"whiteboard\"\n     :block\/properties {(pu\/get-pid :logseq.property\/ls-type)\n                        :whiteboard-page\n\n                        (pu\/get-pid :logseq.property.tldraw\/page)\n                        {:id (get-k \"id\")\n                         :name (get-k \"name\")\n                         :bindings (js->clj-keywordize (get-k \"bindings\"))\n                         :nonce (get-k \"nonce\")\n                         :assets (js->clj-keywordize assets)}}\n     :block\/updated-at (util\/time-ms)\n     :block\/created-at (or (:block\/created-at page-entity)\n                           (util\/time-ms))}))\n\n(defn build-page-block\n  [page-entity page-name tldraw-page assets]\n  (let [f (if (config\/db-based-graph? (state\/get-current-repo))\n            db-build-page-block\n            file-build-page-block)]\n    (f page-entity page-name tldraw-page assets)))\n\n(defn- compute-tx\n  [^js app ^js tl-page new-id-nonces db-id-nonces page-uuid replace?]\n  (let [page-entity (db\/get-page page-uuid)\n        assets (js->clj-keywordize (.getCleanUpAssets app))\n        upsert-shapes (->> (set\/difference new-id-nonces db-id-nonces)\n                           (map (fn [{:keys [id]}]\n                                  (-> (.-serialized ^js (.getShapeById tl-page id))\n                                      js->clj-keywordize)))\n                           (set))\n        old-ids (set (map :id db-id-nonces))\n        new-ids (set (map :id new-id-nonces))\n        created-ids (->> (set\/difference new-ids old-ids)\n                         (remove string\/blank?)\n                         (set))\n        new-orders (when (seq created-ids)\n                     (let [max-key' (last (sort (map :block\/order (:block\/_page page-entity))))]\n                       (db-order\/gen-n-keys (count created-ids) max-key' nil)))\n        new-id->order (when (seq created-ids) (zipmap created-ids new-orders))\n        created-shapes (set (filter #(created-ids (:id %)) upsert-shapes))\n        deleted-ids (->> (set\/difference old-ids new-ids)\n                         (remove string\/blank?))\n        repo (state\/get-current-repo)\n        deleted-shapes (when (seq deleted-ids)\n                         (->> (db\/pull-many repo '[*] (mapv (fn [id] [:block\/uuid (uuid id)]) deleted-ids))\n                              (mapv (fn [b] (pu\/get-block-property-value b :logseq.property.tldraw\/shape)))\n                              (remove nil?)))\n        deleted-shapes-tx (mapv (fn [id] [:db\/retractEntity [:block\/uuid (uuid id)]]) deleted-ids)\n        upserted-blocks (->> upsert-shapes\n                             (map #(shape->block % (:db\/id page-entity)))\n                             (map sqlite-util\/block-with-timestamps)\n                             (map (fn [block]\n                                    (if-let [new-order (when new-id->order (get new-id->order (str (:block\/uuid block))))]\n                                      (assoc block :block\/order new-order)\n                                      block))))\n        page-name (or (:block\/title page-entity) (str page-uuid))\n        page-block (build-page-block page-entity page-name tl-page assets)]\n    (when (or (seq upserted-blocks)\n              (seq deleted-shapes-tx)\n              (not= (:block\/properties page-block)\n                    (:block\/properties page-entity)))\n      {:page-block page-block\n       :upserted-blocks upserted-blocks\n       :delete-blocks deleted-shapes-tx\n       :deleted-shapes deleted-shapes\n       :new-shapes created-shapes\n       :metadata {:whiteboard\/transact? true\n                  :pipeline-replace? replace?}})))\n\n(defonce *last-shapes-nonce (atom {}))\n\n(defn- get-shape-block-id\n  [^js shape]\n  (uuid (.-id shape)))\n\n(defn- handle-order-update!\n  [page info]\n  (let [op (:op info)\n        moved-shapes (:shapes info)\n        shape-ids (mapv get-shape-block-id moved-shapes)]\n    (case op\n      \"sendToBack\"\n      (let [next-order (when-let [id (get-shape-block-id (:next info))]\n                         (:block\/order (db\/entity [:block\/uuid id])))\n            new-orders (db-order\/gen-n-keys (count shape-ids) nil next-order)\n            tx-data (conj\n                     (map-indexed (fn [idx id]\n                                    {:block\/uuid id\n                                     :block\/order (nth new-orders idx)}) shape-ids)\n                     (outliner-core\/block-with-updated-at {:db\/id (:db\/id page)}))]\n        tx-data)\n\n      \"bringToFront\"\n      (let [before-order (when-let [id (get-shape-block-id (:before info))]\n                           (:block\/order (db\/entity [:block\/uuid id])))\n            new-orders (db-order\/gen-n-keys (count shape-ids) before-order nil)\n            tx-data (conj\n                     (->>\n                      (map-indexed (fn [idx id]\n                                     (when (db\/entity [:block\/uuid id])\n                                       {:block\/uuid id\n                                        :block\/order (nth new-orders idx)})) shape-ids)\n                      (remove nil?))\n                     (outliner-core\/block-with-updated-at {:db\/id (:db\/id page)}))]\n        tx-data))))\n\n;; FIXME: it seems that nonce for the page block will not be updated with new updates for the whiteboard\n(defn <transact-tldr-delta!\n  [page-uuid ^js app ^js info*]\n  (let [info (bean\/->clj info*)\n        replace? (:replace info)\n        tl-page ^js (second (first (.-pages app)))\n        page-block (model\/get-page page-uuid)\n        order-tx-data (when (contains? #{\"bringToFront\" \"sendToBack\"} (:op info))\n                        (handle-order-update! page-block info))\n        shapes (.-shapes ^js tl-page)\n        new-id-nonces (set (map-indexed (fn [_idx shape]\n                                          (let [id (.-id shape)]\n                                            {:id id\n                                             :nonce (or (.-nonce shape) (js\/Date.now))})) shapes))\n        repo (state\/get-current-repo)\n        db-id-nonces (or\n                      (get-in @*last-shapes-nonce [repo page-uuid])\n                      (set (->> (model\/get-whiteboard-id-nonces repo (:db\/id page-block))\n                                (map #(update % :id str)))))\n        {:keys [page-block new-shapes deleted-shapes upserted-blocks delete-blocks metadata] :as result}\n        (compute-tx app tl-page new-id-nonces db-id-nonces page-uuid replace?)]\n    (when (or (seq result) (seq order-tx-data))\n      (let [tx-data (concat delete-blocks [page-block] upserted-blocks order-tx-data)\n            metadata' (cond\n                        ;; group\n                        (some #(= \"group\" (:type %)) new-shapes)\n                        (assoc metadata :outliner-op :group)\n\n                        ;; ungroup\n                        (and (not-empty deleted-shapes) (every? #(= \"group\" (:type %)) deleted-shapes))\n                        (assoc metadata :outliner-op :un-group)\n\n                        ;; arrow\n                        (some #(and (= \"line\" (:type %))\n                                    (= \"arrow \" (:end (:decorations %)))) new-shapes)\n\n                        (assoc metadata :outliner-op :new-arrow)\n\n                        :else\n                        (assoc metadata :outliner-op :save-whiteboard))]\n        (swap! *last-shapes-nonce assoc-in [repo page-uuid] new-id-nonces)\n        (if (contains? #{:new-arrow} (:outliner-op metadata'))\n          (state\/set-state! :whiteboard\/pending-tx-data\n                            {:tx-data tx-data\n                             :metadata metadata'})\n          (let [pending-tx-data (:whiteboard\/pending-tx-data @state\/state)\n                tx-data' (concat (:tx-data pending-tx-data) tx-data)\n                metadata'' (merge metadata' (:metadata pending-tx-data))]\n            (state\/set-state! :whiteboard\/pending-tx-data {})\n            (db\/transact! repo tx-data' metadata'')))))))\n\n(defn get-default-new-whiteboard-tx\n  [page-name id]\n  (let [db-based? (config\/db-based-graph? (state\/get-current-repo))\n        tldraw-page {:id (str id),\n                     :name page-name,\n                     :ls-type :whiteboard-page,\n                     :bindings {},\n                     :nonce 1,\n                     :assets []}\n        properties {(pu\/get-pid :logseq.property\/ls-type) :whiteboard-page,\n                    (pu\/get-pid :logseq.property.tldraw\/page) tldraw-page}\n        m #:block{:uuid id\n                  :name (util\/page-name-sanity-lc page-name),\n                  :title page-name\n                  :type \"whiteboard\",\n                  :format :markdown\n                  :updated-at (util\/time-ms),\n                  :created-at (util\/time-ms)}\n        m' (if db-based?\n             (merge m properties)\n             (assoc m :block\/properties properties))]\n    [m']))\n\n(defn <create-new-whiteboard-page!\n  ([]\n   (<create-new-whiteboard-page! nil))\n  ([name]\n   (p\/let [uuid (or (and name (parse-uuid name)) (d\/squuid))\n           name (or name (str uuid))\n           _ (db\/transact! (state\/get-current-repo) (get-default-new-whiteboard-tx name uuid) {:outliner-op :create-page})]\n     uuid)))\n\n(defn <create-new-whiteboard-and-redirect!\n  ([]\n   (<create-new-whiteboard-and-redirect! (str (d\/squuid))))\n  ([name]\n   (when-not (or config\/publishing? (config\/db-based-graph? (state\/get-current-repo)))\n     (p\/let [id (<create-new-whiteboard-page! name)]\n       (route-handler\/redirect-to-page! id {:new-whiteboard? true})))))\n\n(defn ->logseq-portal-shape\n  [block-id point]\n  {:blockType (if (parse-uuid (str block-id)) \"B\" \"P\")\n   :id (str (d\/squuid))\n   :compact false\n   ;; Why calling it pageId when it's actually a block id?\n   :pageId (str block-id)\n   :point point\n   :size [400, 0]\n   :type \"logseq-portal\"})\n\n(defn add-new-block-portal-shape!\n  \"Given the block uuid, add a new shape to the referenced block.\n   By default it will be placed next to the given shape id\"\n  [block-uuid source-shape & {:keys [link? bottom?]}]\n  (when-let [app (state\/active-tldraw-app)]\n    (let [^js api (.-api app)\n          point (-> (.getShapeById app source-shape)\n                    (.-bounds)\n                    ((fn [bounds] (if bottom?\n                                    [(.-minX ^js bounds) (+ 64 (.-maxY ^js bounds))]\n                                    [(+ 64 (.-maxX ^js bounds)) (.-minY ^js bounds)]))))\n          shape (->logseq-portal-shape block-uuid point)]\n      (when (uuid? block-uuid) (editor-handler\/set-blocks-id! [block-uuid]))\n      (.createShapes api (clj->js shape))\n      (when link?\n        (.createNewLineBinding api source-shape (:id shape))))))\n\n(defn get-page-tldr\n  [page-uuid]\n  (let [page (model\/get-page page-uuid)\n        react-page (db\/sub-block (:db\/id page))\n        blocks (:block\/_page react-page)]\n    (whiteboard-clj->tldr react-page blocks)))\n\n(defn <add-new-block!\n  [page-uuid content]\n  (p\/let [repo (state\/get-current-repo)\n          new-block-id (db\/new-block-id)\n          page-entity (model\/get-page page-uuid)\n          tx (sqlite-util\/block-with-timestamps\n              {:block\/uuid new-block-id\n               :block\/title (or content \"\")\n               :block\/format :markdown\n               :block\/page (:db\/id page-entity)\n               :block\/parent (:db\/id page-entity)})\n          _ (db\/transact! repo [tx] {:outliner-op :insert-blocks\n                                     :whiteboard\/transact? true})]\n    new-block-id))\n\n(defn inside-portal?\n  [target]\n  (some? (dom\/closest target \".tl-logseq-cp-container\")))\n\n(defn closest-shape\n  [target]\n  (when-let [shape-el (dom\/closest target \"[data-shape-id]\")]\n    (.getAttribute shape-el \"data-shape-id\")))\n\n(defn get-onboard-whiteboard-edn\n  []\n  (p\/let [^js res (js\/fetch \".\/whiteboard\/onboarding.edn\") ;; do we need to cache it?\n          text (.text res)\n          edn (common-util\/safe-read-map-string text)]\n    edn))\n\n(defn clone-whiteboard-from-edn\n  \"Given a tldr, clone the whiteboard page into current active whiteboard\"\n  ([edn]\n   (when-let [app (state\/active-tldraw-app)]\n     (clone-whiteboard-from-edn edn (.-api app))))\n  ([{:keys [pages blocks]} api]\n   (let [page-block (first pages)\n         ;; FIXME: should also clone normal blocks\n         shapes (build-shapes blocks)\n         tldr-page (pu\/page-block->tldr-page page-block)\n         assets (:assets tldr-page)\n         bindings (:bindings tldr-page)]\n     (.cloneShapesIntoCurrentPage ^js api (clj->js {:shapes shapes\n                                                    :assets assets\n                                                    :bindings bindings})))))\n(defn should-populate-onboarding-whiteboard?\n  \"When there is no whiteboard, or there is only one whiteboard that has the given page name, we should populate the onboarding shapes\"\n  [page-uuid]\n  (let [whiteboards (model\/get-all-whiteboards (state\/get-current-repo))]\n    (and (or (empty? whiteboards)\n             (and\n              (= 1 (count whiteboards))\n              (= (str page-uuid) (str (:block\/uuid (first whiteboards))))))\n         (not (state\/get-onboarding-whiteboard?)))))\n\n(defn update-shapes!\n  [shapes]\n  (when-let [app (state\/active-tldraw-app)]\n    (let [^js api (.-api app)]\n      (apply (.-updateShapes api) (bean\/->js shapes)))))\n\n(defn update-shapes-index!\n  [page-uuid]\n  (when-let [app (state\/active-tldraw-app)]\n    (let [tl-page ^js (second (first (.-pages app)))]\n      (when tl-page\n        (when-let [page (db\/get-page page-uuid)]\n          (let [shapes-index (->> (db\/sort-by-order (:block\/_page page))\n                                  (map (comp str :block\/uuid)))]\n            (when (seq shapes-index)\n              (.updateShapesIndex tl-page (bean\/->js shapes-index)))))))))\n\n(defn populate-onboarding-whiteboard\n  [api]\n  (when (some? api)\n    (-> (p\/let [edn (get-onboard-whiteboard-edn)]\n          (clone-whiteboard-from-edn edn api)\n          (state\/set-onboarding-whiteboard! true))\n        (p\/catch\n         (fn [e] (js\/console.warn \"Failed to populate onboarding whiteboard\" e))))))\n\n(defn cleanup!\n  [^js tl-page]\n  (let [shapes (.-shapes tl-page)]\n    (.cleanup tl-page (map #(.-id %) shapes))))\n\n(defn onboarding-show\n  []\n  (when (not (or (state\/sub :whiteboard\/onboarding-tour?)\n                 (config\/demo-graph?)\n                 (util\/mobile?)))\n    (state\/pub-event! [:whiteboard\/onboarding])\n    (state\/set-state! [:whiteboard\/onboarding-tour?] true)\n    (storage\/set :whiteboard-onboarding-tour? true)))\n","\/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n *\/\n\n\/**\n * @fileoverview Utilities for manipulating objects\/maps\/hashes.\n *\/\ngoog.module('goog.object');\ngoog.module.declareLegacyNamespace();\n\n\/**\n * Calls a function for each element in an object\/map\/hash.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):?} f The function to call for every\n *     element. This function takes 3 arguments (the value, the key and the\n *     object) and the return value is ignored.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {void}\n * @template T,K,V\n *\/\nfunction forEach(obj, f, opt_obj) {\n  for (const key in obj) {\n    f.call(\/** @type {?} *\/ (opt_obj), obj[key], key, obj);\n  }\n}\n\n\/**\n * Calls a function for each element in an object\/map\/hash. If that call returns\n * true, adds the element to a new object.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):boolean} f The function to call for\n *     every element. This function takes 3 arguments (the value, the key and\n *     the object) and should return a boolean. If the return value is true the\n *     element is added to the result object. If it is false the element is not\n *     included.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object<K,V>} a new object in which only elements that passed the\n *     test are present.\n * @template T,K,V\n *\/\nfunction filter(obj, f, opt_obj) {\n  const res = {};\n  for (const key in obj) {\n    if (f.call(\/** @type {?} *\/ (opt_obj), obj[key], key, obj)) {\n      res[key] = obj[key];\n    }\n  }\n  return res;\n}\n\n\/**\n * For every element in an object\/map\/hash calls a function and inserts the\n * result into a new object.\n * @param {?Object<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,?Object<K,V>):R} f The function to call for every\n *     element. This function takes 3 arguments (the value, the key and the\n *     object) and should return something. The result will be inserted into a\n *     new object.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object<K,R>} a new object with the results from f.\n * @template T,K,V,R\n *\/\nfunction map(obj, f, opt_obj) {\n  const res = {};\n  for (const key in obj) {\n    res[key] = f.call(\/** @type {?} *\/ (opt_obj), obj[key], key, obj);\n  }\n  return res;\n}\n\n\/**\n * Calls a function for each element in an object\/map\/hash. If any\n * call returns true, returns true (without checking the rest). If\n * all calls return false, returns false.\n * @param {?Object<K,V>} obj The object to check.\n * @param {function(this:T,V,?,?Object<K,V>):boolean} f The function to call for\n *     every element. This function takes 3 arguments (the value, the key and\n *     the object) and should return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} true if any element passes the test.\n * @template T,K,V\n *\/\nfunction some(obj, f, opt_obj) {\n  for (const key in obj) {\n    if (f.call(\/** @type {?} *\/ (opt_obj), obj[key], key, obj)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\/**\n * Calls a function for each element in an object\/map\/hash. If\n * all calls return true, returns true. If any call returns false, returns\n * false at this point and does not continue to check the remaining elements.\n * @param {?Object<K,V>} obj The object to check.\n * @param {?function(this:T,V,?,?Object<K,V>):boolean} f The function to call\n *     for every element. This function takes 3 arguments (the value, the key\n *     and the object) and should return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} false if any element fails the test.\n * @template T,K,V\n *\/\nfunction every(obj, f, opt_obj) {\n  for (const key in obj) {\n    if (!f.call(\/** @type {?} *\/ (opt_obj), obj[key], key, obj)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\/**\n * Returns the number of key-value pairs in the object map.\n * @param {?Object} obj The object for which to get the number of key-value\n *     pairs.\n * @return {number} The number of key-value pairs in the object map.\n *\/\nfunction getCount(obj) {\n  let rv = 0;\n  for (const key in obj) {\n    rv++;\n  }\n  return rv;\n}\n\n\/**\n * Returns one key from the object map, if any exists.\n * For map literals the returned key will be the first one in most of the\n * browsers (a know exception is Konqueror).\n * @param {?Object} obj The object to pick a key from.\n * @return {string|undefined} The key or undefined if the object is empty.\n *\/\nfunction getAnyKey(obj) {\n  for (const key in obj) {\n    return key;\n  }\n}\n\n\/**\n * Returns one value from the object map, if any exists.\n * For map literals the returned value will be the first one in most of the\n * browsers (a know exception is Konqueror).\n * @param {?Object<K,V>} obj The object to pick a value from.\n * @return {V|undefined} The value or undefined if the object is empty.\n * @template K,V\n *\/\nfunction getAnyValue(obj) {\n  for (const key in obj) {\n    return obj[key];\n  }\n}\n\n\/**\n * Whether the object\/hash\/map contains the given object as a value.\n * An alias for containsValue(obj, val).\n * @param {?Object<K,V>} obj The object in which to look for val.\n * @param {V} val The object for which to check.\n * @return {boolean} true if val is present.\n * @template K,V\n *\/\nfunction contains(obj, val) {\n  return containsValue(obj, val);\n}\n\n\/**\n * Returns the values of the object\/map\/hash.\n * @param {?Object<K,V>} obj The object from which to get the values.\n * @return {!Array<V>} The values in the object\/map\/hash.\n * @template K,V\n *\/\nfunction getValues(obj) {\n  const res = [];\n  let i = 0;\n  for (const key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n}\n\n\/**\n * Returns the keys of the object\/map\/hash.\n * @param {?Object} obj The object from which to get the keys.\n * @return {!Array<string>} Array of property keys.\n *\/\nfunction getKeys(obj) {\n  const res = [];\n  let i = 0;\n  for (const key in obj) {\n    res[i++] = key;\n  }\n  return res;\n}\n\n\/**\n * Get a value from an object multiple levels deep.  This is useful for\n * pulling values from deeply nested objects, such as JSON responses.\n * Example usage: getValueByKeys(jsonObj, 'foo', 'entries', 3)\n * @param {?Object} obj An object to get the value from. Can be array-like.\n * @param {...(string|number|!IArrayLike<number|string>)} var_args A number of\n *     keys (as strings, or numbers, for array-like objects). Can also be\n *     specified as a single array of keys.\n * @return {*} The resulting value. If, at any point, the value for a key in the\n *     current object is null or undefined, returns undefined.\n *\/\nfunction getValueByKeys(obj, var_args) {\n  const isArrayLike = goog.isArrayLike(var_args);\n  const keys = isArrayLike ?\n      \/** @type {!IArrayLike<number|string>} *\/ (var_args) :\n      arguments;\n\n  \/\/ Start with the 2nd parameter for the variable parameters syntax.\n  for (let i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    if (obj == null) return undefined;\n    obj = obj[keys[i]];\n  }\n\n  return obj;\n}\n\n\/**\n * Whether the object\/map\/hash contains the given key.\n * @param {?Object} obj The object in which to look for key.\n * @param {?} key The key for which to check.\n * @return {boolean} true If the map contains the key.\n *\/\nfunction containsKey(obj, key) {\n  return obj !== null && key in obj;\n}\n\n\/**\n * Whether the object\/map\/hash contains the given value. This is O(n).\n * @param {?Object<K,V>} obj The object in which to look for val.\n * @param {V} val The value for which to check.\n * @return {boolean} true If the map contains the value.\n * @template K,V\n *\/\nfunction containsValue(obj, val) {\n  for (const key in obj) {\n    if (obj[key] == val) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\/**\n * Searches an object for an element that satisfies the given condition and\n * returns its key.\n * @param {?Object<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,?Object<K,V>):boolean} f The function to\n *     call for every element. Takes 3 arguments (the value, the key and the\n *     object) and should return a boolean.\n * @param {T=} thisObj An optional \"this\" context for the function.\n * @return {string|undefined} The key of an element for which the function\n *     returns true or undefined if no such element is found.\n * @template T,K,V\n *\/\nfunction findKey(obj, f, thisObj = undefined) {\n  for (const key in obj) {\n    if (f.call(\/** @type {?} *\/ (thisObj), obj[key], key, obj)) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\n\/**\n * Searches an object for an element that satisfies the given condition and\n * returns its value.\n * @param {?Object<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,?Object<K,V>):boolean} f The function to\n *     call for every element. Takes 3 arguments (the value, the key and the\n *     object) and should return a boolean.\n * @param {T=} thisObj An optional \"this\" context for the function.\n * @return {V} The value of an element for which the function returns true or\n *     undefined if no such element is found.\n * @template T,K,V\n *\/\nfunction findValue(obj, f, thisObj = undefined) {\n  const key = findKey(obj, f, thisObj);\n  return key && obj[key];\n}\n\n\/**\n * Whether the object\/map\/hash is empty.\n * @param {?Object} obj The object to test.\n * @return {boolean} true if obj is empty.\n *\/\nfunction isEmpty(obj) {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n}\n\n\/**\n * Removes all key value pairs from the object\/map\/hash.\n * @param {?Object} obj The object to clear.\n * @return {void}\n *\/\nfunction clear(obj) {\n  for (const i in obj) {\n    delete obj[i];\n  }\n}\n\n\/**\n * Removes a key-value pair based on the key.\n * @param {?Object} obj The object from which to remove the key.\n * @param {?} key The key to remove.\n * @return {boolean} Whether an element was removed.\n *\/\nfunction remove(obj, key) {\n  let rv;\n  if (rv = key in \/** @type {!Object} *\/ (obj)) {\n    delete obj[key];\n  }\n  return rv;\n}\n\n\/**\n * Adds a key-value pair to the object. Throws an exception if the key is\n * already in use. Use set if you want to change an existing pair.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} val The value to add.\n * @return {void}\n * @template K,V\n *\/\nfunction add(obj, key, val) {\n  if (obj !== null && key in obj) {\n    throw new Error(`The object already contains the key \"${key}\"`);\n  }\n  set(obj, key, val);\n}\n\n\/**\n * Returns the value for the given key.\n * @param {?Object<K,V>} obj The object from which to get the value.\n * @param {string} key The key for which to get the value.\n * @param {R=} val The value to return if no item is found for the given key\n *     (default is undefined).\n * @return {V|R|undefined} The value for the given key.\n * @template K,V,R\n *\/\nfunction get(obj, key, val = undefined) {\n  if (obj !== null && key in obj) {\n    return obj[key];\n  }\n  return val;\n}\n\n\/**\n * Adds a key-value pair to the object\/map\/hash.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add.\n * @template K,V\n * @return {void}\n *\/\nfunction set(obj, key, value) {\n  obj[key] = value;\n}\n\n\/**\n * Adds a key-value pair to the object\/map\/hash if it doesn't exist yet.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n *\/\nfunction setIfUndefined(obj, key, value) {\n  return key in \/** @type {!Object} *\/ (obj) ? obj[key] : (obj[key] = value);\n}\n\n\/**\n * Sets a key and value to an object if the key is not set. The value will be\n * the return value of the given function. If the key already exists, the\n * object will not be changed and the function will not be called (the function\n * will be lazily evaluated -- only called if necessary).\n * This function is particularly useful when used with an `Object` which is\n * acting as a cache.\n * @param {?Object<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {function():V} f The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n *\/\nfunction setWithReturnValueIfNotSet(obj, key, f) {\n  if (key in obj) {\n    return obj[key];\n  }\n\n  const val = f();\n  obj[key] = val;\n  return val;\n}\n\n\/**\n * Compares two objects for equality using === on the values.\n * @param {!Object<K,V>} a\n * @param {!Object<K,V>} b\n * @return {boolean}\n * @template K,V\n *\/\nfunction equals(a, b) {\n  for (const k in a) {\n    if (!(k in b) || a[k] !== b[k]) {\n      return false;\n    }\n  }\n  for (const k in b) {\n    if (!(k in a)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\/**\n * Returns a shallow clone of the object.\n * @param {?Object<K,V>} obj Object to clone.\n * @return {!Object<K,V>} Clone of the input object.\n * @template K,V\n *\/\nfunction clone(obj) {\n  const res = {};\n  for (const key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n}\n\n\/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n * WARNINGS:\n * <code>unsafeClone<\/code> does not detect reference loops. Objects\n * that refer to themselves will cause infinite recursion.\n * <code>unsafeClone<\/code> is unaware of unique identifiers, and\n * copies UIDs created by <code>getUid<\/code> into cloned results.\n * @param {T} obj The value to clone.\n * @return {T} A clone of the input value.\n * @template T\n *\/\nfunction unsafeClone(obj) {\n  if (!obj || typeof obj !== 'object') return obj;\n  if (typeof obj.clone === 'function') return obj.clone();\n  if (typeof Map !== 'undefined' && obj instanceof Map) {\n    return new Map(obj);\n  } else if (typeof Set !== 'undefined' && obj instanceof Set) {\n    return new Set(obj);\n  } else if (obj instanceof Date) {\n    return new Date(obj.getTime());\n  }\n  const clone = Array.isArray(obj) ? [] :\n      typeof ArrayBuffer === 'function' &&\n          typeof ArrayBuffer.isView === 'function' && ArrayBuffer.isView(obj) &&\n          !(obj instanceof DataView) ?\n                                     new obj.constructor(obj.length) :\n                                     {};\n  for (const key in obj) {\n    clone[key] = unsafeClone(obj[key]);\n  }\n  return clone;\n}\n\n\/**\n * Returns a new object in which all the keys and values are interchanged\n * (keys become values and values become keys). If multiple keys map to the\n * same value, the chosen transposed value is implementation-dependent.\n * @param {?Object} obj The object to transpose.\n * @return {!Object} The transposed object.\n *\/\nfunction transpose(obj) {\n  const transposed = {};\n  for (const key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n}\n\n\/**\n * The names of the fields that are defined on Object.prototype.\n * @type {!Array<string>}\n *\/\nconst PROTOTYPE_FIELDS = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf',\n];\n\n\/**\n * Extends an object with another object.\n * This operates 'in-place'; it does not create a new Object.\n * Example:\n * var o = {};\n * extend(o, {a: 0, b: 1});\n * o; \/\/ {a: 0, b: 1}\n * extend(o, {b: 2, c: 3});\n * o; \/\/ {a: 0, b: 2, c: 3}\n * @param {?Object} target The object to modify. Existing properties will be\n *     overwritten if they are also present in one of the objects in `var_args`.\n * @param {...(?Object|undefined)} var_args The objects from which values\n *     will be copied.\n * @return {void}\n * @deprecated Prefer Object.assign\n *\/\nfunction extend(target, var_args) {\n  let key;\n  let source;\n  for (let i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n\n    \/\/ For IE the for-in-loop does not contain any properties that are not\n    \/\/ enumerable on the prototype object (for example isPrototypeOf from\n    \/\/ Object.prototype) and it will also not include 'replace' on objects that\n    \/\/ extend String and change 'replace' (not that it is common for anyone to\n    \/\/ extend anything except Object).\n\n    for (let j = 0; j < PROTOTYPE_FIELDS.length; j++) {\n      key = PROTOTYPE_FIELDS[j];\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n}\n\n\/**\n * Creates a new object built from the key-value pairs provided as arguments.\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments, otherwise even arguments are used as\n *     the property names and odd arguments are used as the property values.\n * @return {!Object} The new object.\n * @throws {!Error} If there are uneven number of arguments or there is only one\n *     non array argument.\n *\/\nfunction create(var_args) {\n  const argLength = arguments.length;\n  if (argLength == 1 && Array.isArray(arguments[0])) {\n    return create.apply(null, arguments[0]);\n  }\n\n  if (argLength % 2) {\n    throw new Error('Uneven number of arguments');\n  }\n\n  const rv = {};\n  for (let i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n}\n\n\/**\n * Creates a new object where the property names come from the arguments but\n * the value is always set to true\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments, otherwise the arguments are used as\n *     the property names.\n * @return {!Object} The new object.\n *\/\nfunction createSet(var_args) {\n  const argLength = arguments.length;\n  if (argLength == 1 && Array.isArray(arguments[0])) {\n    return createSet.apply(null, arguments[0]);\n  }\n\n  const rv = {};\n  for (let i = 0; i < argLength; i++) {\n    rv[arguments[i]] = true;\n  }\n  return rv;\n}\n\n\/**\n * Creates an immutable view of the underlying object, if the browser\n * supports immutable objects.\n * In default mode, writes to this view will fail silently. In strict mode,\n * they will throw an error.\n * @param {!Object<K,V>} obj An object.\n * @return {!Object<K,V>} An immutable view of that object, or the original\n *     object if this browser does not support immutables.\n * @template K,V\n *\/\nfunction createImmutableView(obj) {\n  let result = obj;\n  if (Object.isFrozen && !Object.isFrozen(obj)) {\n    result = Object.create(obj);\n    Object.freeze(result);\n  }\n  return result;\n}\n\n\/**\n * @param {!Object} obj An object.\n * @return {boolean} Whether this is an immutable view of the object.\n *\/\nfunction isImmutableView(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n}\n\n\/**\n * Get all properties names on a given Object regardless of enumerability.\n * <p> If the browser does not support `Object.getOwnPropertyNames` nor\n * `Object.getPrototypeOf` then this is equivalent to using\n * `getKeys`\n * @param {?Object} obj The object to get the properties of.\n * @param {boolean=} includeObjectPrototype Whether properties defined on\n *     `Object.prototype` should be included in the result.\n * @param {boolean=} includeFunctionPrototype Whether properties defined on\n *     `Function.prototype` should be included in the result.\n * @return {!Array<string>}\n * @public\n *\/\nfunction getAllPropertyNames(\n    obj, includeObjectPrototype = undefined,\n    includeFunctionPrototype = undefined) {\n  if (!obj) {\n    return [];\n  }\n\n  \/\/ Naively use a for..in loop to get the property names if the browser doesn't\n  \/\/ support any other APIs for getting it.\n  if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n    return getKeys(obj);\n  }\n\n  const visitedSet = {};\n\n  \/\/ Traverse the prototype chain and add all properties to the visited set.\n  let proto = obj;\n  while (proto && (proto !== Object.prototype || !!includeObjectPrototype) &&\n         (proto !== Function.prototype || !!includeFunctionPrototype)) {\n    const names = Object.getOwnPropertyNames(proto);\n    for (let i = 0; i < names.length; i++) {\n      visitedSet[names[i]] = true;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return getKeys(visitedSet);\n}\n\n\/**\n * Given a ES5 or ES6 class reference, return its super class \/ super\n * constructor.\n * This should be used in rare cases where you need to walk up the inheritance\n * tree (this is generally a bad idea). But this work with ES5 and ES6 classes,\n * unlike relying on the superClass_ property.\n * Note: To start walking up the hierarchy from an instance call this with its\n * `constructor` property; e.g. `getSuperClass(instance.constructor)`.\n * @param {function(new: ?)} constructor\n * @return {?Object}\n *\/\nfunction getSuperClass(constructor) {\n  const proto = Object.getPrototypeOf(constructor.prototype);\n  return proto && proto.constructor;\n}\n\nexports = {\n  add,\n  clear,\n  clone,\n  contains,\n  containsKey,\n  containsValue,\n  create,\n  createImmutableView,\n  createSet,\n  equals,\n  every,\n  extend,\n  filter,\n  findKey,\n  findValue,\n  forEach,\n  get,\n  getAllPropertyNames,\n  getAnyKey,\n  getAnyValue,\n  getCount,\n  getKeys,\n  getSuperClass,\n  getValueByKeys,\n  getValues,\n  isEmpty,\n  isImmutableView,\n  map,\n  remove,\n  set,\n  setIfUndefined,\n  setWithReturnValueIfNotSet,\n  some,\n  transpose,\n  unsafeClone,\n};\n","(ns frontend.util\n  \"Main ns for utility fns. This ns should be split up into more focused namespaces\"\n  #?(:clj (:refer-clojure :exclude [format]))\n  #?(:cljs (:require-macros [frontend.util]))\n  #?(:cljs (:require\n            [\"\/frontend\/selection\" :as selection]\n            [\"\/frontend\/utils\" :as utils]\n            [\"@capacitor\/status-bar\" :refer [^js StatusBar Style]]\n            [\"@capgo\/capacitor-navigation-bar\" :refer [^js NavigationBar]]\n            [\"grapheme-splitter\" :as GraphemeSplitter]\n            [\"sanitize-filename\" :as sanitizeFilename]\n            [\"check-password-strength\" :refer [passwordStrength]]\n            [\"path-complete-extname\" :as pathCompleteExtname]\n            [frontend.loader :refer [load]]\n            [cljs-bean.core :as bean]\n            [cljs-time.coerce :as tc]\n            [cljs-time.core :as t]\n            [clojure.pprint]\n            [dommy.core :as d]\n            [frontend.mobile.util :as mobile-util]\n            [logseq.common.util :as common-util]\n            [goog.dom :as gdom]\n            [goog.object :as gobj]\n            [goog.string :as gstring]\n            [goog.userAgent]\n            [promesa.core :as p]\n            [rum.core :as rum]\n            [clojure.core.async :as async]\n            [frontend.pubsub :as pubsub]\n            [datascript.impl.entity :as de]))\n  #?(:cljs (:import [goog.async Debouncer]))\n  (:require\n   [clojure.pprint]\n   [clojure.string :as string]\n   [clojure.walk :as walk]))\n\n#?(:cljs (goog-define NODETEST false)\n   :clj (def NODETEST false))\n(defonce node-test? NODETEST)\n\n#?(:cljs\n   (extend-protocol IPrintWithWriter\n     symbol\n     (-pr-writer [sym writer _]\n       (-write writer (str \"\\\"\" (.toString sym) \"\\\"\")))))\n#?(:cljs\n   (extend-protocol INamed\n     UUID\n     (-name [this] (str this))\n     (-namespace [_] nil)))\n\n#?(:cljs (defonce ^js node-path utils\/nodePath))\n#?(:cljs (defonce ^js full-path-extname pathCompleteExtname))\n#?(:cljs (defn app-scroll-container-node\n           ([]\n            (gdom\/getElement \"main-content-container\"))\n           ([el]\n            (if (.closest el \"#main-content-container\")\n              (app-scroll-container-node)\n              (or\n               (gdom\/getElementByClass \"sidebar-item-list\")\n               (app-scroll-container-node))))))\n#?(:cljs (defonce el-visible-in-viewport? utils\/elementIsVisibleInViewport))\n#?(:cljs (defonce convert-to-roman utils\/convertToRoman))\n#?(:cljs (defonce convert-to-letters utils\/convertToLetters))\n#?(:cljs (defonce hsl2hex utils\/hsl2hex))\n\n#?(:cljs (def string-join-path common-util\/string-join-path))\n\n#?(:cljs\n   (do\n     (def safe-re-find common-util\/safe-re-find)\n     (defn safe-keyword\n       [s]\n       (when (string? s)\n         (keyword (string\/replace s \" \" \"_\"))))))\n\n#?(:cljs\n   (do\n     (def uuid-string? common-util\/uuid-string?)\n     (defn check-password-strength\n       {:malli\/schema [:=> [:cat :string] [:maybe\n                                           [:map\n                                            [:contains [:sequential :string]]\n                                            [:length :int]\n                                            [:id :int]\n                                            [:value :string]]]]}\n       [input]\n       (when-let [^js ret (and (string? input)\n                               (not (string\/blank? input))\n                               (passwordStrength input))]\n         (bean\/->clj ret)))\n     (defn safe-sanitize-file-name\n       {:malli\/schema [:=> [:cat :string] :string]}\n       [s]\n       (sanitizeFilename (str s)))))\n\n#?(:cljs\n   (do\n     (defn- ios*?\n       []\n       (utils\/ios))\n     (def ios? (memoize ios*?))))\n\n#?(:cljs\n   (do\n     (defn- safari*?\n       []\n       (let [ua (string\/lower-case js\/navigator.userAgent)]\n         (and (string\/includes? ua \"webkit\")\n              (not (string\/includes? ua \"chrome\")))))\n     (def safari? (memoize safari*?))))\n\n#?(:cljs\n   (do\n     (defn- mobile*?\n       \"Triggering condition: Mobile phones\n        *** Warning!!! ***\n        For UX logic only! Don't use for FS logic\n        iPad \/ Android Pad doesn't trigger!\"\n       []\n       (when-not node-test?\n         (safe-re-find #\"Mobi\" js\/navigator.userAgent)))\n     (def mobile? (memoize mobile*?))))\n\n#?(:cljs\n   (do\n     (defn- electron*?\n       []\n       (when (and js\/window (gobj\/get js\/window \"navigator\"))\n         (gstring\/caseInsensitiveContains js\/navigator.userAgent \" electron\")))\n     (def electron? (memoize electron*?))))\n\n#?(:cljs\n   (defn mocked-open-dir-path\n     \"Mocked open DIR path for by-passing open dir in electron during testing. Nil if not given\"\n     []\n     (when (electron?) (. js\/window -__MOCKED_OPEN_DIR_PATH__))))\n\n;; #?(:cljs\n;;    (defn ci?\n;;      []\n;;      (boolean (. js\/window -__E2E_TESTING__))))\n\n#?(:cljs\n   (do\n     (def nfs? (and (not (electron?))\n                    (not (mobile-util\/native-platform?))))\n     (def web-platform? nfs?)))\n\n#?(:cljs\n   (defn file-protocol?\n     []\n     (string\/starts-with? js\/window.location.href \"file:\/\/\")))\n\n#?(:cljs\n   (def format common-util\/format))\n\n#?(:clj\n   (defn format\n     [fmt & args]\n     (apply clojure.core\/format fmt args)))\n\n#?(:cljs\n   (defn evalue\n     [event]\n     (gobj\/getValueByKeys event \"target\" \"value\")))\n\n#?(:cljs\n   (defn ekey [event]\n     (gobj\/getValueByKeys event \"key\")))\n\n#?(:cljs\n   (defn echecked? [event]\n     (gobj\/getValueByKeys event \"target\" \"checked\")))\n\n#?(:cljs\n   (defn set-change-value\n     \"compatible change event for React\"\n     [node value]\n     (utils\/triggerInputChange node value)))\n\n#?(:cljs\n   (defn p-handle\n     ([p ok-handler]\n      (p-handle p ok-handler (fn [error]\n                               (js\/console.error error))))\n     ([p ok-handler error-handler]\n      (-> p\n          (p\/then (fn [result]\n                    (ok-handler result)))\n          (p\/catch (fn [error]\n                     (error-handler error)))))))\n\n#?(:cljs\n   (defn get-width\n     []\n     (gobj\/get js\/window \"innerWidth\")))\n\n;; Keep the following colors in sync with common.css\n#?(:cljs\n   (defn- get-computed-bg-color\n     []\n     ;; window.getComputedStyle(document.body, null).getPropertyValue('background-color');\n     (let [styles (js\/window.getComputedStyle js\/document.body)\n           bg-color (gobj\/get styles \"background-color\")\n           ;; convert rgb(r,g,b) to #rrggbb\n           rgb2hex (fn [rgb]\n                     (->> rgb\n                          (map (comp #(.toString % 16) parse-long string\/trim))\n                          (map #(if (< (count %) 2)\n                                  (str \"0\" %)\n                                  %))\n                          (string\/join)\n                          (str \"#\")))]\n       (when (string\/starts-with? bg-color \"rgb\")\n         (let [rgb (-> bg-color\n                       (string\/replace #\"^rgb[^\\d]+\" \"\")\n                       (string\/replace #\"\\)$\" \"\")\n                       (string\/split #\",\"))\n               rgb (take 3 rgb)]\n           (rgb2hex rgb))))))\n\n#?(:cljs\n   (defn set-android-theme\n     []\n     (let [f #(when (mobile-util\/native-android?)\n                (when-let [bg-color (try (get-computed-bg-color)\n                                         (catch :default _\n                                           nil))]\n                  (.setNavigationBarColor NavigationBar (clj->js {:color bg-color}))\n                  (.setBackgroundColor StatusBar (clj->js {:color bg-color}))))]\n       (js\/setTimeout f 32))))\n\n#?(:cljs\n   (defn set-theme-light\n     []\n     (p\/do!\n      (.setStyle StatusBar (clj->js {:style (.-Light Style)}))\n      (set-android-theme))))\n\n#?(:cljs\n   (defn set-theme-dark\n     []\n     (p\/do!\n      (.setStyle StatusBar (clj->js {:style (.-Dark Style)}))\n      (set-android-theme))))\n\n(defn find-first\n  [pred coll]\n  (first (filter pred coll)))\n\n(defn find-index\n  \"Find first index of an element in list\"\n  [pred-or-val coll]\n  (let [pred (if (fn? pred-or-val) pred-or-val #(= pred-or-val %))]\n    (reduce-kv #(if (pred %3) (reduced %2) %1) -1\n               (cond-> coll (list? coll) (vec)))))\n\n;; \".lg:absolute.lg:inset-y-0.lg:right-0.lg:w-1\/2\"\n(defn hiccup->class\n  [class']\n  (some->> (string\/split class' #\"\\.\")\n           (string\/join \" \")\n           (string\/trim)))\n\n#?(:cljs\n   (defn fetch\n     ([url on-ok on-failed]\n      (fetch url {} on-ok on-failed))\n     ([url opts on-ok on-failed]\n      (-> (js\/fetch url (bean\/->js opts))\n          (.then (fn [resp]\n                   (if (>= (.-status resp) 400)\n                     (on-failed resp)\n                     (if (.-ok resp)\n                       (-> (.json resp)\n                           (.then bean\/->clj)\n                           (.then #(on-ok %)))\n                       (on-failed resp)))))))))\n\n(defn zero-pad\n  [n]\n  (if (< n 10)\n    (str \"0\" n)\n    (str n)))\n\n#?(:cljs\n   (defn safe-parse-int\n     \"Use if arg could be an int or string. If arg is only a string, use `parse-long`.\"\n     {:malli\/schema [:=> [:cat [:or :int :string]] :int]}\n     [x]\n     (if (string? x)\n       (parse-long x)\n       x)))\n\n#?(:cljs\n   (defn safe-parse-float\n     \"Use if arg could be a float or string. If arg is only a string, use `parse-double`\"\n     {:malli\/schema [:=> [:cat [:or :double :string]] :double]}\n     [x]\n     (if (string? x)\n       (parse-double x)\n       x)))\n\n#?(:cljs\n   (defn debounce\n     \"Returns a function that will call f only after threshold has passed without new calls\n      to the function. Calls prep-fn on the args in a sync way, which can be used for things like\n      calling .persist on the event object to be able to access the event attributes in f\"\n     ([threshold f] (debounce threshold f (constantly nil)))\n     ([threshold f prep-fn]\n      (let [t (atom nil)]\n        (fn [& args]\n          (when @t (js\/clearTimeout @t))\n          (apply prep-fn args)\n          (reset! t (js\/setTimeout #(do\n                                      (reset! t nil)\n                                      (apply f args))\n                                   threshold)))))))\n#?(:cljs\n   (defn cancelable-debounce\n     \"Create a stateful debounce function with specified interval\n\n      Returns [fire-fn, cancel-fn]\n\n      Use `fire-fn` to call the function(debounced)\n\n      Use `cancel-fn` to cancel pending callback if there is\"\n     [f interval]\n     (let [debouncer (Debouncer. f interval)]\n       [(fn [& args] (.apply (.-fire debouncer) debouncer (to-array args)))\n        (fn [] (.stop debouncer))])))\n\n(defn nth-safe [c i]\n  (if (or (< i 0) (>= i (count c)))\n    nil\n    (nth c i)))\n\n#?(:cljs\n   (when-not node-test?\n     (extend-type js\/NodeList\n       ISeqable\n       (-seq [arr] (array-seq arr 0)))))\n\n;; Caret\n#?(:cljs\n   (defn caret-range [node]\n     (when-let [doc (or (gobj\/get node \"ownerDocument\")\n                        (gobj\/get node \"document\"))]\n       (let [win (or (gobj\/get doc \"defaultView\")\n                     (gobj\/get doc \"parentWindow\"))\n             selection (.getSelection win)]\n         (if selection\n           (let [range-count (gobj\/get selection \"rangeCount\")]\n             (when (> range-count 0)\n               (let [range (-> (.getSelection win)\n                               (.getRangeAt 0))\n                     pre-caret-range (.cloneRange range)]\n                 (.selectNodeContents pre-caret-range node)\n                 (.setEnd pre-caret-range\n                          (gobj\/get range \"endContainer\")\n                          (gobj\/get range \"endOffset\"))\n                 (let [contents (.cloneContents pre-caret-range)\n                       html (some-> (first (.-childNodes contents))\n                                    (gobj\/get \"innerHTML\")\n                                    str)\n                       ;; FIXME: this depends on the dom structure,\n                       ;; need a converter from html to text includes newlines\n                       br-ended? (and html\n                                      (or\n                                       ;; first line with a new line\n                                       (string\/ends-with? html \"<div class=\\\"is-paragraph\\\"><\/div><\/div><\/span><\/div><\/div><\/div>\")\n                                       ;; multiple lines with a new line\n                                       (string\/ends-with? html \"<br><\/div><\/div><\/span><\/div><\/div><\/div>\")))\n                       value (.toString pre-caret-range)]\n                   (if br-ended?\n                     (str value \"\\n\")\n                     value)))))\n           (when-let [selection (gobj\/get doc \"selection\")]\n             (when (not= \"Control\" (gobj\/get selection \"type\"))\n               (let [text-range (.createRange selection)\n                     pre-caret-text-range (.createTextRange (gobj\/get doc \"body\"))]\n                 (.moveToElementText pre-caret-text-range node)\n                 (.setEndPoint pre-caret-text-range \"EndToEnd\" text-range)\n                 (gobj\/get pre-caret-text-range \"text\")))))))))\n\n(defn get-selection-start\n  [input]\n  (when input\n    (.-selectionStart input)))\n\n(defn get-selection-end\n  [input]\n  (when input\n    (.-selectionEnd input)))\n\n(defn input-text-selected?\n  [input]\n  (not= (get-selection-start input)\n        (get-selection-end input)))\n\n(defn get-selection-direction\n  [input]\n  (when input\n    (.-selectionDirection input)))\n\n#?(:cljs\n   (defn split-graphemes\n     [s]\n     (let [^js splitter (GraphemeSplitter.)]\n       (.splitGraphemes splitter s))))\n\n#?(:cljs\n   (defn get-graphemes-pos\n     \"Return the length of the substrings in s between start and from-index.\n\n      multi-char count as 1, like emoji characters\"\n     [s from-index]\n     (let [^js splitter (GraphemeSplitter.)]\n       (.countGraphemes splitter (subs s 0 from-index)))))\n\n#?(:cljs\n   (defn get-line-pos\n     \"Return the length of the substrings in s between the last index of newline\n      in s searching backward from from-newline-index and from-newline-index.\n\n      multi-char count as 1, like emoji characters\"\n     [s from-newline-index]\n     (let [^js splitter (GraphemeSplitter.)\n           last-newline-pos (string\/last-index-of s \\newline (dec from-newline-index))\n           before-last-newline-length (or last-newline-pos -1)\n           last-newline-content (subs s (inc before-last-newline-length) from-newline-index)]\n       (.countGraphemes splitter last-newline-content))))\n\n#?(:cljs\n   (defn get-text-range\n     \"Return the substring of the first grapheme-num characters of s if first-line? is true,\n      otherwise return the substring of s before the last \\n and the first grapheme-num characters.\n\n      grapheme-num treats multi-char as 1, like emoji characters\"\n     [s grapheme-num first-line?]\n     (let [newline-pos (if first-line?\n                         0\n                         (inc (or (string\/last-index-of s \\newline) -1)))\n           ^js splitter (GraphemeSplitter.)\n           ^js newline-graphemes (.splitGraphemes splitter (subs s newline-pos))\n           ^js newline-graphemes (.slice newline-graphemes 0 grapheme-num)\n           content (.join newline-graphemes \"\")]\n       (subs s 0 (+ newline-pos (count content))))))\n\n#?(:cljs\n   (defn stop [e]\n     (when e (doto e (.preventDefault) (.stopPropagation)))))\n\n#?(:cljs\n   (defn stop-propagation [e]\n     (when e (.stopPropagation e))))\n\n#?(:cljs\n   (defn nearest-scrollable-container [^js\/HTMLElement element]\n     (some #(when-let [overflow-y (.-overflowY (js\/window.getComputedStyle %))]\n              (when (contains? #{\"auto\" \"scroll\" \"overlay\"} overflow-y)\n                %))\n           (take-while (complement nil?) (iterate #(.-parentElement %) element)))))\n\n#?(:cljs\n   (defn element-visible?\n     [element]\n     (when element\n       (when-let [r (.getBoundingClientRect element)]\n         (and (>= (.-top r) 0)\n              (<= (+ (.-bottom r) 64)\n                  (or (.-innerHeight js\/window)\n                      (js\/document.documentElement.clientHeight))))))))\n\n#?(:cljs\n   (defn element-top [elem top]\n     (when elem\n       (if (.-offsetParent elem)\n         (let [client-top (or (.-clientTop elem) 0)\n               offset-top (.-offsetTop elem)]\n           (+ top client-top offset-top (element-top (.-offsetParent elem) top)))\n         top))))\n\n#?(:cljs\n   (defn scroll-to-element\n     [elem-id]\n     (when-not (safe-re-find #\"^\/\\d+$\" elem-id)\n       (when elem-id\n         (when-let [elem (gdom\/getElement elem-id)]\n           (.scroll (app-scroll-container-node)\n                    #js {:top (let [top (element-top elem 0)]\n                                (if (< top 256)\n                                  0\n                                  (- top 80)))\n                         :behavior \"smooth\"}))))))\n\n#?(:cljs\n   (defn scroll-to\n     ([pos]\n      (scroll-to (app-scroll-container-node) pos))\n     ([node pos]\n      (scroll-to node pos true))\n     ([node pos animate?]\n      (when node\n        (.scroll node\n                 #js {:top      pos\n                      :behavior (if animate? \"smooth\" \"auto\")})))))\n\n#?(:cljs\n   (defn scroll-top\n     \"Returns the scroll top position of the `node`. If `node` is not specified,\n     returns the scroll top position of the `app-scroll-container-node`.\"\n     ([]\n      (scroll-top (app-scroll-container-node)))\n     ([node]\n      (when node (.-scrollTop node)))))\n\n#?(:cljs\n   (defn scroll-to-top\n     ([]\n      (scroll-to (app-scroll-container-node) 0 false))\n     ([animate?]\n      (scroll-to (app-scroll-container-node) 0 animate?))))\n\n#?(:cljs\n   (defn scroll-to-block\n     \"Scroll into the view to vertically align a non-visible block to the centre\n     of the visible area\"\n     ([block]\n      (scroll-to-block block true))\n     ([block animate?]\n      (when block\n        (when-not (element-visible? block)\n          (.scrollIntoView block\n                           #js {:behavior (if animate? \"smooth\" \"auto\")\n                                :block    \"center\"}))))))\n\n#?(:cljs\n   (defn bottom-reached?\n     [node threshold]\n     (let [full-height (gobj\/get node \"scrollHeight\")\n           scroll-top' (gobj\/get node \"scrollTop\")\n           client-height (gobj\/get node \"clientHeight\")]\n       (<= (- full-height scroll-top' client-height) threshold))))\n\n#?(:cljs\n   (defn link?\n     [node]\n     (contains?\n      #{\"A\" \"BUTTON\"}\n      (gobj\/get node \"tagName\"))))\n\n#?(:cljs\n   (defn time?\n     [node]\n     (contains?\n      #{\"TIME\"}\n      (gobj\/get node \"tagName\"))))\n\n#?(:cljs\n   (defn audio?\n     [node]\n     (contains?\n      #{\"AUDIO\"}\n      (gobj\/get node \"tagName\"))))\n\n#?(:cljs\n   (defn video?\n     [node]\n     (contains?\n      #{\"VIDEO\"}\n      (gobj\/get node \"tagName\"))))\n\n#?(:cljs\n   (defn sup?\n     [node]\n     (contains?\n      #{\"SUP\"}\n      (gobj\/get node \"tagName\"))))\n\n#?(:cljs\n   (defn input?\n     [node]\n     (when node\n       (contains?\n        #{\"INPUT\" \"TEXTAREA\"}\n        (gobj\/get node \"tagName\")))))\n\n#?(:cljs\n   (defn details-or-summary?\n     [node]\n     (when node\n       (contains?\n        #{\"DETAILS\" \"SUMMARY\"}\n        (gobj\/get node \"tagName\")))))\n\n;; Debug\n(defn starts-with?\n  [s substr]\n  (string\/starts-with? s substr))\n\n#?(:cljs\n   (def distinct-by common-util\/distinct-by))\n\n#?(:cljs\n   (def distinct-by-last-wins common-util\/distinct-by-last-wins))\n\n(defn get-git-owner-and-repo\n  [repo-url]\n  (take-last 2 (string\/split repo-url #\"\/\")))\n\n(defn safe-lower-case\n  [s]\n  (if (string? s)\n    (string\/lower-case s) s))\n\n(defn trim-safe\n  [s]\n  (if (string? s)\n    (string\/trim s) s))\n\n(defn trimr-without-newlines\n  [s]\n  (.replace s #\"[ \\t\\r]+$\" \"\"))\n\n(defn triml-without-newlines\n  [s]\n  (.replace s #\"^[ \\t\\r]+\" \"\"))\n\n(defn concat-without-spaces\n  [left right]\n  (when (and (string? left)\n             (string? right))\n    (let [left (trimr-without-newlines left)\n          not-space? (or\n                      (string\/blank? left)\n                      (= \"\\n\" (last left)))]\n      (str left\n           (when-not not-space? \" \")\n           (triml-without-newlines right)))))\n\n(defn cjk-string?\n  [s]\n  (re-find #\"[\\u3040-\\u30ff\\u3400-\\u4dbf\\u4e00-\\u9fff\\uf900-\\ufaff\\uff66-\\uff9f]\" s))\n\n;; Add documentation\n(defn replace-first [pattern s new-value]\n  (if-let [first-index (string\/index-of s pattern)]\n    (str new-value (subs s (+ first-index (count pattern))))\n    s))\n\n(defn replace-last\n  ([pattern s new-value]\n   (replace-last pattern s new-value true))\n  ([pattern s new-value space?]\n   (if-let [last-index (string\/last-index-of s pattern)]\n     (let [prefix (subs s 0 last-index)]\n       (if space?\n         (concat-without-spaces prefix new-value)\n         (str prefix new-value)))\n     s)))\n\n;; copy from https:\/\/stackoverflow.com\/questions\/18735665\/how-can-i-get-the-positions-of-regex-matches-in-clojurescript\n#?(:cljs\n   (defn re-pos [re s]\n     (let [re (js\/RegExp. (.-source re) \"g\")]\n       (loop [res []]\n         (if-let [m (.exec re s)]\n           (recur (conj res [(.-index m) (first m)]))\n           res)))))\n\n#?(:cljs\n   (defn safe-set-range-text!\n     ([input text start end]\n      (try\n        (.setRangeText input text start end)\n        (catch :default _e\n          nil)))\n     ([input text start end select-mode]\n      (try\n        (.setRangeText input text start end select-mode)\n        (catch :default _e\n          nil)))))\n\n#?(:cljs\n   ;; for widen char\n   (defn safe-dec-current-pos-from-end\n     [input current-pos]\n     (if-let [len (and (number? current-pos) (string? input) (.-length input))]\n       (if-let [input (and (>= len 2) (<= current-pos len)\n                           (.substring input (max (- current-pos 20) 0) current-pos))]\n         (try\n           (let [^js splitter (GraphemeSplitter.)\n                 ^js input' (.splitGraphemes splitter input)]\n             (- current-pos (.-length (.pop input'))))\n           (catch :default e\n             (js\/console.error e)\n             (dec current-pos)))\n         (dec current-pos))\n       current-pos)))\n\n#?(:cljs\n   ;; for widen char\n   (defn safe-inc-current-pos-from-start\n     [input current-pos]\n     (if-let [len (and (number? current-pos) (string? input) (.-length input))]\n       (if-let [input (and (>= len 2) (<= current-pos len)\n                           (.substr input current-pos 20))]\n         (try\n           (let [^js splitter (GraphemeSplitter.)\n                 ^js input (.splitGraphemes splitter input)]\n             (+ current-pos (.-length (.shift input))))\n           (catch :default e\n             (js\/console.error e)\n             (inc current-pos)))\n         (inc current-pos))\n       current-pos)))\n\n#?(:cljs\n   (defn kill-line-before!\n     [input]\n     (let [val (.-value input)\n           end (get-selection-start input)\n           n-pos (string\/last-index-of val \\newline (dec end))\n           start (if n-pos (inc n-pos) 0)]\n       (safe-set-range-text! input \"\" start end))))\n\n#?(:cljs\n   (defn kill-line-after!\n     [input]\n     (let [val   (.-value input)\n           start (get-selection-start input)\n           end   (or (string\/index-of val \\newline start)\n                     (count val))]\n       (safe-set-range-text! input \"\" start end))))\n\n#?(:cljs\n   (defn insert-at-current-position!\n     [input text]\n     (let [start (get-selection-start input)\n           end   (get-selection-end input)]\n       (safe-set-range-text! input text start end \"end\"))))\n\n(defn safe-subvec [xs start end]\n  (if (or (neg? start)\n          (> start end)\n          (> end (count xs)))\n    []\n    (subvec xs start end)))\n\n#?(:cljs\n   (defn get-nodes-between-two-nodes\n     [id1 id2 class]\n     (when-let [nodes (array-seq (js\/document.getElementsByClassName class))]\n       (let [node-1 (gdom\/getElement id1)\n             node-2 (gdom\/getElement id2)\n             idx-1 (.indexOf nodes node-1)\n             idx-2 (.indexOf nodes node-2)\n             start (min idx-1 idx-2)\n             end (inc (max idx-1 idx-2))]\n         (safe-subvec (vec nodes) start end)))))\n\n#?(:cljs\n   (defn get-direction-between-two-nodes\n     [id1 id2 class]\n     (when-let [nodes (array-seq (js\/document.getElementsByClassName class))]\n       (let [node-1 (gdom\/getElement id1)\n             node-2 (gdom\/getElement id2)\n             idx-1 (.indexOf nodes node-1)\n             idx-2 (.indexOf nodes node-2)]\n         (if (>= idx-1 idx-2)\n           :up\n           :down)))))\n\n#?(:cljs\n   (defn rec-get-node\n     [node class]\n     (if (and node (d\/has-class? node class))\n       node\n       (and node\n            (rec-get-node (gobj\/get node \"parentNode\") class)))))\n\n#?(:cljs\n   (defn rec-get-blocks-container\n     [node]\n     (rec-get-node node \"blocks-container\")))\n\n#?(:cljs\n   (defn rec-get-blocks-content-section\n     [node]\n     (rec-get-node node \"content\")))\n\n#?(:cljs\n   (defn get-blocks-noncollapse\n     ([]\n      (->> (d\/sel \"div:not(.reveal) .ls-block\")\n           (filter (fn [b] (some? (gobj\/get b \"offsetParent\"))))))\n     ([blocks-container]\n      (->> (d\/sel blocks-container \"div:not(.reveal) .ls-block\")\n           (filter (fn [b] (some? (gobj\/get b \"offsetParent\"))))))))\n\n#?(:cljs\n   (defn remove-embedded-blocks [blocks]\n     (->> blocks\n          (remove (fn [b] (= \"true\" (d\/attr b \"data-embed\")))))))\n\n#?(:cljs\n   (defn get-selected-text\n     []\n     (utils\/getSelectionText)))\n\n#?(:cljs (def clear-selection! selection\/clearSelection))\n\n#?(:cljs\n   (defn copy-to-clipboard!\n     [text & {:keys [graph html blocks owner-window]}]\n     (let [blocks (map (fn [block] (if (de\/entity? block)\n                                     (-> (into {} block)\n                                         ;; FIXME: why :db\/id is not included?\n                                         (assoc :db\/id (:db\/id block)))\n                                     block)) blocks)\n           data (clj->js\n                 (common-util\/remove-nils-non-nested\n                  {:text text\n                   :html html\n                   :blocks (when (and graph (seq blocks))\n                             (pr-str\n                              {:graph graph\n                               :blocks (mapv #(dissoc % :block.temp\/fully-loaded? %) blocks)}))}))]\n       (if owner-window\n         (utils\/writeClipboard data owner-window)\n         (utils\/writeClipboard data)))))\n\n(defn drop-nth [n coll]\n  (keep-indexed #(when (not= %1 n) %2) coll))\n\n#?(:cljs\n   (defn react\n     [ref]\n     (if rum\/*reactions*\n       (rum\/react ref)\n       @ref)))\n\n#?(:cljs\n   (def time-ms common-util\/time-ms))\n\n(defn d\n  [k f]\n  (let [result (atom nil)]\n    (println (str \"Debug \" k))\n    (time (reset! result (doall (f))))\n    @result))\n\n#?(:cljs\n   (def concat-without-nil common-util\/concat-without-nil))\n\n#?(:cljs\n   (defn set-title!\n     [title]\n     (set! (.-title js\/document) title)))\n\n#?(:cljs\n   (defn get-block-container\n     [block-element]\n     (when block-element\n       (when-let [section (some-> (rec-get-blocks-content-section block-element)\n                                  (d\/parent))]\n         (when section\n           (gdom\/getElement section \"id\"))))))\n\n#?(:cljs\n   (defn- skip-same-top-blocks\n     [blocks block]\n     (let [property? (= (d\/attr block \"data-is-property\") \"true\")\n           properties-area (rec-get-node block \"ls-properties-area\")]\n       (remove (fn [b]\n                 (and\n                  (not= b block)\n                  (or (= (when b (.-top (.getBoundingClientRect b)))\n                         (when block (.-top (.getBoundingClientRect block))))\n                      (when property?\n                        (and (not= (d\/attr b \"data-is-property\") \"true\")\n                             (gdom\/contains properties-area b)))))) blocks))))\n\n#?(:cljs\n   (defn get-prev-block-non-collapsed\n     \"Gets previous non-collapsed block. If given a container\n      looks up blocks in that container e.g. for embed\"\n     ([block] (get-prev-block-non-collapsed block {}))\n     ([block {:keys [container up-down?]}]\n      (when-let [blocks (if container\n                          (get-blocks-noncollapse container)\n                          (get-blocks-noncollapse))]\n        (let [blocks (if up-down?\n                       (skip-same-top-blocks blocks block)\n                       blocks)]\n          (when-let [index (.indexOf blocks block)]\n            (let [idx (dec index)]\n              (when (>= idx 0)\n                (nth-safe blocks idx)))))))))\n\n#?(:cljs\n   (defn get-prev-block-non-collapsed-non-embed\n     [block]\n     (when-let [blocks (->> (get-blocks-noncollapse)\n                            remove-embedded-blocks)]\n       (when-let [index (.indexOf blocks block)]\n         (let [idx (dec index)]\n           (when (>= idx 0)\n             (nth-safe blocks idx)))))))\n\n#?(:cljs\n   (defn get-next-block-non-collapsed\n     [block {:keys [up-down?]}]\n     (when-let [blocks (and block (get-blocks-noncollapse))]\n       (let [blocks (if up-down?\n                      (skip-same-top-blocks blocks block)\n                      blocks)]\n         (when-let [index (.indexOf blocks block)]\n           (let [idx (inc index)]\n             (when (>= (count blocks) idx)\n               (nth-safe blocks idx))))))))\n\n#?(:cljs\n   (defn get-next-block-non-collapsed-skip\n     [block]\n     (when-let [blocks (get-blocks-noncollapse)]\n       (when-let [index (.indexOf blocks block)]\n         (loop [idx (inc index)]\n           (when (>= (count blocks) idx)\n             (let [block (nth-safe blocks idx)\n                   nested? (->> (array-seq (gdom\/getElementsByClass \"selected\"))\n                                (some (fn [dom] (.contains dom block))))]\n               (if nested?\n                 (recur (inc idx))\n                 block))))))))\n\n(defn rand-str\n  [n]\n  #?(:cljs (-> (.toString (js\/Math.random) 36)\n               (.substr 2 n))\n     :clj (->> (repeatedly #(Integer\/toString (rand 36) 36))\n               (take n)\n               (apply str))))\n\n(defn unique-id\n  []\n  (str (rand-str 6) (rand-str 3)))\n\n(defn pp-str [x]\n  #_:clj-kondo\/ignore\n  (with-out-str (clojure.pprint\/pprint x)))\n\n(defn hiccup-keywordize\n  [hiccup]\n  (walk\/postwalk\n   (fn [f]\n     (if (and (vector? f) (string? (first f)))\n       (update f 0 keyword)\n       f))\n   hiccup))\n\n#?(:cljs\n   (defn chrome?\n     []\n     (let [user-agent js\/navigator.userAgent\n           vendor js\/navigator.vendor]\n       (boolean (and (safe-re-find #\"Chrome\" user-agent)\n                     (safe-re-find #\"Google Inc\" vendor))))))\n\n#?(:cljs\n   (defn indexeddb-check?\n     \"Check if indexedDB support is available, reject if not\"\n     []\n     (let [db-name \"logseq-indexeddb-check\"]\n       (if js\/window.indexedDB\n         (js\/Promise. (fn [resolve reject]\n                        (let [req (js\/window.indexedDB.open db-name)]\n                          (set! (.-onerror req) reject)\n                          (set! (.-onsuccess req)\n                                (fn [_event]\n                                  (.close (.-result req))\n                                  (let [req (js\/window.indexedDB.deleteDatabase db-name)]\n                                    (set! (.-onerror req) reject)\n                                    (set! (.-onsuccess req) (fn [_event]\n                                                              (resolve true)))))))))\n         (p\/rejected \"no indexeddb defined\")))))\n\n(defonce mac? #?(:cljs goog.userAgent\/MAC\n                 :clj nil))\n\n(defonce win32? #?(:cljs goog.userAgent\/WINDOWS\n                   :clj nil))\n\n(defonce linux? #?(:cljs goog.userAgent\/LINUX\n                   :clj nil))\n\n#?(:cljs\n   (defn get-first-block-by-id\n     [block-id]\n     (when block-id\n       (let [block-id (str block-id)]\n         (when (uuid-string? block-id)\n           (first (array-seq (js\/document.getElementsByClassName (str \"id\" block-id)))))))))\n\n#?(:cljs\n   (defn url-encode\n     [string]\n     (some-> string str (js\/encodeURIComponent) (.replace \"+\" \"%20\"))))\n\n#?(:cljs\n   (def page-name-sanity-lc\n     \"Delegate to common-util to loosely couple app usages to graph-parser\"\n     common-util\/page-name-sanity-lc))\n\n#?(:cljs\n   (def safe-page-name-sanity-lc common-util\/safe-page-name-sanity-lc))\n\n#?(:cljs\n   (def get-page-title common-util\/get-page-title))\n\n#?(:cljs\n   (defn add-style!\n     [style]\n     (when (some? style)\n       (let [parent-node (d\/sel1 :head)\n             id \"logseq-custom-theme-id\"\n             old-link-element (d\/sel1 (str \"#\" id))\n             style (if (string\/starts-with? style \"http\")\n                     style\n                     (str \"data:text\/css;charset=utf-8,\" (js\/encodeURIComponent style)))]\n         (when old-link-element\n           (d\/remove! old-link-element))\n         (let [link (->\n                     (d\/create-element :link)\n                     (d\/set-attr! :id id)\n                     (d\/set-attr! :rel \"stylesheet\")\n                     (d\/set-attr! :type \"text\/css\")\n                     (d\/set-attr! :href style)\n                     (d\/set-attr! :media \"all\"))]\n           (d\/append! parent-node link))\n         (set-android-theme)))))\n\n(defn remove-common-preceding\n  [col1 col2]\n  (if (and (= (first col1) (first col2))\n           (seq col1))\n    (recur (rest col1) (rest col2))\n    [col1 col2]))\n\n;; fs\n#?(:cljs\n   (defn get-file-ext\n     [file]\n     (and\n      (string? file)\n      (string\/includes? file \".\")\n      (some-> (common-util\/path->file-ext file) string\/lower-case))))\n\n#?(:cljs\n   (defn get-dir-and-basename\n     [path]\n     (let [parts (string\/split path \"\/\")\n           basename (last parts)\n           dir (->> (butlast parts)\n                    string-join-path)]\n       [dir basename])))\n\n#?(:cljs\n   (defn get-relative-path\n     [current-file-path another-file-path]\n     (let [directories-f #(butlast (string\/split % \"\/\"))\n           parts-1 (directories-f current-file-path)\n           parts-2 (directories-f another-file-path)\n           [parts-1 parts-2] (remove-common-preceding parts-1 parts-2)\n           another-file-name (last (string\/split another-file-path \"\/\"))]\n       (->> (concat\n             (if (seq parts-1)\n               (repeat (count parts-1) \"..\")\n               [\".\"])\n             parts-2\n             [another-file-name])\n            string-join-path))))\n\n#?(:clj\n   (defmacro profile\n     [k & body]\n     `(if goog.DEBUG\n        (let [k# ~k]\n          (.time js\/console k#)\n          (let [res# (do ~@body)]\n            (.timeEnd js\/console k#)\n            res#))\n        (do ~@body))))\n\n#?(:clj\n   (defmacro with-time\n     \"Evaluates expr and prints the time it took.\n      Returns the value of expr and the spent time of float number in msecs.\"\n     [expr]\n     `(let [start# (cljs.core\/system-time)\n            ret# ~expr]\n        {:result ret#\n         :time (- (cljs.core\/system-time) start#)})))\n\n;; TODO: profile and profileEnd\n\n(comment\n  (= (get-relative-path \"journals\/2020_11_18.org\" \"pages\/grant_ideas.org\")\n     \"..\/pages\/grant_ideas.org\")\n\n  (= (get-relative-path \"journals\/2020_11_18.org\" \"journals\/2020_11_19.org\")\n     \".\/2020_11_19.org\")\n\n  (= (get-relative-path \"a\/b\/c\/d\/g.org\" \"a\/b\/c\/e\/f.org\")\n     \"..\/e\/f.org\"))\n\n(defn keyname [key] (str (namespace key) \"\/\" (name key)))\n\n;; FIXME: drain-chan was copied from frontend.worker.util due to shadow-cljs compile bug\n#?(:cljs\n   (defn drain-chan\n     \"drop all stuffs in CH, and return all of them\"\n     [ch]\n     (->> (repeatedly #(async\/poll! ch))\n          (take-while identity))))\n\n#?(:cljs\n   (defn trace!\n     []\n     (js\/console.trace)))\n\n#?(:cljs\n   (def remove-first common-util\/remove-first))\n\n#?(:cljs\n   (defn backward-kill-word\n     [input]\n     (let [val     (.-value input)\n           current (get-selection-start input)\n           prev    (or\n                    (->> [(string\/last-index-of val \\space (dec current))\n                          (string\/last-index-of val \\newline (dec current))]\n                         (remove nil?)\n                         (apply max))\n                    0)\n           idx     (if (zero? prev)\n                     0\n                     (->\n                      (loop [idx prev]\n                        (if (#{\\space \\newline} (nth-safe val idx))\n                          (recur (dec idx))\n                          idx))\n                      inc))]\n       (safe-set-range-text! input \"\" idx current))))\n\n#?(:cljs\n   (defn forward-kill-word\n     [input]\n     (let [val   (.-value input)\n           current (get-selection-start input)\n           current (loop [idx current]\n                     (if (#{\\space \\newline} (nth-safe val idx))\n                       (recur (inc idx))\n                       idx))\n           idx (or (->> [(string\/index-of val \\space current)\n                         (string\/index-of val \\newline current)]\n                        (remove nil?)\n                        (apply min))\n                   (count val))]\n       (safe-set-range-text! input \"\" current (inc idx)))))\n\n#?(:cljs\n   (defn fix-open-external-with-shift!\n     [^js\/MouseEvent e]\n     (when (and (.-shiftKey e) win32? (electron?)\n                (= (string\/lower-case (.. e -target -nodeName)) \"a\")\n                (string\/starts-with? (.. e -target -href) \"file:\"))\n       (.preventDefault e))))\n\n(defn classnames\n  \"Like react classnames utility:\n\n     ```\n      [:div {:class (classnames [:a :b {:c true}])}\n     ```\n  \"\n  [args]\n  (into #{} (mapcat\n             #(if (map? %)\n                (for [[k v] %]\n                  (when v (name k)))\n                (when-not (nil? %) [(name %)]))\n             args)))\n\n#?(:cljs\n   (defn- get-dom-top\n     [node]\n     (when node\n       (gobj\/get (.getBoundingClientRect node) \"top\"))))\n\n#?(:cljs\n   (defn sort-by-height\n     [elements]\n     (sort (fn [x y]\n             (< (get-dom-top x) (get-dom-top y)))\n           (remove nil? elements))))\n\n#?(:cljs\n   (defn calc-delta-rect-offset\n     [^js\/HTMLElement target ^js\/HTMLElement container]\n     (let [target-rect (bean\/->clj (.toJSON (.getBoundingClientRect target)))\n           viewport-rect {:width  (.-clientWidth container)\n                          :height (.-clientHeight container)}]\n\n       {:y (- (:height viewport-rect) (:bottom target-rect))\n        :x (- (:width viewport-rect) (:right target-rect))})))\n\n(def regex-char-esc-smap\n  (let [esc-chars \"{}[]()&^%$#!?*.+|\\\\\"]\n    (zipmap esc-chars\n            (map #(str \"\\\\\" %) esc-chars))))\n\n(defn regex-escape\n  \"Escape all regex meta chars in text.\"\n  [text]\n  (string\/join (replace regex-char-esc-smap text)))\n\n(comment\n  (re-matches (re-pattern (regex-escape \"$u^8(d)+w.*[dw]d?\")) \"$u^8(d)+w.*[dw]d?\"))\n\n#?(:cljs\n   (defn meta-key? [e]\n     (if mac?\n       (gobj\/get e \"metaKey\")\n       (gobj\/get e \"ctrlKey\"))))\n\n#?(:cljs\n   (defn shift-key? [e]\n     (gobj\/get e \"shiftKey\")))\n\n#?(:cljs\n   (defn right-click?\n     [e]\n     (let [which (gobj\/get e \"which\")\n           button (gobj\/get e \"button\")]\n       (or (= which 3)\n           (= button 2)))))\n\n(def keyboard-height (atom nil))\n#?(:cljs\n   (defn scroll-editor-cursor\n     [^js\/HTMLElement el & {:keys [to-vw-one-quarter?]}]\n     (when (and el (or (mobile-util\/native-platform?) (mobile?)))\n       (let [box-rect    (.getBoundingClientRect el)\n             box-top     (.-top box-rect)\n             box-bottom  (.-bottom box-rect)\n\n             header-height (-> (gdom\/getElementByClass \"cp__header\")\n                               .-clientHeight)\n\n             main-node   (app-scroll-container-node el)\n             scroll-top'  (.-scrollTop main-node)\n\n             current-pos (get-selection-start el)\n             grapheme-pos (get-graphemes-pos (.-value (.textContent el)) current-pos)\n             mock-text   (some-> (gdom\/getElement \"mock-text\")\n                                 gdom\/getChildren\n                                 array-seq\n                                 (nth-safe grapheme-pos))\n             offset-top   (and mock-text (.-offsetTop mock-text))\n             offset-height (and mock-text (.-offsetHeight mock-text))\n\n             cursor-y    (if offset-top (+ offset-top box-top offset-height 2) box-bottom)\n             vw-height   (or (.-height js\/window.visualViewport)\n                             (.-clientHeight js\/document.documentElement))\n             ;; mobile toolbar height: 40px\n             scroll      (- cursor-y (- vw-height (+ @keyboard-height (+ 40 4))))]\n         (cond\n           (and to-vw-one-quarter? (> cursor-y (* vw-height 0.4)))\n           (set! (.-scrollTop main-node) (+ scroll-top' (- cursor-y (\/ vw-height 4))))\n\n           (and (< cursor-y (+ header-height offset-height 4)) ;; 4 is top+bottom padding for per line\n                (>= cursor-y header-height))\n           (.scrollBy main-node (bean\/->js {:top (- (+ offset-height 4))}))\n\n           (< cursor-y header-height)\n           (let [_ (.scrollIntoView el true)\n                 main-node (app-scroll-container-node el)\n                 scroll-top' (.-scrollTop main-node)]\n             (set! (.-scrollTop main-node) (- scroll-top' (\/ vw-height 4))))\n\n           (> scroll 0)\n           (set! (.-scrollTop main-node) (+ scroll-top' scroll))\n\n           :else\n           nil)))))\n\n#?(:cljs\n   (do\n     (defn breakpoint?\n       [size]\n       (< (.-offsetWidth js\/document.documentElement) size))\n\n     (defn sm-breakpoint?\n       [] (breakpoint? 640))))\n\n#?(:cljs\n   (do\n     (defn goog-event?\n       [^js e]\n       (and e (fn? (gobj\/get e \"getBrowserEvent\"))))\n\n     (defn goog-event-is-composing?\n       \"Check if keydown event is a composing (IME) event.\n        Ignore the IME process by default.\"\n       ([^js e]\n        (goog-event-is-composing? e false))\n       ([^js e include-process?]\n        (when (goog-event? e)\n          (let [event-composing? (some-> (.getBrowserEvent e) (.-isComposing))]\n            (if include-process?\n              (or event-composing?\n                  (= (gobj\/get e \"keyCode\") 229)\n                  (= (gobj\/get e \"key\") \"Process\"))\n              event-composing?)))))))\n\n#?(:cljs\n   (defn native-event-is-composing?\n     \"Check if onchange event of Input is a composing (IME) event.\n       Always ignore the IME process.\"\n     [^js e]\n     (when-let [^js native-event\n                (and e (cond\n                         (goog-event? e)\n                         (.getBrowserEvent e)\n\n                         (js-in \"_reactName\" e)\n                         (.-nativeEvent e)\n\n                         :else e))]\n       (.-isComposing native-event))))\n\n#?(:cljs\n   (defn open-url\n     [url]\n     (let [route? (or (string\/starts-with? url\n                                           (string\/replace js\/location.href js\/location.hash \"\"))\n                      (string\/starts-with? url \"#\"))]\n       (if (and (not route?) (electron?))\n         (js\/window.apis.openExternal url)\n         (set! (.-href js\/window.location) url)))))\n\n(defn collapsed?\n  [block]\n  (:block\/collapsed? block))\n\n#?(:cljs\n   (defn atom? [v]\n     (instance? Atom v)))\n\n;; https:\/\/stackoverflow.com\/questions\/32511405\/how-would-time-ago-function-implementation-look-like-in-clojure\n#?(:cljs\n   (defn human-time\n     \"time: inst-ms or js\/Date\"\n     [time & {:keys [ago? after?]\n              :or {ago? true\n                   after? false}}]\n     (let [ago? (if after? false ago?)\n           units [{:name \"second\" :limit 60 :in-second 1}\n                  {:name \"minute\" :limit 3600 :in-second 60}\n                  {:name \"hour\" :limit 86400 :in-second 3600}\n                  {:name \"day\" :limit 604800 :in-second 86400}\n                  {:name \"week\" :limit 2629743 :in-second 604800}\n                  {:name \"month\" :limit 31556926 :in-second 2629743}\n                  {:name \"year\" :limit js\/Number.MAX_SAFE_INTEGER :in-second 31556926}]\n           time' (if (instance? js\/Date time) time (js\/Date. time))\n           now (t\/now)\n           diff (t\/in-seconds (if ago? (t\/interval time' now) (t\/interval now time')))]\n       (if (< diff 5)\n         (if ago? \"just now\" (str diff \"seconds\"))\n         (let [unit (first (drop-while #(or (>= diff (:limit %))\n                                            (not (:limit %)))\n                                       units))]\n           (-> (\/ diff (:in-second unit))\n               Math\/floor\n               int\n               (#(str % \" \" (:name unit) (when (> % 1) \"s\")\n                      (when ago? \" ago\")\n                      (when after? \" later\")))))))))\n\n#?(:cljs\n   (def JS_ROOT\n     (when-not node-test?\n       (if (= js\/location.protocol \"file:\")\n         \".\/js\"\n         \".\/static\/js\"))))\n\n#?(:cljs\n   (defn js-load$\n     [url]\n     (p\/create\n      (fn [resolve]\n        (load url resolve)))))\n\n#?(:cljs\n   (defn css-load$\n     ([url] (css-load$ url nil))\n     ([url id]\n      (p\/create\n       (fn [resolve reject]\n         (let [id (str \"css-load-\" (or id url))]\n           (if-not (gdom\/getElement id)\n             (let [^js link (js\/document.createElement \"link\")]\n               (set! (.-id link) id)\n               (set! (.-rel link) \"stylesheet\")\n               (set! (.-href link) url)\n               (set! (.-onload link) resolve)\n               (set! (.-onerror link) reject)\n               (.append (.-head js\/document) link))\n             (resolve))))))))\n\n#?(:cljs\n   (defn image-blob->png\n     [blob cb]\n     (let [image (js\/Image.)\n           off-canvas (js\/document.createElement \"canvas\")\n           data-url (js\/URL.createObjectURL blob)\n           ctx (.getContext off-canvas \"2d\")]\n       (set! (.-onload image)\n             #(let [width (.-width image)\n                    height (.-height image)]\n                (set! (.-width off-canvas) width)\n                (set! (.-height off-canvas) height)\n                (.drawImage ctx image 0 0 width height)\n                (.toBlob off-canvas cb)))\n       (set! (.-src image) data-url))))\n\n#?(:cljs\n   (defn write-blob-to-clipboard\n     [blob]\n     (->> blob\n          (js-obj (.-type blob))\n          (js\/ClipboardItem.)\n          (array)\n          (js\/navigator.clipboard.write))))\n\n#?(:cljs\n   (defn copy-image-to-clipboard\n     [src]\n     (-> (js\/fetch src)\n         (.then (fn [data]\n                  (-> (.blob data)\n                      (.then (fn [blob]\n                               (if (= (.-type blob) \"image\/png\")\n                                 (write-blob-to-clipboard blob)\n                                 (image-blob->png blob write-blob-to-clipboard))))\n                      (.catch js\/console.error)))))))\n\n(defn memoize-last\n  \"Different from core.memoize, it only cache the last result.\n   Returns a memoized version of a referentially transparent function. The\n  memoized version of the function cache the the last result, and replay when calls\n   with the same arguments, or update cache when with different arguments.\"\n  [f]\n  (let [last-mem (atom nil)\n        last-args (atom nil)]\n    (fn [& args]\n      (if (or (nil? @last-mem)\n              (not= @last-args args))\n        (let [ret (apply f args)]\n          (reset! last-args args)\n          (reset! last-mem ret)\n          ret)\n        @last-mem))))\n\n#?(:cljs\n   (do\n     (defn <app-wake-up-from-sleep-loop\n       \"start a async\/go-loop to check the app awake from sleep.\nUse (async\/tap `pubsub\/app-wake-up-from-sleep-mult`) to receive messages.\nArg *stop: atom, reset to true to stop the loop\"\n       [*stop]\n       (let [*last-activated-at (volatile! (tc\/to-epoch (t\/now)))]\n         (async\/go-loop []\n           (if @*stop\n             (println :<app-wake-up-from-sleep-loop :stop)\n             (let [now-epoch (tc\/to-epoch (t\/now))]\n               (when (< @*last-activated-at (- now-epoch 10))\n                 (async\/>! pubsub\/app-wake-up-from-sleep-ch {:last-activated-at @*last-activated-at :now now-epoch}))\n               (vreset! *last-activated-at now-epoch)\n               (async\/<! (async\/timeout 5000))\n               (recur))))))))\n\n(defmacro concatv\n  \"Vector version of concat. non-lazy\"\n  [& args]\n  `(vec (concat ~@args)))\n\n(defmacro mapcatv\n  \"Vector version of mapcat. non-lazy\"\n  [f coll & colls]\n  `(vec (mapcat ~f ~coll ~@colls)))\n\n(defmacro removev\n  \"Vector version of remove. non-lazy\"\n  [pred coll]\n  `(vec (remove ~pred ~coll)))\n\n;; from rum\n#?(:cljs\n   (def schedule\n     (or (and (exists? js\/window)\n              (or js\/window.requestAnimationFrame\n                  js\/window.webkitRequestAnimationFrame\n                  js\/window.mozRequestAnimationFrame\n                  js\/window.msRequestAnimationFrame))\n         #(js\/setTimeout % 16))))\n\n#?(:cljs\n   (defn parse-params\n     \"Parse URL parameters in hash(fragment) into a hashmap\"\n     []\n     (if node-test?\n       {}\n       (when-let [fragment (-> js\/window\n                               (.-location)\n                               (.-hash)\n                               not-empty)]\n         (when (string\/starts-with? fragment \"#\/?\")\n           (->> (subs fragment 2)\n                (new js\/URLSearchParams)\n                (seq)\n                (js->clj)\n                (into {})\n                (walk\/keywordize-keys)))))))\n\n#?(:cljs\n   (defn get-cm-instance\n     [^js target]\n     (when target\n       (some-> target (.querySelector \".CodeMirror\") (.-CodeMirror)))))\n","(ns frontend.db\n  \"Main entry ns for db related fns\"\n  (:require [frontend.db.conn :as conn]\n            [frontend.db.model]\n            [frontend.db.react :as react]\n            [frontend.db.utils]\n            [frontend.namespaces :refer [import-vars]]\n            [logseq.db :as ldb]\n            [frontend.modules.outliner.ui :as ui-outliner-tx]\n            [frontend.modules.outliner.op :as outliner-op]\n            [frontend.state :as state]\n            [frontend.config :as config]\n            [logseq.outliner.op]))\n\n(import-vars\n [frontend.db.conn\n  ;; TODO: remove later\n  get-repo-path\n  get-repo-name\n  get-short-repo-name\n  get-db\n  remove-conn!]\n\n [frontend.db.utils\n  entity pull pull-many]\n\n [frontend.db.model\n  delete-blocks get-pre-block\n  delete-files delete-pages-by-files\n  get-block-and-children get-block-by-uuid get-block-children sort-by-order\n  get-block-parent get-block-parents parents-collapsed? get-block-referenced-blocks\n  get-block-immediate-children get-block-page\n  get-custom-css\n  get-file-last-modified-at get-file get-file-page get-file-page-id file-exists?\n  get-files-blocks get-files-full get-journals-length\n  get-latest-journals get-page get-case-page get-page-alias-names\n  get-page-blocks-count get-page-blocks-no-cache get-page-file get-page-format\n  get-referenced-blocks get-page-referenced-blocks-full get-page-referenced-pages\n  get-all-pages get-pages-relation get-pages-that-mentioned-page\n  journal-page? page? page-alias-set sub-block\n  page-empty? page-exists? get-alias-source-page\n  has-children? whiteboard-page?\n  get-namespace-pages get-all-namespace-relation]\n\n [frontend.db.react\n  get-current-page\n  remove-q! remove-query-component! add-q! add-query-component! clear-query-state!\n  q\n  query-state query-components set-new-result!])\n\n(defn start-db-conn!\n  ([repo]\n   (start-db-conn! repo {}))\n  ([repo option]\n   (conn\/start! repo option)))\n\n(def new-block-id ldb\/new-block-id)\n\n(defn transact!\n  ([tx-data]\n   (transact! (state\/get-current-repo) tx-data nil))\n  ([repo tx-data]\n   (transact! repo tx-data nil))\n  ([repo tx-data tx-meta]\n   (if config\/publishing?\n     ;; :save-block is for query-table actions like sorting and choosing columns\n     (when (or (#{:collapse-expand-blocks :save-block} (:outliner-op tx-meta))\n               (:init-db? tx-meta))\n       (conn\/transact! repo tx-data tx-meta))\n     (ui-outliner-tx\/transact! tx-meta\n                               (outliner-op\/transact! tx-data tx-meta)))))\n\n(defn set-file-last-modified-at!\n  \"Refresh file timestamps to DB\"\n  [repo path last-modified-at]\n  (when (and repo path last-modified-at)\n    (transact! repo\n               [{:file\/path path\n                 :file\/last-modified-at last-modified-at}] {})))\n\n(defn set-file-content!\n  ([repo path content]\n   (set-file-content! repo path content {}))\n  ([repo path content opts]\n   (when (and repo path)\n     (let [tx-data {:file\/path path\n                    :file\/content content}]\n       (transact! repo [tx-data] opts)))))\n",";   Copyright (c) Rich Hickey. All rights reserved.\n;   The use and distribution terms for this software are covered by the\n;   Eclipse Public License 1.0 (http:\/\/opensource.org\/licenses\/eclipse-1.0.php)\n;   which can be found in the file epl-v10.html at the root of this distribution.\n;   By using this software in any fashion, you are agreeing to be bound by\n;   the terms of this license.\n;   You must not remove this notice, or any other, from this software.\n\n(ns cljs.core\n  (:require goog.math.Long\n            goog.math.Integer\n            [goog.string :as gstring]\n            [goog.object :as gobject]\n            [goog.array :as garray]\n            [goog.Uri])\n  (:import [goog.string StringBuffer]))\n\n;; next line is auto-generated by the build-script - Do not edit!\n(def *clojurescript-version* \"1.11.132\")\n\n;; Setting of these Vars is in ClojureScript code is associated with intrinsics\n;; that affect compilation state, but otherwise turn into no-ops in the emitted\n;; JavaScript.\n\n;; The scope of *unchecked-if* is controlled by balanced pairs of set! calls.\n(def *unchecked-if* false)\n;; The scope of *unchecked-arrays* is file-scope: In JVM ClojureScript its side-\n;; effect is to set same-named analyzer dynamic Var, which is unset via binding\n;; scopes. In self-hosted it is cleared via cljs.js\/post-file-side-effects.\n(def *unchecked-arrays* false)\n;; The scope of *warn-on-infer* is file-scope: Its side effect is to set the\n;; cljs.analyzer\/*cljs-warnings* dynamic Var, which is unset via binding scopes.\n(def *warn-on-infer* false)\n\n(set! *unchecked-arrays* true)\n\n(defonce PROTOCOL_SENTINEL #js {})\n\n(def MODULE_URIS nil) ;; set by compiler\n(def MODULE_INFOS nil) ;; set by compiler\n\n(goog-define\n  ^{:dynamic true\n    :doc \"Var bound to the name value of the compiler build :target option.\n  For example, if the compiler build :target is :nodejs, *target* will be bound\n  to \\\"nodejs\\\". *target* is a Google Closure define and can be set by compiler\n  :closure-defines option.\"}\n  *target* \"default\")\n\n(goog-define\n  ^{:dynamic true\n    :doc \"Manually set the JavaScript global context. Only \\\"window\\\", \\\"self\\\"\n  , and \\\"global\\\" supported. \"}\n  *global* \"default\")\n\n(def\n  ^{:dynamic true\n    :doc \"Var bound to the current namespace. Only used for bootstrapping.\"\n    :jsdoc [\"@type {*}\"]}\n  *ns* nil)\n\n(def\n  ^{:dynamic true\n    :jsdoc [\"@type {*}\"]}\n  *out* nil)\n\n(def\n  ^{:dynamic true}\n  *assert* true)\n\n(defonce\n  ^{:doc \"Each runtime environment provides a different way to print output.\n  Whatever function *print-fn* is bound to will be passed any\n  Strings which should be printed.\" :dynamic true}\n  *print-fn* nil)\n\n(declare boolean)\n\n(defn ^{:doc \"Arranges to have tap functions executed via the supplied f, a\n  function of no arguments. Returns true if successful, false otherwise.\" :dynamic true}\n  *exec-tap-fn*\n  [f]\n  (and\n    (exists? js\/setTimeout)\n    ;; See CLJS-3274 - workaround for recent WebKit releases\n    (boolean (js\/setTimeout f 0))))\n\n(defonce\n  ^{:doc \"Each runtime environment provides a different way to print error output.\n  Whatever function *print-err-fn* is bound to will be passed any\n  Strings which should be printed.\" :dynamic true}\n  *print-err-fn* nil)\n\n(defn set-print-fn!\n  \"Set *print-fn* to f.\"\n  [f] (set! *print-fn* f))\n\n(defn set-print-err-fn!\n  \"Set *print-err-fn* to f.\"\n  [f] (set! *print-err-fn* f))\n\n(def\n  ^{:dynamic true\n    :doc \"When set to true, output will be flushed whenever a newline is printed.\n\n  Defaults to true.\"}\n  *flush-on-newline* true)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical false will drop newlines from printing calls.\n  This is to work around the implicit newlines emitted by standard JavaScript\n  console objects.\"}\n  *print-newline* true)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical false, strings and characters will be printed with\n  non-alphanumeric characters converted to the appropriate escape sequences.\n\n  Defaults to true\"}\n  *print-readably* true)\n\n(def\n  ^{:dynamic true\n    :doc \"If set to logical true, when printing an object, its metadata will also\n  be printed in a form that can be read back by the reader.\n\n  Defaults to false.\"}\n  *print-meta* false)\n\n(def\n  ^{:dynamic true\n    :doc \"When set to logical true, objects will be printed in a way that preserves\n  their type when read in later.\n\n  Defaults to false.\"}\n  *print-dup* false)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-namespace-maps* controls whether the printer will print\n  namespace map literal syntax.\n\n  Defaults to false, but the REPL binds it to true.\"}\n  *print-namespace-maps* false)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-length* controls how many items of each collection the\n  printer will print. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  number of items of each collection to print. If a collection contains\n  more items, the printer will print items up to the limit followed by\n  '...' to represent the remaining items. The root binding is nil\n  indicating no limit.\"\n    :jsdoc [\"@type {null|number}\"]}\n  *print-length* nil)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-level* controls how many levels deep the printer will\n  print nested objects. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  level to print. Each argument to print is at level 0; if an argument is a\n  collection, its items are at level 1; and so on. If an object is a\n  collection and is at a level greater than or equal to the value bound to\n  *print-level*, the printer prints '#' to represent it. The root binding\n  is nil indicating no limit.\"\n    :jsdoc [\"@type {null|number}\"]}\n  *print-level* nil)\n\n(def\n  ^{:dynamic true\n    :doc \"*print-fns-bodies* controls whether functions print their source or\n    only their names.\"}\n  *print-fn-bodies* false)\n\n(defonce\n  ^{:dynamic true\n    :jsdoc [\"@type {*}\"]}\n  *loaded-libs* nil)\n\n(defn- pr-opts []\n  {:flush-on-newline *flush-on-newline*\n   :readably *print-readably*\n   :meta *print-meta*\n   :dup *print-dup*\n   :print-length *print-length*})\n\n(declare into-array)\n\n(defn enable-console-print!\n  \"Set *print-fn* to console.log\"\n  []\n  (set! *print-newline* false)\n  (set-print-fn!\n    (fn []\n      (let [xs (js-arguments)]\n        (.apply (.-log js\/console) js\/console (garray\/clone xs)))))\n  (set-print-err-fn!\n    (fn []\n      (let [xs (js-arguments)]\n        (.apply (.-error js\/console) js\/console (garray\/clone xs)))))\n  nil)\n\n(def\n  ^{:dynamic true\n    :doc \"bound in a repl thread to the most recent value printed\"}\n  *1)\n\n(def\n  ^{:dynamic true\n    :doc \"bound in a repl thread to the second most recent value printed\"}\n  *2)\n\n(def\n  ^{:dynamic true\n    :doc \"bound in a repl thread to the third most recent value printed\"}\n  *3)\n\n(def\n  ^{:dynamic true\n    :doc \"bound in a repl thread to the most recent exception caught by the repl\"}\n  *e)\n\n(defn truth_\n  \"Internal - do not use!\"\n  [x]\n  (cljs.core\/truth_ x))\n\n(def not-native nil)\n\n(declare instance? Keyword)\n\n(defn ^boolean identical?\n  \"Tests if 2 arguments are the same object\"\n  [x y]\n  (cljs.core\/identical? x y))\n\n(defn ^boolean nil?\n  \"Returns true if x is nil, false otherwise.\"\n  [x]\n  (coercive-= x nil))\n\n(defn ^boolean array?\n  \"Returns true if x is a JavaScript array.\"\n  [x]\n  (if (identical? *target* \"nodejs\")\n    (.isArray js\/Array x)\n    (instance? js\/Array x)))\n\n(defn ^boolean number?\n  \"Returns true if x is a JavaScript number.\"\n  [x]\n  (cljs.core\/number? x))\n\n(defn not\n  \"Returns true if x is logical false, false otherwise.\"\n  [x]\n  (cond\n    (nil? x) true\n    (false? x) true\n    :else false))\n\n(defn ^boolean some?\n  \"Returns true if x is not nil, false otherwise.\"\n  [x] (not (nil? x)))\n\n(defn object?\n  \"Returns true if x's constructor is Object\"\n  [x]\n  (if-not (nil? x)\n    (identical? (.-constructor x) js\/Object)\n    false))\n\n(defn ^boolean string?\n  \"Returns true if x is a JavaScript string.\"\n  [x]\n  (identical? \"string\" (goog\/typeOf x)))\n\n(defn char?\n  \"Returns true if x is a JavaScript string of length one.\"\n  [x]\n  (and (string? x) (== 1 (.-length x))))\n\n(defn any?\n  \"Returns true if given any argument.\"\n  [x] true)\n\n(set! *unchecked-if* true)\n(defn native-satisfies?\n  \"Internal - do not use!\"\n  [p x]\n  (let [x (if (nil? x) nil x)]\n    (cond\n     (unchecked-get p (goog\/typeOf x)) true\n     (unchecked-get p \"_\") true\n     :else false)))\n(set! *unchecked-if* false)\n\n(defn is_proto_\n  [x]\n  (identical? (.-prototype (.-constructor x)) x))\n\n(def\n  ^{:doc \"When compiled for a command-line target, whatever function\n  *main-cli-fn* is set to will be called with the command-line\n  argv as arguments\"}\n  *main-cli-fn* nil)\n\n(def\n  ^{:doc \"A sequence of the supplied command line arguments, or nil if\n  none were supplied\"}\n  *command-line-args* nil)\n\n(defn type\n  \"Return x's constructor.\"\n  [x]\n  (when-not (nil? x)\n    (.-constructor x)))\n\n(defn missing-protocol [proto obj]\n  (let [ty (type obj)\n        ty (if (and ty (.-cljs$lang$type ty))\n             (.-cljs$lang$ctorStr ty)\n             (goog\/typeOf obj))]\n   (js\/Error.\n     (.join (array \"No protocol method \" proto\n                   \" defined for type \" ty \": \" obj) \"\"))))\n\n(defn type->str [ty]\n  (if-let [s (.-cljs$lang$ctorStr ty)]\n    s\n    (str ty)))\n\n;; INTERNAL - do not use, only for Node.js\n(defn load-file [file]\n  (when-not js\/COMPILED\n    (cljs.core\/load-file* file)))\n\n(if (and (exists? js\/Symbol)\n         (identical? (goog\/typeOf js\/Symbol) \"function\"))\n  (def ITER_SYMBOL (.-iterator js\/Symbol))\n  (def ITER_SYMBOL \"@@iterator\"))\n\n(def ^{:jsdoc [\"@enum {string}\"]}\n  CHAR_MAP\n  #js {\"-\"    \"_\"\n       \":\"    \"_COLON_\"\n       \"+\"    \"_PLUS_\"\n       \">\"    \"_GT_\"\n       \"<\"    \"_LT_\"\n       \"=\"    \"_EQ_\"\n       \"~\"    \"_TILDE_\"\n       \"!\"    \"_BANG_\"\n       \"@\"    \"_CIRCA_\"\n       \"#\"    \"_SHARP_\"\n       \"'\"    \"_SINGLEQUOTE_\"\n       \"\\\\\\\"\" \"_DOUBLEQUOTE_\"\n       \"%\"    \"_PERCENT_\"\n       \"^\"    \"_CARET_\"\n       \"&\"    \"_AMPERSAND_\"\n       \"*\"    \"_STAR_\"\n       \"|\"    \"_BAR_\"\n       \"{\"    \"_LBRACE_\"\n       \"}\"    \"_RBRACE_\"\n       \"[\"    \"_LBRACK_\"\n       \"]\"    \"_RBRACK_\"\n       \"\/\"    \"_SLASH_\"\n       \"\\\\\\\\\" \"_BSLASH_\"\n       \"?\"    \"_QMARK_\"})\n\n(def ^{:jsdoc [\"@enum {string}\"]}\n  DEMUNGE_MAP\n  #js {\"_\"             \"-\"\n       \"_COLON_\"       \":\"\n       \"_PLUS_\"        \"+\"\n       \"_GT_\"          \">\"\n       \"_LT_\"          \"<\"\n       \"_EQ_\"          \"=\"\n       \"_TILDE_\"       \"~\"\n       \"_BANG_\"        \"!\"\n       \"_CIRCA_\"       \"@\"\n       \"_SHARP_\"       \"#\"\n       \"_SINGLEQUOTE_\" \"'\"\n       \"_DOUBLEQUOTE_\" \"\\\\\\\"\"\n       \"_PERCENT_\"     \"%\"\n       \"_CARET_\"       \"^\"\n       \"_AMPERSAND_\"   \"&\"\n       \"_STAR_\"        \"*\"\n       \"_BAR_\"         \"|\"\n       \"_LBRACE_\"      \"{\"\n       \"_RBRACE_\"      \"}\"\n       \"_LBRACK_\"      \"[\"\n       \"_RBRACK_\"      \"]\"\n       \"_SLASH_\"       \"\/\"\n       \"_BSLASH_\"      \"\\\\\\\\\"\n       \"_QMARK_\"       \"?\"})\n\n(def DEMUNGE_PATTERN nil)\n\n(defn system-time\n  \"Returns highest resolution time offered by host in milliseconds.\"\n  []\n  (cond\n    (and (exists? js\/performance)\n         (not (nil? (. js\/performance -now))))\n    (.now js\/performance)\n\n    (and (exists? js\/process)\n         (not (nil? (. js\/process -hrtime))))\n    (let [t (.hrtime js\/process)]\n      (\/ (+ (* (aget t 0) 1e9) (aget t 1)) 1e6))\n\n    :else (.getTime (js\/Date.))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; arrays ;;;;;;;;;;;;;;;;\n\n(declare apply)\n\n(defn ^array make-array\n  \"Construct a JavaScript array of the specified dimensions. Accepts ignored\n  type argument for compatibility with Clojure. Note that there is no efficient\n  way to allocate multi-dimensional arrays in JavaScript; as such, this function\n  will run in polynomial time when called with 3 or more arguments.\"\n  ([size]\n     (js\/Array. size))\n  ([type size]\n     (make-array size))\n  ([type size & more-sizes]\n    (let [dims more-sizes\n          dimarray (make-array size)]\n      (dotimes [i (alength dimarray)]\n        (aset dimarray i (apply make-array nil dims)))\n      dimarray)))\n\n(defn aclone\n  \"Returns a javascript array, cloned from the passed in array\"\n  [arr]\n  (let [len (alength arr)\n        new-arr (make-array len)]\n    (dotimes [i len]\n      (aset new-arr i (aget arr i)))\n    new-arr))\n\n(defn ^array array\n  \"Creates a new javascript array.\n@param {...*} var_args\" ;;array is a special case, don't emulate this doc string\n  [var-args]            ;; [& items]\n  (let [a (js\/Array. (alength (cljs.core\/js-arguments)))]\n    (loop [i 0]\n      (if (< i (alength a))\n        (do\n          (aset a i (aget (cljs.core\/js-arguments) i))\n          (recur (inc i)))\n        a))))\n\n(defn- maybe-warn\n  [e]\n  (when *print-err-fn*\n    (*print-err-fn* e)))\n\n(defn- checked-aget\n  ([array idx]\n   (when-assert\n     (try\n       (assert (or (array? array) (goog\/isArrayLike array)))\n       (assert (number? idx))\n       (assert (not (neg? idx)))\n       (assert (< idx (alength array)))\n       (catch :default e\n         (maybe-warn e))))\n   (unchecked-get array idx))\n  ([array idx & idxs]\n   (apply checked-aget (checked-aget array idx) idxs)))\n\n(defn- checked-aset\n  ([array idx val]\n   (when-assert\n     (try\n       (assert (or (array? array) (goog\/isArrayLike array)))\n       (assert (number? idx))\n       (assert (not (neg? idx)))\n       (assert (< idx (alength array)))\n       (catch :default e\n         (maybe-warn e))))\n   (unchecked-set array idx val))\n  ([array idx idx2 & idxv]\n   (apply checked-aset (checked-aget array idx) idx2 idxv)))\n\n(defn- checked-aget'\n  ([array idx]\n   {:pre [(or (array? array) (goog\/isArrayLike array))\n          (number? idx) (not (neg? idx)) (< idx (alength array))]}\n   (unchecked-get array idx))\n  ([array idx & idxs]\n   (apply checked-aget' (checked-aget' array idx) idxs)))\n\n(defn- checked-aset'\n  ([array idx val]\n   {:pre [(or (array? array) (goog\/isArrayLike array))\n          (number? idx) (not (neg? idx)) (< idx (alength array))]}\n   (unchecked-set array idx val))\n  ([array idx idx2 & idxv]\n   (apply checked-aset' (checked-aget' array idx) idx2 idxv)))\n\n(defn aget\n  \"Returns the value at the index\/indices. Works on JavaScript arrays.\"\n  ([array idx]\n     (cljs.core\/aget array idx))\n  ([array idx & idxs]\n     (apply aget (aget array idx) idxs)))\n\n(defn aset\n  \"Sets the value at the index\/indices. Works on JavaScript arrays.\n  Returns val.\"\n  ([array idx val]\n    (cljs.core\/aset array idx val))\n  ([array idx idx2 & idxv]\n    (apply aset (aget array idx) idx2 idxv)))\n\n(defn ^number alength\n  \"Returns the length of the array. Works on arrays of all types.\"\n  [array]\n  (cljs.core\/alength array))\n\n(declare reduce)\n\n(defn ^array into-array\n  \"Returns an array with components set to the values in aseq. Optional type\n  argument accepted for compatibility with Clojure.\"\n  ([aseq]\n     (into-array nil aseq))\n  ([type aseq]\n     (reduce (fn [a x] (.push a x) a) (array) aseq)))\n\n(defn js-invoke\n  \"Invoke JavaScript object method via string. Needed when the\n  string is not a valid unquoted property name.\"\n  [obj s & args]\n  (.apply (unchecked-get obj s) obj (into-array args)))\n\n(defn js-symbol?\n  \"Returns true if x is an instance of Symbol\"\n  [x]\n  (or (identical? (goog\/typeOf x) \"symbol\")\n      (and (exists? js\/Symbol)\n           (instance? js\/Symbol x))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;; core protocols ;;;;;;;;;;;;;\n\n(defprotocol Fn\n  \"Marker protocol\")\n\n(defprotocol IFn\n  \"Protocol for adding the ability to invoke an object as a function.\n  For example, a vector can also be used to look up a value:\n  ([1 2 3 4] 1) => 2\"\n  (-invoke\n    [this]\n    [this a]\n    [this a b]\n    [this a b c]\n    [this a b c d]\n    [this a b c d e]\n    [this a b c d e f]\n    [this a b c d e f g]\n    [this a b c d e f g h]\n    [this a b c d e f g h i]\n    [this a b c d e f g h i j]\n    [this a b c d e f g h i j k]\n    [this a b c d e f g h i j k l]\n    [this a b c d e f g h i j k l m]\n    [this a b c d e f g h i j k l m n]\n    [this a b c d e f g h i j k l m n o]\n    [this a b c d e f g h i j k l m n o p]\n    [this a b c d e f g h i j k l m n o p q]\n    [this a b c d e f g h i j k l m n o p q r]\n    [this a b c d e f g h i j k l m n o p q r s]\n    [this a b c d e f g h i j k l m n o p q r s t]\n    [this a b c d e f g h i j k l m n o p q r s t rest]))\n\n(defprotocol ICloneable\n  \"Protocol for cloning a value.\"\n  (^clj -clone [value]\n    \"Creates a clone of value.\"))\n\n(defprotocol ICounted\n  \"Protocol for adding the ability to count a collection in constant time.\"\n  (^number -count [coll]\n    \"Calculates the count of coll in constant time. Used by cljs.core\/count.\"))\n\n(defprotocol IEmptyableCollection\n  \"Protocol for creating an empty collection.\"\n  (-empty [coll]\n    \"Returns an empty collection of the same category as coll. Used\n     by cljs.core\/empty.\"))\n\n(defprotocol ICollection\n  \"Protocol for adding to a collection.\"\n  (^clj -conj [coll o]\n    \"Returns a new collection of coll with o added to it. The new item\n     should be added to the most efficient place, e.g.\n     (conj [1 2 3 4] 5) => [1 2 3 4 5]\n     (conj '(2 3 4 5) 1) => '(1 2 3 4 5)\"))\n\n#_(defprotocol IOrdinal\n    (-index [coll]))\n\n(defprotocol IIndexed\n  \"Protocol for collections to provide indexed-based access to their items.\"\n  (-nth [coll n] [coll n not-found]\n    \"Returns the value at the index n in the collection coll.\n     Returns not-found if index n is out of bounds and not-found is supplied.\"))\n\n(defprotocol ASeq\n  \"Marker protocol indicating an array sequence.\")\n\n(defprotocol ISeq\n  \"Protocol for collections to provide access to their items as sequences.\"\n  (-first [coll]\n    \"Returns the first item in the collection coll. Used by cljs.core\/first.\")\n  (^clj -rest [coll]\n    \"Returns a new collection of coll without the first item. It should\n     always return a seq, e.g.\n     (rest []) => ()\n     (rest nil) => ()\"))\n\n(defprotocol INext\n  \"Protocol for accessing the next items of a collection.\"\n  (^clj-or-nil -next [coll]\n    \"Returns a new collection of coll without the first item. In contrast to\n     rest, it should return nil if there are no more items, e.g.\n     (next []) => nil\n     (next nil) => nil\"))\n\n(defprotocol ILookup\n  \"Protocol for looking up a value in a data structure.\"\n  (-lookup [o k] [o k not-found]\n    \"Use k to look up a value in o. If not-found is supplied and k is not\n     a valid value that can be used for look up, not-found is returned.\"))\n\n(defprotocol IAssociative\n  \"Protocol for adding associativity to collections.\"\n  (^boolean -contains-key? [coll k]\n    \"Returns true if k is a key in coll.\")\n  #_(-entry-at [coll k])\n  (^clj -assoc [coll k v]\n    \"Returns a new collection of coll with a mapping from key k to\n     value v added to it.\"))\n\n(defprotocol IFind\n  \"Protocol for implementing entry finding in collections.\"\n  (-find [coll k] \"Returns the map entry for key, or nil if key not present.\"))\n\n(defprotocol IMap\n  \"Protocol for adding mapping functionality to collections.\"\n  #_(-assoc-ex [coll k v])\n  (^clj -dissoc [coll k]\n    \"Returns a new collection of coll without the mapping for key k.\"))\n\n(defprotocol IMapEntry\n  \"Protocol for examining a map entry.\"\n  (-key [coll]\n    \"Returns the key of the map entry.\")\n  (-val [coll]\n    \"Returns the value of the map entry.\"))\n\n(defprotocol ISet\n  \"Protocol for adding set functionality to a collection.\"\n  (^clj -disjoin [coll v]\n    \"Returns a new collection of coll that does not contain v.\"))\n\n(defprotocol IStack\n  \"Protocol for collections to provide access to their items as stacks. The top\n  of the stack should be accessed in the most efficient way for the different\n  data structures.\"\n  (-peek [coll]\n    \"Returns the item from the top of the stack. Is used by cljs.core\/peek.\")\n  (^clj -pop [coll]\n    \"Returns a new stack without the item on top of the stack. Is used\n     by cljs.core\/pop.\"))\n\n(defprotocol IVector\n  \"Protocol for adding vector functionality to collections.\"\n  (^clj -assoc-n [coll n val]\n    \"Returns a new vector with value val added at position n.\"))\n\n(defprotocol IDeref\n  \"Protocol for adding dereference functionality to a reference.\"\n  (-deref [o]\n    \"Returns the value of the reference o.\"))\n\n(defprotocol IDerefWithTimeout\n  (-deref-with-timeout [o msec timeout-val]))\n\n(defprotocol IMeta\n  \"Protocol for accessing the metadata of an object.\"\n  (^clj-or-nil -meta [o]\n    \"Returns the metadata of object o.\"))\n\n(defprotocol IWithMeta\n  \"Protocol for adding metadata to an object.\"\n  (^clj -with-meta [o meta]\n    \"Returns a new object with value of o and metadata meta added to it.\"))\n\n(defprotocol IReduce\n  \"Protocol for seq types that can reduce themselves.\n  Called by cljs.core\/reduce.\"\n  (-reduce [coll f] [coll f start]\n    \"f should be a function of 2 arguments. If start is not supplied,\n     returns the result of applying f to the first 2 items in coll, then\n     applying f to that result and the 3rd item, etc.\"))\n\n(defprotocol IKVReduce\n  \"Protocol for associative types that can reduce themselves\n  via a function of key and val. Called by cljs.core\/reduce-kv.\"\n  (-kv-reduce [coll f init]\n    \"Reduces an associative collection and returns the result. f should be\n     a function that takes three arguments.\"))\n\n(defprotocol IEquiv\n  \"Protocol for adding value comparison functionality to a type.\"\n  (^boolean -equiv [o other]\n    \"Returns true if o and other are equal, false otherwise.\"))\n\n(defprotocol IHash\n  \"Protocol for adding hashing functionality to a type.\"\n  (-hash [o]\n    \"Returns the hash code of o.\"))\n\n(defprotocol ISeqable\n  \"Protocol for adding the ability to a type to be transformed into a sequence.\"\n  (^clj-or-nil -seq [o]\n    \"Returns a seq of o, or nil if o is empty.\"))\n\n(defprotocol ISequential\n  \"Marker interface indicating a persistent collection of sequential items\")\n\n(defprotocol IList\n  \"Marker interface indicating a persistent list\")\n\n(defprotocol IRecord\n  \"Marker interface indicating a record object\")\n\n(defprotocol IReversible\n  \"Protocol for reversing a seq.\"\n  (^clj -rseq [coll]\n    \"Returns a seq of the items in coll in reversed order.\"))\n\n(defprotocol ISorted\n  \"Protocol for a collection which can represent their items\n  in a sorted manner. \"\n  (^clj -sorted-seq [coll ascending?]\n    \"Returns a sorted seq from coll in either ascending or descending order.\")\n  (^clj -sorted-seq-from [coll k ascending?]\n    \"Returns a sorted seq from coll in either ascending or descending order.\n     If ascending is true, the result should contain all items which are > or >=\n     than k. If ascending is false, the result should contain all items which\n     are < or <= than k, e.g.\n     (-sorted-seq-from (sorted-set 1 2 3 4 5) 3 true) => (3 4 5)\n     (-sorted-seq-from (sorted-set 1 2 3 4 5) 3 false) => (3 2 1)\")\n  (-entry-key [coll entry]\n    \"Returns the key for entry.\")\n  (-comparator [coll]\n    \"Returns the comparator for coll.\"))\n\n(defprotocol IWriter\n  \"Protocol for writing. Currently only implemented by StringBufferWriter.\"\n  (-write [writer s]\n    \"Writes s with writer and returns the result.\")\n  (-flush [writer]\n    \"Flush writer.\"))\n\n(defprotocol IPrintWithWriter\n  \"The old IPrintable protocol's implementation consisted of building a giant\n   list of strings to concatenate.  This involved lots of concat calls,\n   intermediate vectors, and lazy-seqs, and was very slow in some older JS\n   engines.  IPrintWithWriter implements printing via the IWriter protocol, so it\n   be implemented efficiently in terms of e.g. a StringBuffer append.\"\n  (-pr-writer [o writer opts]))\n\n(defprotocol IPending\n  \"Protocol for types which can have a deferred realization. Currently only\n  implemented by Delay and LazySeq.\"\n  (^boolean -realized? [x]\n    \"Returns true if a value for x has been produced, false otherwise.\"))\n\n(defprotocol IWatchable\n  \"Protocol for types that can be watched. Currently only implemented by Atom.\"\n  (-notify-watches [this oldval newval]\n    \"Calls all watchers with this, oldval and newval.\")\n  (-add-watch [this key f]\n    \"Adds a watcher function f to this. Keys must be unique per reference,\n     and can be used to remove the watch with -remove-watch.\")\n  (-remove-watch [this key]\n    \"Removes watcher that corresponds to key from this.\"))\n\n(defprotocol IEditableCollection\n  \"Protocol for collections which can transformed to transients.\"\n  (^clj -as-transient [coll]\n    \"Returns a new, transient version of the collection, in constant time.\"))\n\n(defprotocol ITransientCollection\n  \"Protocol for adding basic functionality to transient collections.\"\n  (^clj -conj! [tcoll val]\n    \"Adds value val to tcoll and returns tcoll.\")\n  (^clj -persistent! [tcoll]\n    \"Creates a persistent data structure from tcoll and returns it.\"))\n\n(defprotocol ITransientAssociative\n  \"Protocol for adding associativity to transient collections.\"\n  (^clj -assoc! [tcoll key val]\n    \"Returns a new transient collection of tcoll with a mapping from key to\n     val added to it.\"))\n\n(defprotocol ITransientMap\n  \"Protocol for adding mapping functionality to transient collections.\"\n  (^clj -dissoc! [tcoll key]\n    \"Returns a new transient collection of tcoll without the mapping for key.\"))\n\n(defprotocol ITransientVector\n  \"Protocol for adding vector functionality to transient collections.\"\n  (^clj -assoc-n! [tcoll n val]\n    \"Returns tcoll with value val added at position n.\")\n  (^clj -pop! [tcoll]\n    \"Returns tcoll with the last item removed from it.\"))\n\n(defprotocol ITransientSet\n  \"Protocol for adding set functionality to a transient collection.\"\n  (^clj -disjoin! [tcoll v]\n    \"Returns tcoll without v.\"))\n\n(defprotocol IComparable\n  \"Protocol for values that can be compared.\"\n  (^number -compare [x y]\n    \"Returns a negative number, zero, or a positive number when x is logically\n     'less than', 'equal to', or 'greater than' y.\"))\n\n(defprotocol IChunk\n  \"Protocol for accessing the items of a chunk.\"\n  (-drop-first [coll]\n    \"Return a new chunk of coll with the first item removed.\"))\n\n(defprotocol IChunkedSeq\n  \"Protocol for accessing a collection as sequential chunks.\"\n  (-chunked-first [coll]\n    \"Returns the first chunk in coll.\")\n  (-chunked-rest [coll]\n    \"Return a new collection of coll with the first chunk removed.\"))\n\n(defprotocol IChunkedNext\n  \"Protocol for accessing the chunks of a collection.\"\n  (-chunked-next [coll]\n    \"Returns a new collection of coll without the first chunk.\"))\n\n(defprotocol INamed\n  \"Protocol for adding a name.\"\n  (^string -name [x]\n    \"Returns the name String of x.\")\n  ( ^{:tag #{string clj-nil}}-namespace [x]\n    \"Returns the namespace String of x.\"))\n\n(defprotocol IAtom\n  \"Marker protocol indicating an atom.\")\n\n(defprotocol IReset\n  \"Protocol for adding resetting functionality.\"\n  (-reset! [o new-value]\n    \"Sets the value of o to new-value.\"))\n\n(defprotocol ISwap\n  \"Protocol for adding swapping functionality.\"\n  (-swap! [o f] [o f a] [o f a b] [o f a b xs]\n    \"Swaps the value of o to be (apply f current-value-of-atom args).\"))\n\n(defprotocol IVolatile\n  \"Protocol for adding volatile functionality.\"\n  (-vreset! [o new-value]\n    \"Sets the value of volatile o to new-value without regard for the\n     current value. Returns new-value.\"))\n\n(defprotocol IIterable\n  \"Protocol for iterating over a collection.\"\n  (-iterator [coll]\n    \"Returns an iterator for coll.\"))\n\n(defprotocol IDrop\n  \"Protocol for persistent or algorithmically defined collections to provide a\n  means of dropping N items that is more efficient than sequential walking.\"\n  (^clj-or-nil -drop [coll n]\n    \"Returns a collection that is ISequential, ISeq, and IReduce, or nil if past\n     the end. The number of items to drop n must be > 0. It is also useful if the\n     returned coll implements IDrop for subsequent use in a partition-like scenario.\"))\n\n;; Printing support\n\n(deftype StringBufferWriter [sb]\n  IWriter\n  (-write [_ s] (.append sb s))\n  (-flush [_] nil))\n\n(defn pr-str*\n  \"Support so that collections can implement toString without\n   loading all the printing machinery.\"\n  [^not-native obj]\n  (let [sb (StringBuffer.)\n        writer (StringBufferWriter. sb)]\n    (-pr-writer obj writer (pr-opts))\n    (-flush writer)\n    (str sb)))\n\n;;;;;;;;;;;;;;;;;;; Murmur3 ;;;;;;;;;;;;;;;\n\n;;http:\/\/hg.openjdk.java.net\/jdk7u\/jdk7u6\/jdk\/file\/8c2c5d63a17e\/src\/share\/classes\/java\/lang\/Integer.java\n(defn ^number int-rotate-left [x n]\n  (bit-or\n    (bit-shift-left x n)\n    (unsigned-bit-shift-right x (- n))))\n\n;; http:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Math\/imul\n(if (and (exists? Math\/imul)\n         (not (zero? (Math\/imul 0xffffffff 5))))\n  (defn ^number imul [a b] (Math\/imul a b))\n  (defn ^number imul [a b]\n    (let [ah (bit-and (unsigned-bit-shift-right a 16) 0xffff)\n          al (bit-and a 0xffff)\n          bh (bit-and (unsigned-bit-shift-right b 16) 0xffff)\n          bl (bit-and b 0xffff)]\n      (bit-or\n        (+ (* al bl)\n           (unsigned-bit-shift-right\n             (bit-shift-left (+ (* ah bl) (* al bh)) 16) 0)) 0))))\n\n;; http:\/\/smhasher.googlecode.com\/svn\/trunk\/MurmurHash3.cpp\n(def m3-seed 0)\n(def m3-C1 (int 0xcc9e2d51))\n(def m3-C2 (int 0x1b873593))\n\n(defn ^number m3-mix-K1 [k1]\n  (-> (int k1) (imul m3-C1) (int-rotate-left 15) (imul m3-C2)))\n\n(defn ^number m3-mix-H1 [h1 k1]\n  (int (-> (int h1) (bit-xor (int k1)) (int-rotate-left 13) (imul 5) (+ (int 0xe6546b64)))))\n\n(defn ^number m3-fmix [h1 len]\n  (as-> (int h1) h1\n    (bit-xor h1 len)\n    (bit-xor h1 (unsigned-bit-shift-right h1 16))\n    (imul h1 (int 0x85ebca6b))\n    (bit-xor h1 (unsigned-bit-shift-right h1 13))\n    (imul h1 (int 0xc2b2ae35))\n    (bit-xor h1 (unsigned-bit-shift-right h1 16))))\n\n(defn ^number m3-hash-int [in]\n  (if (zero? in)\n    in\n    (let [k1 (m3-mix-K1 in)\n          h1 (m3-mix-H1 m3-seed k1)]\n      (m3-fmix h1 4))))\n\n(defn hash-long [high low]\n  (bit-xor high low))\n\n(defn hash-double [f]\n  (let [arr  (doto (js\/Float64Array. 1) (aset 0 f))\n        buf  (.-buffer arr)\n        high (.getInt32 (js\/DataView. buf 0 4))\n        low  (.getInt32 (js\/DataView. buf 4 4))]\n    (hash-long high low)))\n\n(defn ^number m3-hash-unencoded-chars [in]\n  (let [h1 (loop [i 1 h1 m3-seed]\n             (if (< i (.-length in))\n               (recur (+ i 2)\n                 (m3-mix-H1 h1\n                   (m3-mix-K1\n                     (bit-or (.charCodeAt in (dec i))\n                       (bit-shift-left (.charCodeAt in i) 16)))))\n               h1))\n        h1 (if (== (bit-and (.-length in) 1) 1)\n             (bit-xor h1 (m3-mix-K1 (.charCodeAt in (dec (.-length in)))))\n             h1)]\n    (m3-fmix h1 (imul 2 (.-length in)))))\n\n;;;;;;;;;;;;;;;;;;; symbols ;;;;;;;;;;;;;;;\n\n(declare list Symbol = compare)\n\n;; Simple caching of string hashcode\n(def string-hash-cache (js-obj))\n(def string-hash-cache-count 0)\n\n;;http:\/\/hg.openjdk.java.net\/jdk7u\/jdk7u6\/jdk\/file\/8c2c5d63a17e\/src\/share\/classes\/java\/lang\/String.java\n(defn hash-string* [s]\n  (if-not (nil? s)\n    (let [len (.-length s)]\n      (if (pos? len)\n        (loop [i 0 hash 0]\n          (if (< i len)\n            (recur (inc i) (+ (imul 31 hash) (.charCodeAt s i)))\n            hash))\n        0))\n    0))\n\n(defn add-to-string-hash-cache [k]\n  (let [h (hash-string* k)]\n    (gobject\/set string-hash-cache k h)\n    (set! string-hash-cache-count (inc string-hash-cache-count))\n    h))\n\n(defn hash-string [k]\n  (when (> string-hash-cache-count 255)\n    (set! string-hash-cache (js-obj))\n    (set! string-hash-cache-count 0))\n  (if (nil? k)\n    0\n    (let [h (unchecked-get string-hash-cache k)]\n      (if (number? h)\n        h\n        (add-to-string-hash-cache k)))))\n\n(defn hash\n  \"Returns the hash code of its argument. Note this is the hash code\n   consistent with =.\"\n  [o]\n  (cond\n    (implements? IHash o)\n    (bit-xor (-hash o) 0)\n\n    (number? o)\n    (if ^boolean (js\/isFinite o)\n      (if-not ^boolean (.isSafeInteger js\/Number o)\n        (hash-double o)\n        (js-mod (Math\/floor o) 2147483647))\n      (case o\n        ##Inf\n        2146435072\n        ##-Inf\n        -1048576\n        2146959360))\n\n    ;; note: mirrors Clojure's behavior on the JVM, where the hashCode is\n    ;; 1231 for true and 1237 for false\n    ;; http:\/\/docs.oracle.com\/javase\/7\/docs\/api\/java\/lang\/Boolean.html#hashCode%28%29\n    (true? o) 1231\n\n    (false? o) 1237\n\n    (string? o)\n    (m3-hash-int (hash-string o))\n\n    (instance? js\/Date o)\n    (bit-xor (.valueOf o) 0)\n\n    (nil? o) 0\n\n    :else\n    (bit-xor (-hash o) 0)))\n\n(defn hash-combine [seed hash]\n  ; a la boost\n  (bit-xor seed\n    (+ hash 0x9e3779b9\n      (bit-shift-left seed 6)\n      (bit-shift-right seed 2))))\n\n(defn ^boolean instance?\n  \"Evaluates x and tests if it is an instance of the type\n  c. Returns true or false\"\n  [c x]\n  (cljs.core\/instance? c x))\n\n(defn ^boolean symbol?\n  \"Return true if x is a Symbol\"\n  [x]\n  (instance? Symbol x))\n\n(defn- hash-symbol [sym]\n  (hash-combine\n    (m3-hash-unencoded-chars (.-name sym))\n    (hash-string (.-ns sym))))\n\n(defn- compare-symbols [a b]\n  (cond\n   (identical? (.-str a) (.-str b)) 0\n   (and (not (.-ns a)) (.-ns b)) -1\n   (.-ns a) (if-not (.-ns b)\n              1\n              (let [nsc (garray\/defaultCompare (.-ns a) (.-ns b))]\n                (if (== 0 nsc)\n                  (garray\/defaultCompare (.-name a) (.-name b))\n                  nsc)))\n   :default (garray\/defaultCompare (.-name a) (.-name b))))\n\n(declare get)\n\n(deftype Symbol [ns name str ^:mutable _hash _meta]\n  Object\n  (toString [_] str)\n  (equiv [this other] (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Symbol other)\n      (identical? str (.-str other))\n      false))\n\n  IFn\n  (-invoke [sym coll]\n    (get coll sym))\n  (-invoke [sym coll not-found]\n    (get coll sym not-found))\n\n  IMeta\n  (-meta [_] _meta)\n\n  IWithMeta\n  (-with-meta [_ new-meta] (Symbol. ns name str _hash new-meta))\n\n  IHash\n  (-hash [sym]\n    (caching-hash sym hash-symbol _hash))\n\n  INamed\n  (-name [_] name)\n  (-namespace [_] ns)\n\n  IPrintWithWriter\n  (-pr-writer [o writer _] (-write writer str)))\n\n(defn var?\n  \"Returns true if v is of type cljs.core.Var\"\n  [v]\n  (instance? cljs.core.Var v))\n\n(defn symbol\n  \"Returns a Symbol with the given namespace and name. Arity-1 works\n  on strings, keywords, and vars.\"\n  ([name]\n   (cond (symbol? name) name\n         (string? name) (let [idx (.indexOf name \"\/\")]\n                          (if (< idx 1)\n                            (symbol nil name)\n                            (symbol (.substring name 0 idx)\n                                    (.substring name (inc idx) (. name -length)))))\n         (var? name) (.-sym name)\n         (keyword? name) (recur (.-fqn name))\n         :else (throw (new js\/Error \"no conversion to symbol\"))))\n  ([ns name]\n   (let [sym-str (if-not (nil? ns)\n                   (str ns \"\/\" name)\n                   name)]\n     (Symbol. ns name sym-str nil nil))))\n\n(deftype Var [val sym _meta]\n  Object\n  (isMacro [_]\n    (. (val) -cljs$lang$macro))\n  (toString [_]\n    (str \"#'\" sym))\n  IDeref\n  (-deref [_] (val))\n  IMeta\n  (-meta [_] _meta)\n  IWithMeta\n  (-with-meta [_ new-meta]\n    (Var. val sym new-meta))\n  IEquiv\n  (-equiv [this other]\n    (if (instance? Var other)\n      (= (.-sym this) (.-sym other))\n      false))\n  IHash\n  (-hash [_]\n    (hash-symbol sym))\n  Fn\n  IFn\n  (-invoke [_]\n    ((val)))\n  (-invoke [_ a]\n    ((val) a))\n  (-invoke [_ a b]\n    ((val) a b))\n  (-invoke [_ a b c]\n    ((val) a b c))\n  (-invoke [_ a b c d]\n    ((val) a b c d))\n  (-invoke [_ a b c d e]\n    ((val) a b c d e))\n  (-invoke [_ a b c d e f]\n    ((val) a b c d e f))\n  (-invoke [_ a b c d e f g]\n    ((val) a b c d e f g))\n  (-invoke [_ a b c d e f g h]\n    ((val) a b c d e f g h))\n  (-invoke [_ a b c d e f g h i]\n    ((val) a b c d e f g h i))\n  (-invoke [_ a b c d e f g h i j]\n    ((val) a b c d e f g h i j))\n  (-invoke [_ a b c d e f g h i j k]\n    ((val) a b c d e f g h i j k))\n  (-invoke [_ a b c d e f g h i j k l]\n    ((val) a b c d e f g h i j k l))\n  (-invoke [_ a b c d e f g h i j k l m]\n    ((val) a b c d e f g h i j k l m))\n  (-invoke [_ a b c d e f g h i j k l m n]\n    ((val) a b c d e f g h i j k l m n))\n  (-invoke [_ a b c d e f g h i j k l m n o]\n    ((val) a b c d e f g h i j k l m n o))\n  (-invoke [_ a b c d e f g h i j k l m n o p]\n    ((val) a b c d e f g h i j k l m n o p))\n  (-invoke [_ a b c d e f g h i j k l m n o p q]\n    ((val) a b c d e f g h i j k l m n o p q))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r]\n    ((val) a b c d e f g h i j k l m n o p q r))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s]\n    ((val) a b c d e f g h i j k l m n o p q r s))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t]\n    ((val) a b c d e f g h i j k l m n o p q r s t))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t rest]\n    (apply (val) a b c d e f g h i j k l m n o p q r s t rest)))\n\n;;;;;;;;;;;;;;;;;;; fundamentals ;;;;;;;;;;;;;;;\n\n(declare array-seq prim-seq IndexedSeq)\n\n(defn iterable?\n  \"Return true if x implements IIterable protocol.\"\n  [x]\n  (satisfies? IIterable x))\n\n(defn js-iterable?\n  \"Return true if x has a JavaScript iterator property\"\n  [x]\n  (and (not (nil? x))\n       (not (nil? (js* \"~{}[~{}]\" x ITER_SYMBOL)))))\n\n(defn clone\n  \"Clone the supplied value which must implement ICloneable.\"\n  [value]\n  (-clone value))\n\n(defn cloneable?\n  \"Return true if x implements ICloneable protocol.\"\n  [value]\n  (satisfies? ICloneable value))\n\n(declare es6-iterator-seq)\n\n(defn ^seq seq\n  \"Returns a seq on the collection. If the collection is\n  empty, returns nil.  (seq nil) returns nil. seq also works on\n  Strings.\"\n  [coll]\n  (when-not (nil? coll)\n    (cond\n      (implements? ISeqable coll)\n      (-seq coll)\n\n      (array? coll)\n      (when-not (zero? (alength coll))\n        (IndexedSeq. coll 0 nil))\n\n      (string? coll)\n      (when-not (zero? (.-length coll))\n        (IndexedSeq. coll 0 nil))\n\n      (js-iterable? coll)\n      (es6-iterator-seq\n        (.call (gobject\/get coll ITER_SYMBOL) coll))\n\n      (native-satisfies? ISeqable coll)\n      (-seq coll)\n\n      :else (throw (js\/Error. (str coll \" is not ISeqable\"))))))\n\n(defn first\n  \"Returns the first item in the collection. Calls seq on its\n  argument. If coll is nil, returns nil.\"\n  [coll]\n  (when-not (nil? coll)\n    (if (implements? ISeq coll)\n      (-first coll)\n      (let [s (seq coll)]\n        (when-not (nil? s)\n          (-first s))))))\n\n(defn ^seq rest\n  \"Returns a possibly empty seq of the items after the first. Calls seq on its\n  argument.\"\n  [coll]\n  (if-not (nil? coll)\n    (if (implements? ISeq coll)\n      (-rest coll)\n      (let [s (seq coll)]\n        (if s\n          (-rest ^not-native s)\n          ())))\n    ()))\n\n(defn ^seq next\n  \"Returns a seq of the items after the first. Calls seq on its\n  argument.  If there are no more items, returns nil\"\n  [coll]\n  (when-not (nil? coll)\n    (if (implements? INext coll)\n      (-next coll)\n      (seq (rest coll)))))\n\n(defn ^boolean =\n  \"Equality. Returns true if x equals y, false if not. Compares\n  numbers and collections in a type-independent manner.  Clojure's immutable data\n  structures define -equiv (and thus =) as a value, not an identity,\n  comparison.\"\n  ([x] true)\n  ([x y]\n    (if (nil? x)\n      (nil? y)\n      (or (identical? x y)\n        ^boolean (-equiv x y))))\n  ([x y & more]\n     (if (= x y)\n       (if (next more)\n         (recur y (first more) (next more))\n         (= y (first more)))\n       false)))\n\n(deftype ES6Iterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [x (first s)]\n        (set! s (next s))\n        #js {:value x :done false})\n      #js {:value nil :done true})))\n\n(defn es6-iterator\n  \"Return a ES2015+ compatible iterator for coll.\"\n  [coll]\n  (ES6Iterator. (seq coll)))\n\n(deftype ES6IteratorSeq [value iter ^:mutable _rest]\n  ISeqable\n  (-seq [this] this)\n  ISeq\n  (-first [_] value)\n  (-rest [_]\n    (when (nil? _rest)\n      (set! _rest (es6-iterator-seq iter)))\n    _rest))\n\n(defn es6-iterator-seq\n  \"Given an ES2015+ compatible iterator return a seq.\"\n  [iter]\n  (let [v (.next iter)]\n    (if (.-done v)\n      nil\n      (ES6IteratorSeq. (.-value v) iter nil))))\n\n;;;;;;;;;;;;;;;;;;; Murmur3 Helpers ;;;;;;;;;;;;;;;;\n\n(defn ^number mix-collection-hash\n  \"Mix final collection hash for ordered or unordered collections.\n   hash-basis is the combined collection hash, count is the number\n   of elements included in the basis. Note this is the hash code\n   consistent with =, different from .hashCode.\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [hash-basis count]\n  (let [h1 m3-seed\n        k1 (m3-mix-K1 hash-basis)\n        h1 (m3-mix-H1 h1 k1)]\n    (m3-fmix h1 count)))\n\n(defn ^number hash-ordered-coll\n  \"Returns the hash code, consistent with =, for an external ordered\n   collection implementing Iterable.\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [coll]\n  (loop [n 0 hash-code 1 coll (seq coll)]\n    (if-not (nil? coll)\n      (recur (inc n) (bit-or (+ (imul 31 hash-code) (hash (first coll))) 0)\n        (next coll))\n      (mix-collection-hash hash-code n))))\n\n(def ^:private empty-ordered-hash\n  (mix-collection-hash 1 0))\n\n(defn ^number hash-unordered-coll\n  \"Returns the hash code, consistent with =, for an external unordered\n   collection implementing Iterable. For maps, the iterator should\n   return map entries whose hash is computed as\n     (hash-ordered-coll [k v]).\n   See http:\/\/clojure.org\/data_structures#hash for full algorithms.\"\n  [coll]\n  (loop [n 0 hash-code 0 coll (seq coll)]\n    (if-not (nil? coll)\n      (recur (inc n) (bit-or (+ hash-code (hash (first coll))) 0) (next coll))\n      (mix-collection-hash hash-code n))))\n\n(def ^:private empty-unordered-hash\n  (mix-collection-hash 0 0))\n\n;;;;;;;;;;;;;;;;;;; protocols on primitives ;;;;;;;;\n(declare hash-map list equiv-sequential)\n\n(extend-type nil\n  ICounted\n  (-count [_] 0))\n\n;; TODO: we should remove this and handle date equality checking\n;; by some other means, probably by adding a new primitive type\n;; case to the hash table lookup - David\n\n(extend-type js\/Date\n  IEquiv\n  (-equiv [o other]\n    (and (instance? js\/Date other)\n         (== (.valueOf o) (.valueOf other))))\n\n  IComparable\n  (-compare [this other]\n    (if (instance? js\/Date other)\n      (garray\/defaultCompare (.valueOf this) (.valueOf other))\n      (throw (js\/Error. (str \"Cannot compare \" this \" to \" other))))))\n\n(defprotocol Inst\n  (inst-ms* [inst]))\n\n(extend-protocol Inst\n  js\/Date\n  (inst-ms* [inst] (.getTime inst)))\n\n(defn inst-ms\n  \"Return the number of milliseconds since January 1, 1970, 00:00:00 GMT\"\n  [inst]\n  (inst-ms* inst))\n\n(defn inst?\n  \"Return true if x satisfies Inst\"\n  [x]\n  (satisfies? Inst x))\n\n(extend-type number\n  IEquiv\n  (-equiv [x o] (identical? x o)))\n\n(declare with-meta)\n\n(extend-type function\n  Fn\n  IMeta\n  (-meta [_] nil))\n\n(extend-type default\n  IHash\n  (-hash [o]\n    (goog\/getUid o)))\n\n;;this is primitive because & emits call to array-seq\n(defn inc\n  \"Returns a number one greater than num.\"\n  [x] (cljs.core\/+ x 1))\n\n(declare deref)\n\n(deftype Reduced [val]\n  IDeref\n  (-deref [o] val))\n\n(defn reduced\n  \"Wraps x in a way such that a reduce will terminate with the value x\"\n  [x]\n  (Reduced. x))\n\n(defn reduced?\n  \"Returns true if x is the result of a call to reduced\"\n  [r]\n  (instance? Reduced r))\n\n(defn ensure-reduced\n  \"If x is already reduced?, returns it, else returns (reduced x)\"\n  [x]\n  (if (reduced? x) x (reduced x)))\n\n(defn unreduced\n  \"If x is reduced?, returns (deref x), else returns x\"\n  [x]\n  (if (reduced? x) (deref x) x))\n\n;; generic to all refs\n;; (but currently hard-coded to atom!)\n(defn deref\n  \"Also reader macro: @var\/@atom\/@delay. Returns the\n   most-recently-committed value of ref. When applied to a var\n   or atom, returns its current state. When applied to a delay, forces\n   it if not already forced. See also - realized?.\"\n  [o]\n  (-deref o))\n\n(defn- ci-reduce\n  \"Accepts any collection which satisfies the ICount and IIndexed protocols and\nreduces them without incurring seq initialization\"\n  ([^not-native cicoll f]\n     (let [cnt (-count cicoll)]\n       (if (zero? cnt)\n         (f)\n         (loop [val (-nth cicoll 0), n 1]\n           (if (< n cnt)\n             (let [nval (f val (-nth cicoll n))]\n               (if (reduced? nval)\n                 @nval\n                 (recur nval (inc n))))\n             val)))))\n  ([^not-native cicoll f val]\n     (let [cnt (-count cicoll)]\n       (loop [val val, n 0]\n         (if (< n cnt)\n           (let [nval (f val (-nth cicoll n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val)))))\n\n(defn- array-reduce\n  ([arr f]\n     (let [cnt (alength arr)]\n       (if (zero? (alength arr))\n         (f)\n         (loop [val (aget arr 0), n 1]\n           (if (< n cnt)\n             (let [nval (f val (aget arr n))]\n               (if (reduced? nval)\n                 @nval\n                 (recur nval (inc n))))\n             val)))))\n  ([arr f val]\n     (let [cnt (alength arr)]\n       (loop [val val, n 0]\n         (if (< n cnt)\n           (let [nval (f val (aget arr n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val))))\n  ([arr f val idx]\n     (let [cnt (alength arr)]\n       (loop [val val, n idx]\n         (if (< n cnt)\n           (let [nval (f val (aget arr n))]\n             (if (reduced? nval)\n               @nval\n               (recur nval (inc n))))\n           val)))))\n\n(declare hash-coll cons drop count nth RSeq List)\n\n(defn counted?\n  \"Returns true if coll implements count in constant time\"\n  [x] (satisfies? ICounted x))\n\n(defn indexed?\n  \"Returns true if coll implements nth in constant time\"\n  [x] (satisfies? IIndexed x))\n\n(defn- -indexOf\n  ([coll x]\n   (-indexOf coll x 0))\n  ([coll x start]\n   (let [len (count coll)]\n     (if (>= start len)\n       -1\n       (loop [idx (cond\n                    (pos? start) start\n                    (neg? start) (max 0 (+ start len))\n                    :else start)]\n         (if (< idx len)\n           (if (= (nth coll idx) x)\n             idx\n             (recur (inc idx)))\n           -1))))))\n\n(defn- -lastIndexOf\n  ([coll x]\n   (-lastIndexOf coll x (count coll)))\n  ([coll x start]\n   (let [len (count coll)]\n    (if (zero? len)\n      -1\n      (loop [idx (cond\n                   (pos? start) (min (dec len) start)\n                   (neg? start) (+ len start)\n                   :else start)]\n        (if (>= idx 0)\n          (if (= (nth coll idx) x)\n            idx\n            (recur (dec idx)))\n          -1))))))\n\n(deftype IndexedSeqIterator [arr ^:mutable i]\n  Object\n  (hasNext [_]\n    (< i (alength arr)))\n  (next [_]\n    (let [ret (aget arr i)]\n      (set! i (inc i))\n      ret)))\n\n(deftype IndexedSeq [arr i meta]\n  Object\n  (toString [coll]\n   (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (IndexedSeq. arr i meta))\n\n  ISeqable\n  (-seq [this]\n    (when (< i (alength arr))\n      this))\n\n  IMeta\n  (-meta [coll] meta)\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (IndexedSeq. arr i new-meta)))\n\n  ASeq\n  ISeq\n  (-first [_] (aget arr i))\n  (-rest [_] (if (< (inc i) (alength arr))\n               (IndexedSeq. arr (inc i) nil)\n               (list)))\n\n  INext\n  (-next [_] (if (< (inc i) (alength arr))\n               (IndexedSeq. arr (inc i) nil)\n               nil))\n\n  IDrop\n  (-drop [coll n]\n    (if (pos? n)\n      (if (< (+ i n) (alength arr))\n        (IndexedSeq. arr (+ i n) nil)\n        nil)\n      coll))\n\n  ICounted\n  (-count [_]\n    (max 0 (- (alength arr) i)))\n\n  IIndexed\n  (-nth [coll n]\n    (let [i (+ n i)]\n      (if (and (<= 0 i) (< i (alength arr)))\n        (aget arr i)\n        (throw (js\/Error. \"Index out of bounds\")))))\n  (-nth [coll n not-found]\n    (let [i (+ n i)]\n      (if (and (<= 0 i) (< i (alength arr)))\n        (aget arr i)\n        not-found)))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IIterable\n  (-iterator [coll]\n    (IndexedSeqIterator. arr i))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IReduce\n  (-reduce [coll f]\n    (array-reduce arr f (aget arr i) (inc i)))\n  (-reduce [coll f start]\n    (array-reduce arr f start i))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  IReversible\n  (-rseq [coll]\n    (let [c (-count coll)]\n      (if (pos? c)\n        (RSeq. coll (dec c) nil)))))\n\n(es6-iterable IndexedSeq)\n\n(defn prim-seq\n  \"Create seq from a primitive JavaScript Array-like.\"\n  ([prim]\n     (prim-seq prim 0))\n  ([prim i]\n     (when (< i (alength prim))\n       (IndexedSeq. prim i nil))))\n\n(defn array-seq\n  \"Create a seq from a JavaScript array.\"\n  ([array]\n     (prim-seq array 0))\n  ([array i]\n     (prim-seq array i)))\n\n(declare with-meta seq-reduce)\n\n(deftype RSeq [ci i meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (RSeq. ci i meta))\n\n  IMeta\n  (-meta [coll] meta)\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (RSeq. ci i new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ISeq\n  (-first [coll]\n    (-nth ci i))\n  (-rest [coll]\n    (if (pos? i)\n      (RSeq. ci (dec i) nil)\n      ()))\n\n  INext\n  (-next [coll]\n    (when (pos? i)\n      (RSeq. ci (dec i) nil)))\n\n  ICounted\n  (-count [coll] (inc i))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  IReduce\n  (-reduce [col f] (seq-reduce f col))\n  (-reduce [col f start] (seq-reduce f start col)))\n\n(es6-iterable RSeq)\n\n(defn second\n  \"Same as (first (next x))\"\n  [coll]\n  (first (next coll)))\n\n(defn ffirst\n  \"Same as (first (first x))\"\n  [coll]\n  (first (first coll)))\n\n(defn nfirst\n  \"Same as (next (first x))\"\n  [coll]\n  (next (first coll)))\n\n(defn fnext\n  \"Same as (first (next x))\"\n  [coll]\n  (first (next coll)))\n\n(defn nnext\n  \"Same as (next (next x))\"\n  [coll]\n  (next (next coll)))\n\n(defn last\n  \"Return the last item in coll, in linear time\"\n  [s]\n  (let [sn (next s)]\n    (if-not (nil? sn)\n      (recur sn)\n      (first s))))\n\n(extend-type default\n  IEquiv\n  (-equiv [x o] (identical? x o)))\n\n(defn conj\n  \"conj[oin]. Returns a new collection with the xs\n  'added'. (conj nil item) returns (item).\n  (conj coll) returns coll. (conj) returns [].\n  The 'addition' may happen at different 'places' depending\n  on the concrete type.\"\n  ([] [])\n  ([coll] coll)\n  ([coll x]\n    (if-not (nil? coll)\n      (-conj coll x)\n      (list x)))\n  ([coll x & xs]\n    (if xs\n      (recur (conj coll x) (first xs) (next xs))\n      (conj coll x))))\n\n(defn empty\n  \"Returns an empty collection of the same category as coll, or nil\"\n  [coll]\n  (when-not (nil? coll)\n    (cond\n      (implements? IEmptyableCollection coll)\n      (-empty coll)\n\n      (satisfies? IEmptyableCollection coll)\n      (-empty coll)\n\n      :else nil)))\n\n(defn- accumulating-seq-count [coll]\n  (loop [s (seq coll) acc 0]\n    (if (counted? s) ; assumes nil is counted, which it currently is\n      (+ acc (-count s))\n      (recur (next s) (inc acc)))))\n\n(defn count\n  \"Returns the number of items in the collection. (count nil) returns\n  0.  Also works on strings, arrays, and Maps\"\n  [coll]\n  (if-not (nil? coll)\n    (cond\n      (implements? ICounted coll)\n      (-count coll)\n\n      (array? coll)\n      (alength coll)\n\n      (string? coll)\n      ^number (.-length coll)\n\n      (implements? ISeqable coll)\n      (accumulating-seq-count coll)\n\n      :else (-count coll))\n    0))\n\n(defn- linear-traversal-nth\n  ([coll n]\n     (cond\n       (nil? coll)     (throw (js\/Error. \"Index out of bounds\"))\n       (zero? n)       (if (seq coll)\n                         (first coll)\n                         (throw (js\/Error. \"Index out of bounds\")))\n       (indexed? coll) (-nth coll n)\n       (seq coll)      (recur (next coll) (dec n))\n       :else           (throw (js\/Error. \"Index out of bounds\"))))\n  ([coll n not-found]\n     (cond\n       (nil? coll)     not-found\n       (zero? n)       (if (seq coll)\n                         (first coll)\n                         not-found)\n       (indexed? coll) (-nth coll n not-found)\n       (seq coll)      (recur (next coll) (dec n) not-found)\n       :else           not-found)))\n\n(defn nth\n  \"Returns the value at the index. get returns nil if index out of\n  bounds, nth throws an exception unless not-found is supplied.  nth\n  also works for strings, arrays, regex Matchers and Lists, and,\n  in O(n) time, for sequences.\"\n  ([coll n]\n    (cond\n      (not (number? n))\n      (throw (js\/Error. \"Index argument to nth must be a number\"))\n\n      (nil? coll)\n      coll\n\n      (implements? IIndexed coll)\n      (-nth coll n)\n\n      (array? coll)\n      (if (and (< -1 n (.-length coll)))\n        (aget coll (int n))\n        (throw (js\/Error. \"Index out of bounds\")))\n\n      (string? coll)\n      (if (and (< -1 n (.-length coll)))\n        (.charAt coll (int n))\n        (throw (js\/Error. \"Index out of bounds\")))\n\n      (or (implements? ISeq coll)\n          (implements? ISequential coll))\n      (if (neg? n)\n        (throw (js\/Error. \"Index out of bounds\"))\n        (linear-traversal-nth coll n))\n\n      (native-satisfies? IIndexed coll)\n      (-nth coll n)\n\n      :else\n      (throw (js\/Error. (str \"nth not supported on this type \"\n                          (type->str (type coll)))))))\n  ([coll n not-found]\n    (cond\n      (not (number? n))\n      (throw (js\/Error. \"Index argument to nth must be a number.\"))\n\n      (nil? coll)\n      not-found\n\n      (implements? IIndexed coll)\n      (-nth coll n not-found)\n\n      (array? coll)\n      (if (and (< -1 n (.-length coll)))\n        (aget coll (int n))\n        not-found)\n\n      (string? coll)\n      (if (and (< -1 n (.-length coll)))\n        (.charAt coll (int n))\n        not-found)\n\n      (or (implements? ISeq coll)\n          (implements? ISequential coll))\n      (if (neg? n)\n        not-found\n        (linear-traversal-nth coll n not-found))\n\n      (native-satisfies? IIndexed coll)\n      (-nth coll n not-found)\n\n      :else\n      (throw (js\/Error. (str \"nth not supported on this type \"\n                          (type->str (type coll))))))))\n\n(defn nthrest\n  \"Returns the nth rest of coll, coll when n is 0.\"\n  [coll n]\n    (if (implements? IDrop coll)\n      (if (pos? n)\n        (or (-drop coll (Math\/ceil n)) ())\n        coll)\n      (loop [n n xs coll]\n        (if-let [xs (and (pos? n) (seq xs))]\n          (recur (dec n) (rest xs))\n          xs))))\n\n(defn get\n  \"Returns the value mapped to key, not-found or nil if key not present\n  in associative collection, set, string, array, or ILookup instance.\"\n  ([o k]\n    (when-not (nil? o)\n      (cond\n        (implements? ILookup o)\n        (-lookup o k)\n\n        (array? o)\n        (when (and (some? k) (< k (.-length o)))\n          (aget o (int k)))\n\n        (string? o)\n        (when (and (some? k) (< -1 k (.-length o)))\n          (.charAt o (int k)))\n\n        (native-satisfies? ILookup o)\n        (-lookup o k)\n\n        :else nil)))\n  ([o k not-found]\n    (if-not (nil? o)\n      (cond\n        (implements? ILookup o)\n        (-lookup o k not-found)\n\n        (array? o)\n        (if (and (some? k) (< -1 k (.-length o)))\n          (aget o (int k))\n          not-found)\n\n        (string? o)\n        (if (and (some? k) (< -1 k (.-length o)))\n          (.charAt o (int k))\n          not-found)\n\n        (native-satisfies? ILookup o)\n        (-lookup o k not-found)\n\n        :else not-found)\n      not-found)))\n\n(declare PersistentHashMap PersistentArrayMap MapEntry)\n\n(defn assoc\n  \"assoc[iate]. When applied to a map, returns a new map of the\n   same (hashed\/sorted) type, that contains the mapping of key(s) to\n   val(s). When applied to a vector, returns a new vector that\n   contains val at index. Note - index must be <= (count vector).\"\n  ([coll k v]\n   (if (implements? IAssociative coll)\n     (-assoc coll k v)\n     (if-not (nil? coll)\n       (-assoc coll k v)\n       (array-map k v))))\n  ([coll k v & kvs]\n     (let [ret (assoc coll k v)]\n       (if kvs\n         (recur ret (first kvs) (second kvs) (nnext kvs))\n         ret))))\n\n(defn dissoc\n  \"dissoc[iate]. Returns a new map of the same (hashed\/sorted) type,\n  that does not contain a mapping for key(s).\"\n  ([coll] coll)\n  ([coll k]\n    (when-not (nil? coll)\n      (-dissoc coll k)))\n  ([coll k & ks]\n    (when-not (nil? coll)\n      (let [ret (dissoc coll k)]\n        (if ks\n          (recur ret (first ks) (next ks))\n          ret)))))\n\n(defn fn?\n  \"Return true if f is a JavaScript function or satisfies the Fn protocol.\"\n  [f]\n  (or (js-fn? f) (satisfies? Fn f)))\n\n(deftype MetaFn [afn meta]\n  IMeta\n  (-meta [_] meta)\n  IWithMeta\n  (-with-meta [_ new-meta]\n    (MetaFn. afn new-meta))\n  Fn\n  IFn\n  (-invoke [_]\n    (afn))\n  (-invoke [_ a]\n    (afn a))\n  (-invoke [_ a b]\n    (afn a b))\n  (-invoke [_ a b c]\n    (afn a b c))\n  (-invoke [_ a b c d]\n    (afn a b c d))\n  (-invoke [_ a b c d e]\n    (afn a b c d e))\n  (-invoke [_ a b c d e f]\n    (afn a b c d e f))\n  (-invoke [_ a b c d e f g]\n    (afn a b c d e f g))\n  (-invoke [_ a b c d e f g h]\n    (afn a b c d e f g h))\n  (-invoke [_ a b c d e f g h i]\n    (afn a b c d e f g h i))\n  (-invoke [_ a b c d e f g h i j]\n    (afn a b c d e f g h i j))\n  (-invoke [_ a b c d e f g h i j k]\n    (afn a b c d e f g h i j k))\n  (-invoke [_ a b c d e f g h i j k l]\n    (afn a b c d e f g h i j k l))\n  (-invoke [_ a b c d e f g h i j k l m]\n    (afn a b c d e f g h i j k l m))\n  (-invoke [_ a b c d e f g h i j k l m n]\n    (afn a b c d e f g h i j k l m n))\n  (-invoke [_ a b c d e f g h i j k l m n o]\n    (afn a b c d e f g h i j k l m n o))\n  (-invoke [_ a b c d e f g h i j k l m n o p]\n    (afn a b c d e f g h i j k l m n o p))\n  (-invoke [_ a b c d e f g h i j k l m n o p q]\n    (afn a b c d e f g h i j k l m n o p q))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r]\n    (afn a b c d e f g h i j k l m n o p q r))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s]\n    (afn a b c d e f g h i j k l m n o p q r s))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t]\n    (afn a b c d e f g h i j k l m n o p q r s t))\n  (-invoke [_ a b c d e f g h i j k l m n o p q r s t rest]\n    (apply afn a b c d e f g h i j k l m n o p q r s t rest)))\n\n(defn with-meta\n  \"Returns an object of the same type and value as obj, with\n  map m as its metadata.\"\n  [o meta]\n  (if (js-fn? o)\n    (MetaFn. o meta)\n    (when-not (nil? o)\n      (-with-meta o meta))))\n\n(defn meta\n  \"Returns the metadata of obj, returns nil if there is no metadata.\"\n  [o]\n  (when (and (not (nil? o))\n             (satisfies? IMeta o))\n    (-meta o)))\n\n(defn peek\n  \"For a list or queue, same as first, for a vector, same as, but much\n  more efficient than, last. If the collection is empty, returns nil.\"\n  [coll]\n  (when-not (nil? coll)\n    (-peek coll)))\n\n(defn pop\n  \"For a list or queue, returns a new list\/queue without the first\n  item, for a vector, returns a new vector without the last item.\n  Note - not the same as next\/butlast.\"\n  [coll]\n  (when-not (nil? coll)\n    (-pop coll)))\n\n(defn disj\n  \"disj[oin]. Returns a new set of the same (hashed\/sorted) type, that\n  does not contain key(s).\"\n  ([coll] coll)\n  ([coll k]\n    (when-not (nil? coll)\n      (-disjoin coll k)))\n  ([coll k & ks]\n    (when-not (nil? coll)\n      (let [ret (disj coll k)]\n        (if ks\n          (recur ret (first ks) (next ks))\n          ret)))))\n\n(defn empty?\n  \"Returns true if coll has no items. To check the emptiness of a seq,\n  please use the idiom (seq x) rather than (not (empty? x))\"\n  [coll]\n  (cond\n    (nil? coll)\n    true\n\n    (satisfies? ICounted coll)\n    (zero? (-count coll))\n\n    :else\n    (not (seq coll))))\n\n(defn coll?\n  \"Returns true if x satisfies ICollection\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? ICollection x)))\n\n(defn set?\n  \"Returns true if x satisfies ISet\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? ISet x)))\n\n(defn associative?\n \"Returns true if coll implements IAssociative\"\n  [x] (satisfies? IAssociative x))\n\n(defn ifind?\n \"Returns true if coll implements IFind\"\n  [x] (satisfies? IFind x))\n\n(defn sequential?\n  \"Returns true if coll satisfies ISequential\"\n  [x] (satisfies? ISequential x))\n\n(defn sorted?\n  \"Returns true if coll satisfies ISorted\"\n  [x] (satisfies? ISorted x))\n\n(defn reduceable?\n  \"Returns true if coll satisfies IReduce\"\n  [x] (satisfies? IReduce x))\n\n(defn map?\n  \"Return true if x satisfies IMap\"\n  [x]\n  (if (nil? x)\n    false\n    (satisfies? IMap x)))\n\n(defn record?\n  \"Return true if x satisfies IRecord\"\n  [x]\n  (satisfies? IRecord x))\n\n(defn vector?\n  \"Return true if x satisfies IVector\"\n  [x] (satisfies? IVector x))\n\n(declare ChunkedCons ChunkedSeq)\n\n(defn chunked-seq?\n  \"Return true if x satisfies IChunkedSeq.\"\n  [x] (implements? IChunkedSeq x))\n\n;;;;;;;;;;;;;;;;;;;; js primitives ;;;;;;;;;;;;\n(defn js-obj\n  \"Create JavaSript object from an even number arguments representing\n  interleaved keys and values.\"\n  ([]\n     (cljs.core\/js-obj))\n  ([& keyvals]\n     (apply gobject\/create keyvals)))\n\n(defn js-keys\n  \"Return the JavaScript keys for an object.\"\n  [obj]\n  (gobject\/getKeys obj))\n\n(defn js-delete\n  \"Delete a property from a JavaScript object.\n  Returns true upon success, false otherwise.\"\n  [obj key]\n  (cljs.core\/js-delete obj key))\n\n(defn- array-copy\n  ([from i to j len]\n    (loop [i i j j len len]\n       (if (zero? len)\n         to\n         (do (aset to j (aget from i))\n             (recur (inc i) (inc j) (dec len)))))))\n\n(defn- array-copy-downward\n  ([from i to j len]\n     (loop [i (+ i (dec len)) j (+ j (dec len)) len len]\n       (if (zero? len)\n         to\n         (do (aset to j (aget from i))\n             (recur (dec i) (dec j) (dec len)))))))\n\n;;;;;;;;;;;;;;;; preds ;;;;;;;;;;;;;;;;;;\n\n(def ^:private lookup-sentinel (js-obj))\n\n(defn ^boolean false?\n  \"Returns true if x is the value false, false otherwise.\"\n  [x] (cljs.core\/false? x))\n\n(defn ^boolean true?\n  \"Returns true if x is the value true, false otherwise.\"\n  [x] (cljs.core\/true? x))\n\n(defn boolean?\n  \"Return true if x is a Boolean\"\n  [x] (or (cljs.core\/true? x) (cljs.core\/false? x)))\n\n(defn ^boolean undefined?\n  \"Returns true if x identical to the JavaScript undefined value.\"\n  [x]\n  (cljs.core\/undefined? x))\n\n(defn seq?\n  \"Return true if s satisfies ISeq\"\n  [s]\n  (if (nil? s)\n    false\n    (satisfies? ISeq s)))\n\n(defn seqable?\n  \"Return true if the seq function is supported for s\"\n  [s]\n  (or\n   (nil? s)\n   (satisfies? ISeqable s)\n   (array? s)\n   (string? s)))\n\n(defn boolean\n  \"Coerce to boolean\"\n  [x]\n  (cond\n    (nil? x) false\n    (false? x) false\n    :else true))\n\n(defn ifn?\n  \"Returns true if f returns true for fn? or satisfies IFn.\"\n  [f]\n  (or (fn? f) (satisfies? IFn f)))\n\n(defn integer?\n  \"Returns true if n is a JavaScript number with no decimal part.\"\n  [n]\n  (and (number? n)\n       (not ^boolean (js\/isNaN n))\n       (not (identical? n js\/Infinity))\n       (== (js\/parseFloat n) (js\/parseInt n 10))))\n\n(def\n  ^{:doc \"INTERNAL: do not use\"}\n  LongImpl goog.math.Long)\n\n(defn int?\n  \"Return true if x satisfies integer? or is an instance of goog.math.Integer\n   or goog.math.Long.\"\n  [x]\n  (or (integer? x)\n      (instance? goog.math.Integer x)\n      (instance? goog.math.Long x)))\n\n(defn pos-int?\n  \"Return true if x satisfies int? and is positive.\"\n  [x]\n  (cond\n    (integer? x) (pos? x)\n\n    (instance? goog.math.Integer x)\n    (and (not (.isNegative x))\n         (not (.isZero x)))\n\n    (instance? goog.math.Long x)\n    (and (not (.isNegative x))\n         (not (.isZero x)))\n\n    :else false))\n\n(defn ^boolean neg-int?\n  \"Return true if x satisfies int? and is negative.\"\n  [x]\n  (cond\n    (integer? x) (neg? x)\n\n    (instance? goog.math.Integer x)\n    (.isNegative x)\n\n    (instance? goog.math.Long x)\n    (.isNegative x)\n\n    :else false))\n\n(defn nat-int?\n  \"Return true if x satisfies int? and is a natural integer value.\"\n  [x]\n  (cond\n    (integer? x)\n    (not (neg? x))\n\n    (instance? goog.math.Integer x)\n    (not (.isNegative x))\n\n    (instance? goog.math.Long x)\n    (not (.isNegative x))\n\n    :else false))\n\n(defn float?\n  \"Returns true for JavaScript numbers, false otherwise.\"\n  [x]\n  (number? x))\n\n(defn double?\n  \"Returns true for JavaScript numbers, false otherwise.\"\n  [x]\n  (number? x))\n\n(defn infinite?\n  \"Returns true for Infinity and -Infinity values.\"\n  [x]\n  (or (identical? x js\/Number.POSITIVE_INFINITY)\n      (identical? x js\/Number.NEGATIVE_INFINITY)))\n\n(defn contains?\n  \"Returns true if key is present in the given collection, otherwise\n  returns false.  Note that for numerically indexed collections like\n  vectors and arrays, this tests if the numeric key is within the\n  range of indexes. 'contains?' operates constant or logarithmic time;\n  it will not perform a linear search for a value.  See also 'some'.\"\n  [coll v]\n  (cond\n    (implements? IAssociative coll)\n    (-contains-key? coll v)\n\n    (native-satisfies? IAssociative coll)\n    (-contains-key? coll v)\n\n    (identical? (get coll v lookup-sentinel) lookup-sentinel)\n    false\n\n    :else\n    true))\n\n(defn find\n  \"Returns the map entry for key, or nil if key not present.\"\n  [coll k]\n  (if (ifind? coll)\n    (-find coll k)\n    (when (and (not (nil? coll))\n            (associative? coll)\n            (contains? coll k))\n      (MapEntry. k (get coll k) nil))))\n\n(defn ^boolean distinct?\n  \"Returns true if no two of the arguments are =\"\n  ([x] true)\n  ([x y] (not (= x y)))\n  ([x y & more]\n     (if (not (= x y))\n     (loop [s #{x y} xs more]\n       (let [x (first xs)\n             etc (next xs)]\n         (if xs\n           (if (contains? s x)\n             false\n             (recur (conj s x) etc))\n           true)))\n     false)))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Seq fns ;;;;;;;;;;;;;;;;\n\n(defn ^number compare\n  \"Comparator. Returns a negative number, zero, or a positive number\n  when x is logically 'less than', 'equal to', or 'greater than'\n  y. Uses IComparable if available and google.array.defaultCompare for objects\n of the same type and special-cases nil to be less than any other object.\"\n  [x y]\n  (cond\n   (identical? x y) 0\n\n   (nil? x) -1\n\n   (nil? y) 1\n\n   (number? x) (if (number? y)\n                 (garray\/defaultCompare x y)\n                 (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))\n\n   (satisfies? IComparable x)\n   (-compare x y)\n\n   :else\n   (if (and (or (string? x) (array? x) (true? x) (false? x))\n            (identical? (type x) (type y)))\n     (garray\/defaultCompare x y)\n     (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))))\n\n(defn ^:private compare-indexed\n  \"Compare indexed collection.\"\n  ([xs ys]\n     (let [xl (count xs)\n           yl (count ys)]\n       (cond\n        (< xl yl) -1\n        (> xl yl) 1\n        (== xl 0) 0\n        :else (compare-indexed xs ys xl 0))))\n  ([xs ys len n]\n     (let [d (compare (nth xs n) (nth ys n))]\n       (if (and (zero? d) (< (+ n 1) len))\n         (recur xs ys len (inc n))\n         d))))\n\n(defn ^:private fn->comparator\n  \"Given a fn that might be boolean valued or a comparator,\n   return a fn that is a comparator.\"\n  [f]\n  (if (= f compare)\n    compare\n    (fn [x y]\n      (let [r (f x y)]\n        (if (number? r)\n          r\n          (if r\n            -1\n            (if (f y x) 1 0)))))))\n\n(declare to-array)\n\n(defn sort\n  \"Returns a sorted sequence of the items in coll. Comp can be\n   boolean-valued comparison function, or a -\/0\/+ valued comparator.\n   Comp defaults to compare.\"\n  ([coll]\n   (sort compare coll))\n  ([comp coll]\n   (if (seq coll)\n     (let [a (to-array coll)]\n       ;; matching Clojure's stable sort, though docs don't promise it\n       (garray\/stableSort a (fn->comparator comp))\n       (with-meta (seq a) (meta coll)))\n     ())))\n\n(defn sort-by\n  \"Returns a sorted sequence of the items in coll, where the sort\n   order is determined by comparing (keyfn item).  Comp can be\n   boolean-valued comparison function, or a -\/0\/+ valued comparator.\n   Comp defaults to compare.\"\n  ([keyfn coll]\n   (sort-by keyfn compare coll))\n  ([keyfn comp coll]\n     (sort (fn [x y] ((fn->comparator comp) (keyfn x) (keyfn y))) coll)))\n\n; simple reduce based on seqs, used as default\n(defn- seq-reduce\n  ([f coll]\n    (if-let [s (seq coll)]\n      (reduce f (first s) (next s))\n      (f)))\n  ([f val coll]\n    (loop [val val, coll (seq coll)]\n      (if coll\n        (let [nval (f val (first coll))]\n          (if (reduced? nval)\n            @nval\n            (recur nval (next coll))))\n        val))))\n\n(declare vec)\n\n(defn shuffle\n  \"Return a random permutation of coll\"\n  [coll]\n  (let [a (to-array coll)]\n    (garray\/shuffle a)\n    (vec a)))\n\n(defn- iter-reduce\n  ([coll f]\n   (let [iter (-iterator coll)]\n     (if (.hasNext iter)\n       (let [init (.next iter)]\n         (loop [acc init]\n           (if ^boolean (.hasNext iter)\n             (let [nacc (f acc (.next iter))]\n               (if (reduced? nacc)\n                 @nacc\n                 (recur nacc)))\n             acc)))\n       (f))))\n  ([coll f init]\n   (let [iter (-iterator coll)]\n     (loop [acc init]\n       (if ^boolean (.hasNext iter)\n         (let [nacc (f acc (.next iter))]\n           (if (reduced? nacc)\n             @nacc\n             (recur nacc)))\n         acc)))))\n\n(defn reduce\n  \"f should be a function of 2 arguments. If val is not supplied,\n  returns the result of applying f to the first 2 items in coll, then\n  applying f to that result and the 3rd item, etc. If coll contains no\n  items, f must accept no arguments as well, and reduce returns the\n  result of calling f with no arguments.  If coll has only 1 item, it\n  is returned and f is not called.  If val is supplied, returns the\n  result of applying f to val and the first item in coll, then\n  applying f to that result and the 2nd item, etc. If coll contains no\n  items, returns val and f is not called.\"\n  ([f coll]\n     (cond\n       (implements? IReduce coll)\n       (-reduce coll f)\n\n       (array? coll)\n       (array-reduce coll f)\n\n       (string? coll)\n       (array-reduce coll f)\n\n       (native-satisfies? IReduce coll)\n       (-reduce coll f)\n\n       (iterable? coll)\n       (iter-reduce coll f)\n\n       :else\n       (seq-reduce f coll)))\n  ([f val coll]\n     (cond\n       (implements? IReduce coll)\n       (-reduce coll f val)\n\n       (array? coll)\n       (array-reduce coll f val)\n\n       (string? coll)\n       (array-reduce coll f val)\n\n       (native-satisfies? IReduce coll)\n       (-reduce coll f val)\n\n       (iterable? coll)\n       (iter-reduce coll f val)\n\n       :else\n       (seq-reduce f val coll))))\n\n(defn reduce-kv\n  \"Reduces an associative collection. f should be a function of 3\n  arguments. Returns the result of applying f to init, the first key\n  and the first value in coll, then applying f to that result and the\n  2nd key and value, etc. If coll contains no entries, returns init\n  and f is not called. Note that reduce-kv is supported on vectors,\n  where the keys will be the ordinals.\"\n  ([f init coll]\n    (if (satisfies? IKVReduce coll)\n      (-kv-reduce coll f init)\n      (reduce (fn [ret me]\n                (f ret (-key me) (-val me)))\n        init coll))))\n\n(defn identity\n  \"Returns its argument.\"\n  [x] x)\n\n(defn completing\n  \"Takes a reducing function f of 2 args and returns a fn suitable for\n  transduce by adding an arity-1 signature that calls cf (default -\n  identity) on the result argument.\"\n  ([f] (completing f identity))\n  ([f cf]\n    (fn\n      ([] (f))\n      ([x] (cf x))\n      ([x y] (f x y)))))\n\n(defn transduce\n  \"reduce with a transformation of f (xf). If init is not\n  supplied, (f) will be called to produce it. f should be a reducing\n  step function that accepts both 1 and 2 arguments, if it accepts\n  only 2 you can add the arity-1 with 'completing'. Returns the result\n  of applying (the transformed) xf to init and the first item in coll,\n  then applying xf to that result and the 2nd item, etc. If coll\n  contains no items, returns init and f is not called. Note that\n  certain transforms may inject or skip items.\"\n  ([xform f coll] (transduce xform f (f) coll))\n  ([xform f init coll]\n     (let [f (xform f)\n           ret (reduce f init coll)]\n       (f ret))))\n\n;;; Math - variadic forms will not work until the following implemented:\n;;; first, next, reduce\n\n(defn ^number +\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/+ x y))\n  ([x y & more]\n    (reduce + (cljs.core\/+ x y) more)))\n\n(defn ^number -\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/- x))\n  ([x y] (cljs.core\/- x y))\n  ([x y & more] (reduce - (cljs.core\/- x y) more)))\n\n(defn ^number *\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/* x y))\n  ([x y & more] (reduce * (cljs.core\/* x y) more)))\n\n(declare divide)\n\n(defn ^number \/\n  \"If no denominators are supplied, returns 1\/numerator,\n  else returns numerator divided by all of the denominators.\"\n  ([x] (\/ 1 x))\n  ([x y] (cljs.core\/divide x y)) ;; FIXME: waiting on cljs.core\/\/\n  ([x y & more] (reduce \/ (\/ x y) more)))\n\n(defn ^boolean <\n  \"Returns non-nil if nums are in monotonically increasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/< x y))\n  ([x y & more]\n     (if (cljs.core\/< x y)\n       (if (next more)\n         (recur y (first more) (next more))\n         (cljs.core\/< y (first more)))\n       false)))\n\n(defn ^boolean <=\n  \"Returns non-nil if nums are in monotonically non-decreasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/<= x y))\n  ([x y & more]\n   (if (cljs.core\/<= x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/<= y (first more)))\n     false)))\n\n(defn ^boolean >\n  \"Returns non-nil if nums are in monotonically decreasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/> x y))\n  ([x y & more]\n   (if (cljs.core\/> x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/> y (first more)))\n     false)))\n\n(defn ^boolean >=\n  \"Returns non-nil if nums are in monotonically non-increasing order,\n  otherwise false.\"\n  ([x] true)\n  ([x y] (cljs.core\/>= x y))\n  ([x y & more]\n   (if (cljs.core\/>= x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (cljs.core\/>= y (first more)))\n     false)))\n\n(defn dec\n  \"Returns a number one less than num.\"\n  [x] (- x 1))\n\n(defn ^number abs\n  {:doc \"Returns the absolute value of a.\"\n   :added \"1.11.10\"}\n  [a] (Math\/abs a))\n\n(defn ^number max\n  \"Returns the greatest of the nums.\"\n  ([x] x)\n  ([x y] (cljs.core\/max x y))\n  ([x y & more]\n   (reduce max (cljs.core\/max x y) more)))\n\n(defn ^number min\n  \"Returns the least of the nums.\"\n  ([x] x)\n  ([x y] (cljs.core\/min x y))\n  ([x y & more]\n   (reduce min (cljs.core\/min x y) more)))\n\n(defn ^number byte [x] x)\n\n(defn char\n  \"Coerce to char\"\n  [x]\n  (cond\n    (number? x) (.fromCharCode js\/String x)\n    (and (string? x) (== (.-length x) 1)) x\n    :else (throw (js\/Error. \"Argument to char must be a character or number\"))))\n\n(defn ^number short [x] x)\n(defn ^number float [x] x)\n(defn ^number double [x] x)\n\n(defn ^number unchecked-byte [x] x)\n(defn ^number unchecked-char [x] x)\n(defn ^number unchecked-short [x] x)\n(defn ^number unchecked-float [x] x)\n(defn ^number unchecked-double [x] x)\n\n(defn ^number unchecked-add\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-add x y))\n  ([x y & more] (reduce unchecked-add (cljs.core\/unchecked-add x y) more)))\n\n(defn ^number unchecked-add-int\n  \"Returns the sum of nums. (+) returns 0.\"\n  ([] 0)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-add-int x y))\n  ([x y & more] (reduce unchecked-add-int (cljs.core\/unchecked-add-int x y) more)))\n\n(defn unchecked-dec\n  \"Returns a number one less than x, an int.\"\n  [x]\n  (cljs.core\/unchecked-dec x))\n\n(defn unchecked-dec-int\n  \"Returns a number one less than x, an int.\"\n  [x]\n  (cljs.core\/unchecked-dec-int x))\n\n(defn ^number unchecked-divide-int\n  \"If no denominators are supplied, returns 1\/numerator,\n  else returns numerator divided by all of the denominators.\"\n  ([x] (unchecked-divide-int 1 x))\n  ([x y] (cljs.core\/divide x y)) ;; FIXME: waiting on cljs.core\/\/\n  ([x y & more] (reduce unchecked-divide-int (unchecked-divide-int x y) more)))\n\n(defn unchecked-inc [x]\n  (cljs.core\/unchecked-inc x))\n\n(defn unchecked-inc-int [x]\n  (cljs.core\/unchecked-inc-int x))\n\n(defn ^number unchecked-multiply\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-multiply x y))\n  ([x y & more] (reduce unchecked-multiply (cljs.core\/unchecked-multiply x y) more)))\n\n(defn ^number unchecked-multiply-int\n  \"Returns the product of nums. (*) returns 1.\"\n  ([] 1)\n  ([x] x)\n  ([x y] (cljs.core\/unchecked-multiply-int x y))\n  ([x y & more] (reduce unchecked-multiply-int (cljs.core\/unchecked-multiply-int x y) more)))\n\n(defn unchecked-negate [x]\n  (cljs.core\/unchecked-negate x))\n\n(defn unchecked-negate-int [x]\n  (cljs.core\/unchecked-negate-int x))\n\n(declare mod)\n\n(defn unchecked-remainder-int [x n]\n  (cljs.core\/unchecked-remainder-int x n))\n\n(defn ^number unchecked-subtract\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/unchecked-subtract x))\n  ([x y] (cljs.core\/unchecked-subtract x y))\n  ([x y & more] (reduce unchecked-subtract (cljs.core\/unchecked-subtract x y) more)))\n\n(defn ^number unchecked-subtract-int\n  \"If no ys are supplied, returns the negation of x, else subtracts\n  the ys from x and returns the result.\"\n  ([x] (cljs.core\/unchecked-subtract-int x))\n  ([x y] (cljs.core\/unchecked-subtract-int x y))\n  ([x y & more] (reduce unchecked-subtract-int (cljs.core\/unchecked-subtract-int x y) more)))\n\n(defn- ^number fix [q]\n  (if (>= q 0)\n    (Math\/floor q)\n    (Math\/ceil q)))\n\n(defn int\n  \"Coerce to int by stripping decimal places.\"\n  [x]\n  (bit-or x 0))\n\n(defn unchecked-int\n  \"Coerce to int by stripping decimal places.\"\n  [x]\n  (fix x))\n\n(defn long\n  \"Coerce to long by stripping decimal places. Identical to `int'.\"\n  [x]\n  (fix x))\n\n(defn unchecked-long\n  \"Coerce to long by stripping decimal places. Identical to `int'.\"\n  [x]\n  (fix x))\n\n(defn booleans [x] x)\n(defn bytes [x] x)\n(defn chars [x] x)\n(defn shorts [x] x)\n(defn ints [x] x)\n(defn floats [x] x)\n(defn doubles [x] x)\n(defn longs [x] x)\n\n(defn js-mod\n  \"Modulus of num and div with original javascript behavior. i.e. bug for negative numbers\"\n  [n d]\n  (cljs.core\/js-mod n d))\n\n(defn mod\n  \"Modulus of num and div. Truncates toward negative infinity.\"\n  [n d]\n  (js-mod (+ (js-mod n d) d) d))\n\n(defn quot\n  \"quot[ient] of dividing numerator by denominator.\"\n  [n d]\n  (let [rem (js-mod n d)]\n    (fix (\/ (- n rem) d))))\n\n(defn rem\n  \"remainder of dividing numerator by denominator.\"\n  [n d]\n  (let [q (quot n d)]\n    (- n (* d q))))\n\n(defn bit-xor\n  \"Bitwise exclusive or\"\n  ([x y] (cljs.core\/bit-xor x y))\n  ([x y & more]\n     (reduce bit-xor (cljs.core\/bit-xor x y) more)))\n\n(defn bit-and\n  \"Bitwise and\"\n  ([x y] (cljs.core\/bit-and x y))\n  ([x y & more]\n     (reduce bit-and (cljs.core\/bit-and x y) more)))\n\n(defn bit-or\n  \"Bitwise or\"\n  ([x y] (cljs.core\/bit-or x y))\n  ([x y & more]\n     (reduce bit-or (cljs.core\/bit-or x y) more)))\n\n(defn bit-and-not\n  \"Bitwise and with complement\"\n  ([x y] (cljs.core\/bit-and-not x y))\n  ([x y & more]\n     (reduce bit-and-not (cljs.core\/bit-and-not x y) more)))\n\n(defn bit-clear\n  \"Clear bit at index n\"\n  [x n]\n  (cljs.core\/bit-clear x n))\n\n(defn bit-flip\n  \"Flip bit at index n\"\n  [x n]\n  (cljs.core\/bit-flip x n))\n\n(defn bit-not\n  \"Bitwise complement\"\n  [x] (cljs.core\/bit-not x))\n\n(defn bit-set\n  \"Set bit at index n\"\n  [x n]\n  (cljs.core\/bit-set x n))\n\n(defn ^boolean bit-test\n  \"Test bit at index n\"\n  [x n]\n  (cljs.core\/bit-test x n))\n\n(defn bit-shift-left\n  \"Bitwise shift left\"\n  [x n] (cljs.core\/bit-shift-left x n))\n\n(defn bit-shift-right\n  \"Bitwise shift right\"\n  [x n] (cljs.core\/bit-shift-right x n))\n\n(defn bit-shift-right-zero-fill\n  \"DEPRECATED: Bitwise shift right with zero fill\"\n  [x n] (cljs.core\/bit-shift-right-zero-fill x n))\n\n(defn unsigned-bit-shift-right\n  \"Bitwise shift right with zero fill\"\n  [x n] (cljs.core\/unsigned-bit-shift-right x n))\n\n(defn bit-count\n  \"Counts the number of bits set in n\"\n  [v]\n  (let [v (- v (bit-and (bit-shift-right v 1) 0x55555555))\n        v (+ (bit-and v 0x33333333) (bit-and (bit-shift-right v 2) 0x33333333))]\n    (bit-shift-right (* (bit-and (+ v (bit-shift-right v 4)) 0xF0F0F0F) 0x1010101) 24)))\n\n(defn ^boolean ==\n  \"Returns non-nil if nums all have the equivalent\n  value, otherwise false. Behavior on non nums is\n  undefined.\"\n  ([x] true)\n  ([x y] (-equiv x y))\n  ([x y & more]\n   (if (== x y)\n     (if (next more)\n       (recur y (first more) (next more))\n       (== y (first more)))\n     false)))\n\n(defn ^boolean pos?\n  \"Returns true if num is greater than zero, else false\"\n  [x] (cljs.core\/pos? x))\n\n(defn ^boolean zero?\n  \"Returns true if num is zero, else false\"\n  [x]\n  (cljs.core\/zero? x))\n\n(defn ^boolean neg?\n  \"Returns true if num is less than zero, else false\"\n  [x] (cljs.core\/neg? x))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; protocols for host types ;;;;;;\n\n(defn nthnext\n  \"Returns the nth next of coll, (seq coll) when n is 0.\"\n  [coll n]\n  (if (implements? IDrop coll)\n    (if (pos? n)\n      (-drop coll (Math\/ceil n))\n      (seq coll))\n    (loop [n n xs (seq coll)]\n      (if (and xs (pos? n))\n        (recur (dec n) (next xs))\n        xs))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;; basics ;;;;;;;;;;;;;;;;;;\n\n(defn str\n  \"With no args, returns the empty string. With one arg x, returns\n  x.toString().  (str nil) returns the empty string. With more than\n  one arg, returns the concatenation of the str values of the args.\"\n  ([] \"\")\n  ([x] (if (nil? x)\n         \"\"\n         (.join #js [x] \"\")))\n  ([x & ys]\n    (loop [sb (StringBuffer. (str x)) more ys]\n      (if more\n        (recur (. sb  (append (str (first more)))) (next more))\n        (.toString sb)))))\n\n(defn subs\n  \"Returns the substring of s beginning at start inclusive, and ending\n  at end (defaults to length of string), exclusive.\"\n  ([s start] ^string (.substring s start))\n  ([s start end] ^string (.substring s start end)))\n\n(declare map name)\n\n(defn- equiv-sequential\n  \"Assumes x is sequential. Returns true if x equals y, otherwise\n  returns false.\"\n  [x y]\n  (boolean\n    (when (sequential? y)\n      (if (and (counted? x) (counted? y)\n               (not (== (count x) (count y))))\n        false\n        (loop [xs (seq x) ys (seq y)]\n          (cond (nil? xs) (nil? ys)\n            (nil? ys) false\n            (= (first xs) (first ys)) (recur (next xs) (next ys))\n            :else false))))))\n\n(defn- hash-coll [coll]\n  (if (seq coll)\n    (loop [res (hash (first coll)) s (next coll)]\n      (if (nil? s)\n        res\n        (recur (hash-combine res (hash (first s))) (next s))))\n    0))\n\n(declare key val)\n\n(defn- hash-imap [m]\n  ;; a la clojure.lang.APersistentMap\n  (loop [h 0 s (seq m)]\n    (if s\n      (let [e (first s)]\n        (recur (js-mod (+ h (bit-xor (hash (key e)) (hash (val e))))\n                    4503599627370496)\n               (next s)))\n      h)))\n\n(defn- hash-iset [s]\n  ;; a la clojure.lang.APersistentSet\n  (loop [h 0 s (seq s)]\n    (if s\n      (let [e (first s)]\n        (recur (js-mod (+ h (hash e)) 4503599627370496)\n               (next s)))\n      h)))\n\n(declare name chunk-first chunk-rest)\n\n(defn- extend-object!\n  \"Takes a JavaScript object and a map of names to functions and\n  attaches said functions as methods on the object.  Any references to\n  JavaScript's implicit this (via the this-as macro) will resolve to the\n  object that the function is attached.\"\n  [obj fn-map]\n  (doseq [[key-name f] fn-map]\n    (let [str-name (name key-name)]\n      (gobject\/set obj str-name f)))\n  obj)\n\n;;;;;;;;;;;;;;;; cons ;;;;;;;;;;;;;;;;\n(deftype List [meta first rest count ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x count))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (List. meta first rest count __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (List. new-meta first rest count __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ASeq\n  ISeq\n  (-first [coll] first)\n  (-rest [coll]\n    (if (== count 1)\n      ()\n      rest))\n\n  INext\n  (-next [coll]\n    (if (== count 1)\n      nil\n      rest))\n\n  IStack\n  (-peek [coll] first)\n  (-pop [coll] (-rest coll))\n\n  ICollection\n  (-conj [coll o] (List. meta o coll (inc count) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ICounted\n  (-count [coll] count)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(defn list?\n  \"Returns true if x implements IList\"\n  [x]\n  (satisfies? IList x))\n\n(es6-iterable List)\n\n(deftype EmptyList [meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (EmptyList. meta))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (EmptyList. new-meta)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] nil)\n  (-rest [coll] ())\n\n  INext\n  (-next [coll] nil)\n\n  IStack\n  (-peek [coll] nil)\n  (-pop [coll] (throw (js\/Error. \"Can't pop empty list\")))\n\n  ICollection\n  (-conj [coll o] (List. meta o nil 1 nil))\n\n  IEmptyableCollection\n  (-empty [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other]\n    (if (or (list? other)\n            (sequential? other))\n      (nil? (seq other))\n      false))\n\n  IHash\n  (-hash [coll] empty-ordered-hash)\n\n  ISeqable\n  (-seq [coll] nil)\n\n  ICounted\n  (-count [coll] 0)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(set! (.-EMPTY List) (EmptyList. nil))\n\n(es6-iterable EmptyList)\n\n(defn reversible?\n  \"Returns true if coll satisfies? IReversible.\"\n  [coll]\n  (satisfies? IReversible coll))\n\n(defn ^seq rseq\n  \"Returns, in constant time, a seq of the items in rev (which\n  can be a vector or sorted-map), in reverse order. If rev is empty returns nil\"\n  [rev]\n  (-rseq rev))\n\n(defn reverse\n  \"Returns a seq of the items in coll in reverse order. Not lazy.\"\n  [coll]\n  (if (reversible? coll)\n    (or (rseq coll) ())\n    (reduce conj () coll)))\n\n(defn list\n  \"Creates a new list containing the items.\"\n  [& xs]\n  (let [arr (if (and (instance? IndexedSeq xs) (zero? (.-i xs)))\n              (.-arr xs)\n              (let [arr (array)]\n                (loop [^not-native xs xs]\n                  (if-not (nil? xs)\n                    (do\n                      (.push arr (-first xs))\n                      (recur (-next xs)))\n                    arr))))]\n    (loop [i (alength arr) r ()]\n      (if (> i 0)\n        (recur (dec i) (-conj r (aget arr (dec i))))\n        r))))\n\n(deftype Cons [meta first rest ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IList\n\n  ICloneable\n  (-clone [_] (Cons. meta first rest __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Cons. new-meta first rest __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ASeq\n  ISeq\n  (-first [coll] first)\n  (-rest [coll] (if (nil? rest) () rest))\n\n  INext\n  (-next [coll]\n    (if (nil? rest) nil (seq rest)))\n\n  ICollection\n  (-conj [coll o] (Cons. nil o coll nil))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable Cons)\n\n(defn cons\n  \"Returns a new seq where x is the first element and coll is the rest.\"\n  [x coll]\n  (cond\n    (nil? coll)             (List. nil x nil 1 nil)\n    (implements? ISeq coll) (Cons. nil x coll nil)\n    :default                (Cons. nil x (seq coll) nil)))\n\n(defn hash-keyword [k]\n  (int (+ (hash-symbol k) 0x9e3779b9)))\n\n(defn- compare-keywords [a b]\n  (cond\n   (identical? (.-fqn a) (.-fqn b)) 0\n   (and (not (.-ns a)) (.-ns b)) -1\n   (.-ns a) (if-not (.-ns b)\n              1\n              (let [nsc (garray\/defaultCompare (.-ns a) (.-ns b))]\n                (if (== 0 nsc)\n                  (garray\/defaultCompare (.-name a) (.-name b))\n                  nsc)))\n   :default (garray\/defaultCompare (.-name a) (.-name b))))\n\n(deftype Keyword [ns name fqn ^:mutable _hash]\n  Object\n  (toString [_] (str \":\" fqn))\n  (equiv [this other]\n    (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Keyword other)\n      (identical? fqn (.-fqn other))\n      false))\n  IFn\n  (-invoke [kw coll]\n    (get coll kw))\n  (-invoke [kw coll not-found]\n    (get coll kw not-found))\n\n  IHash\n  (-hash [this]\n    (caching-hash this hash-keyword _hash))\n\n  INamed\n  (-name [_] name)\n  (-namespace [_] ns)\n\n  IPrintWithWriter\n  (-pr-writer [o writer _] (-write writer (str \":\" fqn))))\n\n(defn keyword?\n  \"Return true if x is a Keyword\"\n  [x]\n  (instance? Keyword x))\n\n(defn keyword-identical?\n  \"Efficient test to determine that two keywords are identical.\"\n  [x y]\n  (if (identical? x y)\n    true\n    (if (and (keyword? x) (keyword? y))\n      (identical? (.-fqn x) (.-fqn y))\n      false)))\n\n(defn symbol-identical?\n  \"Efficient test to determine that two symbols are identical.\"\n  [x y]\n  (if (identical? x y)\n    true\n    (if (and (symbol? x) (symbol? y))\n      (identical? (.-str x) (.-str y))\n      false)))\n\n(defn namespace\n  \"Returns the namespace String of a symbol or keyword, or nil if not present.\"\n  [x]\n  (if (implements? INamed x)\n    (-namespace x)\n    (throw (js\/Error. (str \"Doesn't support namespace: \" x)))))\n\n(defn ident?\n  \"Return true if x is a symbol or keyword\"\n  [x] (or (keyword? x) (symbol? x)))\n\n(defn simple-ident?\n  \"Return true if x is a symbol or keyword without a namespace\"\n  [x] (and (ident? x) (nil? (namespace x))))\n\n(defn qualified-ident?\n  \"Return true if x is a symbol or keyword with a namespace\"\n  [x] (boolean (and (ident? x) (namespace x) true)))\n\n(defn simple-symbol?\n  \"Return true if x is a symbol without a namespace\"\n  [x] (and (symbol? x) (nil? (namespace x))))\n\n(defn qualified-symbol?\n  \"Return true if x is a symbol with a namespace\"\n  [x] (boolean (and (symbol? x) (namespace x) true)))\n\n(defn simple-keyword?\n  \"Return true if x is a keyword without a namespace\"\n  [x] (and (keyword? x) (nil? (namespace x))))\n\n(defn qualified-keyword?\n  \"Return true if x is a keyword with a namespace\"\n  [x] (boolean (and (keyword? x) (namespace x) true)))\n\n(defn keyword\n  \"Returns a Keyword with the given namespace and name.  Do not use :\n  in the keyword strings, it will be added automatically.\"\n  ([name] (cond\n            (keyword? name) name\n            (symbol? name) (Keyword.\n                             (cljs.core\/namespace name)\n                             (cljs.core\/name name) (.-str name) nil)\n            (= \"\/\" name) (Keyword. nil name name nil)\n            (string? name) (let [parts (.split name \"\/\")]\n                             (if (== (alength parts) 2)\n                               (Keyword. (aget parts 0) (aget parts 1) name nil)\n                               (Keyword. nil (aget parts 0) name nil)))))\n  ([ns name]\n   (let [ns   (cond\n                (keyword? ns) (cljs.core\/name ns)\n                (symbol? ns)  (cljs.core\/name ns)\n                :else ns)\n         name (cond\n                (keyword? name) (cljs.core\/name name)\n                (symbol? name) (cljs.core\/name name)\n                :else name)]\n     (Keyword. ns name (str (when ns (str ns \"\/\")) name) nil))))\n\n\n(deftype LazySeq [meta ^:mutable fn ^:mutable s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (sval [coll]\n    (if (nil? fn)\n      s\n      (do\n        (set! s (fn))\n        (set! fn nil)\n        s)))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IPending\n  (-realized? [coll]\n    (not fn))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (LazySeq. new-meta #(-seq coll) nil __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (-seq coll)\n    (when-not (nil? s)\n      (first s)))\n  (-rest [coll]\n    (-seq coll)\n    (if-not (nil? s)\n      (rest s)\n      ()))\n\n  INext\n  (-next [coll]\n    (-seq coll)\n    (when-not (nil? s)\n      (next s)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (.sval coll)\n    (when-not (nil? s)\n      (loop [ls s]\n        (if (instance? LazySeq ls)\n          (recur (.sval ls))\n          (do (set! s ls)\n            (seq s))))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable LazySeq)\n\n(declare ArrayChunk)\n\n(deftype ChunkBuffer [^:mutable buf ^:mutable end]\n  Object\n  (add [_ o]\n    (aset buf end o)\n    (set! end (inc end)))\n\n  (chunk [_]\n    (let [ret (ArrayChunk. buf 0 end)]\n      (set! buf nil)\n      ret))\n\n  ICounted\n  (-count [_] end))\n\n(defn chunk-buffer [capacity]\n  (ChunkBuffer. (make-array capacity) 0))\n\n(deftype ArrayChunk [arr off end]\n  ICounted\n  (-count [_] (- end off))\n\n  IIndexed\n  (-nth [coll i]\n    (aget arr (+ off i)))\n  (-nth [coll i not-found]\n    (if (and (>= i 0) (< i (- end off)))\n      (aget arr (+ off i))\n      not-found))\n\n  IChunk\n  (-drop-first [coll]\n    (if (== off end)\n      (throw (js\/Error. \"-drop-first of empty chunk\"))\n      (ArrayChunk. arr (inc off) end)))\n\n  IReduce\n  (-reduce [coll f]\n    (array-reduce arr f (aget arr off) (inc off)))\n  (-reduce [coll f start]\n    (array-reduce arr f start off)))\n\n(defn array-chunk\n  ([arr]\n     (ArrayChunk. arr 0 (alength arr)))\n  ([arr off]\n     (ArrayChunk. arr off (alength arr)))\n  ([arr off end]\n     (ArrayChunk. arr off end)))\n\n(deftype ChunkedCons [chunk more meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ChunkedCons. chunk more new-meta __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ASeq\n  ISeq\n  (-first [coll] (-nth chunk 0))\n  (-rest [coll]\n    (if (> (-count chunk) 1)\n      (ChunkedCons. (-drop-first chunk) more nil nil)\n      (if (nil? more)\n        ()\n        more)))\n\n  INext\n  (-next [coll]\n    (if (> (-count chunk) 1)\n      (ChunkedCons. (-drop-first chunk) more nil nil)\n      (when-not (nil? more)\n        (-seq more))))\n\n  IChunkedSeq\n  (-chunked-first [coll] chunk)\n  (-chunked-rest [coll]\n    (if (nil? more)\n      ()\n      more))\n\n  IChunkedNext\n  (-chunked-next [coll]\n    (if (nil? more)\n      nil\n      more))\n\n  ICollection\n  (-conj [this o]\n    (cons o this))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash)))\n\n(es6-iterable ChunkedCons)\n\n(defn chunk-cons [chunk rest]\n  (if (zero? (-count chunk))\n    rest\n    (ChunkedCons. chunk rest nil nil)))\n\n(defn chunk-append [b x]\n  (.add b x))\n\n(defn chunk [b]\n  (.chunk b))\n\n(defn chunk-first [s]\n  (-chunked-first s))\n\n(defn chunk-rest [s]\n  (-chunked-rest s))\n\n(defn chunk-next [s]\n  (if (implements? IChunkedNext s)\n    (-chunked-next s)\n    (seq (-chunked-rest s))))\n\n;;;;;;;;;;;;;;;;\n\n(defn to-array\n  \"Returns an array containing the contents of coll.\"\n  [coll]\n  (let [ary (array)]\n    (loop [s (seq coll)]\n      (if-not (nil? s)\n        (do (. ary push (first s))\n            (recur (next s)))\n        ary))))\n\n(defn to-array-2d\n  \"Returns a (potentially-ragged) 2-dimensional array\n  containing the contents of coll.\"\n  [coll]\n    (let [ret (make-array (count coll))]\n      (loop [i 0 xs (seq coll)]\n        (when-not (nil? xs)\n          (aset ret i (to-array (first xs)))\n          (recur (inc i) (next xs))))\n      ret))\n\n(defn int-array\n  \"Creates an array of ints. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (int-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn long-array\n  \"Creates an array of longs. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (long-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn double-array\n  \"Creates an array of doubles. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (double-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn object-array\n  \"Creates an array of objects. Does not coerce array, provided for compatibility\n  with Clojure.\"\n  ([size-or-seq]\n     (if (number? size-or-seq)\n       (object-array size-or-seq nil)\n       (into-array size-or-seq)))\n  ([size init-val-or-seq]\n     (let [a (make-array size)]\n       (if (seq? init-val-or-seq)\n         (let [s (seq init-val-or-seq)]\n           (loop [i 0 s s]\n             (if (and s (< i size))\n               (do\n                 (aset a i (first s))\n                 (recur (inc i) (next s)))\n               a)))\n         (do\n           (dotimes [i size]\n             (aset a i init-val-or-seq))\n           a)))))\n\n(defn bounded-count\n  \"If coll is counted? returns its count, else will count at most the first n\n   elements of coll using its seq\"\n  {:added \"1.9\"}\n  [n coll]\n  (if (counted? coll)\n    (count coll)\n    (loop [i 0 s (seq coll)]\n      (if (and (not (nil? s)) (< i n))\n        (recur (inc i) (next s))\n        i))))\n\n(defn spread\n  [arglist]\n  (when-not (nil? arglist)\n    (let [n (next arglist)]\n      (if (nil? n)\n        (seq (first arglist))\n        (cons (first arglist)\n              (spread n))))))\n\n(defn concat\n  \"Returns a lazy seq representing the concatenation of the elements in the supplied colls.\"\n  ([] (lazy-seq nil))\n  ([x] (lazy-seq x))\n  ([x y]\n    (lazy-seq\n      (let [s (seq x)]\n        (if s\n          (if (chunked-seq? s)\n            (chunk-cons (chunk-first s) (concat (chunk-rest s) y))\n            (cons (first s) (concat (rest s) y)))\n          y))))\n  ([x y & zs]\n     (let [cat (fn cat [xys zs]\n                 (lazy-seq\n                   (let [xys (seq xys)]\n                     (if xys\n                       (if (chunked-seq? xys)\n                         (chunk-cons (chunk-first xys)\n                                     (cat (chunk-rest xys) zs))\n                         (cons (first xys) (cat (rest xys) zs)))\n                       (when zs\n                         (cat (first zs) (next zs)))))))]\n       (cat (concat x y) zs))))\n\n(defn list*\n  \"Creates a new list containing the items prepended to the rest, the\n  last of which will be treated as a sequence.\"\n  ([args] (seq args))\n  ([a args] (cons a args))\n  ([a b args] (cons a (cons b args)))\n  ([a b c args] (cons a (cons b (cons c args))))\n  ([a b c d & more]\n     (cons a (cons b (cons c (cons d (spread more)))))))\n\n\n;;; Transients\n\n(defn transient\n  \"Returns a new, transient version of the collection, in constant time.\"\n  [coll]\n  (-as-transient coll))\n\n(defn persistent!\n  \"Returns a new, persistent version of the transient collection, in\n  constant time. The transient collection cannot be used after this\n  call, any such use will throw an exception.\"\n  [tcoll]\n  (-persistent! tcoll))\n\n(defn conj!\n  \"Adds val to the transient collection, and return tcoll. The 'addition'\n  may happen at different 'places' depending on the concrete type.\"\n  ([] (transient []))\n  ([tcoll] tcoll)\n  ([tcoll val]\n    (-conj! tcoll val))\n  ([tcoll val & vals]\n    (let [ntcoll (-conj! tcoll val)]\n      (if vals\n        (recur ntcoll (first vals) (next vals))\n        ntcoll))))\n\n(defn assoc!\n  \"When applied to a transient map, adds mapping of key(s) to\n  val(s). When applied to a transient vector, sets the val at index.\n  Note - index must be <= (count vector). Returns coll.\"\n  ([tcoll key val]\n    (-assoc! tcoll key val))\n  ([tcoll key val & kvs]\n    (let [ntcoll (-assoc! tcoll key val)]\n      (if kvs\n        (recur ntcoll (first kvs) (second kvs) (nnext kvs))\n        ntcoll))))\n\n(defn dissoc!\n  \"Returns a transient map that doesn't contain a mapping for key(s).\"\n  ([tcoll key]\n    (-dissoc! tcoll key))\n  ([tcoll key & ks]\n    (let [ntcoll (-dissoc! tcoll key)]\n      (if ks\n        (recur ntcoll (first ks) (next ks))\n        ntcoll))))\n\n(defn pop!\n  \"Removes the last item from a transient vector. If\n  the collection is empty, throws an exception. Returns tcoll\"\n  [tcoll]\n  (-pop! tcoll))\n\n(defn disj!\n  \"disj[oin]. Returns a transient set of the same (hashed\/sorted) type, that\n  does not contain key(s).\"\n  ([tcoll val]\n    (-disjoin! tcoll val))\n  ([tcoll val & vals]\n    (let [ntcoll (-disjoin! tcoll val)]\n      (if vals\n        (recur ntcoll (first vals) (next vals))\n        ntcoll))))\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; apply ;;;;;;;;;;;;;;;;\n\n;; see core.clj\n(gen-apply-to)\n\n(set! *unchecked-if* true)\n\n(defn- ^seq next*\n  \"Internal. DO NOT USE! Next without the nil? check.\"\n  [coll]\n  (if (implements? INext coll)\n    (-next ^not-native coll)\n    (seq (rest coll))))\n\n(defn- apply-to-simple\n  \"Internal. DO NOT USE!\n  Assumes args was already called with seq beforehand!\"\n  ([f ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$0 f)\n       (.cljs$core$IFn$_invoke$arity$0 f)\n       (.call f f))\n     (apply-to-simple f (-first args) (next* args))))\n  ([f a0 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$1 f)\n       (.cljs$core$IFn$_invoke$arity$1 f a0)\n       (.call f f a0))\n     (apply-to-simple f a0 (-first args) (next* args))))\n  ([f a0 a1 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$2 f)\n       (.cljs$core$IFn$_invoke$arity$2 f a0 a1)\n       (.call f f a0 a1))\n     (apply-to-simple f a0 a1 (-first args) (next* args))))\n  ([f a0 a1 a2 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$3 f)\n       (.cljs$core$IFn$_invoke$arity$3 f a0 a1 a2)\n       (.call f f a0 a1 a2))\n     (apply-to-simple f a0 a1 a2 (-first args) (next* args))))\n  ([f a0 a1 a2 a3 ^seq args]\n   (if (nil? args)\n     (if (.-cljs$core$IFn$_invoke$arity$4 f)\n       (.cljs$core$IFn$_invoke$arity$4 f a0 a1 a2 a3)\n       (.call f f a0 a1 a2 a3))\n     (gen-apply-to-simple f 4 args))))\n\n(defn apply\n  \"Applies fn f to the argument list formed by prepending intervening arguments to args.\"\n  ([f args]\n   (if (.-cljs$lang$applyTo f)\n     (let [fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (bounded-count (inc fixed-arity) args)]\n       (if (<= bc fixed-arity)\n         (apply-to f bc args)\n         (.cljs$lang$applyTo f args)))\n     (apply-to-simple f (seq args))))\n  ([f x args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (inc (bounded-count fixed-arity args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x (seq args))))\n  ([f x y args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x y args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 2 (bounded-count (dec fixed-arity) args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x y (seq args))))\n  ([f x y z args]\n   (if (.-cljs$lang$applyTo f)\n     (let [arglist (list* x y z args)\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 3 (bounded-count (- fixed-arity 2) args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f x y z (seq args))))\n  ([f a b c d & args]\n   (if (.-cljs$lang$applyTo f)\n     (let [spread-args (spread args)\n           arglist (cons a (cons b (cons c (cons d spread-args))))\n           fixed-arity (.-cljs$lang$maxFixedArity f)\n           bc (+ 4 (bounded-count (- fixed-arity 3) spread-args))]\n       (if (<= bc fixed-arity)\n         (apply-to f bc arglist)\n         (.cljs$lang$applyTo f arglist)))\n     (apply-to-simple f a b c d (spread args)))))\n\n(set! *unchecked-if* false)\n\n;; CLJS-3200: used by destructure macro for maps to reduce amount of repeated code\n;; placed here because it needs apply and hash-map (only declared at this point)\n(defn --destructure-map [gmap]\n  (if (implements? ISeq gmap)\n    (if (next gmap)\n      (.createAsIfByAssoc PersistentArrayMap (to-array gmap))\n      (if (seq gmap)\n        (first gmap)\n        (.-EMPTY PersistentArrayMap)))\n    gmap))\n\n(defn vary-meta\n \"Returns an object of the same type and value as obj, with\n  (apply f (meta obj) args) as its metadata.\"\n  ([obj f]\n   (with-meta obj (f (meta obj))))\n  ([obj f a]\n   (with-meta obj (f (meta obj) a)))\n  ([obj f a b]\n   (with-meta obj (f (meta obj) a b)))\n  ([obj f a b c]\n   (with-meta obj (f (meta obj) a b c)))\n  ([obj f a b c d]\n   (with-meta obj (f (meta obj) a b c d)))\n  ([obj f a b c d & args]\n   (with-meta obj (apply f (meta obj) a b c d args))))\n\n(defn ^boolean not=\n  \"Same as (not (= obj1 obj2))\"\n  ([x] false)\n  ([x y] (not (= x y)))\n  ([x y & more]\n   (not (apply = x y more))))\n\n(defn not-empty\n  \"If coll is empty, returns nil, else coll\"\n  [coll] (when (seq coll) coll))\n\n(defn nil-iter []\n  (reify\n    Object\n    (hasNext [_] false)\n    (next [_] (js\/Error. \"No such element\"))\n    (remove [_] (js\/Error. \"Unsupported operation\"))))\n\n(deftype StringIter [s ^:mutable i]\n  Object\n  (hasNext [_] (< i (.-length s)))\n  (next [_]\n    (let [ret (.charAt s i)]\n      (set! i (inc i))\n      ret))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn string-iter [x]\n  (StringIter. x 0))\n\n(deftype ArrayIter [arr ^:mutable i]\n  Object\n  (hasNext [_] (< i (alength arr)))\n  (next [_]\n    (let [ret (aget arr i)]\n      (set! i (inc i))\n      ret))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn array-iter [x]\n  (ArrayIter. x 0))\n\n(def INIT #js {})\n(def START #js {})\n\n(deftype SeqIter [^:mutable _seq ^:mutable _next]\n  Object\n  (hasNext [_]\n    (if (identical? _seq INIT)\n      (do\n        (set! _seq START)\n        (set! _next (seq _next)))\n      (if (identical? _seq _next)\n        (set! _next (next _seq))))\n    (not (nil? _next)))\n  (next [this]\n    (if-not ^boolean (.hasNext this)\n      (throw (js\/Error. \"No such element\"))\n      (do\n        (set! _seq _next)\n        (first _next))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(defn seq-iter [coll]\n  (SeqIter. INIT coll))\n\n(defn iter [coll]\n  (cond\n    (iterable? coll) (-iterator coll)\n    (nil? coll) (nil-iter)\n    (string? coll) (string-iter coll)\n    (array? coll) (array-iter coll)\n    (seqable? coll) (seq-iter coll)\n    :else (throw (js\/Error. (str \"Cannot create iterator from \" coll)))))\n\n(deftype Many [vals]\n  Object\n  (add [this o]\n    (.push vals o)\n    this)\n  (remove [this]\n    (.shift vals))\n  (isEmpty [this]\n    (zero? (.-length vals)))\n  (toString [this]\n    (str \"Many: \" vals)))\n\n(def ^:private NONE #js {})\n\n(deftype Single [^:mutable val]\n  Object\n  (add [this o]\n    (if (identical? val NONE)\n      (do\n        (set! val o)\n        this)\n      (Many. #js [val o])))\n  (remove [this]\n    (if (identical? val NONE)\n      (throw (js\/Error. (str \"Removing object from empty buffer\")))\n      (let [ret val]\n        (set! val NONE)\n        ret)))\n  (isEmpty [this]\n    (identical? val NONE))\n  (toString [this]\n    (str \"Single: \" val)))\n\n(deftype Empty []\n  Object\n  (add [this o]\n    (Single. o))\n  (remove [this]\n    (throw (js\/Error. (str \"Removing object from empty buffer\"))))\n  (isEmpty [this]\n    true)\n  (toString [this]\n    \"Empty\"))\n\n(def ^:private EMPTY (Empty.))\n\n(deftype MultiIterator [iters]\n  Object\n  (hasNext [_]\n    (loop [iters (seq iters)]\n      (if-not (nil? iters)\n        (let [iter (first iters)]\n          (if-not ^boolean (.hasNext iter)\n            false\n            (recur (next iters))))\n        true)))\n  (next [_]\n    (let [nexts (array)]\n      (dotimes [i (alength iters)]\n        (aset nexts i (.next (aget iters i))))\n      (prim-seq nexts 0))))\n\n(defn- chunkIteratorSeq [iter]\n  (lazy-seq\n    (when ^boolean (.hasNext iter)\n      (let [arr (array)]\n        (loop [n 0]\n          (if (and (.hasNext iter) (< n 32))\n            (do\n              (aset arr n (.next iter))\n              (recur (inc n)))\n            (chunk-cons (array-chunk arr 0 n) (chunkIteratorSeq iter))))))))\n\n(deftype TransformerIterator [^:mutable buffer ^:mutable _next ^:mutable completed ^:mutable xf sourceIter multi]\n  Object\n  (step [this]\n    (if-not (identical? _next NONE)\n      true\n      (loop []\n        (if (identical? _next NONE)\n          (if ^boolean (.isEmpty buffer)\n            (if ^boolean completed\n              false\n              (if ^boolean (.hasNext sourceIter)\n                (let [iter (if ^boolean multi\n                             (apply xf (cons nil (.next sourceIter)))\n                             (xf nil (.next sourceIter)))]\n                  (when (reduced? iter)\n                    (xf nil)\n                    (set! completed true))\n                  (recur))\n                (do\n                  (xf nil)\n                  (set! completed true)\n                  (recur))))\n            (do\n              (set! _next (.remove buffer))\n              (recur)))\n          true))))\n  (hasNext [this]\n    (.step this))\n  (next [this]\n    (if ^boolean (.hasNext this)\n      (let [ret _next]\n        (set! _next NONE)\n        ret)\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_]\n    (js\/Error. \"Unsupported operation\")))\n\n(es6-iterable TransformerIterator)\n\n(defn transformer-iterator\n  [xform sourceIter multi]\n  (let [iterator (TransformerIterator. EMPTY NONE false nil sourceIter multi)]\n    (set! (.-xf iterator)\n      (xform (fn\n               ([] nil)\n               ([acc] acc)\n               ([acc o]\n                (set! (.-buffer iterator) (.add (.-buffer iterator) o))\n                acc))))\n    iterator))\n\n(set! (.-create TransformerIterator)\n  (fn [xform source]\n    (transformer-iterator xform source false)))\n\n(set! (.-createMulti TransformerIterator)\n  (fn [xform sources]\n    (transformer-iterator xform (MultiIterator. (to-array sources)) true)))\n\n(defn sequence\n  \"Coerces coll to a (possibly empty) sequence, if it is not already\n  one. Will not force a lazy seq. (sequence nil) yields (), When a\n  transducer is supplied, returns a lazy sequence of applications of\n  the transform to the items in coll(s), i.e. to the set of first\n  items of each coll, followed by the set of second\n  items in each coll, until any one of the colls is exhausted.  Any\n  remaining items in other colls are ignored. The transform should accept\n  number-of-colls arguments\"\n  ([coll]\n     (if (seq? coll)\n       coll\n       (or (seq coll) ())))\n  ([xform coll]\n   (or (chunkIteratorSeq\n         (.create TransformerIterator xform (iter coll)))\n       ()))\n  ([xform coll & colls]\n   (or (chunkIteratorSeq\n         (.createMulti TransformerIterator xform (map iter (cons coll colls))))\n       ())))\n\n(defn every?\n  \"Returns true if (pred x) is logical true for every x in coll, else\n  false.\"\n  [pred coll]\n  (cond\n   (nil? (seq coll)) true\n   (pred (first coll)) (recur pred (next coll))\n   :else false))\n\n(defn not-every?\n  \"Returns false if (pred x) is logical true for every x in\n  coll, else true.\"\n  [pred coll] (not (every? pred coll)))\n\n(defn some\n  \"Returns the first logical true value of (pred x) for any x in coll,\n  else nil.  One common idiom is to use a set as pred, for example\n  this will return :fred if :fred is in the sequence, otherwise nil:\n  (some #{:fred} coll)\"\n  [pred coll]\n  (when-let [s (seq coll)]\n    (or (pred (first s)) (recur pred (next s)))))\n\n(defn not-any?\n  \"Returns false if (pred x) is logical true for any x in coll,\n  else true.\"\n  [pred coll] (not (some pred coll)))\n\n(defn even?\n  \"Returns true if n is even, throws an exception if n is not an integer\"\n   [n] (if (integer? n)\n        (zero? (bit-and n 1))\n        (throw (js\/Error. (str \"Argument must be an integer: \" n)))))\n\n(defn odd?\n  \"Returns true if n is odd, throws an exception if n is not an integer\"\n  [n] (not (even? n)))\n\n(defn complement\n  \"Takes a fn f and returns a fn that takes the same arguments as f,\n  has the same effects, if any, and returns the opposite truth value.\"\n  [f]\n  (fn\n    ([] (not (f)))\n    ([x] (not (f x)))\n    ([x y] (not (f x y)))\n    ([x y & zs] (not (apply f x y zs)))))\n\n(defn constantly\n  \"Returns a function that takes any number of arguments and returns x.\"\n  [x] (fn [& args] x))\n\n(defn comp\n  \"Takes a set of functions and returns a fn that is the composition\n  of those fns.  The returned fn takes a variable number of args,\n  applies the rightmost of fns to the args, the next\n  fn (right-to-left) to the result, etc.\"\n  ([] identity)\n  ([f] f)\n  ([f g]\n     (fn\n       ([] (f (g)))\n       ([x] (f (g x)))\n       ([x y] (f (g x y)))\n       ([x y z] (f (g x y z)))\n       ([x y z & args] (f (apply g x y z args)))))\n  ([f g h]\n     (fn\n       ([] (f (g (h))))\n       ([x] (f (g (h x))))\n       ([x y] (f (g (h x y))))\n       ([x y z] (f (g (h x y z))))\n       ([x y z & args] (f (g (apply h x y z args))))))\n  ([f1 f2 f3 & fs]\n    (let [fs (reverse (list* f1 f2 f3 fs))]\n      (fn [& args]\n        (loop [ret (apply (first fs) args) fs (next fs)]\n          (if fs\n            (recur ((first fs) ret) (next fs))\n            ret))))))\n\n(defn partial\n  \"Takes a function f and fewer than the normal arguments to f, and\n  returns a fn that takes a variable number of additional args. When\n  called, the returned function calls f with args + additional args.\"\n  ([f] f)\n  ([f arg1]\n   (fn\n     ([] (f arg1))\n     ([x] (f arg1 x))\n     ([x y] (f arg1 x y))\n     ([x y z] (f arg1 x y z))\n     ([x y z & args] (apply f arg1 x y z args))))\n  ([f arg1 arg2]\n   (fn\n     ([] (f arg1 arg2))\n     ([x] (f arg1 arg2 x))\n     ([x y] (f arg1 arg2 x y))\n     ([x y z] (f arg1 arg2 x y z))\n     ([x y z & args] (apply f arg1 arg2 x y z args))))\n  ([f arg1 arg2 arg3]\n   (fn\n     ([] (f arg1 arg2 arg3))\n     ([x] (f arg1 arg2 arg3 x))\n     ([x y] (f arg1 arg2 arg3 x y))\n     ([x y z] (f arg1 arg2 arg3 x y z))\n     ([x y z & args] (apply f arg1 arg2 arg3 x y z args))))\n  ([f arg1 arg2 arg3 & more]\n   (fn [& args] (apply f arg1 arg2 arg3 (concat more args)))))\n\n(defn fnil\n  \"Takes a function f, and returns a function that calls f, replacing\n  a nil first argument to f with the supplied value x. Higher arity\n  versions can replace arguments in the second and third\n  positions (y, z). Note that the function f can take any number of\n  arguments, not just the one(s) being nil-patched.\"\n  ([f x]\n   (fn\n     ([a] (f (if (nil? a) x a)))\n     ([a b] (f (if (nil? a) x a) b))\n     ([a b c] (f (if (nil? a) x a) b c))\n     ([a b c & ds] (apply f (if (nil? a) x a) b c ds))))\n  ([f x y]\n   (fn\n     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))\n     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) c))\n     ([a b c & ds] (apply f (if (nil? a) x a) (if (nil? b) y b) c ds))))\n  ([f x y z]\n   (fn\n     ([a b] (f (if (nil? a) x a) (if (nil? b) y b)))\n     ([a b c] (f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c)))\n     ([a b c & ds] (apply f (if (nil? a) x a) (if (nil? b) y b) (if (nil? c) z c) ds)))))\n\n(declare volatile!)\n\n(defn map-indexed\n  \"Returns a lazy sequence consisting of the result of applying f to 0\n  and the first item of coll, followed by applying f to 1 and the second\n  item in coll, etc, until coll is exhausted. Thus function f should\n  accept 2 arguments, index and item. Returns a stateful transducer when\n  no collection is provided.\"\n  ([f]\n    (fn [rf]\n      (let [i (volatile! -1)]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (rf result (f (vswap! i inc) input)))))))\n  ([f coll]\n    (letfn [(mapi [idx coll]\n              (lazy-seq\n                (when-let [s (seq coll)]\n                  (if (chunked-seq? s)\n                    (let [c (chunk-first s)\n                          size (count c)\n                          b (chunk-buffer size)]\n                      (dotimes [i size]\n                        (chunk-append b (f (+ idx i) (-nth c i))))\n                      (chunk-cons (chunk b) (mapi (+ idx size) (chunk-rest s))))\n                    (cons (f idx (first s)) (mapi (inc idx) (rest s)))))))]\n      (mapi 0 coll))))\n\n(defn keep\n  \"Returns a lazy sequence of the non-nil results of (f item). Note,\n  this means false return values will be included.  f must be free of\n  side-effects.  Returns a transducer when no collection is provided.\"\n  ([f]\n   (fn [rf]\n     (fn\n       ([] (rf))\n       ([result] (rf result))\n       ([result input]\n          (let [v (f input)]\n            (if (nil? v)\n              result\n              (rf result v)))))))\n  ([f coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n            (let [x (f (-nth c i))]\n              (when-not (nil? x)\n                (chunk-append b x))))\n          (chunk-cons (chunk b) (keep f (chunk-rest s))))\n        (let [x (f (first s))]\n          (if (nil? x)\n            (keep f (rest s))\n            (cons x (keep f (rest s))))))))))\n\n;; =============================================================================\n;; Atom\n\n(deftype Atom [state meta validator watches]\n  Object\n  (equiv [this other]\n    (-equiv this other))\n\n  IAtom\n\n  IEquiv\n  (-equiv [o other] (identical? o other))\n\n  IDeref\n  (-deref [_] state)\n\n  IMeta\n  (-meta [_] meta)\n\n  IWatchable\n  (-notify-watches [this oldval newval]\n    (doseq [[key f] watches]\n      (f key this oldval newval)))\n  (-add-watch [this key f]\n    (set! (.-watches this) (assoc watches key f))\n    this)\n  (-remove-watch [this key]\n    (set! (.-watches this) (dissoc watches key)))\n\n  IHash\n  (-hash [this] (goog\/getUid this)))\n\n(defn atom\n  \"Creates and returns an Atom with an initial value of x and zero or\n  more options (in any order):\n\n  :meta metadata-map\n\n  :validator validate-fn\n\n  If metadata-map is supplied, it will become the metadata on the\n  atom. validate-fn must be nil or a side-effect-free fn of one\n  argument, which will be passed the intended new state on any state\n  change. If the new state is unacceptable, the validate-fn should\n  return false or throw an Error.  If either of these error conditions\n  occur, then the value of the atom will not change.\"\n  ([x] (Atom. x nil nil nil))\n  ([x & {:keys [meta validator]}] (Atom. x meta validator nil)))\n\n(declare pr-str)\n\n(defn reset!\n  \"Sets the value of atom to newval without regard for the\n  current value. Returns new-value.\"\n  [a new-value]\n  (if (instance? Atom a)\n    (let [validate (.-validator a)]\n      (when-not (nil? validate)\n        (when-not (validate new-value)\n          (throw (js\/Error. \"Validator rejected reference state\"))))\n      (let [old-value (.-state a)]\n        (set! (.-state a) new-value)\n        (when-not (nil? (.-watches a))\n          (-notify-watches a old-value new-value))\n        new-value))\n    (-reset! a new-value)))\n\n(defn reset-vals!\n  \"Sets the value of atom to newval. Returns [old new], the value of the\n   atom before and after the reset.\"\n  {:added \"1.9\"}\n  [a new-value]\n  (if (instance? Atom a)\n    (let [validate (.-validator a)]\n      (when-not (nil? validate)\n        (when-not (validate new-value)\n          (throw (js\/Error. \"Validator rejected reference state\"))))\n      (let [old-value (.-state a)]\n        (set! (.-state a) new-value)\n        (when-not (nil? (.-watches a))\n          (-notify-watches a old-value new-value))\n        [old-value new-value]))\n    [(-deref a) (-reset! a new-value)]))\n\n(defn swap!\n  \"Atomically swaps the value of atom to be:\n  (apply f current-value-of-atom args). Note that f may be called\n  multiple times, and thus should be free of side effects.  Returns\n  the value that was swapped in.\"\n  ([a f]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a)))\n     (-swap! a f)))\n  ([a f x]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a) x))\n     (-swap! a f x)))\n  ([a f x y]\n   (if (instance? Atom a)\n     (reset! a (f (.-state a) x y))\n     (-swap! a f x y)))\n  ([a f x y & more]\n   (if (instance? Atom a)\n     (reset! a (apply f (.-state a) x y more))\n     (-swap! a f x y more))))\n\n(defn swap-vals!\n  \"Atomically swaps the value of atom to be:\n  (apply f current-value-of-atom args). Note that f may be called\n  multiple times, and thus should be free of side effects.\n  Returns [old new], the value of the atom before and after the swap.\"\n  {:added \"1.9\"}\n  ([a f]\n   (if (instance? Atom a)\n     (reset-vals! a (f (.-state a)))\n     [(-deref a) (-swap! a f)]))\n  ([a f x]\n   (if (instance? Atom a)\n     (reset-vals! a (f (.-state a) x))\n     [(-deref a) (-swap! a f x)]))\n  ([a f x y]\n   (if (instance? Atom a)\n     (reset-vals! a (f (.-state a) x y))\n     [(-deref a) (-swap! a f x y)]))\n  ([a f x y & more]\n   (if (instance? Atom a)\n     (reset-vals! a (apply f (.-state a) x y more))\n     [(-deref a) (-swap! a f x y more)])))\n\n(defn compare-and-set!\n  \"Atomically sets the value of atom to newval if and only if the\n  current value of the atom is equal to oldval. Returns true if\n  set happened, else false.\"\n  [^not-native a oldval newval]\n  (if (= (-deref a) oldval)\n    (do (reset! a newval) true)\n    false))\n\n(defn set-validator!\n  \"Sets the validator-fn for an atom. validator-fn must be nil or a\n  side-effect-free fn of one argument, which will be passed the intended\n  new state on any state change. If the new state is unacceptable, the\n  validator-fn should return false or throw an Error. If the current state\n  is not acceptable to the new validator, an Error will be thrown and the\n  validator will not be changed.\"\n  [iref val]\n  (when (and (some? val)\n             (not (val (-deref iref))))\n    (throw (js\/Error. \"Validator rejected reference state\")))\n  (set! (.-validator iref) val))\n\n(defn get-validator\n  \"Gets the validator-fn for a var\/ref\/agent\/atom.\"\n  [iref]\n  (.-validator iref))\n\n(deftype Volatile [^:mutable state]\n  IVolatile\n  (-vreset! [_ new-state]\n    (set! state new-state))\n\n  IDeref\n  (-deref [_] state))\n\n(defn volatile!\n  \"Creates and returns a Volatile with an initial value of val.\"\n  [val]\n  (Volatile. val))\n\n(defn volatile?\n  \"Returns true if x is a volatile.\"\n  [x] (instance? Volatile x))\n\n(defn vreset!\n  \"Sets the value of volatile to newval without regard for the\n   current value. Returns newval.\"\n  [vol newval]  (-vreset! vol newval))\n\n(defn keep-indexed\n  \"Returns a lazy sequence of the non-nil results of (f index item). Note,\n  this means false return values will be included.  f must be free of\n  side-effects.  Returns a stateful transducer when no collection is\n  provided.\"\n  ([f]\n   (fn [rf]\n     (let [ia (volatile! -1)]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (let [i (vswap! ia inc)\n                  v (f i input)]\n              (if (nil? v)\n                result\n                (rf result v))))))))\n  ([f coll]\n     (letfn [(keepi [idx coll]\n               (lazy-seq\n                (when-let [s (seq coll)]\n                  (if (chunked-seq? s)\n                    (let [c (chunk-first s)\n                          size (count c)\n                          b (chunk-buffer size)]\n                      (dotimes [i size]\n                        (let [x (f (+ idx i) (-nth c i))]\n                          (when-not (nil? x)\n                            (chunk-append b x))))\n                      (chunk-cons (chunk b) (keepi (+ idx size) (chunk-rest s))))\n                    (let [x (f idx (first s))]\n                      (if (nil? x)\n                        (keepi (inc idx) (rest s))\n                        (cons x (keepi (inc idx) (rest s)))))))))]\n       (keepi 0 coll))))\n\n(defn every-pred\n  \"Takes a set of predicates and returns a function f that returns true if all of its\n  composing predicates return a logical true value against all of its arguments, else it returns\n  false. Note that f is short-circuiting in that it will stop execution on the first\n  argument that triggers a logical false result against the original predicates.\"\n  ([p]\n     (fn ep1\n       ([] true)\n       ([x] (boolean (p x)))\n       ([x y] (boolean (and (p x) (p y))))\n       ([x y z] (boolean (and (p x) (p y) (p z))))\n       ([x y z & args] (boolean (and (ep1 x y z)\n                                     (every? p args))))))\n  ([p1 p2]\n     (fn ep2\n       ([] true)\n       ([x] (boolean (and (p1 x) (p2 x))))\n       ([x y] (boolean (and (p1 x) (p1 y) (p2 x) (p2 y))))\n       ([x y z] (boolean (and (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z))))\n       ([x y z & args] (boolean (and (ep2 x y z)\n                                     (every? #(and (p1 %) (p2 %)) args))))))\n  ([p1 p2 p3]\n     (fn ep3\n       ([] true)\n       ([x] (boolean (and (p1 x) (p2 x) (p3 x))))\n       ([x y] (boolean (and (p1 x) (p1 y) (p2 x) (p2 y) (p3 x) (p3 y))))\n       ([x y z] (boolean (and (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z) (p3 x) (p3 y) (p3 z))))\n       ([x y z & args] (boolean (and (ep3 x y z)\n                                     (every? #(and (p1 %) (p2 %) (p3 %)) args))))))\n  ([p1 p2 p3 & ps]\n     (let [ps (list* p1 p2 p3 ps)]\n       (fn epn\n         ([] true)\n         ([x] (every? #(% x) ps))\n         ([x y] (every? #(and (% x) (% y)) ps))\n         ([x y z] (every? #(and (% x) (% y) (% z)) ps))\n         ([x y z & args] (boolean (and (epn x y z)\n                                       (every? #(every? % args) ps))))))))\n\n(defn some-fn\n  \"Takes a set of predicates and returns a function f that returns the first logical true value\n  returned by one of its composing predicates against any of its arguments, else it returns\n  logical false. Note that f is short-circuiting in that it will stop execution on the first\n  argument that triggers a logical true result against the original predicates.\"\n  ([p]\n     (fn sp1\n       ([] nil)\n       ([x] (p x))\n       ([x y] (or (p x) (p y)))\n       ([x y z] (or (p x) (p y) (p z)))\n       ([x y z & args] (or (sp1 x y z)\n                           (some p args)))))\n  ([p1 p2]\n     (fn sp2\n       ([] nil)\n       ([x] (or (p1 x) (p2 x)))\n       ([x y] (or (p1 x) (p1 y) (p2 x) (p2 y)))\n       ([x y z] (or (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z)))\n       ([x y z & args] (or (sp2 x y z)\n                           (some #(or (p1 %) (p2 %)) args)))))\n  ([p1 p2 p3]\n     (fn sp3\n       ([] nil)\n       ([x] (or (p1 x) (p2 x) (p3 x)))\n       ([x y] (or (p1 x) (p1 y) (p2 x) (p2 y) (p3 x) (p3 y)))\n       ([x y z] (or (p1 x) (p1 y) (p1 z) (p2 x) (p2 y) (p2 z) (p3 x) (p3 y) (p3 z)))\n       ([x y z & args] (or (sp3 x y z)\n                           (some #(or (p1 %) (p2 %) (p3 %)) args)))))\n  ([p1 p2 p3 & ps]\n     (let [ps (list* p1 p2 p3 ps)]\n       (fn spn\n         ([] nil)\n         ([x] (some #(% x) ps))\n         ([x y] (some #(or (% x) (% y)) ps))\n         ([x y z] (some #(or (% x) (% y) (% z)) ps))\n         ([x y z & args] (or (spn x y z)\n                             (some #(some % args) ps)))))))\n\n(defn map\n  \"Returns a lazy sequence consisting of the result of applying f to\n  the set of first items of each coll, followed by applying f to the\n  set of second items in each coll, until any one of the colls is\n  exhausted.  Any remaining items in other colls are ignored. Function\n  f should accept number-of-colls arguments. Returns a transducer when\n  no collection is provided.\"\n  ([f]\n    (fn [rf]\n      (fn\n        ([] (rf))\n        ([result] (rf result))\n        ([result input]\n           (rf result (f input)))\n        ([result input & inputs]\n           (rf result (apply f input inputs))))))\n  ([f coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n              (chunk-append b (f (-nth c i))))\n          (chunk-cons (chunk b) (map f (chunk-rest s))))\n        (cons (f (first s)) (map f (rest s)))))))\n  ([f c1 c2]\n   (lazy-seq\n    (let [s1 (seq c1) s2 (seq c2)]\n      (when (and s1 s2)\n        (cons (f (first s1) (first s2))\n              (map f (rest s1) (rest s2)))))))\n  ([f c1 c2 c3]\n   (lazy-seq\n    (let [s1 (seq c1) s2 (seq c2) s3 (seq c3)]\n      (when (and  s1 s2 s3)\n        (cons (f (first s1) (first s2) (first s3))\n              (map f (rest s1) (rest s2) (rest s3)))))))\n  ([f c1 c2 c3 & colls]\n   (let [step (fn step [cs]\n                 (lazy-seq\n                  (let [ss (map seq cs)]\n                    (when (every? identity ss)\n                      (cons (map first ss) (step (map rest ss)))))))]\n     (map #(apply f %) (step (conj colls c3 c2 c1))))))\n\n(defn take\n  \"Returns a lazy sequence of the first n items in coll, or all items if\n  there are fewer than n.  Returns a stateful transducer when\n  no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [na (volatile! n)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [n @na\n                    nn (vswap! na dec)\n                    result (if (pos? n)\n                             (rf result input)\n                             result)]\n                (if (not (pos? nn))\n                  (ensure-reduced result)\n                  result)))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (lazy-seq\n       (when (pos? n)\n         (when-let [s (seq coll)]\n           (cons (first s) (take (dec n) (rest s))))))))\n\n(defn drop\n  \"Returns a laziness-preserving sequence of all but the first n items in coll.\n  Returns a stateful transducer when no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [na (volatile! n)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [n @na]\n                (vswap! na dec)\n                (if (pos? n)\n                  result\n                  (rf result input))))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (if (implements? IDrop coll)\n       (or\n         (if (pos? n)\n           (-drop coll (Math\/ceil n))\n           (seq coll))\n         ())\n       (let [step (fn [n coll]\n                    (let [s (seq coll)]\n                      (if (and (pos? n) s)\n                        (recur (dec n) (rest s))\n                        s)))]\n         (lazy-seq (step n coll))))))\n\n(defn drop-last\n  \"Return a lazy sequence of all but the last n (default 1) items in coll\"\n  ([s] (drop-last 1 s))\n  ([n s] (map (fn [x _] x) s (drop n s))))\n\n(defn take-last\n  \"Returns a seq of the last n items in coll.  Depending on the type\n  of coll may be no better than linear time.  For vectors, see also subvec.\"\n  [n coll]\n  (loop [s (seq coll), lead (seq (drop n coll))]\n    (if lead\n      (recur (next s) (next lead))\n      s)))\n\n(defn drop-while\n  \"Returns a lazy sequence of the items in coll starting from the\n  first item for which (pred item) returns logical false.  Returns a\n  stateful transducer when no collection is provided.\"\n  ([pred]\n     (fn [rf]\n       (let [da (volatile! true)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [drop? @da]\n                (if (and drop? (pred input))\n                  result\n                  (do\n                    (vreset! da nil)\n                    (rf result input)))))))))\n  ([pred coll]\n     (let [step (fn [pred coll]\n                  (let [s (seq coll)]\n                    (if (and s (pred (first s)))\n                      (recur pred (rest s))\n                      s)))]\n       (lazy-seq (step pred coll)))))\n\n(deftype Cycle [meta all prev ^:mutable current ^:mutable _next]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (currentval [coll]\n    (when-not ^seq current\n      (if-let [c (next prev)]\n        (set! current c)\n        (set! current all)))\n    current)\n\n  IPending\n  (-realized? [coll]\n    (some? current))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Cycle. new-meta all prev current _next)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (first (.currentval coll)))\n  (-rest [coll]\n    (when (nil? _next)\n      (set! _next (Cycle. nil all (.currentval coll) nil nil)))\n    _next)\n\n  INext\n  (-next [coll]\n    (-rest coll))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll f]\n    (loop [s (.currentval coll) ret (first s)]\n      (let [s   (or (next s) all)\n            ret (f ret (first s))]\n        (if (reduced? ret)\n          @ret\n          (recur s ret)))))\n  (-reduce [coll f start]\n    (loop [s (.currentval coll) ret start]\n      (let [ret (f ret (first s))]\n        (if (reduced? ret)\n          @ret\n          (recur (or (next s) all) ret))))))\n\n(defn cycle\n  \"Returns a lazy (infinite!) sequence of repetitions of the items in coll.\"\n  [coll] (if-let [vals (seq coll)]\n           (Cycle. nil vals nil vals nil)\n           (.-EMPTY List)))\n\n(defn split-at\n  \"Returns a vector of [(take n coll) (drop n coll)]\"\n  [n coll]\n  [(take n coll) (drop n coll)])\n\n(deftype Repeat [meta count val ^:mutable next ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x count))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IPending\n  (-realized? [coll] false)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Repeat. new-meta count val next nil)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    val)\n  (-rest [coll]\n    (if (nil? next)\n      (if (> count 1)\n        (do\n          (set! next (Repeat. nil (dec count) val nil nil))\n          next)\n        (if (== -1 count)\n          coll\n          ()))\n      next))\n\n  INext\n  (-next [coll]\n    (if (nil? next)\n      (if (> count 1)\n        (do\n          (set! next (Repeat. nil (dec count) val nil nil))\n          next)\n        (if (== -1 count)\n          coll\n          nil))\n      next))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IDrop\n  (-drop [coll n]\n    (if (== count -1)\n      coll\n      (let [dropped-count (- count n)]\n        (when (pos? dropped-count)\n          (Repeat. nil dropped-count val nil nil)))))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IReduce\n  (-reduce [coll f]\n    (if (== count -1)\n      (loop [ret (f val val)]\n        (if (reduced? ret)\n          @ret\n          (recur (f ret val))))\n      (loop [i 1 ret val]\n        (if (< i count)\n          (let [ret (f ret val)]\n            (if (reduced? ret)\n              @ret\n              (recur (inc i) ret)))\n          ret))))\n  (-reduce [coll f start]\n    (if (== count -1)\n      (loop [ret (f start val)]\n        (if (reduced? ret)\n          @ret\n          (recur (f ret val))))\n      (loop [i 0 ret start]\n        (if (< i count)\n          (let [ret (f ret val)]\n            (if (reduced? ret)\n              @ret\n              (recur (inc i) ret)))\n          ret)))))\n\n(defn repeat\n  \"Returns a lazy (infinite!, or length n if supplied) sequence of xs.\"\n  ([x] (Repeat. nil -1 x nil nil))\n  ([n x] (if (pos? n)\n           (Repeat. nil n x nil nil)\n           (.-EMPTY List))))\n\n(defn replicate\n  \"DEPRECATED: Use 'repeat' instead.\n  Returns a lazy seq of n xs.\"\n  [n x] (take n (repeat x)))\n\n(defn repeatedly\n  \"Takes a function of no args, presumably with side effects, and\n  returns an infinite (or length n if supplied) lazy sequence of calls\n  to it\"\n  ([f] (lazy-seq (cons (f) (repeatedly f))))\n  ([n f] (take n (repeatedly f))))\n\n(def ^:private UNREALIZED-SEED #js {})\n\n(deftype Iterate [meta f prev-seed ^:mutable seed ^:mutable next]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n\n  IPending\n  (-realized? [coll]\n    (not (identical? seed UNREALIZED-SEED)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (Iterate. new-meta f prev-seed seed next)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll]\n    (when (identical? UNREALIZED-SEED seed)\n      (set! seed (f prev-seed)))\n    seed)\n  (-rest [coll]\n    (when (nil? next)\n      (set! next (Iterate. nil f (-first coll) UNREALIZED-SEED nil)))\n    next)\n\n  INext\n  (-next [coll]\n    (-rest coll))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeqable\n  (-seq [coll] coll)\n\n  IReduce\n  (-reduce [coll rf]\n    (let [first (-first coll)\n          v     (f first)]\n      (loop [ret (rf first v) v v]\n        (if (reduced? ret)\n          @ret\n          (let [v (f v)]\n            (recur (rf ret v) v))))))\n  (-reduce [coll rf start]\n    (let [v (-first coll)]\n      (loop [ret (rf start v) v v]\n        (if (reduced? ret)\n          @ret\n          (let [v (f v)]\n            (recur (rf ret v) v)))))))\n\n(defn iterate\n  \"Returns a lazy sequence of x, (f x), (f (f x)) etc. f must be free of side-effects\"\n  {:added \"1.0\"}\n  [f x] (Iterate. nil f nil x nil))\n\n(defn interleave\n  \"Returns a lazy seq of the first item in each coll, then the second etc.\"\n  ([] ())\n  ([c1] (lazy-seq c1))\n  ([c1 c2]\n     (lazy-seq\n      (let [s1 (seq c1) s2 (seq c2)]\n        (when (and s1 s2)\n          (cons (first s1) (cons (first s2)\n                                 (interleave (rest s1) (rest s2))))))))\n  ([c1 c2 & colls]\n     (lazy-seq\n      (let [ss (map seq (conj colls c2 c1))]\n        (when (every? identity ss)\n          (concat (map first ss) (apply interleave (map rest ss))))))))\n\n(defn interpose\n  \"Returns a lazy seq of the elements of coll separated by sep.\n  Returns a stateful transducer when no collection is provided.\"\n  ([sep]\n    (fn [rf]\n      (let [started (volatile! false)]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (if @started\n              (let [sepr (rf result sep)]\n                (if (reduced? sepr)\n                  sepr\n                  (rf sepr input)))\n              (do\n                (vreset! started true)\n                (rf result input))))))))\n  ([sep coll] (drop 1 (interleave (repeat sep) coll))))\n\n\n\n(defn- flatten1\n  \"Take a collection of collections, and return a lazy seq\n  of items from the inner collection\"\n  [colls]\n  (let [cat (fn cat [coll colls]\n              (lazy-seq\n                (if-let [coll (seq coll)]\n                  (cons (first coll) (cat (rest coll) colls))\n                  (when (seq colls)\n                    (cat (first colls) (rest colls))))))]\n    (cat nil colls)))\n\n(declare cat)\n\n(defn mapcat\n  \"Returns the result of applying concat to the result of applying map\n  to f and colls.  Thus function f should return a collection. Returns\n  a transducer when no collections are provided\"\n  {:added \"1.0\"\n   :static true}\n  ([f] (comp (map f) cat))\n  ([f & colls]\n     (apply concat (apply map f colls))))\n\n(defn filter\n  \"Returns a lazy sequence of the items in coll for which\n  (pred item) returns logical true. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred]\n    (fn [rf]\n      (fn\n        ([] (rf))\n        ([result] (rf result))\n        ([result input]\n           (if (pred input)\n             (rf result input)\n             result)))))\n  ([pred coll]\n   (lazy-seq\n    (when-let [s (seq coll)]\n      (if (chunked-seq? s)\n        (let [c (chunk-first s)\n              size (count c)\n              b (chunk-buffer size)]\n          (dotimes [i size]\n              (when (pred (-nth c i))\n                (chunk-append b (-nth c i))))\n          (chunk-cons (chunk b) (filter pred (chunk-rest s))))\n        (let [f (first s) r (rest s)]\n          (if (pred f)\n            (cons f (filter pred r))\n            (filter pred r))))))))\n\n(defn remove\n  \"Returns a lazy sequence of the items in coll for which\n  (pred item) returns logical false. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred] (filter (complement pred)))\n  ([pred coll]\n     (filter (complement pred) coll)))\n\n(defn tree-seq\n  \"Returns a lazy sequence of the nodes in a tree, via a depth-first walk.\n  branch? must be a fn of one arg that returns true if passed a node\n  that can have children (but may not).  children must be a fn of one\n  arg that returns a sequence of the children. Will only be called on\n  nodes for which branch? returns true. Root is the root node of the\n  tree.\"\n   [branch? children root]\n   (let [walk (fn walk [node]\n                (lazy-seq\n                 (cons node\n                  (when (branch? node)\n                    (mapcat walk (children node))))))]\n     (walk root)))\n\n(defn flatten\n  \"Takes any nested combination of sequential things (lists, vectors,\n  etc.) and returns their contents as a single, flat sequence.\n  (flatten nil) returns nil.\"\n  [x]\n  (filter #(not (sequential? %))\n          (rest (tree-seq sequential? seq x))))\n\n(defn into\n  \"Returns a new coll consisting of to-coll with all of the items of\n  from-coll conjoined. A transducer may be supplied.\"\n  ([] [])\n  ([to] to)\n  ([to from]\n     (if-not (nil? to)\n       (if (implements? IEditableCollection to)\n         (-with-meta (persistent! (reduce -conj! (transient to) from)) (meta to))\n         (reduce -conj to from))\n       (reduce conj to from)))\n  ([to xform from]\n     (if (implements? IEditableCollection to)\n       (let [tm (meta to)\n             rf (fn\n                  ([coll] (-> (persistent! coll) (-with-meta tm)))\n                  ([coll v] (conj! coll v)))]\n         (transduce xform rf (transient to) from))\n       (transduce xform conj to from))))\n\n(defn mapv\n  \"Returns a vector consisting of the result of applying f to the\n  set of first items of each coll, followed by applying f to the set\n  of second items in each coll, until any one of the colls is\n  exhausted.  Any remaining items in other colls are ignored. Function\n  f should accept number-of-colls arguments.\"\n  ([f coll]\n     (-> (reduce (fn [v o] (conj! v (f o))) (transient []) coll)\n         persistent!))\n  ([f c1 c2]\n     (into [] (map f c1 c2)))\n  ([f c1 c2 c3]\n     (into [] (map f c1 c2 c3)))\n  ([f c1 c2 c3 & colls]\n     (into [] (apply map f c1 c2 c3 colls))))\n\n(defn filterv\n  \"Returns a vector of the items in coll for which\n  (pred item) returns logical true. pred must be free of side-effects.\"\n  [pred coll]\n  (-> (reduce (fn [v o] (if (pred o) (conj! v o) v))\n              (transient [])\n              coll)\n      persistent!))\n\n(defn partition\n  \"Returns a lazy sequence of lists of n items each, at offsets step\n  apart. If step is not supplied, defaults to n, i.e. the partitions\n  do not overlap. If a pad collection is supplied, use its elements as\n  necessary to complete last partition up to n items. In case there are\n  not enough padding elements, return a partition with less than n items.\"\n  ([n coll]\n     (partition n n coll))\n  ([n step coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [p (take n s)]\n           (when (== n (count p))\n             (cons p (partition n step (drop step s))))))))\n  ([n step pad coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [p (take n s)]\n           (if (== n (count p))\n             (cons p (partition n step pad (drop step s)))\n             (list (take n (concat p pad)))))))))\n\n(defn get-in\n  \"Returns the value in a nested associative structure,\n  where ks is a sequence of keys. Returns nil if the key is not present,\n  or the not-found value if supplied.\"\n  {:added \"1.2\"\n   :static true}\n  ([m ks]\n   (loop [m m\n          ks (seq ks)]\n     (if (nil? ks)\n       m\n       (recur (get m (first ks))\n         (next ks)))))\n  ([m ks not-found]\n     (loop [sentinel lookup-sentinel\n            m m\n            ks (seq ks)]\n       (if-not (nil? ks)\n         (let [m (get m (first ks) sentinel)]\n           (if (identical? sentinel m)\n             not-found\n             (recur sentinel m (next ks))))\n         m))))\n\n(defn assoc-in\n  \"Associates a value in a nested associative structure, where ks is a\n  sequence of keys and v is the new value and returns a new nested structure.\n  If any levels do not exist, hash-maps will be created.\"\n  [m [k & ks] v]\n  (if ks\n    (assoc m k (assoc-in (get m k) ks v))\n    (assoc m k v)))\n\n(defn update-in\n  \"'Updates' a value in a nested associative structure, where ks is a\n  sequence of keys and f is a function that will take the old value\n  and any supplied args and return the new value, and returns a new\n  nested structure.  If any levels do not exist, hash-maps will be\n  created.\"\n  ([m [k & ks] f]\n   (if ks\n     (assoc m k (update-in (get m k) ks f))\n     (assoc m k (f (get m k)))))\n  ([m [k & ks] f a]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a))\n     (assoc m k (f (get m k) a))))\n  ([m [k & ks] f a b]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a b))\n     (assoc m k (f (get m k) a b))))\n  ([m [k & ks] f a b c]\n   (if ks\n     (assoc m k (update-in (get m k) ks f a b c))\n     (assoc m k (f (get m k) a b c))))\n  ([m [k & ks] f a b c & args]\n   (if ks\n     (assoc m k (apply update-in (get m k) ks f a b c args))\n     (assoc m k (apply f (get m k) a b c args)))))\n\n(defn update\n  \"'Updates' a value in an associative structure, where k is a\n  key and f is a function that will take the old value\n  and any supplied args and return the new value, and returns a new\n  structure.  If the key does not exist, nil is passed as the old value.\"\n  ([m k f]\n   (assoc m k (f (get m k))))\n  ([m k f x]\n   (assoc m k (f (get m k) x)))\n  ([m k f x y]\n   (assoc m k (f (get m k) x y)))\n  ([m k f x y z]\n   (assoc m k (f (get m k) x y z)))\n  ([m k f x y z & more]\n   (assoc m k (apply f (get m k) x y z more))))\n\n;;; PersistentVector\n\n(deftype VectorNode [edit arr])\n\n(defn- pv-fresh-node [edit]\n  (VectorNode. edit (make-array 32)))\n\n(defn- pv-aget [node idx]\n  (aget (.-arr node) idx))\n\n(defn- pv-aset [node idx val]\n  (aset (.-arr node) idx val))\n\n(defn- pv-clone-node [node]\n  (VectorNode. (.-edit node) (aclone (.-arr node))))\n\n(defn- tail-off [pv]\n  (let [cnt (.-cnt pv)]\n    (if (< cnt 32)\n      0\n      (bit-shift-left (bit-shift-right-zero-fill (dec cnt) 5) 5))))\n\n(defn- new-path [edit level node]\n  (loop [ll level\n         ret node]\n    (if (zero? ll)\n      ret\n      (let [embed ret\n            r (pv-fresh-node edit)\n            _ (pv-aset r 0 embed)]\n        (recur (- ll 5) r)))))\n\n(defn- push-tail [pv level parent tailnode]\n  (let [ret (pv-clone-node parent)\n        subidx (bit-and (bit-shift-right-zero-fill (dec (.-cnt pv)) level) 0x01f)]\n    (if (== 5 level)\n      (do\n        (pv-aset ret subidx tailnode)\n        ret)\n      (let [child (pv-aget parent subidx)]\n        (if-not (nil? child)\n          (let [node-to-insert (push-tail pv (- level 5) child tailnode)]\n            (pv-aset ret subidx node-to-insert)\n            ret)\n          (let [node-to-insert (new-path nil (- level 5) tailnode)]\n            (pv-aset ret subidx node-to-insert)\n            ret))))))\n\n(defn- vector-index-out-of-bounds [i cnt]\n  (throw (js\/Error. (str \"No item \" i \" in vector of length \" cnt))))\n\n(defn- first-array-for-longvec [pv]\n  ;; invariants: (count pv) > 32.\n  (loop [node (.-root pv)\n         level (.-shift pv)]\n    (if (pos? level)\n      (recur (pv-aget node 0) (- level 5))\n      (.-arr node))))\n\n(defn- unchecked-array-for [pv i]\n  ;; invariant: i is a valid index of pv (use array-for if unknown).\n  (if (>= i (tail-off pv))\n      (.-tail pv)\n      (loop [node (.-root pv)\n             level (.-shift pv)]\n        (if (pos? level)\n          (recur (pv-aget node (bit-and (bit-shift-right-zero-fill i level) 0x01f))\n                 (- level 5))\n          (.-arr node)))))\n\n(defn- array-for [pv i]\n  (if (and (<= 0 i) (< i (.-cnt pv)))\n    (unchecked-array-for pv i)\n    (vector-index-out-of-bounds i (.-cnt pv))))\n\n(defn- do-assoc [pv level node i val]\n  (let [ret (pv-clone-node node)]\n    (if (zero? level)\n      (do\n        (pv-aset ret (bit-and i 0x01f) val)\n        ret)\n      (let [subidx (bit-and (bit-shift-right-zero-fill i level) 0x01f)]\n        (pv-aset ret subidx (do-assoc pv (- level 5) (pv-aget node subidx) i val))\n        ret))))\n\n(defn- pop-tail [pv level node]\n  (let [subidx (bit-and (bit-shift-right-zero-fill (- (.-cnt pv) 2) level) 0x01f)]\n    (cond\n     (> level 5) (let [new-child (pop-tail pv (- level 5) (pv-aget node subidx))]\n                   (if (and (nil? new-child) (zero? subidx))\n                     nil\n                     (let [ret (pv-clone-node node)]\n                       (pv-aset ret subidx new-child)\n                       ret)))\n     (zero? subidx) nil\n     :else (let [ret (pv-clone-node node)]\n             (pv-aset ret subidx nil)\n             ret))))\n\n(deftype RangedIterator [^:mutable i ^:mutable base ^:mutable arr v start end]\n  Object\n  (hasNext [this]\n    (< i end))\n  (next [this]\n    (when (== (- i base) 32)\n      (set! arr (unchecked-array-for v i))\n      (set! base (+ base 32)))\n    (let [ret (aget arr (bit-and i 0x01f))]\n      (set! i (inc i))\n      ret)))\n\n(defn ranged-iterator [v start end]\n  (let [i start]\n    (RangedIterator. i (- i (js-mod i 32))\n      (when (< start (count v))\n        (unchecked-array-for v i))\n      v start end)))\n\n(defn- pv-reduce\n  ([pv f start end]\n   (if (< start end)\n     (pv-reduce pv f (nth pv start) (inc start) end)\n     (f)))\n  ([pv f init start end]\n   (loop [acc init i start arr (unchecked-array-for pv start)]\n     (if (< i end)\n       (let [j (bit-and i 0x01f)\n             arr (if (zero? j) (unchecked-array-for pv i) arr)\n             nacc (f acc (aget arr j))]\n         (if (reduced? nacc)\n           @nacc\n           (recur nacc (inc i) arr)))\n       acc))))\n\n(declare tv-editable-root tv-editable-tail TransientVector\n         pr-sequential-writer pr-writer chunked-seq)\n\n(defprotocol APersistentVector\n  \"Marker protocol\")\n\n(deftype PersistentVector [meta cnt shift root tail ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (PersistentVector. meta cnt shift root tail __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentVector. new-meta cnt shift root tail __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IStack\n  (-peek [coll]\n    (when (> cnt 0)\n      (-nth coll (dec cnt))))\n  (-pop [coll]\n    (cond\n     (zero? cnt) (throw (js\/Error. \"Can't pop empty vector\"))\n     (== 1 cnt) (-with-meta (.-EMPTY PersistentVector) meta)\n     (< 1 (- cnt (tail-off coll)))\n      (PersistentVector. meta (dec cnt) shift root (.slice tail 0 -1) nil)\n      :else (let [new-tail (unchecked-array-for coll (- cnt 2))\n                  nr (pop-tail coll shift root)\n                  new-root (if (nil? nr) (.-EMPTY-NODE PersistentVector) nr)\n                  cnt-1 (dec cnt)]\n              (if (and (< 5 shift) (nil? (pv-aget new-root 1)))\n                (PersistentVector. meta cnt-1 (- shift 5) (pv-aget new-root 0) new-tail nil)\n                (PersistentVector. meta cnt-1 shift new-root new-tail nil)))))\n\n  ICollection\n  (-conj [coll o]\n    (if (< (- cnt (tail-off coll)) 32)\n      (let [len (alength tail)\n            new-tail (make-array (inc len))]\n        (dotimes [i len]\n          (aset new-tail i (aget tail i)))\n        (aset new-tail len o)\n        (PersistentVector. meta (inc cnt) shift root new-tail nil))\n      (let [root-overflow? (> (bit-shift-right-zero-fill cnt 5) (bit-shift-left 1 shift))\n            new-shift (if root-overflow? (+ shift 5) shift)\n            new-root (if root-overflow?\n                       (let [n-r (pv-fresh-node nil)]\n                           (pv-aset n-r 0 root)\n                           (pv-aset n-r 1 (new-path nil shift (VectorNode. nil tail)))\n                           n-r)\n                       (push-tail coll shift root (VectorNode. nil tail)))]\n        (PersistentVector. meta (inc cnt) new-shift new-root (array o) nil))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentVector) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other]\n    (if (instance? PersistentVector other)\n      (if (== cnt (count other))\n        (let [me-iter  (-iterator coll)\n              you-iter (-iterator other)]\n          (loop []\n            (if ^boolean (.hasNext me-iter)\n              (let [x (.next me-iter)\n                    y (.next you-iter)]\n                (if (= x y)\n                  (recur)\n                  false))\n              true)))\n        false)\n      (equiv-sequential coll other)))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (cond\n      (zero? cnt) nil\n      (<= cnt 32) (IndexedSeq. tail 0 nil)\n      :else (chunked-seq coll (first-array-for-longvec coll) 0 0)))\n\n  IDrop\n  (-drop [coll n]\n    (if (< n cnt)\n      (let [offset (js-mod n 32)]\n        (chunked-seq coll (unchecked-array-for coll n) (- n offset) offset))\n      nil))\n\n  ICounted\n  (-count [coll] cnt)\n\n  IIndexed\n  (-nth [coll n]\n    (aget (array-for coll n) (bit-and n 0x01f)))\n  (-nth [coll n not-found]\n    (if (and (<= 0 n) (< n cnt))\n      (aget (unchecked-array-for coll n) (bit-and n 0x01f))\n      not-found))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found] (if (number? k)\n                                (-nth coll k not-found)\n                                not-found))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (number? k)\n      (-assoc-n coll k v)\n      (throw (js\/Error. \"Vector's key for assoc must be a number.\"))))\n  (-contains-key? [coll k]\n    (if (integer? k)\n      (and (<= 0 k) (< k cnt))\n      false))\n\n  IFind\n  (-find [coll n]\n    (when (and (<= 0 n) (< n cnt))\n      (MapEntry. n (aget (unchecked-array-for coll n) (bit-and n 0x01f)) nil)))\n\n  APersistentVector\n  IVector\n  (-assoc-n [coll n val]\n    (cond\n       (and (<= 0 n) (< n cnt))\n       (if (<= (tail-off coll) n)\n         (let [new-tail (aclone tail)]\n           (aset new-tail (bit-and n 0x01f) val)\n           (PersistentVector. meta cnt shift root new-tail nil))\n         (PersistentVector. meta cnt shift (do-assoc coll shift root n val) tail nil))\n       (== n cnt) (-conj coll val)\n       :else (throw (js\/Error. (str \"Index \" n \" out of bounds  [0,\" cnt \"]\")))))\n\n  IReduce\n  (-reduce [v f]\n    (pv-reduce v f 0 cnt))\n  (-reduce [v f init]\n    (loop [i 0 init init]\n      (if (< i cnt)\n        (let [arr  (unchecked-array-for v i)\n              len  (alength arr)\n              init (loop [j 0 init init]\n                     (if (< j len)\n                       (let [init (f init (aget arr j))]\n                         (if (reduced? init)\n                           init\n                           (recur (inc j) init)))\n                       init))]\n          (if (reduced? init)\n            @init\n            (recur (+ i len) init)))\n        init)))\n\n  IKVReduce\n  (-kv-reduce [v f init]\n    (loop [i 0 init init]\n      (if (< i cnt)\n        (let [arr  (unchecked-array-for v i)\n              len  (alength arr)\n              init (loop [j 0 init init]\n                     (if (< j len)\n                       (let [init (f init (+ j i) (aget arr j))]\n                         (if (reduced? init)\n                           init\n                           (recur (inc j) init)))\n                       init))]\n          (if (reduced? init)\n            @init\n            (recur (+ i len) init)))\n        init)))\n\n  IFn\n  (-invoke [coll k]\n    (if (number? k)\n      (-nth coll k)\n      (throw (js\/Error. \"Key must be integer\"))))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientVector. cnt shift (tv-editable-root root) (tv-editable-tail tail)))\n\n  IReversible\n  (-rseq [coll]\n    (when (pos? cnt)\n      (RSeq. coll (dec cnt) nil)))\n\n  IIterable\n  (-iterator [this]\n    (ranged-iterator this 0 cnt)))\n\n(set! (.-EMPTY-NODE PersistentVector) (VectorNode. nil (make-array 32)))\n\n(set! (.-EMPTY PersistentVector)\n  (PersistentVector. nil 0 5 (.-EMPTY-NODE PersistentVector) (array) empty-ordered-hash))\n\n(set! (.-fromArray PersistentVector)\n  (fn [xs ^boolean no-clone]\n    (let [l (alength xs)\n          xs (if no-clone xs (aclone xs))]\n      (if (< l 32)\n        (PersistentVector. nil l 5 (.-EMPTY-NODE PersistentVector) xs nil)\n        (let [node (.slice xs 0 32)\n              v (PersistentVector. nil 32 5 (.-EMPTY-NODE PersistentVector) node nil)]\n          (loop [i 32 out (-as-transient v)]\n            (if (< i l)\n              (recur (inc i) (conj! out (aget xs i)))\n              (persistent! out))))))))\n\n(es6-iterable PersistentVector)\n\n(declare map-entry?)\n\n(defn vec\n  \"Creates a new vector containing the contents of coll. JavaScript arrays\n  will be aliased and should not be modified.\"\n  [coll]\n  (cond\n    (map-entry? coll)\n    [(key coll) (val coll)]\n\n    (vector? coll)\n    (with-meta coll nil)\n\n    (array? coll)\n    (.fromArray PersistentVector coll true)\n\n    :else\n    (-persistent!\n      (reduce -conj!\n        (-as-transient (.-EMPTY PersistentVector))\n        coll))))\n\n(defn vector\n  \"Creates a new vector containing the args.\"\n  [& args]\n  (if (and (instance? IndexedSeq args) (zero? (.-i args)))\n    (.fromArray PersistentVector (.-arr args) (not (array? (.-arr args))))\n    (vec args)))\n\n(declare subvec)\n\n(deftype ChunkedSeq [vec node i off meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (chunked-seq vec node i off new-meta)))\n  IMeta\n  (-meta [coll] meta)\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ASeq\n  ISeq\n  (-first [coll]\n    (aget node off))\n  (-rest [coll]\n    (if (< (inc off) (alength node))\n      (let [s (chunked-seq vec node i (inc off))]\n        (if (nil? s)\n          ()\n          s))\n      (-chunked-rest coll)))\n\n  INext\n  (-next [coll]\n    (if (< (inc off) (alength node))\n      (let [s (chunked-seq vec node i (inc off))]\n        (if (nil? s)\n          nil\n          s))\n      (-chunked-next coll)))\n\n  IDrop\n  (-drop [coll n]\n    (let [o (+ off n)]\n      (if (< o (alength node))\n        (chunked-seq vec node i o)\n        (let [i (+ i o)]\n          (if (< i (-count vec))\n            (let [new-offset (js-mod i 32)]\n              (chunked-seq vec (unchecked-array-for vec i) (- i new-offset) new-offset))\n            nil)))))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll]\n    ())\n\n  IChunkedSeq\n  (-chunked-first [coll]\n    (array-chunk node off))\n  (-chunked-rest [coll]\n    (let [end (+ i (alength node))]\n      (if (< end (-count vec))\n        (chunked-seq vec (unchecked-array-for vec end) end 0)\n        ())))\n\n  IChunkedNext\n  (-chunked-next [coll]\n    (let [end (+ i (alength node))]\n      (when (< end (-count vec))\n        (chunked-seq vec (unchecked-array-for vec end) end 0))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f]\n    (pv-reduce vec f (+ i off) (count vec)))\n\n  (-reduce [coll f start]\n    (pv-reduce vec f start (+ i off) (count vec))))\n\n(es6-iterable ChunkedSeq)\n\n(defn chunked-seq\n  ([vec i off] (ChunkedSeq. vec (array-for vec i) i off nil nil))\n  ([vec node i off] (ChunkedSeq. vec node i off nil nil))\n  ([vec node i off meta]\n     (ChunkedSeq. vec node i off meta nil)))\n\n(declare build-subvec)\n\n(deftype Subvec [meta v start end ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (Subvec. meta v start end __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (build-subvec new-meta v start end __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IStack\n  (-peek [coll]\n    (when-not (== start end)\n      (-nth v (dec end))))\n  (-pop [coll]\n    (if (== start end)\n      (throw (js\/Error. \"Can't pop empty vector\"))\n      (build-subvec meta v start (dec end) nil)))\n\n  ICollection\n  (-conj [coll o]\n    (build-subvec meta (-assoc-n v end o) start (inc end) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentVector) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (let [subvec-seq (fn subvec-seq [i]\n                       (when-not (== i end)\n                         (cons (-nth v i)\n                               (lazy-seq\n                                (subvec-seq (inc i))))))]\n      (subvec-seq start)))\n\n  IReversible\n  (-rseq [coll]\n    (if-not (== start end)\n      (RSeq. coll (dec (- end start)) nil)))\n\n  ICounted\n  (-count [coll] (- end start))\n\n  IIndexed\n  (-nth [coll n]\n    (if (or (neg? n) (<= end (+ start n)))\n      (vector-index-out-of-bounds n (- end start))\n      (-nth v (+ start n))))\n  (-nth [coll n not-found]\n    (if (or (neg? n) (<= end (+ start n)))\n      not-found\n      (-nth v (+ start n) not-found)))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found] (if (number? k)\n                                (-nth coll k not-found)\n                                not-found))\n\n  IAssociative\n  (-assoc [coll key val]\n    (if (number? key)\n      (-assoc-n coll key val)\n      (throw (js\/Error. \"Subvec's key for assoc must be a number.\"))))\n  (-contains-key? [coll key]\n    (if (integer? key)\n      (and (<= 0 key) (< key (- end start)))\n      false))\n\n  IFind\n  (-find [coll n]\n    (when-not (neg? n)\n      (let [idx (+ start n)]\n        (when (< idx end)\n          (MapEntry. n (-lookup v idx) nil)))))\n\n  IVector\n  (-assoc-n [coll n val]\n    (let [v-pos (+ start n)]\n      (if (or (neg? n) (<= (inc end) v-pos))\n        (throw (js\/Error. (str \"Index \" n \" out of bounds [0,\" (-count coll) \"]\")))\n        (build-subvec meta (assoc v v-pos val) start (max end (inc v-pos)) nil))))\n\n  IReduce\n  (-reduce [coll f]\n    (if (implements? APersistentVector v)\n      (pv-reduce v f start end)\n      (ci-reduce coll f)))\n  (-reduce [coll f init]\n    (if (implements? APersistentVector v)\n      (pv-reduce v f init start end)\n      (ci-reduce coll f init)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (loop [i start j 0 init init]\n      (if (< i end)\n        (let [init (f init j (-nth v i))]\n          (if (reduced? init)\n            @init\n            (recur (inc i) (inc j) init)))\n        init)))\n\n  IFn\n  (-invoke [coll k]\n    (-nth coll k))\n  (-invoke [coll k not-found]\n    (-nth coll k not-found))\n\n  IIterable\n  (-iterator [coll]\n    (if (implements? APersistentVector v)\n      (ranged-iterator v start end)\n      (seq-iter coll))))\n\n(es6-iterable Subvec)\n\n(defn- build-subvec [meta v start end __hash]\n  (if (instance? Subvec v)\n    (recur meta (.-v v) (+ (.-start v) start) (+ (.-start v) end) __hash)\n    (do\n      (when-not (vector? v)\n        (throw (js\/Error. \"v must satisfy IVector\")))\n      (when (or (neg? start)\n                (< end start)\n                (> end (count v)))\n        (throw (js\/Error. \"Index out of bounds\")))\n      (Subvec. meta v start end __hash))))\n\n(defn subvec\n  \"Returns a persistent vector of the items in vector from\n  start (inclusive) to end (exclusive).  If end is not supplied,\n  defaults to (count vector). This operation is O(1) and very fast, as\n  the resulting vector shares structure with the original and no\n  trimming is done.\"\n  ([v start]\n   (subvec v start (count v)))\n  ([v start end]\n   (assert (and (not (nil? start)) (not (nil? end))))\n   (build-subvec nil v (int start) (int end) nil)))\n\n(defn- tv-ensure-editable [edit node]\n  (if (identical? edit (.-edit node))\n    node\n    (VectorNode. edit (aclone (.-arr node)))))\n\n(defn- tv-editable-root [node]\n  (VectorNode. (js-obj) (aclone (.-arr node))))\n\n(defn- tv-editable-tail [tl]\n  (let [ret (make-array 32)]\n    (array-copy tl 0 ret 0 (alength tl))\n    ret))\n\n(defn- tv-push-tail [tv level parent tail-node]\n  (let [ret    (tv-ensure-editable (.. tv -root -edit) parent)\n        subidx (bit-and (bit-shift-right-zero-fill (dec (.-cnt tv)) level) 0x01f)]\n    (pv-aset ret subidx\n             (if (== level 5)\n               tail-node\n               (let [child (pv-aget ret subidx)]\n                 (if-not (nil? child)\n                   (tv-push-tail tv (- level 5) child tail-node)\n                   (new-path (.. tv -root -edit) (- level 5) tail-node)))))\n    ret))\n\n(defn- tv-pop-tail [tv level node]\n  (let [node   (tv-ensure-editable (.. tv -root -edit) node)\n        subidx (bit-and (bit-shift-right-zero-fill (- (.-cnt tv) 2) level) 0x01f)]\n    (cond\n      (> level 5) (let [new-child (tv-pop-tail\n                                   tv (- level 5) (pv-aget node subidx))]\n                    (if (and (nil? new-child) (zero? subidx))\n                      nil\n                      (do (pv-aset node subidx new-child)\n                          node)))\n      (zero? subidx) nil\n      :else (do (pv-aset node subidx nil)\n                node))))\n\n(defn- unchecked-editable-array-for [tv i]\n  ;; invariant: i is a valid index of tv.\n  (if (>= i (tail-off tv))\n    (.-tail tv)\n    (let [root (.-root tv)]\n      (loop [node  root\n             level (.-shift tv)]\n        (if (pos? level)\n          (recur (tv-ensure-editable\n                   (.-edit root)\n                   (pv-aget node\n                            (bit-and (bit-shift-right-zero-fill i level)\n                                     0x01f)))\n                 (- level 5))\n          (.-arr node))))))\n\n(deftype TransientVector [^:mutable cnt\n                          ^:mutable shift\n                          ^:mutable root\n                          ^:mutable tail]\n  ITransientCollection\n  (-conj! [tcoll o]\n    (if ^boolean (.-edit root)\n      (if (< (- cnt (tail-off tcoll)) 32)\n        (do (aset tail (bit-and cnt 0x01f) o)\n            (set! cnt (inc cnt))\n            tcoll)\n        (let [tail-node (VectorNode. (.-edit root) tail)\n              new-tail  (make-array 32)]\n          (aset new-tail 0 o)\n          (set! tail new-tail)\n          (if (> (bit-shift-right-zero-fill cnt 5)\n                 (bit-shift-left 1 shift))\n            (let [new-root-array (make-array 32)\n                  new-shift      (+ shift 5)]\n              (aset new-root-array 0 root)\n              (aset new-root-array 1 (new-path (.-edit root) shift tail-node))\n              (set! root  (VectorNode. (.-edit root) new-root-array))\n              (set! shift new-shift)\n              (set! cnt   (inc cnt))\n              tcoll)\n            (let [new-root (tv-push-tail tcoll shift root tail-node)]\n              (set! root new-root)\n              (set! cnt  (inc cnt))\n              tcoll))))\n      (throw (js\/Error. \"conj! after persistent!\"))))\n\n  (-persistent! [tcoll]\n    (if ^boolean (.-edit root)\n      (do (set! (.-edit root) nil)\n          (let [len (- cnt (tail-off tcoll))\n                trimmed-tail (make-array len)]\n            (array-copy tail 0 trimmed-tail 0 len)\n            (PersistentVector. nil cnt shift root trimmed-tail nil)))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val]\n    (if (number? key)\n      (-assoc-n! tcoll key val)\n      (throw (js\/Error. \"TransientVector's key for assoc! must be a number.\"))))\n\n  ITransientVector\n  (-assoc-n! [tcoll n val]\n    (if ^boolean (.-edit root)\n      (cond\n        (and (<= 0 n) (< n cnt))\n        (if (<= (tail-off tcoll) n)\n          (do (aset tail (bit-and n 0x01f) val)\n              tcoll)\n          (let [new-root\n                ((fn go [level node]\n                   (let [node (tv-ensure-editable (.-edit root) node)]\n                     (if (zero? level)\n                       (do (pv-aset node (bit-and n 0x01f) val)\n                           node)\n                       (let [subidx (bit-and (bit-shift-right-zero-fill n level)\n                                             0x01f)]\n                         (pv-aset node subidx\n                                  (go (- level 5) (pv-aget node subidx)))\n                         node))))\n                 shift root)]\n            (set! root new-root)\n            tcoll))\n        (== n cnt) (-conj! tcoll val)\n        :else\n        (throw\n         (js\/Error.\n          (str \"Index \" n \" out of bounds for TransientVector of length\" cnt))))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  (-pop! [tcoll]\n    (if ^boolean (.-edit root)\n      (cond\n        (zero? cnt) (throw (js\/Error. \"Can't pop empty vector\"))\n        (== 1 cnt)                       (do (set! cnt 0) tcoll)\n        (pos? (bit-and (dec cnt) 0x01f)) (do (set! cnt (dec cnt)) tcoll)\n        :else\n        (let [new-tail (unchecked-editable-array-for tcoll (- cnt 2))\n              new-root (let [nr (tv-pop-tail tcoll shift root)]\n                         (if-not (nil? nr)\n                           nr\n                           (VectorNode. (.-edit root) (make-array 32))))]\n          (if (and (< 5 shift) (nil? (pv-aget new-root 1)))\n            (let [new-root (tv-ensure-editable (.-edit root) (pv-aget new-root 0))]\n              (set! root  new-root)\n              (set! shift (- shift 5))\n              (set! cnt   (dec cnt))\n              (set! tail  new-tail)\n              tcoll)\n            (do (set! root new-root)\n                (set! cnt  (dec cnt))\n                (set! tail new-tail)\n                tcoll))))\n      (throw (js\/Error. \"pop! after persistent!\"))))\n\n  ICounted\n  (-count [coll]\n    (if ^boolean (.-edit root)\n      cnt\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  IIndexed\n  (-nth [coll n]\n    (if ^boolean (.-edit root)\n      (aget (array-for coll n) (bit-and n 0x01f))\n      (throw (js\/Error. \"nth after persistent!\"))))\n\n  (-nth [coll n not-found]\n    (if (and (<= 0 n) (< n cnt))\n      (-nth coll n)\n      not-found))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (cond\n      (not ^boolean (.-edit root)) (throw (js\/Error. \"lookup after persistent!\"))\n      (number? k) (-nth coll k not-found)\n      :else not-found))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found)))\n\n;;; PersistentQueue ;;;\n\n(deftype PersistentQueueIter [^:mutable fseq riter]\n  Object\n  (hasNext [_]\n    (or (and (some? fseq) (seq fseq)) (and (some? riter) (.hasNext riter))))\n  (next [_]\n    (cond\n      (some? fseq)\n      (let [ret (first fseq)]\n        (set! fseq (next fseq))\n        ret)\n      (and (some? riter) ^boolean (.hasNext riter))\n      (.next riter)\n      :else (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentQueueSeq [meta front rear ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentQueueSeq. new-meta front rear __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] (first front))\n  (-rest  [coll]\n    (if-let [f1 (next front)]\n      (PersistentQueueSeq. meta f1 rear nil)\n      (if (nil? rear)\n        (-empty coll)\n        (PersistentQueueSeq. meta rear nil nil))))\n\n  INext\n  (-next [coll]\n    (if-let [f1 (next front)]\n      (PersistentQueueSeq. meta f1 rear nil)\n      (when (some? rear)\n        (PersistentQueueSeq. meta rear nil nil))))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY List) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] coll))\n\n(es6-iterable PersistentQueueSeq)\n\n(deftype PersistentQueue [meta count front rear ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [coll] (PersistentQueue. meta count front rear __hash))\n\n  IIterable\n  (-iterator [coll]\n    (PersistentQueueIter. front (-iterator rear)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentQueue. new-meta count front rear __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ISeq\n  (-first [coll] (first front))\n  (-rest [coll] (rest (seq coll)))\n\n  IStack\n  (-peek [coll] (first front))\n  (-pop [coll]\n    (if front\n      (if-let [f1 (next front)]\n        (PersistentQueue. meta (dec count) f1 rear nil)\n        (PersistentQueue. meta (dec count) (seq rear) [] nil))\n      coll))\n\n  ICollection\n  (-conj [coll o]\n    (if front\n      (PersistentQueue. meta (inc count) front (conj (or rear []) o) nil)\n      (PersistentQueue. meta (inc count) (conj front o) [] nil)))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentQueue) meta))\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (let [rear (seq rear)]\n      (if (or front rear)\n        (PersistentQueueSeq. nil front (seq rear) nil))))\n\n  ICounted\n  (-count [coll] count))\n\n(set! (.-EMPTY PersistentQueue) (PersistentQueue. nil 0 nil [] empty-ordered-hash))\n\n(es6-iterable PersistentQueue)\n\n(deftype NeverEquiv []\n  Object\n  (equiv [this other]\n    (-equiv this other))\n  IEquiv\n  (-equiv [o other] false))\n\n(def ^:private never-equiv (NeverEquiv.))\n\n(defn equiv-map\n  \"Test map equivalence. Returns true if x equals y, otherwise returns false.\"\n  [x y]\n  (boolean\n    (when (and (map? y) (not (record? y)))\n      ; assume all maps are counted\n      (when (== (count x) (count y))\n        (if (satisfies? IKVReduce x)\n          (reduce-kv\n            (fn [_ k v]\n              (if (= (get y k never-equiv) v)\n                true\n                (reduced false)))\n            true x)\n          (every?\n            (fn [xkv]\n              (= (get y (first xkv) never-equiv) (second xkv)))\n            x))))))\n\n\n(defn- scan-array [incr k array]\n  (let [len (alength array)]\n    (loop [i 0]\n      (when (< i len)\n        (if (identical? k (aget array i))\n          i\n          (recur (+ i incr)))))))\n\n; The keys field is an array of all keys of this map, in no particular\n; order. Any string, keyword, or symbol key is used as a property name\n; to store the value in strobj.  If a key is assoc'ed when that same\n; key already exists in strobj, the old value is overwritten. If a\n; non-string key is assoc'ed, return a HashMap object instead.\n\n(defn- obj-map-compare-keys [a b]\n  (let [a (hash a)\n        b (hash b)]\n    (cond\n     (< a b) -1\n     (> a b) 1\n     :else 0)))\n\n(defn- obj-map->hash-map [m k v]\n  (let [ks  (.-keys m)\n        len (alength ks)\n        so  (.-strobj m)\n        mm  (meta m)]\n    (loop [i   0\n           out (transient (.-EMPTY PersistentHashMap))]\n      (if (< i len)\n        (let [k (aget ks i)]\n          (recur (inc i) (assoc! out k (gobject\/get so k))))\n        (-with-meta (persistent! (assoc! out k v)) mm)))))\n\n;;; ObjMap - DEPRECATED\n\n(defn- obj-clone [obj ks]\n  (let [new-obj (js-obj)\n        l (alength ks)]\n    (loop [i 0]\n      (when (< i l)\n        (let [k (aget ks i)]\n          (gobject\/set new-obj k (gobject\/get obj k))\n          (recur (inc i)))))\n    new-obj))\n\n(deftype ObjMap [meta keys strobj update-count ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ObjMap. new-meta keys strobj update-count __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (reduce -conj\n              coll\n              entry)))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY ObjMap) meta))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (when (pos? (alength keys))\n      (map #(vector % (unchecked-get strobj %))\n           (.sort keys obj-map-compare-keys))))\n\n  ICounted\n  (-count [coll] (alength keys))\n\n  ILookup\n  (-lookup [coll k] (-lookup coll k nil))\n  (-lookup [coll k not-found]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      (unchecked-get strobj k)\n      not-found))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (string? k)\n        (if (or (> update-count (.-HASHMAP_THRESHOLD ObjMap))\n                (>= (alength keys) (.-HASHMAP_THRESHOLD ObjMap)))\n          (obj-map->hash-map coll k v)\n          (if-not (nil? (scan-array 1 k keys))\n            (let [new-strobj (obj-clone strobj keys)]\n              (gobject\/set new-strobj k v)\n              (ObjMap. meta keys new-strobj (inc update-count) nil)) ; overwrite\n            (let [new-strobj (obj-clone strobj keys) ; append\n                  new-keys (aclone keys)]\n              (gobject\/set new-strobj k v)\n              (.push new-keys k)\n              (ObjMap. meta new-keys new-strobj (inc update-count) nil))))\n        ;; non-string key. game over.\n        (obj-map->hash-map coll k v)))\n  (-contains-key? [coll k]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      true\n      false))\n\n  IFind\n  (-find [coll k]\n    (when (and (string? k)\n            (not (nil? (scan-array 1 k keys))))\n      (MapEntry. k (unchecked-get strobj k) nil)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [len (alength keys)]\n      (loop [keys (.sort keys obj-map-compare-keys)\n             init init]\n        (if (seq keys)\n          (let [k (first keys)\n                init (f init k (unchecked-get strobj k))]\n            (if (reduced? init)\n              @init\n              (recur (rest keys) init)))\n          init))))\n\n  IMap\n  (-dissoc [coll k]\n    (if (and (string? k)\n             (not (nil? (scan-array 1 k keys))))\n      (let [new-keys (aclone keys)\n            new-strobj (obj-clone strobj keys)]\n        (.splice new-keys (scan-array 1 k new-keys) 1)\n        (js-delete new-strobj k)\n        (ObjMap. meta new-keys new-strobj (inc update-count) nil))\n      coll)) ; key not found, return coll unchanged\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (transient (into (hash-map) coll))))\n\n(set! (.-EMPTY ObjMap) (ObjMap. nil (array) (js-obj) 0 empty-unordered-hash))\n\n(set! (.-HASHMAP_THRESHOLD ObjMap) 8)\n\n(set! (.-fromObject ObjMap) (fn [ks obj] (ObjMap. nil ks obj 0 nil)))\n\n;; Record Iterator\n(deftype RecordIter [^:mutable i record base-count fields ext-map-iter]\n  Object\n  (hasNext [_]\n    (or (< i base-count) (.hasNext ext-map-iter)))\n  (next [_]\n    (if (< i base-count)\n      (let [k (nth fields i)]\n        (set! i (inc i))\n        (MapEntry. k (-lookup record k) nil))\n      (.next ext-map-iter)))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype ES6EntriesIterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [[k v] (first s)]\n        (set! s (next s))\n        #js {:value #js [k v] :done false})\n      #js {:value nil :done true})))\n\n(defn es6-entries-iterator [coll]\n  (ES6EntriesIterator. (seq coll)))\n\n(deftype ES6SetEntriesIterator [^:mutable s]\n  Object\n  (next [_]\n    (if-not (nil? s)\n      (let [x (first s)]\n        (set! s (next s))\n        #js {:value #js [x x] :done false})\n      #js {:value nil :done true})))\n\n(defn es6-set-entries-iterator [coll]\n  (ES6SetEntriesIterator. (seq coll)))\n\n;;; PersistentArrayMap\n\n(defn- array-index-of-nil? [arr]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (nil? (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-keyword? [arr k]\n  (let [len  (alength arr)\n        kstr (.-fqn k)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (and (keyword? (aget arr i))\n             (identical? kstr (.-fqn (aget arr i)))) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-symbol? [arr k]\n  (let [len  (alength arr)\n        kstr (.-str k)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (and (symbol? (aget arr i))\n             (identical? kstr (.-str (aget arr i)))) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-identical? [arr k]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (identical? k (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn- array-index-of-equiv? [arr k]\n  (let [len (alength arr)]\n    (loop [i 0]\n      (cond\n        (<= len i) -1\n        (= k (aget arr i)) i\n        :else (recur (+ i 2))))))\n\n(defn array-index-of [arr k]\n  (cond\n    (keyword? k) (array-index-of-keyword? arr k)\n\n    (or (string? k) (number? k))\n    (array-index-of-identical? arr k)\n\n    (symbol? k) (array-index-of-symbol? arr k)\n\n    (nil? k)\n    (array-index-of-nil? arr)\n\n    :else (array-index-of-equiv? arr k)))\n\n(defn- array-map-index-of [m k]\n  (array-index-of (.-arr m) k))\n\n(defn- array-extend-kv [arr k v]\n  (let [l (alength arr)\n        narr (make-array (+ l 2))]\n    (loop [i 0]\n      (when (< i l)\n        (aset narr i (aget arr i))\n        (recur (inc i))))\n    (aset narr l k)\n    (aset narr (inc l) v)\n    narr))\n\n(defn- array-map-extend-kv [m k v]\n  (array-extend-kv (.-arr m) k v))\n\n(declare TransientArrayMap)\n\n(deftype MapEntry [key val ^:mutable __hash]\n  Object\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(defn map-entry?\n  \"Returns true if x satisfies IMapEntry\"\n  [x]\n  (implements? IMapEntry x))\n\n(deftype PersistentArrayMapSeq [arr i _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (PersistentArrayMapSeq. arr i new-meta)))\n\n  ICounted\n  (-count [coll]\n    (\/ (- (alength arr) i) 2))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (MapEntry. (aget arr i) (aget arr (inc i)) nil))\n\n  (-rest [coll]\n    (if (< i (- (alength arr) 2))\n      (PersistentArrayMapSeq. arr (+ i 2) nil)\n      ()))\n\n  INext\n  (-next [coll]\n    (when (< i (- (alength arr) 2))\n      (PersistentArrayMapSeq. arr (+ i 2) nil)))\n\n  IDrop\n  (-drop [coll n]\n    (when (< n (-count coll))\n      (PersistentArrayMapSeq. arr (+ i (* 2 n)) nil)))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable PersistentArrayMapSeq)\n\n(defn persistent-array-map-seq [arr i _meta]\n  (when (<= i (- (alength arr) 2))\n    (PersistentArrayMapSeq. arr i _meta)))\n\n(declare keys vals)\n\n(deftype PersistentArrayMapIterator [arr ^:mutable i cnt]\n  Object\n  (hasNext [_]\n    (< i cnt))\n  (next [_]\n    (let [ret (MapEntry. (aget arr i) (aget arr (inc i)) nil)]\n      (set! i (+ i 2))\n      ret)))\n\n(deftype PersistentArrayMap [meta cnt arr ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentArrayMap. meta cnt arr __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentArrayMap. new-meta cnt arr __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentArrayMap) meta))\n\n  IEquiv\n  (-equiv [coll other]\n    (if (and (map? other) (not (record? other)))\n      (let [alen (alength arr)\n            ^not-native other other]\n        (if (== cnt (-count other))\n          (loop [i 0]\n            (if (< i alen)\n              (let [v (-lookup other (aget arr i) lookup-sentinel)]\n                (if-not (identical? v lookup-sentinel)\n                  (if (= (aget arr (inc i)) v)\n                    (recur (+ i 2))\n                    false)\n                  false))\n              true))\n          false))\n      false))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  IIterable\n  (-iterator [this]\n    (PersistentArrayMapIterator. arr 0 (* cnt 2)))\n\n  ISeqable\n  (-seq [coll]\n    (persistent-array-map-seq arr 0 nil))\n\n  IDrop\n  (-drop [coll n]\n    (when-some [s (-seq coll)]\n      (-drop s n)))\n\n  ICounted\n  (-count [coll] cnt)\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (let [idx (array-map-index-of coll k)]\n      (if (== idx -1)\n        not-found\n        (aget arr (inc idx)))))\n\n  IAssociative\n  (-assoc [coll k v]\n    (let [idx (array-map-index-of coll k)]\n      (cond\n        (== idx -1)\n        (if (< cnt (.-HASHMAP-THRESHOLD PersistentArrayMap))\n          (let [arr (array-map-extend-kv coll k v)]\n            (PersistentArrayMap. meta (inc cnt) arr nil))\n          (-> (into (.-EMPTY PersistentHashMap) coll)\n            (-assoc k v)\n            (-with-meta meta)))\n\n        (identical? v (aget arr (inc idx)))\n        coll\n\n        :else\n        (let [arr (doto (aclone arr)\n                    (aset (inc idx) v))]\n          (PersistentArrayMap. meta cnt arr nil)))))\n\n  (-contains-key? [coll k]\n    (not (== (array-map-index-of coll k) -1)))\n\n  IFind\n  (-find [coll k]\n    (let [idx (array-map-index-of coll k)]\n      (when-not (== idx -1)\n        (MapEntry. (aget arr idx) (aget arr (inc idx)) nil))))\n\n  IMap\n  (-dissoc [coll k]\n    (let [idx (array-map-index-of coll k)]\n      (if (>= idx 0)\n        (let [len     (alength arr)\n              new-len (- len 2)]\n          (if (zero? new-len)\n            (-empty coll)\n            (let [new-arr (make-array new-len)]\n              (loop [s 0 d 0]\n                (cond\n                  (>= s len) (PersistentArrayMap. meta (dec cnt) new-arr nil)\n                  (= k (aget arr s)) (recur (+ s 2) d)\n                  :else (do (aset new-arr d (aget arr s))\n                            (aset new-arr (inc d) (aget arr (inc s)))\n                            (recur (+ s 2) (+ d 2))))))))\n        coll)))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [len (alength arr)]\n      (loop [i 0 init init]\n        (if (< i len)\n          (let [init (f init (aget arr i) (aget arr (inc i)))]\n            (if (reduced? init)\n              @init\n              (recur (+ i 2) init)))\n          init))))\n\n  IReduce\n  (-reduce [coll f]\n    (iter-reduce coll f))\n  (-reduce [coll f start]\n    (iter-reduce coll f start))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientArrayMap. (js-obj) (alength arr) (aclone arr))))\n\n(set! (.-EMPTY PersistentArrayMap) (PersistentArrayMap. nil 0 (array) empty-unordered-hash))\n\n(set! (.-HASHMAP-THRESHOLD PersistentArrayMap) 8)\n\n(set! (.-fromArray PersistentArrayMap)\n  (fn [arr ^boolean no-clone ^boolean no-check]\n    (as-> (if no-clone arr (aclone arr)) arr\n      (if no-check\n        arr\n        (let [ret (array)]\n          (loop [i 0]\n            (when (< i (alength arr))\n              (let [k (aget arr i)\n                    v (aget arr (inc i))\n                    idx (array-index-of ret k)]\n                (when (== idx -1)\n                  (.push ret k)\n                  (.push ret v)))\n              (recur (+ i 2))))\n          ret))\n      (let [cnt (\/ (alength arr) 2)]\n        (PersistentArrayMap. nil cnt arr nil)))))\n\n(set! (.-createWithCheck PersistentArrayMap)\n  (fn [arr]\n    (let [ret (array)]\n      (loop [i 0]\n        (when (< i (alength arr))\n          (let [k (aget arr i)\n                v (aget arr (inc i))\n                idx (array-index-of ret k)]\n            (if (== idx -1)\n              (doto ret (.push k) (.push v))\n              (throw (js\/Error. (str \"Duplicate key: \" k)))))\n          (recur (+ i 2))))\n      (let [cnt (\/ (alength arr) 2)]\n        (PersistentArrayMap. nil cnt arr nil)))))\n\n(defn key-test [key other]\n  (cond\n    (identical? key other) true\n    (keyword-identical? key other) true\n    :else (= key other)))\n\n(defn- ^boolean pam-dupes? [arr]\n  (loop [i 0]\n    (if (< i (alength arr))\n      (let [dupe? (loop [j 0]\n                    (if (< j i)\n                      (or\n                        (key-test (aget arr i) (aget arr j))\n                        (recur (+ 2 j)))\n                      false))]\n        (or dupe? (recur (+ 2 i))))\n      false)))\n\n(defn- pam-new-size [arr]\n  (loop [i 0 n 0]\n    (if (< i (alength arr))\n      (let [dupe? (loop [j 0]\n                    (if (< j i)\n                      (or\n                        (key-test (aget arr i) (aget arr j))\n                        (recur (+ 2 j)))\n                      false))]\n        (recur (+ 2 i) (if dupe? n (+ n 2))))\n      n)))\n\n(defn- pam-grow-seed-array [seed trailing]\n  (let [seed-cnt  (dec (alength seed))\n        extra-kvs (seq trailing)\n        ret       (make-array (+ seed-cnt (* 2 (count extra-kvs))))\n        ret       (array-copy seed 0 ret 0 seed-cnt)]\n    (loop [i seed-cnt extra-kvs extra-kvs]\n      (if extra-kvs\n        (let [kv (first extra-kvs)]\n          (aset ret i (-key kv))\n          (aset ret (inc i) (-val kv))\n          (recur (+ 2 seed-cnt) (next extra-kvs)))\n        ret))))\n\n(set! (.-createAsIfByAssoc PersistentArrayMap)\n  (fn [init]\n    ;; check trailing element\n    (let [len           (alength init)\n          has-trailing? (== 1 (bit-and len  1))]\n      (if-not (or has-trailing? (pam-dupes? init))\n        (PersistentArrayMap. nil (\/ len 2) init nil)\n        (.createAsIfByAssocComplexPath PersistentArrayMap init has-trailing?)))))\n\n(set! (.-createAsIfByAssocComplexPath PersistentArrayMap)\n  (fn [init ^boolean has-trailing?]\n    (let [init (if has-trailing?\n                 (pam-grow-seed-array init\n                   ;; into {} in case the final element is not a map but something conj-able\n                   ;; for parity with Clojure implementation of CLJ-2603\n                   (into {} (aget init (dec (alength init)))))\n                 init)\n          n    (pam-new-size init)\n          len  (alength init)]\n      (if (< n len)\n        (let [nodups (make-array n)]\n          (loop [i 0 m 0]\n            (if (< i len)\n              (let [dupe? (loop [j 0]\n                            (if (< j m)\n                              (or\n                                (key-test (aget init i) (aget init j))\n                                (recur (+ 2 j)))\n                              false))]\n                (if-not dupe?\n                  (let [j (loop [j (- len 2)]\n                            (if (>= j i)\n                              (if (key-test (aget init i) (aget init j))\n                                j\n                                (recur (- j 2)))\n                              j))]\n                    (aset nodups m (aget init i))\n                    (aset nodups (inc m) (aget init (inc j)))\n                    (recur (+ 2 i) (+ 2 m)))\n                  (recur (+ 2 i) m)))))\n          (PersistentArrayMap. nil (\/ (alength nodups) 2) nodups nil))\n        (PersistentArrayMap. nil (\/ (alength init) 2) init nil)))))\n\n(es6-iterable PersistentArrayMap)\n\n(declare array->transient-hash-map)\n\n(deftype TransientArrayMap [^:mutable ^boolean editable?\n                            ^:mutable len\n                            arr]\n  ICounted\n  (-count [tcoll]\n    (if editable?\n      (quot len 2)\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  ILookup\n  (-lookup [tcoll k]\n    (-lookup tcoll k nil))\n\n  (-lookup [tcoll k not-found]\n    (if editable?\n      (let [idx (array-map-index-of tcoll k)]\n        (if (== idx -1)\n          not-found\n          (aget arr (inc idx))))\n      (throw (js\/Error. \"lookup after persistent!\"))))\n\n  ITransientCollection\n  (-conj! [tcoll o]\n    (if editable?\n      (cond\n        (map-entry? o)\n        (-assoc! tcoll (key o) (val o))\n\n        (vector? o)\n        (-assoc! tcoll (o 0) (o 1))\n\n        :else\n        (loop [es (seq o) tcoll tcoll]\n          (if-let [e (first es)]\n            (recur (next es)\n                   (-assoc! tcoll (key e) (val e)))\n            tcoll)))\n      (throw (js\/Error. \"conj! after persistent!\"))))\n\n  (-persistent! [tcoll]\n    (if editable?\n      (do (set! editable? false)\n          (PersistentArrayMap. nil (quot len 2) arr nil))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val]\n    (if editable?\n      (let [idx (array-map-index-of tcoll key)]\n        (if (== idx -1)\n          (if (<= (+ len 2) (* 2 (.-HASHMAP-THRESHOLD PersistentArrayMap)))\n            (do (set! len (+ len 2))\n                (.push arr key)\n                (.push arr val)\n                tcoll)\n            (assoc! (array->transient-hash-map len arr) key val))\n          (if (identical? val (aget arr (inc idx)))\n            tcoll\n            (do (aset arr (inc idx) val)\n                tcoll))))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  ITransientMap\n  (-dissoc! [tcoll key]\n    (if editable?\n      (let [idx (array-map-index-of tcoll key)]\n        (when (>= idx 0)\n          (aset arr idx (aget arr (- len 2)))\n          (aset arr (inc idx) (aget arr (dec len)))\n          (doto arr .pop .pop)\n          (set! len (- len 2)))\n        tcoll)\n      (throw (js\/Error. \"dissoc! after persistent!\"))))\n\n  IFn\n  (-invoke [tcoll key]\n    (-lookup tcoll key nil))\n  (-invoke [tcoll key not-found]\n    (-lookup tcoll key not-found)))\n\n(declare TransientHashMap)\n\n(defn- array->transient-hash-map [len arr]\n  (loop [out (transient (.-EMPTY PersistentHashMap))\n         i   0]\n    (if (< i len)\n      (recur (assoc! out (aget arr i) (aget arr (inc i))) (+ i 2))\n      out)))\n\n;;; PersistentHashMap\n\n(deftype Box [^:mutable val])\n\n(declare create-inode-seq create-array-node-seq create-node)\n\n(defn- mask [hash shift]\n  (bit-and (bit-shift-right-zero-fill hash shift) 0x01f))\n\n(defn- clone-and-set\n  ([arr i a]\n     (doto (aclone arr)\n       (aset i a)))\n  ([arr i a j b]\n     (doto (aclone arr)\n       (aset i a)\n       (aset j b))))\n\n(defn- remove-pair [arr i]\n  (let [new-arr (make-array (- (alength arr) 2))]\n    (array-copy arr 0 new-arr 0 (* 2 i))\n    (array-copy arr (* 2 (inc i)) new-arr (* 2 i) (- (alength new-arr) (* 2 i)))\n    new-arr))\n\n(defn- bitmap-indexed-node-index [bitmap bit]\n  (bit-count (bit-and bitmap (dec bit))))\n\n(defn- bitpos [hash shift]\n  (bit-shift-left 1 (mask hash shift)))\n\n(defn- edit-and-set\n  ([inode edit i a]\n     (let [editable (.ensure-editable inode edit)]\n       (aset (.-arr editable) i a)\n       editable))\n  ([inode edit i a j b]\n     (let [editable (.ensure-editable inode edit)]\n       (aset (.-arr editable) i a)\n       (aset (.-arr editable) j b)\n       editable)))\n\n(defn- inode-kv-reduce [arr f init]\n  (let [len (alength arr)]\n    (loop [i 0 init init]\n      (if (< i len)\n        (let [init (let [k (aget arr i)]\n                     (if-not (nil? k)\n                       (f init k (aget arr (inc i)))\n                       (let [node (aget arr (inc i))]\n                         (if-not (nil? node)\n                           (.kv-reduce node f init)\n                           init))))]\n          (if (reduced? init)\n            init\n            (recur (+ i 2) init)))\n        init))))\n\n(declare ArrayNode)\n\n (deftype NodeIterator [arr ^:mutable i ^:mutable next-entry ^:mutable next-iter]\n  Object\n  (advance [this]\n    (let [len (alength arr)]\n      (loop []\n        (if (< i len)\n          (let [key (aget arr i)\n                node-or-val (aget arr (inc i))\n                ^boolean found\n                (cond (some? key)\n                      (set! next-entry (MapEntry. key node-or-val nil))\n                      (some? node-or-val)\n                      (let [new-iter (-iterator node-or-val)]\n                        (if ^boolean (.hasNext new-iter)\n                          (set! next-iter new-iter)\n                          false))\n                      :else false)]\n            (set! i (+ i 2))\n            (if found true (recur)))\n          false))))\n  (hasNext [this]\n    (or (some? next-entry) (some? next-iter) (.advance this)))\n  (next [this]\n    (cond\n      (some? next-entry)\n      (let [ret next-entry]\n        (set! next-entry nil)\n        ret)\n      (some? next-iter)\n      (let [ret (.next next-iter)]\n        (when-not ^boolean (.hasNext next-iter)\n          (set! next-iter nil))\n        ret)\n      ^boolean (.advance this)\n      (.next this)\n      :else (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype BitmapIndexedNode [edit ^:mutable bitmap ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (let [bit (bitpos hash shift)\n          idx (bitmap-indexed-node-index bitmap bit)]\n      (if (zero? (bit-and bitmap bit))\n        (let [n (bit-count bitmap)]\n          (if (>= n 16)\n            (let [nodes (make-array 32)\n                  jdx   (mask hash shift)]\n              (aset nodes jdx (.inode-assoc (.-EMPTY BitmapIndexedNode) (+ shift 5) hash key val added-leaf?))\n              (loop [i 0 j 0]\n                (if (< i 32)\n                  (if (zero? (bit-and (bit-shift-right-zero-fill bitmap i) 1))\n                    (recur (inc i) j)\n                    (do (aset nodes i\n                              (if-not (nil? (aget arr j))\n                                (.inode-assoc (.-EMPTY BitmapIndexedNode)\n                                              (+ shift 5) (cljs.core\/hash (aget arr j)) (aget arr j) (aget arr (inc j)) added-leaf?)\n                                (aget arr (inc j))))\n                        (recur (inc i) (+ j 2))))))\n              (ArrayNode. nil (inc n) nodes))\n            (let [new-arr (make-array (* 2 (inc n)))]\n              (array-copy arr 0 new-arr 0 (* 2 idx))\n              (aset new-arr (* 2 idx) key)\n              (aset new-arr (inc (* 2 idx)) val)\n              (array-copy arr (* 2 idx) new-arr (* 2 (inc idx)) (* 2 (- n idx)))\n              (set! (.-val added-leaf?) true)\n              (BitmapIndexedNode. nil (bit-or bitmap bit) new-arr))))\n        (let [key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-assoc val-or-node (+ shift 5) hash key val added-leaf?)]\n                  (if (identical? n val-or-node)\n                    inode\n                    (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) n))))\n\n                (key-test key key-or-nil)\n                (if (identical? val val-or-node)\n                  inode\n                  (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) val)))\n\n                :else\n                (do (set! (.-val added-leaf?) true)\n                    (BitmapIndexedNode. nil bitmap\n                                        (clone-and-set arr (* 2 idx) nil (inc (* 2 idx))\n                                                       (create-node (+ shift 5) key-or-nil val-or-node hash key val)))))))))\n\n  (inode-without [inode shift hash key]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        inode\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-without val-or-node (+ shift 5) hash key)]\n                  (cond (identical? n val-or-node) inode\n                        (not (nil? n)) (BitmapIndexedNode. nil bitmap (clone-and-set arr (inc (* 2 idx)) n))\n                        (== bitmap bit) nil\n                        :else (BitmapIndexedNode. nil (bit-xor bitmap bit) (remove-pair arr idx))))\n                (key-test key key-or-nil)\n                (if (== bitmap bit)\n                  nil\n                  (BitmapIndexedNode. nil (bit-xor bitmap bit) (remove-pair arr idx)))\n                :else inode)))))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        not-found\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)  (.inode-lookup val-or-node (+ shift 5) hash key not-found)\n                (key-test key key-or-nil) val-or-node\n                :else not-found)))))\n\n  (inode-find [inode shift hash key not-found]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        not-found\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil) (.inode-find val-or-node (+ shift 5) hash key not-found)\n                (key-test key key-or-nil)          (MapEntry. key-or-nil val-or-node nil)\n                :else not-found)))))\n\n  (inode-seq [inode]\n    (create-inode-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (let [n       (bit-count bitmap)\n            new-arr (make-array (if (neg? n) 4 (* 2 (inc n))))]\n        (array-copy arr 0 new-arr 0 (* 2 n))\n        (BitmapIndexedNode. e bitmap new-arr))))\n\n  (edit-and-remove-pair [inode e bit i]\n    (if (== bitmap bit)\n      nil\n      (let [editable (.ensure-editable inode e)\n            earr     (.-arr editable)\n            len      (alength earr)]\n        (set! (.-bitmap editable) (bit-xor bit (.-bitmap editable)))\n        (array-copy earr (* 2 (inc i))\n                    earr (* 2 i)\n                    (- len (* 2 (inc i))))\n        (aset earr (- len 2) nil)\n        (aset earr (dec len) nil)\n        editable)))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (let [bit (bitpos hash shift)\n          idx (bitmap-indexed-node-index bitmap bit)]\n      (if (zero? (bit-and bitmap bit))\n        (let [n (bit-count bitmap)]\n          (cond\n            (< (* 2 n) (alength arr))\n            (let [editable (.ensure-editable inode edit)\n                  earr     (.-arr editable)]\n              (set! (.-val added-leaf?) true)\n              (array-copy-downward earr (* 2 idx)\n                                   earr (* 2 (inc idx))\n                                   (* 2 (- n idx)))\n              (aset earr (* 2 idx) key)\n              (aset earr (inc (* 2 idx)) val)\n              (set! (.-bitmap editable) (bit-or (.-bitmap editable) bit))\n              editable)\n\n            (>= n 16)\n            (let [nodes (make-array 32)\n                  jdx   (mask hash shift)]\n              (aset nodes jdx (.inode-assoc! (.-EMPTY BitmapIndexedNode) edit (+ shift 5) hash key val added-leaf?))\n              (loop [i 0 j 0]\n                (if (< i 32)\n                  (if (zero? (bit-and (bit-shift-right-zero-fill bitmap i) 1))\n                    (recur (inc i) j)\n                    (do (aset nodes i\n                              (if-not (nil? (aget arr j))\n                                (.inode-assoc! (.-EMPTY BitmapIndexedNode)\n                                               edit (+ shift 5) (cljs.core\/hash (aget arr j)) (aget arr j) (aget arr (inc j)) added-leaf?)\n                                (aget arr (inc j))))\n                        (recur (inc i) (+ j 2))))))\n              (ArrayNode. edit (inc n) nodes))\n\n            :else\n            (let [new-arr (make-array (* 2 (+ n 4)))]\n              (array-copy arr 0 new-arr 0 (* 2 idx))\n              (aset new-arr (* 2 idx) key)\n              (aset new-arr (inc (* 2 idx)) val)\n              (array-copy arr (* 2 idx) new-arr (* 2 (inc idx)) (* 2 (- n idx)))\n              (set! (.-val added-leaf?) true)\n              (let [editable (.ensure-editable inode edit)]\n                (set! (.-arr editable) new-arr)\n                (set! (.-bitmap editable) (bit-or (.-bitmap editable) bit))\n                editable))))\n        (let [key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-assoc! val-or-node edit (+ shift 5) hash key val added-leaf?)]\n                  (if (identical? n val-or-node)\n                    inode\n                    (edit-and-set inode edit (inc (* 2 idx)) n)))\n\n                (key-test key key-or-nil)\n                (if (identical? val val-or-node)\n                  inode\n                  (edit-and-set inode edit (inc (* 2 idx)) val))\n\n                :else\n                (do (set! (.-val added-leaf?) true)\n                    (edit-and-set inode edit (* 2 idx) nil (inc (* 2 idx))\n                                  (create-node edit (+ shift 5) key-or-nil val-or-node hash key val))))))))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [bit (bitpos hash shift)]\n      (if (zero? (bit-and bitmap bit))\n        inode\n        (let [idx         (bitmap-indexed-node-index bitmap bit)\n              key-or-nil  (aget arr (* 2 idx))\n              val-or-node (aget arr (inc (* 2 idx)))]\n          (cond (nil? key-or-nil)\n                (let [n (.inode-without! val-or-node edit (+ shift 5) hash key removed-leaf?)]\n                  (cond (identical? n val-or-node) inode\n                        (not (nil? n)) (edit-and-set inode edit (inc (* 2 idx)) n)\n                        (== bitmap bit) nil\n                        :else (.edit-and-remove-pair inode edit bit idx)))\n                (key-test key key-or-nil)\n                (do (set! (.-val removed-leaf?) true)\n                    (.edit-and-remove-pair inode edit bit idx))\n                :else inode)))))\n\n  (kv-reduce [inode f init]\n    (inode-kv-reduce arr f init))\n\n  IIterable\n  (-iterator [coll]\n    (NodeIterator. arr 0 nil nil)))\n\n(set! (.-EMPTY BitmapIndexedNode) (BitmapIndexedNode. nil 0 (make-array 0)))\n\n(defn- pack-array-node [array-node edit idx]\n  (let [arr     (.-arr array-node)\n        len     (alength arr)\n        new-arr (make-array (* 2 (dec (.-cnt array-node))))]\n    (loop [i 0 j 1 bitmap 0]\n      (if (< i len)\n        (if (and (not (== i idx))\n                 (not (nil? (aget arr i))))\n          (do (aset new-arr j (aget arr i))\n              (recur (inc i) (+ j 2) (bit-or bitmap (bit-shift-left 1 i))))\n          (recur (inc i) j bitmap))\n        (BitmapIndexedNode. edit bitmap new-arr)))))\n\n(deftype ArrayNodeIterator [arr ^:mutable i ^:mutable next-iter]\n  Object\n  (hasNext [this]\n    (let [len (alength arr)]\n      (loop []\n        (if-not (and  (some? next-iter) ^boolean (.hasNext next-iter))\n          (if (< i len)\n            (let [node (aget arr i)]\n              (set! i (inc i))\n              (when (some? node)\n                (set! next-iter (-iterator node)))\n              (recur))\n            false)\n          true))))\n  (next [this]\n    (if ^boolean (.hasNext this)\n      (.next next-iter)\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype ArrayNode [edit ^:mutable cnt ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        (ArrayNode. nil (inc cnt) (clone-and-set arr idx (.inode-assoc (.-EMPTY BitmapIndexedNode) (+ shift 5) hash key val added-leaf?)))\n        (let [n (.inode-assoc node (+ shift 5) hash key val added-leaf?)]\n          (if (identical? n node)\n            inode\n            (ArrayNode. nil cnt (clone-and-set arr idx n)))))))\n\n  (inode-without [inode shift hash key]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (let [n (.inode-without node (+ shift 5) hash key)]\n          (cond\n            (identical? n node)\n            inode\n\n            (nil? n)\n            (if (<= cnt 8)\n              (pack-array-node inode nil idx)\n              (ArrayNode. nil (dec cnt) (clone-and-set arr idx n)))\n\n            :else\n            (ArrayNode. nil cnt (clone-and-set arr idx n))))\n        inode)))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (.inode-lookup node (+ shift 5) hash key not-found)\n        not-found)))\n\n  (inode-find [inode shift hash key not-found]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if-not (nil? node)\n        (.inode-find node (+ shift 5) hash key not-found)\n        not-found)))\n\n  (inode-seq [inode]\n    (create-array-node-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (ArrayNode. e cnt (aclone arr))))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        (let [editable (edit-and-set inode edit idx (.inode-assoc! (.-EMPTY BitmapIndexedNode) edit (+ shift 5) hash key val added-leaf?))]\n          (set! (.-cnt editable) (inc (.-cnt editable)))\n          editable)\n        (let [n (.inode-assoc! node edit (+ shift 5) hash key val added-leaf?)]\n          (if (identical? n node)\n            inode\n            (edit-and-set inode edit idx n))))))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [idx  (mask hash shift)\n          node (aget arr idx)]\n      (if (nil? node)\n        inode\n        (let [n (.inode-without! node edit (+ shift 5) hash key removed-leaf?)]\n          (cond\n            (identical? n node)\n            inode\n\n            (nil? n)\n            (if (<= cnt 8)\n              (pack-array-node inode edit idx)\n              (let [editable (edit-and-set inode edit idx n)]\n                (set! (.-cnt editable) (dec (.-cnt editable)))\n                editable))\n\n            :else\n            (edit-and-set inode edit idx n))))))\n\n  (kv-reduce [inode f init]\n    (let [len (alength arr)]           ; actually 32\n      (loop [i 0 init init]\n        (if (< i len)\n          (let [node (aget arr i)]\n            (if-not (nil? node)\n              (let [init (.kv-reduce node f init)]\n                (if (reduced? init)\n                  init\n                  (recur (inc i) init)))\n              (recur (inc i) init)))\n          init))))\n\n IIterable\n (-iterator [coll]\n    (ArrayNodeIterator. arr 0 nil)))\n\n(defn- hash-collision-node-find-index [arr cnt key]\n  (let [lim (* 2 cnt)]\n    (loop [i 0]\n      (if (< i lim)\n        (if (key-test key (aget arr i))\n          i\n          (recur (+ i 2)))\n        -1))))\n\n(deftype HashCollisionNode [edit\n                            ^:mutable collision-hash\n                            ^:mutable cnt\n                            ^:mutable arr]\n  Object\n  (inode-assoc [inode shift hash key val added-leaf?]\n    (if (== hash collision-hash)\n      (let [idx (hash-collision-node-find-index arr cnt key)]\n        (if (== idx -1)\n          (let [len     (* 2 cnt)\n                new-arr (make-array (+ len 2))]\n            (array-copy arr 0 new-arr 0 len)\n            (aset new-arr len key)\n            (aset new-arr (inc len) val)\n            (set! (.-val added-leaf?) true)\n            (HashCollisionNode. nil collision-hash (inc cnt) new-arr))\n          (if (= (aget arr (inc idx)) val)\n            inode\n            (HashCollisionNode. nil collision-hash cnt (clone-and-set arr (inc idx) val)))))\n      (.inode-assoc (BitmapIndexedNode. nil (bitpos collision-hash shift) (array nil inode))\n                    shift hash key val added-leaf?)))\n\n  (inode-without [inode shift hash key]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (== idx -1) inode\n            (== cnt 1)  nil\n            :else (HashCollisionNode. nil collision-hash (dec cnt) (remove-pair arr (quot idx 2))))))\n\n  (inode-lookup [inode shift hash key not-found]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (< idx 0)              not-found\n            (key-test key (aget arr idx)) (aget arr (inc idx))\n            :else                  not-found)))\n\n  (inode-find [inode shift hash key not-found]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (cond (< idx 0)              not-found\n            (key-test key (aget arr idx)) (MapEntry. (aget arr idx) (aget arr (inc idx)) nil)\n            :else                  not-found)))\n\n  (inode-seq [inode]\n    (create-inode-seq arr))\n\n  (ensure-editable [inode e]\n    (if (identical? e edit)\n      inode\n      (let [new-arr (make-array (* 2 (inc cnt)))]\n        (array-copy arr 0 new-arr 0 (* 2 cnt))\n        (HashCollisionNode. e collision-hash cnt new-arr))))\n\n  (ensure-editable-array [inode e count array]\n    (if (identical? e edit)\n      (do (set! arr array)\n          (set! cnt count)\n          inode)\n      (HashCollisionNode. edit collision-hash count array)))\n\n  (inode-assoc! [inode edit shift hash key val added-leaf?]\n    (if (== hash collision-hash)\n      (let [idx (hash-collision-node-find-index arr cnt key)]\n        (if (== idx -1)\n          (if (> (alength arr) (* 2 cnt))\n            (let [editable (edit-and-set inode edit (* 2 cnt) key (inc (* 2 cnt)) val)]\n              (set! (.-val added-leaf?) true)\n              (set! (.-cnt editable) (inc (.-cnt editable)))\n              editable)\n            (let [len     (alength arr)\n                  new-arr (make-array (+ len 2))]\n              (array-copy arr 0 new-arr 0 len)\n              (aset new-arr len key)\n              (aset new-arr (inc len) val)\n              (set! (.-val added-leaf?) true)\n              (.ensure-editable-array inode edit (inc cnt) new-arr)))\n          (if (identical? (aget arr (inc idx)) val)\n            inode\n            (edit-and-set inode edit (inc idx) val))))\n      (.inode-assoc! (BitmapIndexedNode. edit (bitpos collision-hash shift) (array nil inode nil nil))\n                     edit shift hash key val added-leaf?)))\n\n  (inode-without! [inode edit shift hash key removed-leaf?]\n    (let [idx (hash-collision-node-find-index arr cnt key)]\n      (if (== idx -1)\n        inode\n        (do (set! (.-val removed-leaf?) true)\n            (if (== cnt 1)\n              nil\n              (let [editable (.ensure-editable inode edit)\n                    earr     (.-arr editable)]\n                (aset earr idx (aget earr (- (* 2 cnt) 2)))\n                (aset earr (inc idx) (aget earr (dec (* 2 cnt))))\n                (aset earr (dec (* 2 cnt)) nil)\n                (aset earr (- (* 2 cnt) 2) nil)\n                (set! (.-cnt editable) (dec (.-cnt editable)))\n                editable))))))\n\n  (kv-reduce [inode f init]\n    (inode-kv-reduce arr f init))\n\n  IIterable\n  (-iterator [coll]\n    (NodeIterator. arr 0 nil nil)))\n\n(defn- create-node\n  ([shift key1 val1 key2hash key2 val2]\n     (let [key1hash (hash key1)]\n       (if (== key1hash key2hash)\n         (HashCollisionNode. nil key1hash 2 (array key1 val1 key2 val2))\n         (let [added-leaf? (Box. false)]\n           (-> (.-EMPTY BitmapIndexedNode)\n               (.inode-assoc shift key1hash key1 val1 added-leaf?)\n               (.inode-assoc shift key2hash key2 val2 added-leaf?))))))\n  ([edit shift key1 val1 key2hash key2 val2]\n     (let [key1hash (hash key1)]\n       (if (== key1hash key2hash)\n         (HashCollisionNode. nil key1hash 2 (array key1 val1 key2 val2))\n         (let [added-leaf? (Box. false)]\n           (-> (.-EMPTY BitmapIndexedNode)\n               (.inode-assoc! edit shift key1hash key1 val1 added-leaf?)\n               (.inode-assoc! edit shift key2hash key2 val2 added-leaf?)))))))\n\n(deftype NodeSeq [meta nodes i s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (NodeSeq. new-meta nodes i s __hash)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeq\n  (-first [coll]\n    (if (nil? s)\n      (MapEntry. (aget nodes i) (aget nodes (inc i)) nil)\n      (first s)))\n\n  (-rest [coll]\n    (let [ret (if (nil? s)\n                (create-inode-seq nodes (+ i 2) nil)\n                (create-inode-seq nodes i (next s)))]\n      (if-not (nil? ret) ret ())))\n\n  INext\n  (-next [coll]\n    (if (nil? s)\n      (create-inode-seq nodes (+ i 2) nil)\n      (create-inode-seq nodes i (next s))))\n\n  ISeqable\n  (-seq [this] this)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable NodeSeq)\n\n(defn- create-inode-seq\n  ([nodes]\n     (create-inode-seq nodes 0 nil))\n  ([nodes i s]\n     (if (nil? s)\n       (let [len (alength nodes)]\n         (loop [j i]\n           (if (< j len)\n             (if-not (nil? (aget nodes j))\n               (NodeSeq. nil nodes j nil nil)\n               (if-let [node (aget nodes (inc j))]\n                 (if-let [node-seq (.inode-seq node)]\n                   (NodeSeq. nil nodes (+ j 2) node-seq nil)\n                   (recur (+ j 2)))\n                 (recur (+ j 2)))))))\n       (NodeSeq. nil nodes i s nil))))\n\n(deftype ArrayNodeSeq [meta nodes i s ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (ArrayNodeSeq. new-meta nodes i s __hash)))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  ISequential\n  ISeq\n  (-first [coll] (first s))\n  (-rest  [coll]\n    (let [ret (create-array-node-seq nodes i (next s))]\n      (if-not (nil? ret) ret ())))\n\n  INext\n  (-next [coll]\n    (create-array-node-seq nodes i (next s)))\n\n  ISeqable\n  (-seq [this] this)\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable ArrayNodeSeq)\n\n(defn- create-array-node-seq\n  ([nodes] (create-array-node-seq nodes 0 nil))\n  ([nodes i s]\n     (if (nil? s)\n       (let [len (alength nodes)]\n         (loop [j i]\n           (if (< j len)\n             (if-let [nj (aget nodes j)]\n               (if-let [ns (.inode-seq nj)]\n                 (ArrayNodeSeq. nil nodes (inc j) ns nil)\n                 (recur (inc j)))\n               (recur (inc j))))))\n       (ArrayNodeSeq. nil nodes i s nil))))\n\n(deftype HashMapIter [nil-val root-iter ^:mutable seen]\n  Object\n  (hasNext [_]\n    (or (not ^boolean seen) ^boolean (.hasNext root-iter)))\n  (next [_]\n    (if-not ^boolean seen\n      (do\n        (set! seen true)\n        (MapEntry. nil nil-val nil))\n      (.next root-iter)))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentHashMap [meta cnt root ^boolean has-nil? nil-val ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentHashMap. meta cnt root has-nil? nil-val __hash))\n\n  IIterable\n  (-iterator [coll]\n    (let [root-iter (if ^boolean root (-iterator root) (nil-iter))]\n      (if has-nil?\n        (HashMapIter. nil-val root-iter false)\n        root-iter)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentHashMap. new-meta cnt root has-nil? nil-val __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentHashMap) meta))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll]\n    (when (pos? cnt)\n      (let [s (if-not (nil? root) (.inode-seq root))]\n        (if has-nil?\n          (cons (MapEntry. nil nil-val nil) s)\n          s))))\n\n  ICounted\n  (-count [coll] cnt)\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (cond (nil? k)    (if has-nil?\n                        nil-val\n                        not-found)\n          (nil? root) not-found\n          :else       (.inode-lookup root 0 (hash k) k not-found)))\n\n  IAssociative\n  (-assoc [coll k v]\n    (if (nil? k)\n      (if (and has-nil? (identical? v nil-val))\n        coll\n        (PersistentHashMap. meta (if has-nil? cnt (inc cnt)) root true v nil))\n      (let [added-leaf? (Box. false)\n            new-root    (-> (if (nil? root)\n                              (.-EMPTY BitmapIndexedNode)\n                              root)\n                            (.inode-assoc 0 (hash k) k v added-leaf?))]\n        (if (identical? new-root root)\n          coll\n          (PersistentHashMap. meta (if ^boolean (.-val added-leaf?) (inc cnt) cnt) new-root has-nil? nil-val nil)))))\n\n  (-contains-key? [coll k]\n    (cond (nil? k)    has-nil?\n          (nil? root) false\n          :else       (not (identical? (.inode-lookup root 0 (hash k) k lookup-sentinel)\n                                       lookup-sentinel))))\n\n  IFind\n  (-find [coll k]\n    (cond\n      (nil? k) (when has-nil? (MapEntry. nil nil-val nil))\n      (nil? root) nil\n      :else (.inode-find root 0 (hash k) k nil)))\n\n  IMap\n  (-dissoc [coll k]\n    (cond (nil? k)    (if has-nil?\n                        (PersistentHashMap. meta (dec cnt) root false nil nil)\n                        coll)\n          (nil? root) coll\n          :else\n          (let [new-root (.inode-without root 0 (hash k) k)]\n            (if (identical? new-root root)\n              coll\n              (PersistentHashMap. meta (dec cnt) new-root has-nil? nil-val nil)))))\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (let [init (if has-nil? (f init nil nil-val) init)]\n      (cond\n        (reduced? init)          @init\n        (not (nil? root)) (unreduced (.kv-reduce root f init))\n        :else                    init)))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll]\n    (TransientHashMap. (js-obj) root cnt has-nil? nil-val)))\n\n(set! (.-EMPTY PersistentHashMap) (PersistentHashMap. nil 0 nil false nil empty-unordered-hash))\n\n(set! (.-fromArray PersistentHashMap)\n  (fn [arr ^boolean no-clone]\n    (let [arr (if no-clone arr (aclone arr))\n          len (alength arr)]\n      (loop [i 0 ret (transient (.-EMPTY PersistentHashMap))]\n        (if (< i len)\n          (recur (+ i 2)\n            (-assoc! ret (aget arr i) (aget arr (inc i))))\n          (-persistent! ret))))))\n\n(set! (.-fromArrays PersistentHashMap)\n  (fn [ks vs]\n    (let [len (alength ks)]\n      (loop [i 0 ^not-native out (transient (.-EMPTY PersistentHashMap))]\n        (if (< i len)\n          (if (<= (alength vs) i)\n            (throw (js\/Error. (str \"No value supplied for key: \" (aget ks i))))\n            (recur (inc i) (-assoc! out (aget ks i) (aget vs i))))\n          (persistent! out))))))\n\n(set! (.-createWithCheck PersistentHashMap)\n  (fn [arr]\n    (let [len (alength arr)\n          ret (transient (.-EMPTY PersistentHashMap))]\n      (loop [i 0]\n        (when (< i len)\n          (-assoc! ret (aget arr i) (aget arr (inc i)))\n          (if (not= (-count ret) (inc (\/ i 2)))\n            (throw (js\/Error. (str \"Duplicate key: \" (aget arr i))))\n            (recur (+ i 2)))))\n      (-persistent! ret))))\n\n(es6-iterable PersistentHashMap)\n\n(deftype TransientHashMap [^:mutable ^boolean edit\n                           ^:mutable root\n                           ^:mutable count\n                           ^:mutable ^boolean has-nil?\n                           ^:mutable nil-val]\n  Object\n  (conj! [tcoll o]\n    (if edit\n      (cond\n        (map-entry? o)\n        (.assoc! tcoll (key o) (val o))\n\n        (vector? o)\n        (.assoc! tcoll (o 0) (o 1))\n\n        :else\n        (loop [es (seq o) tcoll tcoll]\n          (if-let [e (first es)]\n            (recur (next es)\n                   (.assoc! tcoll (key e) (val e)))\n            tcoll)))\n      (throw (js\/Error. \"conj! after persistent\"))))\n\n  (assoc! [tcoll k v]\n    (if edit\n      (if (nil? k)\n        (do (if (identical? nil-val v)\n              nil\n              (set! nil-val v))\n            (if has-nil?\n              nil\n              (do (set! count (inc count))\n                  (set! has-nil? true)))\n            tcoll)\n        (let [added-leaf? (Box. false)\n              node        (-> (if (nil? root)\n                                (.-EMPTY BitmapIndexedNode)\n                                root)\n                              (.inode-assoc! edit 0 (hash k) k v added-leaf?))]\n          (if (identical? node root)\n            nil\n            (set! root node))\n          (if ^boolean (.-val added-leaf?)\n            (set! count (inc count)))\n          tcoll))\n      (throw (js\/Error. \"assoc! after persistent!\"))))\n\n  (without! [tcoll k]\n    (if edit\n      (if (nil? k)\n        (if has-nil?\n          (do (set! has-nil? false)\n              (set! nil-val nil)\n              (set! count (dec count))\n              tcoll)\n          tcoll)\n        (if (nil? root)\n          tcoll\n          (let [removed-leaf? (Box. false)\n                node (.inode-without! root edit 0 (hash k) k removed-leaf?)]\n            (if (identical? node root)\n              nil\n              (set! root node))\n            (if ^boolean (.-val removed-leaf?)\n              (set! count (dec count)))\n            tcoll)))\n      (throw (js\/Error. \"dissoc! after persistent!\"))))\n\n  (persistent! [tcoll]\n    (if edit\n      (do (set! edit nil)\n          (PersistentHashMap. nil count root has-nil? nil-val nil))\n      (throw (js\/Error. \"persistent! called twice\"))))\n\n  ICounted\n  (-count [coll]\n    (if edit\n      count\n      (throw (js\/Error. \"count after persistent!\"))))\n\n  ILookup\n  (-lookup [tcoll k]\n    (if (nil? k)\n      (if has-nil?\n        nil-val)\n      (if (nil? root)\n        nil\n        (.inode-lookup root 0 (hash k) k))))\n\n  (-lookup [tcoll k not-found]\n    (if (nil? k)\n      (if has-nil?\n        nil-val\n        not-found)\n      (if (nil? root)\n        not-found\n        (.inode-lookup root 0 (hash k) k not-found))))\n\n  ITransientCollection\n  (-conj! [tcoll val] (.conj! tcoll val))\n\n  (-persistent! [tcoll] (.persistent! tcoll))\n\n  ITransientAssociative\n  (-assoc! [tcoll key val] (.assoc! tcoll key val))\n\n  ITransientMap\n  (-dissoc! [tcoll key] (.without! tcoll key))\n\n  IFn\n  (-invoke [tcoll key]\n    (-lookup tcoll key))\n  (-invoke [tcoll key not-found]\n    (-lookup tcoll key not-found)))\n\n;;; PersistentTreeMap\n\n(defn- tree-map-seq-push [node stack ^boolean ascending?]\n  (loop [t node stack stack]\n    (if-not (nil? t)\n      (recur (if ascending? (.-left t) (.-right t))\n             (conj stack t))\n      stack)))\n\n(deftype PersistentTreeMapSeq [meta stack ^boolean ascending? cnt ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ISeqable\n  (-seq [this] this)\n\n  ISequential\n  ISeq\n  (-first [this] (peek stack))\n  (-rest [this]\n    (let [t (first stack)\n          next-stack (tree-map-seq-push (if ascending? (.-right t) (.-left t))\n                                        (next stack)\n                                        ascending?)]\n      (if-not (nil? next-stack)\n        (PersistentTreeMapSeq. nil next-stack ascending? (dec cnt) nil)\n        ())))\n  INext\n  (-next [this]\n    (let [t (first stack)\n          next-stack (tree-map-seq-push (if ascending? (.-right t) (.-left t))\n                                        (next stack)\n                                        ascending?)]\n      (when-not (nil? next-stack)\n        (PersistentTreeMapSeq. nil next-stack ascending? (dec cnt) nil))))\n\n  ICounted\n  (-count [coll]\n    (if (neg? cnt)\n      (inc (count (next coll)))\n      cnt))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o] (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IMeta\n  (-meta [coll] meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeMapSeq. new-meta stack ascending? cnt __hash)))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable PersistentTreeMapSeq)\n\n(defn- create-tree-map-seq [tree ascending? cnt]\n  (PersistentTreeMapSeq. nil (tree-map-seq-push tree nil ascending?) ascending? cnt nil))\n\n(declare RedNode BlackNode)\n\n(defn- balance-left [key val ins right]\n  (if (instance? RedNode ins)\n    (cond\n      (instance? RedNode (.-left ins))\n      (RedNode. (.-key ins) (.-val ins)\n              (.blacken (.-left ins))\n              (BlackNode. key val (.-right ins) right nil)\n              nil)\n\n      (instance? RedNode (.-right ins))\n      (RedNode. (.. ins -right -key) (.. ins -right -val)\n                (BlackNode. (.-key ins) (.-val ins)\n                            (.-left ins)\n                            (.. ins -right -left)\n                            nil)\n                (BlackNode. key val\n                            (.. ins -right -right)\n                            right\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. key val ins right nil))\n    (BlackNode. key val ins right nil)))\n\n(defn- balance-right [key val left ins]\n  (if (instance? RedNode ins)\n    (cond\n      (instance? RedNode (.-right ins))\n      (RedNode. (.-key ins) (.-val ins)\n                (BlackNode. key val left (.-left ins) nil)\n                (.blacken (.-right ins))\n                nil)\n\n      (instance? RedNode (.-left ins))\n      (RedNode. (.. ins -left -key) (.. ins -left -val)\n                (BlackNode. key val left (.. ins -left -left) nil)\n                (BlackNode. (.-key ins) (.-val ins)\n                            (.. ins -left -right)\n                            (.-right ins)\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. key val left ins nil))\n    (BlackNode. key val left ins nil)))\n\n(defn- balance-left-del [key val del right]\n  (cond\n    (instance? RedNode del)\n    (RedNode. key val (.blacken del) right nil)\n\n    (instance? BlackNode right)\n    (balance-right key val del (.redden right))\n\n    (and (instance? RedNode right) (instance? BlackNode (.-left right)))\n    (RedNode. (.. right -left -key) (.. right -left -val)\n              (BlackNode. key val del (.. right -left -left) nil)\n              (balance-right (.-key right) (.-val right)\n                             (.. right -left -right)\n                             (.redden (.-right right)))\n              nil)\n\n    :else\n    (throw (js\/Error. \"red-black tree invariant violation\"))))\n\n(defn- balance-right-del [key val left del]\n  (cond\n    (instance? RedNode del)\n    (RedNode. key val left (.blacken del) nil)\n\n    (instance? BlackNode left)\n    (balance-left key val (.redden left) del)\n\n    (and (instance? RedNode left) (instance? BlackNode (.-right left)))\n    (RedNode. (.. left -right -key) (.. left -right -val)\n              (balance-left (.-key left) (.-val left)\n                            (.redden (.-left left))\n                            (.. left -right -left))\n              (BlackNode. key val (.. left -right -right) del nil)\n              nil)\n\n    :else\n    (throw (js\/Error. \"red-black tree invariant violation\"))))\n\n(defn- tree-map-kv-reduce [node f init]\n  (let [init (if-not (nil? (.-left node))\n               (tree-map-kv-reduce (.-left node) f init)\n               init)]\n    (if (reduced? init)\n      init\n      (let [init (f init (.-key node) (.-val node))]\n        (if (reduced? init)\n          init\n          (if-not (nil? (.-right node))\n            (tree-map-kv-reduce (.-right node) f init)\n            init))))))\n\n(deftype BlackNode [key val left right ^:mutable __hash]\n  Object\n  (add-left [node ins]\n    (.balance-left ins node))\n\n  (add-right [node ins]\n    (.balance-right ins node))\n\n  (remove-left [node del]\n    (balance-left-del key val del right))\n\n  (remove-right [node del]\n    (balance-right-del key val left del))\n\n  (blacken [node] node)\n\n  (redden [node] (RedNode. key val left right nil))\n\n  (balance-left [node parent]\n    (BlackNode. (.-key parent) (.-val parent) node (.-right parent) nil))\n\n  (balance-right [node parent]\n    (BlackNode. (.-key parent) (.-val parent) (.-left parent) node nil))\n\n  (replace [node key val left right]\n    (BlackNode. key val left right nil))\n\n  (kv-reduce [node f init]\n    (tree-map-kv-reduce node f init))\n\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (-with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(es6-iterable BlackNode)\n\n(deftype RedNode [key val left right ^:mutable __hash]\n  Object\n  (add-left [node ins]\n    (RedNode. key val ins right nil))\n\n  (add-right [node ins]\n    (RedNode. key val left ins nil))\n\n  (remove-left [node del]\n    (RedNode. key val del right nil))\n\n  (remove-right [node del]\n    (RedNode. key val left del nil))\n\n  (blacken [node]\n    (BlackNode. key val left right nil))\n\n  (redden [node]\n    (throw (js\/Error. \"red-black tree invariant violation\")))\n\n  (balance-left [node parent]\n    (cond\n      (instance? RedNode left)\n      (RedNode. key val\n                (.blacken left)\n                (BlackNode. (.-key parent) (.-val parent) right (.-right parent) nil)\n                nil)\n\n      (instance? RedNode right)\n      (RedNode. (.-key right) (.-val right)\n                (BlackNode. key val left (.-left right) nil)\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-right right)\n                            (.-right parent)\n                            nil)\n                nil)\n\n      :else\n      (BlackNode. (.-key parent) (.-val parent) node (.-right parent) nil)))\n\n  (balance-right [node parent]\n    (cond\n      (instance? RedNode right)\n      (RedNode. key val\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-left parent)\n                            left\n                            nil)\n                (.blacken right)\n                nil)\n\n      (instance? RedNode left)\n      (RedNode. (.-key left) (.-val left)\n                (BlackNode. (.-key parent) (.-val parent)\n                            (.-left parent)\n                            (.-left left)\n                            nil)\n                (BlackNode. key val (.-right left) right nil)\n                nil)\n\n      :else\n      (BlackNode. (.-key parent) (.-val parent) (.-left parent) node nil)))\n\n  (replace [node key val left right]\n    (RedNode. key val left right nil))\n\n  (kv-reduce [node f init]\n    (tree-map-kv-reduce node f init))\n\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMapEntry\n  (-key [node] key)\n  (-val [node] val)\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-ordered-coll __hash))\n\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  IMeta\n  (-meta [node] nil)\n\n  IWithMeta\n  (-with-meta [node meta]\n    (-with-meta [key val] meta))\n\n  IStack\n  (-peek [node] val)\n\n  (-pop [node] [key])\n\n  ICollection\n  (-conj [node o] [key val o])\n\n  IEmptyableCollection\n  (-empty [node] nil)\n\n  ISequential\n  ISeqable\n  (-seq [node] (IndexedSeq. #js [key val] 0 nil))\n\n  IReversible\n  (-rseq [node] (IndexedSeq. #js [val key] 0 nil))\n\n  ICounted\n  (-count [node] 2)\n\n  IIndexed\n  (-nth [node n]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    (throw (js\/Error. \"Index out of bounds\"))))\n\n  (-nth [node n not-found]\n    (cond (== n 0) key\n          (== n 1) val\n          :else    not-found))\n\n  ILookup\n  (-lookup [node k] (-nth node k nil))\n  (-lookup [node k not-found] (-nth node k not-found))\n\n  IAssociative\n  (-assoc [node k v]\n    (assoc [key val] k v))\n  (-contains-key? [node k]\n    (or (== k 0) (== k 1)))\n\n  IFind\n  (-find [node k]\n    (case k\n      0 (MapEntry. 0 key nil)\n      1 (MapEntry. 1 val nil)\n      nil))\n\n  IVector\n  (-assoc-n [node n v]\n    (-assoc-n [key val] n v))\n\n  IReduce\n  (-reduce [node f]\n    (ci-reduce node f))\n\n  (-reduce [node f start]\n    (ci-reduce node f start))\n\n  IFn\n  (-invoke [node k]\n    (-nth node k))\n\n  (-invoke [node k not-found]\n    (-nth node k not-found)))\n\n(es6-iterable RedNode)\n\n(defn- tree-map-add [comp tree k v found]\n  (if (nil? tree)\n    (RedNode. k v nil nil nil)\n    (let [c (comp k (.-key tree))]\n      (cond\n        (zero? c)\n        (do (aset found 0 tree)\n            nil)\n\n        (neg? c)\n        (let [ins (tree-map-add comp (.-left tree) k v found)]\n          (if-not (nil? ins)\n            (.add-left tree ins)))\n\n        :else\n        (let [ins (tree-map-add comp (.-right tree) k v found)]\n          (if-not (nil? ins)\n            (.add-right tree ins)))))))\n\n(defn- tree-map-append [left right]\n  (cond\n    (nil? left)\n    right\n\n    (nil? right)\n    left\n\n    (instance? RedNode left)\n    (if (instance? RedNode right)\n      (let [app (tree-map-append (.-right left) (.-left right))]\n        (if (instance? RedNode app)\n          (RedNode. (.-key app) (.-val app)\n                    (RedNode. (.-key left) (.-val left)\n                              (.-left left)\n                              (.-left app)\n                              nil)\n                    (RedNode. (.-key right) (.-val right)\n                              (.-right app)\n                              (.-right right)\n                              nil)\n                    nil)\n          (RedNode. (.-key left) (.-val left)\n                    (.-left left)\n                    (RedNode. (.-key right) (.-val right) app (.-right right) nil)\n                    nil)))\n      (RedNode. (.-key left) (.-val left)\n                (.-left left)\n                (tree-map-append (.-right left) right)\n                nil))\n\n    (instance? RedNode right)\n    (RedNode. (.-key right) (.-val right)\n              (tree-map-append left (.-left right))\n              (.-right right)\n              nil)\n\n    :else\n    (let [app (tree-map-append (.-right left) (.-left right))]\n      (if (instance? RedNode app)\n        (RedNode. (.-key app) (.-val app)\n                  (BlackNode. (.-key left) (.-val left)\n                              (.-left left)\n                              (.-left app)\n                              nil)\n                  (BlackNode. (.-key right) (.-val right)\n                              (.-right app)\n                              (.-right right)\n                              nil)\n                  nil)\n        (balance-left-del (.-key left) (.-val left)\n                          (.-left left)\n                          (BlackNode. (.-key right) (.-val right)\n                                      app\n                                      (.-right right)\n                                      nil))))))\n\n(defn- tree-map-remove [comp tree k found]\n  (if-not (nil? tree)\n    (let [c (comp k (.-key tree))]\n      (cond\n        (zero? c)\n        (do (aset found 0 tree)\n            (tree-map-append (.-left tree) (.-right tree)))\n\n        (neg? c)\n        (let [del (tree-map-remove comp (.-left tree) k found)]\n          (if (or (not (nil? del)) (not (nil? (aget found 0))))\n            (if (instance? BlackNode (.-left tree))\n              (balance-left-del (.-key tree) (.-val tree) del (.-right tree))\n              (RedNode. (.-key tree) (.-val tree) del (.-right tree) nil))))\n\n        :else\n        (let [del (tree-map-remove comp (.-right tree) k found)]\n          (if (or (not (nil? del)) (not (nil? (aget found 0))))\n            (if (instance? BlackNode (.-right tree))\n              (balance-right-del (.-key tree) (.-val tree) (.-left tree) del)\n              (RedNode. (.-key tree) (.-val tree) (.-left tree) del nil))))))))\n\n(defn- tree-map-replace [comp tree k v]\n  (let [tk (.-key tree)\n        c  (comp k tk)]\n    (cond (zero? c) (.replace tree tk v (.-left tree) (.-right tree))\n          (neg? c)  (.replace tree tk (.-val tree) (tree-map-replace comp (.-left tree) k v) (.-right tree))\n          :else     (.replace tree tk (.-val tree) (.-left tree) (tree-map-replace comp (.-right tree) k v)))))\n\n(declare key)\n\n(deftype PersistentTreeMap [comp tree cnt meta ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (keys [coll]\n    (es6-iterator (keys coll)))\n  (entries [coll]\n    (es6-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (vals coll)))\n  (has [coll k]\n    (contains? coll k))\n  (get [coll k not-found]\n    (-lookup coll k not-found))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  (entry-at [coll k]\n    (loop [t tree]\n      (if-not (nil? t)\n        (let [c (comp k (.-key t))]\n          (cond (zero? c) t\n                (neg? c)  (recur (.-left t))\n                :else     (recur (.-right t)))))))\n\n  ICloneable\n  (-clone [_] (PersistentTreeMap. comp tree cnt meta __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeMap. comp tree cnt new-meta __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll entry]\n    (if (vector? entry)\n      (-assoc coll (-nth entry 0) (-nth entry 1))\n      (loop [ret coll es (seq entry)]\n        (if (nil? es)\n          ret\n          (let [e (first es)]\n            (if (vector? e)\n              (recur (-assoc ret (-nth e 0) (-nth e 1))\n                     (next es))\n              (throw (js\/Error. \"conj on a map takes map entries or seqables of map entries\"))))))))\n\n  IEmptyableCollection\n  (-empty [coll] (PersistentTreeMap. comp nil 0 meta 0))\n\n  IEquiv\n  (-equiv [coll other] (equiv-map coll other))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ICounted\n  (-count [coll] cnt)\n\n  IKVReduce\n  (-kv-reduce [coll f init]\n    (if-not (nil? tree)\n      (unreduced (tree-map-kv-reduce tree f init))\n      init))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  ISeqable\n  (-seq [coll]\n    (if (pos? cnt)\n      (create-tree-map-seq tree true cnt)))\n\n  IReversible\n  (-rseq [coll]\n    (if (pos? cnt)\n      (create-tree-map-seq tree false cnt)))\n\n  ILookup\n  (-lookup [coll k]\n    (-lookup coll k nil))\n\n  (-lookup [coll k not-found]\n    (let [n (.entry-at coll k)]\n      (if-not (nil? n)\n        (.-val n)\n        not-found)))\n\n  IAssociative\n  (-assoc [coll k v]\n    (let [found (array nil)\n          t     (tree-map-add comp tree k v found)]\n      (if (nil? t)\n        (let [found-node (nth found 0)]\n          (if (= v (.-val found-node))\n            coll\n            (PersistentTreeMap. comp (tree-map-replace comp tree k v) cnt meta nil)))\n        (PersistentTreeMap. comp (.blacken t) (inc cnt) meta nil))))\n\n  (-contains-key? [coll k]\n    (not (nil? (.entry-at coll k))))\n\n  IFind\n  (-find [coll k]\n    (.entry-at coll k))\n\n  IMap\n  (-dissoc [coll k]\n    (let [found (array nil)\n          t     (tree-map-remove comp tree k found)]\n      (if (nil? t)\n        (if (nil? (nth found 0))\n          coll\n          (PersistentTreeMap. comp nil 0 meta nil))\n        (PersistentTreeMap. comp (.blacken t) (dec cnt) meta nil))))\n\n  ISorted\n  (-sorted-seq [coll ascending?]\n    (if (pos? cnt)\n      (create-tree-map-seq tree ascending? cnt)))\n\n  (-sorted-seq-from [coll k ascending?]\n    (if (pos? cnt)\n      (loop [stack nil t tree]\n        (if-not (nil? t)\n          (let [c (comp k (.-key t))]\n            (cond\n              (zero? c)  (PersistentTreeMapSeq. nil (conj stack t) ascending? -1 nil)\n              ascending? (if (neg? c)\n                           (recur (conj stack t) (.-left t))\n                           (recur stack          (.-right t)))\n              :else      (if (pos? c)\n                           (recur (conj stack t) (.-right t))\n                           (recur stack          (.-left t)))))\n          (when-not (nil? stack)\n            (PersistentTreeMapSeq. nil stack ascending? -1 nil))))))\n\n  (-entry-key [coll entry] (key entry))\n\n  (-comparator [coll] comp))\n\n(set! (.-EMPTY PersistentTreeMap) (PersistentTreeMap. compare nil 0 nil empty-unordered-hash))\n\n(es6-iterable PersistentTreeMap)\n\n(defn hash-map\n  \"keyval => key val\n  Returns a new hash map with supplied mappings.\"\n  [& keyvals]\n  (loop [in (seq keyvals), out (transient (.-EMPTY PersistentHashMap))]\n    (if in\n      (let [in' (next in)]\n        (if (nil? in')\n          (throw (js\/Error. (str \"No value supplied for key: \" (first in))))\n          (recur (next in') (assoc! out (first in) (first in')) )))\n      (persistent! out))))\n\n(defn array-map\n  \"keyval => key val\n  Returns a new array map with supplied mappings.\"\n  [& keyvals]\n  (let [arr (if (and (instance? IndexedSeq keyvals) (zero? (.-i keyvals)))\n              (.-arr keyvals)\n              (into-array keyvals))]\n    (if (odd? (alength arr))\n      (throw (js\/Error. (str \"No value supplied for key: \" (last arr))))\n      (.createAsIfByAssoc PersistentArrayMap arr))))\n\n(defn seq-to-map-for-destructuring\n  \"Builds a map from a seq as described in\n  https:\/\/clojure.org\/reference\/special_forms#keyword-arguments\"\n  [s]\n  (if (next s)\n    (.createAsIfByAssoc PersistentArrayMap (to-array s))\n    (if (seq s) (first s) (.-EMPTY PersistentArrayMap))))\n\n(defn obj-map\n  \"keyval => key val\n  Returns a new object map with supplied mappings.\"\n  [& keyvals]\n  (let [ks  (array)\n        obj (js-obj)]\n    (loop [kvs (seq keyvals)]\n      (if kvs\n        (do (.push ks (first kvs))\n            (gobject\/set obj (first kvs) (second kvs))\n            (recur (nnext kvs)))\n        (.fromObject ObjMap ks obj)))))\n\n(defn sorted-map\n  \"keyval => key val\n  Returns a new sorted map with supplied mappings.\"\n  ([& keyvals]\n     (loop [in (seq keyvals) out (.-EMPTY PersistentTreeMap)]\n       (if in\n         (recur (nnext in) (assoc out (first in) (second in)))\n         out))))\n\n(defn sorted-map-by\n  \"keyval => key val\n  Returns a new sorted map with supplied mappings, using the supplied comparator.\"\n  ([comparator & keyvals]\n     (loop [in (seq keyvals)\n            out (PersistentTreeMap. (fn->comparator comparator) nil 0 nil 0)]\n       (if in\n         (recur (nnext in) (assoc out (first in) (second in)))\n         out))))\n\n(deftype KeySeq [^not-native mseq _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (KeySeq. mseq new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (let [^not-native me (-first mseq)]\n      (-key me)))\n\n  (-rest [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (if-not (nil? nseq)\n        (KeySeq. nseq nil)\n        ())))\n\n  INext\n  (-next [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (when-not (nil? nseq)\n        (KeySeq. nseq nil))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable KeySeq)\n\n(defn keys\n  \"Returns a sequence of the map's keys, in the same order as (seq map).\"\n  [map]\n  (when-let [mseq (seq map)]\n    (KeySeq. mseq nil)))\n\n(defn key\n  \"Returns the key of the map entry.\"\n  [map-entry]\n  (-key map-entry))\n\n(deftype ValSeq [^not-native mseq _meta]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  IMeta\n  (-meta [coll] _meta)\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta _meta)\n      coll\n      (ValSeq. mseq new-meta)))\n\n  ISeqable\n  (-seq [coll] coll)\n\n  ISequential\n  IEquiv\n  (-equiv [coll other] (equiv-sequential coll other))\n\n  ICollection\n  (-conj [coll o]\n    (cons o coll))\n\n  IEmptyableCollection\n  (-empty [coll] (.-EMPTY List))\n\n  IHash\n  (-hash [coll] (hash-ordered-coll coll))\n\n  ISeq\n  (-first [coll]\n    (let [^not-native me (-first mseq)]\n      (-val me)))\n\n  (-rest [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (if-not (nil? nseq)\n        (ValSeq. nseq nil)\n        ())))\n\n  INext\n  (-next [coll]\n    (let [nseq (if (satisfies? INext mseq)\n                 (-next mseq)\n                 (next mseq))]\n      (when-not (nil? nseq)\n        (ValSeq. nseq nil))))\n\n  IReduce\n  (-reduce [coll f] (seq-reduce f coll))\n  (-reduce [coll f start] (seq-reduce f start coll)))\n\n(es6-iterable ValSeq)\n\n(defn vals\n  \"Returns a sequence of the map's values, in the same order as (seq map).\"\n  [map]\n  (when-let [mseq (seq map)]\n    (ValSeq. mseq nil)))\n\n(defn val\n  \"Returns the value in the map entry.\"\n  [map-entry]\n  (-val map-entry))\n\n(defn merge\n  \"Returns a map that consists of the rest of the maps conj-ed onto\n  the first.  If a key occurs in more than one map, the mapping from\n  the latter (left-to-right) will be the mapping in the result.\"\n  [& maps]\n  (when (some identity maps)\n    (reduce #(conj (or %1 {}) %2) maps)))\n\n(defn merge-with\n  \"Returns a map that consists of the rest of the maps conj-ed onto\n  the first.  If a key occurs in more than one map, the mapping(s)\n  from the latter (left-to-right) will be combined with the mapping in\n  the result by calling (f val-in-result val-in-latter).\"\n  [f & maps]\n  (when (some identity maps)\n    (let [merge-entry (fn [m e]\n                        (let [k (key e) v (val e)]\n                          (if (contains? m k)\n                            (assoc m k (f (get m k) v))\n                            (assoc m k v))))\n          merge2 (fn [m1 m2]\n                   (reduce merge-entry (or m1 {}) (seq m2)))]\n      (reduce merge2 maps))))\n\n(defn select-keys\n  \"Returns a map containing only those entries in map whose key is in keys\"\n  [map keyseq]\n    (loop [ret {} keys (seq keyseq)]\n      (if keys\n        (let [key   (first keys)\n              entry (get map key ::not-found)]\n          (recur\n           (if (not= entry ::not-found)\n             (assoc ret key entry)\n             ret)\n           (next keys)))\n        (-with-meta ret (meta map)))))\n\n;;; PersistentHashSet\n\n(declare TransientHashSet)\n\n(deftype HashSetIter [iter]\n  Object\n  (hasNext [_]\n    (.hasNext iter))\n  (next [_]\n    (if ^boolean (.hasNext iter)\n      (.-key (.next iter))\n      (throw (js\/Error. \"No such element\"))))\n  (remove [_] (js\/Error. \"Unsupported operation\")))\n\n(deftype PersistentHashSet [meta hash-map ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (keys [coll]\n    (es6-iterator (seq coll)))\n  (entries [coll]\n    (es6-set-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (seq coll)))\n  (has [coll k]\n    (contains? coll k))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentHashSet. meta hash-map __hash))\n\n  IIterable\n  (-iterator [coll]\n    (HashSetIter. (-iterator hash-map)))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentHashSet. new-meta hash-map __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll o]\n    (PersistentHashSet. meta (assoc hash-map o nil) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (-with-meta (.-EMPTY PersistentHashSet) meta))\n\n  IEquiv\n  (-equiv [coll other]\n    (and\n     (set? other)\n     (== (count coll) (count other))\n     ^boolean\n     (try\n       (reduce-kv\n         #(or (contains? other %2) (reduced false))\n         true hash-map)\n       (catch js\/Error ex\n         false))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] (keys hash-map))\n\n  ICounted\n  (-count [coll] (-count hash-map))\n\n  ILookup\n  (-lookup [coll v]\n    (-lookup coll v nil))\n  (-lookup [coll v not-found]\n    (if-let [entry (-find hash-map v)]\n      (key entry)\n      not-found))\n\n  ISet\n  (-disjoin [coll v]\n    (PersistentHashSet. meta (-dissoc hash-map v) nil))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found))\n\n  IEditableCollection\n  (-as-transient [coll] (TransientHashSet. (-as-transient hash-map))))\n\n(set! (.-EMPTY PersistentHashSet)\n  (PersistentHashSet. nil (.-EMPTY PersistentArrayMap) empty-unordered-hash))\n\n(set! (.-fromArray PersistentHashSet)\n  (fn [items ^boolean no-clone]\n    (let [len (alength items)]\n      (if (<= len (.-HASHMAP-THRESHOLD PersistentArrayMap))\n        (let [arr (if no-clone items (aclone items))]\n          (loop [i 0\n                 out (transient (.-EMPTY PersistentArrayMap))]\n            (if (< i len)\n              (recur (inc i) (-assoc! out (aget items i) nil))\n              (PersistentHashSet. nil (-persistent! out) nil))))\n       (loop [i 0\n              out (transient (.-EMPTY PersistentHashSet))]\n         (if (< i len)\n           (recur (inc i) (-conj! out (aget items i)))\n           (-persistent! out)))))))\n\n(set! (.-createWithCheck PersistentHashSet)\n      (fn [items]\n        (let [len (alength items)\n              t (-as-transient (.-EMPTY PersistentHashSet))]\n          (dotimes [i len]\n            (-conj! t (aget items i))\n            (when-not (= (count t) (inc i))\n              (throw (js\/Error. (str \"Duplicate key: \" (aget items i))))))\n          (-persistent! t))))\n\n(set! (.-createAsIfByAssoc PersistentHashSet)\n      (fn [items]\n        (let [len (alength items)\n              t (-as-transient (.-EMPTY PersistentHashSet))]\n          (dotimes [i len] (-conj! t (aget items i)))\n          (-persistent! t))))\n\n(es6-iterable PersistentHashSet)\n\n(deftype TransientHashSet [^:mutable transient-map]\n  ITransientCollection\n  (-conj! [tcoll o]\n    (set! transient-map (assoc! transient-map o nil))\n    tcoll)\n\n  (-persistent! [tcoll]\n    (PersistentHashSet. nil (persistent! transient-map) nil))\n\n  ITransientSet\n  (-disjoin! [tcoll v]\n    (set! transient-map (dissoc! transient-map v))\n    tcoll)\n\n  ICounted\n  (-count [tcoll] (count transient-map))\n\n  ILookup\n  (-lookup [tcoll v]\n    (-lookup tcoll v nil))\n\n  (-lookup [tcoll v not-found]\n    (if (identical? (-lookup transient-map v lookup-sentinel) lookup-sentinel)\n      not-found\n      v))\n\n  IFn\n  (-invoke [tcoll k]\n    (if (identical? (-lookup transient-map k lookup-sentinel) lookup-sentinel)\n      nil\n      k))\n\n  (-invoke [tcoll k not-found]\n    (if (identical? (-lookup transient-map k lookup-sentinel) lookup-sentinel)\n      not-found\n      k)))\n\n(deftype PersistentTreeSet [meta tree-map ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (keys [coll]\n    (es6-iterator (seq coll)))\n  (entries [coll]\n    (es6-set-entries-iterator (seq coll)))\n  (values [coll]\n    (es6-iterator (seq coll)))\n  (has [coll k]\n    (contains? coll k))\n  (forEach [coll f]\n    (doseq [[k v] coll]\n      (f v k)))\n\n  ICloneable\n  (-clone [_] (PersistentTreeSet. meta tree-map __hash))\n\n  IWithMeta\n  (-with-meta [coll new-meta]\n    (if (identical? new-meta meta)\n      coll\n      (PersistentTreeSet. new-meta tree-map __hash)))\n\n  IMeta\n  (-meta [coll] meta)\n\n  ICollection\n  (-conj [coll o]\n    (PersistentTreeSet. meta (assoc tree-map o nil) nil))\n\n  IEmptyableCollection\n  (-empty [coll] (PersistentTreeSet. meta (-empty tree-map) 0))\n\n  IEquiv\n  (-equiv [coll other]\n    (and\n     (set? other)\n     (== (count coll) (count other))\n     ^boolean\n     (try\n       (reduce-kv\n         #(or (contains? other %2) (reduced false))\n         true tree-map)\n       (catch js\/Error ex\n         false))))\n\n  IHash\n  (-hash [coll] (caching-hash coll hash-unordered-coll __hash))\n\n  ISeqable\n  (-seq [coll] (keys tree-map))\n\n  ISorted\n  (-sorted-seq [coll ascending?]\n    (map key (-sorted-seq tree-map ascending?)))\n\n  (-sorted-seq-from [coll k ascending?]\n    (map key (-sorted-seq-from tree-map k ascending?)))\n\n  (-entry-key [coll entry] entry)\n\n  (-comparator [coll] (-comparator tree-map))\n\n  IReversible\n  (-rseq [coll]\n    (if (pos? (count tree-map))\n      (map key (rseq tree-map))))\n\n  ICounted\n  (-count [coll] (count tree-map))\n\n  ILookup\n  (-lookup [coll v]\n    (-lookup coll v nil))\n  (-lookup [coll v not-found]\n    (let [n (.entry-at tree-map v)]\n      (if-not (nil? n)\n        (.-key n)\n        not-found)))\n\n  ISet\n  (-disjoin [coll v]\n    (PersistentTreeSet. meta (dissoc tree-map v) nil))\n\n  IFn\n  (-invoke [coll k]\n    (-lookup coll k))\n  (-invoke [coll k not-found]\n    (-lookup coll k not-found)))\n\n(set! (.-EMPTY PersistentTreeSet)\n  (PersistentTreeSet. nil (.-EMPTY PersistentTreeMap) empty-unordered-hash))\n\n(es6-iterable PersistentTreeSet)\n\n(defn set-from-indexed-seq [iseq]\n  (let [arr (.-arr iseq)\n        ret (areduce arr i ^not-native res (-as-transient #{})\n              (-conj! res (aget arr i)))]\n    (-persistent! ^not-native ret)))\n\n(defn set\n  \"Returns a set of the distinct elements of coll.\"\n  [coll]\n  (if (set? coll)\n    (with-meta coll nil)\n    (let [in (seq coll)]\n      (cond\n        (nil? in) #{}\n\n        (and (instance? IndexedSeq in) (zero? (.-i in)))\n        (.createAsIfByAssoc PersistentHashSet (.-arr in))\n\n        :else\n        (loop [^not-native in  in\n               ^not-native out (-as-transient #{})]\n          (if-not (nil? in)\n            (recur (next in) (-conj! out (-first in)))\n            (persistent! out)))))))\n\n(defn hash-set\n  \"Returns a new hash set with supplied keys.  Any equal keys are\n  handled as if by repeated uses of conj.\"\n  ([] #{})\n  ([& keys] (set keys)))\n\n(defn sorted-set\n  \"Returns a new sorted set with supplied keys.\"\n  ([& keys]\n   (reduce -conj (.-EMPTY PersistentTreeSet) keys)))\n\n(defn sorted-set-by\n  \"Returns a new sorted set with supplied keys, using the supplied comparator.\"\n  ([comparator & keys]\n   (reduce -conj\n           (PersistentTreeSet. nil (sorted-map-by comparator) 0)\n           keys)))\n\n(defn replace\n  \"Given a map of replacement pairs and a vector\/collection, returns a\n  vector\/seq with any elements = a key in smap replaced with the\n  corresponding val in smap.  Returns a transducer when no collection\n  is provided.\"\n  ([smap]\n     (map #(if-let [e (find smap %)] (val e) %)))\n  ([smap coll]\n     (if (vector? coll)\n       (let [n (count coll)]\n         (reduce (fn [v i]\n                   (if-let [e (find smap (nth v i))]\n                     (assoc v i (second e))\n                     v))\n           coll (take n (iterate inc 0))))\n       (map #(if-let [e (find smap %)] (second e) %) coll))))\n\n(defn distinct\n  \"Returns a lazy sequence of the elements of coll with duplicates removed.\n  Returns a stateful transducer when no collection is provided.\"\n  ([]\n    (fn [rf]\n      (let [seen (volatile! #{})]\n        (fn\n          ([] (rf))\n          ([result] (rf result))\n          ([result input]\n            (if (contains? @seen input)\n              result\n              (do (vswap! seen conj input)\n                  (rf result input))))))))\n  ([coll]\n    (let [step (fn step [xs seen]\n                 (lazy-seq\n                   ((fn [[f :as xs] seen]\n                      (when-let [s (seq xs)]\n                        (if (contains? seen f)\n                          (recur (rest s) seen)\n                          (cons f (step (rest s) (conj seen f))))))\n                     xs seen)))]\n      (step coll #{}))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(defn butlast\n  \"Return a seq of all but the last item in coll, in linear time\"\n  [s]\n  (loop [ret [] s s]\n    (if (next s)\n      (recur (conj ret (first s)) (next s))\n      (seq ret))))\n\n(defn name\n  \"Returns the name String of a string, symbol or keyword.\"\n  [x]\n  (if (implements? INamed x)\n    (-name x)\n    (if (string? x)\n      x\n      (throw (js\/Error. (str \"Doesn't support name: \" x))))))\n\n(defn zipmap\n  \"Returns a map with the keys mapped to the corresponding vals.\"\n  [keys vals]\n    (loop [map (transient {})\n           ks (seq keys)\n           vs (seq vals)]\n      (if (and ks vs)\n        (recur (assoc! map (first ks) (first vs))\n               (next ks)\n               (next vs))\n        (persistent! map))))\n\n(defn max-key\n  \"Returns the x for which (k x), a number, is greatest.\n\n  If there are multiple such xs, the last one is returned.\"\n  ([k x] x)\n  ([k x y] (if (> (k x) (k y)) x y))\n  ([k x y & more]\n   (reduce #(max-key k %1 %2) (max-key k x y) more)))\n\n(defn min-key\n  \"Returns the x for which (k x), a number, is least.\n\n  If there are multiple such xs, the last one is returned.\"\n  ([k x] x)\n  ([k x y] (if (< (k x) (k y)) x y))\n  ([k x y & more]\n     (reduce #(min-key k %1 %2) (min-key k x y) more)))\n\n(deftype ArrayList [^:mutable arr]\n  Object\n  (add [_ x] (.push arr x))\n  (size [_] (alength arr))\n  (clear [_] (set! arr (array)))\n  (isEmpty [_] (zero? (alength arr)))\n  (toArray [_] arr))\n\n(defn array-list []\n  (ArrayList. (array)))\n\n(defn partition-all\n  \"Returns a lazy sequence of lists like partition, but may include\n  partitions with fewer than n items at the end.  Returns a stateful\n  transducer when no collection is provided.\"\n  ([n]\n   (fn [rf]\n     (let [a (array-list)]\n       (fn\n         ([] (rf))\n         ([result]\n            (let [result (if (.isEmpty a)\n                           result\n                           (let [v (vec (.toArray a))]\n                             ;;clear first!\n                             (.clear a)\n                             (unreduced (rf result v))))]\n              (rf result)))\n         ([result input]\n            (.add a input)\n            (if (== n (.size a))\n              (let [v (vec (.toArray a))]\n                (.clear a)\n                (rf result v))\n              result))))))\n  ([n coll]\n     (partition-all n n coll))\n  ([n step coll]\n     (lazy-seq\n      (when-let [s (seq coll)]\n        (cons (take n s) (partition-all n step (drop step s)))))))\n\n(defn splitv-at\n  \"Returns a vector of [(into [] (take n) coll) (drop n coll)]\"\n  [n coll]\n  [(into [] (take n) coll) (drop n coll)])\n\n(defn partitionv\n  \"Returns a lazy sequence of vectors of n items each, at offsets step\n  apart. If step is not supplied, defaults to n, i.e. the partitions\n  do not overlap. If a pad collection is supplied, use its elements as\n  necessary to complete last partition upto n items. In case there are\n  not enough padding elements, return a partition with less than n items.\"\n  ([n coll]\n   (partitionv n n coll))\n  ([n step coll]\n   (lazy-seq\n     (when-let [s (seq coll)]\n       (let [p (into [] (take n) s)]\n         (when (= n (count p))\n           (cons p (partitionv n step (nthrest s step))))))))\n  ([n step pad coll]\n   (lazy-seq\n     (when-let [s (seq coll)]\n       (let [p (into [] (take n) s)]\n         (if (= n (count p))\n           (cons p (partitionv n step pad (nthrest s step)))\n           (list (into [] (take n) (concat p pad)))))))))\n\n(defn partitionv-all\n  \"Returns a lazy sequence of vector partitions, but may include\n  partitions with fewer than n items at the end.\n  Returns a stateful transducer when no collection is provided.\"\n  ([n]\n   (partition-all n))\n  ([n coll]\n   (partitionv-all n n coll))\n  ([n step coll]\n   (lazy-seq\n     (when-let [s (seq coll)]\n       (let [seg (into [] (take n) coll)]\n         (cons seg (partitionv-all n step (drop step s))))))))\n\n(defn take-while\n  \"Returns a lazy sequence of successive items from coll while\n  (pred item) returns logical true. pred must be free of side-effects.\n  Returns a transducer when no collection is provided.\"\n  ([pred]\n     (fn [rf]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (if (pred input)\n              (rf result input)\n              (reduced result))))))\n  ([pred coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (when (pred (first s))\n           (cons (first s) (take-while pred (rest s))))))))\n\n(defn mk-bound-fn\n  [sc test key]\n  (fn [e]\n    (let [comp (-comparator sc)]\n      (test (comp (-entry-key sc e) key) 0))))\n\n(defn subseq\n  \"sc must be a sorted collection, test(s) one of <, <=, > or\n  >=. Returns a seq of those entries with keys ek for\n  which (test (.. sc comparator (compare ek key)) 0) is true\"\n  ([sc test key]\n     (let [include (mk-bound-fn sc test key)]\n       (if (#{> >=} test)\n         (when-let [[e :as s] (-sorted-seq-from sc key true)]\n           (if (include e) s (next s)))\n         (take-while include (-sorted-seq sc true)))))\n  ([sc start-test start-key end-test end-key]\n     (when-let [[e :as s] (-sorted-seq-from sc start-key true)]\n       (take-while (mk-bound-fn sc end-test end-key)\n                   (if ((mk-bound-fn sc start-test start-key) e) s (next s))))))\n\n(defn rsubseq\n  \"sc must be a sorted collection, test(s) one of <, <=, > or\n  >=. Returns a reverse seq of those entries with keys ek for\n  which (test (.. sc comparator (compare ek key)) 0) is true\"\n  ([sc test key]\n     (let [include (mk-bound-fn sc test key)]\n       (if (#{< <=} test)\n         (when-let [[e :as s] (-sorted-seq-from sc key false)]\n           (if (include e) s (next s)))\n         (take-while include (-sorted-seq sc false)))))\n  ([sc start-test start-key end-test end-key]\n     (when-let [[e :as s] (-sorted-seq-from sc end-key false)]\n       (take-while (mk-bound-fn sc start-test start-key)\n                   (if ((mk-bound-fn sc end-test end-key) e) s (next s))))))\n\n(deftype IntegerRangeChunk [start step count]\n  ICounted\n  (-count [coll] count)\n\n  ISeq\n  (-first [coll] start)\n\n  IIndexed\n  (-nth [coll i]\n    (+ start (* i step)))\n  (-nth [coll i not-found]\n    (if (and (>= i 0) (< i count))\n      (+ start (* i step))\n      not-found))\n\n  IChunk\n  (-drop-first [coll]\n    (if (<= count 1)\n      (throw (js\/Error. \"-drop-first of empty chunk\"))\n      (IntegerRangeChunk. (+ start step) step (dec count)))))\n\n(deftype RangeIterator [^:mutable i end step]\n  Object\n  (hasNext [_]\n    (if (pos? step)\n      (< i end)\n      (> i end)))\n  (next [_]\n    (let [ret i]\n      (set! i (+ i step))\n      ret)))\n\n(defn- range-count\n  \"Returns exact size of remaining items in an IntegerRange.\"\n  [start end step]\n  (Math\/ceil (\/ (- end start) step)))\n\n(deftype IntegerRange [meta start end step cnt ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ICloneable\n  (-clone [_] (IntegerRange. meta start end step cnt __hash))\n\n  IWithMeta\n  (-with-meta [rng new-meta]\n    (if (identical? new-meta meta)\n      rng\n      (IntegerRange. new-meta start end step cnt __hash)))\n\n  IMeta\n  (-meta [rng] meta)\n\n  ISeqable\n  (-seq [rng] rng)\n\n  ISeq\n  (-first [rng] start)\n  (-rest [rng]\n    (let [s (-next rng)]\n      (if (nil? s)\n        ()\n        s)))\n\n  IIterable\n  (-iterator [_]\n    (RangeIterator. start end step))\n\n  INext\n  (-next [rng]\n    (if (pos? step)\n      (when (< (+ start step) end)\n        (IntegerRange. nil (+ start step) end step (range-count (+ start step) end step) nil))\n      (when (> (+ start step) end)\n        (IntegerRange. nil (+ start step) end step (range-count (+ start step) end step) nil))))\n\n  IDrop\n  (-drop [rng n]\n    (if (pos? n)\n      (if (< n cnt)\n        (IntegerRange. nil (+ start (* step n)) end step (- cnt n) nil)\n        nil)\n      rng))\n\n  IChunkedSeq\n  (-chunked-first [rng]\n    (IntegerRangeChunk. start step (min cnt 32)))\n  (-chunked-rest [rng]\n    (if (<= cnt 32)\n      ()\n      (let [start (+ start (* step 32))]\n        (cond\n          (pos? step)\n          (if (<= end start)\n            ()\n            (IntegerRange. nil start end step (range-count start end step) nil))\n\n          (neg? step)\n          (if (>= end start)\n            ()\n            (IntegerRange. nil start end step (range-count start end step) nil))\n\n          :else\n          (if (== end start)\n            ()\n            (repeat start))))))\n\n  IChunkedNext\n  (-chunked-next [rng]\n    (seq (-chunked-rest rng)))\n\n  ICollection\n  (-conj [rng o] (cons o rng))\n\n  IEmptyableCollection\n  (-empty [rng] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [rng other] (equiv-sequential rng other))\n\n  IHash\n  (-hash [rng] (caching-hash rng hash-ordered-coll __hash))\n\n  ICounted\n  (-count [rng]\n    cnt)\n\n  IIndexed\n  (-nth [rng n]\n    (if (and (<= 0 n) (< n (-count rng)))\n      (+ start (* n step))\n      (if (and (<= 0 n) (> start end) (zero? step))\n        start\n        (throw (js\/Error. \"Index out of bounds\")))))\n  (-nth [rng n not-found]\n    (if (and (<= 0 n) (< n (-count rng)))\n      (+ start (* n step))\n      (if (and (<= 0 n) (> start end) (zero? step))\n        start\n        not-found)))\n\n  IReduce\n  (-reduce [rng f] (ci-reduce rng f))\n  (-reduce [rng f init]\n    (loop [i start ret init]\n      (if (if (pos? step) (< i end) (> i end))\n        (let [ret (f ret i)]\n          (if (reduced? ret)\n            @ret\n            (recur (+ i step) ret)))\n        ret))))\n\n(es6-iterable IntegerRange)\n\n(deftype Range [meta start end step ^:mutable chunk ^:mutable chunk-next ^:mutable __hash]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n  (equiv [this other]\n    (-equiv this other))\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n  (forceChunk [coll]\n    (when (nil? chunk)\n      (let [arr (make-array 32)\n            val (loop [n 0 val start]\n                  (if (< n 32)\n                    (do\n                      (aset arr n val)\n                      (let [n (inc n)\n                            val (+ val step)]\n                        (if (if (pos? step) (< val end) (> val end))\n                          (recur n val)\n                          (set! chunk (array-chunk arr 0 n)))))\n                    val))]\n        (when (nil? chunk)\n          (set! chunk (array-chunk arr 0 32))\n          (when (if (pos? step) (< val end) (> val end))\n            (set! chunk-next (Range. nil val end step nil nil nil)))))))\n\n  ICloneable\n  (-clone [_] (Range. meta start end step chunk chunk-next __hash))\n\n  IWithMeta\n  (-with-meta [rng new-meta]\n    (if (identical? new-meta meta)\n      rng\n      (Range. new-meta start end step chunk chunk-next __hash)))\n\n  IMeta\n  (-meta [rng] meta)\n\n  ISeqable\n  (-seq [rng] rng)\n\n  ISeq\n  (-first [rng] start)\n  (-rest [rng]\n    (let [s (-next rng)]\n      (if (nil? s)\n        ()\n        s)))\n\n  IIterable\n  (-iterator [_]\n    (RangeIterator. start end step))\n\n  INext\n  (-next [rng]\n    (if (pos? step)\n      (when (< (+ start step) end)\n        (Range. nil (+ start step) end step nil nil nil))\n      (when (> (+ start step) end)\n        (Range. nil (+ start step) end step nil nil nil))))\n\n  IChunkedSeq\n  (-chunked-first [rng]\n    (.forceChunk rng)\n    chunk)\n  (-chunked-rest [rng]\n    (.forceChunk rng)\n    (if (nil? chunk-next)\n      ()\n      chunk-next))\n\n  IChunkedNext\n  (-chunked-next [rng]\n    (seq (-chunked-rest rng)))\n\n  ICollection\n  (-conj [rng o] (cons o rng))\n\n  IEmptyableCollection\n  (-empty [rng] (.-EMPTY List))\n\n  ISequential\n  IEquiv\n  (-equiv [rng other] (equiv-sequential rng other))\n\n  IHash\n  (-hash [rng] (caching-hash rng hash-ordered-coll __hash))\n\n  IReduce\n  (-reduce [rng f] (seq-reduce f rng))\n  (-reduce [rng f init]\n    (loop [i start ret init]\n      (if (if (pos? step) (< i end) (> i end))\n        (let [ret (f ret i)]\n          (if (reduced? ret)\n            @ret\n            (recur (+ i step) ret)))\n        ret))))\n\n(es6-iterable Range)\n\n(defn range\n  \"Returns a lazy seq of nums from start (inclusive) to end\n   (exclusive), by step, where start defaults to 0, step to 1,\n   and end to infinity.\"\n  ([] (range 0 (.-MAX_VALUE js\/Number) 1))\n  ([end] (range 0 end 1))\n  ([start end] (range start end 1))\n  ([start end step]\n   (cond\n     (pos? step)\n     (if (<= end start)\n       ()\n       (if (and (integer? start) (integer? end) (integer? step))\n         (IntegerRange. nil start end step (range-count start end step) nil)\n         (Range. nil start end step nil nil nil)))\n\n     (neg? step)\n     (if (>= end start)\n       ()\n       (if (and (integer? start) (integer? end) (integer? step))\n         (IntegerRange. nil start end step (range-count start end step) nil)\n         (Range. nil start end step nil nil nil)))\n\n     :else\n     (if (== end start)\n       ()\n       (repeat start)))))\n\n(defn take-nth\n  \"Returns a lazy seq of every nth item in coll.  Returns a stateful\n  transducer when no collection is provided.\"\n  ([n]\n   {:pre [(number? n)]}\n     (fn [rf]\n       (let [ia (volatile! -1)]\n         (fn\n           ([] (rf))\n           ([result] (rf result))\n           ([result input]\n              (let [i (vswap! ia inc)]\n                (if (zero? (rem i n))\n                  (rf result input)\n                  result)))))))\n  ([n coll]\n   {:pre [(number? n)]}\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (cons (first s) (take-nth n (drop n s)))))))\n\n(defn split-with\n  \"Returns a vector of [(take-while pred coll) (drop-while pred coll)]\"\n  [pred coll]\n  [(take-while pred coll) (drop-while pred coll)])\n\n(defn partition-by\n  \"Applies f to each value in coll, splitting it each time f returns a\n   new value.  Returns a lazy seq of partitions.  Returns a stateful\n   transducer when no collection is provided.\"\n  ([f]\n     (fn [rf]\n       (let [a (array-list)\n             pa (volatile! ::none)]\n         (fn\n           ([] (rf))\n           ([result]\n              (let [result (if (.isEmpty a)\n                             result\n                             (let [v (vec (.toArray a))]\n                               ;;clear first!\n                               (.clear a)\n                               (unreduced (rf result v))))]\n                (rf result)))\n           ([result input]\n              (let [pval @pa\n                    val (f input)]\n                (vreset! pa val)\n                (if (or (keyword-identical? pval ::none)\n                        (= val pval))\n                  (do\n                    (.add a input)\n                    result)\n                  (let [v (vec (.toArray a))]\n                    (.clear a)\n                    (let [ret (rf result v)]\n                      (when-not (reduced? ret)\n                        (.add a input))\n                      ret)))))))))\n  ([f coll]\n     (lazy-seq\n       (when-let [s (seq coll)]\n         (let [fst (first s)\n               fv (f fst)\n               run (cons fst (take-while #(= fv (f %)) (next s)))]\n           (cons run (partition-by f (lazy-seq (drop (count run) s)))))))))\n\n(defn frequencies\n  \"Returns a map from distinct items in coll to the number of times\n  they appear.\"\n  [coll]\n  (persistent!\n   (reduce (fn [counts x]\n             (assoc! counts x (inc (get counts x 0))))\n           (transient {}) coll)))\n\n(defn reductions\n  \"Returns a lazy seq of the intermediate values of the reduction (as\n  per reduce) of coll by f, starting with init.\"\n  ([f coll]\n   (lazy-seq\n     (if-let [s (seq coll)]\n       (reductions f (first s) (rest s))\n       (list (f)))))\n  ([f init coll]\n   (if (reduced? init)\n     (list @init)\n     (cons init\n       (lazy-seq\n         (when-let [s (seq coll)]\n           (reductions f (f init (first s)) (rest s))))))))\n\n(defn juxt\n  \"Takes a set of functions and returns a fn that is the juxtaposition\n  of those fns.  The returned fn takes a variable number of args, and\n  returns a vector containing the result of applying each fn to the\n  args (left-to-right).\n  ((juxt a b c) x) => [(a x) (b x) (c x)]\"\n  ([f]\n     (fn\n       ([] (vector (f)))\n       ([x] (vector (f x)))\n       ([x y] (vector (f x y)))\n       ([x y z] (vector (f x y z)))\n       ([x y z & args] (vector (apply f x y z args)))))\n  ([f g]\n     (fn\n       ([] (vector (f) (g)))\n       ([x] (vector (f x) (g x)))\n       ([x y] (vector (f x y) (g x y)))\n       ([x y z] (vector (f x y z) (g x y z)))\n       ([x y z & args] (vector (apply f x y z args) (apply g x y z args)))))\n  ([f g h]\n     (fn\n       ([] (vector (f) (g) (h)))\n       ([x] (vector (f x) (g x) (h x)))\n       ([x y] (vector (f x y) (g x y) (h x y)))\n       ([x y z] (vector (f x y z) (g x y z) (h x y z)))\n       ([x y z & args] (vector (apply f x y z args) (apply g x y z args) (apply h x y z args)))))\n  ([f g h & fs]\n     (let [fs (list* f g h fs)]\n       (fn\n         ([] (reduce #(conj %1 (%2)) [] fs))\n         ([x] (reduce #(conj %1 (%2 x)) [] fs))\n         ([x y] (reduce #(conj %1 (%2 x y)) [] fs))\n         ([x y z] (reduce #(conj %1 (%2 x y z)) [] fs))\n         ([x y z & args] (reduce #(conj %1 (apply %2 x y z args)) [] fs))))))\n\n(defn dorun\n  \"When lazy sequences are produced via functions that have side\n  effects, any effects other than those needed to produce the first\n  element in the seq do not occur until the seq is consumed. dorun can\n  be used to force any effects. Walks through the successive nexts of\n  the seq, does not retain the head and returns nil.\"\n  ([coll]\n   (when-let [s (seq coll)]\n     (recur (next s))))\n  ([n coll]\n   (when (and (seq coll) (pos? n))\n     (recur (dec n) (next coll)))))\n\n(defn doall\n  \"When lazy sequences are produced via functions that have side\n  effects, any effects other than those needed to produce the first\n  element in the seq do not occur until the seq is consumed. doall can\n  be used to force any effects. Walks through the successive nexts of\n  the seq, retains the head and returns it, thus causing the entire\n  seq to reside in memory at one time.\"\n  ([coll]\n   (dorun coll)\n   coll)\n  ([n coll]\n   (dorun n coll)\n   coll))\n\n;;;;;;;;;;;;;;;;;;;;;;;;; Regular Expressions ;;;;;;;;;;\n\n(defn regexp?\n  \"Returns true if x is a JavaScript RegExp instance.\"\n  [x]\n  (instance? js\/RegExp x))\n\n(defn re-matches\n  \"Returns the result of (re-find re s) if re fully matches s.\"\n  [re s]\n  (if (string? s)\n    (let [matches (.exec re s)]\n      (when (and (not (nil? matches))\n                 (= (aget matches 0) s))\n        (if (== (count ^array matches) 1)\n          (aget matches 0)\n          (vec matches))))\n    (throw (js\/TypeError. \"re-matches must match against a string.\"))))\n\n\n(defn re-find\n  \"Returns the first regex match, if any, of s to re, using\n  re.exec(s). Returns a vector, containing first the matching\n  substring, then any capturing groups if the regular expression contains\n  capturing groups.\"\n  [re s]\n  (if (string? s)\n    (let [matches (.exec re s)]\n      (when-not (nil? matches)\n        (if (== (count ^array matches) 1)\n          (aget matches 0)\n          (vec matches))))\n    (throw (js\/TypeError. \"re-find must match against a string.\"))))\n\n(defn- re-seq* [re s]\n  (when-some [matches (.exec re s)]\n    (let [match-str (aget matches 0)\n          match-vals (if (== (.-length matches) 1)\n                       match-str\n                       (vec matches))]\n      (cons match-vals\n            (lazy-seq\n             (let [post-idx (+ (.-index matches)\n                               (max 1 (.-length match-str)))]\n               (when (<= post-idx (.-length s))\n                 (re-seq* re (subs s post-idx)))))))))\n\n(defn re-seq\n  \"Returns a lazy sequence of successive matches of re in s.\"\n  [re s]\n  (if (string? s)\n    (re-seq* re s)\n    (throw (js\/TypeError. \"re-seq must match against a string.\"))))\n\n(defn re-pattern\n  \"Returns an instance of RegExp which has compiled the provided string.\"\n  [s]\n  (if (instance? js\/RegExp s)\n    s\n    (let [[prefix flags] (re-find #\"^\\(\\?([idmsux]*)\\)\" s)\n          pattern (subs s (if (nil? prefix)\n                            0\n                            (count ^string prefix)))]\n      (js\/RegExp. pattern (or flags \"\")))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Printing ;;;;;;;;;;;;;;;;\n\n(defn pr-sequential-writer [writer print-one begin sep end opts coll]\n  (binding [*print-level* (when-not (nil? *print-level*) (dec *print-level*))]\n    (if (and (not (nil? *print-level*)) (neg? *print-level*))\n      (-write writer \"#\")\n      (do\n        (-write writer begin)\n        (if (zero? (:print-length opts))\n          (when (seq coll)\n            (-write writer (or (:more-marker opts) \"...\")))\n          (do\n            (when (seq coll)\n              (print-one (first coll) writer opts))\n            (loop [coll (next coll) n (dec (:print-length opts))]\n              (if (and coll (or (nil? n) (not (zero? n))))\n                (do\n                  (-write writer sep)\n                  (print-one (first coll) writer opts)\n                  (recur (next coll) (dec n)))\n                (when (and (seq coll) (zero? n))\n                  (-write writer sep)\n                  (-write writer (or (:more-marker opts) \"...\")))))))\n        (-write writer end)))))\n\n(defn write-all [writer & ss]\n  (doseq [s ss]\n    (-write writer s)))\n\n(defn string-print [x]\n  (when (nil? *print-fn*)\n    (throw (js\/Error. \"No *print-fn* fn set for evaluation environment\")))\n  (*print-fn* x)\n  nil)\n\n(defn flush [] ;stub\n  nil)\n\n(def ^:private char-escapes\n  (js-obj\n    \"\\\"\" \"\\\\\\\"\"\n    \"\\\\\" \"\\\\\\\\\"\n    \"\\b\" \"\\\\b\"\n    \"\\f\" \"\\\\f\"\n    \"\\n\" \"\\\\n\"\n    \"\\r\" \"\\\\r\"\n    \"\\t\" \"\\\\t\"))\n\n(defn ^:private quote-string\n  [s]\n  (str \\\"\n       (.replace s (js\/RegExp \"[\\\\\\\\\\\"\\b\\f\\n\\r\\t]\" \"g\")\n         (fn [match] (unchecked-get char-escapes match)))\n       \\\"))\n\n(declare print-map)\n\n(defn print-meta? [opts obj]\n  (and (boolean (get opts :meta))\n       (implements? IMeta obj)\n       (not (nil? (meta obj)))))\n\n(defn- pr-writer-impl\n  [obj writer opts]\n  (cond\n    (nil? obj) (-write writer \"nil\")\n    :else\n    (do\n      (when (print-meta? opts obj)\n        (-write writer \"^\")\n        (pr-writer (meta obj) writer opts)\n        (-write writer \" \"))\n      (cond\n        ;; handle CLJS ctors\n        ^boolean (.-cljs$lang$type obj)\n        (.cljs$lang$ctorPrWriter obj obj writer opts)\n\n        ; Use the new, more efficient, IPrintWithWriter interface when possible.\n        (satisfies? IPrintWithWriter obj)\n        (-pr-writer obj writer opts)\n\n        (or (true? obj) (false? obj))\n        (-write writer (str obj))\n\n        (number? obj)\n        (-write writer\n          (cond\n            ^boolean (js\/isNaN obj) \"##NaN\"\n            (identical? obj js\/Number.POSITIVE_INFINITY) \"##Inf\"\n            (identical? obj js\/Number.NEGATIVE_INFINITY) \"##-Inf\"\n            :else (str obj)))\n\n        (object? obj)\n        (do\n          (-write writer \"#js \")\n          (print-map\n            (map (fn [k]\n                   (MapEntry. (cond-> k (some? (re-matches #\"[A-Za-z_\\*\\+\\?!\\-'][\\w\\*\\+\\?!\\-']*\" k)) keyword) (unchecked-get obj k) nil))\n              (js-keys obj))\n            pr-writer writer opts))\n\n        (array? obj)\n        (pr-sequential-writer writer pr-writer \"#js [\" \" \" \"]\" opts obj)\n\n        (string? obj)\n        (if (:readably opts)\n          (-write writer (quote-string obj))\n          (-write writer obj))\n\n        (js-fn? obj)\n        (let [name (.-name obj)\n              name (if (or (nil? name) (gstring\/isEmpty name))\n                     \"Function\"\n                     name)]\n          (write-all writer \"#object[\" name\n            (if *print-fn-bodies*\n              (str \" \\\"\" (str obj) \"\\\"\")\n              \"\")\n            \"]\"))\n\n        (instance? js\/Date obj)\n        (let [normalize (fn [n len]\n                          (loop [ns (str n)]\n                            (if (< (count ns) len)\n                              (recur (str \"0\" ns))\n                              ns)))]\n          (write-all writer\n            \"#inst \\\"\"\n            (normalize (.getUTCFullYear obj) 4)     \"-\"\n            (normalize (inc (.getUTCMonth obj)) 2)  \"-\"\n            (normalize (.getUTCDate obj) 2)         \"T\"\n            (normalize (.getUTCHours obj) 2)        \":\"\n            (normalize (.getUTCMinutes obj) 2)      \":\"\n            (normalize (.getUTCSeconds obj) 2)      \".\"\n            (normalize (.getUTCMilliseconds obj) 3) \"-\"\n            \"00:00\\\"\"))\n\n        (regexp? obj) (write-all writer \"#\\\"\" (.-source obj) \"\\\"\")\n\n        (js-symbol? obj) (write-all writer \"#object[\" (.toString obj) \"]\" )\n\n        :else\n        (if (some-> obj .-constructor .-cljs$lang$ctorStr)\n          (write-all writer\n            \"#object[\" (.replace (.. obj -constructor -cljs$lang$ctorStr)\n                         (js\/RegExp. \"\/\" \"g\") \".\") \"]\")\n          (let [name (some-> obj .-constructor .-name)\n                name (if (or (nil? name) (gstring\/isEmpty name))\n                       \"Object\"\n                       name)]\n            (if (nil? (. obj -constructor))\n              (write-all writer \"#object[\" name \"]\")\n              (write-all writer \"#object[\" name \" \" (str obj) \"]\"))))))))\n\n(defn- pr-writer\n  \"Prefer this to pr-seq, because it makes the printing function\n   configurable, allowing efficient implementations such as appending\n   to a StringBuffer.\"\n  [obj writer opts]\n  (if-let [alt-impl (:alt-impl opts)]\n    (alt-impl obj writer (assoc opts :fallback-impl pr-writer-impl))\n    (pr-writer-impl obj writer opts)))\n\n(defn pr-seq-writer [objs writer opts]\n  (pr-writer (first objs) writer opts)\n  (doseq [obj (next objs)]\n    (-write writer \" \")\n    (pr-writer obj writer opts)))\n\n(defn- pr-sb-with-opts [objs opts]\n  (let [sb (StringBuffer.)\n        writer (StringBufferWriter. sb)]\n    (pr-seq-writer objs writer opts)\n    (-flush writer)\n    sb))\n\n(defn pr-str-with-opts\n  \"Prints a sequence of objects to a string, observing all the\n  options given in opts\"\n  [objs opts]\n  (if (empty? objs)\n    \"\"\n    (str (pr-sb-with-opts objs opts))))\n\n(defn prn-str-with-opts\n  \"Same as pr-str-with-opts followed by (newline)\"\n  [objs opts]\n  (if (empty? objs)\n    \"\\n\"\n    (let [sb (pr-sb-with-opts objs opts)]\n      (.append sb \\newline)\n      (str sb))))\n\n(defn- pr-with-opts\n  \"Prints a sequence of objects using string-print, observing all\n  the options given in opts\"\n  [objs opts]\n  (string-print (pr-str-with-opts objs opts)))\n\n(defn newline\n  \"Prints a newline using *print-fn*\"\n  ([] (newline nil))\n  ([opts]\n   (string-print \"\\n\")\n   (when (get opts :flush-on-newline)\n     (flush))))\n\n(defn pr-str\n  \"pr to a string, returning it. Fundamental entrypoint to IPrintWithWriter.\"\n  [& objs]\n  (pr-str-with-opts objs (pr-opts)))\n\n(defn prn-str\n  \"Same as pr-str followed by (newline)\"\n  [& objs]\n  (prn-str-with-opts objs (pr-opts)))\n\n(defn pr\n  \"Prints the object(s) using string-print.  Prints the\n  object(s), separated by spaces if there is more than one.\n  By default, pr and prn print in a way that objects can be\n  read by the reader\"\n  [& objs]\n  (pr-with-opts objs (pr-opts)))\n\n(def ^{:doc\n  \"Prints the object(s) using string-print.\n  print and println produce output for human consumption.\"}\n  print\n  (fn cljs-core-print [& objs]\n    (pr-with-opts objs (assoc (pr-opts) :readably false))))\n\n(defn print-str\n  \"print to a string, returning it\"\n  [& objs]\n  (pr-str-with-opts objs (assoc (pr-opts) :readably false)))\n\n(defn println\n  \"Same as print followed by (newline)\"\n  [& objs]\n  (pr-with-opts objs (assoc (pr-opts) :readably false))\n  (when *print-newline*\n    (newline (pr-opts))))\n\n(defn println-str\n  \"println to a string, returning it\"\n  [& objs]\n  (prn-str-with-opts objs (assoc (pr-opts) :readably false)))\n\n(defn prn\n  \"Same as pr followed by (newline).\"\n  [& objs]\n  (pr-with-opts objs (pr-opts))\n  (when *print-newline*\n    (newline (pr-opts))))\n\n(defn- strip-ns\n  [named]\n  (if (symbol? named)\n    (symbol nil (name named))\n    (keyword nil (name named))))\n\n(defn- lift-ns\n  \"Returns [lifted-ns lifted-map] or nil if m can't be lifted.\"\n  [m]\n  (when *print-namespace-maps*\n    (loop [ns nil\n           [[k v :as entry] & entries] (seq m)\n           lm (empty m)]\n      (if entry\n        (when (or (keyword? k) (symbol? k))\n          (if ns\n            (when (= ns (namespace k))\n              (recur ns entries (assoc lm (strip-ns k) v)))\n            (when-let [new-ns (namespace k)]\n              (recur new-ns entries (assoc lm (strip-ns k) v)))))\n        [ns lm]))))\n\n(defn print-prefix-map [prefix m print-one writer opts]\n  (pr-sequential-writer\n    writer\n    (fn [e w opts]\n      (do (print-one (key e) w opts)\n          (-write w \\space)\n          (print-one (val e) w opts)))\n    (str prefix \"{\") \", \" \"}\"\n    opts (seq m)))\n\n(defn print-map [m print-one writer opts]\n  (let [[ns lift-map] (when (map? m)\n                        (lift-ns m))]\n    (if ns\n      (print-prefix-map (str \"#:\" ns) lift-map print-one writer opts)\n      (print-prefix-map nil m print-one writer opts))))\n\n(extend-protocol IPrintWithWriter\n  LazySeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  TransformerIterator\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  IndexedSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  RSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentQueue\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#queue [\" \" \" \"]\" opts (seq coll)))\n\n  PersistentQueueSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentTreeMapSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  NodeSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ArrayNodeSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  List\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Cons\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  EmptyList\n  (-pr-writer [coll writer opts] (-write writer \"()\"))\n\n  PersistentVector\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  ChunkedCons\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ChunkedSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Subvec\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  BlackNode\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  RedNode\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  MapEntry\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"[\" \" \" \"]\" opts coll))\n\n  ObjMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  KeySeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ValSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentArrayMapSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  PersistentArrayMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentHashMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentTreeMap\n  (-pr-writer [coll writer opts]\n    (print-map coll pr-writer writer opts))\n\n  PersistentHashSet\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#{\" \" \" \"}\" opts coll))\n\n  PersistentTreeSet\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"#{\" \" \" \"}\" opts coll))\n\n  Range\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  IntegerRange\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Cycle\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Repeat\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Iterate\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  ES6IteratorSeq\n  (-pr-writer [coll writer opts] (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll))\n\n  Atom\n  (-pr-writer [a writer opts]\n    (-write writer \"#object[cljs.core.Atom \")\n    (pr-writer {:val (.-state a)} writer opts)\n    (-write writer \"]\"))\n\n  Volatile\n  (-pr-writer [a writer opts]\n    (-write writer \"#object[cljs.core.Volatile \")\n    (pr-writer {:val (.-state a)} writer opts)\n    (-write writer \"]\"))\n\n  Var\n  (-pr-writer [a writer opts]\n    (-write writer \"#'\")\n    (pr-writer (.-sym a) writer opts)))\n\n;; IComparable\n(extend-protocol IComparable\n  Symbol\n  (-compare [x y]\n    (if (symbol? y)\n      (compare-symbols x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  Keyword\n  (-compare [x y]\n    (if (keyword? y)\n      (compare-keywords x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  Subvec\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  PersistentVector\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  MapEntry\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  BlackNode\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y)))))\n\n  RedNode\n  (-compare [x y]\n    (if (vector? y)\n      (compare-indexed x y)\n      (throw (js\/Error. (str \"Cannot compare \" x \" to \" y))))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Reference Types ;;;;;;;;;;;;;;;;\n\n(defn alter-meta!\n  \"Atomically sets the metadata for a namespace\/var\/ref\/agent\/atom to be:\n\n  (apply f its-current-meta args)\n\n  f must be free of side-effects\"\n  [iref f & args]\n  (set! (.-meta iref) (apply f (.-meta iref) args)))\n\n(defn reset-meta!\n  \"Atomically resets the metadata for an atom\"\n  [iref m]\n  (set! (.-meta iref) m))\n\n(defn add-watch\n  \"Adds a watch function to an atom reference. The watch fn must be a\n  fn of 4 args: a key, the reference, its old-state, its\n  new-state. Whenever the reference's state might have been changed,\n  any registered watches will have their functions called. The watch\n  fn will be called synchronously. Note that an atom's state\n  may have changed again prior to the fn call, so use old\/new-state\n  rather than derefing the reference. Keys must be unique per\n  reference, and can be used to remove the watch with remove-watch,\n  but are otherwise considered opaque by the watch mechanism.  Bear in\n  mind that regardless of the result or action of the watch fns the\n  atom's value will change.  Example:\n\n      (def a (atom 0))\n      (add-watch a :inc (fn [k r o n] (assert (== 0 n))))\n      (swap! a inc)\n      ;; Assertion Error\n      (deref a)\n      ;=> 1\"\n  [iref key f]\n  (-add-watch iref key f)\n  iref)\n\n(defn remove-watch\n  \"Removes a watch (set by add-watch) from a reference\"\n  [iref key]\n  (-remove-watch iref key)\n  iref)\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; gensym ;;;;;;;;;;;;;;;;\n;; Internal - do not use!\n(def\n  ^{:jsdoc [\"@type {*}\"]}\n  gensym_counter nil)\n\n(defn gensym\n  \"Returns a new symbol with a unique name. If a prefix string is\n  supplied, the name is prefix# where # is some unique number. If\n  prefix is not supplied, the prefix is 'G__'.\"\n  ([] (gensym \"G__\"))\n  ([prefix-string]\n     (when (nil? gensym_counter)\n       (set! gensym_counter (atom 0)))\n     (symbol (str prefix-string (swap! gensym_counter inc)))))\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Delay ;;;;;;;;;;;;;;;;;;;;\n\n(deftype Delay [^:mutable f ^:mutable value]\n  IDeref\n  (-deref [_]\n    (when f\n      (set! value (f))\n      (set! f nil))\n    value)\n\n  IPending\n  (-realized? [x]\n    (not f))\n\n  IPrintWithWriter\n  (-pr-writer [x writer opts]\n    (-write writer \"#object[cljs.core.Delay \")\n    (pr-writer {:status (if (nil? f) :ready :pending), :val value} writer opts)\n    (-write writer \"]\")))\n\n(defn delay?\n  \"returns true if x is a Delay created with delay\"\n  [x] (instance? Delay x))\n\n(defn force\n  \"If x is a Delay, returns the (possibly cached) value of its expression, else returns x\"\n  [x]\n  (if (delay? x)\n    (deref x)\n    x))\n\n(defn ^boolean realized?\n  \"Returns true if a value has been produced for a delay or lazy sequence.\"\n  [x]\n  (-realized? x))\n\n(defn- preserving-reduced\n  [rf]\n  #(let [ret (rf %1 %2)]\n     (if (reduced? ret)\n       (reduced ret)\n       ret)))\n\n(defn cat\n  \"A transducer which concatenates the contents of each input, which must be a\n  collection, into the reduction.\"\n  {:added \"1.7\"}\n  [rf]\n  (let [rf1 (preserving-reduced rf)]\n    (fn\n      ([] (rf))\n      ([result] (rf result))\n      ([result input]\n         (reduce rf1 result input)))))\n\n(defn halt-when\n  \"Returns a transducer that ends transduction when pred returns true\n  for an input. When retf is supplied it must be a fn of 2 arguments -\n  it will be passed the (completed) result so far and the input that\n  triggered the predicate, and its return value (if it does not throw\n  an exception) will be the return value of the transducer. If retf\n  is not supplied, the input that triggered the predicate will be\n  returned. If the predicate never returns true the transduction is\n  unaffected.\"\n  {:added \"1.9\"}\n  ([pred] (halt-when pred nil))\n  ([pred retf]\n     (fn [rf]\n       (fn\n         ([] (rf))\n         ([result]\n            (if (and (map? result) (contains? result ::halt))\n              (::halt result)\n              (rf result)))\n         ([result input]\n            (if (pred input)\n              (reduced {::halt (if retf (retf (rf result) input) input)})\n              (rf result input)))))))\n\n(defn dedupe\n  \"Returns a lazy sequence removing consecutive duplicates in coll.\n  Returns a transducer when no collection is provided.\"\n  ([]\n   (fn [rf]\n     (let [pa (volatile! ::none)]\n       (fn\n         ([] (rf))\n         ([result] (rf result))\n         ([result input]\n            (let [prior @pa]\n              (vreset! pa input)\n              (if (= prior input)\n                result\n                (rf result input))))))))\n  ([coll] (sequence (dedupe) coll)))\n\n(declare rand)\n\n(defn random-sample\n  \"Returns items from coll with random probability of prob (0.0 -\n  1.0).  Returns a transducer when no collection is provided.\"\n  ([prob]\n     (filter (fn [_] (< (rand) prob))))\n  ([prob coll]\n     (filter (fn [_] (< (rand) prob)) coll)))\n\n(deftype Eduction [xform coll]\n  Object\n  (indexOf [coll x]\n    (-indexOf coll x 0))\n  (indexOf [coll x start]\n    (-indexOf coll x start))\n  (lastIndexOf [coll x]\n    (-lastIndexOf coll x (count coll)))\n  (lastIndexOf [coll x start]\n    (-lastIndexOf coll x start))\n\n  ISequential\n\n  IIterable\n  (-iterator [_]\n    (.create TransformerIterator xform (iter coll)))\n\n  ISeqable\n  (-seq [_] (seq (sequence xform coll)))\n\n  IReduce\n  (-reduce [_ f] (transduce xform (completing f) coll))\n  (-reduce [_ f init] (transduce xform (completing f) init coll))\n\n  IPrintWithWriter\n  (-pr-writer [coll writer opts]\n    (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts coll)))\n\n(es6-iterable Eduction)\n\n(defn eduction\n  \"Returns a reducible\/iterable application of the transducers\n  to the items in coll. Transducers are applied in order as if\n  combined with comp. Note that these applications will be\n  performed every time reduce\/iterator is called.\"\n  {:arglists '([xform* coll])}\n  [& xforms]\n  (Eduction. (apply comp (butlast xforms)) (last xforms)))\n\n(defn run!\n  \"Runs the supplied procedure (via reduce), for purposes of side\n  effects, on successive items in the collection. Returns nil\"\n  [proc coll]\n  (reduce #(proc %2) nil coll)\n  nil)\n\n(defn iteration\n  \"Creates a seqable\/reducible via repeated calls to step,\n  a function of some (continuation token) 'k'. The first call to step\n  will be passed initk, returning 'ret'. Iff (somef ret) is true,\n  (vf ret) will be included in the iteration, else iteration will\n  terminate and vf\/kf will not be called. If (kf ret) is non-nil it\n  will be passed to the next step call, else iteration will terminate.\n  This can be used e.g. to consume APIs that return paginated or batched data.\n   step - (possibly impure) fn of 'k' -> 'ret'\n   :somef - fn of 'ret' -> logical true\/false, default 'some?'\n   :vf - fn of 'ret' -> 'v', a value produced by the iteration, default 'identity'\n   :kf - fn of 'ret' -> 'next-k' or nil (signaling 'do not continue'), default 'identity'\n   :initk - the first value passed to step, default 'nil'\n  It is presumed that step with non-initk is unreproducible\/non-idempotent.\n  If step with initk is unreproducible it is on the consumer to not consume twice.\"\n  {:added \"1.11\"}\n  [step & {:keys [somef vf kf initk]\n           :or {vf identity\n                kf identity\n                somef some?\n                initk nil}}]\n  (reify\n    ISeqable\n    (-seq [_]\n      ((fn next [ret]\n         (when (somef ret)\n           (cons (vf ret)\n             (when-some [k (kf ret)]\n               (lazy-seq (next (step k)))))))\n       (step initk)))\n    IReduce\n    (-reduce [_ rf init]\n      (loop [acc init\n             ret (step initk)]\n        (if (somef ret)\n          (let [acc (rf acc (vf ret))]\n            (if (reduced? acc)\n              @acc\n              (if-some [k (kf ret)]\n                (recur acc (step k))\n                acc)))\n          acc)))))\n\n(defprotocol IEncodeJS\n  (-clj->js [x] \"Recursively transforms clj values to JavaScript\")\n  (-key->js [x] \"Transforms map keys to valid JavaScript keys. Arbitrary keys are\n  encoded to their string representation via (pr-str x)\"))\n\n(declare clj->js)\n\n(defn key->js\n  ([k] (key->js k clj->js))\n  ([k primitive-fn]\n   (cond\n     (satisfies? IEncodeJS k) (-clj->js k)\n     (or (string? k)\n         (number? k)\n         (keyword? k)\n         (symbol? k)) (primitive-fn k)\n     :default (pr-str k))))\n\n(defn clj->js\n  \"Recursively transforms ClojureScript values to JavaScript.\n  sets\/vectors\/lists become Arrays, Keywords and Symbol become Strings,\n  Maps become Objects. Arbitrary keys are encoded to by `key->js`.\n  Options is a key-value pair, where the only valid key is\n  :keyword-fn, which should point to a single-argument function to be\n  called on keyword keys. Default to `name`.\"\n  [x & {:keys [keyword-fn]\n        :or   {keyword-fn name}\n        :as options}]\n  (letfn [(keyfn [k] (key->js k thisfn))\n          (thisfn [x] (cond\n                        (nil? x) nil\n                        (satisfies? IEncodeJS x) (-clj->js x)\n                        (keyword? x) (keyword-fn x)\n                        (symbol? x) (str x)\n                        (map? x) (let [m (js-obj)]\n                                   (doseq [[k v] x]\n                                     (gobject\/set m (keyfn k) (thisfn v)))\n                                   m)\n                        (coll? x) (let [arr (array)]\n                                    (doseq [x (map thisfn x)]\n                                      (.push arr x))\n                                    arr)\n                        :else x))]\n    (thisfn x)))\n\n\n(defprotocol IEncodeClojure\n  (-js->clj [x options] \"Transforms JavaScript values to Clojure\"))\n\n(defn js->clj\n  \"Recursively transforms JavaScript arrays into ClojureScript\n  vectors, and JavaScript objects into ClojureScript maps.  With\n  option ':keywordize-keys true' will convert object fields from\n  strings to keywords.\"\n  ([x] (js->clj x :keywordize-keys false))\n  ([x & opts]\n    (let [{:keys [keywordize-keys]} opts\n          keyfn (if keywordize-keys keyword str)\n          f (fn thisfn [x]\n              (cond\n                (satisfies? IEncodeClojure x)\n                (-js->clj x (apply array-map opts))\n\n                (seq? x)\n                (doall (map thisfn x))\n\n                (map-entry? x)\n                (MapEntry. (thisfn (key x)) (thisfn (val x)) nil)\n\n                (coll? x)\n                (into (empty x) (map thisfn) x)\n\n                (array? x)\n                (persistent!\n                 (reduce #(conj! %1 (thisfn %2))\n                         (transient []) x))\n\n                (identical? (type x) js\/Object)\n                (persistent!\n                 (reduce (fn [r k] (assoc! r (keyfn k) (thisfn (gobject\/get x k))))\n                         (transient {}) (js-keys x)))\n                :else x))]\n      (f x))))\n\n(defn memoize\n  \"Returns a memoized version of a referentially transparent function. The\n  memoized version of the function keeps a cache of the mapping from arguments\n  to results and, when calls with the same arguments are repeated often, has\n  higher performance at the expense of higher memory use.\"\n  [f]\n  (let [mem (atom {})]\n    (fn [& args]\n      (let [v (get @mem args lookup-sentinel)]\n        (if (identical? v lookup-sentinel)\n          (let [ret (apply f args)]\n            (swap! mem assoc args ret)\n            ret)\n          v)))))\n\n(defn trampoline\n  \"trampoline can be used to convert algorithms requiring mutual\n  recursion without stack consumption. Calls f with supplied args, if\n  any. If f returns a fn, calls that fn with no arguments, and\n  continues to repeat, until the return value is not a fn, then\n  returns that non-fn value. Note that if you want to return a fn as a\n  final value, you must wrap it in some data structure and unpack it\n  after trampoline returns.\"\n  ([f]\n     (let [ret (f)]\n       (if (fn? ret)\n         (recur ret)\n         ret)))\n  ([f & args]\n     (trampoline #(apply f args))))\n\n(defn rand\n  \"Returns a random floating point number between 0 (inclusive) and\n  n (default 1) (exclusive).\"\n  ([] (rand 1))\n  ([n] (* (Math\/random) n)))\n\n(defn rand-int\n  \"Returns a random integer between 0 (inclusive) and n (exclusive).\"\n  [n] (Math\/floor (* (Math\/random) n)))\n\n(defn rand-nth\n  \"Return a random element of the (sequential) collection. Will have\n  the same performance characteristics as nth for the given\n  collection.\"\n  [coll]\n  (nth coll (rand-int (count coll))))\n\n(defn group-by\n  \"Returns a map of the elements of coll keyed by the result of\n  f on each element. The value at each key will be a vector of the\n  corresponding elements, in the order they appeared in coll.\"\n  [f coll]\n  (persistent!\n    (reduce\n      (fn [ret x]\n        (let [k (f x)]\n          (assoc! ret k (conj (get ret k []) x))))\n      (transient {}) coll)))\n\n(defn make-hierarchy\n  \"Creates a hierarchy object for use with derive, isa? etc.\"\n  [] {:parents {} :descendants {} :ancestors {}})\n\n(def\n  ^{:private true\n    :jsdoc [\"@type {*}\"]}\n  -global-hierarchy nil)\n\n(defn- get-global-hierarchy []\n  (when (nil? -global-hierarchy)\n    (set! -global-hierarchy (atom (make-hierarchy))))\n  -global-hierarchy)\n\n(defn- swap-global-hierarchy! [f & args]\n  (apply swap! (get-global-hierarchy) f args))\n\n(defn ^boolean isa?\n  \"Returns true if (= child parent), or child is directly or indirectly derived from\n  parent, either via a JavaScript type inheritance relationship or a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy\"\n  ([child parent] (isa? @(get-global-hierarchy) child parent))\n  ([h child parent]\n     (or (= child parent)\n         ;; (and (class? parent) (class? child)\n         ;;    (. ^Class parent isAssignableFrom child))\n         (contains? ((:ancestors h) child) parent)\n         ;;(and (class? child) (some #(contains? ((:ancestors h) %) parent) (supers child)))\n         (and (vector? parent) (vector? child)\n              (== (count parent) (count child))\n              (loop [ret true i 0]\n                (if (or (not ret) (== i (count parent)))\n                  ret\n                  (recur (isa? h (child i) (parent i)) (inc i))))))))\n\n(defn parents\n  \"Returns the immediate parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy\"\n  ([tag] (parents @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:parents h) tag))))\n\n(defn ancestors\n  \"Returns the immediate and indirect parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy\"\n  ([tag] (ancestors @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:ancestors h) tag))))\n\n(defn descendants\n  \"Returns the immediate and indirect children of tag, through a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy. Note: does not work on JavaScript type inheritance\n  relationships.\"\n  ([tag] (descendants @(get-global-hierarchy) tag))\n  ([h tag] (not-empty (get (:descendants h) tag))))\n\n(defn derive\n  \"Establishes a parent\/child relationship between parent and\n  tag. Parent must be a namespace-qualified symbol or keyword and\n  child can be either a namespace-qualified symbol or keyword or a\n  class. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.\"\n  ([tag parent]\n   (assert (namespace parent))\n   ;; (assert (or (class? tag) (and (instance? cljs.core.Named tag) (namespace tag))))\n   (swap-global-hierarchy! derive tag parent) nil)\n  ([h tag parent]\n   (assert (not= tag parent))\n   ;; (assert (or (class? tag) (instance? clojure.lang.Named tag)))\n   ;; (assert (instance? clojure.lang.INamed tag))\n   ;; (assert (instance? clojure.lang.INamed parent))\n   (let [tp (:parents h)\n         td (:descendants h)\n         ta (:ancestors h)\n         tf (fn [m source sources target targets]\n              (reduce (fn [ret k]\n                        (assoc ret k\n                               (reduce conj (get targets k #{}) (cons target (targets target)))))\n                      m (cons source (sources source))))]\n     (or\n      (when-not (contains? (tp tag) parent)\n        (when (contains? (ta tag) parent)\n          (throw (js\/Error. (str tag \"already has\" parent \"as ancestor\"))))\n        (when (contains? (ta parent) tag)\n          (throw (js\/Error. (str \"Cyclic derivation:\" parent \"has\" tag \"as ancestor\"))))\n        {:parents (assoc (:parents h) tag (conj (get tp tag #{}) parent))\n         :ancestors (tf (:ancestors h) tag td parent ta)\n         :descendants (tf (:descendants h) parent ta tag td)})\n      h))))\n\n(defn underive\n  \"Removes a parent\/child relationship between parent and\n  tag. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.\"\n  ([tag parent]\n    (swap-global-hierarchy! underive tag parent)\n    nil)\n  ([h tag parent]\n    (let [parentMap (:parents h)\n          childsParents (if (parentMap tag)\n                          (disj (parentMap tag) parent) #{})\n          newParents (if (not-empty childsParents)\n                      (assoc parentMap tag childsParents)\n                      (dissoc parentMap tag))\n          deriv-seq (flatten (map #(cons (first %) (interpose (first %) (second %)))\n                                  (seq newParents)))]\n      (if (contains? (parentMap tag) parent)\n        (reduce #(apply derive %1 %2) (make-hierarchy)\n                (partition 2 deriv-seq))\n        h))))\n\n(defn- reset-cache\n  [method-cache method-table cached-hierarchy hierarchy]\n  (swap! method-cache (fn [_] (deref method-table)))\n  (swap! cached-hierarchy (fn [_] (deref hierarchy))))\n\n(defn- prefers*\n  [x y prefer-table]\n  (let [xprefs (@prefer-table x)]\n    (or\n     (when (and xprefs (xprefs y))\n       true)\n     (loop [ps (parents y)]\n       (when (pos? (count ps))\n         (when (prefers* x (first ps) prefer-table)\n           true)\n         (recur (rest ps))))\n     (loop [ps (parents x)]\n       (when (pos? (count ps))\n         (when (prefers* (first ps) y prefer-table)\n           true)\n         (recur (rest ps))))\n     false)))\n\n(defn- dominates\n  [x y prefer-table hierarchy]\n  (or (prefers* x y prefer-table) (isa? hierarchy x y)))\n\n(defn- find-and-cache-best-method\n  [name dispatch-val hierarchy method-table prefer-table method-cache cached-hierarchy default-dispatch-val]\n  (let [best-entry (reduce (fn [be [k _ :as e]]\n                             (if (isa? @hierarchy dispatch-val k)\n                               (let [be2 (if (or (nil? be) (dominates k (first be) prefer-table @hierarchy))\n                                           e\n                                           be)]\n                                 (when-not (dominates (first be2) k prefer-table @hierarchy)\n                                   (throw (js\/Error.\n                                            (str \"Multiple methods in multimethod '\" name\n                                              \"' match dispatch value: \" dispatch-val \" -> \" k\n                                              \" and \" (first be2) \", and neither is preferred\"))))\n                                 be2)\n                               be))\n                     nil @method-table)\n        best-entry (if-let [entry (and (nil? best-entry) (@method-table default-dispatch-val))]\n                     [default-dispatch-val entry]\n                     best-entry)]\n    (when best-entry\n      (if (= @cached-hierarchy @hierarchy)\n        (do\n          (swap! method-cache assoc dispatch-val (second best-entry))\n          (second best-entry))\n        (do\n          (reset-cache method-cache method-table cached-hierarchy hierarchy)\n          (find-and-cache-best-method name dispatch-val hierarchy method-table prefer-table\n            method-cache cached-hierarchy default-dispatch-val))))))\n\n(defprotocol IMultiFn\n  (-reset [mf])\n  (-add-method [mf dispatch-val method])\n  (-remove-method [mf dispatch-val])\n  (-prefer-method [mf dispatch-val dispatch-val-y])\n  (-get-method [mf dispatch-val])\n  (-methods [mf])\n  (-prefers [mf])\n  (-default-dispatch-val [mf])\n  (-dispatch-fn [mf]))\n\n(defn- throw-no-method-error [name dispatch-val]\n  (throw (js\/Error. (str \"No method in multimethod '\" name \"' for dispatch value: \" dispatch-val))))\n\n(deftype MultiFn [name dispatch-fn default-dispatch-val hierarchy\n                  method-table prefer-table method-cache cached-hierarchy]\n  IFn\n  (-invoke [mf]\n    (let [dispatch-val (dispatch-fn)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn)))\n  (-invoke [mf a]\n    (let [dispatch-val (dispatch-fn a)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a)))\n  (-invoke [mf a b]\n    (let [dispatch-val (dispatch-fn a b)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b)))\n  (-invoke [mf a b c]\n    (let [dispatch-val (dispatch-fn a b c)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c)))\n  (-invoke [mf a b c d]\n    (let [dispatch-val (dispatch-fn a b c d)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d)))\n  (-invoke [mf a b c d e]\n    (let [dispatch-val (dispatch-fn a b c d e)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e)))\n  (-invoke [mf a b c d e f]\n    (let [dispatch-val (dispatch-fn a b c d e f)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f)))\n  (-invoke [mf a b c d e f g]\n    (let [dispatch-val (dispatch-fn a b c d e f g)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g)))\n  (-invoke [mf a b c d e f g h]\n    (let [dispatch-val (dispatch-fn a b c d e f g h)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h)))\n  (-invoke [mf a b c d e f g h i]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i)))\n  (-invoke [mf a b c d e f g h i j]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j)))\n  (-invoke [mf a b c d e f g h i j k]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k)))\n  (-invoke [mf a b c d e f g h i j k l]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l)))\n  (-invoke [mf a b c d e f g h i j k l m]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m)))\n  (-invoke [mf a b c d e f g h i j k l m n]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n)))\n  (-invoke [mf a b c d e f g h i j k l m n o]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o)))\n  (-invoke [mf a b c d e f g h i j k l m n o p]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r s)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r s)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s t]\n    (let [dispatch-val (dispatch-fn a b c d e f g h i j k l m n o p q r s t)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (target-fn a b c d e f g h i j k l m n o p q r s t)))\n  (-invoke [mf a b c d e f g h i j k l m n o p q r s t rest]\n    (let [dispatch-val (apply dispatch-fn a b c d e f g h i j k l m n o p q r s t rest)\n          target-fn (-get-method mf dispatch-val)]\n      (when-not target-fn\n        (throw-no-method-error name dispatch-val))\n      (apply target-fn a b c d e f g h i j k l m n o p q r s t rest)))\n\n  IMultiFn\n  (-reset [mf]\n    (swap! method-table (fn [mf] {}))\n    (swap! method-cache (fn [mf] {}))\n    (swap! prefer-table (fn [mf] {}))\n    (swap! cached-hierarchy (fn [mf] nil))\n    mf)\n\n  (-add-method [mf dispatch-val method]\n    (swap! method-table assoc dispatch-val method)\n    (reset-cache method-cache method-table cached-hierarchy hierarchy)\n    mf)\n\n  (-remove-method [mf dispatch-val]\n    (swap! method-table dissoc dispatch-val)\n    (reset-cache method-cache method-table cached-hierarchy hierarchy)\n    mf)\n\n  (-get-method [mf dispatch-val]\n    (when-not (= @cached-hierarchy @hierarchy)\n      (reset-cache method-cache method-table cached-hierarchy hierarchy))\n    (if-let [target-fn (@method-cache dispatch-val)]\n      target-fn\n      (find-and-cache-best-method name dispatch-val hierarchy method-table\n        prefer-table method-cache cached-hierarchy default-dispatch-val)))\n\n  (-prefer-method [mf dispatch-val-x dispatch-val-y]\n    (when (prefers* dispatch-val-y dispatch-val-x  prefer-table)\n      (throw (js\/Error. (str \"Preference conflict in multimethod '\" name \"': \" dispatch-val-y\n                   \" is already preferred to \" dispatch-val-x))))\n    (swap! prefer-table\n           (fn [old]\n             (assoc old dispatch-val-x\n                    (conj (get old dispatch-val-x #{})\n                          dispatch-val-y))))\n    (reset-cache method-cache method-table cached-hierarchy hierarchy))\n\n  (-methods [mf] @method-table)\n  (-prefers [mf] @prefer-table)\n  (-default-dispatch-val [mf] default-dispatch-val)\n  (-dispatch-fn [mf] dispatch-fn)\n\n  INamed\n  (-name [this] (-name name))\n  (-namespace [this] (-namespace name))\n\n  IHash\n  (-hash [this] (goog\/getUid this)))\n\n(defn remove-all-methods\n  \"Removes all of the methods of multimethod.\"\n [multifn]\n (-reset multifn))\n\n(defn remove-method\n  \"Removes the method of multimethod associated with dispatch-value.\"\n [multifn dispatch-val]\n (-remove-method multifn dispatch-val))\n\n(defn prefer-method\n  \"Causes the multimethod to prefer matches of dispatch-val-x over dispatch-val-y\n   when there is a conflict\"\n  [multifn dispatch-val-x dispatch-val-y]\n  (-prefer-method multifn dispatch-val-x dispatch-val-y))\n\n(defn methods\n  \"Given a multimethod, returns a map of dispatch values -> dispatch fns\"\n  [multifn] (-methods multifn))\n\n(defn get-method\n  \"Given a multimethod and a dispatch value, returns the dispatch fn\n  that would apply to that value, or nil if none apply and no default\"\n  [multifn dispatch-val] (-get-method multifn dispatch-val))\n\n(defn prefers\n  \"Given a multimethod, returns a map of preferred value -> set of other values\"\n  [multifn] (-prefers multifn))\n\n(defn default-dispatch-val\n  \"Given a multimethod, return its default-dispatch-val.\"\n  [multifn] (-default-dispatch-val multifn))\n\n(defn dispatch-fn\n  \"Given a multimethod, return its dispatch-fn.\"\n  [multifn] (-dispatch-fn multifn))\n\n;; UUID\n(defprotocol IUUID \"A marker protocol for UUIDs\")\n\n(deftype UUID [uuid ^:mutable __hash]\n  IUUID\n\n  Object\n  (toString [_] uuid)\n  (equiv [this other]\n    (-equiv this other))\n\n  IEquiv\n  (-equiv [_ other]\n    (and (implements? IUUID other) (identical? uuid (.-uuid other))))\n\n  IPrintWithWriter\n  (-pr-writer [_ writer _]\n    (-write writer (str \"#uuid \\\"\" uuid \"\\\"\")))\n\n  IHash\n  (-hash [this]\n    (when (nil? __hash)\n      (set! __hash (hash uuid)))\n    __hash)\n\n  IComparable\n  (-compare [this other]\n    (if (instance? UUID other)\n      (garray\/defaultCompare uuid (.-uuid other))\n      (throw (js\/Error. (str \"Cannot compare \" this \" to \" other))))))\n\n(defn uuid\n  \"Returns a UUID consistent with the string s.\"\n  [s]\n  (assert (string? s))\n  (UUID. (.toLowerCase s) nil))\n\n(defn random-uuid\n  \"Returns a pseudo-randomly generated UUID instance (i.e. type 4).\"\n  []\n  (letfn [(^string quad-hex []\n            (let [unpadded-hex ^string (.toString (rand-int 65536) 16)]\n              (case (count unpadded-hex)\n                1 (str \"000\" unpadded-hex)\n                2 (str \"00\" unpadded-hex)\n                3 (str \"0\" unpadded-hex)\n                unpadded-hex)))]\n    (let [ver-tripple-hex ^string (.toString (bit-or 0x4000 (bit-and 0x0fff (rand-int 65536))) 16)\n          res-tripple-hex ^string (.toString (bit-or 0x8000 (bit-and 0x3fff (rand-int 65536))) 16)]\n      (uuid\n        (str (quad-hex) (quad-hex) \"-\" (quad-hex) \"-\"\n             ver-tripple-hex \"-\" res-tripple-hex \"-\"\n             (quad-hex) (quad-hex) (quad-hex))))))\n\n(defn uuid?\n  \"Return true if x is a UUID.\"\n  [x] (implements? IUUID x))\n\n;;; ExceptionInfo\n\n(defn- pr-writer-ex-info [obj writer opts]\n  (-write writer \"#error {:message \")\n  (pr-writer (.-message obj) writer opts)\n  (when (.-data obj)\n    (-write writer \", :data \")\n    (pr-writer (.-data obj) writer opts))\n  (when (.-cause obj)\n    (-write writer \", :cause \")\n    (pr-writer (.-cause obj) writer opts))\n  (-write writer \"}\"))\n\n(defn ^{:jsdoc [\"@constructor\"]}\n  ExceptionInfo [message data cause]\n  (let [e (js\/Error. message)]\n    (this-as this\n      (set! (.-message this) message)\n      (set! (.-data this) data)\n      (set! (.-cause this) cause)\n      (do\n        (set! (.-name this) (.-name e))\n        ;; non-standard\n        (set! (.-description this) (.-description e))\n        (set! (.-number this) (.-number e))\n        (set! (.-fileName this) (.-fileName e))\n        (set! (.-lineNumber this) (.-lineNumber e))\n        (set! (.-columnNumber this) (.-columnNumber e))\n        (set! (.-stack this) (.-stack e)))\n      this)))\n\n(set! (.. ExceptionInfo -prototype -__proto__) js\/Error.prototype)\n\n(extend-type ExceptionInfo\n  IPrintWithWriter\n  (-pr-writer [obj writer opts]\n    (pr-writer-ex-info obj writer opts)))\n\n(set! (.. ExceptionInfo -prototype -toString)\n  (fn []\n    (this-as this (pr-str* this))))\n\n(defn ex-info\n  \"Create an instance of ExceptionInfo, an Error type that carries a\n  map of additional data.\"\n  ([msg data] (ex-info msg data nil))\n  ([msg data cause]\n    (ExceptionInfo. msg data cause)))\n\n(defn ex-data\n  \"Returns exception data (a map) if ex is an ExceptionInfo.\n  Otherwise returns nil.\"\n  [ex]\n  (when (instance? ExceptionInfo ex)\n    (.-data ex)))\n\n(defn ex-message\n  \"Returns the message attached to the given Error \/ ExceptionInfo object.\n  For non-Errors returns nil.\"\n  [ex]\n  (when (instance? js\/Error ex)\n    (.-message ex)))\n\n(defn ex-cause\n  \"Returns exception cause (an Error \/ ExceptionInfo) if ex is an\n  ExceptionInfo.\n  Otherwise returns nil.\"\n  [ex]\n  (when (instance? ExceptionInfo ex)\n    (.-cause ex)))\n\n(defn Throwable->map\n  \"Constructs a data representation for an Error with keys:\n    :cause - root cause message\n    :phase - error phase\n    :via - cause chain, with cause keys:\n             :type - exception class symbol\n             :message - exception message\n             :data - ex-data\n             :at - top stack element\n    :trace - root cause stack elements\"\n  [o]\n  (let [base (fn [t]\n               (merge {:type (cond\n                               (instance? ExceptionInfo t) `ExceptionInfo\n                               (instance? js\/Error t) (symbol \"js\" (.-name t))\n                               :else nil)}\n                 (when-let [msg (ex-message t)]\n                   {:message msg})\n                 (when-let [ed (ex-data t)]\n                   {:data ed})\n                 #_(let [st (extract-canonical-stacktrace t)]\n                     (when (pos? (count st))\n                       {:at st}))))\n        via  (loop [via [], t o]\n               (if t\n                 (recur (conj via t) (ex-cause t))\n                 via))\n        root (peek via)]\n    (merge {:via   (vec (map base via))\n            :trace nil #_(extract-canonical-stacktrace (or root o))}\n      (when-let [root-msg (ex-message root)]\n        {:cause root-msg})\n      (when-let [data (ex-data root)]\n        {:data data})\n      (when-let [phase (-> o ex-data :clojure.error\/phase)]\n        {:phase phase}))))\n\n(defn comparator\n  \"Returns an JavaScript compatible comparator based upon pred.\"\n  [pred]\n  (fn [x y]\n    (cond (pred x y) -1 (pred y x) 1 :else 0)))\n\n(defn ^boolean special-symbol?\n  \"Returns true if x names a special form\"\n  [x]\n  (contains?\n    '#{if def fn* do let* loop* letfn* throw try catch finally\n       recur new set! ns deftype* defrecord* . js* & quote case* var ns*}\n    x))\n\n(defn test\n  \"test [v] finds fn at key :test in var metadata and calls it,\n  presuming failure will throw exception\"\n  [v]\n  (let [f (.-cljs$lang$test v)]\n    (if f\n      (do (f) :ok)\n      :no-test)))\n\n\n(deftype TaggedLiteral [tag form]\n  Object\n  (toString [coll]\n    (pr-str* coll))\n\n  IEquiv\n  (-equiv [this other]\n    (and (instance? TaggedLiteral other)\n         (= tag (.-tag other))\n         (= form (.-form other))))\n\n  IHash\n  (-hash [this]\n    (+ (* 31 (hash tag))\n       (hash form)))\n\n  ILookup\n  (-lookup [this v]\n    (-lookup this v nil))\n  (-lookup [this v not-found]\n    (case v\n      :tag tag\n      :form form\n      not-found))\n\n  IPrintWithWriter\n  (-pr-writer [o writer opts]\n    (-write writer (str \"#\" tag \" \"))\n    (pr-writer form writer opts)))\n\n(defn tagged-literal?\n  \"Return true if the value is the data representation of a tagged literal\"\n  [value]\n  (instance? TaggedLiteral value))\n\n(defn tagged-literal\n  \"Construct a data representation of a tagged literal from a\n  tag symbol and a form.\"\n  [tag form]\n  {:pre [(symbol? tag)]}\n  (TaggedLiteral. tag form))\n\n(def\n  ^{:private true\n    :jsdoc [\"@type {*}\"]}\n  js-reserved-arr\n  #js [\"arguments\" \"abstract\" \"await\" \"boolean\" \"break\" \"byte\" \"case\"\n       \"catch\" \"char\" \"class\" \"const\" \"continue\"\n       \"debugger\" \"default\" \"delete\" \"do\" \"double\"\n       \"else\" \"enum\" \"export\" \"extends\" \"final\"\n       \"finally\" \"float\" \"for\" \"function\" \"goto\" \"if\"\n       \"implements\" \"import\" \"in\" \"instanceof\" \"int\"\n       \"interface\" \"let\" \"long\" \"native\" \"new\"\n       \"package\" \"private\" \"protected\" \"public\"\n       \"return\" \"short\" \"static\" \"super\" \"switch\"\n       \"synchronized\" \"this\" \"throw\" \"throws\"\n       \"transient\" \"try\" \"typeof\" \"var\" \"void\"\n       \"volatile\" \"while\" \"with\" \"yield\" \"methods\"\n       \"null\" \"constructor\"])\n\n(def\n  ^{:jsdoc [\"@type {null|Object}\"]}\n  js-reserved nil)\n\n(defn- js-reserved? [x]\n  (when (nil? js-reserved)\n    (set! js-reserved\n      (reduce #(do (gobject\/set %1 %2 true) %1)\n        #js {} js-reserved-arr)))\n  (.hasOwnProperty js-reserved x))\n\n(defn- demunge-pattern []\n  (when-not DEMUNGE_PATTERN\n    (set! DEMUNGE_PATTERN\n      (let [ks (sort (fn [a b] (- (. b -length) (. a -length)))\n                 (js-keys DEMUNGE_MAP))]\n        (loop [ks ks ret \"\"]\n          (if (seq ks)\n            (recur\n              (next ks)\n              (str\n                (cond-> ret\n                  (not (identical? ret \"\")) (str \"|\"))\n                (first ks)))\n            (str ret \"|\\\\$\"))))))\n  DEMUNGE_PATTERN)\n\n(defn- ^string munge-str [name]\n  (let [sb (StringBuffer.)]\n    (loop [i 0]\n      (if (< i (. name -length))\n        (let [c (.charAt name i)\n              sub (gobject\/get CHAR_MAP c)]\n          (if-not (nil? sub)\n            (.append sb sub)\n            (.append sb c))\n          (recur (inc i)))))\n    (.toString sb)))\n\n(defn munge [name]\n  (let [name' (munge-str (str name))\n        name' (cond\n                (identical? name' \"..\") \"_DOT__DOT_\"\n                (js-reserved? name') (str name' \"$\")\n                :else name')]\n    (if (symbol? name)\n      (symbol name')\n      name')))\n\n(defn- demunge-str [munged-name]\n  (let [r (js\/RegExp. (demunge-pattern) \"g\")\n        munged-name (if (gstring\/endsWith munged-name \"$\")\n                      (.substring munged-name 0 (dec (. munged-name -length)))\n                      munged-name)]\n    (loop [ret \"\" last-match-end 0]\n      (if-let [match (.exec r munged-name)]\n        (let [[x] match]\n          (recur\n            (str ret\n              (.substring munged-name last-match-end\n                (- (. r -lastIndex) (. x -length)))\n              (if (identical? x \"$\") \"\/\" (gobject\/get DEMUNGE_MAP x)))\n            (. r -lastIndex)))\n        (str ret\n          (.substring munged-name last-match-end (.-length munged-name)))))))\n\n(defn demunge [name]\n  ((if (symbol? name) symbol str)\n    (let [name' (str name)]\n      (if (identical? name' \"_DOT__DOT_\")\n        \"..\"\n        (demunge-str name')))))\n\n(defonce ^{:jsdoc [\"@type {*}\"] :private true}\n  tapset nil)\n\n(defn- maybe-init-tapset []\n  (when (nil? tapset)\n    (set! tapset (atom #{}))))\n\n(defn add-tap\n  \"Adds f, a fn of one argument, to the tap set. This function will be called with\n  anything sent via tap>. Remember f in order to remove-tap\"\n  [f]\n  (maybe-init-tapset)\n  (swap! tapset conj f)\n  nil)\n\n(defn remove-tap\n  \"Remove f from the tap set.\"\n  [f]\n  (maybe-init-tapset)\n  (swap! tapset disj f)\n  nil)\n\n(defn ^boolean tap>\n  \"Sends x to any taps. Returns the result of *exec-tap-fn*, a Boolean value.\"\n  [x]\n  (maybe-init-tapset)\n  (*exec-tap-fn*\n    (fn []\n      (doseq [tap @tapset]\n        (try\n          (tap x)\n          (catch js\/Error ex))))))\n\n(defn update-vals\n  \"m f => {k (f v) ...}\n  Given a map m and a function f of 1-argument, returns a new map where the keys of m\n  are mapped to result of applying f to the corresponding values of m.\"\n  {:added \"1.11\"}\n  [m f]\n  (with-meta\n    (persistent!\n      (reduce-kv (fn [acc k v] (assoc! acc k (f v)))\n                 (if (implements? IEditableCollection m)\n                   (transient m)\n                   (transient {}))\n                 m))\n    (meta m)))\n\n(defn update-keys\n  \"m f => {(f k) v ...}\n  Given a map m and a function f of 1-argument, returns a new map whose\n  keys are the result of applying f to the keys of m, mapped to the\n  corresponding values of m.\n  f must return a unique key for each key of m, else the behavior is undefined.\"\n  {:added \"1.11\"}\n  [m f]\n  (let [ret (persistent!\n              (reduce-kv (fn [acc k v] (assoc! acc (f k) v))\n                         (transient {})\n                         m))]\n    (with-meta ret (meta m))))\n\n;; -----------------------------------------------------------------------------\n;; Bootstrap helpers - incompatible with advanced compilation\n\n(defn- ns-lookup\n  \"Bootstrap only.\"\n  [ns-obj k]\n  (fn [] (gobject\/get ns-obj k)))\n\n;; Bootstrap only\n(deftype Namespace [obj name]\n  Object\n  (findInternedVar [this sym]\n    (let [k (munge (str sym))]\n      (when ^boolean (gobject\/containsKey obj k)\n        (let [var-sym (symbol (str name) (str sym))\n              var-meta {:ns this}]\n          (Var. (ns-lookup obj k) var-sym var-meta)))))\n  (getName [_] name)\n  (toString [_]\n    (str name))\n  IEquiv\n  (-equiv [_ other]\n    (if (instance? Namespace other)\n      (= name (.-name other))\n      false))\n  IHash\n  (-hash [_]\n    (hash name)))\n\n(def\n  ^{:doc \"Bootstrap only.\" :jsdoc [\"@type {*}\"]}\n  NS_CACHE nil)\n\n(defn- find-ns-obj*\n  \"Bootstrap only.\"\n  [ctxt xs]\n  (cond\n    (nil? ctxt) nil\n    (nil? xs) ctxt\n    :else (recur (gobject\/get ctxt (first xs)) (next xs))))\n\n(defn find-ns-obj\n  \"Bootstrap only.\"\n  [ns]\n  (let [munged-ns (munge (str ns))\n        segs (.split munged-ns \".\")]\n    (case *target*\n      \"nodejs\"  (if ^boolean js\/COMPILED\n                  ; Under simple optimizations on nodejs, namespaces will be in module\n                  ; rather than global scope and must be accessed by a direct call to eval.\n                  ; The first segment may refer to an undefined variable, so its evaluation\n                  ; may throw ReferenceError.\n                  (find-ns-obj*\n                    (try\n                      (let [ctxt (js\/eval (first segs))]\n                        (when (and ctxt (object? ctxt))\n                          ctxt))\n                      (catch js\/ReferenceError e\n                        nil))\n                    (next segs))\n                  (find-ns-obj* goog\/global segs))\n      (\"default\" \"webworker\") (find-ns-obj* goog\/global segs)\n      (throw (js\/Error. (str \"find-ns-obj not supported for target \" *target*))))))\n\n(defn ns-interns*\n  \"Returns a map of the intern mappings for the namespace.\n  Bootstrap only.\"\n  [sym]\n  (let [ns-obj (find-ns-obj sym)\n        ns     (Namespace. ns-obj sym)]\n    (letfn [(step [ret k]\n              (let [var-sym (symbol (demunge k))]\n                (assoc ret\n                  var-sym (Var. #(gobject\/get ns-obj k)\n                            (symbol (str sym) (str var-sym)) {:ns ns}))))]\n      (reduce step {} (js-keys ns-obj)))))\n\n(defn create-ns\n  \"Create a new namespace named by the symbol. Bootstrap only.\"\n  ([sym]\n   (create-ns sym (find-ns-obj sym)))\n  ([sym ns-obj]\n   (Namespace. ns-obj sym)))\n\n(defn find-ns\n  \"Returns the namespace named by the symbol or nil if it doesn't exist.\n  Bootstrap only.\"\n  [ns]\n  (when (nil? NS_CACHE)\n    (set! NS_CACHE (atom {})))\n  (let [the-ns (get @NS_CACHE ns)]\n    (if-not (nil? the-ns)\n      the-ns\n      (let [ns-obj (find-ns-obj ns)]\n        (when-not (nil? ns-obj)\n          (let [new-ns (create-ns ns ns-obj)]\n            (swap! NS_CACHE assoc ns new-ns)\n            new-ns))))))\n\n(defn find-macros-ns\n  \"Returns the macros namespace named by the symbol or nil if it doesn't exist.\n  Bootstrap only.\"\n  [ns]\n  (when (nil? NS_CACHE)\n    (set! NS_CACHE (atom {})))\n  (let [ns-str (str ns)\n        ns (if (not ^boolean (gstring\/contains ns-str \"$macros\"))\n             (symbol (str ns-str \"$macros\"))\n             ns)\n        the-ns (get @NS_CACHE ns)]\n    (if-not (nil? the-ns)\n      the-ns\n      (let [ns-obj (find-ns-obj ns)]\n       (when-not (nil? ns-obj)\n         (let [new-ns (create-ns ns ns-obj)]\n           (swap! NS_CACHE assoc ns new-ns)\n           new-ns))))))\n\n(defn ns-name\n  \"Returns the name of the namespace, a Namespace object.\n  Bootstrap only.\"\n  [ns-obj]\n  (.-name ns-obj))\n\n(defn uri?\n  \"Returns true x is a goog.Uri instance.\"\n  {:added \"1.9\"}\n  [x]\n  (instance? goog.Uri x))\n\n(defn ^boolean NaN?\n  \"Returns true if num is NaN, else false\"\n  [val]\n  (js\/isNaN val))\n\n(defn ^:private parsing-err\n  \"Construct message for parsing for non-string parsing error\"\n  [val]\n  (str \"Expected string, got: \" (if (nil? val) \"nil\" (goog\/typeOf val))))\n\n(defn ^number parse-long\n  \"Parse string of decimal digits with optional leading -\/+ and return an\n  integer value, or nil if parse fails\"\n  [s]\n  (if (string? s)\n    (and (re-matches #\"[+-]?\\d+\" s)\n         (let [i (js\/parseInt s)]\n           (when (and (<= i js\/Number.MAX_SAFE_INTEGER)\n                      (>= i js\/Number.MIN_SAFE_INTEGER))\n             i)))\n    (throw (js\/Error. (parsing-err s)))))\n\n(defn ^number parse-double\n  \"Parse string with floating point components and return a floating point value,\n  or nil if parse fails.\n  Grammar: https:\/\/docs.oracle.com\/javase\/8\/docs\/api\/java\/lang\/Double.html#valueOf-java.lang.String-\"\n  [s]\n  (if (string? s)\n    (cond\n      ^boolean (re-matches #\"[\\x00-\\x20]*[+-]?NaN[\\x00-\\x20]*\" s) ##NaN\n      ^boolean (re-matches\n                #\"[\\x00-\\x20]*[+-]?(Infinity|((\\d+\\.?\\d*|\\.\\d+)([eE][+-]?\\d+)?)[dDfF]?)[\\x00-\\x20]*\"\n                s) (js\/parseFloat s)\n      :default nil)\n    (throw (js\/Error. (parsing-err s)))))\n\n(def ^:private uuid-regex\n  #\"^[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]-[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]-[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]-[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]-[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]$\")\n\n(defn parse-uuid\n  \"Parse a string representing a UUID and return a UUID instance,\n  or nil if parse fails.\n  Grammar: https:\/\/docs.oracle.com\/javase\/8\/docs\/api\/java\/util\/UUID.html#toString--\"\n  [s]\n  (if (string? s)\n    (when ^boolean (re-matches uuid-regex s)\n      (uuid s))\n    (throw (js\/Error. (parsing-err s)))))\n\n(defn parse-boolean\n  \"Parse strings \\\"true\\\" or \\\"false\\\" and return a boolean, or nil if invalid. Note that this explicitly\n  excludes strings with different cases, or space characters.\"\n  [s]\n  (if (string? s)\n    (case s\n      \"true\" true\n      \"false\" false\n      nil)\n    (throw (js\/Error. (parsing-err s)))))\n\n(defn- maybe-enable-print! []\n  (cond\n    (exists? js\/console)\n    (enable-console-print!)\n\n    (or (identical? *target* \"nashorn\")\n        (identical? *target* \"graaljs\"))\n    (let [system (.type js\/Java \"java.lang.System\")]\n      (set! *print-newline* false)\n      (set-print-fn!\n        (fn []\n          (let [xs (js-arguments)\n                s  (.join (garray\/clone xs) \"\")]\n            (.println (.-out system) s))))\n      (set-print-err-fn!\n        (fn []\n          (let [xs (js-arguments)\n                s  (.join (garray\/clone xs) \"\")]\n            (.println (.-error system) s)))))))\n\n(maybe-enable-print!)\n\n(defonce\n  ^{:doc \"Runtime environments may provide a way to evaluate ClojureScript\n  forms. Whatever function *eval* is bound to will be passed any forms which\n  should be evaluated.\" :dynamic true}\n  *eval*\n  (fn [_]\n    (throw (js\/Error. \"cljs.core\/*eval* not bound\"))))\n\n(defn eval\n  \"Evaluates the form data structure (not text!) and returns the result.\n  Delegates to cljs.core\/*eval*. Intended for use in self-hosted ClojureScript,\n  which sets up an implementation of cljs.core\/*eval* for that environment.\"\n  [form]\n  (*eval* form))\n\n(when ^boolean js\/COMPILED\n  (when (identical? \"nodejs\" *target*)\n    (set! goog\/global js\/global))\n  (cond\n    (identical? \"window\" *global*) (set! goog\/global js\/window)\n    (identical? \"self\" *global*) (set! goog\/global js\/self)\n    (identical? \"global\" *global*) (set! goog\/global js\/global)))\n","(ns datascript.core\n  (:refer-clojure :exclude [filter])\n  (:require\n    [#?(:cljs cljs.reader :clj clojure.edn) :as edn]\n    [datascript.conn :as conn]\n    [datascript.db :as db #?@(:cljs [:refer [Datom DB FilteredDB]])]\n    #?(:clj [datascript.pprint])\n    [datascript.pull-api :as dp]\n    [datascript.serialize :as ds]\n    [datascript.storage :as storage]\n    [datascript.query :as dq]\n    [datascript.impl.entity :as de]\n    [datascript.util :as util]\n    [me.tonsky.persistent-sorted-set :as set])\n  #?(:clj\n     (:import\n       [datascript.db Datom DB FilteredDB]\n       [datascript.impl.entity Entity]\n       [java.util UUID])))\n\n(def ^:const ^:no-doc tx0\n  db\/tx0)\n\n; Entities\n\n(def ^{:tag Entity\n       :arglists '([db eid])\n       :doc \"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; => nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; => {:db\/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; => :value\n                 (get (entity db 1) :attr) ; => :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; => [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; => {:db\/id 2}\n                 (:ns\/ref (entity db 1)) ; => {:db\/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; => [{:db\/id 1}]\n                 (:ns\/_ref (entity db 2)) ; => [{:db\/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db\/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; => {:db\/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable \u201cviews\u201d into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can\u2019t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].\"}\n  entity de\/entity)\n\n(def ^{:arglists '([db eid])\n       :doc \"Given lookup ref `[unique-attr value]`, returns numberic entity id.\n\n             If entity does not exist, returns `nil`.\"}\n  entid db\/entid)\n\n(defn ^DB entity-db\n  \"Returns a db that entity was created from.\"\n  [^Entity entity]\n  {:pre [(de\/entity? entity)]}\n  (.-db entity))\n\n(def ^{:tag Entity\n       :arglists '([e])\n       :doc \"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; => {:db\/id 1}\n             (touch (entity db 1)) ; => {:db\/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```\"}\n  touch de\/touch)\n\n\n; Pull\n\n(def ^{:arglists '([db selector eid])\n       :doc \"Fetches data from database using recursive declarative description. See [docs.datomic.com\/on-prem\/pull.html](https:\/\/docs.datomic.com\/on-prem\/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db\/id, :name, :likes, {:friends [:db\/id :name]}] 1)\n                 ; => {:db\/id   1,\n                 ;     :name    \\\"Ivan\\\"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db\/id 2, :name \\\"Oleg\\\"}]}\"}\n  pull dp\/pull)\n\n(def ^{:arglists '([db selector eids])\n       :doc \"Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db\/id :name] [1 2])\n             ; => [{:db\/id 1, :name \\\"Ivan\\\"}\n             ;     {:db\/id 2, :name \\\"Oleg\\\"}]\n             ```\"}\n  pull-many dp\/pull-many)\n\n; Query\n\n(def\n  ^{:arglists '([query & inputs])\n    :doc \"Executes a datalog query. See [docs.datomic.com\/on-prem\/query.html](https:\/\/docs.datomic.com\/on-prem\/query.html).\n\n          Usage:\n\n          ```\n          (q '[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; => #{[\\\"fries\\\"] [\\\"candy\\\"] [\\\"pie\\\"] [\\\"pizza\\\"]}\n          ```\"}\n  q dq\/q)\n\n\n; Creating DB\n\n(defn ^DB empty-db\n  \"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; => #datascript\/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db\/cardinality :db.cardinality\/many}})\n   ; => #datascript\/DB {:schema {:likes {:db\/cardinality :db.cardinality\/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor <int>, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          <IStorage>. Will be used to store this db later with `(d\/store db)`\"\n  ([]\n   (db\/empty-db nil {}))\n  ([schema]\n   (db\/empty-db schema {}))\n  ([schema opts]\n   (db\/empty-db schema (storage\/maybe-adapt-storage opts))))\n\n(def ^{:arglists '([x])\n       :doc \"Returns `true` if the given value is an immutable database, `false` otherwise.\"}\n  db? db\/db?)\n\n(def ^{:tag Datom\n       :arglists '([e a v] [e a v tx] [e a v tx added])\n       :doc \"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].\"}\n  datom db\/datom)\n\n(def ^{:arglists '([x])\n       :doc \"Returns `true` if the given value is a datom, `false` otherwise.\"}\n  datom? db\/datom?)\n\n(defn ^DB init-db\n  \"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]\"\n  ([datoms]\n   (db\/init-db datoms nil {}))\n  ([datoms schema]\n   (db\/init-db datoms schema {}))\n  ([datoms schema opts]\n   (db\/init-db datoms schema (storage\/maybe-adapt-storage opts))))\n\n(def ^{:arglists '([db] [db opts])\n       :doc \"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js\/JSON.stringify` in CLJS, `cheshire.core\/generate-string`\n             or `jsonista.core\/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.\"}\n  serializable ds\/serializable)\n\n(def ^{:tag DB\n       :arglists '([serializable] [serializable opts])\n       :doc \"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn\/read-string`\n             by default.\"}\n  from-serializable ds\/from-serializable)\n\n\n; Schema\n\n(def ^{:arglists '([db])\n       :doc \"Returns a schema of a database.\"}\n  schema db\/-schema)\n\n\n; Filtered db\n\n(defn is-filtered\n  \"Returns `true` if this database was filtered using [[filter]], `false` otherwise.\"\n  [x]\n  (instance? FilteredDB x))\n\n(defn filter\n  \"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].\"\n  [db pred]\n  {:pre [(db\/db? db)]}\n  (if (is-filtered db)\n    (let [^FilteredDB fdb db\n          orig-pred (.-pred fdb)\n          orig-db   (.-unfiltered-db fdb)]\n      (FilteredDB. orig-db #(and (orig-pred %) (pred orig-db %)) (atom 0)))\n    (FilteredDB. db #(pred db %) (atom 0))))\n\n\n; Changing DB\n\n(def ^{:arglists '([db tx-data] [db tx-data tx-meta])} with\n  \"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).\"\n  conn\/with)\n\n(def ^{:arglists '([db tx-data]) :tag DB} db-with\n  \"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.\"\n  conn\/db-with)\n\n(defn ^DB with-schema\n  \"Warning! No validation or conversion. Only change schema in a compatible way\"\n  [db schema]\n  (db\/with-schema db schema))\n\n; Index lookups\n\n(defn datoms\n  \"Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id == 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; => (#datascript\/Datom [1 :friends 2]\n       ;     #datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"pizza\\\"]\n       ;     #datascript\/Datom [1 :name \\\"Ivan\\\"])\n\n       ; find all datoms for entity id == 1 and attribute == :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; => (#datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"pizza\\\"])\n\n       ; find all datoms for entity id == 1, attribute == :likes and value == \\\"pizza\\\"\n       (datoms db :eavt 1 :likes \\\"pizza\\\")\n       ; => (#datascript\/Datom [1 :likes \\\"pizza\\\"])\n\n       ; find all datoms for attribute == :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; => (#datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"pizza\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"candy\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       ; find all datoms that have attribute == `:likes` and value == `\\\"pizza\\\"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db\/index true`\n       (datoms db :avet :likes \\\"pizza\\\")\n       ; => (#datascript\/Datom [1 :likes \\\"pizza\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; => (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality\/many attribute\n       (->> (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (->> (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (->> (datoms db :aevt attr) (map :e))\n\n       ; find \u201csingleton\u201d entity by its attr\n       (->> (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (->> (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (->> (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db\/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db\/unique` and `:db\/index` attributes.\"\n  ([db index]             {:pre [(db\/db? db)]} (db\/-datoms db index nil nil nil nil))\n  ([db index c0]          {:pre [(db\/db? db)]} (db\/-datoms db index c0  nil nil nil))\n  ([db index c0 c1]       {:pre [(db\/db? db)]} (db\/-datoms db index c0  c1  nil nil))\n  ([db index c0 c1 c2]    {:pre [(db\/db? db)]} (db\/-datoms db index c0  c1  c2  nil))\n  ([db index c0 c1 c2 c3] {:pre [(db\/db? db)]} (db\/-datoms db index c0  c1  c2  c3)))\n\n(defn ^Datom find-datom\n  \"Same as [[datoms]], but only returns single datom. Faster than `(first (datoms ...))`\"\n  ([db index]             {:pre [(db\/db? db)]} (db\/find-datom db index nil nil nil nil))\n  ([db index c0]          {:pre [(db\/db? db)]} (db\/find-datom db index c0  nil nil nil))\n  ([db index c0 c1]       {:pre [(db\/db? db)]} (db\/find-datom db index c0  c1  nil nil))\n  ([db index c0 c1 c2]    {:pre [(db\/db? db)]} (db\/find-datom db index c0  c1  c2  nil))\n  ([db index c0 c1 c2 c3] {:pre [(db\/db? db)]} (db\/find-datom db index c0  c1  c2  c3)))\n\n(defn seek-datoms\n  \"Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered \u201cgreater\u201d in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; => (#datascript\/Datom [1 :friends 2]\n       ;     #datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"pizza\\\"]\n       ;     #datascript\/Datom [1 :name \\\"Ivan\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"candy\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; => (#datascript\/Datom [1 :name \\\"Ivan\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"candy\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       (seek-datoms db :eavt 2)\n       ; => (#datascript\/Datom [2 :likes \\\"candy\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       ; no datom [2 :likes \\\"fish\\\"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes \\\"fish\\\")\n       ; => (#datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\"\n  ([db index]             {:pre [(db\/db? db)]} (db\/-seek-datoms db index nil nil nil nil))\n  ([db index c0]          {:pre [(db\/db? db)]} (db\/-seek-datoms db index c0  nil nil nil))\n  ([db index c0 c1]       {:pre [(db\/db? db)]} (db\/-seek-datoms db index c0  c1  nil nil))\n  ([db index c0 c1 c2]    {:pre [(db\/db? db)]} (db\/-seek-datoms db index c0  c1  c2  nil))\n  ([db index c0 c1 c2 c3] {:pre [(db\/db? db)]} (db\/-seek-datoms db index c0  c1  c2  c3)))\n\n(defn rseek-datoms\n  \"Same as [[seek-datoms]], but goes backwards until the beginning of the index.\"\n  ([db index]             {:pre [(db\/db? db)]} (db\/-rseek-datoms db index nil nil nil nil))\n  ([db index c0]          {:pre [(db\/db? db)]} (db\/-rseek-datoms db index c0  nil nil nil))\n  ([db index c0 c1]       {:pre [(db\/db? db)]} (db\/-rseek-datoms db index c0  c1  nil nil))\n  ([db index c0 c1 c2]    {:pre [(db\/db? db)]} (db\/-rseek-datoms db index c0  c1  c2  nil))\n  ([db index c0 c1 c2 c3] {:pre [(db\/db? db)]} (db\/-rseek-datoms db index c0  c1  c2  c3)))\n\n(defn index-range\n  \"Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db\/index true`.\n\n   Usage:\n\n       (index-range db :likes \\\"a\\\" \\\"zzzzzzzzz\\\")\n       ; => (#datascript\/Datom [2 :likes \\\"candy\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"]\n       ;     #datascript\/Datom [1 :likes \\\"pizza\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pizza\\\"])\n\n       (index-range db :likes \\\"egg\\\" \\\"pineapple\\\")\n       ; => (#datascript\/Datom [1 :likes \\\"fries\\\"]\n       ;     #datascript\/Datom [2 :likes \\\"pie\\\"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (->> (index-range db :age 18 60) (map :e))\"\n  [db attr start end]\n  {:pre [(db\/db? db)]}\n  (db\/-index-range db attr start end))\n\n;; Conn\n\n(def ^{:arglists '([conn])} conn?\n  \"Returns `true` if this is a connection to a DataScript db, `false` otherwise.\"\n  conn\/conn?)\n\n(def ^{:arglists '([db])} conn-from-db\n  \"Creates a mutable reference to a given immutable database. See [[create-conn]].\"\n  conn\/conn-from-db)\n\n(def ^{:arglists '([datoms] [datoms schema] [datoms schema opts])} conn-from-datoms\n  \"Creates an empty DB and a mutable reference to it. See [[create-conn]].\"\n  conn\/conn-from-datoms)\n\n(def ^{:arglists '([] [schema] [schema opts])} create-conn\n  \"Creates a mutable reference (a \u201cconnection\u201d) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction\"\n  conn\/create-conn)\n\n(def ^{:arglists '([storage] [storage opts])} restore-conn\n  \"Lazy-load database from storage and make conn out of it.\n   Returns nil if there\u2019s no database yet in storage\"\n  conn\/restore-conn)\n\n(def ^{:arglists '([conn tx-data] [conn tx-data tx-meta])} transact!\n  \"Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added\/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data => assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db\/add 1 :name \\\"Ivan\\\"]])\n\n      ; retract a single datom\n      (transact! conn [[:db\/retract 1 :name \\\"Ivan\\\"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn\/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db\/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn\/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db\/add -1 :name \\\"Ivan\\\"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; => {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; => [#datascript\/Datom [296 :name \\\"Ivan\\\"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db\/add \\\"ivan\\\" :name \\\"Ivan\\\"]])\n      (:tempids *1) ; => {\\\"ivan\\\" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db\/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db\/add -1 :name \\\"Ivan\\\"]\n                       [:db\/add -1 :likes \\\"fries\\\"]\n                       [:db\/add -1 :likes \\\"pizza\\\"]\n                       [:db\/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db\/id  -1\n                        :name   \\\"Ivan\\\"\n                        :likes  [\\\"fries\\\" \\\"pizza\\\"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can\u2019t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db\/id  296\n                        :name   \\\"Oleg\\\"\n                        :likes  [\\\"fish\\\"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db\/id  -1\n                        :name   \\\"Oleg\\\"\n                        :friend {:db\/id -2\n                                 :name \\\"Sergey\\\"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db\/id  -1\n                        :name   \\\"Oleg\\\"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db\/id  -1, :name   \\\"Oleg\\\"}\n                       {:db\/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db\/add  -1 :name   \\\"Oleg\\\"]\n                       [:db\/add 296 :friend -1]])\"\n  conn\/transact!)\n\n(def ^{:arglists '([conn db] [conn db tx-meta])} reset-conn!\n  \"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.\"\n  conn\/reset-conn!)\n\n(def ^{:arglists '([conn schema])} reset-schema!\n  conn\/reset-schema!)\n\n(def ^{:arglists '([conn callback] [conn key callback])} listen!\n  \"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].\"\n  conn\/listen!)\n\n(def ^{:arglists '([conn key])} unlisten!\n  \"Removes registered listener from connection. See also [[listen!]].\"\n  conn\/unlisten!)\n\n\n; Data Readers\n\n(def ^{:doc \"Data readers for EDN readers. In CLJS they\u2019re registered automatically. In CLJ, if `data_readers.clj` do not work, you can always do\n\n             ```\n             (clojure.edn\/read-string {:readers data-readers} \\\"...\\\")\n             ```\"}\n  data-readers {'datascript\/Datom db\/datom-from-reader\n                'datascript\/DB    db\/db-from-reader})\n\n#?(:cljs\n   (doseq [[tag cb] data-readers] (edn\/register-tag-parser! tag cb)))\n\n\n;; Datomic compatibility layer\n\n(def ^:private last-tempid (atom -1000000))\n\n(defn tempid\n  \"Allocates and returns an unique temporary id (a negative integer). Ignores `part`. Returns `x` if it is specified.\n\n   Exists for Datomic API compatibility. Prefer using negative integers directly if possible.\"\n  ([part]\n   (if (= part :db.part\/tx)\n     :db\/current-tx\n     (swap! last-tempid dec)))\n  ([part x]\n   (if (= part :db.part\/tx)\n     :db\/current-tx\n     x)))\n\n(defn resolve-tempid\n  \"Does a lookup in tempids map, returning an entity id that tempid was resolved to.\n\n   Exists for Datomic API compatibility. Prefer using map lookup directly if possible.\"\n  [_db tempids tempid]\n  (get tempids tempid))\n\n(defn ^DB db\n  \"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.\"\n  [conn]\n  {:pre [(conn? conn)]}\n  @conn)\n\n(defn transact\n  \"Same as [[transact!]], but returns an immediately realized future.\n\n   Exists for Datomic API compatibility. Prefer using [[transact!]] if possible.\"\n  ([conn tx-data] (transact conn tx-data nil))\n  ([conn tx-data tx-meta]\n   {:pre [(conn? conn)]}\n   (let [res (transact! conn tx-data tx-meta)]\n     #?(:cljs\n        (reify\n          IDeref\n          (-deref [_] res)\n          IDerefWithTimeout\n          (-deref-with-timeout [_ _ _] res)\n          IPending\n          (-realized? [_] true))\n        :clj\n        (reify\n          clojure.lang.IDeref\n          (deref [_] res)\n          clojure.lang.IBlockingDeref\n          (deref [_ _ _] res)\n          clojure.lang.IPending\n          (isRealized [_] true))))))\n\n\n;; ersatz future without proper blocking\n#?(:cljs\n   (defn- future-call [f]\n     (let [res      (atom nil)\n           realized (atom false)]\n       (js\/setTimeout #(do (reset! res (f)) (reset! realized true)) 0)\n       (reify\n         IDeref\n         (-deref [_] @res)\n         IDerefWithTimeout\n         (-deref-with-timeout [_ _ timeout-val] (if @realized @res timeout-val))\n         IPending\n         (-realized? [_] @realized)))))\n\n(defn transact-async\n  \"In CLJ, calls [[transact!]] on a future thread pool, returning immediately.\n\n   In CLJS, just calls [[transact!]] and returns a realized future.\"\n  ([conn tx-data] (transact-async conn tx-data nil))\n  ([conn tx-data tx-meta]\n   {:pre [(conn? conn)]}\n   (future-call #(transact! conn tx-data tx-meta))))\n\n\n;; squuid\n\n(def ^{:arglists '([] [msec])} squuid\n  \"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).\"\n  util\/squuid)\n\n(def ^{:arglists '([uuid])} squuid-time-millis\n  \"Returns time that was used in [[squuid]] call, in milliseconds, rounded to the closest second.\"\n  util\/squuid-time-millis)\n\n\n;; Storage\n(def ^{:arglists '([db])} storage\n  \"Returns IStorage used by DB instance\"\n  storage\/storage)\n\n(def ^{:arglists '([db] [db storage])} store\n  \"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).\"\n  storage\/store)\n\n(def ^{:arglists '([storage] [storage opts])} restore\n  \"Lazy-loads database from storage. Ultra-fast, fetches the rest as it\u2019s needed\"\n  storage\/restore)\n\n#?(:clj\n   (defn addresses\n     \"Returns all addresses in use by current db (as java.util.HashSet).\n      Anything that is not in the return set is safe to be deleted\"\n     [& dbs]\n     (storage\/addresses dbs)))\n\n#?(:clj\n   (def ^{:arglists '([storage])} collect-garbage\n     \"Deletes all keys from storage that are not referenced by any of the currently alive db refs.\n      Has a side-effect of fully loading databases fully into memory, so, can be slow\"\n     storage\/collect-garbage))\n\n#?(:clj\n   (def ^{:arglists '([dir] [dir opts])} file-storage\n     \"Default implementation that stores data in files in a dir.\n\n   Options are:\n\n   :freeze-fn :: (data)   -> String. A serialization function\n   :thaw-fn   :: (String) -> data. A deserialization function\n   :write-fn  :: (OutputStream data) -> void. Implement your own writer to FileOutputStream\n   :read-fn   :: (InputStream) -> Object. Implement your own reader from FileInputStream\n   :addr->filename-fn :: (UUID) -> String. Construct file name from address\n   :filename->addr-fn :: (String) -> UUID. Reconstruct address from file name\n\n   All options are optional.\"\n     storage\/file-storage))\n\n(defn settings [db]\n  (set\/settings (:eavt db)))\n","(ns logseq.common.util\n  \"Util fns shared between the app. Util fns only rely on\n  clojure standard libraries.\"\n  (:require [cljs.reader :as reader]\n            [clojure.edn :as edn]\n            [clojure.string :as string]\n            [clojure.walk :as walk]\n            [logseq.common.log :as log]\n            [goog.string :as gstring]\n            [cljs-time.coerce :as tc]\n            [cljs-time.core :as t]))\n\n(defn safe-decode-uri-component\n  [uri]\n  (try\n    (js\/decodeURIComponent uri)\n    (catch :default _\n      (log\/error :decode-uri-component-failed uri)\n      uri)))\n\n(defn path-normalize\n  \"Normalize file path (for reading paths from FS, not required by writing)\n   Keep capitalization senstivity\"\n  [s]\n  (.normalize s \"NFC\"))\n\n(defn remove-nils\n  \"remove pairs of key-value that has nil value from a (possibly nested) map or\n  coll of maps.\"\n  [nm]\n  (walk\/postwalk\n   (fn [el]\n     (if (map? el)\n       (into {} (remove (comp nil? second)) el)\n       el))\n   nm))\n\n(defn remove-nils-non-nested\n  \"remove pairs of key-value that has nil value from a map (nested not supported).\"\n  [nm]\n  (into {} (remove (comp nil? second)) nm))\n\n(defn fast-remove-nils\n  \"remove pairs of key-value that has nil value from a coll of maps.\"\n  [nm]\n  (keep (fn [m] (if (map? m) (remove-nils-non-nested m) m)) nm))\n\n(defn split-first [pattern s]\n  (when-let [first-index (string\/index-of s pattern)]\n    [(subs s 0 first-index)\n     (subs s (+ first-index (count pattern)) (count s))]))\n\n(defn split-last [pattern s]\n  (when-let [last-index (string\/last-index-of s pattern)]\n    [(subs s 0 last-index)\n     (subs s (+ last-index (count pattern)) (count s))]))\n\n(defn tag-valid?\n  [tag-name]\n  (when (string? tag-name)\n    (not (re-find #\"[#\\t\\r\\n]+\" tag-name))))\n\n(defn tag?\n  \"Whether `s` is a tag.\"\n  [s]\n  (and (string? s)\n       (string\/starts-with? s \"#\")\n       (or\n        (not (string\/includes? s \" \"))\n        (string\/starts-with? s \"#[[\")\n        (string\/ends-with? s \"]]\"))))\n\n(defn safe-subs\n  ([s start]\n   (let [c (count s)]\n     (safe-subs s start c)))\n  ([s start end]\n   (let [c (count s)]\n     (subs s (min c start) (min c end)))))\n\n(defn unquote-string\n  [v]\n  (string\/trim (subs v 1 (dec (count v)))))\n\n(defn wrapped-by\n  [v start end]\n  (and (string? v) (>= (count v) 2)\n       (= start (first v)) (= end (last v))))\n\n(defn wrapped-by-quotes?\n  [v]\n  (wrapped-by v \"\\\"\" \"\\\"\"))\n\n(defn wrapped-by-parens?\n  [v]\n  (wrapped-by v \"(\" \")\"))\n\n(defn url?\n  \"Test if it is a `protocol:\/\/`-style URL.\n\n   NOTE: Can not handle mailto: links, use this with caution.\"\n  [s]\n  (and (string? s)\n       (try\n         (not (contains? #{nil \"null\"} (.-origin (js\/URL. s))))\n         (catch :default _e\n           false))))\n\n(defn json->clj\n  [json-string]\n  (-> json-string\n      (js\/JSON.parse)\n      (js->clj :keywordize-keys true)))\n\n(defn zero-pad\n  \"Copy of frontend.util\/zero-pad. Too basic to couple to main app\"\n  [n]\n  (if (< n 10)\n    (str \"0\" n)\n    (str n)))\n\n(defn remove-boundary-slashes\n  [s]\n  (when (string? s)\n    (let [s (if (= \\\/ (first s))\n              (subs s 1)\n              s)]\n      (if (= \\\/ (last s))\n        (subs s 0 (dec (count s)))\n        s))))\n\n(defn split-namespace-pages\n  [title]\n  (let [parts (string\/split title \"\/\")]\n    (->>\n     (loop [others (rest parts)\n            result [(first parts)]]\n       (if (seq others)\n         (let [prev (last result)]\n           (recur (rest others)\n                  (conj result (str prev \"\/\" (first others)))))\n         result))\n     (map string\/trim))))\n\n(def url-encoded-pattern #\"(?i)%[0-9a-f]{2}\") ;; (?i) for case-insensitive mode\n\n(defn page-name-sanity\n  \"Sanitize the page-name. Unify different diacritics and other visual differences.\n   Two objectives:\n   1. To be the same as in the filesystem;\n   2. To be easier to search\"\n  [page-name]\n  (some-> page-name\n          (remove-boundary-slashes)\n          (path-normalize)))\n\n(defn page-name-sanity-lc\n  \"Sanitize the query string for a page name (mandate for :block\/name)\"\n  [s]\n  (page-name-sanity (string\/lower-case s)))\n\n(defn safe-page-name-sanity-lc\n  [s]\n  (if (string? s)\n    (page-name-sanity-lc s) s))\n\n(defn capitalize-all\n  [s]\n  (some->> (string\/split s #\" \")\n           (map string\/capitalize)\n           (string\/join \" \")))\n\n(defn distinct-by\n  \"Copy from medley\"\n  [f coll]\n  (let [step (fn step [xs seen]\n               (lazy-seq\n                ((fn [[x :as xs] seen]\n                   (when-let [s (seq xs)]\n                     (let [fx (f x)]\n                       (if (contains? seen fx)\n                         (recur (rest s) seen)\n                         (cons x (step (rest s) (conj seen fx)))))))\n                 xs seen)))]\n    (step (seq coll) #{})))\n\n(defn distinct-by-last-wins\n  [f col]\n  {:pre [(sequential? col)]}\n  (reverse (distinct-by f (reverse col))))\n\n(defn normalize-format\n  [format]\n  (case (keyword format)\n    :md :markdown\n    ;; default\n    (keyword format)))\n\n(defn path->file-ext\n  [path-or-file-name]\n  (let [last-part (last (string\/split path-or-file-name #\"\/\"))]\n    (second (re-find #\"(?:\\.)(\\w+)[^.]*$\" last-part))))\n\n(defn get-format\n  \"File path to format keyword, :org, :markdown, etc.\"\n  [file]\n  (when file\n    (normalize-format (keyword (some-> (path->file-ext file) string\/lower-case)))))\n\n(defn get-file-ext\n  \"Copy of frontend.util\/get-file-ext. Too basic to couple to main app\"\n  [file]\n  (and\n   (string? file)\n   (string\/includes? file \".\")\n   (some-> (path->file-ext file) string\/lower-case)))\n\n(defn valid-edn-keyword?\n  \"Determine if string is a valid edn keyword\"\n  [s]\n  (try\n    (boolean (and (= \\: (first s))\n                  (edn\/read-string (str \"{\" s \" nil}\"))))\n    (catch :default _\n      false)))\n\n(defn safe-read-string\n  \"Reads an edn string and returns nil if it fails to parse\"\n  ([content]\n   (safe-read-string {} content))\n  ([opts content]\n   (try\n     (reader\/read-string opts content)\n     (catch :default e\n       (log\/error :parse\/read-string-failed e)\n       nil))))\n\n(defn safe-read-map-string\n  \"Reads an edn map string and returns {} if it fails to parse\"\n  ([content]\n   (safe-read-map-string {} content))\n  ([opts content]\n   (try\n     (reader\/read-string opts content)\n     (catch :default e\n       (log\/error :parse\/read-string-failed e)\n       {}))))\n\n;; Copied from Medley\n;; https:\/\/github.com\/weavejester\/medley\/blob\/d1e00337cf6c0843fb6547aadf9ad78d981bfae5\/src\/medley\/core.cljc#L22\n(defn dissoc-in\n  \"Dissociate a value in a nested associative structure, identified by a sequence\n  of keys. Any collections left empty by the operation will be dissociated from\n  their containing structures.\"\n  ([m ks]\n   (if-let [[k & ks] (seq ks)]\n     (if (seq ks)\n       (let [v (dissoc-in (get m k) ks)]\n         (if (empty? v)\n           (dissoc m k)\n           (assoc m k v)))\n       (dissoc m k))\n     m))\n  ([m ks & kss]\n   (if-let [[ks' & kss] (seq kss)]\n     (recur (dissoc-in m ks) ks' kss)\n     (dissoc-in m ks))))\n\n(defn safe-re-find\n  {:malli\/schema [:=> [:cat :any :string] [:or :nil :string [:vector [:maybe :string]]]]}\n  [pattern s]\n  (when-not (string? s)\n       ;; TODO: sentry\n    (js\/console.trace))\n  (when (string? s)\n    (re-find pattern s)))\n\n(def uuid-pattern \"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\")\n(defonce exactly-uuid-pattern (re-pattern (str \"(?i)^\" uuid-pattern \"$\")))\n\n(defn uuid-string?\n  {:malli\/schema [:=> [:cat :string] :boolean]}\n  [s]\n  (boolean (safe-re-find exactly-uuid-pattern s)))\n\n(defn format\n  [fmt & args]\n  (apply gstring\/format fmt args))\n\n(defn remove-first [pred coll]\n  ((fn inner [coll]\n     (lazy-seq\n      (when-let [[x & xs] (seq coll)]\n        (if (pred x)\n          xs\n          (cons x (inner xs))))))\n   coll))\n\n(defn concat-without-nil\n  [& cols]\n  (->> (apply concat cols)\n       (remove nil?)))\n\n(defn time-ms\n  \"Current time in milliseconds\"\n  []\n  (tc\/to-long (t\/now)))\n\n(defn get-page-title\n  [page]\n  (or (:block\/title page)\n      (:block\/name page)))\n\n(defn string-join-path\n  #_:clj-kondo\/ignore\n  \"Replace all `strings\/join` used to construct paths with this function to reduce lint output.\n  https:\/\/github.com\/logseq\/logseq\/pull\/8679\"\n  [parts]\n  (string\/join \"\/\" parts))\n\n(def escape-chars \"[]{}().+*?|$\")\n\n(defn escape-regex-chars\n  \"Escapes characters in string `old-value\"\n  [old-value]\n  (reduce (fn [acc escape-char]\n            (string\/replace acc escape-char (str \"\\\\\" escape-char)))\n          old-value escape-chars))\n\n(defn replace-ignore-case\n  [s old-value new-value]\n  (string\/replace s (re-pattern (str \"(?i)\" (escape-regex-chars old-value))) new-value))\n\n(defn replace-first-ignore-case\n  [s old-value new-value]\n  (string\/replace-first s (re-pattern (str \"(?i)\" (escape-regex-chars old-value))) new-value))\n\n(defn sort-coll-by-dependency\n  \"Sort the elements in the collection based on dependencies.\ncoll:  [{:id 1 :depend-on 2} {:id 2 :depend-on 3} {:id 3}]\nget-elem-id-fn: :id\nget-elem-dep-id-fn :depend-on\nreturn: [{:id 3} {:id 2 :depend-on 3} {:id 1 :depend-on 2}]\"\n  [get-elem-id-fn get-elem-dep-id-fn coll]\n  (let [id->elem (into {} (keep (juxt get-elem-id-fn identity)) coll)\n        id->dep-id (into {} (keep (juxt get-elem-id-fn get-elem-dep-id-fn)) coll)\n        all-ids (set (keys id->dep-id))\n        seen-ids (volatile! #{})        ; to check dep-cycle\n        sorted-ids\n        (loop [r []\n               rest-ids all-ids\n               id (first rest-ids)]\n          (if-not id\n            r\n            (if-let [dep-id (id->dep-id id)]\n              (let [next-id (get rest-ids dep-id)]\n                (if (and next-id\n                         ;; if found dep-cycle, break it\n                         (not (contains? @seen-ids next-id)))\n                  (do (vswap! seen-ids conj next-id)\n                      (recur r rest-ids next-id))\n                  (let [rest-ids* (disj rest-ids id)]\n                    (vreset! seen-ids #{})\n                    (recur (conj r id) rest-ids* (first rest-ids*)))))\n              ;; not found dep-id, so this id can be put into result now\n              (let [rest-ids* (disj rest-ids id)]\n                (vreset! seen-ids #{})\n                (recur (conj r id) rest-ids* (first rest-ids*))))))]\n    (mapv id->elem sorted-ids)))\n\n(defonce markdown-heading-pattern #\"^#+\\s+\")\n\n(defn clear-markdown-heading\n  [content]\n  [:pre (string? content)]\n  (string\/replace-first content markdown-heading-pattern \"\"))\n","(ns frontend.handler.property.util\n  \"Utility fns for properties that are for both file and db graphs.\n  Some fns like lookup and get-property were written to easily be backwards\n  compatible with file graphs\"\n  (:require [frontend.state :as state]\n            [frontend.db.conn :as conn]\n            [logseq.db.frontend.property.util :as db-property-util]))\n\n(defn lookup\n  \"Get the property value by a built-in property's db-ident from coll. For file and db graphs\"\n  [coll key]\n  (let [repo (state\/get-current-repo)]\n    (db-property-util\/lookup repo coll key)))\n\n(defn get-block-property-value\n  \"Get the value of a built-in block's property by its db-ident\"\n  [block db-ident]\n  (let [repo (state\/get-current-repo)\n        db (conn\/get-db repo)]\n    (db-property-util\/get-block-property-value repo db block db-ident)))\n\n(defn get-pid\n  \"Get a built-in property's id (db-ident or name) given its db-ident. For file and db graphs\"\n  [db-ident]\n  (let [repo (state\/get-current-repo)]\n    (db-property-util\/get-pid repo db-ident)))\n\n(defn block->shape [block]\n  (get-block-property-value block :logseq.property.tldraw\/shape))\n\n(defn page-block->tldr-page [block]\n  (get-block-property-value block :logseq.property.tldraw\/page))\n\n(defn shape-block?\n  [block]\n  (let [repo (state\/get-current-repo)\n        db (conn\/get-db repo)]\n    (db-property-util\/shape-block? repo db block)))","(ns frontend.state\n  \"Provides main application state, fns associated to set and state based rum\n  cursors\"\n  (:require [cljs-bean.core :as bean]\n            [cljs.core.async :as async :refer [>!]]\n            [cljs.spec.alpha :as s]\n            [clojure.set :as set]\n            [clojure.string :as string]\n            [datascript.core :as d]\n            [dommy.core :as dom]\n            [electron.ipc :as ipc]\n            [frontend.db.conn-state :as db-conn-state]\n            [frontend.db.transact :as db-transact]\n            [frontend.mobile.util :as mobile-util]\n            [frontend.rum :as r]\n            [frontend.spec.storage :as storage-spec]\n            [frontend.storage :as storage]\n            [frontend.util :as util]\n            [frontend.util.cursor :as cursor]\n            [goog.dom :as gdom]\n            [goog.object :as gobj]\n            [logseq.common.config :as common-config]\n            [logseq.db :as ldb]\n            [logseq.db.sqlite.util :as sqlite-util]\n            [logseq.shui.dialog.core :as shui-dialog]\n            [logseq.shui.ui :as shui]\n            [promesa.core :as p]\n            [rum.core :as rum]))\n\n(defonce *profile-state\n  (atom {}))\n\n(defonce *db-worker (atom nil))\n\n;; Stores main application state\n(defonce ^:large-vars\/data-var state\n  (let [document-mode? (or (storage\/get :document\/mode?) false)\n        current-graph  (let [url-graph (:graph (util\/parse-params))\n                             graph (or url-graph (storage\/get :git\/current-repo))]\n                         (when graph (ipc\/ipc \"setCurrentGraph\" graph))\n                         graph)]\n    (atom\n     {:route-match                           nil\n      :today                                 nil\n      :system\/events                         (async\/chan 1000)\n      :file\/unlinked-dirs                    #{}\n      :reactive\/custom-queries               (async\/chan 1000)\n      :notification\/show?                    false\n      :notification\/content                  nil\n      :repo\/loading-files?                   {}\n      :nfs\/user-granted?                     {}\n      :nfs\/refreshing?                       nil\n      :instrument\/disabled?                  (storage\/get \"instrument-disabled\")\n     ;; TODO: how to detect the network reliably?\n      :network\/online?         true\n      :indexeddb\/support?      true\n      :me                      nil\n      :git\/current-repo        current-graph\n      :draw?                   false\n      :db\/restoring?           nil\n\n      :journals-length                       3\n\n      :search\/q                              \"\"\n      :search\/mode                           nil ; nil -> global mode, :graph -> add graph filter, etc.\n      :search\/result                         nil\n      :search\/graph-filters                  []\n      :search\/engines                        {}\n\n      ;; modals\n      :modal\/dropdowns                       {}\n      :modal\/id                              nil\n\n      ;; ui\n      :ui\/viewport                           {}\n\n      ;; left sidebar\n      :ui\/navigation-item-collapsed?         {}\n      :ui\/recent-pages                       (or (storage\/get :ui\/recent-pages) {})\n\n     ;; right sidebar\n      :ui\/handbooks-open?                    false\n      :ui\/help-open?                         false\n      :ui\/fullscreen?                        false\n      :ui\/settings-open?                     false\n      :ui\/sidebar-open?                      false\n      :ui\/sidebar-width                      \"40%\"\n      :ui\/left-sidebar-open?                 (boolean (storage\/get \"ls-left-sidebar-open?\"))\n      :ui\/theme                              (or (storage\/get :ui\/theme) \"light\")\n      :ui\/system-theme?                      ((fnil identity (or util\/mac? util\/win32? false)) (storage\/get :ui\/system-theme?))\n      :ui\/custom-theme                       (or (storage\/get :ui\/custom-theme) {:light {:mode \"light\"} :dark {:mode \"dark\"}})\n      :ui\/wide-mode?                         (storage\/get :ui\/wide-mode)\n      :ui\/radix-color                        (storage\/get :ui\/radix-color)\n      :ui\/editor-font                        (storage\/get :ui\/editor-font)\n\n      ;; ui\/collapsed-blocks is to separate the collapse\/expand state from db for:\n      ;; 1. right sidebar\n      ;; 2. zoom-in view\n      ;; 3. queries\n      ;; 4. references\n      ;; graph => {:block-id bool}\n      :ui\/collapsed-blocks                   {}\n      :ui\/sidebar-collapsed-blocks           {}\n      :ui\/root-component                     nil\n      :ui\/file-component                     nil\n      :ui\/developer-mode?                    (or (= (storage\/get \"developer-mode\") \"true\")\n                                                 false)\n      ;; remember scroll positions of visited paths\n      :ui\/paths-scroll-positions             (atom {})\n      :ui\/main-container-scroll-top          (atom nil)\n      :ui\/shortcut-tooltip?                  (if (false? (storage\/get :ui\/shortcut-tooltip?))\n                                               false\n                                               true)\n      :ui\/scrolling?                         (atom false)\n      :ui\/show-empty-and-hidden-properties?  (atom {:mode :global\n                                                    :show? false})\n      :document\/mode?                        document-mode?\n\n      :config                                {}\n      :block\/component-editing-mode?         false\n      :editor\/op                             (atom nil)\n      :editor\/start-pos                      (atom nil)\n      :editor\/async-unsaved-chars            (atom nil)\n      :editor\/hidden-editors                 #{} ;; page names\n      :editor\/draw-mode?                     false\n\n      :editor\/action                         (atom nil)\n      :editor\/action-data                    nil\n      ;; With label or other data\n      :editor\/last-saved-cursor              (atom {})\n      :editor\/editing?                       (atom {})\n      :editor\/in-composition?                false\n      :editor\/content                        (atom {})\n      :editor\/block                          (atom nil)\n      :editor\/block-dom-id                   (atom nil)\n      :editor\/set-timestamp-block            (atom nil) ;; click rendered block timestamp-cp to set timestamp\n      :editor\/last-input-time                (atom {})\n      :editor\/document-mode?                 document-mode?\n      :editor\/args                           (atom nil)\n      :editor\/on-paste?                      (atom false)\n      :editor\/last-key-code                  (atom nil)\n      :ui\/global-last-key-code               (atom nil)\n      :editor\/block-op-type                  nil             ;; :cut, :copy\n      :editor\/block-refs                     (atom #{})\n\n      ;; Stores deleted refed blocks, indexed by repo\n      :editor\/last-replace-ref-content-tx    nil\n\n      ;; for audio record\n      :editor\/record-status                  \"NONE\"\n\n      :editor\/code-block-context             {}\n      :editor\/latest-shortcut                (atom nil)\n\n      :history\/paused?                       (atom false)\n      :editor\/cursor-range                   (atom nil)\n      :editor\/container-id                   (atom nil)\n      :editor\/next-edit-block                (atom nil)\n      :editor\/raw-mode-block                 (atom nil)\n      :editor\/virtualized-scroll-fn          nil\n\n      ;; Warning: blocks order is determined when setting this attribute\n      :selection\/blocks                      (atom [])\n      :selection\/start-block                 (atom nil)\n      ;; nil, :up or :down\n      ;; used to determine selection direction when two or more blocks are selected\n      :selection\/direction                   (atom nil)\n      :selection\/selected-all?               (atom false)\n      :custom-context-menu\/show?             false\n      :custom-context-menu\/links             nil\n      :custom-context-menu\/position          nil\n\n      ;; pages or blocks in the right sidebar\n      ;; It is a list of `[repo db-id block-type block-data]` 4-tuple\n      :sidebar\/blocks                        '()\n\n      :preferred-language                    (storage\/get :preferred-language)\n\n      ;; electron\n      :electron\/auto-updater-downloaded      false\n      :electron\/updater-pending?             false\n      :electron\/updater                      {}\n      :electron\/user-cfgs                    nil\n      :electron\/server                       nil\n      :electron\/window-maximized?            false\n      :electron\/window-fullscreen?           false\n\n      ;; assets\n      :assets\/alias-enabled?                 (or (storage\/get :assets\/alias-enabled?) false)\n      :assets\/alias-dirs                     (or (storage\/get :assets\/alias-dirs) [])\n\n      ;; mobile\n      :mobile\/container-urls                 nil\n      :mobile\/show-action-bar?               false\n      :mobile\/actioned-block                 nil\n      :mobile\/show-toolbar?                  false\n      :mobile\/show-recording-bar?            false\n      :mobile\/show-tabbar?                   false\n;;; Used to monitor mobile app status,\n;;; value spec:\n;;; {:is-active? bool, :timestamp int}\n      :mobile\/app-state-change                 (atom nil)\n\n      ;; plugin\n      :plugin\/enabled                        (and (util\/electron?)\n                                                  ;; true false :theme-only\n                                                  ((fnil identity true) (storage\/get ::storage-spec\/lsp-core-enabled)))\n      :plugin\/preferences                    nil\n      :plugin\/indicator-text                 nil\n      :plugin\/installed-plugins              {}\n      :plugin\/installed-themes               []\n      :plugin\/installed-slash-commands       {}\n      :plugin\/installed-ui-items             {}\n      :plugin\/installed-resources            {}\n      :plugin\/installed-hooks                {}\n      :plugin\/installed-services             {}\n      :plugin\/simple-commands                {}\n      :plugin\/selected-theme                 nil\n      :plugin\/selected-unpacked-pkg          nil\n      :plugin\/marketplace-pkgs               nil\n      :plugin\/marketplace-stats              nil\n      :plugin\/installing                     nil\n      :plugin\/active-readme                  nil\n      :plugin\/updates-auto-checking?         false\n      :plugin\/updates-pending                {}\n      :plugin\/updates-coming                 {}\n      :plugin\/updates-downloading?           false\n      :plugin\/updates-unchecked              #{}\n      :plugin\/navs-settings?                 true\n      :plugin\/focused-settings               nil ;; plugin id\n\n     ;; pdf\n      :pdf\/system-win?                       false\n      :pdf\/current                           nil\n      :pdf\/ref-highlight                     nil\n      :pdf\/block-highlight-colored?          (or (storage\/get \"ls-pdf-hl-block-is-colored\") true)\n      :pdf\/auto-open-ctx-menu?               (not= false (storage\/get \"ls-pdf-auto-open-ctx-menu\"))\n\n      ;; all notification contents as k-v pairs\n      :notification\/contents                 {}\n      :graph\/syncing?                        false\n      ;; graph -> state\n      :graph\/parsing-state                   {}\n\n      :copy\/export-block-text-indent-style   (or (storage\/get :copy\/export-block-text-indent-style)\n                                                 \"dashes\")\n      :copy\/export-block-text-remove-options (or (storage\/get :copy\/export-block-text-remove-options)\n                                                 #{})\n      :copy\/export-block-text-other-options  (or (storage\/get :copy\/export-block-text-other-options)\n                                                 {})\n      :date-picker\/date                      nil\n\n      :youtube\/players                       {}\n\n      ;; command palette\n      :command-palette\/commands              (atom [])\n\n      :view\/components                       {}\n\n      :srs\/mode?                             false\n\n      :srs\/cards-due-count                   nil\n\n      :reactive\/query-dbs                    {}\n\n      ;; login, userinfo, token, ...\n      :auth\/refresh-token                    (storage\/get \"refresh-token\")\n      :auth\/access-token                     nil\n      :auth\/id-token                         nil\n\n      ;; file-sync\n      :file-sync\/jstour-inst                   nil\n      :file-sync\/onboarding-state            (or (storage\/get :file-sync\/onboarding-state)\n                                                 {:welcome false})\n      :file-sync\/remote-graphs               {:loading false :graphs nil}\n      :file-sync\/set-remote-graph-password-result {}\n\n      ;; graph-uuid -> {:graphs-txid {}\n      ;;                :file-sync\/sync-manager {}\n      ;;                :file-sync\/sync-state {}\n      ;;                ;; {file-path -> payload}\n      ;;                :file-sync\/progress {}\n      ;;                :file-sync\/start-time {}\n      ;;                :file-sync\/last-synced-at {}}\n      :file-sync\/graph-state                 {:current-graph-uuid nil}\n      ;; graph-uuid -> ...\n\n      :rtc\/state                             (atom {})\n      ;; only latest rtc-log stored here, when a log stream is needed,\n      ;; use missionary to create a rtc-log-flow, use (missionary.core\/watch <atom>)\n      :rtc\/log                               (atom nil)\n      :rtc\/uploading?                        false\n      :rtc\/downloading-graph-uuid            nil\n      :rtc\/graphs                            []\n      :rtc\/online-info                       (atom {})\n\n      :user\/info                             {:UserGroups (storage\/get :user-groups)}\n      :encryption\/graph-parsing?             false\n\n      :ui\/loading?                           {}\n      :ui\/container-id                       (atom 0)\n      :ui\/cached-key->container-id           (atom {})\n      :feature\/enable-sync?                  (storage\/get :logseq-sync-enabled)\n      :feature\/enable-sync-diff-merge?       ((fnil identity true) (storage\/get :logseq-sync-diff-merge-enabled))\n\n      :file\/rename-event-chan                (async\/chan 100)\n      :ui\/find-in-page                       nil\n      :graph\/importing                       nil\n      :graph\/importing-state                 {}\n      :graph\/loading?                        nil\n      :handbook\/route-chan                   (async\/chan (async\/sliding-buffer 1))\n\n      :whiteboard\/onboarding-whiteboard?     (or (storage\/get :ls-onboarding-whiteboard?) false)\n      :whiteboard\/onboarding-tour?           (or (storage\/get :whiteboard-onboarding-tour?) false)\n      :whiteboard\/last-persisted-at          {}\n      :whiteboard\/pending-tx-data            {}\n      :system\/info                           {}\n      ;; Whether block is selected\n      :ui\/select-query-cache                 (atom {})\n      :favorites\/updated?                    (atom 0)\n      :db\/async-query-loading                (atom #{})\n      :db\/async-queries                      (atom {})\n      :db\/latest-transacted-entity-uuids     (atom {})})))\n\n;; Block ast state\n;; ===============\n\n;; block uuid -> {content(String) -> ast}\n(def blocks-ast-cache (atom {}))\n(defn add-block-ast-cache!\n  [block-uuid content ast]\n  (when (and block-uuid content ast)\n    (let [new-value (assoc-in @blocks-ast-cache [block-uuid content] ast)\n          new-value (if (> (count new-value) 10000)\n                      (into {} (take 5000 new-value))\n                      new-value)]\n      (reset! blocks-ast-cache new-value))))\n\n(defn get-block-ast\n  [block-uuid content]\n  (when (and block-uuid content)\n    (get-in @blocks-ast-cache [block-uuid content])))\n\n;; User configuration getters under :config (and sometimes :me)\n;; ========================================\n;; TODO: Refactor default config values to be data driven. Currently they are all\n;;  buried in getters\n;; TODO: Refactor our access to be more data driven. Currently each getter\n;;  (re-)fetches get-current-repo needlessly\n;; TODO: Add consistent validation. Only a few config options validate at get time\n\n(def common-default-config\n  \"Common default config for a user's repo config\"\n  {:feature\/enable-search-remove-accents? true\n   :ui\/auto-expand-block-refs? true\n\n   ;; For flushing the settings of old versions. Don't bump this value.\n   ;; There are only two kinds of graph, one is not upgraded (:legacy) and one is upgraded (:triple-lowbar)\n   ;; For not upgraded graphs, the config will have no key `:file\/name-format`\n   ;; Then the default value is applied\n   :file\/name-format :legacy})\n\n(def file-default-config\n  \"Default repo config for file graphs\"\n  (merge common-default-config\n         ;; The \"NOW\" query returns tasks with \"NOW\" or \"DOING\" status.\n         ;; The \"NEXT\" query returns tasks with \"NOW\", \"LATER\", or \"TODO\" status.\n         {:default-queries\n          {:journals\n           [{:title \"\ud83d\udd28 NOW\"\n             :query '[:find (pull ?h [*])\n                      :in $ ?start ?today\n                      :where\n                      (task ?h #{\"NOW\" \"DOING\"})\n                      [?h :block\/page ?p]\n                      [?p :block\/journal-day ?d]\n                      [(>= ?d ?start)]\n                      [(<= ?d ?today)]]\n             :inputs [:14d :today]\n             :result-transform '(fn [result]\n                                  (sort-by (fn [h]\n                                             (get h :block\/priority \"Z\")) result))\n             :group-by-page? false\n             :collapsed? false}\n            {:title \"\ud83d\udcc5 NEXT\"\n             :query '[:find (pull ?h [*])\n                      :in $ ?start ?next\n                      :where\n                      (task ?h #{\"NOW\" \"LATER\" \"TODO\"})\n                      [?h :block\/page ?p]\n                      [?p :block\/journal-day ?d]\n                      [(> ?d ?start)]\n                      [(< ?d ?next)]]\n             :inputs [:today :7d-after]\n             :group-by-page? false\n             :collapsed? false}]}}))\n\n(def db-default-config\n  \"Default repo config for DB graphs\"\n  (merge common-default-config\n         ;; The \"DOING\" query returns tasks with \"Doing\" status for recent past days\n         ;; The \"TODO\" query returns tasks with \"Todo\" status for upcoming future days\n         {:default-queries\n          {:journals\n           [{:title [:span (shui\/tabler-icon \"InProgress50\" {:class \"align-middle pr-1\"}) [:span.align-middle \"DOING\"]]\n             :query '[:find (pull ?b [*])\n                      :in $ ?start ?today\n                      :where\n                      (task ?b #{\"Doing\"})\n                      [?b :block\/page ?p]\n                      [?p :block\/journal-day ?d]\n                      [(>= ?d ?start)]\n                      [(<= ?d ?today)]]\n             :inputs [:14d :today]\n             :collapsed? false}\n            {:title [:span (shui\/tabler-icon \"Todo\" {:class \"align-middle pr-1\"}) [:span.align-middle \"TODO\"]]\n             :query '[:find (pull ?b [*])\n                      :in $ ?start ?next\n                      :where\n                      (task ?b #{\"Todo\"})\n                      [?b :block\/page ?p]\n                      [?p :block\/journal-day ?d]\n                      [(> ?d ?start)]\n                      [(< ?d ?next)]]\n             :inputs [:today :7d-after]\n             :group-by-page? false\n             :collapsed? false}]}\n          :ui\/hide-empty-properties? false}))\n\n;; State that most user config is dependent on\n(declare get-current-repo sub set-state!)\n\n(defn merge-configs\n  \"Merges user configs in given orders. All values are overridden except for maps\n  which are merged.\"\n  [& configs]\n  (->> configs\n       (filter map?)\n       (apply merge-with\n              (fn merge-config [current new]\n                (if (and (map? current) (map? new))\n                  (merge current new)\n                  new)))))\n\n(defn get-global-config\n  []\n  (get-in @state [:config ::global-config]))\n\n(defn get-global-config-str-content\n  []\n  (get-in @state [:config ::global-config-str-content]))\n\n(defn get-graph-config\n  ([] (get-graph-config (get-current-repo)))\n  ([repo-url] (get-in @state [:config repo-url])))\n\n(defn get-config\n  \"User config for the given repo or current repo if none given. All config fetching\nshould be done through this fn in order to get global config and config defaults\"\n  ([]\n   (get-config (get-current-repo)))\n  ([repo-url]\n   (merge-configs\n    (if (sqlite-util\/db-based-graph? repo-url) db-default-config file-default-config)\n    (get-global-config)\n    (get-graph-config repo-url))))\n\n(defonce publishing? (atom nil))\n\n(defn publishing-enable-editing?\n  []\n  (and @publishing? (:publishing\/enable-editing? (get-config))))\n\n(defn enable-editing?\n  []\n  (or (not @publishing?) (:publishing\/enable-editing? (get-config))))\n\n(defonce built-in-macros\n  {\"img\" \"[:img.$4 {:src \\\"$1\\\" :style {:width $2 :height $3}}]\"})\n\n(defn get-macros\n  []\n  (merge\n   built-in-macros\n   (:macros (get-config))))\n\n(defn set-assets-alias-enabled!\n  [v]\n  (set-state! :assets\/alias-enabled? (boolean v))\n  (storage\/set :assets\/alias-enabled? (boolean v)))\n\n(defn set-assets-alias-dirs!\n  [dirs]\n  (when dirs\n    (set-state! :assets\/alias-dirs dirs)\n    (storage\/set :assets\/alias-dirs dirs)))\n\n(defn get-custom-css-link\n  []\n  (:custom-css-url (get-config)))\n\n(defn get-custom-js-link\n  []\n  (:custom-js-url (get-config)))\n\n(defn get-default-journal-template\n  []\n  (when-let [template (get-in (get-config) [:default-templates :journals])]\n    (when-not (string\/blank? template)\n      (string\/trim template))))\n\n(defn all-pages-public?\n  []\n  (let [value (:publishing\/all-pages-public? (get-config))\n        value (if (some? value) value (:all-pages-public? (get-config)))]\n    (true? value)))\n\n(defn get-default-home\n  []\n  (:default-home (get-config)))\n\n(defn custom-home-page?\n  []\n  (some? (:page (get-default-home))))\n\n(defn get-preferred-format\n  ([]\n   (get-preferred-format (get-current-repo)))\n  ([repo-url]\n   (keyword\n    (or\n     (common-config\/get-preferred-format (get-config repo-url))\n     (get-in @state [:me :preferred_format] \"markdown\")))))\n\n(defn markdown?\n  []\n  (= (keyword (get-preferred-format))\n     :markdown))\n\n(defn get-pages-directory\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (:pages-directory (get-config repo)))\n   \"pages\"))\n\n(defn get-journals-directory\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (:journals-directory (get-config repo)))\n   \"journals\"))\n\n(defn get-whiteboards-directory\n  []\n  (or\n   (when-let [repo (get-current-repo)]\n     (:whiteboards-directory (get-config repo)))\n   \"whiteboards\"))\n\n(defn org-mode-file-link?\n  [repo]\n  (:org-mode\/insert-file-link? (get-config repo)))\n\n(defn get-journal-file-name-format\n  []\n  (when-let [repo (get-current-repo)]\n    (:journal\/file-name-format (get-config repo))))\n\n(defn get-preferred-workflow\n  []\n  (keyword\n   (or\n    (when-let [workflow (:preferred-workflow (get-config))]\n      (let [workflow (name workflow)]\n        (if (util\/safe-re-find #\"now|NOW\" workflow)\n          :now\n          :todo)))\n    (get-in @state [:me :preferred_workflow] :now))))\n\n(defn get-preferred-todo\n  []\n  (if (= (get-preferred-workflow) :now)\n    \"LATER\"\n    \"TODO\"))\n\n(defn get-filename-format\n  ([] (get-filename-format (get-current-repo)))\n  ([repo]\n   (:file\/name-format (get-config repo))))\n\n(defn get-date-formatter\n  []\n  (let [repo (get-current-repo)]\n    (if (sqlite-util\/db-based-graph? repo)\n      (when-let [conn (db-conn-state\/get-conn repo)]\n        (get (d\/entity @conn :logseq.class\/Journal)\n             :logseq.property.journal\/title-format\n             \"MMM do, yyyy\"))\n      (common-config\/get-date-formatter (get-config)))))\n\n(defn shortcuts []\n  (:shortcuts (get-config)))\n\n(defn get-commands\n  []\n  (:commands (get-config)))\n\n(defn get-scheduled-future-days\n  []\n  (let [days (:scheduled\/future-days (get-config))]\n    (or (when (int? days) days) 7)))\n\n(defn get-start-of-week\n  []\n  (or (:start-of-week (get-config))\n      (get-in @state [:me :settings :start-of-week])\n      6))\n\n(defn get-ref-open-blocks-level\n  []\n  (or\n   (when-let [value (:ref\/default-open-blocks-level (get-config))]\n     (when (integer? value)\n       value))\n   2))\n\n(defn get-linked-references-collapsed-threshold\n  []\n  (or\n   (when-let [value (:ref\/linked-references-collapsed-threshold (get-config))]\n     (when (integer? value)\n       value))\n   100))\n\n(defn get-export-bullet-indentation\n  []\n  (case (get (get-config) :export\/bullet-indentation :tab)\n    :eight-spaces\n    \"        \"\n    :four-spaces\n    \"    \"\n    :two-spaces\n    \"  \"\n    :tab\n    \"\\t\"))\n\n(defn enable-search-remove-accents?\n  []\n  (:feature\/enable-search-remove-accents? (get-config)))\n\n;; State cursor fns for use with rum components\n;; ============================================\n\n(declare document-mode?)\n\n(defn sub\n  \"Creates a rum cursor, https:\/\/github.com\/tonsky\/rum#cursors, for use in rum components.\nSimilar to re-frame subscriptions\"\n  [ks & {:keys [path-in-sub-atom]}]\n  (let [ks-coll?               (coll? ks)\n        get-fn                 (if ks-coll? get-in get)\n        s                      (get-fn @state ks)\n        s-atom?                (util\/atom? s)\n        path-coll?-in-sub-atom (coll? path-in-sub-atom)]\n    (cond\n      (and s-atom? path-in-sub-atom path-coll?-in-sub-atom)\n      (util\/react (rum\/cursor-in s path-in-sub-atom))\n\n      (and s-atom? path-in-sub-atom)\n      (util\/react (rum\/cursor s path-in-sub-atom))\n\n      s-atom?  (util\/react s)\n      ks-coll? (util\/react (rum\/cursor-in state ks))\n      :else    (util\/react (rum\/cursor state ks)))))\n\n(defn set-editing-block-id!\n  [container-block]\n  (reset! (:editor\/editing? @state) {container-block true}))\n\n(defn sub-editing?\n  [container-block]\n  (when container-block\n    (rum\/react\n     (r\/cached-derived-atom\n      (:editor\/editing? @state)\n      [(get-current-repo) ::editing-block container-block]\n      (fn [s]\n        (get s container-block))))))\n\n(defn sub-config\n  \"Sub equivalent to get-config which should handle all sub user-config access\"\n  ([] (sub-config (get-current-repo)))\n  ([repo]\n   (let [config (sub :config)]\n     (merge-configs (if (and (string? repo) (sqlite-util\/db-based-graph? repo)) db-default-config file-default-config)\n                    (get config ::global-config)\n                    (get config repo)))))\n\n(defn enable-grammarly?\n  []\n  (true? (:feature\/enable-grammarly? (sub-config))))\n\n(defn scheduled-deadlines-disabled?\n  []\n  (true? (:feature\/disable-scheduled-and-deadline-query? (sub-config))))\n\n(defn enable-timetracking?\n  []\n  (not (false? (:feature\/enable-timetracking? (sub-config)))))\n\n(defn enable-fold-button-right?\n  []\n  (let [_ (sub :ui\/viewport)]\n    (and (util\/mobile?)\n         (util\/sm-breakpoint?))))\n\n(defn enable-journals?\n  ([]\n   (enable-journals? (get-current-repo)))\n  ([repo]\n   (not (false? (:feature\/enable-journals? (sub-config repo))))))\n\n(defn enable-flashcards?\n  ([]\n   (enable-flashcards? (get-current-repo)))\n  ([repo]\n   (not (false? (:feature\/enable-flashcards? (sub-config repo))))))\n\n(defn enable-sync?\n  []\n  (sub :feature\/enable-sync?))\n\n(defn enable-sync-diff-merge?\n  []\n  (sub :feature\/enable-sync-diff-merge?))\n\n(defn enable-whiteboards?\n  ([]\n   (enable-whiteboards? (get-current-repo)))\n  ([repo]\n   (not (false? (:feature\/enable-whiteboards? (sub-config repo))))))\n\n(defn enable-rtc?\n  [repo]\n  (:feature\/enable-rtc? (sub-config repo)))\n\n(defn enable-git-auto-push?\n  [repo]\n  (not (false? (:git-auto-push (sub-config repo)))))\n\n(defn graph-settings\n  []\n  (:graph\/settings (sub-config)))\n\n(defn graph-forcesettings\n  []\n  (:graph\/forcesettings (sub-config)))\n\n;; Enable by default\n(defn show-brackets?\n  []\n  (not (false? (:ui\/show-brackets? (sub-config)))))\n\n(defn sub-default-home-page\n  []\n  (get-in (sub-config) [:default-home :page] \"\"))\n\n(defn- get-selected-block-ids\n  [blocks]\n  (->> blocks\n       (remove nil?)\n       (keep #(when-let [id (dom\/attr % \"blockid\")]\n                (uuid id)))\n       (distinct)))\n\n(defn block-content-max-length\n  [repo]\n  (or (:block\/title-max-length (sub-config repo))\n      ;; backward compatible\n      (:block\/content-max-length (sub-config repo))\n      10000))\n\n(defn mobile?\n  []\n  (or (util\/mobile?) (mobile-util\/native-platform?)))\n\n(defn enable-tooltip?\n  []\n  (if (mobile?)\n    false\n    (get (sub-config) :ui\/enable-tooltip? true)))\n\n(defn show-command-doc?\n  []\n  (get (sub-config) :ui\/show-command-doc? true))\n\n(defn logical-outdenting?\n  []\n  (:editor\/logical-outdenting? (sub-config)))\n\n(defn show-full-blocks?\n  []\n  (:ui\/show-full-blocks? (sub-config)))\n\n(defn preferred-pasting-file?\n  []\n  (:editor\/preferred-pasting-file? (sub-config)))\n\n(defn auto-expand-block-refs?\n  []\n  (:ui\/auto-expand-block-refs? (sub-config)))\n\n(defn doc-mode-enter-for-new-line?\n  []\n  (and (document-mode?)\n       (not (:shortcut\/doc-mode-enter-for-new-block? (get-config)))))\n\n(defn user-groups\n  []\n  (set (sub [:user\/info :UserGroups])))\n\n;; State mutation helpers\n;; ======================\n\n(defn set-state!\n  [path value & {:keys [path-in-sub-atom]}]\n  (swap! *profile-state update path inc)\n  (let [path-coll?             (coll? path)\n        get-fn                 (if path-coll? get-in get)\n        s                      (get-fn @state path)\n        s-atom?                (util\/atom? s)\n        path-coll?-in-sub-atom (coll? path-in-sub-atom)]\n    (cond\n      (and s-atom? path-in-sub-atom path-coll?-in-sub-atom)\n      (let [old-v (get-in @s path-in-sub-atom)]\n        (when (not= old-v value)\n          (swap! s assoc-in path-in-sub-atom value)))\n\n      (and s-atom? path-in-sub-atom)\n      (let [old-v (get @s path-in-sub-atom)]\n        (when (not= old-v value)\n          (swap! s assoc path-in-sub-atom value)))\n\n      s-atom?\n      (when (not= @s value)\n        (reset! s value))\n\n      path-coll?\n      (when (not= s value)\n        (swap! state assoc-in path value))\n\n      :else\n      (when (not= s value)\n        (swap! state assoc path value))))\n  nil)\n\n(defn update-state!\n  [path f & {:keys [path-in-sub-atom]}]\n  (swap! *profile-state update path inc)\n  (let [path-coll?             (coll? path)\n        get-fn                 (if path-coll? get-in get)\n        s                      (get-fn @state path)\n        s-atom?                (util\/atom? s)\n        path-coll?-in-sub-atom (coll? path-in-sub-atom)]\n    (cond\n      (and s-atom? path-in-sub-atom path-coll?-in-sub-atom)\n      (swap! s update-in path-in-sub-atom f)\n\n      (and s-atom? path-in-sub-atom)\n      (swap! s update path-in-sub-atom f)\n\n      s-atom?    (swap! s f)\n      path-coll? (swap! state update-in path f)\n      :else      (swap! state update path f)))\n  nil)\n\n;; State getters and setters\n;; =========================\n;; These fns handle any key except :config.\n;; Some state is also stored in local storage and\/or sent to electron's main process\n\n(defn get-route-match\n  []\n  (:route-match @state))\n\n(defn get-current-route\n  []\n  (get-in (get-route-match) [:data :name]))\n\n(defn home?\n  []\n  (= :home (get-current-route)))\n\n(defn whiteboard-dashboard?\n  []\n  (= :whiteboards (get-current-route)))\n\n(defn get-current-page\n  []\n  (when (= :page (get-current-route))\n    (get-in (get-route-match)\n            [:path-params :name])))\n\n(defn route-has-p?\n  []\n  (get-in (get-route-match) [:query-params :p]))\n\n(defn get-current-repo\n  \"Returns the current repo URL, or else open demo graph\"\n  []\n  (:git\/current-repo @state))\n\n(defn get-remote-file-graphs\n  []\n  (get-in @state [:file-sync\/remote-graphs :graphs]))\n\n(defn get-rtc-graphs\n  []\n  (:rtc\/graphs @state))\n\n(defn get-remote-graph-info-by-uuid\n  [uuid]\n  (when-let [graphs (seq (get-in @state [:file-sync\/remote-graphs :graphs]))]\n    (some #(when (= (:GraphUUID %) (str uuid)) %) graphs)))\n\n(defn get-remote-graph-usage\n  []\n  (when-let [graphs (seq (get-in @state [:file-sync\/remote-graphs :graphs]))]\n    (->> graphs\n         (map #(hash-map :uuid (:GraphUUID %)\n                         :name (:GraphName %)\n                         :used-gbs (\/ (:GraphStorageUsage %) 1024 1024 1024)\n                         :limit-gbs (\/ (:GraphStorageLimit %) 1024 1024 1024)\n                         :used-percent (\/ (:GraphStorageUsage %) (:GraphStorageLimit %) 0.01)))\n         (map #(assoc % :free-gbs (- (:limit-gbs %) (:used-gbs %))))\n         (vec))))\n\n(defn delete-remote-graph!\n  [repo]\n  (let [remove-repo! (fn [repos]\n                       (remove #(and\n                                 (:GraphUUID repo)\n                                 (:GraphUUID %)\n                                 (= (:GraphUUID repo) (:GraphUUID %))) repos))]\n    (if (:rtc-graph? repo)\n      (swap! state update :rtc\/graphs remove-repo!)\n      (swap! state update-in [:file-sync\/remote-graphs :graphs] remove-repo!))))\n\n(defn add-remote-graph!\n  [repo]\n  (swap! state update-in [:file-sync\/remote-graphs :graphs]\n         (fn [repos]\n           (->> (conj repos repo)\n                (distinct)))))\n\n(defn get-repos\n  []\n  (get-in @state [:me :repos]))\n\n(defn set-repos!\n  [repos]\n  (set-state! [:me :repos] (distinct repos)))\n\n(defn add-repo!\n  [repo]\n  (when (not (string\/blank? repo))\n    (update-state! [:me :repos]\n                   (fn [repos]\n                     (->> (conj repos repo)\n                          (distinct))))))\n\n(defn set-current-repo!\n  [repo]\n  (swap! state assoc :git\/current-repo repo)\n  (if repo\n    (storage\/set :git\/current-repo repo)\n    (storage\/remove :git\/current-repo))\n  (ipc\/ipc \"setCurrentGraph\" repo))\n\n(defn set-preferred-format!\n  [format]\n  (swap! state assoc-in [:me :preferred_format] (name format)))\n\n(defn set-preferred-workflow!\n  [workflow]\n  (swap! state assoc-in [:me :preferred_workflow] (name workflow)))\n\n(defn set-preferred-language!\n  [language]\n  (set-state! :preferred-language (name language))\n  (storage\/set :preferred-language (name language)))\n\n(defn delete-repo!\n  [repo]\n  (swap! state update-in [:me :repos]\n         (fn [repos]\n           (->> (remove #(or (= (:url repo) (:url %))\n                             (and\n                              (:GraphUUID repo)\n                              (:GraphUUID %)\n                              (= (:GraphUUID repo) (:GraphUUID %)))) repos)\n                (util\/distinct-by :url)))))\n\n(defn set-timestamp-block!\n  [value]\n  (set-state! :editor\/set-timestamp-block value))\n\n(defn get-timestamp-block\n  []\n  @(:editor\/set-timestamp-block @state))\n\n(defn get-edit-block\n  []\n  @(get @state :editor\/block))\n\n(defn set-edit-content!\n  ([input-id value] (set-edit-content! input-id value true))\n  ([input-id value set-input-value?]\n   (when input-id\n     (when set-input-value?\n       (when-let [input (gdom\/getElement input-id)]\n         (util\/set-change-value input value)))\n     (set-state! :editor\/content value :path-in-sub-atom\n                 (or (:block\/uuid (get-edit-block)) input-id)))))\n\n(defn editing?\n  []\n  (seq @(:editor\/editing? @state)))\n\n(defn get-edit-input-id\n  []\n  (when-not (exists? js\/process)\n    (when (editing?)\n      (try\n        (when-let [elem (or (when-let [id (:block\/uuid (get-edit-block))]\n                              (gdom\/getElement (str \"edit-block-\" id)))\n                            js\/document.activeElement)]\n          (when (util\/input? elem)\n            (let [id (gobj\/get elem \"id\")]\n              (when (string\/starts-with? id \"edit-block-\")\n                id))))\n        (catch :default _e)))))\n\n(defn get-input\n  []\n  (when-let [id (get-edit-input-id)]\n    (gdom\/getElement id)))\n\n(defn get-edit-content\n  []\n  (when-let [id (:block\/uuid (get-edit-block))]\n    (get @(:editor\/content @state) id)))\n\n(defn sub-edit-content\n  ([]\n   (sub-edit-content (:block\/uuid (get-edit-block))))\n  ([block-id]\n   (when block-id\n     (sub :editor\/content {:path-in-sub-atom block-id}))))\n\n(defn set-selection-start-block!\n  [start-block]\n  (set-state! :selection\/start-block start-block))\n\n(defn get-selection-start-block\n  []\n  (or @(get @state :selection\/start-block)\n      (when-let [edit-block (get-edit-block)]\n        (let [id (str \"ls-block-\" (:block\/uuid edit-block))]\n          (set-selection-start-block! id)\n          id))))\n\n(defn get-cursor-range\n  []\n  @(:editor\/cursor-range @state))\n\n(defn set-cursor-range!\n  [range]\n  (set-state! :editor\/cursor-range range))\n\n(defn set-search-mode!\n  [value]\n  (set-state! :search\/mode value))\n\n(defn set-editor-action!\n  [value]\n  (set-state! :editor\/action value))\n\n(defn set-editor-action-data!\n  [value]\n  (set-state! :editor\/action-data value))\n\n(defn get-editor-action\n  []\n  @(:editor\/action @state))\n\n(defn get-editor-action-data\n  []\n  (:editor\/action-data @state))\n\n(defn get-editor-show-page-search?\n  []\n  (= (get-editor-action) :page-search))\n\n(defn get-editor-show-page-search-hashtag?\n  []\n  (= (get-editor-action) :page-search-hashtag))\n\n(defn get-editor-show-block-search?\n  []\n  (= (get-editor-action) :block-search))\n\n(defn set-editor-show-input!\n  [value]\n  (if value\n    (do\n      (set-editor-action-data! (assoc (get-editor-action-data) :options value))\n      (set-editor-action! :input))\n    (do\n      (set-editor-action! nil)\n      (set-editor-action-data! nil))))\n\n(defn get-editor-show-input\n  []\n  (when (= (get-editor-action) :input)\n    (get @state :editor\/action-data)))\n\n(defn set-editor-show-commands!\n  []\n  (when-not (get-editor-action) (set-editor-action! :commands)))\n\n(defn clear-editor-action!\n  []\n  (set-state! :editor\/action nil))\n\n(defn get-edit-pos\n  []\n  (when-let [input (get-input)]\n    (util\/get-selection-start input)))\n\n(defn get-selection-direction\n  []\n  @(:selection\/direction @state))\n\n(defn get-unsorted-selection-blocks\n  []\n  @(:selection\/blocks @state))\n\n(defn get-selection-blocks\n  []\n  (let [result (get-unsorted-selection-blocks)\n        direction (get-selection-direction)]\n    (if (= direction :up)\n      (vec (reverse result))\n      result)))\n\n(defn get-selection-block-ids\n  []\n  (get-selected-block-ids (get-selection-blocks)))\n\n(defn dom-clear-selection!\n  []\n  (doseq [node (dom\/by-class \"ls-block selected\")]\n    (dom\/remove-class! node \"selected\")))\n\n(defn mark-dom-blocks-as-selected\n  ([]\n   (mark-dom-blocks-as-selected (get-selection-block-ids)))\n  ([ids]\n   (doseq [id ids]\n     (doseq [node (array-seq (gdom\/getElementsByClass (str \"id\" id)))]\n       (dom\/add-class! node \"selected\")))))\n\n(defn- set-selection-blocks-aux!\n  [blocks]\n  (let [selected-ids (set (get-selected-block-ids @(:selection\/blocks @state)))\n        _ (set-state! :selection\/blocks blocks)\n        new-ids (set (get-selection-block-ids))\n        added (set\/difference new-ids selected-ids)\n        removed (set\/difference selected-ids new-ids)]\n    (mark-dom-blocks-as-selected added)\n    (doseq [id removed]\n      (doseq [node (array-seq (gdom\/getElementsByClass (str \"id\" id)))]\n        (dom\/remove-class! node \"selected\")))))\n\n(defn set-selection-blocks!\n  ([blocks]\n   (set-selection-blocks! blocks nil))\n  ([blocks direction]\n   (when (seq blocks)\n     (let [blocks (vec (remove nil? blocks))]\n       (set-selection-blocks-aux! blocks)\n       (when direction (set-state! :selection\/direction direction))))))\n\n(defn state-clear-selection!\n  []\n  (set-state! :selection\/blocks nil)\n  (set-state! :selection\/direction nil)\n  (set-state! :selection\/start-block nil)\n  (set-state! :selection\/selected-all? false))\n\n(defn clear-selection!\n  []\n  (dom-clear-selection!)\n  (state-clear-selection!))\n\n(defn get-selection-start-block-or-first\n  []\n  (or (get-selection-start-block)\n      (some-> (first (get-selection-blocks))\n              (gobj\/get \"id\"))))\n\n(defn selection?\n  \"True sense of selection mode with valid selected block\"\n  []\n  (seq (get-selection-blocks)))\n\n(defn conj-selection-block!\n  [block-or-blocks direction]\n  (let [selection-blocks (get-unsorted-selection-blocks)\n        block-or-blocks (if (sequential? block-or-blocks) block-or-blocks [block-or-blocks])\n        blocks (-> (concat selection-blocks block-or-blocks)\n                   distinct)]\n    (set-selection-blocks! blocks direction)))\n\n(defn drop-selection-block!\n  [block]\n  (set-selection-blocks-aux! (-> (remove #(= block %) (get-unsorted-selection-blocks))\n                                 vec)))\n\n(defn drop-selection-blocks-starts-with!\n  [block]\n  (let [blocks (get-unsorted-selection-blocks)\n        blocks' (-> (take-while (fn [b] (not= (.-id b) (.-id block))) blocks)\n                    vec\n                    (conj block))]\n    (set-selection-blocks-aux! blocks')))\n\n(defn drop-last-selection-block!\n  []\n  (let [blocks @(:selection\/blocks @state)\n        blocks' (vec (butlast blocks))]\n    (set-selection-blocks-aux! blocks')\n    (last blocks)))\n\n(defn hide-custom-context-menu!\n  []\n  (swap! state assoc\n         :custom-context-menu\/show? false\n         :custom-context-menu\/links nil\n         :custom-context-menu\/position nil))\n\n(defn toggle-navigation-item-collapsed!\n  [item]\n  (update-state! [:ui\/navigation-item-collapsed? item] not))\n\n(defn toggle-sidebar-open?!\n  []\n  (swap! state update :ui\/sidebar-open? not))\n\n(defn open-right-sidebar!\n  []\n  (swap! state assoc :ui\/sidebar-open? true))\n\n(defn hide-right-sidebar!\n  []\n  (swap! state assoc :ui\/sidebar-open? false))\n\n(defn sidebar-move-block!\n  [from to]\n  (update-state! :sidebar\/blocks (fn [blocks]\n                                   (let [to (if (> from to) (inc to) to)]\n                                     (if (not= to from)\n                                       (let [item (nth blocks from)\n                                             blocks (keep-indexed #(when (not= %1 from) %2) blocks)\n                                             [l r] (split-at to blocks)]\n                                         (concat l [item] r))\n                                       blocks)))))\n\n(defn sidebar-remove-block!\n  [idx]\n  (update-state! :sidebar\/blocks (fn [blocks]\n                                   (if (string? idx)\n                                     (remove #(= (second %) idx) blocks)\n                                     (util\/drop-nth idx blocks))))\n  (when (empty? (:sidebar\/blocks @state))\n    (hide-right-sidebar!)))\n\n(defn sidebar-remove-deleted-block!\n  [ids]\n  (let [ids-set (set ids)]\n    (update-state! :sidebar\/blocks (fn [items]\n                                     (remove (fn [[repo id _]]\n                                               (and (= repo (get-current-repo)) (contains? ids-set id))) items)))\n    (when (empty? (:sidebar\/blocks @state))\n      (hide-right-sidebar!))))\n\n(defn sidebar-remove-rest!\n  [db-id]\n  (update-state! :sidebar\/blocks (fn [blocks]\n                                   (remove #(not= (second %) db-id) blocks)))\n  (set-state! [:ui\/sidebar-collapsed-blocks db-id] false))\n\n(defn sidebar-replace-block!\n  [old-sidebar-key new-sidebar-key]\n  (update-state! :sidebar\/blocks (fn [blocks]\n                                   (map #(if (= % old-sidebar-key)\n                                           new-sidebar-key\n                                           %) blocks))))\n\n(defn sidebar-block-exists?\n  [idx]\n  (some #(= (second %) idx) (:sidebar\/blocks @state)))\n\n(defn clear-sidebar-blocks!\n  []\n  (set-state! :sidebar\/blocks '()))\n\n(defn sidebar-block-toggle-collapse!\n  [db-id]\n  (when db-id\n    (update-state! [:ui\/sidebar-collapsed-blocks db-id] not)))\n\n(defn sidebar-block-collapse-rest!\n  [db-id]\n  (let [items (disj (set (map second (:sidebar\/blocks @state))) db-id)]\n    (doseq [item items] (set-state! [:ui\/sidebar-collapsed-blocks item] true))))\n\n(defn sidebar-block-set-collapsed-all!\n  [collapsed?]\n  (let [items (map second (:sidebar\/blocks @state))]\n    (doseq [item items]\n      (set-state! [:ui\/sidebar-collapsed-blocks item] collapsed?))))\n\n(defn clear-editor-last-pos!\n  []\n  (set-state! :editor\/last-saved-cursor {}))\n\n(defn clear-cursor-range!\n  []\n  (set-state! :editor\/cursor-range nil))\n\n(defn clear-edit!\n  [& {:keys [clear-editing-block?]\n      :or {clear-editing-block? true}}]\n  (clear-editor-action!)\n  (when clear-editing-block?\n    (set-state! :editor\/editing? {})\n    (set-state! :editor\/block nil))\n  (set-state! :editor\/start-pos nil)\n  (clear-editor-last-pos!)\n  (clear-cursor-range!)\n  (set-state! :editor\/content {})\n  (set-state! :ui\/select-query-cache {})\n  (set-state! :editor\/block-refs #{})\n  (set-state! :editor\/action-data nil))\n\n(defn into-code-editor-mode!\n  []\n  (set-state! :editor\/cursor-range nil)\n  (swap! state merge {:editor\/code-mode? true}))\n\n(defn set-editor-last-pos!\n  [new-pos]\n  (update-state! :editor\/last-saved-cursor\n                 (fn [m] (assoc m (:block\/uuid (get-edit-block)) new-pos))))\n\n(defn get-editor-last-pos\n  []\n  (get @(:editor\/last-saved-cursor @state) (:block\/uuid (get-edit-block))))\n\n(defn set-block-content-and-last-pos!\n  [edit-input-id content new-pos]\n  (when edit-input-id\n    (set-edit-content! edit-input-id content)\n    (set-editor-last-pos! new-pos)))\n\n(defn set-theme-mode!\n  [mode]\n  (when (mobile-util\/native-platform?)\n    (if (= mode \"light\")\n      (util\/set-theme-light)\n      (util\/set-theme-dark)))\n  (set-state! :ui\/theme mode)\n  (storage\/set :ui\/theme mode))\n\n(defn sync-system-theme!\n  []\n  (let [system-dark? (.-matches (js\/window.matchMedia \"(prefers-color-scheme: dark)\"))]\n    (set-theme-mode! (if system-dark? \"dark\" \"light\"))\n    (set-state! :ui\/system-theme? true)\n    (storage\/set :ui\/system-theme? true)))\n\n(defn use-theme-mode!\n  [theme-mode]\n  (if (= theme-mode \"system\")\n    (sync-system-theme!)\n    (do\n      (set-theme-mode! theme-mode)\n      (set-state! :ui\/system-theme? false)\n      (storage\/set :ui\/system-theme? false))))\n\n(defn- toggle-theme\n  [theme]\n  (if (= theme \"dark\") \"light\" \"dark\"))\n\n(defn toggle-theme!\n  []\n  (use-theme-mode! (toggle-theme (:ui\/theme @state))))\n\n(defn set-custom-theme!\n  ([custom-theme]\n   (set-custom-theme! nil custom-theme))\n  ([mode theme]\n   (set-state! (if mode [:ui\/custom-theme (keyword mode)] :ui\/custom-theme) theme)\n   (storage\/set :ui\/custom-theme (:ui\/custom-theme @state))))\n\n(defn restore-mobile-theme!\n  \"Restore mobile theme setting from local storage\"\n  []\n  (let [mode (or (storage\/get :ui\/theme) \"light\")\n        system-theme? (storage\/get :ui\/system-theme?)]\n    (when (and (not system-theme?)\n               (mobile-util\/native-platform?))\n      (if (= mode \"light\")\n        (util\/set-theme-light)\n        (util\/set-theme-dark)))))\n\n(defn set-editing-block-dom-id!\n  [block-dom-id]\n  (set-state! :editor\/block-dom-id block-dom-id))\n\n(defn get-editing-block-dom-id\n  []\n  @(:editor\/block-dom-id @state))\n\n(defn set-root-component!\n  [component]\n  (set-state! :ui\/root-component component))\n\n(defn get-root-component\n  []\n  (get @state :ui\/root-component))\n\n(defn load-app-user-cfgs\n  ([] (load-app-user-cfgs false))\n  ([refresh?]\n   (when (util\/electron?)\n     (p\/let [cfgs (if (or refresh? (nil? (:electron\/user-cfgs @state)))\n                    (ipc\/ipc :userAppCfgs)\n                    (:electron\/user-cfgs @state))\n             cfgs (if (object? cfgs) (bean\/->clj cfgs) cfgs)]\n       (set-state! :electron\/user-cfgs cfgs)))))\n\n(defn setup-electron-updater!\n  []\n  (when (util\/electron?)\n    (js\/window.apis.setUpdatesCallback\n     (fn [_ args]\n       (let [data (bean\/->clj args)\n             pending? (not= (:type data) \"completed\")]\n         (set-state! :electron\/updater-pending? pending?)\n         (when pending? (set-state! :electron\/updater data))\n         nil)))))\n\n(defn set-file-component!\n  [component]\n  (set-state! :ui\/file-component component))\n\n(defn clear-file-component!\n  []\n  (set-state! :ui\/file-component nil))\n\n(defn set-journals-length!\n  [value]\n  (when value\n    (set-state! :journals-length value)))\n\n(defn save-scroll-position!\n  ([value]\n   (save-scroll-position! value js\/window.location.hash))\n  ([value path]\n   (set-state! :ui\/paths-scroll-positions value :path-in-sub-atom path)))\n\n(defn save-main-container-position!\n  [value]\n  (when (not= value @(:ui\/main-container-scroll-top @state))\n    (set-state! :ui\/main-container-scroll-top value)))\n\n(defn get-saved-scroll-position\n  ([]\n   (get-saved-scroll-position js\/window.location.hash))\n  ([path]\n   (get @(get @state :ui\/paths-scroll-positions) path 0)))\n\n(defn set-today!\n  [value]\n  (set-state! :today value))\n\n(defn get-me\n  []\n  (:me @state))\n\n(defn set-db-restoring!\n  [value]\n  (set-state! :db\/restoring? value))\n\n(defn set-indexedb-support!\n  [value]\n  (set-state! :indexeddb\/support? value))\n\n(defn modal-opened?\n  []\n  (shui-dialog\/has-modal?))\n\n(defn close-modal! []\n  (shui\/dialog-close!))\n\n(defn get-reactive-custom-queries-chan\n  []\n  (:reactive\/custom-queries @state))\n\n(defn get-left-sidebar-open?\n  []\n  (get-in @state [:ui\/left-sidebar-open?]))\n\n(defn set-left-sidebar-open!\n  [value]\n  (storage\/set \"ls-left-sidebar-open?\" (boolean value))\n  (set-state! :ui\/left-sidebar-open? value))\n\n(defn toggle-left-sidebar!\n  []\n  (set-left-sidebar-open!\n   (not (get-left-sidebar-open?))))\n\n(defn set-developer-mode!\n  [value]\n  (set-state! :ui\/developer-mode? value)\n  (storage\/set \"developer-mode\" (str value)))\n\n(defn developer-mode?\n  []\n  (:ui\/developer-mode? @state))\n\n(defn get-notification-contents\n  []\n  (get @state :notification\/contents))\n\n(defn document-mode?\n  []\n  (get @state :document\/mode?))\n\n(defn toggle-document-mode!\n  []\n  (let [mode (document-mode?)]\n    (set-state! :document\/mode? (not mode))\n    (storage\/set :document\/mode? (not mode))))\n\n(defn shortcut-tooltip-enabled?\n  []\n  (get @state :ui\/shortcut-tooltip?))\n\n(defn toggle-shortcut-tooltip!\n  []\n  (let [mode (shortcut-tooltip-enabled?)]\n    (set-state! :ui\/shortcut-tooltip? (not mode))\n    (storage\/set :ui\/shortcut-tooltip? (not mode))))\n\n(defn set-config!\n  [repo-url value]\n  (when value (set-state! [:config repo-url] value)))\n\n(defn set-global-config!\n  [value str-content]\n  ;; Placed under :config so cursors can work seamlessly\n  (when value\n    (set-config! ::global-config value)\n    (set-config! ::global-config-str-content str-content)))\n\n(defn get-wide-mode?\n  []\n  (:ui\/wide-mode? @state))\n\n(defn toggle-wide-mode!\n  []\n  (update-state! :ui\/wide-mode? not))\n\n(defn set-online!\n  [value]\n  (set-state! :network\/online? value))\n\n(defn get-plugins-slash-commands\n  []\n  (mapcat seq (flatten (vals (:plugin\/installed-slash-commands @state)))))\n\n(defn get-plugins-commands-with-type\n  [type]\n  (->> (apply concat (vals (:plugin\/simple-commands @state)))\n       (filterv #(= (keyword (first %)) (keyword type)))))\n\n(defn get-plugins-ui-items-with-type\n  [type]\n  (->> (apply concat (vals (:plugin\/installed-ui-items @state)))\n       (filterv #(= (keyword (first %)) (keyword type)))))\n\n(defn get-plugin-resources-with-type\n  [pid type]\n  (when-let [pid (and type (keyword pid))]\n    (get-in @state [:plugin\/installed-resources pid (keyword type)])))\n\n(defn get-plugin-resource\n  [pid type key]\n  (when-let [resources (get-plugin-resources-with-type pid type)]\n    (get resources key)))\n\n(defn upt-plugin-resource\n  [pid type key attr val]\n  (when-let [resource (get-plugin-resource pid type key)]\n    (let [resource (assoc resource (keyword attr) val)]\n      (set-state!\n       [:plugin\/installed-resources (keyword pid) (keyword type) key] resource)\n      resource)))\n\n(defn get-plugin-services\n  [pid type]\n  (when-let [installed (and pid (:plugin\/installed-services @state))]\n    (some->> (seq (get installed (keyword pid)))\n             (filterv #(= type (:type %))))))\n\n(defn install-plugin-service\n  ([pid type name] (install-plugin-service pid type name nil))\n  ([pid type name opts]\n   (when-let [pid (and pid type name (keyword pid))]\n     (let [exists (get-plugin-services pid type)]\n       (when-let [service (and (or (not exists) (not (some #(= name (:name %)) exists)))\n                               {:pid pid :type type :name name :opts opts})]\n         (update-state! [:plugin\/installed-services pid] #(conj (vec %) service))\n\n         ;; search engines state for results\n         (when (= type :search)\n           (set-state! [:search\/engines (str pid name)] service)))))))\n\n(defn uninstall-plugin-service\n  [pid type-or-all]\n  (when-let [pid (keyword pid)]\n    (when-let [installed (get (:plugin\/installed-services @state) pid)]\n      (let [remove-all? (or (true? type-or-all) (nil? type-or-all))\n            remains     (if remove-all? nil (filterv #(not= type-or-all (:type %)) installed))\n            removed     (if remove-all? installed (filterv #(= type-or-all (:type %)) installed))]\n        (set-state! [:plugin\/installed-services pid] remains)\n\n        ;; search engines state for results\n        (when-let [removed' (seq (filter #(= :search (:type %)) removed))]\n          (update-state! :search\/engines #(apply dissoc % (mapv (fn [{:keys [pid name]}] (str pid name)) removed'))))))))\n\n(defn get-all-plugin-services-with-type\n  [type]\n  (when-let [installed (vals (:plugin\/installed-services @state))]\n    (mapcat (fn [s] (filter #(= (keyword type) (:type %)) s)) installed)))\n\n(defn get-all-plugin-search-engines\n  []\n  (:search\/engines @state))\n\n(defn update-plugin-search-engine\n  [pid name f]\n  (when-let [pid (keyword pid)]\n    (set-state! :search\/engines\n                (update-vals (get-all-plugin-search-engines)\n                             #(if (and (= pid (:pid %)) (= name (:name %)))\n                                (f %) %)))))\n\n(defn reset-plugin-search-engines\n  []\n  (when-let [engines (get-all-plugin-search-engines)]\n    (set-state! :search\/engines\n                (update-vals engines #(assoc % :result nil)))))\n\n(defn install-plugin-hook\n  ([pid hook] (install-plugin-hook pid hook true))\n  ([pid hook opts]\n   (when-let [pid (keyword pid)]\n     (set-state!\n      [:plugin\/installed-hooks hook]\n      (assoc\n       ((fnil identity {}) (get-in @state [:plugin\/installed-hooks hook]))\n       pid opts)) true)))\n\n(defn uninstall-plugin-hook\n  [pid hook-or-all]\n  (when-let [pid (keyword pid)]\n    (if (nil? hook-or-all)\n      (swap! state update :plugin\/installed-hooks #(update-vals % (fn [ids] (dissoc ids pid))))\n      (when-let [coll (get-in @state [:plugin\/installed-hooks hook-or-all])]\n        (set-state! [:plugin\/installed-hooks hook-or-all] (dissoc coll pid))))\n    true))\n\n(defn slot-hook-exist?\n  [uuid]\n  (when-let [type (and uuid (string\/replace (str uuid) \"-\" \"_\"))]\n    (when-let [hooks (sub :plugin\/installed-hooks)]\n      (contains? hooks (str \"hook:editor:slot_\" type)))))\n\n(defn active-tldraw-app\n  []\n  (when-let [tldraw-el (.querySelector js\/document.body \".logseq-tldraw[data-tlapp]\")]\n    (gobj\/get js\/window.tlapps (.. tldraw-el -dataset -tlapp))))\n\n(defn tldraw-editing-logseq-block?\n  []\n  (when-let [app (active-tldraw-app)]\n    (and (= 1 (.. app -selectedShapesArray -length))\n         (= (.. app -editingShape) (.. app -selectedShapesArray (at 0))))))\n\n(defn set-graph-syncing?\n  [value]\n  (set-state! :graph\/syncing? value))\n\n(defn set-editor-in-composition!\n  [value]\n  (set-state! :editor\/in-composition? value))\n\n(defn editor-in-composition?\n  []\n  (:editor\/in-composition? @state))\n\n(defn set-loading-files!\n  [repo value]\n  (when repo\n    (set-state! [:repo\/loading-files? repo] value)))\n\n(defn loading-files?\n  [repo]\n  (get-in @state [:repo\/loading-files? repo]))\n\n(defn set-editor-last-input-time!\n  [repo time]\n  (set-state! :editor\/last-input-time time :path-in-sub-atom repo))\n\n(defn input-idle?\n  [repo & {:keys [diff]\n           :or {diff 1000}}]\n  (when repo\n    (let [last-input-time (get @(get @state :editor\/last-input-time) repo)]\n      (or\n       (nil? last-input-time)\n\n       (let [now (util\/time-ms)]\n         (>= (- now last-input-time) diff))\n\n       ;; not in editing mode\n       ;; Is this a good idea to put whiteboard check here?\n       (not (get-edit-input-id))))))\n\n(defn set-nfs-refreshing!\n  [value]\n  (set-state! :nfs\/refreshing? value))\n\n(defn nfs-refreshing?\n  []\n  (:nfs\/refreshing? @state))\n\n(defn set-search-result!\n  [value]\n  (set-state! :search\/result value))\n\n(defn clear-search-result!\n  []\n  (set-search-result! nil))\n\n(defn add-graph-search-filter!\n  [q]\n  (when-not (string\/blank? q)\n    (update-state! :search\/graph-filters\n                   (fn [value]\n                     (vec (distinct (conj value q)))))))\n\n(defn remove-search-filter!\n  [q]\n  (when-not (string\/blank? q)\n    (update-state! :search\/graph-filters\n                   (fn [value]\n                     (remove #{q} value)))))\n\n(defn clear-search-filters!\n  []\n  (set-state! :search\/graph-filters []))\n\n(defn get-search-mode\n  []\n  (:search\/mode @state))\n\n(defn toggle!\n  [path]\n  (update-state! path not))\n\n(defn toggle-settings!\n  []\n  (toggle! :ui\/settings-open?))\n\n(defn settings-open?\n  []\n  (:ui\/settings-open? @state))\n\n(defn close-settings!\n  []\n  (set-state! :ui\/settings-open? false))\n\n(defn open-settings!\n  ([] (open-settings! true))\n  ([active-tab] (set-state! :ui\/settings-open? active-tab)))\n\n(defn get-events-chan\n  []\n  (:system\/events @state))\n\n(defn pub-event!\n  {:malli\/schema [:=> [:cat vector?] :any]}\n  [payload]\n  (let [d (p\/deferred)\n        chan (get-events-chan)]\n    (async\/put! chan [payload d])\n    d))\n\n(defn sidebar-add-block!\n  [repo db-id block-type]\n  (when (not (util\/sm-breakpoint?))\n    (let [page (and (sqlite-util\/db-based-graph? repo)\n                    (= :page block-type)\n                    (some-> (db-conn-state\/get-conn repo) deref (d\/entity db-id)))]\n      (if (and page\n               ;; TODO: Use config\/dev? when it's not a circular dep\n               (not goog.DEBUG)\n               (or (ldb\/hidden? page)\n                   (and (ldb\/built-in? page) (ldb\/private-built-in-page? page))))\n        (pub-event! [:notification\/show {:content \"Cannot open an internal page.\" :status :warning}])\n        (when db-id\n          (update-state! :sidebar\/blocks (fn [blocks]\n                                           (->> (remove #(= (second %) db-id) blocks)\n                                                (cons [repo db-id block-type])\n                                                (distinct))))\n          (set-state! [:ui\/sidebar-collapsed-blocks db-id] false)\n          (open-right-sidebar!)\n          (when-let [elem (gdom\/getElementByClass \"sidebar-item-list\")]\n            (util\/scroll-to elem 0)))))))\n\n(defn get-export-block-text-indent-style []\n  (:copy\/export-block-text-indent-style @state))\n\n(defn set-export-block-text-indent-style!\n  [v]\n  (set-state! :copy\/export-block-text-indent-style v)\n  (storage\/set :copy\/export-block-text-indent-style v))\n\n(defn get-recent-pages\n  []\n  (get-in @state [:ui\/recent-pages (get-current-repo)]))\n\n(defn set-recent-pages!\n  [v]\n  (set-state! [:ui\/recent-pages (get-current-repo)] v)\n  (storage\/set :ui\/recent-pages (:ui\/recent-pages @state)))\n\n(defn get-export-block-text-remove-options []\n  (:copy\/export-block-text-remove-options @state))\n\n(defn update-export-block-text-remove-options!\n  [e k]\n  (let [f (if (util\/echecked? e) conj disj)]\n    (update-state! :copy\/export-block-text-remove-options\n                   #(f % k))\n    (storage\/set :copy\/export-block-text-remove-options\n                 (get-export-block-text-remove-options))))\n\n(defn get-export-block-text-other-options []\n  (:copy\/export-block-text-other-options @state))\n\n(defn update-export-block-text-other-options!\n  [k v]\n  (update-state! :copy\/export-block-text-other-options #(assoc % k v)))\n\n(defn set-editor-args!\n  [args]\n  (set-state! :editor\/args args))\n\n(defn editing-whiteboard-portal?\n  []\n  (and (active-tldraw-app) (tldraw-editing-logseq-block?)))\n\n(defn block-component-editing?\n  []\n  (and (:block\/component-editing-mode? @state)\n       (not (editing-whiteboard-portal?))))\n\n(defn set-block-component-editing-mode!\n  [value]\n  (set-state! :block\/component-editing-mode? value))\n\n(defn get-editor-args\n  []\n  @(:editor\/args @state))\n\n(defn set-page-blocks-cp!\n  [value]\n  (set-state! [:view\/components :page-blocks] value))\n\n(defn get-page-blocks-cp\n  []\n  (get-in @state [:view\/components :page-blocks]))\n\n;; To avoid circular dependencies\n(defn set-component!\n  [k value]\n  (set-state! [:view\/components k] value))\n\n(defn get-component\n  [k]\n  (get-in @state [:view\/components k]))\n\n(defn exit-editing-and-set-selected-blocks!\n  ([blocks]\n   (exit-editing-and-set-selected-blocks! blocks nil))\n  ([blocks direction]\n   (clear-edit!)\n   (set-selection-blocks! blocks direction)))\n\n(defn set-editing!\n  [edit-input-id content block cursor-range & {:keys [db move-cursor? container-id property-block direction event pos]\n                                               :or {move-cursor? true}}]\n  (when-not (exists? js\/process)\n    (if (> (count content)\n           (block-content-max-length (get-current-repo)))\n      (let [elements (array-seq (js\/document.getElementsByClassName (str \"id\" (:block\/uuid block))))]\n        (when (first elements)\n          (util\/scroll-to-element (gobj\/get (first elements) \"id\")))\n        (exit-editing-and-set-selected-blocks! elements))\n      (when (and edit-input-id block\n                 (or\n                  (publishing-enable-editing?)\n                  (not @publishing?)))\n        (let [block-element (gdom\/getElement (string\/replace edit-input-id \"edit-block\" \"ls-block\"))\n              container (util\/get-block-container block-element)\n              block (if container\n                      (assoc block\n                             :block.temp\/container (gobj\/get container \"id\"))\n                      block)\n              block (assoc block :block.editing\/direction direction\n                           :block.editing\/event event\n                           :block.editing\/pos pos)\n              content (string\/trim (or content \"\"))]\n          (assert (and container-id (:block\/uuid block))\n                  \"container-id or block uuid is missing\")\n          (set-state! :editor\/block-refs #{})\n          (if property-block\n            (set-editing-block-id! [container-id (:block\/uuid property-block) (:block\/uuid block)])\n            (set-editing-block-id! [container-id (:block\/uuid block)]))\n          (set-state! :editor\/container-id container-id)\n          (set-state! :editor\/block block)\n          (set-state! :editor\/content content :path-in-sub-atom (:block\/uuid block))\n          (set-state! :editor\/last-key-code nil)\n          (set-state! :editor\/set-timestamp-block nil)\n          (set-state! :editor\/cursor-range cursor-range)\n          (when (= :code (:logseq.property.node\/display-type (d\/entity db (:db\/id block))))\n            (pub-event! [:editor\/focus-code-editor block block-element]))\n          (when-let [input (gdom\/getElement edit-input-id)]\n            (let [pos (count cursor-range)]\n              (when content\n                (util\/set-change-value input content))\n\n              (when (and move-cursor? (not (block-component-editing?)))\n                (cursor\/move-cursor-to input pos))\n\n              (when (or (util\/mobile?) (mobile-util\/native-platform?))\n                (set-state! :mobile\/show-action-bar? false)))))))))\n\n(defn action-bar-open?\n  []\n  (:mobile\/show-action-bar? @state))\n\n(defn get-git-auto-commit-enabled?\n  []\n  (false? (sub [:electron\/user-cfgs :git\/disable-auto-commit?])))\n\n(defn get-git-commit-on-close-enabled?\n  []\n  (sub [:electron\/user-cfgs :git\/commit-on-close?]))\n\n(defn set-last-key-code!\n  [key-code]\n  (set-state! :editor\/last-key-code key-code))\n\n(defn get-last-key-code\n  []\n  @(:editor\/last-key-code @state))\n\n(defn set-ui-last-key-code!\n  [key-code]\n  (set-state! :ui\/global-last-key-code key-code))\n\n(defn get-ui-last-key-code\n  []\n  @(:ui\/global-last-key-code @state))\n\n(defn set-block-op-type!\n  [op-type]\n  (set-state! :editor\/block-op-type op-type))\n\n(defn get-block-op-type\n  []\n  (:editor\/block-op-type @state))\n\n(defn feature-http-server-enabled?\n  []\n  (boolean (storage\/get ::storage-spec\/http-server-enabled)))\n\n(defn get-plugin-by-id\n  [id]\n  (when-let [id (and id (keyword id))]\n    (get-in @state [:plugin\/installed-plugins id])))\n\n(defn get-enabled?-installed-plugins\n  ([theme?] (get-enabled?-installed-plugins theme? true false false))\n  ([theme? enabled? include-unpacked? include-all?]\n   (filterv\n    #(and (if include-unpacked? true (:iir %))\n          (if-not (boolean? enabled?) true (= (not enabled?) (boolean (get-in % [:settings :disabled]))))\n          (or include-all? (if (boolean? theme?) (= (boolean theme?) (:theme %)) true)))\n    (vals (:plugin\/installed-plugins @state)))))\n\n(defn lsp-enabled?-or-theme\n  []\n  (:plugin\/enabled @state))\n\n(def lsp-enabled?\n  (lsp-enabled?-or-theme))\n\n(defn consume-updates-from-coming-plugin!\n  [payload updated?]\n  (when-let [id (keyword (:id payload))]\n    (let [prev-pending? (boolean (seq (:plugin\/updates-pending @state)))]\n      (println \"Updates: consumed pending - \" id)\n      (swap! state update :plugin\/updates-pending dissoc id)\n      (if updated?\n        (if-let [error (:error-code payload)]\n          (swap! state update-in [:plugin\/updates-coming id] assoc :error-code error)\n          (swap! state update :plugin\/updates-coming dissoc id))\n        (swap! state update :plugin\/updates-coming assoc id payload))\n      (pub-event! [:plugin\/consume-updates id prev-pending? updated?]))))\n\n(defn coming-update-new-version?\n  [pkg]\n  (and pkg (:latest-version pkg)))\n\n(defn plugin-update-available?\n  [id]\n  (when-let [pkg (and id (get (:plugin\/updates-coming @state) (keyword id)))]\n    (coming-update-new-version? pkg)))\n\n(defn all-available-coming-updates\n  ([] (all-available-coming-updates (:plugin\/updates-coming @state)))\n  ([updates] (when-let [updates (vals updates)]\n               (filterv #(coming-update-new-version? %) updates))))\n\n(defn get-next-selected-coming-update\n  []\n  (when-let [updates (all-available-coming-updates)]\n    (let [unchecked (:plugin\/updates-unchecked @state)]\n      (first (filter #(and (not (and (seq unchecked) (contains? unchecked (:id %))))\n                           (not (:error-code %))) updates)))))\n\n(defn set-unchecked-update\n  [id unchecked?]\n  (swap! state update :plugin\/updates-unchecked (if unchecked? conj disj) id))\n\n(defn reset-unchecked-update\n  []\n  (swap! state assoc :plugin\/updates-unchecked #{}))\n\n(defn reset-all-updates-state\n  []\n  (swap! state assoc\n         :plugin\/updates-auto-checking?         false\n         :plugin\/updates-pending                {}\n         :plugin\/updates-coming                 {}\n         :plugin\/updates-downloading?           false))\n\n(defn sub-right-sidebar-blocks\n  []\n  (when-let [current-repo (get-current-repo)]\n    (->> (sub :sidebar\/blocks)\n         (filter #(= (first %) current-repo)))))\n\n(defn toggle-collapsed-block!\n  [block-id]\n  (let [current-repo (get-current-repo)]\n    (update-state! [:ui\/collapsed-blocks current-repo block-id] not)))\n\n(defn set-collapsed-block!\n  [block-id value]\n  (let [current-repo (get-current-repo)]\n    (set-state! [:ui\/collapsed-blocks current-repo block-id] value)))\n\n(defn sub-block-collapsed\n  [block-id]\n  (sub [:ui\/collapsed-blocks (get-current-repo) block-id]))\n\n(defn get-block-collapsed\n  [block-id]\n  (get-in @state [:ui\/collapsed-blocks (get-current-repo) block-id]))\n\n(defn get-modal-id\n  []\n  (shui-dialog\/get-last-modal-id))\n\n(defn set-auth-id-token\n  [id-token]\n  (set-state! :auth\/id-token id-token))\n\n(defn set-auth-refresh-token\n  [refresh-token]\n  (set-state! :auth\/refresh-token refresh-token))\n\n(defn set-auth-access-token\n  [access-token]\n  (set-state! :auth\/access-token access-token))\n\n(defn get-auth-id-token []\n  (sub :auth\/id-token))\n\n(defn get-auth-refresh-token []\n  (:auth\/refresh-token @state))\n\n(defn set-file-sync-manager [graph-uuid v]\n  (when (and graph-uuid v)\n    (set-state! [:file-sync\/graph-state graph-uuid :file-sync\/sync-manager] v)))\n\n(defn get-file-sync-manager [graph-uuid]\n  (get-in @state [:file-sync\/graph-state graph-uuid :file-sync\/sync-manager]))\n\n(defn clear-file-sync-state! [graph-uuid]\n  (set-state! [:file-sync\/graph-state graph-uuid] nil))\n\n(defn clear-file-sync-progress! [graph-uuid]\n  (set-state! [:file-sync\/graph-state\n               graph-uuid\n               :file-sync\/progress]\n              nil))\n\n(defn set-file-sync-state [graph-uuid v]\n  (when v (s\/assert :frontend.fs.sync\/sync-state v))\n  (set-state! [:file-sync\/graph-state graph-uuid :file-sync\/sync-state] v))\n\n(defn get-current-file-sync-graph-uuid\n  []\n  (get-in @state [:file-sync\/graph-state :current-graph-uuid]))\n\n(defn sub-current-file-sync-graph-uuid\n  []\n  (sub [:file-sync\/graph-state :current-graph-uuid]))\n\n(defn get-file-sync-state\n  ([]\n   (get-file-sync-state (get-current-file-sync-graph-uuid)))\n  ([graph-uuid]\n   (get-in @state [:file-sync\/graph-state graph-uuid :file-sync\/sync-state])))\n\n(defn sub-file-sync-state\n  [graph-uuid]\n  (sub [:file-sync\/graph-state graph-uuid :file-sync\/sync-state]))\n\n(defn reset-parsing-state!\n  []\n  (set-state! [:graph\/parsing-state (get-current-repo)] {}))\n\n(defn set-parsing-state!\n  [m]\n  (update-state! [:graph\/parsing-state (get-current-repo)]\n                 (if (fn? m) m\n                     (fn [old-value] (merge old-value m)))))\n\n(defn http-proxy-enabled-or-val? []\n  (when-let [{:keys [type protocol host port] :as agent-opts} (sub [:electron\/user-cfgs :settings\/agent])]\n    (when (and  (not (contains? #{\"system\"} type))\n                (every? not-empty (vals agent-opts)))\n      (str protocol \":\/\/\" host \":\" port))))\n\n(defn set-mobile-app-state-change\n  [is-active?]\n  (set-state! :mobile\/app-state-change\n              {:is-active? is-active?\n               :timestamp (inst-ms (js\/Date.))}))\n\n(defn get-sync-graph-by-id\n  [graph-uuid]\n  (when graph-uuid\n    (let [graph (first (filter #(= graph-uuid (:GraphUUID %))\n                               (get-repos)))]\n      (when (:url graph)\n        graph))))\n\n(defn unlinked-dir?\n  [dir]\n  (contains? (:file\/unlinked-dirs @state) dir))\n\n(defn get-file-rename-event-chan\n  []\n  (:file\/rename-event-chan @state))\n\n(defn offer-file-rename-event-chan!\n  [v]\n  {:pre [(map? v)\n         (= #{:repo :old-path :new-path} (set (keys v)))]}\n  (async\/offer! (get-file-rename-event-chan) v))\n\n(defn set-onboarding-whiteboard!\n  [v]\n  (set-state! :whiteboard\/onboarding-whiteboard? v)\n  (storage\/set :ls-onboarding-whiteboard? v))\n\n(defn get-onboarding-whiteboard?\n  []\n  (get-in @state [:whiteboard\/onboarding-whiteboard?]))\n\n(defn get-local-container-root-url\n  []\n  (when (mobile-util\/native-ios?)\n    (get-in @state [:mobile\/container-urls :localContainerUrl])))\n\n(defn get-icloud-container-root-url\n  []\n  (when (mobile-util\/native-ios?)\n    (get-in @state [:mobile\/container-urls :iCloudContainerUrl])))\n\n(defn get-current-pdf\n  []\n  (:pdf\/current @state))\n\n(defn nfs-user-granted?\n  [repo]\n  (get-in @state [:nfs\/user-granted? repo]))\n\n(defn set-current-pdf!\n  [inflated-file]\n  (let [settle-file! #(set-state! :pdf\/current inflated-file)]\n    (if-not (get-current-pdf)\n      (settle-file!)\n      (when (apply not= (map :identity [inflated-file (get-current-pdf)]))\n        (set-state! :pdf\/current nil)\n        (js\/setTimeout #(settle-file!) 16)))))\n\n(defn focus-whiteboard-shape\n  ([shape-id]\n   (focus-whiteboard-shape (active-tldraw-app) shape-id))\n  ([tln shape-id]\n   (when-let [^js api (gobj\/get tln \"api\")]\n     (when (and shape-id (parse-uuid shape-id))\n       (. api selectShapes shape-id)\n       (. api zoomToSelection)))))\n\n(defn set-user-info!\n  [info]\n  (when info\n    (set-state! :user\/info info)\n    (let [groups (:UserGroups info)]\n      (when (seq groups)\n        (storage\/set :user-groups groups)))))\n\n(defn get-user-info []\n  (sub :user\/info))\n\n(defn clear-user-info!\n  []\n  (storage\/remove :user-groups))\n\n(defn sub-async-query-loading\n  [k]\n  (assert (some? k))\n  (rum\/react\n   (r\/cached-derived-atom (:db\/async-query-loading @state) [(get-current-repo) ::async-query (str k)]\n                          (fn [s] (contains? s (str k))))))\n\n(defn clear-async-query-state!\n  []\n  (reset! (:db\/async-query-loading @state) #{}))\n\n(defn set-color-accent! [color]\n  (swap! state assoc :ui\/radix-color color)\n  (storage\/set :ui\/radix-color color)\n  (util\/set-android-theme))\n\n(defn set-editor-font! [font]\n  (let [font (if (keyword? font) (name font) (str font))]\n    (swap! state assoc :ui\/editor-font font)\n    (storage\/set :ui\/editor-font font)))\n\n(defn handbook-open?\n  []\n  (:ui\/handbooks-open? @state))\n\n(defn get-handbook-route-chan\n  []\n  (:handbook\/route-chan @state))\n\n(defn open-handbook-pane!\n  [k]\n  (when-not (handbook-open?)\n    (set-state! :ui\/handbooks-open? true))\n  (js\/setTimeout #(async\/go\n                    (>! (get-handbook-route-chan) k))))\n\n(defn update-favorites-updated!\n  []\n  (update-state! :favorites\/updated? inc))\n\n(def get-worker-next-request-id db-transact\/get-next-request-id)\n(def add-worker-request! db-transact\/add-request!)\n\n(defn get-next-container-id\n  []\n  (swap! (:ui\/container-id @state) inc))\n\n(defn get-container-id\n  \"Either cached container-id or a new id\"\n  [key]\n  (if (seq key)\n    (or (get @(:ui\/cached-key->container-id @state) key)\n        (let [id (get-next-container-id)]\n          (swap! (:ui\/cached-key->container-id @state) assoc key id)\n          id))\n    (get-next-container-id)))\n\n(defn get-current-editor-container-id\n  []\n  @(:editor\/container-id @state))\n\n(comment\n  (defn remove-container-key!\n    [key]\n    (swap! (:ui\/cached-key->container-id @state) dissoc key)))\n\n(defn get-editor-info\n  []\n  (when-let [edit-block (get-edit-block)]\n    {:block-uuid (:block\/uuid edit-block)\n     :container-id (or @(:editor\/container-id @state) :unknown-container)\n     :start-pos @(:editor\/start-pos @state)\n     :end-pos (get-edit-pos)}))\n\n(defn conj-block-ref!\n  [ref-entity]\n  (let [refs! (:editor\/block-refs @state)]\n    (swap! refs! conj ref-entity)))\n","(ns frontend.extensions.tldraw\n  \"Adapters related to tldraw\"\n  (:require [\"\/frontend\/tldraw-logseq\" :as TldrawLogseq]\n            [frontend.components.block :as block]\n            [frontend.components.export :as export]\n            [frontend.components.page :as page]\n            [frontend.config :as config]\n            [frontend.context.i18n :refer [t]]\n            [frontend.db.model :as model]\n            [frontend.db :as db]\n            [frontend.extensions.pdf.assets :as pdf-assets]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.page :as page-handler]\n            [frontend.handler.assets :as assets-handler]\n            [frontend.handler.route :as route-handler]\n            [frontend.handler.whiteboard :as whiteboard-handler]\n            [frontend.handler.history :as history]\n            [frontend.handler.notification :as notification]\n            [frontend.rum :as r]\n            [frontend.search :as search]\n            [frontend.state :as state]\n            [frontend.util :as util]\n            [goog.object :as gobj]\n            [promesa.core :as p]\n            [rum.core :as rum]\n            [frontend.ui :as ui]\n            [frontend.components.whiteboard :as whiteboard]\n            [cljs-bean.core :as bean]\n            [frontend.db.async :as db-async]\n            [logseq.common.util :as common-util]\n            [logseq.shui.ui :as shui]\n            [frontend.util.text :as text-util]))\n\n(def tldraw (r\/adapt-class (gobj\/get TldrawLogseq \"App\")))\n\n(def generate-preview (gobj\/get TldrawLogseq \"generateJSXFromModel\"))\n\n(rum\/defc page-cp\n  [props]\n  (page\/page-cp {:page-name (gobj\/get props \"pageName\") :whiteboard? true}))\n\n(rum\/defc block-cp\n  [props]\n  (let [block-id (uuid (gobj\/get props \"blockId\"))]\n    ((state\/get-component :block\/single-block)\n     {:id (str block-id) :whiteboard? true}\n     block-id)))\n\n(rum\/defc breadcrumb\n  [props]\n  (block\/breadcrumb {:preview? true}\n                    (state\/get-current-repo)\n                    (uuid (gobj\/get props \"blockId\"))\n                    {:end-separator? (gobj\/get props \"endSeparator\")\n                     :level-limit (gobj\/get props \"levelLimit\" 3)}))\n\n(rum\/defc tweet\n  [props]\n  (ui\/tweet-embed (gobj\/get props \"tweetId\")))\n\n(rum\/defc block-reference\n  [props]\n  (block\/block-reference {} (gobj\/get props \"blockId\") nil))\n\n(rum\/defc page-name-link\n  [props]\n  (when-let [page-name (gobj\/get props \"pageName\")]\n    (when-let [page (db\/get-page page-name)]\n      (block\/page-cp {:preview? true} page))))\n\n(defn search-handler\n  [q filters]\n  (let [{:keys [blocks?]} (js->clj filters {:keywordize-keys true})\n        repo (state\/get-current-repo)\n        limit 100]\n    (p\/let [blocks (when blocks? (search\/block-search repo q {:limit limit}))\n            blocks (map (fn [b]\n                          (-> b\n                              (update :block\/uuid str)\n                              (update :block\/title #(->> (text-util\/cut-by % \"$pfts_2lqh>$\" \"$<pfts_2lqh$\")\n                                                         (apply str))))) blocks)]\n      (clj->js {:blocks blocks}))))\n\n(defn save-asset-handler\n  [file]\n  (-> (editor-handler\/file-based-save-assets! (state\/get-current-repo) [(js->clj file)])\n      (p\/then\n       (fn [res]\n         (when-let [[asset-file-name _ full-file-path] (and (seq res) (first res))]\n           (editor-handler\/resolve-relative-path (or full-file-path asset-file-name)))))))\n\n(defn references-count\n  [props]\n  (apply whiteboard\/references-count\n         (map (fn [k] (js->clj (gobj\/get props k) {:keywordize-keys true})) [\"id\" \"className\" \"options\"])))\n\n(rum\/defc keyboard-shortcut\n  [^js props]\n  (when-let [props (bean\/->clj props)]\n    (let [{:keys [action shortcut opts]} props\n          shortcut (if (string? action) (ui\/keyboard-shortcut-from-config (keyword action)) shortcut)\n          opts (merge {:interactive? false} opts)]\n      (cond\n        (string? shortcut) (ui\/render-keyboard-shortcut shortcut opts)\n        :else (interpose \" | \" (map #(ui\/render-keyboard-shortcut % opts) shortcut))))))\n\n(def tldraw-renderers {:Page page-cp\n                       :Block block-cp\n                       :Breadcrumb breadcrumb\n                       :Tweet tweet\n                       :PageName page-name-link\n                       :BacklinksCount references-count\n                       :BlockReference block-reference\n                       :KeyboardShortcut keyboard-shortcut})\n\n(def undo (fn [] (history\/undo! nil)))\n(def redo (fn [] (history\/redo! nil)))\n(defn get-tldraw-handlers [current-whiteboard-uuid]\n  {:t (fn [key] (t (keyword key)))\n   :search search-handler\n   :queryBlockByUUID (fn [block-uuid]\n                       (clj->js\n                        (model\/query-block-by-uuid block-uuid)))\n   :getBlockPageName #(let [block-id-str %]\n                        (if (util\/uuid-string? block-id-str)\n                          (str (:block\/uuid (model\/get-block-page (state\/get-current-repo) (parse-uuid block-id-str))))\n                          (str (:block\/uuid (db\/get-page block-id-str)))))\n   :exportToImage (fn [page-uuid-str options]\n                    (assert (common-util\/uuid-string? page-uuid-str))\n                    (shui\/dialog-open!\n                      #(export\/export-blocks (uuid page-uuid-str) (merge (js->clj options :keywordize-keys true) {:whiteboard? true}))))\n   :isWhiteboardPage (fn [page-name]\n                       (when-let [entity (db\/get-page page-name)]\n                         (model\/whiteboard-page? entity)))\n   :isMobile util\/mobile?\n   :saveAsset save-asset-handler\n   :makeAssetUrl assets-handler\/<make-asset-url\n   :inflateAsset (fn [src] (clj->js (pdf-assets\/inflate-asset src)))\n   :setCurrentPdf (fn [src] (state\/set-current-pdf! (if src (pdf-assets\/inflate-asset src) nil)))\n   :copyToClipboard (fn [text, html] (util\/copy-to-clipboard! text :html html))\n   :getRedirectPageName (fn [page-name-or-uuid] (model\/get-redirect-page-name page-name-or-uuid))\n   :insertFirstPageBlock (fn [page-name]\n                           (editor-handler\/insert-first-page-block-if-not-exists! page-name))\n   :addNewPage (fn [page-name]\n                 (p\/let [result (page-handler\/<create! page-name {:redirect? false})]\n                   (str (:block\/uuid result))))\n   :addNewWhiteboard (fn [page-name]\n                       (p\/let [result (whiteboard-handler\/<create-new-whiteboard-page! page-name)]\n                         (str result)))\n   :addNewBlock (fn [content]\n                  (p\/let [new-block-id (whiteboard-handler\/<add-new-block! current-whiteboard-uuid content)]\n                    (str new-block-id)))\n   :sidebarAddBlock (fn [uuid type]\n                      (state\/sidebar-add-block! (state\/get-current-repo)\n                                                (:db\/id (model\/get-page uuid))\n                                                (keyword type)))\n   :redirectToPage (fn [page-uuid-str]\n                     (when page-uuid-str\n                       (p\/let [block-id (parse-uuid page-uuid-str)\n                               _ (when block-id (db-async\/<get-block (state\/get-current-repo) block-id))\n                               page (or\n                                     (when block-id (model\/get-block-page (state\/get-current-repo) block-id))\n                                     (db\/get-page page-uuid-str))\n                               whiteboard? (model\/whiteboard-page? page)]\n                         (p\/let [new-page (when (nil? page)\n                                            (page-handler\/<create! page-uuid-str {:redirect? false}))\n                                 page' (or new-page page)]\n                           (route-handler\/redirect-to-page! (if whiteboard?\n                                                              (:block\/uuid page')\n                                                              (model\/get-redirect-page-name (:block\/uuid page')))\n                                                            (when (and block-id (not= block-id (:block\/uuid page')))\n                                                              {:block-id block-id}))))))})\n\n(defonce *transact-result (atom nil))\n\n(defn- on-persist\n  [page-name app info]\n  (->\n   (p\/let [_ @*transact-result\n           result (p\/do!\n                   (state\/set-state! [:whiteboard\/last-persisted-at (state\/get-current-repo)] (util\/time-ms))\n                   (whiteboard-handler\/<transact-tldr-delta! page-name app info))]\n     (reset! *transact-result result))\n   (p\/catch (fn [^js error]\n              (js\/console.error error)\n              (notification\/show! [:div\n                                   (str \"Save whiteboard failed, error:\" (.-cause error))])))))\n\n(rum\/defc tldraw-inner < rum\/static\n  {:will-remount (fn [old-state new-state]\n                   (let [page-uuid (first (:rum\/args old-state))\n                         old-data (nth (:rum\/args old-state) 1)\n                         new-data (nth (:rum\/args new-state) 1)\n                         old-shapes (let [shapes (some-> (gobj\/get old-data \"pages\")\n                                                         first\n                                                         (gobj\/get \"shapes\"))]\n                                      (zipmap (map #(gobj\/get % \"id\") shapes)\n                                              shapes))\n                         new-shapes (some-> (gobj\/get new-data \"pages\")\n                                            first\n                                            (gobj\/get \"shapes\"))\n                         updated-shapes (filter (fn [shape]\n                                                  (when-let [old (get old-shapes (gobj\/get shape \"id\"))]\n                                                    (not= (gobj\/get shape \"type\") (gobj\/get old \"type\"))))\n                                                new-shapes)]\n                     ;; FIXME: this should be handled by tldraw, any data changes should re-render the updated shapes\n                     (when (seq updated-shapes)\n                       (whiteboard-handler\/update-shapes! updated-shapes))\n\n                     (whiteboard-handler\/update-shapes-index! page-uuid))\n                   new-state)}\n  [page-uuid data populate-onboarding? loaded-app on-mount]\n  [:div.draw.tldraw.whiteboard.relative.w-full.h-full\n   {:style {:overscroll-behavior \"none\"}\n    :on-blur (fn [e]\n               (when (#{\"INPUT\" \"TEXTAREA\"} (.-tagName (gobj\/get e \"target\")))\n                 (state\/clear-edit!)))\n        ;; wheel -> overscroll may cause browser navigation\n    :on-wheel util\/stop-propagation}\n\n   (when\n    (and populate-onboarding? (not loaded-app))\n     [:div.absolute.inset-0.flex.items-center.justify-center\n      {:style {:z-index 200}}\n      (ui\/loading \"Loading onboarding whiteboard ...\")])\n\n   (tldraw {:renderers tldraw-renderers\n            :handlers (get-tldraw-handlers page-uuid)\n            :onMount on-mount\n            :readOnly config\/publishing?\n            ;; :onPersist (debounce #(on-persist page-uuid %1 %2) 200)\n            :onPersist #(on-persist page-uuid %1 %2)\n            :model data})])\n\n(rum\/defc tldraw-app-inner < rum\/reactive\n  {:init (fn [state]\n           (let [page-uuid (first (:rum\/args state))]\n             (db-async\/<get-block (state\/get-current-repo) page-uuid)\n             state))}\n  [page-uuid block-id loaded-app set-loaded-app]\n  (when-not (state\/sub-async-query-loading (str page-uuid))\n    (let [populate-onboarding? (whiteboard-handler\/should-populate-onboarding-whiteboard? page-uuid)\n          on-mount (fn [^js tln]\n                     (when tln\n                       (set! (.-appUndo tln) undo)\n                       (set! (.-appRedo tln) redo)\n                       (when-let [^js api (gobj\/get tln \"api\")]\n                         (p\/then (when populate-onboarding?\n                                   (whiteboard-handler\/populate-onboarding-whiteboard api))\n                                 #(do (whiteboard-handler\/cleanup! (.-currentPage tln))\n                                      (state\/focus-whiteboard-shape tln block-id)\n                                      (set-loaded-app tln))))))\n          data (whiteboard-handler\/get-page-tldr page-uuid)]\n      (when data\n        (tldraw-inner page-uuid data populate-onboarding? loaded-app on-mount)))))\n\n(rum\/defc tldraw-app\n  [page-uuid block-id]\n  (let [page-uuid (str page-uuid)\n        [loaded-app set-loaded-app] (rum\/use-state nil)]\n    (rum\/use-effect! (fn []\n                       (when (and loaded-app block-id)\n                         (state\/focus-whiteboard-shape loaded-app block-id))\n                       #())\n                     [block-id loaded-app])\n    (tldraw-app-inner page-uuid block-id loaded-app set-loaded-app)))\n","(ns frontend.handler.page\n  \"Provides util handler fns for pages\"\n  (:require [cljs.reader :as reader]\n            [clojure.string :as string]\n            [datascript.core :as d]\n            [datascript.impl.entity :as de]\n            [electron.ipc :as ipc]\n            [frontend.commands :as commands]\n            [frontend.config :as config]\n            [frontend.context.i18n :refer [t]]\n            [frontend.date :as date]\n            [frontend.db :as db]\n            [frontend.db.async :as db-async]\n            [frontend.db.conn :as conn]\n            [frontend.db.model :as model]\n            [frontend.fs :as fs]\n            [frontend.handler.common :as common-handler]\n            [frontend.handler.common.page :as page-common-handler]\n            [frontend.handler.db-based.page :as db-page-handler]\n            [frontend.handler.db-based.property :as db-property-handler]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.file-based.nfs :as nfs-handler]\n            [frontend.handler.graph :as graph-handler]\n            [frontend.handler.notification :as notification]\n            [frontend.handler.plugin :as plugin-handler]\n            [frontend.handler.property :as property-handler]\n            [frontend.handler.property.util :as pu]\n            [frontend.handler.ui :as ui-handler]\n            [frontend.mobile.util :as mobile-util]\n            [frontend.modules.outliner.op :as outliner-op]\n            [frontend.modules.outliner.ui :as ui-outliner-tx]\n            [frontend.persist-db.browser :as db-browser]\n            [frontend.state :as state]\n            [frontend.util :as util]\n            [frontend.util.cursor :as cursor]\n            [frontend.util.page :as page-util]\n            [frontend.util.url :as url-util]\n            [goog.functions :refer [debounce]]\n            [goog.object :as gobj]\n            [lambdaisland.glogi :as log]\n            [logseq.common.config :as common-config]\n            [logseq.common.path :as path]\n            [logseq.common.util :as common-util]\n            [logseq.common.util.block-ref :as block-ref]\n            [logseq.common.util.page-ref :as page-ref]\n            [logseq.db :as ldb]\n            [logseq.graph-parser.db :as gp-db]\n            [logseq.graph-parser.text :as text]\n            [promesa.core :as p]))\n\n(def <create! page-common-handler\/<create!)\n(def <delete! page-common-handler\/<delete!)\n\n(defn <unfavorite-page!\n  [page-name]\n  (p\/do!\n   (let [repo (state\/get-current-repo)]\n     (if (config\/db-based-graph? repo)\n       (when-let [page-block-uuid (:block\/uuid (db\/get-page page-name))]\n         (page-common-handler\/<db-unfavorite-page! page-block-uuid))\n       (page-common-handler\/file-unfavorite-page! page-name)))\n   (state\/update-favorites-updated!)))\n\n(defn <favorite-page!\n  [page-name]\n  (p\/do!\n   (let [repo (state\/get-current-repo)]\n     (if (config\/db-based-graph? repo)\n       (when-let [page-block-uuid (:block\/uuid (db\/get-page page-name))]\n         (page-common-handler\/<db-favorite-page! page-block-uuid))\n       (page-common-handler\/file-favorite-page! page-name)))\n   (state\/update-favorites-updated!)))\n\n(defn favorited?\n  [page-name]\n  (let [repo (state\/get-current-repo)]\n    (if (config\/db-based-graph? repo)\n      (boolean\n       (when-let [page-block-uuid (:block\/uuid (db\/get-page page-name))]\n         (page-common-handler\/db-favorited? page-block-uuid)))\n      (page-common-handler\/file-favorited? page-name))))\n\n(defn get-favorites\n  \"return page-block entities\"\n  []\n  (when-let [db (conn\/get-db)]\n    (let [repo (state\/get-current-repo)]\n      (if (config\/db-based-graph? repo)\n        (when-let [page (ldb\/get-page db common-config\/favorites-page-name)]\n          (let [blocks (ldb\/sort-by-order (:block\/_parent page))]\n            (keep (fn [block]\n                    (when-let [block-db-id (:db\/id (:block\/link block))]\n                      (d\/entity db block-db-id))) blocks)))\n        (let [page-names (->> (:favorites (state\/sub-config))\n                              (remove string\/blank?)\n                              (filter string?)\n                              (mapv util\/safe-page-name-sanity-lc)\n                              (distinct))]\n          (keep (fn [page-name] (db\/get-page page-name)) page-names))))))\n\n;; FIXME: add whiteboard\n(defn- get-directory\n  [journal?]\n  (if journal?\n    (config\/get-journals-directory)\n    (config\/get-pages-directory)))\n\n(defn- get-file-name\n  [journal? title]\n  (when-let [s (if journal?\n                 (date\/journal-title->default title)\n                 ;; legacy in org-mode format, don't escape slashes except bug reported\n                 (common-util\/page-name-sanity (string\/lower-case title)))]\n    ;; Win10 file path has a length limit of 260 chars\n    (common-util\/safe-subs s 0 200)))\n\n(defn toggle-favorite! []\n  ;; NOTE: in journals or settings, current-page is nil\n  (when-let [page-name (state\/get-current-page)]\n    (if (favorited? page-name)\n      (<unfavorite-page! page-name)\n      (<favorite-page! page-name))))\n\n(defn rename!\n  [page-uuid-or-old-name new-name & {:as _opts}]\n  (when @db-browser\/*worker\n    (p\/let [page-uuid (cond\n                        (uuid? page-uuid-or-old-name)\n                        page-uuid-or-old-name\n                        (common-util\/uuid-string? page-uuid-or-old-name)\n                        page-uuid-or-old-name\n                        :else\n                        (:block\/uuid (db\/get-page page-uuid-or-old-name)))\n            result (ui-outliner-tx\/transact!\n                    {:outliner-op :rename-page}\n                    (outliner-op\/rename-page! page-uuid new-name))\n            result' (ldb\/read-transit-str result)]\n      (case (if (string? result') (keyword result') result')\n        :invalid-empty-name\n        (notification\/show! \"Please use a valid name, empty name is not allowed!\" :warning)\n        :rename-page-exists\n        (notification\/show! \"Another page with the new name exists already\" :warning)\n        nil))))\n\n(defn <reorder-favorites!\n  [favorites]\n  (let [conn (conn\/get-db false)]\n    (when-let [favorites-page (db\/get-page common-config\/favorites-page-name)]\n      (let [favorite-page-block-db-id-coll\n            (keep (fn [page-uuid]\n                    (:db\/id (db\/get-page page-uuid)))\n                  favorites)\n            current-blocks (ldb\/sort-by-order (ldb\/get-page-blocks @conn (:db\/id favorites-page)))]\n        (p\/do!\n         (ui-outliner-tx\/transact!\n          {:outliner-op :reorder-favorites}\n          (doseq [[page-block-db-id block] (zipmap favorite-page-block-db-id-coll current-blocks)]\n            (when (not= page-block-db-id (:db\/id (:block\/link block)))\n              (outliner-op\/save-block! (assoc block :block\/link page-block-db-id)))))\n         (state\/update-favorites-updated!))))))\n\n(defn has-more-journals?\n  []\n  (let [current-length (:journals-length @state\/state)]\n    (< current-length (db\/get-journals-length))))\n\n(defn load-more-journals!\n  []\n  (when (has-more-journals?)\n    (state\/set-journals-length! (+ (:journals-length @state\/state) 7))))\n\n(defn update-public-attribute!\n  [page value]\n  (property-handler\/add-page-property! page (pu\/get-pid :logseq.property\/public) value))\n\n(defn get-page-ref-text\n  [page]\n  (let [edit-block-file-path (model\/get-block-file-path (state\/get-edit-block))\n        page-name (string\/lower-case page)]\n    (if (and edit-block-file-path\n             (state\/org-mode-file-link? (state\/get-current-repo)))\n      (if-let [ref-file-path (:file\/path (db\/get-page-file page-name))]\n        (util\/format \"[[file:%s][%s]]\"\n                     (util\/get-relative-path edit-block-file-path ref-file-path)\n                     page)\n        (let [journal? (date\/valid-journal-title? page)\n              ref-file-path (str\n                             (if (or (util\/electron?) (mobile-util\/native-platform?))\n                               (-> (config\/get-repo-dir (state\/get-current-repo))\n                                   js\/decodeURI\n                                   (string\/replace #\"\/+$\" \"\")\n                                   (str \"\/\"))\n                               \"\")\n                             (get-directory journal?)\n                             \"\/\"\n                             (get-file-name journal? page)\n                             \".org\")]\n          (<create! page {:redirect? false})\n          (util\/format \"[[file:%s][%s]]\"\n                       (util\/get-relative-path edit-block-file-path ref-file-path)\n                       page)))\n      (page-ref\/->page-ref page))))\n\n(defn init-commands!\n  []\n  (commands\/init-commands! get-page-ref-text))\n\n(def rebuild-slash-commands-list!\n  (debounce init-commands! 1500))\n\n(defn <template-exists?\n  [title]\n  (when title\n    (p\/let [result (db-async\/<get-all-templates (state\/get-current-repo))\n            templates (keys result)]\n      (when (seq templates)\n        (let [templates (map string\/lower-case templates)]\n          (contains? (set templates) (string\/lower-case title)))))))\n\n(defn ls-dir-files!\n  ([ok-handler] (ls-dir-files! ok-handler nil))\n  ([ok-handler opts]\n   (nfs-handler\/ls-dir-files-with-handler!\n    (fn [e]\n      (init-commands!)\n      (when ok-handler\n        (ok-handler e))\n      (graph-handler\/settle-metadata-to-local! {:created-at (js\/Date.now)}))\n    opts)))\n\n(defn get-all-pages\n  [repo]\n  (let [db-based? (config\/db-based-graph? repo)\n        graph-specific-hidden?\n        (if db-based?\n          (fn [p]\n            (and (ldb\/property? p) (ldb\/built-in? p)))\n          (fn [p]\n            (gp-db\/built-in-pages-names (string\/upper-case (:block\/name p)))))]\n    (cond->>\n     (->> (db\/get-all-pages repo)\n          (remove graph-specific-hidden?))\n      (not db-based?)\n      (common-handler\/fix-pages-timestamps))))\n\n(defn get-filters\n  [page]\n  (if (config\/db-based-graph? (state\/get-current-repo))\n    (let [included-pages (:logseq.property.linked-references\/includes page)\n          excluded-pages (:logseq.property.linked-references\/excludes page)]\n      {:included included-pages\n       :excluded excluded-pages})\n    (let [k :filters\n          properties (:block\/properties page)\n          properties-str (or (get properties k) \"{}\")]\n      (try (let [result (reader\/read-string properties-str)]\n             (when (seq result)\n               (let [excluded-pages (->> (filter #(false? (second %)) result)\n                                         (keep first)\n                                         (keep db\/get-page))\n                     included-pages (->> (filter #(true? (second %)) result)\n                                         (keep first)\n                                         (keep db\/get-page))]\n                 {:included included-pages\n                  :excluded excluded-pages})))\n           (catch :default e\n             (log\/error :syntax\/filters e))))))\n\n(defn file-based-save-filter!\n  [page filter-state]\n  (property-handler\/add-page-property! page :filters filter-state))\n\n(defn db-based-save-filter!\n  [page filter-page-id {:keys [include? add?]}]\n  (let [repo (state\/get-current-repo)\n        property-id (if include?\n                      :logseq.property.linked-references\/includes\n                      :logseq.property.linked-references\/excludes)]\n    (if add?\n      (property-handler\/set-block-property! repo (:db\/id page) property-id filter-page-id)\n      (db-property-handler\/delete-property-value! (:db\/id page) property-id filter-page-id))))\n\n;; Editor\n(defn page-not-exists-handler\n  [input id q current-pos]\n  (state\/clear-editor-action!)\n  (if (state\/org-mode-file-link? (state\/get-current-repo))\n    (let [page-ref-text (get-page-ref-text q)\n          value (gobj\/get input \"value\")\n          old-page-ref (page-ref\/->page-ref q)\n          new-value (string\/replace value\n                                    old-page-ref\n                                    page-ref-text)]\n      (state\/set-edit-content! id new-value)\n      (let [new-pos (+ current-pos\n                       (- (count page-ref-text)\n                          (count old-page-ref))\n                       2)]\n        (cursor\/move-cursor-to input new-pos)))\n    (let [current-selected (util\/get-selected-text)]\n      (cursor\/move-cursor-forward input (+ 2 (count current-selected))))))\n\n(defn- tag-on-chosen-handler\n  [input id pos format current-pos edit-content q db-based?]\n  (fn [chosen-result ^js e]\n    (util\/stop e)\n    (state\/clear-editor-action!)\n    (let [chosen-result (if (:block\/uuid chosen-result)\n                          (db\/entity [:block\/uuid (:block\/uuid chosen-result)])\n                          chosen-result)\n          target (first (:block\/_alias chosen-result))\n          chosen-result (if (and target (not (ldb\/class? chosen-result)) (ldb\/class? target)) target chosen-result)\n          chosen (:block\/title chosen-result)\n          class? (and db-based?\n                      (or (string\/includes? chosen (str (t :new-tag) \" \"))\n                          (ldb\/class? chosen-result)))\n          inline-tag? (and class? (= (.-identifier e) \"auto-complete\/meta-complete\"))\n          chosen (-> chosen\n                     (string\/replace-first (str (t :new-tag) \" \") \"\")\n                     (string\/replace-first (str (t :new-page) \" \") \"\"))\n          wrapped? (= page-ref\/left-brackets (common-util\/safe-subs edit-content (- pos 2) pos))\n          chosen-last-part (if (text\/namespace-page? chosen)\n                             (text\/get-namespace-last-part chosen)\n                             chosen)\n          wrapped-tag (if (and (util\/safe-re-find #\"\\s+\" chosen-last-part) (not wrapped?))\n                        (page-ref\/->page-ref chosen-last-part)\n                        chosen-last-part)\n          q (if (editor-handler\/get-selected-text) \"\" q)\n          last-pattern (if wrapped?\n                         q\n                         (if (= \\# (first q))\n                           (subs q 1)\n                           q))\n          last-pattern (str \"#\" (when wrapped? page-ref\/left-brackets) last-pattern)\n          tag-in-page-auto-complete? (= page-ref\/right-brackets (common-util\/safe-subs edit-content current-pos (+ current-pos 2)))]\n      (p\/do!\n       (editor-handler\/insert-command! id\n                                       (if (and class? (not inline-tag?)) \"\" (str \"#\" wrapped-tag))\n                                       format\n                                       {:last-pattern last-pattern\n                                        :end-pattern (when wrapped? page-ref\/right-brackets)\n                                        :command :page-ref})\n       (when (and db-based? (not tag-in-page-auto-complete?))\n         (db-page-handler\/tag-on-chosen-handler chosen chosen-result class? edit-content current-pos last-pattern))\n       (when input (.focus input))))))\n\n(defn- page-on-chosen-handler\n  [id format q db-based?]\n  (fn [chosen-result e]\n    (util\/stop e)\n    (state\/clear-editor-action!)\n    (p\/let [chosen-result (if (:block\/uuid chosen-result)\n                            (db\/entity [:block\/uuid (:block\/uuid chosen-result)])\n                            chosen-result)\n            chosen (:block\/title chosen-result)\n            chosen' (string\/replace-first chosen (str (t :new-page) \" \") \"\")\n            [chosen' chosen-result] (or (when (and (:nlp-date? chosen-result) (not (de\/entity? chosen-result)))\n                                          (when-let [result (date\/nld-parse chosen')]\n                                            (let [d (doto (goog.date.DateTime.) (.setTime (.getTime result)))\n                                                  gd (goog.date.Date. (.getFullYear d) (.getMonth d) (.getDate d))\n                                                  page (date\/js-date->journal-title gd)]\n                                              [page (db\/get-page page)])))\n                                        [chosen' chosen-result])\n            ref-text (if (and (de\/entity? chosen-result) (not (ldb\/page? chosen-result)))\n                       (cond\n                         db-based?\n                         (page-ref\/->page-ref (:block\/uuid chosen-result))\n                         :else\n                         (block-ref\/->block-ref (:block\/uuid chosen-result)))\n                       (get-page-ref-text chosen'))\n            result (when db-based?\n                     (when-not (de\/entity? chosen-result)\n                       (<create! chosen'\n                                 {:redirect? false\n                                  :create-first-block? false\n                                  :split-namespace? true})))\n            ref-text' (if result\n                        (let [title (:block\/title result)]\n                          (page-ref\/->page-ref title))\n                        ref-text)]\n      (p\/do!\n       (editor-handler\/insert-command! id\n                                       ref-text'\n                                       format\n                                       {:last-pattern (str page-ref\/left-brackets (if (editor-handler\/get-selected-text) \"\" q))\n                                        :end-pattern page-ref\/right-brackets\n                                        :postfix-fn   (fn [s] (util\/replace-first page-ref\/right-brackets s \"\"))\n                                        :command :page-ref})\n       (p\/let [chosen-result (or result chosen-result)]\n         (when (de\/entity? chosen-result)\n           (state\/conj-block-ref! chosen-result)))))))\n\n(defn on-chosen-handler\n  [input id pos format]\n  (let [current-pos (cursor\/pos input)\n        edit-content (state\/get-edit-content)\n        action (state\/get-editor-action)\n        hashtag? (= action :page-search-hashtag)\n        q (or\n           (editor-handler\/get-selected-text)\n           (when hashtag?\n             (common-util\/safe-subs edit-content pos current-pos))\n           (when (> (count edit-content) current-pos)\n             (common-util\/safe-subs edit-content pos current-pos)))\n        db-based? (config\/db-based-graph? (state\/get-current-repo))]\n    (if hashtag?\n      (tag-on-chosen-handler input id pos format current-pos edit-content q db-based?)\n      (page-on-chosen-handler id format q db-based?))))\n\n(defn create-today-journal!\n  []\n  (when-let [repo (state\/get-current-repo)]\n    (when (and (state\/enable-journals? repo)\n               ;; FIXME: There are a lot of long-running actions we don't want interrupted by this fn.\n               ;; We should implement an app-wide check rather than list them all here\n               (not (:graph\/loading? @state\/state))\n               (not (:graph\/importing @state\/state))\n               (not (state\/loading-files? repo))\n               (not config\/publishing?))\n      (state\/set-today! (date\/today))\n      (when (or (config\/db-based-graph? repo)\n                (config\/local-file-based-graph? repo)\n                (and (= config\/demo-repo repo) (not (mobile-util\/native-platform?))))\n        (let [title (date\/today)\n              today-page (util\/page-name-sanity-lc title)\n              format (state\/get-preferred-format repo)\n              template (state\/get-default-journal-template)\n              create-f (fn []\n                         (p\/do!\n                          (<create! title {:redirect? false\n                                           :split-namespace? false\n                                           :create-first-block? (not template)\n                                           :journal? true\n                                           :today-journal? true})\n                          (state\/pub-event! [:journal\/insert-template today-page])\n                          (ui-handler\/re-render-root!)\n                          (plugin-handler\/hook-plugin-app :today-journal-created {:title today-page})))]\n          (when (db\/page-empty? repo today-page)\n            (if (config\/db-based-graph? repo)\n              (when-not (model\/get-journal-page title)\n                (create-f))\n              (p\/let [file-name (date\/journal-title->default title)\n                      file-rpath (str (config\/get-journals-directory) \"\/\" file-name \".\"\n                                      (config\/get-file-extension format))\n                      repo-dir (config\/get-repo-dir repo)\n                      file-exists? (fs\/file-exists? repo-dir file-rpath)\n                      file-content (when file-exists?\n                                     (fs\/read-file repo-dir file-rpath))]\n                (when (or (not file-exists?)\n                          (and file-exists? (string\/blank? file-content)))\n                  (create-f))))))))))\n\n(defn open-today-in-sidebar\n  []\n  (when-let [page (db\/get-page (date\/today))]\n    (state\/sidebar-add-block!\n     (state\/get-current-repo)\n     (:db\/id page)\n     :page)))\n\n(defn open-file-in-default-app []\n  (if-let [file-rpath (and (util\/electron?) (page-util\/get-page-file-rpath))]\n    (let [repo-dir (config\/get-repo-dir (state\/get-current-repo))\n          file-fpath (path\/path-join repo-dir file-rpath)]\n      (js\/window.apis.openPath file-fpath))\n    (notification\/show! \"No file found\" :warning)))\n\n(defn copy-current-file\n  \"FIXME: clarify usage, copy file or copy file path\"\n  []\n  (if-let [file-rpath (and (util\/electron?) (page-util\/get-page-file-rpath))]\n    (let [repo-dir (config\/get-repo-dir (state\/get-current-repo))\n          file-fpath (path\/path-join repo-dir file-rpath)]\n      (util\/copy-to-clipboard! file-fpath))\n    (notification\/show! \"No file found\" :warning)))\n\n(defn open-file-in-directory []\n  (if-let [file-rpath (and (util\/electron?) (page-util\/get-page-file-rpath))]\n    (let [repo-dir (config\/get-repo-dir (state\/get-current-repo))\n          file-fpath (path\/path-join repo-dir file-rpath)]\n      (ipc\/ipc \"openFileInFolder\" file-fpath))\n    (notification\/show! \"No file found\" :warning)))\n\n(defn copy-page-url\n  ([]\n   (let [id (if (config\/db-based-graph? (state\/get-current-repo))\n              (page-util\/get-current-page-uuid)\n              (page-util\/get-current-page-name))]\n     (copy-page-url id)))\n  ([page-uuid]\n   (if page-uuid\n     (util\/copy-to-clipboard!\n      (url-util\/get-logseq-graph-page-url nil (state\/get-current-repo) (str page-uuid)))\n     (notification\/show! \"No page found to copy\" :warning))))\n","(ns logseq.shui.ui\n  (:require [logseq.shui.util :as util]\n            [logseq.shui.icon.v2 :as icon-v2]\n            [logseq.shui.shortcut.v1 :as shui.shortcut.v1]\n            [logseq.shui.toaster.core :as toaster-core]\n            [logseq.shui.select.core :as select-core]\n            [logseq.shui.select.multi :as select-multi]\n            [logseq.shui.dialog.core :as dialog-core]\n            [logseq.shui.popup.core :as popup-core]\n            [logseq.shui.base.core :as base-core]\n            [logseq.shui.form.core :as form-core]\n            [logseq.shui.table.core :as table-core]))\n\n(def button base-core\/button)\n(def link base-core\/link)\n(def trigger-as base-core\/trigger-as)\n(def trigger-child-wrap base-core\/trigger-child-wrap)\n(def ^:todo shortcut shui.shortcut.v1\/root)\n(def ^:export tabler-icon icon-v2\/root)\n\n(def alert (util\/lsui-wrap \"Alert\"))\n(def alert-title (util\/lsui-wrap \"AlertTitle\"))\n(def alert-description (util\/lsui-wrap \"AlertDescription\"))\n(def slider (util\/lsui-wrap \"Slider\"))\n(def badge (util\/lsui-wrap \"Badge\"))\n(def skeleton (util\/lsui-wrap \"Skeleton\"))\n(def calendar (util\/lsui-wrap \"Calendar\"))\n(def avatar (util\/lsui-wrap \"Avatar\"))\n(def avatar-image (util\/lsui-wrap \"AvatarImage\"))\n(def avatar-fallback (util\/lsui-wrap \"AvatarFallback\"))\n(def input form-core\/input)\n(def textarea form-core\/textarea)\n(def switch form-core\/switch)\n(def checkbox form-core\/checkbox)\n(def radio-group form-core\/radio-group)\n(def radio-group-item form-core\/radio-group-item)\n(def popover popup-core\/popover)\n(def popover-trigger popup-core\/popover-trigger)\n(def popover-content popup-core\/popover-content)\n(def popover-arrow popup-core\/popover-arrow)\n\n(def tooltip (util\/lsui-wrap \"Tooltip\"))\n(def tooltip-trigger (util\/lsui-wrap \"TooltipTrigger\"))\n(def tooltip-portal (util\/lsui-wrap \"TooltipPortal\"))\n(def tooltip-content (util\/lsui-wrap \"TooltipContent\"))\n(def tooltip-provider (util\/lsui-wrap \"TooltipProvider\"))\n\n(def card (util\/lsui-wrap \"Card\"))\n(def card-header (util\/lsui-wrap \"CardHeader\"))\n(def card-title (util\/lsui-wrap \"CardTitle\"))\n(def card-description (util\/lsui-wrap \"CardDescription\"))\n(def card-content (util\/lsui-wrap \"CardContent\"))\n(def card-footer (util\/lsui-wrap \"CardFooter\"))\n\n(def form-provider form-core\/form-provider)\n(def form-item form-core\/form-item)\n(def form-label form-core\/form-label)\n(def form-description form-core\/form-description)\n(def form-message form-core\/form-message)\n(def form-field form-core\/form-field)\n(def form-control form-core\/form-control)\n\n(def select select-core\/select)\n(def select-group select-core\/select-group)\n(def select-value select-core\/select-value)\n(def select-trigger select-core\/select-trigger)\n(def select-content select-core\/select-content)\n(def select-label select-core\/select-label)\n(def select-item select-core\/select-item)\n(def select-separator select-core\/select-separator)\n(def select-scroll-up-button select-core\/select-scroll-up-button)\n(def select-scroll-down-button select-core\/select-scroll-down-button)\n\n(def dropdown-menu popup-core\/dropdown-menu)\n(def dropdown-menu-trigger popup-core\/dropdown-menu-trigger)\n(def dropdown-menu-content popup-core\/dropdown-menu-content)\n(def dropdown-menu-group popup-core\/dropdown-menu-group)\n(def dropdown-menu-item popup-core\/dropdown-menu-item)\n(def dropdown-menu-checkbox-item popup-core\/dropdown-menu-checkbox-item)\n(def dropdown-menu-radio-group popup-core\/dropdown-menu-radio-group)\n(def dropdown-menu-radio-item popup-core\/dropdown-menu-radio-item)\n(def dropdown-menu-label popup-core\/dropdown-menu-label)\n(def dropdown-menu-separator popup-core\/dropdown-menu-separator)\n(def dropdown-menu-shortcut popup-core\/dropdown-menu-shortcut)\n(def dropdown-menu-portal popup-core\/dropdown-menu-portal)\n(def dropdown-menu-sub popup-core\/dropdown-menu-sub)\n(def dropdown-menu-sub-content popup-core\/dropdown-menu-sub-content)\n(def dropdown-menu-sub-trigger popup-core\/dropdown-menu-sub-trigger)\n\n(def context-menu (util\/lsui-wrap \"ContextMenu\"))\n(def context-menu-trigger (util\/lsui-wrap \"ContextMenuTrigger\"))\n(def context-menu-content (util\/lsui-wrap \"ContextMenuContent\"))\n(def context-menu-item (util\/lsui-wrap \"ContextMenuItem\"))\n(def context-menu-checkbox-item (util\/lsui-wrap \"ContextMenuCheckboxItem\"))\n(def context-menu-radio-item (util\/lsui-wrap \"ContextMenuRadioItem\"))\n(def context-menu-label (util\/lsui-wrap \"ContextMenuLabel\"))\n(def context-menu-separator (util\/lsui-wrap \"ContextMenuSeparator\"))\n(def context-menu-shortcut (util\/lsui-wrap \"ContextMenuShortcut\"))\n(def context-menu-group (util\/lsui-wrap \"ContextMenuGroup\"))\n(def context-menu-portal (util\/lsui-wrap \"ContextMenuPortal\"))\n(def context-menu-sub (util\/lsui-wrap \"ContextMenuSub\"))\n(def context-menu-sub-content (util\/lsui-wrap \"ContextMenuSubContent\"))\n(def context-menu-sub-trigger (util\/lsui-wrap \"ContextMenuSubTrigger\"))\n(def context-menu-radio-group (util\/lsui-wrap \"ContextMenuRadioGroup\"))\n\n(def dialog dialog-core\/dialog)\n(def dialog-portal dialog-core\/dialog-portal)\n(def dialog-overlay dialog-core\/dialog-overlay)\n(def dialog-close dialog-core\/dialog-close)\n(def dialog-trigger dialog-core\/dialog-trigger)\n(def dialog-content dialog-core\/dialog-content)\n(def dialog-header dialog-core\/dialog-header)\n(def dialog-footer dialog-core\/dialog-footer)\n(def dialog-title dialog-core\/dialog-title)\n(def dialog-description dialog-core\/dialog-description)\n\n(def toast! toaster-core\/toast!)\n(def toast-dismiss! toaster-core\/dismiss!)\n(def dialog-open! dialog-core\/open!)\n(def dialog-alert! dialog-core\/alert!)\n(def dialog-confirm! dialog-core\/confirm!)\n(def dialog-close! dialog-core\/close!)\n(def dialog-close-all! dialog-core\/close-all!)\n(def dialog-get dialog-core\/get-modal)\n(def popup-show! popup-core\/show!)\n(def popup-hide! popup-core\/hide!)\n(def popup-hide-all! popup-core\/hide-all!)\n\n(def multi-select-content select-multi\/x-select-content)\n\n(def table-option table-core\/table-option)\n(def table table-core\/table)\n(def table-header table-core\/table-header)\n(def table-footer table-core\/table-footer)\n(def table-row table-core\/table-row)\n(def table-cell table-core\/table-cell)\n(def table-actions table-core\/table-actions)\n(def table-get-selection-rows table-core\/get-selection-rows)\n","goog.module(\"shadow.loader\");\ngoog.module.declareLegacyNamespace();\n\nconst GMM = goog.require(\"goog.module.ModuleManager\");\nconst GML = goog.require(\"goog.module.ModuleLoader\");\n\nconst GO = goog.require(\"goog.object\");\nconst GHUC = goog.require(\"goog.html.uncheckedconversions\");\nconst GSC = goog.require(\"goog.string.Const\");\n\n\/** @define {boolean} *\/\nconst TEST = goog.define(\"shadow.loader.TEST\", false);\n\n\/\/ this is written in JS so it doesn't depend on cljs.core\n\nconst ml = new GML();\nml.setSourceUrlInjection(true);\n\nconst mm = GMM.getInstance();\nmm.setLoader(ml);\n\nlet initCalled = false;\n\nfunction ensureInitWasCalled () {\n  if (!initCalled) {\n    throw new Error(\n      \"shadow.loader API was called before shadow.loader.init!\\n\" +\n        \"You are probably calling module loader too early before shadow-cljs got fully initialized.\"\n    );\n  }\n};\n\nfunction init (uriPrefix) {\n  if (TEST) return;\n\n  if (initCalled) {\n    throw new Error(\n      \"shadow.loader.init was already called! If you are calling it manually set :module-loader-init false in your config.\"\n    );\n  }\n\n  if (goog.global.shadow$modules) {\n    mm.setAllModuleInfo(goog.global.shadow$modules[\"infos\"]);\n\n    var uris = goog.global.shadow$modules[\"uris\"];\n\n    \/\/ this is absurd. the uris are generated by the compiler. should be trusted already.\n    \/\/ I would really like to know how Google integrates this data into their builds\n    var trustReason = GSC.from(\"generated by compiler\");\n\n    GO.getKeys(uris).forEach(function (key) {\n      var module_uris = uris[key];\n      if (module_uris.length == 0) {\n        \/\/ default module is added without uris since it will always be loaded\n        \/\/ when this is called\n        mm.getModuleInfo(key).setLoaded();\n      } else {\n        var trusted_uris = [];\n        module_uris.forEach(function (module_uri) {\n          var trusted =\n            GHUC.trustedResourceUrlFromStringKnownToSatisfyTypeContract(\n              trustReason,\n              uriPrefix + module_uri\n            );\n          trusted_uris.push(trusted);\n        });\n        mm.getModuleInfo(key).setTrustedUris(trusted_uris);\n      }\n    });\n\n    initCalled = true;\n  }\n};\n\nfunction getModuleManager() {\n  return mm;\n};\n\nfunction getModuleLoader() {\n  return ml;\n};\n\n\/\/ allow calling (shadow.loader\/load :with-a-keyword)\nfunction string_id(id) {\n  var result = id.toString();\n  if (result.charAt(0) == \":\") {\n    result = result.substring(1);\n  }\n  return result;\n};\n\nfunction set_load_start(id) {\n  mm.beforeLoadModuleCode(id);\n};\n\n\/\/ FIXME: id no longer required, just keeping it in case someone ends up using old closure lib\nfunction set_loaded (id) {\n  mm.setLoaded(id);\n};\n\n\/\/ ignored. only for cljs.loader compat\nfunction set_loaded_BANG_ () {};\n\nfunction loaded_QMARK_(id) {\n  if (TEST) {\n    return true;\n  }\n\n  return mm.getModuleInfo(string_id(id)).isLoaded();\n};\n\nfunction with_module(\n  moduleId,\n  fn,\n  opt_handler,\n  opt_noLoad,\n  opt_userInitiated,\n  opt_preferSynchronous\n) {\n  ensureInitWasCalled();\n  return mm.execOnLoad(\n    string_id(moduleId),\n    fn,\n    opt_handler,\n    opt_noLoad,\n    opt_userInitiated,\n    opt_preferSynchronous\n  );\n};\n\nfunction load (id, cb) {\n  if (TEST) {\n    var result = goog.async.Deferred.succeed();\n    if (cb) {\n      result = result.then(cb);\n    }\n    return result;\n  }\n\n  ensureInitWasCalled();\n  id = string_id(id);\n  if (cb) {\n    mm.execOnLoad(id, cb);\n  }\n  return mm.load(id);\n};\n\nfunction load_multiple(ids, opt_userInitiated) {\n  if (TEST) {\n    var result = {};\n    for (const id of ids) {\n      result[id] = goog.async.Deferred.succeed();\n    }\n    return result;\n  }\n  ensureInitWasCalled();\n  return mm.loadMultiple(ids, opt_userInitiated);\n};\n\nfunction prefetch (id) {\n  if (TEST) return;\n\n  ensureInitWasCalled();\n  mm.prefetchModule(string_id(id));\n};\n\nfunction preload (id) {\n  if (TEST) return;\n\n  ensureInitWasCalled();\n  return mm.preloadModule(string_id(id));\n};\n\nexports = {\n    preload,\n    prefetch,\n    load_multiple,\n    load,\n    with_module,\n    loaded_QMARK_,\n    set_loaded_BANG_,\n    set_loaded,\n    set_load_start,\n    getModuleLoader,\n    getModuleManager,\n    init\n};","\nshadow.loader.set_load_start('tldraw');","shadow$provide[585] = function(global,require,module,exports) {\n\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a3, b3) => {\n  for (var prop in b3 || (b3 = {}))\n    if (__hasOwnProp.call(b3, prop))\n      __defNormalProp(a3, prop, b3[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b3)) {\n      if (__propIsEnum.call(b3, prop))\n        __defNormalProp(a3, prop, b3[prop]);\n    }\n  return a3;\n};\nvar __spreadProps = (a3, b3) => __defProps(a3, __getOwnPropDescs(b3));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)\n    if (decorator = decorators[i2])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\/\/ ..\/..\/node_modules\/rbush\/rbush.min.js\nvar require_rbush_min = __commonJS({\n  \"..\/..\/node_modules\/rbush\/rbush.min.js\"(exports, module2) {\n    !function(t, i2) {\n      \"object\" == typeof exports && \"undefined\" != typeof module2 ? module2.exports = i2() : \"function\" == typeof define && define.amd ? define(i2) : (t = t || self).RBush = i2();\n    }(exports, function() {\n      \"use strict\";\n      function t(t2, r3, e2, a4, h3) {\n        !function t3(n3, r4, e3, a5, h4) {\n          for (; a5 > e3; ) {\n            if (a5 - e3 > 600) {\n              var o3 = a5 - e3 + 1, s3 = r4 - e3 + 1, l4 = Math.log(o3), f3 = 0.5 * Math.exp(2 * l4 \/ 3), u3 = 0.5 * Math.sqrt(l4 * f3 * (o3 - f3) \/ o3) * (s3 - o3 \/ 2 < 0 ? -1 : 1), m3 = Math.max(e3, Math.floor(r4 - s3 * f3 \/ o3 + u3)), c3 = Math.min(a5, Math.floor(r4 + (o3 - s3) * f3 \/ o3 + u3));\n              t3(n3, r4, m3, c3, h4);\n            }\n            var p3 = n3[r4], d3 = e3, x2 = a5;\n            for (i2(n3, e3, r4), h4(n3[a5], p3) > 0 && i2(n3, e3, a5); d3 < x2; ) {\n              for (i2(n3, d3, x2), d3++, x2--; h4(n3[d3], p3) < 0; )\n                d3++;\n              for (; h4(n3[x2], p3) > 0; )\n                x2--;\n            }\n            0 === h4(n3[e3], p3) ? i2(n3, e3, x2) : i2(n3, ++x2, a5), x2 <= r4 && (e3 = x2 + 1), r4 <= x2 && (a5 = x2 - 1);\n          }\n        }(t2, r3, e2 || 0, a4 || t2.length - 1, h3 || n2);\n      }\n      function i2(t2, i3, n3) {\n        var r3 = t2[i3];\n        t2[i3] = t2[n3], t2[n3] = r3;\n      }\n      function n2(t2, i3) {\n        return t2 < i3 ? -1 : t2 > i3 ? 1 : 0;\n      }\n      var r2 = function(t2) {\n        void 0 === t2 && (t2 = 9), this._maxEntries = Math.max(4, t2), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();\n      };\n      function e(t2, i3, n3) {\n        if (!n3)\n          return i3.indexOf(t2);\n        for (var r3 = 0; r3 < i3.length; r3++)\n          if (n3(t2, i3[r3]))\n            return r3;\n        return -1;\n      }\n      function a3(t2, i3) {\n        h2(t2, 0, t2.children.length, i3, t2);\n      }\n      function h2(t2, i3, n3, r3, e2) {\n        e2 || (e2 = p2(null)), e2.minX = 1 \/ 0, e2.minY = 1 \/ 0, e2.maxX = -1 \/ 0, e2.maxY = -1 \/ 0;\n        for (var a4 = i3; a4 < n3; a4++) {\n          var h3 = t2.children[a4];\n          o2(e2, t2.leaf ? r3(h3) : h3);\n        }\n        return e2;\n      }\n      function o2(t2, i3) {\n        return t2.minX = Math.min(t2.minX, i3.minX), t2.minY = Math.min(t2.minY, i3.minY), t2.maxX = Math.max(t2.maxX, i3.maxX), t2.maxY = Math.max(t2.maxY, i3.maxY), t2;\n      }\n      function s2(t2, i3) {\n        return t2.minX - i3.minX;\n      }\n      function l3(t2, i3) {\n        return t2.minY - i3.minY;\n      }\n      function f2(t2) {\n        return (t2.maxX - t2.minX) * (t2.maxY - t2.minY);\n      }\n      function u2(t2) {\n        return t2.maxX - t2.minX + (t2.maxY - t2.minY);\n      }\n      function m2(t2, i3) {\n        return t2.minX <= i3.minX && t2.minY <= i3.minY && i3.maxX <= t2.maxX && i3.maxY <= t2.maxY;\n      }\n      function c2(t2, i3) {\n        return i3.minX <= t2.maxX && i3.minY <= t2.maxY && i3.maxX >= t2.minX && i3.maxY >= t2.minY;\n      }\n      function p2(t2) {\n        return { children: t2, height: 1, leaf: true, minX: 1 \/ 0, minY: 1 \/ 0, maxX: -1 \/ 0, maxY: -1 \/ 0 };\n      }\n      function d2(i3, n3, r3, e2, a4) {\n        for (var h3 = [n3, r3]; h3.length; )\n          if (!((r3 = h3.pop()) - (n3 = h3.pop()) <= e2)) {\n            var o3 = n3 + Math.ceil((r3 - n3) \/ e2 \/ 2) * e2;\n            t(i3, o3, n3, r3, a4), h3.push(n3, o3, o3, r3);\n          }\n      }\n      return r2.prototype.all = function() {\n        return this._all(this.data, []);\n      }, r2.prototype.search = function(t2) {\n        var i3 = this.data, n3 = [];\n        if (!c2(t2, i3))\n          return n3;\n        for (var r3 = this.toBBox, e2 = []; i3; ) {\n          for (var a4 = 0; a4 < i3.children.length; a4++) {\n            var h3 = i3.children[a4], o3 = i3.leaf ? r3(h3) : h3;\n            c2(t2, o3) && (i3.leaf ? n3.push(h3) : m2(t2, o3) ? this._all(h3, n3) : e2.push(h3));\n          }\n          i3 = e2.pop();\n        }\n        return n3;\n      }, r2.prototype.collides = function(t2) {\n        var i3 = this.data;\n        if (!c2(t2, i3))\n          return false;\n        for (var n3 = []; i3; ) {\n          for (var r3 = 0; r3 < i3.children.length; r3++) {\n            var e2 = i3.children[r3], a4 = i3.leaf ? this.toBBox(e2) : e2;\n            if (c2(t2, a4)) {\n              if (i3.leaf || m2(t2, a4))\n                return true;\n              n3.push(e2);\n            }\n          }\n          i3 = n3.pop();\n        }\n        return false;\n      }, r2.prototype.load = function(t2) {\n        if (!t2 || !t2.length)\n          return this;\n        if (t2.length < this._minEntries) {\n          for (var i3 = 0; i3 < t2.length; i3++)\n            this.insert(t2[i3]);\n          return this;\n        }\n        var n3 = this._build(t2.slice(), 0, t2.length - 1, 0);\n        if (this.data.children.length)\n          if (this.data.height === n3.height)\n            this._splitRoot(this.data, n3);\n          else {\n            if (this.data.height < n3.height) {\n              var r3 = this.data;\n              this.data = n3, n3 = r3;\n            }\n            this._insert(n3, this.data.height - n3.height - 1, true);\n          }\n        else\n          this.data = n3;\n        return this;\n      }, r2.prototype.insert = function(t2) {\n        return t2 && this._insert(t2, this.data.height - 1), this;\n      }, r2.prototype.clear = function() {\n        return this.data = p2([]), this;\n      }, r2.prototype.remove = function(t2, i3) {\n        if (!t2)\n          return this;\n        for (var n3, r3, a4, h3 = this.data, o3 = this.toBBox(t2), s3 = [], l4 = []; h3 || s3.length; ) {\n          if (h3 || (h3 = s3.pop(), r3 = s3[s3.length - 1], n3 = l4.pop(), a4 = true), h3.leaf) {\n            var f3 = e(t2, h3.children, i3);\n            if (-1 !== f3)\n              return h3.children.splice(f3, 1), s3.push(h3), this._condense(s3), this;\n          }\n          a4 || h3.leaf || !m2(h3, o3) ? r3 ? (n3++, h3 = r3.children[n3], a4 = false) : h3 = null : (s3.push(h3), l4.push(n3), n3 = 0, r3 = h3, h3 = h3.children[0]);\n        }\n        return this;\n      }, r2.prototype.toBBox = function(t2) {\n        return t2;\n      }, r2.prototype.compareMinX = function(t2, i3) {\n        return t2.minX - i3.minX;\n      }, r2.prototype.compareMinY = function(t2, i3) {\n        return t2.minY - i3.minY;\n      }, r2.prototype.toJSON = function() {\n        return this.data;\n      }, r2.prototype.fromJSON = function(t2) {\n        return this.data = t2, this;\n      }, r2.prototype._all = function(t2, i3) {\n        for (var n3 = []; t2; )\n          t2.leaf ? i3.push.apply(i3, t2.children) : n3.push.apply(n3, t2.children), t2 = n3.pop();\n        return i3;\n      }, r2.prototype._build = function(t2, i3, n3, r3) {\n        var e2, h3 = n3 - i3 + 1, o3 = this._maxEntries;\n        if (h3 <= o3)\n          return a3(e2 = p2(t2.slice(i3, n3 + 1)), this.toBBox), e2;\n        r3 || (r3 = Math.ceil(Math.log(h3) \/ Math.log(o3)), o3 = Math.ceil(h3 \/ Math.pow(o3, r3 - 1))), (e2 = p2([])).leaf = false, e2.height = r3;\n        var s3 = Math.ceil(h3 \/ o3), l4 = s3 * Math.ceil(Math.sqrt(o3));\n        d2(t2, i3, n3, l4, this.compareMinX);\n        for (var f3 = i3; f3 <= n3; f3 += l4) {\n          var u3 = Math.min(f3 + l4 - 1, n3);\n          d2(t2, f3, u3, s3, this.compareMinY);\n          for (var m3 = f3; m3 <= u3; m3 += s3) {\n            var c3 = Math.min(m3 + s3 - 1, u3);\n            e2.children.push(this._build(t2, m3, c3, r3 - 1));\n          }\n        }\n        return a3(e2, this.toBBox), e2;\n      }, r2.prototype._chooseSubtree = function(t2, i3, n3, r3) {\n        for (; r3.push(i3), !i3.leaf && r3.length - 1 !== n3; ) {\n          for (var e2 = 1 \/ 0, a4 = 1 \/ 0, h3 = void 0, o3 = 0; o3 < i3.children.length; o3++) {\n            var s3 = i3.children[o3], l4 = f2(s3), u3 = (m3 = t2, c3 = s3, (Math.max(c3.maxX, m3.maxX) - Math.min(c3.minX, m3.minX)) * (Math.max(c3.maxY, m3.maxY) - Math.min(c3.minY, m3.minY)) - l4);\n            u3 < a4 ? (a4 = u3, e2 = l4 < e2 ? l4 : e2, h3 = s3) : u3 === a4 && l4 < e2 && (e2 = l4, h3 = s3);\n          }\n          i3 = h3 || i3.children[0];\n        }\n        var m3, c3;\n        return i3;\n      }, r2.prototype._insert = function(t2, i3, n3) {\n        var r3 = n3 ? t2 : this.toBBox(t2), e2 = [], a4 = this._chooseSubtree(r3, this.data, i3, e2);\n        for (a4.children.push(t2), o2(a4, r3); i3 >= 0 && e2[i3].children.length > this._maxEntries; )\n          this._split(e2, i3), i3--;\n        this._adjustParentBBoxes(r3, e2, i3);\n      }, r2.prototype._split = function(t2, i3) {\n        var n3 = t2[i3], r3 = n3.children.length, e2 = this._minEntries;\n        this._chooseSplitAxis(n3, e2, r3);\n        var h3 = this._chooseSplitIndex(n3, e2, r3), o3 = p2(n3.children.splice(h3, n3.children.length - h3));\n        o3.height = n3.height, o3.leaf = n3.leaf, a3(n3, this.toBBox), a3(o3, this.toBBox), i3 ? t2[i3 - 1].children.push(o3) : this._splitRoot(n3, o3);\n      }, r2.prototype._splitRoot = function(t2, i3) {\n        this.data = p2([t2, i3]), this.data.height = t2.height + 1, this.data.leaf = false, a3(this.data, this.toBBox);\n      }, r2.prototype._chooseSplitIndex = function(t2, i3, n3) {\n        for (var r3, e2, a4, o3, s3, l4, u3, m3 = 1 \/ 0, c3 = 1 \/ 0, p3 = i3; p3 <= n3 - i3; p3++) {\n          var d3 = h2(t2, 0, p3, this.toBBox), x2 = h2(t2, p3, n3, this.toBBox), v2 = (e2 = d3, a4 = x2, o3 = void 0, s3 = void 0, l4 = void 0, u3 = void 0, o3 = Math.max(e2.minX, a4.minX), s3 = Math.max(e2.minY, a4.minY), l4 = Math.min(e2.maxX, a4.maxX), u3 = Math.min(e2.maxY, a4.maxY), Math.max(0, l4 - o3) * Math.max(0, u3 - s3)), M2 = f2(d3) + f2(x2);\n          v2 < m3 ? (m3 = v2, r3 = p3, c3 = M2 < c3 ? M2 : c3) : v2 === m3 && M2 < c3 && (c3 = M2, r3 = p3);\n        }\n        return r3 || n3 - i3;\n      }, r2.prototype._chooseSplitAxis = function(t2, i3, n3) {\n        var r3 = t2.leaf ? this.compareMinX : s2, e2 = t2.leaf ? this.compareMinY : l3;\n        this._allDistMargin(t2, i3, n3, r3) < this._allDistMargin(t2, i3, n3, e2) && t2.children.sort(r3);\n      }, r2.prototype._allDistMargin = function(t2, i3, n3, r3) {\n        t2.children.sort(r3);\n        for (var e2 = this.toBBox, a4 = h2(t2, 0, i3, e2), s3 = h2(t2, n3 - i3, n3, e2), l4 = u2(a4) + u2(s3), f3 = i3; f3 < n3 - i3; f3++) {\n          var m3 = t2.children[f3];\n          o2(a4, t2.leaf ? e2(m3) : m3), l4 += u2(a4);\n        }\n        for (var c3 = n3 - i3 - 1; c3 >= i3; c3--) {\n          var p3 = t2.children[c3];\n          o2(s3, t2.leaf ? e2(p3) : p3), l4 += u2(s3);\n        }\n        return l4;\n      }, r2.prototype._adjustParentBBoxes = function(t2, i3, n3) {\n        for (var r3 = n3; r3 >= 0; r3--)\n          o2(i3[r3], t2);\n      }, r2.prototype._condense = function(t2) {\n        for (var i3 = t2.length - 1, n3 = void 0; i3 >= 0; i3--)\n          0 === t2[i3].children.length ? i3 > 0 ? (n3 = t2[i3 - 1].children).splice(n3.indexOf(t2[i3]), 1) : this.clear() : a3(t2[i3], this.toBBox);\n      }, r2;\n    });\n  }\n});\n\n\/\/ ..\/..\/node_modules\/fast-deep-equal\/index.js\nvar require_fast_deep_equal = __commonJS({\n  \"..\/..\/node_modules\/fast-deep-equal\/index.js\"(exports, module2) {\n    \"use strict\";\n    module2.exports = function equal(a3, b3) {\n      if (a3 === b3)\n        return true;\n      if (a3 && b3 && typeof a3 == \"object\" && typeof b3 == \"object\") {\n        if (a3.constructor !== b3.constructor)\n          return false;\n        var length, i2, keys;\n        if (Array.isArray(a3)) {\n          length = a3.length;\n          if (length != b3.length)\n            return false;\n          for (i2 = length; i2-- !== 0; )\n            if (!equal(a3[i2], b3[i2]))\n              return false;\n          return true;\n        }\n        if (a3.constructor === RegExp)\n          return a3.source === b3.source && a3.flags === b3.flags;\n        if (a3.valueOf !== Object.prototype.valueOf)\n          return a3.valueOf() === b3.valueOf();\n        if (a3.toString !== Object.prototype.toString)\n          return a3.toString() === b3.toString();\n        keys = Object.keys(a3);\n        length = keys.length;\n        if (length !== Object.keys(b3).length)\n          return false;\n        for (i2 = length; i2-- !== 0; )\n          if (!Object.prototype.hasOwnProperty.call(b3, keys[i2]))\n            return false;\n        for (i2 = length; i2-- !== 0; ) {\n          var key = keys[i2];\n          if (!equal(a3[key], b3[key]))\n            return false;\n        }\n        return true;\n      }\n      return a3 !== a3 && b3 !== b3;\n    };\n  }\n});\n\n\/\/ ..\/..\/..\/..\/node_modules\/deepmerge\/dist\/cjs.js\nvar require_cjs = __commonJS({\n  \"..\/..\/..\/..\/node_modules\/deepmerge\/dist\/cjs.js\"(exports, module2) {\n    \"use strict\";\n    var isMergeableObject = function isMergeableObject2(value) {\n      return isNonNullObject(value) && !isSpecial(value);\n    };\n    function isNonNullObject(value) {\n      return !!value && typeof value === \"object\";\n    }\n    function isSpecial(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue === \"[object RegExp]\" || stringValue === \"[object Date]\" || isReactElement(value);\n    }\n    var canUseSymbol = typeof Symbol === \"function\" && Symbol.for;\n    var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for(\"react.element\") : 60103;\n    function isReactElement(value) {\n      return value.$$typeof === REACT_ELEMENT_TYPE;\n    }\n    function emptyTarget(val) {\n      return Array.isArray(val) ? [] : {};\n    }\n    function cloneUnlessOtherwiseSpecified(value, options) {\n      return options.clone !== false && options.isMergeableObject(value) ? deepmerge2(emptyTarget(value), value, options) : value;\n    }\n    function defaultArrayMerge(target, source, options) {\n      return target.concat(source).map(function(element) {\n        return cloneUnlessOtherwiseSpecified(element, options);\n      });\n    }\n    function getMergeFunction(key, options) {\n      if (!options.customMerge) {\n        return deepmerge2;\n      }\n      var customMerge = options.customMerge(key);\n      return typeof customMerge === \"function\" ? customMerge : deepmerge2;\n    }\n    function getEnumerableOwnPropertySymbols(target) {\n      return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n        return Object.propertyIsEnumerable.call(target, symbol);\n      }) : [];\n    }\n    function getKeys(target) {\n      return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n    }\n    function propertyIsOnObject(object2, property) {\n      try {\n        return property in object2;\n      } catch (_2) {\n        return false;\n      }\n    }\n    function propertyIsUnsafe(target, key) {\n      return propertyIsOnObject(target, key) && !(Object.hasOwnProperty.call(target, key) && Object.propertyIsEnumerable.call(target, key));\n    }\n    function mergeObject(target, source, options) {\n      var destination = {};\n      if (options.isMergeableObject(target)) {\n        getKeys(target).forEach(function(key) {\n          destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n        });\n      }\n      getKeys(source).forEach(function(key) {\n        if (propertyIsUnsafe(target, key)) {\n          return;\n        }\n        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n          destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n        } else {\n          destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n        }\n      });\n      return destination;\n    }\n    function deepmerge2(target, source, options) {\n      options = options || {};\n      options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n      options.isMergeableObject = options.isMergeableObject || isMergeableObject;\n      options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n      var sourceIsArray = Array.isArray(source);\n      var targetIsArray = Array.isArray(target);\n      var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n      if (!sourceAndTargetTypesMatch) {\n        return cloneUnlessOtherwiseSpecified(source, options);\n      } else if (sourceIsArray) {\n        return options.arrayMerge(target, source, options);\n      } else {\n        return mergeObject(target, source, options);\n      }\n    }\n    deepmerge2.all = function deepmergeAll(array2, options) {\n      if (!Array.isArray(array2)) {\n        throw new Error(\"first argument should be an array\");\n      }\n      return array2.reduce(function(prev, next) {\n        return deepmerge2(prev, next, options);\n      }, {});\n    };\n    var deepmerge_1 = deepmerge2;\n    module2.exports = deepmerge_1;\n  }\n});\n\n\/\/ src\/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  App: () => App3,\n  PreviewManager: () => PreviewManager,\n  generateJSXFromModel: () => generateJSXFromModel,\n  generateSVGFromModel: () => generateSVGFromModel\n});\nmodule.exports = __toCommonJS(src_exports);\n\n\/\/ ..\/..\/packages\/core\/src\/types\/types.ts\nvar Color = \/* @__PURE__ *\/ ((Color2) => {\n  Color2[\"Yellow\"] = \"yellow\";\n  Color2[\"Red\"] = \"red\";\n  Color2[\"Pink\"] = \"pink\";\n  Color2[\"Green\"] = \"green\";\n  Color2[\"Blue\"] = \"blue\";\n  Color2[\"Purple\"] = \"purple\";\n  Color2[\"Gray\"] = \"gray\";\n  Color2[\"Default\"] = \"\";\n  return Color2;\n})(Color || {});\nvar Geometry = \/* @__PURE__ *\/ ((Geometry2) => {\n  Geometry2[\"Box\"] = \"box\";\n  Geometry2[\"Ellipse\"] = \"ellipse\";\n  Geometry2[\"Polygon\"] = \"polygon\";\n  return Geometry2;\n})(Geometry || {});\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/rng.js\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  if (!getRandomValues) {\n    getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error(\"crypto.getRandomValues() not supported. See https:\/\/github.com\/uuidjs\/uuid#getrandomvalues-not-supported\");\n    }\n  }\n  return getRandomValues(rnds8);\n}\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/regex.js\nvar regex_default = \/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$\/i;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/validate.js\nfunction validate(uuid) {\n  return typeof uuid === \"string\" && regex_default.test(uuid);\n}\nvar validate_default = validate;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/stringify.js\nvar byteToHex = [];\nfor (let i2 = 0; i2 < 256; ++i2) {\n  byteToHex.push((i2 + 256).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + \"-\" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + \"-\" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + \"-\" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + \"-\" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/v1.js\nvar _nodeId;\nvar _clockseq;\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\nfunction v1(options, buf, offset) {\n  let i2 = buf && offset || 0;\n  const b3 = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== void 0 ? options.clockseq : _clockseq;\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n    if (node == null) {\n      node = _nodeId = [seedBytes[0] | 1, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 16383;\n    }\n  }\n  let msecs = options.msecs !== void 0 ? options.msecs : Date.now();\n  let nsecs = options.nsecs !== void 0 ? options.nsecs : _lastNSecs + 1;\n  const dt2 = msecs - _lastMSecs + (nsecs - _lastNSecs) \/ 1e4;\n  if (dt2 < 0 && options.clockseq === void 0) {\n    clockseq = clockseq + 1 & 16383;\n  }\n  if ((dt2 < 0 || msecs > _lastMSecs) && options.nsecs === void 0) {\n    nsecs = 0;\n  }\n  if (nsecs >= 1e4) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids\/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n  msecs += 122192928e5;\n  const tl = ((msecs & 268435455) * 1e4 + nsecs) % 4294967296;\n  b3[i2++] = tl >>> 24 & 255;\n  b3[i2++] = tl >>> 16 & 255;\n  b3[i2++] = tl >>> 8 & 255;\n  b3[i2++] = tl & 255;\n  const tmh = msecs \/ 4294967296 * 1e4 & 268435455;\n  b3[i2++] = tmh >>> 8 & 255;\n  b3[i2++] = tmh & 255;\n  b3[i2++] = tmh >>> 24 & 15 | 16;\n  b3[i2++] = tmh >>> 16 & 255;\n  b3[i2++] = clockseq >>> 8 | 128;\n  b3[i2++] = clockseq & 255;\n  for (let n2 = 0; n2 < 6; ++n2) {\n    b3[i2 + n2] = node[n2];\n  }\n  return buf || unsafeStringify(b3);\n}\nvar v1_default = v1;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/parse.js\nfunction parse(uuid) {\n  if (!validate_default(uuid)) {\n    throw TypeError(\"Invalid UUID\");\n  }\n  let v2;\n  const arr = new Uint8Array(16);\n  arr[0] = (v2 = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v2 >>> 16 & 255;\n  arr[2] = v2 >>> 8 & 255;\n  arr[3] = v2 & 255;\n  arr[4] = (v2 = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v2 & 255;\n  arr[6] = (v2 = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v2 & 255;\n  arr[8] = (v2 = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v2 & 255;\n  arr[10] = (v2 = parseInt(uuid.slice(24, 36), 16)) \/ 1099511627776 & 255;\n  arr[11] = v2 \/ 4294967296 & 255;\n  arr[12] = v2 >>> 24 & 255;\n  arr[13] = v2 >>> 16 & 255;\n  arr[14] = v2 >>> 8 & 255;\n  arr[15] = v2 & 255;\n  return arr;\n}\nvar parse_default = parse;\n\n\/\/ ..\/..\/node_modules\/uuid\/dist\/esm-browser\/nil.js\nvar nil_default = \"00000000-0000-0000-0000-000000000000\";\n\n\/\/ ..\/..\/packages\/utils\/vec\/src\/index.ts\nvar _Vec = class {\n  static clamp(n2, min, max) {\n    return Math.max(min, typeof max !== \"undefined\" ? Math.min(n2, max) : n2);\n  }\n  static clampV(A3, min, max) {\n    return A3.map((n2) => max ? _Vec.clamp(n2, min, max) : _Vec.clamp(n2, min));\n  }\n  static cross(x2, y2, z2) {\n    return (y2[0] - x2[0]) * (z2[1] - x2[1]) - (z2[0] - x2[0]) * (y2[1] - x2[1]);\n  }\n  static snap(a3, step = 1) {\n    return [Math.round(a3[0] \/ step) * step, Math.round(a3[1] \/ step) * step];\n  }\n};\nvar Vec = _Vec;\nVec.neg = (A3) => {\n  return [-A3[0], -A3[1]];\n};\nVec.add = (A3, B3) => {\n  return [A3[0] + B3[0], A3[1] + B3[1]];\n};\nVec.addScalar = (A3, n2) => {\n  return [A3[0] + n2, A3[1] + n2];\n};\nVec.sub = (A3, B3) => {\n  return [A3[0] - B3[0], A3[1] - B3[1]];\n};\nVec.subScalar = (A3, n2) => {\n  return [A3[0] - n2, A3[1] - n2];\n};\nVec.vec = (A3, B3) => {\n  return [B3[0] - A3[0], B3[1] - A3[1]];\n};\nVec.mul = (A3, n2) => {\n  return [A3[0] * n2, A3[1] * n2];\n};\nVec.mulV = (A3, B3) => {\n  return [A3[0] * B3[0], A3[1] * B3[1]];\n};\nVec.div = (A3, n2) => {\n  return [A3[0] \/ n2, A3[1] \/ n2];\n};\nVec.divV = (A3, B3) => {\n  return [A3[0] \/ B3[0], A3[1] \/ B3[1]];\n};\nVec.per = (A3) => {\n  return [A3[1], -A3[0]];\n};\nVec.dpr = (A3, B3) => {\n  return A3[0] * B3[0] + A3[1] * B3[1];\n};\nVec.cpr = (A3, B3) => {\n  return A3[0] * B3[1] - B3[0] * A3[1];\n};\nVec.len2 = (A3) => {\n  return A3[0] * A3[0] + A3[1] * A3[1];\n};\nVec.len = (A3) => {\n  return Math.hypot(A3[0], A3[1]);\n};\nVec.pry = (A3, B3) => {\n  return _Vec.dpr(A3, B3) \/ _Vec.len(B3);\n};\nVec.uni = (A3) => {\n  return _Vec.div(A3, _Vec.len(A3));\n};\nVec.normalize = (A3) => {\n  return _Vec.uni(A3);\n};\nVec.tangent = (A3, B3) => {\n  return _Vec.uni(_Vec.sub(A3, B3));\n};\nVec.dist2 = (A3, B3) => {\n  return _Vec.len2(_Vec.sub(A3, B3));\n};\nVec.dist = (A3, B3) => {\n  return Math.hypot(A3[1] - B3[1], A3[0] - B3[0]);\n};\nVec.fastDist = (A3, B3) => {\n  const V4 = [B3[0] - A3[0], B3[1] - A3[1]];\n  const aV = [Math.abs(V4[0]), Math.abs(V4[1])];\n  let r2 = 1 \/ Math.max(aV[0], aV[1]);\n  r2 = r2 * (1.29289 - (aV[0] + aV[1]) * r2 * 0.29289);\n  return [V4[0] * r2, V4[1] * r2];\n};\nVec.ang = (A3, B3) => {\n  return Math.atan2(_Vec.cpr(A3, B3), _Vec.dpr(A3, B3));\n};\nVec.angle = (A3, B3) => {\n  return Math.atan2(B3[1] - A3[1], B3[0] - A3[0]);\n};\nVec.med = (A3, B3) => {\n  return _Vec.mul(_Vec.add(A3, B3), 0.5);\n};\nVec.rot = (A3, r2 = 0) => {\n  return [A3[0] * Math.cos(r2) - A3[1] * Math.sin(r2), A3[0] * Math.sin(r2) + A3[1] * Math.cos(r2)];\n};\nVec.rotWith = (A3, C3, r2 = 0) => {\n  if (r2 === 0)\n    return A3;\n  const s2 = Math.sin(r2);\n  const c2 = Math.cos(r2);\n  const px = A3[0] - C3[0];\n  const py = A3[1] - C3[1];\n  const nx = px * c2 - py * s2;\n  const ny = px * s2 + py * c2;\n  return [nx + C3[0], ny + C3[1]];\n};\nVec.isEqual = (A3, B3) => {\n  return A3[0] === B3[0] && A3[1] === B3[1];\n};\nVec.lrp = (A3, B3, t) => {\n  return _Vec.add(A3, _Vec.mul(_Vec.sub(B3, A3), t));\n};\nVec.int = (A3, B3, from, to, s2 = 1) => {\n  const t = (_Vec.clamp(from, to) - from) \/ (to - from);\n  return _Vec.add(_Vec.mul(A3, 1 - t), _Vec.mul(B3, s2));\n};\nVec.ang3 = (p1, pc, p2) => {\n  const v12 = _Vec.vec(pc, p1);\n  const v2 = _Vec.vec(pc, p2);\n  return _Vec.ang(v12, v2);\n};\nVec.abs = (A3) => {\n  return [Math.abs(A3[0]), Math.abs(A3[1])];\n};\nVec.rescale = (a3, n2) => {\n  const l3 = _Vec.len(a3);\n  return [n2 * a3[0] \/ l3, n2 * a3[1] \/ l3];\n};\nVec.isLeft = (p1, pc, p2) => {\n  return (pc[0] - p1[0]) * (p2[1] - p1[1]) - (p2[0] - p1[0]) * (pc[1] - p1[1]);\n};\nVec.clockwise = (p1, pc, p2) => {\n  return _Vec.isLeft(p1, pc, p2) > 0;\n};\nVec.toFixed = (a3) => {\n  return a3.map((v2) => Math.round(v2 * 100) \/ 100);\n};\nVec.nearestPointOnLineThroughPoint = (A3, u2, P2) => {\n  return _Vec.add(A3, _Vec.mul(u2, _Vec.pry(_Vec.sub(P2, A3), u2)));\n};\nVec.distanceToLineThroughPoint = (A3, u2, P2) => {\n  return _Vec.dist(P2, _Vec.nearestPointOnLineThroughPoint(A3, u2, P2));\n};\nVec.nearestPointOnLineSegment = (A3, B3, P2, clamp3 = true) => {\n  const u2 = _Vec.uni(_Vec.sub(B3, A3));\n  const C3 = _Vec.add(A3, _Vec.mul(u2, _Vec.pry(_Vec.sub(P2, A3), u2)));\n  if (clamp3) {\n    if (C3[0] < Math.min(A3[0], B3[0]))\n      return A3[0] < B3[0] ? A3 : B3;\n    if (C3[0] > Math.max(A3[0], B3[0]))\n      return A3[0] > B3[0] ? A3 : B3;\n    if (C3[1] < Math.min(A3[1], B3[1]))\n      return A3[1] < B3[1] ? A3 : B3;\n    if (C3[1] > Math.max(A3[1], B3[1]))\n      return A3[1] > B3[1] ? A3 : B3;\n  }\n  return C3;\n};\nVec.distanceToLineSegment = (A3, B3, P2, clamp3 = true) => {\n  return _Vec.dist(P2, _Vec.nearestPointOnLineSegment(A3, B3, P2, clamp3));\n};\nVec.nudge = (A3, B3, d2) => {\n  if (_Vec.isEqual(A3, B3))\n    return A3;\n  return _Vec.add(A3, _Vec.mul(_Vec.uni(_Vec.sub(B3, A3)), d2));\n};\nVec.nudgeAtAngle = (A3, a3, d2) => {\n  return [Math.cos(a3) * d2 + A3[0], Math.sin(a3) * d2 + A3[1]];\n};\nVec.toPrecision = (a3, n2 = 4) => {\n  return [+a3[0].toPrecision(n2), +a3[1].toPrecision(n2)];\n};\nVec.pointsBetween = (A3, B3, steps = 6) => {\n  return Array.from(Array(steps)).map((_2, i2) => {\n    const t = i2 \/ (steps - 1);\n    const k2 = Math.min(1, 0.5 + Math.abs(0.5 - t));\n    return [..._Vec.lrp(A3, B3, t), k2];\n  });\n};\nVec.slope = (A3, B3) => {\n  if (A3[0] === B3[0])\n    return NaN;\n  return (A3[1] - B3[1]) \/ (A3[0] - B3[0]);\n};\nVec.toAngle = (A3) => {\n  const angle = Math.atan2(A3[1], A3[0]);\n  if (angle < 0)\n    return angle + Math.PI * 2;\n  return angle;\n};\nVec.max = (...v2) => {\n  return [Math.max(...v2.map((a3) => a3[0])), Math.max(...v2.map((a3) => a3[1]))];\n};\nVec.min = (...v2) => {\n  return [Math.min(...v2.map((a3) => a3[0])), Math.min(...v2.map((a3) => a3[1]))];\n};\nvar src_default = Vec;\n\n\/\/ ..\/..\/node_modules\/potpack\/index.js\nfunction potpack(boxes) {\n  let area = 0;\n  let maxWidth = 0;\n  for (const box2 of boxes) {\n    area += box2.w * box2.h;\n    maxWidth = Math.max(maxWidth, box2.w);\n  }\n  boxes.sort((a3, b3) => b3.h - a3.h);\n  const startWidth = Math.max(Math.ceil(Math.sqrt(area \/ 0.95)), maxWidth);\n  const spaces = [{ x: 0, y: 0, w: startWidth, h: Infinity }];\n  let width = 0;\n  let height = 0;\n  for (const box2 of boxes) {\n    for (let i2 = spaces.length - 1; i2 >= 0; i2--) {\n      const space = spaces[i2];\n      if (box2.w > space.w || box2.h > space.h)\n        continue;\n      box2.x = space.x;\n      box2.y = space.y;\n      height = Math.max(height, box2.y + box2.h);\n      width = Math.max(width, box2.x + box2.w);\n      if (box2.w === space.w && box2.h === space.h) {\n        const last = spaces.pop();\n        if (i2 < spaces.length)\n          spaces[i2] = last;\n      } else if (box2.h === space.h) {\n        space.x += box2.w;\n        space.w -= box2.w;\n      } else if (box2.w === space.w) {\n        space.y += box2.h;\n        space.h -= box2.h;\n      } else {\n        spaces.push({\n          x: space.x + box2.w,\n          y: space.y,\n          w: space.w - box2.w,\n          h: box2.h\n        });\n        space.y += box2.h;\n        space.h -= box2.h;\n      }\n      break;\n    }\n  }\n  return {\n    w: width,\n    h: height,\n    fill: area \/ (width * height) || 0\n  };\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/BoundsUtils.ts\nvar BoundsUtils = class {\n  static getRectangleSides(point, size, rotation = 0) {\n    const center = [point[0] + size[0] \/ 2, point[1] + size[1] \/ 2];\n    const tl = Vec.rotWith(point, center, rotation);\n    const tr = Vec.rotWith(Vec.add(point, [size[0], 0]), center, rotation);\n    const br = Vec.rotWith(Vec.add(point, size), center, rotation);\n    const bl = Vec.rotWith(Vec.add(point, [0, size[1]]), center, rotation);\n    return [\n      [\"top\", [tl, tr]],\n      [\"right\", [tr, br]],\n      [\"bottom\", [br, bl]],\n      [\"left\", [bl, tl]]\n    ];\n  }\n  static getBoundsSides(bounds) {\n    return BoundsUtils.getRectangleSides([bounds.minX, bounds.minY], [bounds.width, bounds.height]);\n  }\n  static expandBounds(bounds, delta) {\n    return {\n      minX: bounds.minX - delta,\n      minY: bounds.minY - delta,\n      maxX: bounds.maxX + delta,\n      maxY: bounds.maxY + delta,\n      width: bounds.width + delta * 2,\n      height: bounds.height + delta * 2\n    };\n  }\n  static boundsCollide(a3, b3) {\n    return !(a3.maxX < b3.minX || a3.minX > b3.maxX || a3.maxY < b3.minY || a3.minY > b3.maxY);\n  }\n  static boundsContain(a3, b3) {\n    if (Array.isArray(b3)) {\n      return a3.minX < b3[0] && a3.minY < b3[1] && a3.maxY > b3[1] && a3.maxX > b3[0];\n    }\n    return a3.minX < b3.minX && a3.minY < b3.minY && a3.maxY > b3.maxY && a3.maxX > b3.maxX;\n  }\n  static boundsContained(a3, b3) {\n    return BoundsUtils.boundsContain(b3, a3);\n  }\n  static boundsAreEqual(a3, b3) {\n    return !(b3.maxX !== a3.maxX || b3.minX !== a3.minX || b3.maxY !== a3.maxY || b3.minY !== a3.minY);\n  }\n  static getBoundsFromPoints(points, rotation = 0) {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (points.length < 2) {\n      minX = 0;\n      minY = 0;\n      maxX = 1;\n      maxY = 1;\n    } else {\n      for (const point of points) {\n        minX = Math.min(point[0], minX);\n        minY = Math.min(point[1], minY);\n        maxX = Math.max(point[0], maxX);\n        maxY = Math.max(point[1], maxY);\n      }\n    }\n    if (rotation !== 0) {\n      return BoundsUtils.getBoundsFromPoints(\n        points.map((pt2) => Vec.rotWith(pt2, [(minX + maxX) \/ 2, (minY + maxY) \/ 2], rotation))\n      );\n    }\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY)\n    };\n  }\n  static centerBounds(bounds, point) {\n    const boundsCenter = BoundsUtils.getBoundsCenter(bounds);\n    const dx = point[0] - boundsCenter[0];\n    const dy = point[1] - boundsCenter[1];\n    return BoundsUtils.translateBounds(bounds, [dx, dy]);\n  }\n  static snapBoundsToGrid(bounds, gridSize) {\n    const minX = Math.round(bounds.minX \/ gridSize) * gridSize;\n    const minY = Math.round(bounds.minY \/ gridSize) * gridSize;\n    const maxX = Math.round(bounds.maxX \/ gridSize) * gridSize;\n    const maxY = Math.round(bounds.maxY \/ gridSize) * gridSize;\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY)\n    };\n  }\n  static translateBounds(bounds, delta) {\n    return {\n      minX: bounds.minX + delta[0],\n      minY: bounds.minY + delta[1],\n      maxX: bounds.maxX + delta[0],\n      maxY: bounds.maxY + delta[1],\n      width: bounds.width,\n      height: bounds.height\n    };\n  }\n  static multiplyBounds(bounds, n2) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return BoundsUtils.centerBounds(\n      {\n        minX: bounds.minX * n2,\n        minY: bounds.minY * n2,\n        maxX: bounds.maxX * n2,\n        maxY: bounds.maxY * n2,\n        width: bounds.width * n2,\n        height: bounds.height * n2\n      },\n      [center[0] * n2, center[1] * n2]\n    );\n  }\n  static divideBounds(bounds, n2) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return BoundsUtils.centerBounds(\n      {\n        minX: bounds.minX \/ n2,\n        minY: bounds.minY \/ n2,\n        maxX: bounds.maxX \/ n2,\n        maxY: bounds.maxY \/ n2,\n        width: bounds.width \/ n2,\n        height: bounds.height \/ n2\n      },\n      [center[0] \/ n2, center[1] \/ n2]\n    );\n  }\n  static getRotatedBounds(bounds, rotation = 0) {\n    const corners = BoundsUtils.getRotatedCorners(bounds, rotation);\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    for (const point of corners) {\n      minX = Math.min(point[0], minX);\n      minY = Math.min(point[1], minY);\n      maxX = Math.max(point[0], maxX);\n      maxY = Math.max(point[1], maxY);\n    }\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      width: Math.max(1, maxX - minX),\n      height: Math.max(1, maxY - minY),\n      rotation: 0\n    };\n  }\n  static getRotatedEllipseBounds(x2, y2, rx, ry, rotation = 0) {\n    const c2 = Math.cos(rotation);\n    const s2 = Math.sin(rotation);\n    const w2 = Math.hypot(rx * c2, ry * s2);\n    const h2 = Math.hypot(rx * s2, ry * c2);\n    return {\n      minX: x2 + rx - w2,\n      minY: y2 + ry - h2,\n      maxX: x2 + rx + w2,\n      maxY: y2 + ry + h2,\n      width: w2 * 2,\n      height: h2 * 2\n    };\n  }\n  static getExpandedBounds(a3, b3) {\n    const minX = Math.min(a3.minX, b3.minX);\n    const minY = Math.min(a3.minY, b3.minY);\n    const maxX = Math.max(a3.maxX, b3.maxX);\n    const maxY = Math.max(a3.maxY, b3.maxY);\n    const width = Math.abs(maxX - minX);\n    const height = Math.abs(maxY - minY);\n    return { minX, minY, maxX, maxY, width, height };\n  }\n  static getCommonBounds(bounds) {\n    if (bounds.length < 2)\n      return bounds[0];\n    let result = bounds[0];\n    for (let i2 = 1; i2 < bounds.length; i2++) {\n      result = BoundsUtils.getExpandedBounds(result, bounds[i2]);\n    }\n    return result;\n  }\n  static getRotatedCorners(b3, rotation = 0) {\n    const center = [b3.minX + b3.width \/ 2, b3.minY + b3.height \/ 2];\n    const corners = [\n      [b3.minX, b3.minY],\n      [b3.maxX, b3.minY],\n      [b3.maxX, b3.maxY],\n      [b3.minX, b3.maxY]\n    ];\n    if (rotation)\n      return corners.map((point) => Vec.rotWith(point, center, rotation));\n    return corners;\n  }\n  static getTransformedBoundingBox(bounds, handle, delta, rotation = 0, isAspectRatioLocked = false) {\n    const [ax0, ay0] = [bounds.minX, bounds.minY];\n    const [ax1, ay1] = [bounds.maxX, bounds.maxY];\n    let [bx0, by0] = [bounds.minX, bounds.minY];\n    let [bx1, by1] = [bounds.maxX, bounds.maxY];\n    if (handle === \"center\") {\n      return {\n        minX: bx0 + delta[0],\n        minY: by0 + delta[1],\n        maxX: bx1 + delta[0],\n        maxY: by1 + delta[1],\n        width: bx1 - bx0,\n        height: by1 - by0,\n        scaleX: 1,\n        scaleY: 1\n      };\n    }\n    const [dx, dy] = Vec.rot(delta, -rotation);\n    switch (handle) {\n      case \"top_edge\" \/* Top *\/:\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"top_right_corner\" \/* TopRight *\/: {\n        by0 += dy;\n        break;\n      }\n      case \"bottom_edge\" \/* Bottom *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        by1 += dy;\n        break;\n      }\n    }\n    switch (handle) {\n      case \"left_edge\" \/* Left *\/:\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        bx0 += dx;\n        break;\n      }\n      case \"right_edge\" \/* Right *\/:\n      case \"top_right_corner\" \/* TopRight *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        bx1 += dx;\n        break;\n      }\n    }\n    const aw = ax1 - ax0;\n    const ah = ay1 - ay0;\n    const scaleX = (bx1 - bx0) \/ aw;\n    const scaleY = (by1 - by0) \/ ah;\n    const flipX = scaleX < 0;\n    const flipY = scaleY < 0;\n    const bw = Math.abs(bx1 - bx0);\n    const bh = Math.abs(by1 - by0);\n    if (isAspectRatioLocked) {\n      const ar = aw \/ ah;\n      const isTall = ar < bw \/ bh;\n      const tw = bw * (scaleY < 0 ? 1 : -1) * (1 \/ ar);\n      const th = bh * (scaleX < 0 ? 1 : -1) * ar;\n      switch (handle) {\n        case \"top_left_corner\" \/* TopLeft *\/: {\n          if (isTall)\n            by0 = by1 + tw;\n          else\n            bx0 = bx1 + th;\n          break;\n        }\n        case \"top_right_corner\" \/* TopRight *\/: {\n          if (isTall)\n            by0 = by1 + tw;\n          else\n            bx1 = bx0 - th;\n          break;\n        }\n        case \"bottom_right_corner\" \/* BottomRight *\/: {\n          if (isTall)\n            by1 = by0 - tw;\n          else\n            bx1 = bx0 - th;\n          break;\n        }\n        case \"bottom_left_corner\" \/* BottomLeft *\/: {\n          if (isTall)\n            by1 = by0 - tw;\n          else\n            bx0 = bx1 + th;\n          break;\n        }\n        case \"bottom_edge\" \/* Bottom *\/:\n        case \"top_edge\" \/* Top *\/: {\n          const m2 = (bx0 + bx1) \/ 2;\n          const w2 = bh * ar;\n          bx0 = m2 - w2 \/ 2;\n          bx1 = m2 + w2 \/ 2;\n          break;\n        }\n        case \"left_edge\" \/* Left *\/:\n        case \"right_edge\" \/* Right *\/: {\n          const m2 = (by0 + by1) \/ 2;\n          const h2 = bw \/ ar;\n          by0 = m2 - h2 \/ 2;\n          by1 = m2 + h2 \/ 2;\n          break;\n        }\n      }\n    }\n    if (rotation % (Math.PI * 2) !== 0) {\n      let cv = [0, 0];\n      const c0 = Vec.med([ax0, ay0], [ax1, ay1]);\n      const c1 = Vec.med([bx0, by0], [bx1, by1]);\n      switch (handle) {\n        case \"top_left_corner\" \/* TopLeft *\/: {\n          cv = Vec.sub(Vec.rotWith([bx1, by1], c1, rotation), Vec.rotWith([ax1, ay1], c0, rotation));\n          break;\n        }\n        case \"top_right_corner\" \/* TopRight *\/: {\n          cv = Vec.sub(Vec.rotWith([bx0, by1], c1, rotation), Vec.rotWith([ax0, ay1], c0, rotation));\n          break;\n        }\n        case \"bottom_right_corner\" \/* BottomRight *\/: {\n          cv = Vec.sub(Vec.rotWith([bx0, by0], c1, rotation), Vec.rotWith([ax0, ay0], c0, rotation));\n          break;\n        }\n        case \"bottom_left_corner\" \/* BottomLeft *\/: {\n          cv = Vec.sub(Vec.rotWith([bx1, by0], c1, rotation), Vec.rotWith([ax1, ay0], c0, rotation));\n          break;\n        }\n        case \"top_edge\" \/* Top *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by1], [bx1, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay1], [ax1, ay1]), c0, rotation)\n          );\n          break;\n        }\n        case \"left_edge\" \/* Left *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx1, by0], [bx1, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax1, ay0], [ax1, ay1]), c0, rotation)\n          );\n          break;\n        }\n        case \"bottom_edge\" \/* Bottom *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by0], [bx1, by0]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay0], [ax1, ay0]), c0, rotation)\n          );\n          break;\n        }\n        case \"right_edge\" \/* Right *\/: {\n          cv = Vec.sub(\n            Vec.rotWith(Vec.med([bx0, by0], [bx0, by1]), c1, rotation),\n            Vec.rotWith(Vec.med([ax0, ay0], [ax0, ay1]), c0, rotation)\n          );\n          break;\n        }\n      }\n      ;\n      [bx0, by0] = Vec.sub([bx0, by0], cv);\n      [bx1, by1] = Vec.sub([bx1, by1], cv);\n    }\n    if (bx1 < bx0) {\n      ;\n      [bx1, bx0] = [bx0, bx1];\n    }\n    if (by1 < by0) {\n      ;\n      [by1, by0] = [by0, by1];\n    }\n    return {\n      minX: bx0,\n      minY: by0,\n      maxX: bx1,\n      maxY: by1,\n      width: bx1 - bx0,\n      height: by1 - by0,\n      scaleX: (bx1 - bx0) \/ (ax1 - ax0 || 1) * (flipX ? -1 : 1),\n      scaleY: (by1 - by0) \/ (ay1 - ay0 || 1) * (flipY ? -1 : 1)\n    };\n  }\n  static getTransformAnchor(type, isFlippedX, isFlippedY) {\n    let anchor = type;\n    switch (type) {\n      case \"top_left_corner\" \/* TopLeft *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else if (isFlippedX) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else if (isFlippedY) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        }\n        break;\n      }\n      case \"top_right_corner\" \/* TopRight *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else if (isFlippedX) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else if (isFlippedY) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        }\n        break;\n      }\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else if (isFlippedX) {\n          anchor = \"bottom_left_corner\" \/* BottomLeft *\/;\n        } else if (isFlippedY) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        }\n        break;\n      }\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        if (isFlippedX && isFlippedY) {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        } else if (isFlippedX) {\n          anchor = \"bottom_right_corner\" \/* BottomRight *\/;\n        } else if (isFlippedY) {\n          anchor = \"top_left_corner\" \/* TopLeft *\/;\n        } else {\n          anchor = \"top_right_corner\" \/* TopRight *\/;\n        }\n        break;\n      }\n    }\n    return anchor;\n  }\n  static getRelativeTransformedBoundingBox(bounds, initialBounds, initialShapeBounds, isFlippedX, isFlippedY) {\n    const nx = (isFlippedX ? initialBounds.maxX - initialShapeBounds.maxX : initialShapeBounds.minX - initialBounds.minX) \/ initialBounds.width;\n    const ny = (isFlippedY ? initialBounds.maxY - initialShapeBounds.maxY : initialShapeBounds.minY - initialBounds.minY) \/ initialBounds.height;\n    const nw = initialShapeBounds.width \/ initialBounds.width;\n    const nh = initialShapeBounds.height \/ initialBounds.height;\n    const minX = bounds.minX + bounds.width * nx;\n    const minY = bounds.minY + bounds.height * ny;\n    const width = bounds.width * nw;\n    const height = bounds.height * nh;\n    return {\n      minX,\n      minY,\n      maxX: minX + width,\n      maxY: minY + height,\n      width,\n      height\n    };\n  }\n  static getRotatedSize(size, rotation) {\n    const center = Vec.div(size, 2);\n    const points = [[0, 0], [size[0], 0], size, [0, size[1]]].map(\n      (point) => Vec.rotWith(point, center, rotation)\n    );\n    const bounds = BoundsUtils.getBoundsFromPoints(points);\n    return [bounds.width, bounds.height];\n  }\n  static getBoundsCenter(bounds) {\n    return [bounds.minX + bounds.width \/ 2, bounds.minY + bounds.height \/ 2];\n  }\n  static getBoundsWithCenter(bounds) {\n    const center = BoundsUtils.getBoundsCenter(bounds);\n    return __spreadProps(__spreadValues({}, bounds), {\n      midX: center[0],\n      midY: center[1]\n    });\n  }\n  static getCommonTopLeft(points) {\n    const min = [Infinity, Infinity];\n    points.forEach((point) => {\n      min[0] = Math.min(min[0], point[0]);\n      min[1] = Math.min(min[1], point[1]);\n    });\n    return min;\n  }\n  static getTLSnapPoints(bounds, others, snapDistance) {\n    const A3 = __spreadValues({}, bounds);\n    const offset = [0, 0];\n    const snapLines = [];\n    const snaps = {\n      [\"minX\" \/* minX *\/]: { id: \"minX\" \/* minX *\/, isSnapped: false },\n      [\"midX\" \/* midX *\/]: { id: \"midX\" \/* midX *\/, isSnapped: false },\n      [\"maxX\" \/* maxX *\/]: { id: \"maxX\" \/* maxX *\/, isSnapped: false },\n      [\"minY\" \/* minY *\/]: { id: \"minY\" \/* minY *\/, isSnapped: false },\n      [\"midY\" \/* midY *\/]: { id: \"midY\" \/* midY *\/, isSnapped: false },\n      [\"maxY\" \/* maxY *\/]: { id: \"maxY\" \/* maxY *\/, isSnapped: false }\n    };\n    const xs = [\"midX\" \/* midX *\/, \"minX\" \/* minX *\/, \"maxX\" \/* maxX *\/];\n    const ys = [\"midY\" \/* midY *\/, \"minY\" \/* minY *\/, \"maxY\" \/* maxY *\/];\n    const snapResults = others.map((B3) => {\n      const rx = xs.flatMap(\n        (f2, i2) => xs.map((t, k2) => {\n          const gap = A3[f2] - B3[t];\n          const distance = Math.abs(gap);\n          return {\n            f: f2,\n            t,\n            gap,\n            distance,\n            isCareful: i2 === 0 || i2 + k2 === 3\n          };\n        })\n      );\n      const ry = ys.flatMap(\n        (f2, i2) => ys.map((t, k2) => {\n          const gap = A3[f2] - B3[t];\n          const distance = Math.abs(gap);\n          return {\n            f: f2,\n            t,\n            gap,\n            distance,\n            isCareful: i2 === 0 || i2 + k2 === 3\n          };\n        })\n      );\n      return [B3, rx, ry];\n    });\n    let gapX = Infinity;\n    let gapY = Infinity;\n    let minX = Infinity;\n    let minY = Infinity;\n    snapResults.forEach(([_2, rx, ry]) => {\n      rx.forEach((r2) => {\n        if (r2.distance < snapDistance && r2.distance < minX) {\n          minX = r2.distance;\n          gapX = r2.gap;\n        }\n      });\n      ry.forEach((r2) => {\n        if (r2.distance < snapDistance && r2.distance < minY) {\n          minY = r2.distance;\n          gapY = r2.gap;\n        }\n      });\n    });\n    snapResults.forEach(([B3, rx, ry]) => {\n      if (gapX !== Infinity) {\n        rx.forEach((r2) => {\n          if (Math.abs(r2.gap - gapX) < 2) {\n            snaps[r2.f] = __spreadProps(__spreadValues({}, snaps[r2.f]), {\n              isSnapped: true,\n              to: B3[r2.t],\n              B: B3,\n              distance: r2.distance\n            });\n          }\n        });\n      }\n      if (gapY !== Infinity) {\n        ry.forEach((r2) => {\n          if (Math.abs(r2.gap - gapY) < 2) {\n            snaps[r2.f] = __spreadProps(__spreadValues({}, snaps[r2.f]), {\n              isSnapped: true,\n              to: B3[r2.t],\n              B: B3,\n              distance: r2.distance\n            });\n          }\n        });\n      }\n    });\n    offset[0] = gapX === Infinity ? 0 : gapX;\n    offset[1] = gapY === Infinity ? 0 : gapY;\n    A3.minX -= offset[0];\n    A3.midX -= offset[0];\n    A3.maxX -= offset[0];\n    A3.minY -= offset[1];\n    A3.midY -= offset[1];\n    A3.maxY -= offset[1];\n    xs.forEach((from) => {\n      const snap = snaps[from];\n      if (!snap.isSnapped)\n        return;\n      const { id: id3, B: B3 } = snap;\n      const x2 = A3[id3];\n      snapLines.push(\n        id3 === \"minX\" \/* minX *\/ ? [\n          [x2, A3.midY],\n          [x2, B3.minY],\n          [x2, B3.maxY]\n        ] : [\n          [x2, A3.minY],\n          [x2, A3.maxY],\n          [x2, B3.minY],\n          [x2, B3.maxY]\n        ]\n      );\n    });\n    ys.forEach((from) => {\n      const snap = snaps[from];\n      if (!snap.isSnapped)\n        return;\n      const { id: id3, B: B3 } = snap;\n      const y2 = A3[id3];\n      snapLines.push(\n        id3 === \"midY\" \/* midY *\/ ? [\n          [A3.midX, y2],\n          [B3.minX, y2],\n          [B3.maxX, y2]\n        ] : [\n          [A3.minX, y2],\n          [A3.maxX, y2],\n          [B3.minX, y2],\n          [B3.maxX, y2]\n        ]\n      );\n    });\n    return { offset, snapLines };\n  }\n  static ensureRatio(bounds, ratio) {\n    const { width, height } = bounds;\n    const newBounds = __spreadValues({}, bounds);\n    if (width \/ height < ratio) {\n      newBounds.width = height * ratio;\n      newBounds.maxX += width - bounds.width;\n    } else {\n      newBounds.height = width \/ ratio;\n      newBounds.maxY += height - bounds.height;\n    }\n    return newBounds;\n  }\n  static getDistributions(shapes2, type) {\n    const entries = shapes2.map((shape) => {\n      const bounds = shape.getBounds();\n      return {\n        id: shape.id,\n        point: [bounds.minX, bounds.minY],\n        bounds,\n        center: shape.getCenter()\n      };\n    });\n    const len = entries.length;\n    const commonBounds = BoundsUtils.getCommonBounds(entries.map(({ bounds }) => bounds));\n    const results = [];\n    switch (type) {\n      case \"horizontal\" \/* Horizontal *\/: {\n        const span = entries.reduce((a3, c2) => a3 + c2.bounds.width, 0);\n        if (span > commonBounds.width) {\n          const left = entries.sort((a3, b3) => a3.bounds.minX - b3.bounds.minX)[0];\n          const right = entries.sort((a3, b3) => b3.bounds.maxX - a3.bounds.maxX)[0];\n          const entriesToMove = entries.filter((a3) => a3 !== left && a3 !== right).sort((a3, b3) => a3.center[0] - b3.center[0]);\n          const step = (right.center[0] - left.center[0]) \/ (len - 1);\n          const x2 = left.center[0] + step;\n          entriesToMove.forEach(({ id: id3, point, bounds }, i2) => {\n            results.push({\n              id: id3,\n              prev: point,\n              next: [x2 + step * i2 - bounds.width \/ 2, bounds.minY]\n            });\n          });\n        } else {\n          const entriesToMove = entries.sort((a3, b3) => a3.center[0] - b3.center[0]);\n          let x2 = commonBounds.minX;\n          const step = (commonBounds.width - span) \/ (len - 1);\n          entriesToMove.forEach(({ id: id3, point, bounds }) => {\n            results.push({ id: id3, prev: point, next: [x2, bounds.minY] });\n            x2 += bounds.width + step;\n          });\n        }\n        break;\n      }\n      case \"vertical\" \/* Vertical *\/: {\n        const span = entries.reduce((a3, c2) => a3 + c2.bounds.height, 0);\n        if (span > commonBounds.height) {\n          const top = entries.sort((a3, b3) => a3.bounds.minY - b3.bounds.minY)[0];\n          const bottom = entries.sort((a3, b3) => b3.bounds.maxY - a3.bounds.maxY)[0];\n          const entriesToMove = entries.filter((a3) => a3 !== top && a3 !== bottom).sort((a3, b3) => a3.center[1] - b3.center[1]);\n          const step = (bottom.center[1] - top.center[1]) \/ (len - 1);\n          const y2 = top.center[1] + step;\n          entriesToMove.forEach(({ id: id3, point, bounds }, i2) => {\n            results.push({\n              id: id3,\n              prev: point,\n              next: [bounds.minX, y2 + step * i2 - bounds.height \/ 2]\n            });\n          });\n        } else {\n          const entriesToMove = entries.sort((a3, b3) => a3.center[1] - b3.center[1]);\n          let y2 = commonBounds.minY;\n          const step = (commonBounds.height - span) \/ (len - 1);\n          entriesToMove.forEach(({ id: id3, point, bounds }) => {\n            results.push({ id: id3, prev: point, next: [bounds.minX, y2] });\n            y2 += bounds.height + step;\n          });\n        }\n        break;\n      }\n    }\n    return results;\n  }\n  static getPackedDistributions(shapes2) {\n    const commonBounds = BoundsUtils.getCommonBounds(shapes2.map(({ bounds }) => bounds));\n    const origin = [commonBounds.minX, commonBounds.minY];\n    const shapesPosOriginal = Object.fromEntries(\n      shapes2.map((s2) => [s2.id, [s2.bounds.minX, s2.bounds.minY]])\n    );\n    const entries = shapes2.filter((s2) => {\n      var _a3, _b, _c, _d;\n      return !(((_b = (_a3 = s2.props.handles) == null ? void 0 : _a3.start) == null ? void 0 : _b.bindingId) || ((_d = (_c = s2.props.handles) == null ? void 0 : _c.end) == null ? void 0 : _d.bindingId));\n    }).map((shape) => {\n      const bounds = shape.getBounds();\n      return {\n        id: shape.id,\n        w: bounds.width + 16,\n        h: bounds.height + 16,\n        x: bounds.minX,\n        y: bounds.minY\n      };\n    });\n    potpack(entries);\n    const entriesToMove = entries.map(({ id: id3, x: x2, y: y2 }) => {\n      return {\n        id: id3,\n        prev: shapesPosOriginal[id3],\n        next: [x2 + origin[0], y2 + origin[1]]\n      };\n    });\n    return entriesToMove;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/PointUtils.ts\nvar _PointUtils = class {\n  static pointInCircle(A3, C3, r2) {\n    return Vec.dist(A3, C3) <= r2;\n  }\n  static pointInEllipse(A3, C3, rx, ry, rotation = 0) {\n    rotation = rotation || 0;\n    const cos = Math.cos(rotation);\n    const sin = Math.sin(rotation);\n    const delta = Vec.sub(A3, C3);\n    const tdx = cos * delta[0] + sin * delta[1];\n    const tdy = sin * delta[0] - cos * delta[1];\n    return tdx * tdx \/ (rx * rx) + tdy * tdy \/ (ry * ry) <= 1;\n  }\n  static pointInRect(point, size) {\n    return !(point[0] < size[0] || point[0] > point[0] + size[0] || point[1] < size[1] || point[1] > point[1] + size[1]);\n  }\n  static pointInPolygon(p2, points) {\n    let wn = 0;\n    points.forEach((a3, i2) => {\n      const b3 = points[(i2 + 1) % points.length];\n      if (a3[1] <= p2[1]) {\n        if (b3[1] > p2[1] && Vec.cross(a3, b3, p2) > 0) {\n          wn += 1;\n        }\n      } else if (b3[1] <= p2[1] && Vec.cross(a3, b3, p2) < 0) {\n        wn -= 1;\n      }\n    });\n    return wn !== 0;\n  }\n  static pointInBounds(A3, b3) {\n    return !(A3[0] < b3.minX || A3[0] > b3.maxX || A3[1] < b3.minY || A3[1] > b3.maxY);\n  }\n  static pointInPolyline(A3, points, distance = 3) {\n    for (let i2 = 1; i2 < points.length; i2++) {\n      if (Vec.distanceToLineSegment(points[i2 - 1], points[i2], A3) < distance) {\n        return true;\n      }\n    }\n    return false;\n  }\n  static _getSqSegDist(p2, p1, p22) {\n    let x2 = p1[0];\n    let y2 = p1[1];\n    let dx = p22[0] - x2;\n    let dy = p22[1] - y2;\n    if (dx !== 0 || dy !== 0) {\n      const t = ((p2[0] - x2) * dx + (p2[1] - y2) * dy) \/ (dx * dx + dy * dy);\n      if (t > 1) {\n        x2 = p22[0];\n        y2 = p22[1];\n      } else if (t > 0) {\n        x2 += dx * t;\n        y2 += dy * t;\n      }\n    }\n    dx = p2[0] - x2;\n    dy = p2[1] - y2;\n    return dx * dx + dy * dy;\n  }\n  static _simplifyStep(points, first, last, sqTolerance, result) {\n    let maxSqDist = sqTolerance;\n    let index2 = -1;\n    for (let i2 = first + 1; i2 < last; i2++) {\n      const sqDist = _PointUtils._getSqSegDist(points[i2], points[first], points[last]);\n      if (sqDist > maxSqDist) {\n        index2 = i2;\n        maxSqDist = sqDist;\n      }\n    }\n    if (index2 > -1 && maxSqDist > sqTolerance) {\n      if (index2 - first > 1)\n        _PointUtils._simplifyStep(points, first, index2, sqTolerance, result);\n      result.push(points[index2]);\n      if (last - index2 > 1)\n        _PointUtils._simplifyStep(points, index2, last, sqTolerance, result);\n    }\n  }\n  static simplify2(points, tolerance = 1) {\n    if (points.length <= 2)\n      return points;\n    const sqTolerance = tolerance * tolerance;\n    let A3 = points[0];\n    let B3 = points[1];\n    const newPoints = [A3];\n    for (let i2 = 1, len = points.length; i2 < len; i2++) {\n      B3 = points[i2];\n      if ((B3[0] - A3[0]) * (B3[0] - A3[0]) + (B3[1] - A3[1]) * (B3[1] - A3[1]) > sqTolerance) {\n        newPoints.push(B3);\n        A3 = B3;\n      }\n    }\n    if (A3 !== B3)\n      newPoints.push(B3);\n    const last = newPoints.length - 1;\n    const result = [newPoints[0]];\n    _PointUtils._simplifyStep(newPoints, 0, last, sqTolerance, result);\n    result.push(newPoints[last], points[points.length - 1]);\n    return result;\n  }\n  static pointNearToPolyline(point, points, distance = 8) {\n    const len = points.length;\n    for (let i2 = 1; i2 < len; i2++) {\n      const p1 = points[i2 - 1];\n      const p2 = points[i2];\n      const d2 = Vec.distanceToLineSegment(p1, p2, point);\n      if (d2 < distance)\n        return true;\n    }\n    return false;\n  }\n};\nvar PointUtils = _PointUtils;\n__publicField(PointUtils, \"simplify\", (points, tolerance = 1) => {\n  const len = points.length;\n  const a3 = points[0];\n  const b3 = points[len - 1];\n  const [x1, y1] = a3;\n  const [x2, y2] = b3;\n  if (len > 2) {\n    let distance = 0;\n    let index2 = 0;\n    const max = Vec.len2([y2 - y1, x2 - x1]);\n    for (let i2 = 1; i2 < len - 1; i2++) {\n      const [x0, y0] = points[i2];\n      const d2 = Math.pow(x0 * (y2 - y1) + x1 * (y0 - y2) + x2 * (y1 - y0), 2) \/ max;\n      if (distance > d2)\n        continue;\n      distance = d2;\n      index2 = i2;\n    }\n    if (distance > tolerance) {\n      const l0 = _PointUtils.simplify(points.slice(0, index2 + 1), tolerance);\n      const l1 = _PointUtils.simplify(points.slice(index2 + 1), tolerance);\n      return l0.concat(l1.slice(1));\n    }\n  }\n  return [a3, b3];\n});\n\n\/\/ ..\/..\/packages\/core\/src\/constants.ts\nvar PI = Math.PI;\nvar TAU = PI \/ 2;\nvar PI2 = PI * 2;\nvar EPSILON = Math.PI \/ 180;\nvar FIT_TO_SCREEN_PADDING = 100;\nvar BINDING_DISTANCE = 4;\nvar ZOOM_UPDATE_FACTOR = 0.8;\nvar GRID_SIZE = 8;\nvar EXPORT_PADDING = 8;\nvar EMPTY_OBJECT = {};\nvar GROUP_PADDING = 8;\nvar CURSORS = {\n  [\"bottom_edge\" \/* Bottom *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"top_edge\" \/* Top *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"left_edge\" \/* Left *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"right_edge\" \/* Right *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_left_corner\" \/* TopLeft *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_right_corner\" \/* TopRight *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_left_resize_corner\" \/* BottomLeft *\/]: \"swne-rotate\" \/* SwneRotate *\/,\n  [\"bottom_right_resize_corner\" \/* BottomRight *\/]: \"senw-rotate\" \/* SenwRotate *\/,\n  [\"top_left_resize_corner\" \/* TopLeft *\/]: \"nwse-rotate\" \/* NwseRotate *\/,\n  [\"top_right_resize_corner\" \/* TopRight *\/]: \"nesw-rotate\" \/* NeswRotate *\/,\n  rotate: \"rotate\" \/* Rotate *\/,\n  center: \"grab\" \/* Grab *\/,\n  background: \"grab\" \/* Grab *\/\n};\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/GeomUtils.ts\nvar GeomUtils = class {\n  static circleFromThreePoints(A3, B3, C3) {\n    const [x1, y1] = A3;\n    const [x2, y2] = B3;\n    const [x3, y3] = C3;\n    const a3 = x1 * (y2 - y3) - y1 * (x2 - x3) + x2 * y3 - x3 * y2;\n    const b3 = (x1 * x1 + y1 * y1) * (y3 - y2) + (x2 * x2 + y2 * y2) * (y1 - y3) + (x3 * x3 + y3 * y3) * (y2 - y1);\n    const c2 = (x1 * x1 + y1 * y1) * (x2 - x3) + (x2 * x2 + y2 * y2) * (x3 - x1) + (x3 * x3 + y3 * y3) * (x1 - x2);\n    const x4 = -b3 \/ (2 * a3);\n    const y4 = -c2 \/ (2 * a3);\n    return [x4, y4, Math.hypot(x4 - x1, y4 - y1)];\n  }\n  static perimeterOfEllipse(rx, ry) {\n    const h2 = Math.pow(rx - ry, 2) \/ Math.pow(rx + ry, 2);\n    const p2 = PI * (rx + ry) * (1 + 3 * h2 \/ (10 + Math.sqrt(4 - 3 * h2)));\n    return p2;\n  }\n  static shortAngleDist(a0, a1) {\n    const da = (a1 - a0) % PI2;\n    return 2 * da % PI2 - da;\n  }\n  static longAngleDist(a0, a1) {\n    return PI2 - GeomUtils.shortAngleDist(a0, a1);\n  }\n  static lerpAngles(a0, a1, t) {\n    return a0 + GeomUtils.shortAngleDist(a0, a1) * t;\n  }\n  static angleDelta(a0, a1) {\n    return GeomUtils.shortAngleDist(a0, a1);\n  }\n  static getSweep(C3, A3, B3) {\n    return GeomUtils.angleDelta(src_default.angle(C3, A3), src_default.angle(C3, B3));\n  }\n  static clampRadians(r2) {\n    return (PI2 + r2) % PI2;\n  }\n  static snapAngleToSegments(r2, segments) {\n    const seg = PI2 \/ segments;\n    let ang = Math.floor((GeomUtils.clampRadians(r2) + seg \/ 2) \/ seg) * seg % PI2;\n    if (ang < PI)\n      ang += PI2;\n    if (ang > PI)\n      ang -= PI2;\n    return ang;\n  }\n  static isAngleBetween(a3, b3, c2) {\n    if (c2 === a3 || c2 === b3)\n      return true;\n    const AB = (b3 - a3 + TAU) % TAU;\n    const AC = (c2 - a3 + TAU) % TAU;\n    return AB <= PI !== AC > AB;\n  }\n  static degreesToRadians(d2) {\n    return d2 * PI \/ 180;\n  }\n  static radiansToDegrees(r2) {\n    return r2 * 180 \/ PI;\n  }\n  static getArcLength(C3, r2, A3, B3) {\n    const sweep = GeomUtils.getSweep(C3, A3, B3);\n    return r2 * PI2 * (sweep \/ PI2);\n  }\n  static getSweepFlag(A3, B3, C3) {\n    const angleAC = src_default.angle(A3, C3);\n    const angleAB = src_default.angle(A3, B3);\n    const angleCAB = (angleAB - angleAC + 3 * PI) % PI2 - PI;\n    return angleCAB > 0 ? 0 : 1;\n  }\n  static getLargeArcFlag(A3, C3, P2) {\n    const anglePA = src_default.angle(P2, A3);\n    const anglePC = src_default.angle(P2, C3);\n    const angleAPC = (anglePC - anglePA + 3 * PI) % PI2 - PI;\n    return Math.abs(angleAPC) > TAU ? 0 : 1;\n  }\n  static getArcDashOffset(C3, r2, A3, B3, step) {\n    const del0 = GeomUtils.getSweepFlag(C3, A3, B3);\n    const len0 = GeomUtils.getArcLength(C3, r2, A3, B3);\n    const off0 = del0 < 0 ? len0 : PI2 * C3[2] - len0;\n    return -off0 \/ 2 + step;\n  }\n  static getEllipseDashOffset(A3, step) {\n    const c2 = PI2 * A3[2];\n    return -c2 \/ 2 + -step;\n  }\n  static radiansToCardinalDirection(radians) {\n    if (radians < Math.PI * 0.25) {\n      return \"north\";\n    } else if (radians < Math.PI * 0.75) {\n      return \"east\";\n    } else if (radians < Math.PI * 1.25) {\n      return \"south\";\n    } else if (radians < Math.PI * 1.75) {\n      return \"west\";\n    } else {\n      return \"north\";\n    }\n  }\n};\n\n\/\/ ..\/..\/packages\/utils\/intersect\/src\/index.ts\nfunction createIntersection(message, ...points) {\n  const didIntersect = points.length > 0;\n  return { didIntersect, message, points };\n}\nfunction getRectangleSides(point, size, rotation = 0) {\n  const center = [point[0] + size[0] \/ 2, point[1] + size[1] \/ 2];\n  const tl = Vec.rotWith(point, center, rotation);\n  const tr = Vec.rotWith(Vec.add(point, [size[0], 0]), center, rotation);\n  const br = Vec.rotWith(Vec.add(point, size), center, rotation);\n  const bl = Vec.rotWith(Vec.add(point, [0, size[1]]), center, rotation);\n  return [\n    [\"top\", [tl, tr]],\n    [\"right\", [tr, br]],\n    [\"bottom\", [br, bl]],\n    [\"left\", [bl, tl]]\n  ];\n}\nfunction intersectLineLine(AB, PQ) {\n  const slopeAB = Vec.slope(AB[0], AB[1]);\n  const slopePQ = Vec.slope(PQ[0], PQ[1]);\n  if (slopeAB === slopePQ)\n    return void 0;\n  if (Number.isNaN(slopeAB) && !Number.isNaN(slopePQ)) {\n    return [AB[0][0], (AB[0][0] - PQ[0][0]) * slopePQ + PQ[0][1]];\n  }\n  if (Number.isNaN(slopePQ) && !Number.isNaN(slopeAB)) {\n    return [PQ[0][0], (PQ[0][0] - AB[0][0]) * slopeAB + AB[0][1]];\n  }\n  const x2 = (slopeAB * AB[0][0] - slopePQ * PQ[0][0] + PQ[0][1] - AB[0][1]) \/ (slopeAB - slopePQ);\n  const y2 = slopePQ * (x2 - PQ[0][0]) + PQ[0][1];\n  return [x2, y2];\n}\nfunction intersectRayLineSegment(origin, direction, a1, a22) {\n  const [x2, y2] = origin;\n  const [dx, dy] = direction;\n  const [x1, y1] = a1;\n  const [x22, y22] = a22;\n  if (dy \/ dx !== (y22 - y1) \/ (x22 - x1)) {\n    const d2 = dx * (y22 - y1) - dy * (x22 - x1);\n    if (d2 !== 0) {\n      const r2 = ((y2 - y1) * (x22 - x1) - (x2 - x1) * (y22 - y1)) \/ d2;\n      const s2 = ((y2 - y1) * dx - (x2 - x1) * dy) \/ d2;\n      if (r2 >= 0 && s2 >= 0 && s2 <= 1) {\n        return createIntersection(\"intersection\", [x2 + r2 * dx, y2 + r2 * dy]);\n      }\n    }\n  }\n  return createIntersection(\"no intersection\");\n}\nfunction intersectRayRectangle(origin, direction, point, size, rotation = 0) {\n  return intersectRectangleRay(point, size, rotation, origin, direction);\n}\nfunction intersectRayBounds(origin, direction, bounds, rotation = 0) {\n  const { minX, minY, width, height } = bounds;\n  return intersectRayRectangle(origin, direction, [minX, minY], [width, height], rotation);\n}\nfunction intersectLineSegmentLineSegment(a1, a22, b1, b22) {\n  const AB = Vec.sub(a1, b1);\n  const BV = Vec.sub(b22, b1);\n  const AV = Vec.sub(a22, a1);\n  const ua_t = BV[0] * AB[1] - BV[1] * AB[0];\n  const ub_t = AV[0] * AB[1] - AV[1] * AB[0];\n  const u_b = BV[1] * AV[0] - BV[0] * AV[1];\n  if (ua_t === 0 || ub_t === 0) {\n    return createIntersection(\"coincident\");\n  }\n  if (u_b === 0) {\n    return createIntersection(\"parallel\");\n  }\n  if (u_b !== 0) {\n    const ua = ua_t \/ u_b;\n    const ub = ub_t \/ u_b;\n    if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n      return createIntersection(\"intersection\", Vec.add(a1, Vec.mul(AV, ua)));\n    }\n  }\n  return createIntersection(\"no intersection\");\n}\nfunction intersectLineSegmentRectangle(a1, a22, point, size) {\n  return intersectRectangleLineSegment(point, size, a1, a22);\n}\nfunction intersectLineSegmentCircle(a1, a22, c2, r2) {\n  const a3 = (a22[0] - a1[0]) * (a22[0] - a1[0]) + (a22[1] - a1[1]) * (a22[1] - a1[1]);\n  const b3 = 2 * ((a22[0] - a1[0]) * (a1[0] - c2[0]) + (a22[1] - a1[1]) * (a1[1] - c2[1]));\n  const cc = c2[0] * c2[0] + c2[1] * c2[1] + a1[0] * a1[0] + a1[1] * a1[1] - 2 * (c2[0] * a1[0] + c2[1] * a1[1]) - r2 * r2;\n  const deter = b3 * b3 - 4 * a3 * cc;\n  if (deter < 0) {\n    return createIntersection(\"outside\");\n  }\n  if (deter === 0) {\n    return createIntersection(\"tangent\");\n  }\n  const e = Math.sqrt(deter);\n  const u1 = (-b3 + e) \/ (2 * a3);\n  const u2 = (-b3 - e) \/ (2 * a3);\n  if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {\n    if (u1 < 0 && u2 < 0 || u1 > 1 && u2 > 1) {\n      return createIntersection(\"outside\");\n    } else {\n      return createIntersection(\"inside\");\n    }\n  }\n  const results = [];\n  if (0 <= u1 && u1 <= 1)\n    results.push(Vec.lrp(a1, a22, u1));\n  if (0 <= u2 && u2 <= 1)\n    results.push(Vec.lrp(a1, a22, u2));\n  return createIntersection(\"intersection\", ...results);\n}\nfunction intersectLineSegmentEllipse(a1, a22, center, rx, ry, rotation = 0) {\n  if (rx === 0 || ry === 0 || Vec.isEqual(a1, a22)) {\n    return createIntersection(\"no intersection\");\n  }\n  rx = rx < 0 ? rx : -rx;\n  ry = ry < 0 ? ry : -ry;\n  a1 = Vec.sub(Vec.rotWith(a1, center, -rotation), center);\n  a22 = Vec.sub(Vec.rotWith(a22, center, -rotation), center);\n  const diff = Vec.sub(a22, a1);\n  const A3 = diff[0] * diff[0] \/ rx \/ rx + diff[1] * diff[1] \/ ry \/ ry;\n  const B3 = 2 * a1[0] * diff[0] \/ rx \/ rx + 2 * a1[1] * diff[1] \/ ry \/ ry;\n  const C3 = a1[0] * a1[0] \/ rx \/ rx + a1[1] * a1[1] \/ ry \/ ry - 1;\n  const tValues = [];\n  const discriminant = B3 * B3 - 4 * A3 * C3;\n  if (discriminant === 0) {\n    tValues.push(-B3 \/ 2 \/ A3);\n  } else if (discriminant > 0) {\n    const root = Math.sqrt(discriminant);\n    tValues.push((-B3 + root) \/ 2 \/ A3);\n    tValues.push((-B3 - root) \/ 2 \/ A3);\n  }\n  const points = tValues.filter((t) => t >= 0 && t <= 1).map((t) => Vec.add(center, Vec.add(a1, Vec.mul(Vec.sub(a22, a1), t)))).map((p2) => Vec.rotWith(p2, center, rotation));\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectLineSegmentBounds(a1, a22, bounds) {\n  return intersectBoundsLineSegment(bounds, a1, a22);\n}\nfunction intersectLineSegmentPolyline(a1, a22, points) {\n  const pts = [];\n  for (let i2 = 1; i2 < points.length; i2++) {\n    const int = intersectLineSegmentLineSegment(a1, a22, points[i2 - 1], points[i2]);\n    if (int) {\n      pts.push(...int.points);\n    }\n  }\n  if (pts.length === 0) {\n    return createIntersection(\"no intersection\");\n  }\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectLineSegmentPolygon(a1, a22, points) {\n  const pts = [];\n  for (let i2 = 1; i2 < points.length + 1; i2++) {\n    const int = intersectLineSegmentLineSegment(a1, a22, points[i2 - 1], points[i2 % points.length]);\n    if (int) {\n      pts.push(...int.points);\n    }\n  }\n  if (pts.length === 0) {\n    return createIntersection(\"no intersection\");\n  }\n  return createIntersection(\"intersection\", ...points);\n}\nfunction intersectRectangleRay(point, size, rotation, origin, direction) {\n  const sideIntersections = getRectangleSides(point, size, rotation).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectRayLineSegment(origin, direction, a1, a22);\n      if (intersection) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleLineSegment(point, size, a1, a22) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [b1, b22]]) => {\n      const intersection = intersectLineSegmentLineSegment(a1, a22, b1, b22);\n      if (intersection) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleCircle(point, size, c2, r2) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentCircle(a1, a22, c2, r2);\n      if (intersection) {\n        acc.push(__spreadProps(__spreadValues({}, intersection), { message }));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectangleEllipse(point, size, c2, rx, ry, rotation = 0) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentEllipse(a1, a22, c2, rx, ry, rotation);\n      if (intersection) {\n        acc.push(__spreadProps(__spreadValues({}, intersection), { message }));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectanglePolyline(point, size, points) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentPolyline(a1, a22, points);\n      if (intersection.didIntersect) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectRectanglePolygon(point, size, points) {\n  const sideIntersections = getRectangleSides(point, size).reduce(\n    (acc, [message, [a1, a22]]) => {\n      const intersection = intersectLineSegmentPolygon(a1, a22, points);\n      if (intersection.didIntersect) {\n        acc.push(createIntersection(message, ...intersection.points));\n      }\n      return acc;\n    },\n    []\n  );\n  return sideIntersections.filter((int) => int.didIntersect);\n}\nfunction intersectCircleLineSegment(c2, r2, a1, a22) {\n  return intersectLineSegmentCircle(a1, a22, c2, r2);\n}\nfunction intersectEllipseRectangle(center, rx, ry, rotation = 0, point, size) {\n  if (rx === ry) {\n    return intersectRectangleCircle(point, size, center, rx);\n  }\n  return intersectRectangleEllipse(point, size, center, rx, ry, rotation);\n}\nfunction intersectEllipseBounds(c2, rx, ry, rotation, bounds) {\n  const { minX, minY, width, height } = bounds;\n  return intersectEllipseRectangle(c2, rx, ry, rotation, [minX, minY], [width, height]);\n}\nfunction intersectBoundsLineSegment(bounds, a1, a22) {\n  const { minX, minY, width, height } = bounds;\n  return intersectLineSegmentRectangle(a1, a22, [minX, minY], [width, height]);\n}\nfunction intersectPolylineBounds(points, bounds) {\n  return intersectRectanglePolyline(\n    [bounds.minX, bounds.minY],\n    [bounds.width, bounds.height],\n    points\n  );\n}\nfunction intersectPolygonBounds(points, bounds) {\n  return intersectRectanglePolygon(\n    [bounds.minX, bounds.minY],\n    [bounds.width, bounds.height],\n    points\n  );\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/PolygonUtils.ts\nvar _PolygonUtils = class {\n  static getPolygonCentroid(points) {\n    const x2 = points.map((point) => point[0]);\n    const y2 = points.map((point) => point[1]);\n    const cx2 = Math.min(...x2) + Math.max(...x2);\n    const cy = Math.min(...y2) + Math.max(...y2);\n    return [cx2 ? cx2 \/ 2 : 0, cy ? cy \/ 2 : 0];\n  }\n};\nvar PolygonUtils = _PolygonUtils;\n__publicField(PolygonUtils, \"getEdges\", (points) => {\n  const len = points.length;\n  return points.map((point, i2) => [point, points[(i2 + 1) % len]]);\n});\n__publicField(PolygonUtils, \"getEdgeOutwardNormal\", (A3, B3) => {\n  return src_default.per(src_default.uni(src_default.sub(B3, A3)));\n});\n__publicField(PolygonUtils, \"getEdgeInwardNormal\", (A3, B3) => {\n  return src_default.neg(_PolygonUtils.getEdgeOutwardNormal(A3, B3));\n});\n__publicField(PolygonUtils, \"getOffsetEdge\", (A3, B3, offset) => {\n  const offsetVector = src_default.mul(src_default.per(src_default.uni(src_default.sub(B3, A3))), offset);\n  return [src_default.add(A3, offsetVector), src_default.add(B3, offsetVector)];\n});\n__publicField(PolygonUtils, \"getOffsetEdges\", (edges, offset) => {\n  return edges.map(([A3, B3]) => _PolygonUtils.getOffsetEdge(A3, B3, offset));\n});\n__publicField(PolygonUtils, \"getOffsetPolygon\", (points, offset) => {\n  if (points.length < 1) {\n    throw Error(\"Expected at least one point.\");\n  } else if (points.length === 1) {\n    const A3 = points[0];\n    return [\n      src_default.add(A3, [-offset, -offset]),\n      src_default.add(A3, [offset, -offset]),\n      src_default.add(A3, [offset, offset]),\n      src_default.add(A3, [-offset, offset])\n    ];\n  } else if (points.length === 2) {\n    const [A3, B3] = points;\n    return [\n      ..._PolygonUtils.getOffsetEdge(A3, B3, offset),\n      ..._PolygonUtils.getOffsetEdge(B3, A3, offset)\n    ];\n  }\n  return _PolygonUtils.getOffsetEdges(_PolygonUtils.getEdges(points), offset).flatMap(\n    (edge, i2, edges) => {\n      const intersection = intersectLineLine(edge, edges[(i2 + 1) % edges.length]);\n      if (intersection === void 0)\n        throw Error(\"Expected an intersection\");\n      return intersection;\n    }\n  );\n});\n__publicField(PolygonUtils, \"getPolygonVertices\", (size, sides, padding = 0, ratio = 1) => {\n  const center = src_default.div(size, 2);\n  const [rx, ry] = [Math.max(1, center[0] - padding), Math.max(1, center[1] - padding)];\n  const pointsOnPerimeter = [];\n  for (let i2 = 0, step = PI2 \/ sides; i2 < sides; i2++) {\n    const t1 = (-TAU + i2 * step) % PI2;\n    const t2 = (-TAU + (i2 + 1) * step) % PI2;\n    const p1 = src_default.add(center, [rx * Math.cos(t1), ry * Math.sin(t1)]);\n    const p3 = src_default.add(center, [rx * Math.cos(t2), ry * Math.sin(t2)]);\n    const mid = src_default.med(p1, p3);\n    const p2 = src_default.nudge(mid, center, src_default.dist(center, mid) * (1 - ratio));\n    pointsOnPerimeter.push(p1, p2, p3);\n  }\n  return pointsOnPerimeter;\n});\n__publicField(PolygonUtils, \"getTriangleVertices\", (size, padding = 0, ratio = 1) => {\n  const [w2, h2] = size;\n  const r2 = 1 - ratio;\n  const A3 = [w2 \/ 2, padding \/ 2];\n  const B3 = [w2 - padding, h2 - padding];\n  const C3 = [padding \/ 2, h2 - padding];\n  const centroid = _PolygonUtils.getPolygonCentroid([A3, B3, C3]);\n  const AB = src_default.med(A3, B3);\n  const BC = src_default.med(B3, C3);\n  const CA = src_default.med(C3, A3);\n  const dAB = src_default.dist(AB, centroid) * r2;\n  const dBC = src_default.dist(BC, centroid) * r2;\n  const dCA = src_default.dist(CA, centroid) * r2;\n  return [\n    A3,\n    dAB ? src_default.nudge(AB, centroid, dAB) : AB,\n    B3,\n    dBC ? src_default.nudge(BC, centroid, dBC) : BC,\n    C3,\n    dCA ? src_default.nudge(CA, centroid, dCA) : CA\n  ];\n});\n__publicField(PolygonUtils, \"getStarVertices\", (center, size, sides, ratio = 1) => {\n  const outer = src_default.div(size, 2);\n  const inner = src_default.mul(outer, ratio \/ 2);\n  const step = PI2 \/ sides \/ 2;\n  return Array.from(Array(sides * 2)).map((_2, i2) => {\n    const theta = -TAU + i2 * step;\n    const [rx, ry] = i2 % 2 ? inner : outer;\n    return src_default.add(center, [rx * Math.cos(theta), ry * Math.sin(theta)]);\n  });\n});\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/SvgPathUtils.ts\nvar SvgPathUtils = class {\n  static getCurvedPathForPolygon(points) {\n    if (points.length < 3) {\n      return `M -4, 0\n      a 4,4 0 1,0 8,0\n      a 4,4 0 1,0 -8,0`;\n    }\n    const d2 = [\"M\", ...points[0].slice(0, 2), \"Q\"];\n    const len = points.length;\n    for (let i2 = 1; i2 < len; i2++) {\n      const [x0, y0] = points[i2];\n      const [x1, y1] = points[(i2 + 1) % len];\n      d2.push(x0, y0, (x0 + x1) \/ 2, (y0 + y1) \/ 2);\n    }\n    d2.push(\"Z\");\n    return d2.join(\" \");\n  }\n  static getCurvedPathForPoints(points) {\n    if (points.length < 3) {\n      return `M -4, 0\n      a 4,4 0 1,0 8,0\n      a 4,4 0 1,0 -8,0`;\n    }\n    const d2 = [\"M\", ...points[0].slice(0, 2), \"Q\"];\n    const len = points.length;\n    for (let i2 = 1; i2 < len - 1; i2++) {\n      const [x0, y0] = points[i2];\n      const [x1, y1] = points[i2 + 1];\n      d2.push(x0, y0, (x0 + x1) \/ 2, (y0 + y1) \/ 2);\n    }\n    return d2.join(\" \");\n  }\n  static getSvgPathFromStroke(points, closed = true) {\n    const len = points.length;\n    if (len < 4) {\n      return ``;\n    }\n    let a3 = points[0];\n    let b3 = points[1];\n    const c2 = points[2];\n    let result = `M${a3[0].toFixed(2)},${a3[1].toFixed(2)} Q${b3[0].toFixed(2)},${b3[1].toFixed(\n      2\n    )} ${average(b3[0], c2[0]).toFixed(2)},${average(b3[1], c2[1]).toFixed(2)} T`;\n    for (let i2 = 2, max = len - 1; i2 < max; i2++) {\n      a3 = points[i2];\n      b3 = points[i2 + 1];\n      result += `${average(a3[0], b3[0]).toFixed(2)},${average(a3[1], b3[1]).toFixed(2)} `;\n    }\n    if (closed) {\n      result += \"Z\";\n    }\n    return result;\n  }\n  static getSvgPathFromStrokePoints(points, closed = false) {\n    const len = points.length;\n    if (len < 4) {\n      return ``;\n    }\n    let a3 = points[0].point;\n    let b3 = points[1].point;\n    const c2 = points[2].point;\n    let result = `M${a3[0].toFixed(2)},${a3[1].toFixed(2)} Q${b3[0].toFixed(2)},${b3[1].toFixed(\n      2\n    )} ${average(b3[0], c2[0]).toFixed(2)},${average(b3[1], c2[1]).toFixed(2)} T`;\n    for (let i2 = 2, max = len - 1; i2 < max; i2++) {\n      a3 = points[i2].point;\n      b3 = points[i2 + 1].point;\n      result += `${average(a3[0], b3[0]).toFixed(2)},${average(a3[1], b3[1]).toFixed(2)} `;\n    }\n    if (closed) {\n      result += \"Z\";\n    }\n    return result;\n  }\n};\n__publicField(SvgPathUtils, \"TRIM_NUMBERS\", \/(\\s?[A-Z]?,?-?[0-9]*\\.[0-9]{0,2})(([0-9]|e|-)*)\/g);\nfunction average(a3, b3) {\n  return (a3 + b3) \/ 2;\n}\n\n\/\/ ..\/..\/node_modules\/mobx\/dist\/mobx.esm.js\nfunction die(error) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (false) {\n    var e = typeof error === \"string\" ? error : errors[error];\n    if (typeof e === \"function\")\n      e = e.apply(null, args);\n    throw new Error(\"[MobX] \" + e);\n  }\n  throw new Error(typeof error === \"number\" ? \"[MobX] minified error nr: \" + error + (args.length ? \" \" + args.map(String).join(\",\") : \"\") + \". Find the full error at: https:\/\/github.com\/mobxjs\/mobx\/blob\/main\/packages\/mobx\/src\/errors.ts\" : \"[MobX] \" + error);\n}\nvar mockGlobal = {};\nfunction getGlobal() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  return mockGlobal;\n}\nvar assign = Object.assign;\nvar getDescriptor = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar objectPrototype = Object.prototype;\nvar EMPTY_ARRAY = [];\nObject.freeze(EMPTY_ARRAY);\nvar EMPTY_OBJECT2 = {};\nObject.freeze(EMPTY_OBJECT2);\nvar hasProxy = typeof Proxy !== \"undefined\";\nvar plainObjectString = \/* @__PURE__ *\/ Object.toString();\nfunction assertProxies() {\n  if (!hasProxy) {\n    die(false ? \"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`\" : \"Proxy not available\");\n  }\n}\nfunction once(func) {\n  var invoked = false;\n  return function() {\n    if (invoked) {\n      return;\n    }\n    invoked = true;\n    return func.apply(this, arguments);\n  };\n}\nvar noop = function noop2() {\n};\nfunction isFunction(fn) {\n  return typeof fn === \"function\";\n}\nfunction isStringish(value) {\n  var t = typeof value;\n  switch (t) {\n    case \"string\":\n    case \"symbol\":\n    case \"number\":\n      return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var proto = Object.getPrototypeOf(value);\n  if (proto == null) {\n    return true;\n  }\n  var protoConstructor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof protoConstructor === \"function\" && protoConstructor.toString() === plainObjectString;\n}\nfunction isGenerator(obj) {\n  var constructor = obj == null ? void 0 : obj.constructor;\n  if (!constructor) {\n    return false;\n  }\n  if (\"GeneratorFunction\" === constructor.name || \"GeneratorFunction\" === constructor.displayName) {\n    return true;\n  }\n  return false;\n}\nfunction addHiddenProp(object2, propName, value) {\n  defineProperty(object2, propName, {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value\n  });\n}\nfunction addHiddenFinalProp(object2, propName, value) {\n  defineProperty(object2, propName, {\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    value\n  });\n}\nfunction createInstanceofPredicate(name, theClass) {\n  var propName = \"isMobX\" + name;\n  theClass.prototype[propName] = true;\n  return function(x2) {\n    return isObject(x2) && x2[propName] === true;\n  };\n}\nfunction isES6Map(thing) {\n  return thing instanceof Map;\n}\nfunction isES6Set(thing) {\n  return thing instanceof Set;\n}\nvar hasGetOwnPropertySymbols = typeof Object.getOwnPropertySymbols !== \"undefined\";\nfunction getPlainObjectKeys(object2) {\n  var keys = Object.keys(object2);\n  if (!hasGetOwnPropertySymbols) {\n    return keys;\n  }\n  var symbols = Object.getOwnPropertySymbols(object2);\n  if (!symbols.length) {\n    return keys;\n  }\n  return [].concat(keys, symbols.filter(function(s2) {\n    return objectPrototype.propertyIsEnumerable.call(object2, s2);\n  }));\n}\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : hasGetOwnPropertySymbols ? function(obj) {\n  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n} : Object.getOwnPropertyNames;\nfunction toPrimitive(value) {\n  return value === null ? null : typeof value === \"object\" ? \"\" + value : value;\n}\nfunction hasProp(target, prop) {\n  return objectPrototype.hasOwnProperty.call(target, prop);\n}\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors2(target) {\n  var res = {};\n  ownKeys(target).forEach(function(key) {\n    res[key] = getDescriptor(target, key);\n  });\n  return res;\n};\nfunction _defineProperties(target, props) {\n  for (var i2 = 0; i2 < props.length; i2++) {\n    var descriptor = props[i2];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign || function(target) {\n    for (var i2 = 1; i2 < arguments.length; i2++) {\n      var source = arguments[i2];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o2, p2) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {\n    o3.__proto__ = p3;\n    return o3;\n  };\n  return _setPrototypeOf(o2, p2);\n}\nfunction _assertThisInitialized(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _unsupportedIterableToArray(o2, minLen) {\n  if (!o2)\n    return;\n  if (typeof o2 === \"string\")\n    return _arrayLikeToArray(o2, minLen);\n  var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n  if (n2 === \"Object\" && o2.constructor)\n    n2 = o2.constructor.name;\n  if (n2 === \"Map\" || n2 === \"Set\")\n    return Array.from(o2);\n  if (n2 === \"Arguments\" || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n2))\n    return _arrayLikeToArray(o2, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++)\n    arr2[i2] = arr[i2];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o2, allowArrayLike) {\n  var it2 = typeof Symbol !== \"undefined\" && o2[Symbol.iterator] || o2[\"@@iterator\"];\n  if (it2)\n    return (it2 = it2.call(o2)).next.bind(it2);\n  if (Array.isArray(o2) || (it2 = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === \"number\") {\n    if (it2)\n      o2 = it2;\n    var i2 = 0;\n    return function() {\n      if (i2 >= o2.length)\n        return {\n          done: true\n        };\n      return {\n        done: false,\n        value: o2[i2++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar storedAnnotationsSymbol = \/* @__PURE__ *\/ Symbol(\"mobx-stored-annotations\");\nfunction createDecoratorAnnotation(annotation) {\n  function decorator(target, property) {\n    storeAnnotation(target, property, annotation);\n  }\n  return Object.assign(decorator, annotation);\n}\nfunction storeAnnotation(prototype, key, annotation) {\n  if (!hasProp(prototype, storedAnnotationsSymbol)) {\n    addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));\n  }\n  if (false) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    die(\"'\" + fieldName + \"' is decorated with 'override', but no such decorated member was found on prototype.\");\n  }\n  assertNotDecorated(prototype, annotation, key);\n  if (!isOverride(annotation)) {\n    prototype[storedAnnotationsSymbol][key] = annotation;\n  }\n}\nfunction assertNotDecorated(prototype, annotation, key) {\n  if (false) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    var currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '@\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already decorated with '@\" + currentAnnotationType + \"'.\") + \"\\nRe-decorating fields is not allowed.\\nUse '@override' decorator for methods overridden by subclass.\");\n  }\n}\nfunction collectStoredAnnotations(target) {\n  if (!hasProp(target, storedAnnotationsSymbol)) {\n    if (false) {\n      die(\"No annotations were passed to makeObservable, but no decorated members have been found either\");\n    }\n    addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));\n  }\n  return target[storedAnnotationsSymbol];\n}\nvar $mobx = \/* @__PURE__ *\/ Symbol(\"mobx administration\");\nvar Atom = \/* @__PURE__ *\/ function() {\n  function Atom2(name_) {\n    if (name_ === void 0) {\n      name_ = false ? \"Atom@\" + getNextId() : \"Atom\";\n    }\n    this.name_ = void 0;\n    this.isPendingUnobservation_ = false;\n    this.isBeingObserved_ = false;\n    this.observers_ = \/* @__PURE__ *\/ new Set();\n    this.diffValue_ = 0;\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;\n    this.onBOL = void 0;\n    this.onBUOL = void 0;\n    this.name_ = name_;\n  }\n  var _proto = Atom2.prototype;\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.reportObserved = function reportObserved$1() {\n    return reportObserved(this);\n  };\n  _proto.reportChanged = function reportChanged() {\n    startBatch();\n    propagateChanged(this);\n    endBatch();\n  };\n  _proto.toString = function toString2() {\n    return this.name_;\n  };\n  return Atom2;\n}();\nvar isAtom = \/* @__PURE__ *\/ createInstanceofPredicate(\"Atom\", Atom);\nfunction createAtom(name, onBecomeObservedHandler, onBecomeUnobservedHandler) {\n  if (onBecomeObservedHandler === void 0) {\n    onBecomeObservedHandler = noop;\n  }\n  if (onBecomeUnobservedHandler === void 0) {\n    onBecomeUnobservedHandler = noop;\n  }\n  var atom = new Atom(name);\n  if (onBecomeObservedHandler !== noop) {\n    onBecomeObserved(atom, onBecomeObservedHandler);\n  }\n  if (onBecomeUnobservedHandler !== noop) {\n    onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n  }\n  return atom;\n}\nfunction identityComparer(a3, b3) {\n  return a3 === b3;\n}\nfunction structuralComparer(a3, b3) {\n  return deepEqual(a3, b3);\n}\nfunction shallowComparer(a3, b3) {\n  return deepEqual(a3, b3, 1);\n}\nfunction defaultComparer(a3, b3) {\n  if (Object.is) {\n    return Object.is(a3, b3);\n  }\n  return a3 === b3 ? a3 !== 0 || 1 \/ a3 === 1 \/ b3 : a3 !== a3 && b3 !== b3;\n}\nvar comparer = {\n  identity: identityComparer,\n  structural: structuralComparer,\n  \"default\": defaultComparer,\n  shallow: shallowComparer\n};\nfunction deepEnhancer(v2, _2, name) {\n  if (isObservable(v2)) {\n    return v2;\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, {\n      name\n    });\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, void 0, {\n      name\n    });\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, {\n      name\n    });\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, {\n      name\n    });\n  }\n  if (typeof v2 === \"function\" && !isAction(v2) && !isFlow(v2)) {\n    if (isGenerator(v2)) {\n      return flow(v2);\n    } else {\n      return autoAction(name, v2);\n    }\n  }\n  return v2;\n}\nfunction shallowEnhancer(v2, _2, name) {\n  if (v2 === void 0 || v2 === null) {\n    return v2;\n  }\n  if (isObservableObject(v2) || isObservableArray(v2) || isObservableMap(v2) || isObservableSet(v2)) {\n    return v2;\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, void 0, {\n      name,\n      deep: false\n    });\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, {\n      name,\n      deep: false\n    });\n  }\n  if (false) {\n    die(\"The shallow modifier \/ decorator can only used in combination with arrays, objects, maps and sets\");\n  }\n}\nfunction referenceEnhancer(newValue) {\n  return newValue;\n}\nfunction refStructEnhancer(v2, oldValue) {\n  if (false) {\n    die(\"observable.struct should not be used with observable values\");\n  }\n  if (deepEqual(v2, oldValue)) {\n    return oldValue;\n  }\n  return v2;\n}\nvar OVERRIDE = \"override\";\nfunction isOverride(annotation) {\n  return annotation.annotationType_ === OVERRIDE;\n}\nfunction createActionAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$1,\n    extend_: extend_$1\n  };\n}\nfunction make_$1(adm, key, descriptor, source) {\n  var _this$options_;\n  if ((_this$options_ = this.options_) != null && _this$options_.bound) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n  }\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 2;\n  }\n  if (isAction(descriptor.value)) {\n    return 1;\n  }\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor, false);\n  defineProperty(source, key, actionDescriptor);\n  return 2;\n}\nfunction extend_$1(adm, key, descriptor, proxyTrap) {\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor);\n  return adm.defineProperty_(key, actionDescriptor, proxyTrap);\n}\nfunction assertActionDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a function value.\"));\n  }\n}\nfunction createActionDescriptor(adm, annotation, key, descriptor, safeDescriptors) {\n  var _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$2, _annotation$options_3, _annotation$options_4, _adm$proxy_2;\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertActionDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  if ((_annotation$options_ = annotation.options_) != null && _annotation$options_.bound) {\n    var _adm$proxy_;\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return {\n    value: createAction(\n      (_annotation$options_$ = (_annotation$options_2 = annotation.options_) == null ? void 0 : _annotation$options_2.name) != null ? _annotation$options_$ : key.toString(),\n      value,\n      (_annotation$options_$2 = (_annotation$options_3 = annotation.options_) == null ? void 0 : _annotation$options_3.autoAction) != null ? _annotation$options_$2 : false,\n      (_annotation$options_4 = annotation.options_) != null && _annotation$options_4.bound ? (_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_ : void 0\n    ),\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    enumerable: false,\n    writable: safeDescriptors ? false : true\n  };\n}\nfunction createFlowAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$2,\n    extend_: extend_$2\n  };\n}\nfunction make_$2(adm, key, descriptor, source) {\n  var _this$options_;\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 : 2;\n  }\n  if ((_this$options_ = this.options_) != null && _this$options_.bound && (!hasProp(adm.target_, key) || !isFlow(adm.target_[key]))) {\n    if (this.extend_(adm, key, descriptor, false) === null) {\n      return 0;\n    }\n  }\n  if (isFlow(descriptor.value)) {\n    return 1;\n  }\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, false, false);\n  defineProperty(source, key, flowDescriptor);\n  return 2;\n}\nfunction extend_$2(adm, key, descriptor, proxyTrap) {\n  var _this$options_2;\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, (_this$options_2 = this.options_) == null ? void 0 : _this$options_2.bound);\n  return adm.defineProperty_(key, flowDescriptor, proxyTrap);\n}\nfunction assertFlowDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a generator function value.\"));\n  }\n}\nfunction createFlowDescriptor(adm, annotation, key, descriptor, bound, safeDescriptors) {\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertFlowDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  if (!isFlow(value)) {\n    value = flow(value);\n  }\n  if (bound) {\n    var _adm$proxy_;\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n    value.isMobXFlow = true;\n  }\n  return {\n    value,\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    enumerable: false,\n    writable: safeDescriptors ? false : true\n  };\n}\nfunction createComputedAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$3,\n    extend_: extend_$3\n  };\n}\nfunction make_$3(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n}\nfunction extend_$3(adm, key, descriptor, proxyTrap) {\n  assertComputedDescriptor(adm, this, key, descriptor);\n  return adm.defineComputedProperty_(key, _extends({}, this.options_, {\n    get: descriptor.get,\n    set: descriptor.set\n  }), proxyTrap);\n}\nfunction assertComputedDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var get3 = _ref2.get;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on getter(+setter) properties.\"));\n  }\n}\nfunction createObservableAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$4,\n    extend_: extend_$4\n  };\n}\nfunction make_$4(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 : 1;\n}\nfunction extend_$4(adm, key, descriptor, proxyTrap) {\n  var _this$options_$enhanc, _this$options_;\n  assertObservableDescriptor(adm, this, key, descriptor);\n  return adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = this.options_) == null ? void 0 : _this$options_.enhancer) != null ? _this$options_$enhanc : deepEnhancer, proxyTrap);\n}\nfunction assertObservableDescriptor(adm, _ref, key, descriptor) {\n  var annotationType_ = _ref.annotationType_;\n  if (false) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' cannot be used on getter\/setter properties\"));\n  }\n}\nvar AUTO = \"true\";\nvar autoAnnotation = \/* @__PURE__ *\/ createAutoAnnotation();\nfunction createAutoAnnotation(options) {\n  return {\n    annotationType_: AUTO,\n    options_: options,\n    make_: make_$5,\n    extend_: extend_$5\n  };\n}\nfunction make_$5(adm, key, descriptor, source) {\n  var _this$options_3, _this$options_4;\n  if (descriptor.get) {\n    return computed.make_(adm, key, descriptor, source);\n  }\n  if (descriptor.set) {\n    var set4 = createAction(key.toString(), descriptor.set);\n    if (source === adm.target_) {\n      return adm.defineProperty_(key, {\n        configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n        set: set4\n      }) === null ? 0 : 2;\n    }\n    defineProperty(source, key, {\n      configurable: true,\n      set: set4\n    });\n    return 2;\n  }\n  if (source !== adm.target_ && typeof descriptor.value === \"function\") {\n    var _this$options_2;\n    if (isGenerator(descriptor.value)) {\n      var _this$options_;\n      var flowAnnotation2 = (_this$options_ = this.options_) != null && _this$options_.autoBind ? flow.bound : flow;\n      return flowAnnotation2.make_(adm, key, descriptor, source);\n    }\n    var actionAnnotation2 = (_this$options_2 = this.options_) != null && _this$options_2.autoBind ? autoAction.bound : autoAction;\n    return actionAnnotation2.make_(adm, key, descriptor, source);\n  }\n  var observableAnnotation2 = ((_this$options_3 = this.options_) == null ? void 0 : _this$options_3.deep) === false ? observable.ref : observable;\n  if (typeof descriptor.value === \"function\" && (_this$options_4 = this.options_) != null && _this$options_4.autoBind) {\n    var _adm$proxy_;\n    descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return observableAnnotation2.make_(adm, key, descriptor, source);\n}\nfunction extend_$5(adm, key, descriptor, proxyTrap) {\n  var _this$options_5, _this$options_6;\n  if (descriptor.get) {\n    return computed.extend_(adm, key, descriptor, proxyTrap);\n  }\n  if (descriptor.set) {\n    return adm.defineProperty_(key, {\n      configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n      set: createAction(key.toString(), descriptor.set)\n    }, proxyTrap);\n  }\n  if (typeof descriptor.value === \"function\" && (_this$options_5 = this.options_) != null && _this$options_5.autoBind) {\n    var _adm$proxy_2;\n    descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_);\n  }\n  var observableAnnotation2 = ((_this$options_6 = this.options_) == null ? void 0 : _this$options_6.deep) === false ? observable.ref : observable;\n  return observableAnnotation2.extend_(adm, key, descriptor, proxyTrap);\n}\nvar OBSERVABLE = \"observable\";\nvar OBSERVABLE_REF = \"observable.ref\";\nvar OBSERVABLE_SHALLOW = \"observable.shallow\";\nvar OBSERVABLE_STRUCT = \"observable.struct\";\nvar defaultCreateObservableOptions = {\n  deep: true,\n  name: void 0,\n  defaultDecorator: void 0,\n  proxy: true\n};\nObject.freeze(defaultCreateObservableOptions);\nfunction asCreateObservableOptions(thing) {\n  return thing || defaultCreateObservableOptions;\n}\nvar observableAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE);\nvar observableRefAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_REF, {\n  enhancer: referenceEnhancer\n});\nvar observableShallowAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_SHALLOW, {\n  enhancer: shallowEnhancer\n});\nvar observableStructAnnotation = \/* @__PURE__ *\/ createObservableAnnotation(OBSERVABLE_STRUCT, {\n  enhancer: refStructEnhancer\n});\nvar observableDecoratorAnnotation = \/* @__PURE__ *\/ createDecoratorAnnotation(observableAnnotation);\nfunction getEnhancerFromOptions(options) {\n  return options.deep === true ? deepEnhancer : options.deep === false ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);\n}\nfunction getAnnotationFromOptions(options) {\n  var _options$defaultDecor;\n  return options ? (_options$defaultDecor = options.defaultDecorator) != null ? _options$defaultDecor : createAutoAnnotation(options) : void 0;\n}\nfunction getEnhancerFromAnnotation(annotation) {\n  var _annotation$options_$, _annotation$options_;\n  return !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == null ? void 0 : _annotation$options_.enhancer) != null ? _annotation$options_$ : deepEnhancer;\n}\nfunction createObservable(v2, arg2, arg3) {\n  if (isStringish(arg2)) {\n    storeAnnotation(v2, arg2, observableAnnotation);\n    return;\n  }\n  if (isObservable(v2)) {\n    return v2;\n  }\n  if (isPlainObject(v2)) {\n    return observable.object(v2, arg2, arg3);\n  }\n  if (Array.isArray(v2)) {\n    return observable.array(v2, arg2);\n  }\n  if (isES6Map(v2)) {\n    return observable.map(v2, arg2);\n  }\n  if (isES6Set(v2)) {\n    return observable.set(v2, arg2);\n  }\n  if (typeof v2 === \"object\" && v2 !== null) {\n    return v2;\n  }\n  return observable.box(v2, arg2);\n}\nObject.assign(createObservable, observableDecoratorAnnotation);\nvar observableFactories = {\n  box: function box(value, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableValue(value, getEnhancerFromOptions(o2), o2.name, true, o2.equals);\n  },\n  array: function array(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return (globalState.useProxies === false || o2.proxy === false ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  map: function map(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableMap(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  set: function set(initialValues, options) {\n    var o2 = asCreateObservableOptions(options);\n    return new ObservableSet(initialValues, getEnhancerFromOptions(o2), o2.name);\n  },\n  object: function object(props, decorators, options) {\n    return extendObservable(globalState.useProxies === false || (options == null ? void 0 : options.proxy) === false ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);\n  },\n  ref: \/* @__PURE__ *\/ createDecoratorAnnotation(observableRefAnnotation),\n  shallow: \/* @__PURE__ *\/ createDecoratorAnnotation(observableShallowAnnotation),\n  deep: observableDecoratorAnnotation,\n  struct: \/* @__PURE__ *\/ createDecoratorAnnotation(observableStructAnnotation)\n};\nvar observable = \/* @__PURE__ *\/ assign(createObservable, observableFactories);\nvar COMPUTED = \"computed\";\nvar COMPUTED_STRUCT = \"computed.struct\";\nvar computedAnnotation = \/* @__PURE__ *\/ createComputedAnnotation(COMPUTED);\nvar computedStructAnnotation = \/* @__PURE__ *\/ createComputedAnnotation(COMPUTED_STRUCT, {\n  equals: comparer.structural\n});\nvar computed = function computed2(arg1, arg2) {\n  if (isStringish(arg2)) {\n    return storeAnnotation(arg1, arg2, computedAnnotation);\n  }\n  if (isPlainObject(arg1)) {\n    return createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));\n  }\n  if (false) {\n    if (!isFunction(arg1)) {\n      die(\"First argument to `computed` should be an expression.\");\n    }\n    if (isFunction(arg2)) {\n      die(\"A setter as second argument is no longer supported, use `{ set: fn }` option instead\");\n    }\n  }\n  var opts = isPlainObject(arg2) ? arg2 : {};\n  opts.get = arg1;\n  opts.name || (opts.name = arg1.name || \"\");\n  return new ComputedValue(opts);\n};\nObject.assign(computed, computedAnnotation);\ncomputed.struct = \/* @__PURE__ *\/ createDecoratorAnnotation(computedStructAnnotation);\nvar _getDescriptor$config;\nvar _getDescriptor;\nvar currentActionId = 0;\nvar nextActionId = 1;\nvar isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = \/* @__PURE__ *\/ getDescriptor(function() {\n}, \"name\")) == null ? void 0 : _getDescriptor.configurable) != null ? _getDescriptor$config : false;\nvar tmpNameDescriptor = {\n  value: \"action\",\n  configurable: true,\n  writable: false,\n  enumerable: false\n};\nfunction createAction(actionName, fn, autoAction2, ref) {\n  if (autoAction2 === void 0) {\n    autoAction2 = false;\n  }\n  if (false) {\n    if (!isFunction(fn)) {\n      die(\"`action` can only be invoked on functions\");\n    }\n    if (typeof actionName !== \"string\" || !actionName) {\n      die(\"actions should have valid names, got: '\" + actionName + \"'\");\n    }\n  }\n  function res() {\n    return executeAction(actionName, autoAction2, fn, ref || this, arguments);\n  }\n  res.isMobxAction = true;\n  if (isFunctionNameConfigurable) {\n    tmpNameDescriptor.value = actionName;\n    Object.defineProperty(res, \"name\", tmpNameDescriptor);\n  }\n  return res;\n}\nfunction executeAction(actionName, canRunAsDerivation, fn, scope, args) {\n  var runInfo = _startAction(actionName, canRunAsDerivation, scope, args);\n  try {\n    return fn.apply(scope, args);\n  } catch (err) {\n    runInfo.error_ = err;\n    throw err;\n  } finally {\n    _endAction(runInfo);\n  }\n}\nfunction _startAction(actionName, canRunAsDerivation, scope, args) {\n  var notifySpy_ = false;\n  var startTime_ = 0;\n  if (false) {\n    startTime_ = Date.now();\n    var flattenedArgs = args ? Array.from(args) : EMPTY_ARRAY;\n    spyReportStart({\n      type: ACTION,\n      name: actionName,\n      object: scope,\n      arguments: flattenedArgs\n    });\n  }\n  var prevDerivation_ = globalState.trackingDerivation;\n  var runAsAction = !canRunAsDerivation || !prevDerivation_;\n  startBatch();\n  var prevAllowStateChanges_ = globalState.allowStateChanges;\n  if (runAsAction) {\n    untrackedStart();\n    prevAllowStateChanges_ = allowStateChangesStart(true);\n  }\n  var prevAllowStateReads_ = allowStateReadsStart(true);\n  var runInfo = {\n    runAsAction_: runAsAction,\n    prevDerivation_,\n    prevAllowStateChanges_,\n    prevAllowStateReads_,\n    notifySpy_,\n    startTime_,\n    actionId_: nextActionId++,\n    parentActionId_: currentActionId\n  };\n  currentActionId = runInfo.actionId_;\n  return runInfo;\n}\nfunction _endAction(runInfo) {\n  if (currentActionId !== runInfo.actionId_) {\n    die(30);\n  }\n  currentActionId = runInfo.parentActionId_;\n  if (runInfo.error_ !== void 0) {\n    globalState.suppressReactionErrors = true;\n  }\n  allowStateChangesEnd(runInfo.prevAllowStateChanges_);\n  allowStateReadsEnd(runInfo.prevAllowStateReads_);\n  endBatch();\n  if (runInfo.runAsAction_) {\n    untrackedEnd(runInfo.prevDerivation_);\n  }\n  if (false) {\n    spyReportEnd({\n      time: Date.now() - runInfo.startTime_\n    });\n  }\n  globalState.suppressReactionErrors = false;\n}\nfunction allowStateChanges(allowStateChanges2, func) {\n  var prev = allowStateChangesStart(allowStateChanges2);\n  try {\n    return func();\n  } finally {\n    allowStateChangesEnd(prev);\n  }\n}\nfunction allowStateChangesStart(allowStateChanges2) {\n  var prev = globalState.allowStateChanges;\n  globalState.allowStateChanges = allowStateChanges2;\n  return prev;\n}\nfunction allowStateChangesEnd(prev) {\n  globalState.allowStateChanges = prev;\n}\nvar _Symbol$toPrimitive;\n_Symbol$toPrimitive = Symbol.toPrimitive;\nvar ObservableValue = \/* @__PURE__ *\/ function(_Atom) {\n  _inheritsLoose(ObservableValue2, _Atom);\n  function ObservableValue2(value, enhancer, name_, notifySpy, equals) {\n    var _this;\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableValue@\" + getNextId() : \"ObservableValue\";\n    }\n    if (notifySpy === void 0) {\n      notifySpy = true;\n    }\n    if (equals === void 0) {\n      equals = comparer[\"default\"];\n    }\n    _this = _Atom.call(this, name_) || this;\n    _this.enhancer = void 0;\n    _this.name_ = void 0;\n    _this.equals = void 0;\n    _this.hasUnreportedChange_ = false;\n    _this.interceptors_ = void 0;\n    _this.changeListeners_ = void 0;\n    _this.value_ = void 0;\n    _this.dehancer = void 0;\n    _this.enhancer = enhancer;\n    _this.name_ = name_;\n    _this.equals = equals;\n    _this.value_ = enhancer(value, void 0, name_);\n    if (false) {\n      spyReport({\n        type: CREATE,\n        object: _assertThisInitialized(_this),\n        observableKind: \"value\",\n        debugObjectName: _this.name_,\n        newValue: \"\" + _this.value_\n      });\n    }\n    return _this;\n  }\n  var _proto = ObservableValue2.prototype;\n  _proto.dehanceValue = function dehanceValue(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.set = function set4(newValue) {\n    var oldValue = this.value_;\n    newValue = this.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      if (false) {\n        spyReportStart({\n          type: UPDATE,\n          object: this,\n          observableKind: \"value\",\n          debugObjectName: this.name_,\n          newValue,\n          oldValue\n        });\n      }\n      this.setNewValue_(newValue);\n      if (false) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.prepareNewValue_ = function prepareNewValue_(newValue) {\n    checkIfStateModificationsAreAllowed(this);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this,\n        type: UPDATE,\n        newValue\n      });\n      if (!change) {\n        return globalState.UNCHANGED;\n      }\n      newValue = change.newValue;\n    }\n    newValue = this.enhancer(newValue, this.value_, this.name_);\n    return this.equals(this.value_, newValue) ? globalState.UNCHANGED : newValue;\n  };\n  _proto.setNewValue_ = function setNewValue_(newValue) {\n    var oldValue = this.value_;\n    this.value_ = newValue;\n    this.reportChanged();\n    if (hasListeners(this)) {\n      notifyListeners(this, {\n        type: UPDATE,\n        object: this,\n        newValue,\n        oldValue\n      });\n    }\n  };\n  _proto.get = function get3() {\n    this.reportObserved();\n    return this.dehanceValue(this.value_);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately) {\n      listener({\n        observableKind: \"value\",\n        debugObjectName: this.name_,\n        object: this,\n        type: UPDATE,\n        newValue: this.value_,\n        oldValue: void 0\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.raw = function raw() {\n    return this.value_;\n  };\n  _proto.toJSON = function toJSON2() {\n    return this.get();\n  };\n  _proto.toString = function toString2() {\n    return this.name_ + \"[\" + this.value_ + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[_Symbol$toPrimitive] = function() {\n    return this.valueOf();\n  };\n  return ObservableValue2;\n}(Atom);\nvar isObservableValue = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableValue\", ObservableValue);\nvar _Symbol$toPrimitive$1;\n_Symbol$toPrimitive$1 = Symbol.toPrimitive;\nvar ComputedValue = \/* @__PURE__ *\/ function() {\n  function ComputedValue2(options) {\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.observing_ = [];\n    this.newObserving_ = null;\n    this.isBeingObserved_ = false;\n    this.isPendingUnobservation_ = false;\n    this.observers_ = \/* @__PURE__ *\/ new Set();\n    this.diffValue_ = 0;\n    this.runId_ = 0;\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    this.unboundDepsCount_ = 0;\n    this.value_ = new CaughtException(null);\n    this.name_ = void 0;\n    this.triggeredBy_ = void 0;\n    this.isComputing_ = false;\n    this.isRunningSetter_ = false;\n    this.derivation = void 0;\n    this.setter_ = void 0;\n    this.isTracing_ = TraceMode.NONE;\n    this.scope_ = void 0;\n    this.equals_ = void 0;\n    this.requiresReaction_ = void 0;\n    this.keepAlive_ = void 0;\n    this.onBOL = void 0;\n    this.onBUOL = void 0;\n    if (!options.get) {\n      die(31);\n    }\n    this.derivation = options.get;\n    this.name_ = options.name || (false ? \"ComputedValue@\" + getNextId() : \"ComputedValue\");\n    if (options.set) {\n      this.setter_ = createAction(false ? this.name_ + \"-setter\" : \"ComputedValue-setter\", options.set);\n    }\n    this.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer[\"default\"]);\n    this.scope_ = options.context;\n    this.requiresReaction_ = options.requiresReaction;\n    this.keepAlive_ = !!options.keepAlive;\n  }\n  var _proto = ComputedValue2.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    propagateMaybeChanged(this);\n  };\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function(listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.get = function get3() {\n    if (this.isComputing_) {\n      die(32, this.name_, this.derivation);\n    }\n    if (globalState.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_) {\n      if (shouldCompute(this)) {\n        this.warnAboutUntrackedRead_();\n        startBatch();\n        this.value_ = this.computeValue_(false);\n        endBatch();\n      }\n    } else {\n      reportObserved(this);\n      if (shouldCompute(this)) {\n        var prevTrackingContext = globalState.trackingContext;\n        if (this.keepAlive_ && !prevTrackingContext) {\n          globalState.trackingContext = this;\n        }\n        if (this.trackAndCompute()) {\n          propagateChangeConfirmed(this);\n        }\n        globalState.trackingContext = prevTrackingContext;\n      }\n    }\n    var result = this.value_;\n    if (isCaughtException(result)) {\n      throw result.cause;\n    }\n    return result;\n  };\n  _proto.set = function set4(value) {\n    if (this.setter_) {\n      if (this.isRunningSetter_) {\n        die(33, this.name_);\n      }\n      this.isRunningSetter_ = true;\n      try {\n        this.setter_.call(this.scope_, value);\n      } finally {\n        this.isRunningSetter_ = false;\n      }\n    } else {\n      die(34, this.name_);\n    }\n  };\n  _proto.trackAndCompute = function trackAndCompute() {\n    var oldValue = this.value_;\n    var wasSuspended = this.dependenciesState_ === IDerivationState_.NOT_TRACKING_;\n    var newValue = this.computeValue_(true);\n    var changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !this.equals_(oldValue, newValue);\n    if (changed) {\n      this.value_ = newValue;\n      if (false) {\n        spyReport({\n          observableKind: \"computed\",\n          debugObjectName: this.name_,\n          object: this.scope_,\n          type: \"update\",\n          oldValue,\n          newValue\n        });\n      }\n    }\n    return changed;\n  };\n  _proto.computeValue_ = function computeValue_(track) {\n    this.isComputing_ = true;\n    var prev = allowStateChangesStart(false);\n    var res;\n    if (track) {\n      res = trackDerivedFunction(this, this.derivation, this.scope_);\n    } else {\n      if (globalState.disableErrorBoundaries === true) {\n        res = this.derivation.call(this.scope_);\n      } else {\n        try {\n          res = this.derivation.call(this.scope_);\n        } catch (e) {\n          res = new CaughtException(e);\n        }\n      }\n    }\n    allowStateChangesEnd(prev);\n    this.isComputing_ = false;\n    return res;\n  };\n  _proto.suspend_ = function suspend_() {\n    if (!this.keepAlive_) {\n      clearObserving(this);\n      this.value_ = void 0;\n      if (false) {\n        console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' was suspended and it will recompute on the next access.\");\n      }\n    }\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    var _this = this;\n    var firstTime = true;\n    var prevValue = void 0;\n    return autorun(function() {\n      var newValue = _this.get();\n      if (!firstTime || fireImmediately) {\n        var prevU = untrackedStart();\n        listener({\n          observableKind: \"computed\",\n          debugObjectName: _this.name_,\n          type: UPDATE,\n          object: _this,\n          newValue,\n          oldValue: prevValue\n        });\n        untrackedEnd(prevU);\n      }\n      firstTime = false;\n      prevValue = newValue;\n    });\n  };\n  _proto.warnAboutUntrackedRead_ = function warnAboutUntrackedRead_() {\n    if (true) {\n      return;\n    }\n    if (this.isTracing_ !== TraceMode.NONE) {\n      console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n    if (typeof this.requiresReaction_ === \"boolean\" ? this.requiresReaction_ : globalState.computedRequiresReaction) {\n      console.warn(\"[mobx] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n  };\n  _proto.toString = function toString2() {\n    return this.name_ + \"[\" + this.derivation.toString() + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[_Symbol$toPrimitive$1] = function() {\n    return this.valueOf();\n  };\n  return ComputedValue2;\n}();\nvar isComputedValue = \/* @__PURE__ *\/ createInstanceofPredicate(\"ComputedValue\", ComputedValue);\nvar IDerivationState_;\n(function(IDerivationState_2) {\n  IDerivationState_2[IDerivationState_2[\"NOT_TRACKING_\"] = -1] = \"NOT_TRACKING_\";\n  IDerivationState_2[IDerivationState_2[\"UP_TO_DATE_\"] = 0] = \"UP_TO_DATE_\";\n  IDerivationState_2[IDerivationState_2[\"POSSIBLY_STALE_\"] = 1] = \"POSSIBLY_STALE_\";\n  IDerivationState_2[IDerivationState_2[\"STALE_\"] = 2] = \"STALE_\";\n})(IDerivationState_ || (IDerivationState_ = {}));\nvar TraceMode;\n(function(TraceMode2) {\n  TraceMode2[TraceMode2[\"NONE\"] = 0] = \"NONE\";\n  TraceMode2[TraceMode2[\"LOG\"] = 1] = \"LOG\";\n  TraceMode2[TraceMode2[\"BREAK\"] = 2] = \"BREAK\";\n})(TraceMode || (TraceMode = {}));\nvar CaughtException = function CaughtException2(cause) {\n  this.cause = void 0;\n  this.cause = cause;\n};\nfunction isCaughtException(e) {\n  return e instanceof CaughtException;\n}\nfunction shouldCompute(derivation) {\n  switch (derivation.dependenciesState_) {\n    case IDerivationState_.UP_TO_DATE_:\n      return false;\n    case IDerivationState_.NOT_TRACKING_:\n    case IDerivationState_.STALE_:\n      return true;\n    case IDerivationState_.POSSIBLY_STALE_: {\n      var prevAllowStateReads = allowStateReadsStart(true);\n      var prevUntracked = untrackedStart();\n      var obs = derivation.observing_, l3 = obs.length;\n      for (var i2 = 0; i2 < l3; i2++) {\n        var obj = obs[i2];\n        if (isComputedValue(obj)) {\n          if (globalState.disableErrorBoundaries) {\n            obj.get();\n          } else {\n            try {\n              obj.get();\n            } catch (e) {\n              untrackedEnd(prevUntracked);\n              allowStateReadsEnd(prevAllowStateReads);\n              return true;\n            }\n          }\n          if (derivation.dependenciesState_ === IDerivationState_.STALE_) {\n            untrackedEnd(prevUntracked);\n            allowStateReadsEnd(prevAllowStateReads);\n            return true;\n          }\n        }\n      }\n      changeDependenciesStateTo0(derivation);\n      untrackedEnd(prevUntracked);\n      allowStateReadsEnd(prevAllowStateReads);\n      return false;\n    }\n  }\n}\nfunction checkIfStateModificationsAreAllowed(atom) {\n  if (true) {\n    return;\n  }\n  var hasObservers = atom.observers_.size > 0;\n  if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === \"always\")) {\n    console.warn(\"[MobX] \" + (globalState.enforceActions ? \"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: \" : \"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: \") + atom.name_);\n  }\n}\nfunction checkIfStateReadsAreAllowed(observable2) {\n  if (false) {\n    console.warn(\"[mobx] Observable '\" + observable2.name_ + \"' being read outside a reactive context.\");\n  }\n}\nfunction trackDerivedFunction(derivation, f2, context) {\n  var prevAllowStateReads = allowStateReadsStart(true);\n  changeDependenciesStateTo0(derivation);\n  derivation.newObserving_ = new Array(derivation.observing_.length + 100);\n  derivation.unboundDepsCount_ = 0;\n  derivation.runId_ = ++globalState.runId;\n  var prevTracking = globalState.trackingDerivation;\n  globalState.trackingDerivation = derivation;\n  globalState.inBatch++;\n  var result;\n  if (globalState.disableErrorBoundaries === true) {\n    result = f2.call(context);\n  } else {\n    try {\n      result = f2.call(context);\n    } catch (e) {\n      result = new CaughtException(e);\n    }\n  }\n  globalState.inBatch--;\n  globalState.trackingDerivation = prevTracking;\n  bindDependencies(derivation);\n  warnAboutDerivationWithoutDependencies(derivation);\n  allowStateReadsEnd(prevAllowStateReads);\n  return result;\n}\nfunction warnAboutDerivationWithoutDependencies(derivation) {\n  if (true) {\n    return;\n  }\n  if (derivation.observing_.length !== 0) {\n    return;\n  }\n  if (typeof derivation.requiresObservable_ === \"boolean\" ? derivation.requiresObservable_ : globalState.reactionRequiresObservable) {\n    console.warn(\"[mobx] Derivation '\" + derivation.name_ + \"' is created\/updated without reading any observable value.\");\n  }\n}\nfunction bindDependencies(derivation) {\n  var prevObserving = derivation.observing_;\n  var observing = derivation.observing_ = derivation.newObserving_;\n  var lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_;\n  var i0 = 0, l3 = derivation.unboundDepsCount_;\n  for (var i2 = 0; i2 < l3; i2++) {\n    var dep = observing[i2];\n    if (dep.diffValue_ === 0) {\n      dep.diffValue_ = 1;\n      if (i0 !== i2) {\n        observing[i0] = dep;\n      }\n      i0++;\n    }\n    if (dep.dependenciesState_ > lowestNewObservingDerivationState) {\n      lowestNewObservingDerivationState = dep.dependenciesState_;\n    }\n  }\n  observing.length = i0;\n  derivation.newObserving_ = null;\n  l3 = prevObserving.length;\n  while (l3--) {\n    var _dep = prevObserving[l3];\n    if (_dep.diffValue_ === 0) {\n      removeObserver(_dep, derivation);\n    }\n    _dep.diffValue_ = 0;\n  }\n  while (i0--) {\n    var _dep2 = observing[i0];\n    if (_dep2.diffValue_ === 1) {\n      _dep2.diffValue_ = 0;\n      addObserver(_dep2, derivation);\n    }\n  }\n  if (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {\n    derivation.dependenciesState_ = lowestNewObservingDerivationState;\n    derivation.onBecomeStale_();\n  }\n}\nfunction clearObserving(derivation) {\n  var obs = derivation.observing_;\n  derivation.observing_ = [];\n  var i2 = obs.length;\n  while (i2--) {\n    removeObserver(obs[i2], derivation);\n  }\n  derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n}\nfunction untracked(action2) {\n  var prev = untrackedStart();\n  try {\n    return action2();\n  } finally {\n    untrackedEnd(prev);\n  }\n}\nfunction untrackedStart() {\n  var prev = globalState.trackingDerivation;\n  globalState.trackingDerivation = null;\n  return prev;\n}\nfunction untrackedEnd(prev) {\n  globalState.trackingDerivation = prev;\n}\nfunction allowStateReadsStart(allowStateReads) {\n  var prev = globalState.allowStateReads;\n  globalState.allowStateReads = allowStateReads;\n  return prev;\n}\nfunction allowStateReadsEnd(prev) {\n  globalState.allowStateReads = prev;\n}\nfunction changeDependenciesStateTo0(derivation) {\n  if (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;\n  var obs = derivation.observing_;\n  var i2 = obs.length;\n  while (i2--) {\n    obs[i2].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n  }\n}\nvar MobXGlobals = function MobXGlobals2() {\n  this.version = 6;\n  this.UNCHANGED = {};\n  this.trackingDerivation = null;\n  this.trackingContext = null;\n  this.runId = 0;\n  this.mobxGuid = 0;\n  this.inBatch = 0;\n  this.pendingUnobservations = [];\n  this.pendingReactions = [];\n  this.isRunningReactions = false;\n  this.allowStateChanges = false;\n  this.allowStateReads = true;\n  this.enforceActions = true;\n  this.spyListeners = [];\n  this.globalReactionErrorHandlers = [];\n  this.computedRequiresReaction = false;\n  this.reactionRequiresObservable = false;\n  this.observableRequiresReaction = false;\n  this.disableErrorBoundaries = false;\n  this.suppressReactionErrors = false;\n  this.useProxies = true;\n  this.verifyProxies = false;\n  this.safeDescriptors = true;\n};\nvar canMergeGlobalState = true;\nvar isolateCalled = false;\nvar globalState = \/* @__PURE__ *\/ function() {\n  var global2 = \/* @__PURE__ *\/ getGlobal();\n  if (global2.__mobxInstanceCount > 0 && !global2.__mobxGlobals) {\n    canMergeGlobalState = false;\n  }\n  if (global2.__mobxGlobals && global2.__mobxGlobals.version !== new MobXGlobals().version) {\n    canMergeGlobalState = false;\n  }\n  if (!canMergeGlobalState) {\n    setTimeout(function() {\n      if (!isolateCalled) {\n        die(35);\n      }\n    }, 1);\n    return new MobXGlobals();\n  } else if (global2.__mobxGlobals) {\n    global2.__mobxInstanceCount += 1;\n    if (!global2.__mobxGlobals.UNCHANGED) {\n      global2.__mobxGlobals.UNCHANGED = {};\n    }\n    return global2.__mobxGlobals;\n  } else {\n    global2.__mobxInstanceCount = 1;\n    return global2.__mobxGlobals = \/* @__PURE__ *\/ new MobXGlobals();\n  }\n}();\nfunction isolateGlobalState() {\n  if (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) {\n    die(36);\n  }\n  isolateCalled = true;\n  if (canMergeGlobalState) {\n    var global2 = getGlobal();\n    if (--global2.__mobxInstanceCount === 0) {\n      global2.__mobxGlobals = void 0;\n    }\n    globalState = new MobXGlobals();\n  }\n}\nfunction addObserver(observable2, node) {\n  observable2.observers_.add(node);\n  if (observable2.lowestObserverState_ > node.dependenciesState_) {\n    observable2.lowestObserverState_ = node.dependenciesState_;\n  }\n}\nfunction removeObserver(observable2, node) {\n  observable2.observers_[\"delete\"](node);\n  if (observable2.observers_.size === 0) {\n    queueForUnobservation(observable2);\n  }\n}\nfunction queueForUnobservation(observable2) {\n  if (observable2.isPendingUnobservation_ === false) {\n    observable2.isPendingUnobservation_ = true;\n    globalState.pendingUnobservations.push(observable2);\n  }\n}\nfunction startBatch() {\n  globalState.inBatch++;\n}\nfunction endBatch() {\n  if (--globalState.inBatch === 0) {\n    runReactions();\n    var list = globalState.pendingUnobservations;\n    for (var i2 = 0; i2 < list.length; i2++) {\n      var observable2 = list[i2];\n      observable2.isPendingUnobservation_ = false;\n      if (observable2.observers_.size === 0) {\n        if (observable2.isBeingObserved_) {\n          observable2.isBeingObserved_ = false;\n          observable2.onBUO();\n        }\n        if (observable2 instanceof ComputedValue) {\n          observable2.suspend_();\n        }\n      }\n    }\n    globalState.pendingUnobservations = [];\n  }\n}\nfunction reportObserved(observable2) {\n  checkIfStateReadsAreAllowed(observable2);\n  var derivation = globalState.trackingDerivation;\n  if (derivation !== null) {\n    if (derivation.runId_ !== observable2.lastAccessedBy_) {\n      observable2.lastAccessedBy_ = derivation.runId_;\n      derivation.newObserving_[derivation.unboundDepsCount_++] = observable2;\n      if (!observable2.isBeingObserved_ && globalState.trackingContext) {\n        observable2.isBeingObserved_ = true;\n        observable2.onBO();\n      }\n    }\n    return observable2.isBeingObserved_;\n  } else if (observable2.observers_.size === 0 && globalState.inBatch > 0) {\n    queueForUnobservation(observable2);\n  }\n  return false;\n}\nfunction propagateChanged(observable2) {\n  if (observable2.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      if (false) {\n        logTraceInfo(d2, observable2);\n      }\n      d2.onBecomeStale_();\n    }\n    d2.dependenciesState_ = IDerivationState_.STALE_;\n  });\n}\nfunction propagateChangeConfirmed(observable2) {\n  if (observable2.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {\n      d2.dependenciesState_ = IDerivationState_.STALE_;\n      if (false) {\n        logTraceInfo(d2, observable2);\n      }\n    } else if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      observable2.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    }\n  });\n}\nfunction propagateMaybeChanged(observable2) {\n  if (observable2.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  observable2.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;\n  observable2.observers_.forEach(function(d2) {\n    if (d2.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      d2.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;\n      d2.onBecomeStale_();\n    }\n  });\n}\nvar Reaction = \/* @__PURE__ *\/ function() {\n  function Reaction2(name_, onInvalidate_, errorHandler_, requiresObservable_) {\n    if (name_ === void 0) {\n      name_ = false ? \"Reaction@\" + getNextId() : \"Reaction\";\n    }\n    this.name_ = void 0;\n    this.onInvalidate_ = void 0;\n    this.errorHandler_ = void 0;\n    this.requiresObservable_ = void 0;\n    this.observing_ = [];\n    this.newObserving_ = [];\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.diffValue_ = 0;\n    this.runId_ = 0;\n    this.unboundDepsCount_ = 0;\n    this.isDisposed_ = false;\n    this.isScheduled_ = false;\n    this.isTrackPending_ = false;\n    this.isRunning_ = false;\n    this.isTracing_ = TraceMode.NONE;\n    this.name_ = name_;\n    this.onInvalidate_ = onInvalidate_;\n    this.errorHandler_ = errorHandler_;\n    this.requiresObservable_ = requiresObservable_;\n  }\n  var _proto = Reaction2.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    this.schedule_();\n  };\n  _proto.schedule_ = function schedule_() {\n    if (!this.isScheduled_) {\n      this.isScheduled_ = true;\n      globalState.pendingReactions.push(this);\n      runReactions();\n    }\n  };\n  _proto.isScheduled = function isScheduled() {\n    return this.isScheduled_;\n  };\n  _proto.runReaction_ = function runReaction_() {\n    if (!this.isDisposed_) {\n      startBatch();\n      this.isScheduled_ = false;\n      var prev = globalState.trackingContext;\n      globalState.trackingContext = this;\n      if (shouldCompute(this)) {\n        this.isTrackPending_ = true;\n        try {\n          this.onInvalidate_();\n          if (false) {\n            spyReport({\n              name: this.name_,\n              type: \"scheduled-reaction\"\n            });\n          }\n        } catch (e) {\n          this.reportExceptionInDerivation_(e);\n        }\n      }\n      globalState.trackingContext = prev;\n      endBatch();\n    }\n  };\n  _proto.track = function track(fn) {\n    if (this.isDisposed_) {\n      return;\n    }\n    startBatch();\n    var notify = isSpyEnabled();\n    var startTime;\n    if (false) {\n      startTime = Date.now();\n      spyReportStart({\n        name: this.name_,\n        type: \"reaction\"\n      });\n    }\n    this.isRunning_ = true;\n    var prevReaction = globalState.trackingContext;\n    globalState.trackingContext = this;\n    var result = trackDerivedFunction(this, fn, void 0);\n    globalState.trackingContext = prevReaction;\n    this.isRunning_ = false;\n    this.isTrackPending_ = false;\n    if (this.isDisposed_) {\n      clearObserving(this);\n    }\n    if (isCaughtException(result)) {\n      this.reportExceptionInDerivation_(result.cause);\n    }\n    if (false) {\n      spyReportEnd({\n        time: Date.now() - startTime\n      });\n    }\n    endBatch();\n  };\n  _proto.reportExceptionInDerivation_ = function reportExceptionInDerivation_(error) {\n    var _this = this;\n    if (this.errorHandler_) {\n      this.errorHandler_(error, this);\n      return;\n    }\n    if (globalState.disableErrorBoundaries) {\n      throw error;\n    }\n    var message = false ? \"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\" + this + \"'\" : \"[mobx] uncaught error in '\" + this + \"'\";\n    if (!globalState.suppressReactionErrors) {\n      console.error(message, error);\n    } else if (false) {\n      console.warn(\"[mobx] (error in reaction '\" + this.name_ + \"' suppressed, fix error of causing action below)\");\n    }\n    if (false) {\n      spyReport({\n        type: \"error\",\n        name: this.name_,\n        message,\n        error: \"\" + error\n      });\n    }\n    globalState.globalReactionErrorHandlers.forEach(function(f2) {\n      return f2(error, _this);\n    });\n  };\n  _proto.dispose = function dispose() {\n    if (!this.isDisposed_) {\n      this.isDisposed_ = true;\n      if (!this.isRunning_) {\n        startBatch();\n        clearObserving(this);\n        endBatch();\n      }\n    }\n  };\n  _proto.getDisposer_ = function getDisposer_() {\n    var r2 = this.dispose.bind(this);\n    r2[$mobx] = this;\n    return r2;\n  };\n  _proto.toString = function toString2() {\n    return \"Reaction[\" + this.name_ + \"]\";\n  };\n  _proto.trace = function trace$1(enterBreakPoint) {\n    if (enterBreakPoint === void 0) {\n      enterBreakPoint = false;\n    }\n    trace(this, enterBreakPoint);\n  };\n  return Reaction2;\n}();\nvar MAX_REACTION_ITERATIONS = 100;\nvar reactionScheduler = function reactionScheduler2(f2) {\n  return f2();\n};\nfunction runReactions() {\n  if (globalState.inBatch > 0 || globalState.isRunningReactions) {\n    return;\n  }\n  reactionScheduler(runReactionsHelper);\n}\nfunction runReactionsHelper() {\n  globalState.isRunningReactions = true;\n  var allReactions = globalState.pendingReactions;\n  var iterations = 0;\n  while (allReactions.length > 0) {\n    if (++iterations === MAX_REACTION_ITERATIONS) {\n      console.error(false ? \"Reaction doesn't converge to a stable state after \" + MAX_REACTION_ITERATIONS + \" iterations.\" + (\" Probably there is a cycle in the reactive function: \" + allReactions[0]) : \"[mobx] cycle in reaction: \" + allReactions[0]);\n      allReactions.splice(0);\n    }\n    var remainingReactions = allReactions.splice(0);\n    for (var i2 = 0, l3 = remainingReactions.length; i2 < l3; i2++) {\n      remainingReactions[i2].runReaction_();\n    }\n  }\n  globalState.isRunningReactions = false;\n}\nvar isReaction = \/* @__PURE__ *\/ createInstanceofPredicate(\"Reaction\", Reaction);\nfunction setReactionScheduler(fn) {\n  var baseScheduler = reactionScheduler;\n  reactionScheduler = function reactionScheduler3(f2) {\n    return fn(function() {\n      return baseScheduler(f2);\n    });\n  };\n}\nfunction isSpyEnabled() {\n  return false;\n}\nfunction spy(listener) {\n  if (true) {\n    console.warn(\"[mobx.spy] Is a no-op in production builds\");\n    return function() {\n    };\n  } else {\n    globalState.spyListeners.push(listener);\n    return once(function() {\n      globalState.spyListeners = globalState.spyListeners.filter(function(l3) {\n        return l3 !== listener;\n      });\n    });\n  }\n}\nvar ACTION = \"action\";\nvar ACTION_BOUND = \"action.bound\";\nvar AUTOACTION = \"autoAction\";\nvar AUTOACTION_BOUND = \"autoAction.bound\";\nvar DEFAULT_ACTION_NAME = \"<unnamed action>\";\nvar actionAnnotation = \/* @__PURE__ *\/ createActionAnnotation(ACTION);\nvar actionBoundAnnotation = \/* @__PURE__ *\/ createActionAnnotation(ACTION_BOUND, {\n  bound: true\n});\nvar autoActionAnnotation = \/* @__PURE__ *\/ createActionAnnotation(AUTOACTION, {\n  autoAction: true\n});\nvar autoActionBoundAnnotation = \/* @__PURE__ *\/ createActionAnnotation(AUTOACTION_BOUND, {\n  autoAction: true,\n  bound: true\n});\nfunction createActionFactory(autoAction2) {\n  var res = function action2(arg1, arg2) {\n    if (isFunction(arg1)) {\n      return createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction2);\n    }\n    if (isFunction(arg2)) {\n      return createAction(arg1, arg2, autoAction2);\n    }\n    if (isStringish(arg2)) {\n      return storeAnnotation(arg1, arg2, autoAction2 ? autoActionAnnotation : actionAnnotation);\n    }\n    if (isStringish(arg1)) {\n      return createDecoratorAnnotation(createActionAnnotation(autoAction2 ? AUTOACTION : ACTION, {\n        name: arg1,\n        autoAction: autoAction2\n      }));\n    }\n    if (false) {\n      die(\"Invalid arguments for `action`\");\n    }\n  };\n  return res;\n}\nvar action = \/* @__PURE__ *\/ createActionFactory(false);\nObject.assign(action, actionAnnotation);\nvar autoAction = \/* @__PURE__ *\/ createActionFactory(true);\nObject.assign(autoAction, autoActionAnnotation);\naction.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(actionBoundAnnotation);\nautoAction.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(autoActionBoundAnnotation);\nfunction isAction(thing) {\n  return isFunction(thing) && thing.isMobxAction === true;\n}\nfunction autorun(view, opts) {\n  var _opts$name, _opts;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT2;\n  }\n  if (false) {\n    if (!isFunction(view)) {\n      die(\"Autorun expects a function as first argument\");\n    }\n    if (isAction(view)) {\n      die(\"Autorun does not accept actions since actions are untrackable\");\n    }\n  }\n  var name = (_opts$name = (_opts = opts) == null ? void 0 : _opts.name) != null ? _opts$name : false ? view.name || \"Autorun@\" + getNextId() : \"Autorun\";\n  var runSync = !opts.scheduler && !opts.delay;\n  var reaction2;\n  if (runSync) {\n    reaction2 = new Reaction(name, function() {\n      this.track(reactionRunner);\n    }, opts.onError, opts.requiresObservable);\n  } else {\n    var scheduler = createSchedulerFromOptions(opts);\n    var isScheduled = false;\n    reaction2 = new Reaction(name, function() {\n      if (!isScheduled) {\n        isScheduled = true;\n        scheduler(function() {\n          isScheduled = false;\n          if (!reaction2.isDisposed_) {\n            reaction2.track(reactionRunner);\n          }\n        });\n      }\n    }, opts.onError, opts.requiresObservable);\n  }\n  function reactionRunner() {\n    view(reaction2);\n  }\n  reaction2.schedule_();\n  return reaction2.getDisposer_();\n}\nvar run = function run2(f2) {\n  return f2();\n};\nfunction createSchedulerFromOptions(opts) {\n  return opts.scheduler ? opts.scheduler : opts.delay ? function(f2) {\n    return setTimeout(f2, opts.delay);\n  } : run;\n}\nfunction reaction(expression, effect, opts) {\n  var _opts$name2;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT2;\n  }\n  if (false) {\n    if (!isFunction(expression) || !isFunction(effect)) {\n      die(\"First and second argument to reaction should be functions\");\n    }\n    if (!isPlainObject(opts)) {\n      die(\"Third argument of reactions should be an object\");\n    }\n  }\n  var name = (_opts$name2 = opts.name) != null ? _opts$name2 : false ? \"Reaction@\" + getNextId() : \"Reaction\";\n  var effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n  var runSync = !opts.scheduler && !opts.delay;\n  var scheduler = createSchedulerFromOptions(opts);\n  var firstTime = true;\n  var isScheduled = false;\n  var value;\n  var oldValue;\n  var equals = opts.compareStructural ? comparer.structural : opts.equals || comparer[\"default\"];\n  var r2 = new Reaction(name, function() {\n    if (firstTime || runSync) {\n      reactionRunner();\n    } else if (!isScheduled) {\n      isScheduled = true;\n      scheduler(reactionRunner);\n    }\n  }, opts.onError, opts.requiresObservable);\n  function reactionRunner() {\n    isScheduled = false;\n    if (r2.isDisposed_) {\n      return;\n    }\n    var changed = false;\n    r2.track(function() {\n      var nextValue = allowStateChanges(false, function() {\n        return expression(r2);\n      });\n      changed = firstTime || !equals(value, nextValue);\n      oldValue = value;\n      value = nextValue;\n    });\n    if (firstTime && opts.fireImmediately) {\n      effectAction(value, oldValue, r2);\n    } else if (!firstTime && changed) {\n      effectAction(value, oldValue, r2);\n    }\n    firstTime = false;\n  }\n  r2.schedule_();\n  return r2.getDisposer_();\n}\nfunction wrapErrorHandler(errorHandler, baseFn) {\n  return function() {\n    try {\n      return baseFn.apply(this, arguments);\n    } catch (e) {\n      errorHandler.call(this, e);\n    }\n  };\n}\nvar ON_BECOME_OBSERVED = \"onBO\";\nvar ON_BECOME_UNOBSERVED = \"onBUO\";\nfunction onBecomeObserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);\n}\nfunction onBecomeUnobserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);\n}\nfunction interceptHook(hook, thing, arg2, arg3) {\n  var atom = typeof arg3 === \"function\" ? getAtom(thing, arg2) : getAtom(thing);\n  var cb = isFunction(arg3) ? arg3 : arg2;\n  var listenersKey = hook + \"L\";\n  if (atom[listenersKey]) {\n    atom[listenersKey].add(cb);\n  } else {\n    atom[listenersKey] = \/* @__PURE__ *\/ new Set([cb]);\n  }\n  return function() {\n    var hookListeners = atom[listenersKey];\n    if (hookListeners) {\n      hookListeners[\"delete\"](cb);\n      if (hookListeners.size === 0) {\n        delete atom[listenersKey];\n      }\n    }\n  };\n}\nvar NEVER = \"never\";\nvar ALWAYS = \"always\";\nvar OBSERVED = \"observed\";\nfunction configure(options) {\n  if (options.isolateGlobalState === true) {\n    isolateGlobalState();\n  }\n  var useProxies = options.useProxies, enforceActions = options.enforceActions;\n  if (useProxies !== void 0) {\n    globalState.useProxies = useProxies === ALWAYS ? true : useProxies === NEVER ? false : typeof Proxy !== \"undefined\";\n  }\n  if (useProxies === \"ifavailable\") {\n    globalState.verifyProxies = true;\n  }\n  if (enforceActions !== void 0) {\n    var ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;\n    globalState.enforceActions = ea;\n    globalState.allowStateChanges = ea === true || ea === ALWAYS ? false : true;\n  }\n  [\"computedRequiresReaction\", \"reactionRequiresObservable\", \"observableRequiresReaction\", \"disableErrorBoundaries\", \"safeDescriptors\"].forEach(function(key) {\n    if (key in options) {\n      globalState[key] = !!options[key];\n    }\n  });\n  globalState.allowStateReads = !globalState.observableRequiresReaction;\n  if (false) {\n    console.warn(\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\");\n  }\n  if (options.reactionScheduler) {\n    setReactionScheduler(options.reactionScheduler);\n  }\n}\nfunction extendObservable(target, properties, annotations, options) {\n  if (false) {\n    if (arguments.length > 4) {\n      die(\"'extendObservable' expected 2-4 arguments\");\n    }\n    if (typeof target !== \"object\") {\n      die(\"'extendObservable' expects an object as first argument\");\n    }\n    if (isObservableMap(target)) {\n      die(\"'extendObservable' should not be used on maps, use map.merge instead\");\n    }\n    if (!isPlainObject(properties)) {\n      die(\"'extendObservable' only accepts plain objects as second argument\");\n    }\n    if (isObservable(properties) || isObservable(annotations)) {\n      die(\"Extending an object with another observable (object) is not supported\");\n    }\n  }\n  var descriptors = getOwnPropertyDescriptors(properties);\n  var adm = asObservableObject(target, options)[$mobx];\n  startBatch();\n  try {\n    ownKeys(descriptors).forEach(function(key) {\n      adm.extend_(\n        key,\n        descriptors[key],\n        !annotations ? true : key in annotations ? annotations[key] : true\n      );\n    });\n  } finally {\n    endBatch();\n  }\n  return target;\n}\nfunction getDependencyTree(thing, property) {\n  return nodeToDependencyTree(getAtom(thing, property));\n}\nfunction nodeToDependencyTree(node) {\n  var result = {\n    name: node.name_\n  };\n  if (node.observing_ && node.observing_.length > 0) {\n    result.dependencies = unique(node.observing_).map(nodeToDependencyTree);\n  }\n  return result;\n}\nfunction unique(list) {\n  return Array.from(new Set(list));\n}\nvar generatorId = 0;\nfunction FlowCancellationError() {\n  this.message = \"FLOW_CANCELLED\";\n}\nFlowCancellationError.prototype = \/* @__PURE__ *\/ Object.create(Error.prototype);\nvar flowAnnotation = \/* @__PURE__ *\/ createFlowAnnotation(\"flow\");\nvar flowBoundAnnotation = \/* @__PURE__ *\/ createFlowAnnotation(\"flow.bound\", {\n  bound: true\n});\nvar flow = \/* @__PURE__ *\/ Object.assign(function flow2(arg1, arg2) {\n  if (isStringish(arg2)) {\n    return storeAnnotation(arg1, arg2, flowAnnotation);\n  }\n  if (false) {\n    die(\"Flow expects single argument with generator function\");\n  }\n  var generator = arg1;\n  var name = generator.name || \"<unnamed flow>\";\n  var res = function res2() {\n    var ctx = this;\n    var args = arguments;\n    var runId = ++generatorId;\n    var gen = action(name + \" - runid: \" + runId + \" - init\", generator).apply(ctx, args);\n    var rejector;\n    var pendingPromise = void 0;\n    var promise = new Promise(function(resolve, reject) {\n      var stepId = 0;\n      rejector = reject;\n      function onFulfilled(res3) {\n        pendingPromise = void 0;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen.next).call(gen, res3);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function onRejected(err) {\n        pendingPromise = void 0;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen[\"throw\"]).call(gen, err);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function next(ret) {\n        if (isFunction(ret == null ? void 0 : ret.then)) {\n          ret.then(next, reject);\n          return;\n        }\n        if (ret.done) {\n          return resolve(ret.value);\n        }\n        pendingPromise = Promise.resolve(ret.value);\n        return pendingPromise.then(onFulfilled, onRejected);\n      }\n      onFulfilled(void 0);\n    });\n    promise.cancel = action(name + \" - runid: \" + runId + \" - cancel\", function() {\n      try {\n        if (pendingPromise) {\n          cancelPromise(pendingPromise);\n        }\n        var _res = gen[\"return\"](void 0);\n        var yieldedPromise = Promise.resolve(_res.value);\n        yieldedPromise.then(noop, noop);\n        cancelPromise(yieldedPromise);\n        rejector(new FlowCancellationError());\n      } catch (e) {\n        rejector(e);\n      }\n    });\n    return promise;\n  };\n  res.isMobXFlow = true;\n  return res;\n}, flowAnnotation);\nflow.bound = \/* @__PURE__ *\/ createDecoratorAnnotation(flowBoundAnnotation);\nfunction cancelPromise(promise) {\n  if (isFunction(promise.cancel)) {\n    promise.cancel();\n  }\n}\nfunction isFlow(fn) {\n  return (fn == null ? void 0 : fn.isMobXFlow) === true;\n}\nfunction _isObservable(value, property) {\n  if (!value) {\n    return false;\n  }\n  if (property !== void 0) {\n    if (false) {\n      return die(\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\");\n    }\n    if (isObservableObject(value)) {\n      return value[$mobx].values_.has(property);\n    }\n    return false;\n  }\n  return isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);\n}\nfunction isObservable(value) {\n  if (false) {\n    die(\"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property\");\n  }\n  return _isObservable(value);\n}\nfunction apiOwnKeys(obj) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].ownKeys_();\n  }\n  die(38);\n}\nfunction cache(map3, key, value) {\n  map3.set(key, value);\n  return value;\n}\nfunction toJSHelper(source, __alreadySeen) {\n  if (source == null || typeof source !== \"object\" || source instanceof Date || !isObservable(source)) {\n    return source;\n  }\n  if (isObservableValue(source) || isComputedValue(source)) {\n    return toJSHelper(source.get(), __alreadySeen);\n  }\n  if (__alreadySeen.has(source)) {\n    return __alreadySeen.get(source);\n  }\n  if (isObservableArray(source)) {\n    var res = cache(__alreadySeen, source, new Array(source.length));\n    source.forEach(function(value, idx) {\n      res[idx] = toJSHelper(value, __alreadySeen);\n    });\n    return res;\n  }\n  if (isObservableSet(source)) {\n    var _res = cache(__alreadySeen, source, \/* @__PURE__ *\/ new Set());\n    source.forEach(function(value) {\n      _res.add(toJSHelper(value, __alreadySeen));\n    });\n    return _res;\n  }\n  if (isObservableMap(source)) {\n    var _res2 = cache(__alreadySeen, source, \/* @__PURE__ *\/ new Map());\n    source.forEach(function(value, key) {\n      _res2.set(key, toJSHelper(value, __alreadySeen));\n    });\n    return _res2;\n  } else {\n    var _res3 = cache(__alreadySeen, source, {});\n    apiOwnKeys(source).forEach(function(key) {\n      if (objectPrototype.propertyIsEnumerable.call(source, key)) {\n        _res3[key] = toJSHelper(source[key], __alreadySeen);\n      }\n    });\n    return _res3;\n  }\n}\nfunction toJS(source, options) {\n  if (false) {\n    die(\"toJS no longer supports options\");\n  }\n  return toJSHelper(source, \/* @__PURE__ *\/ new Map());\n}\nfunction trace() {\n  if (true) {\n    die(\"trace() is not available in production builds\");\n  }\n  var enterBreakPoint = false;\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (typeof args[args.length - 1] === \"boolean\") {\n    enterBreakPoint = args.pop();\n  }\n  var derivation = getAtomFromArgs(args);\n  if (!derivation) {\n    return die(\"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly\");\n  }\n  if (derivation.isTracing_ === TraceMode.NONE) {\n    console.log(\"[mobx.trace] '\" + derivation.name_ + \"' tracing enabled\");\n  }\n  derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n}\nfunction getAtomFromArgs(args) {\n  switch (args.length) {\n    case 0:\n      return globalState.trackingDerivation;\n    case 1:\n      return getAtom(args[0]);\n    case 2:\n      return getAtom(args[0], args[1]);\n  }\n}\nfunction transaction(action2, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = void 0;\n  }\n  startBatch();\n  try {\n    return action2.apply(thisArg);\n  } finally {\n    endBatch();\n  }\n}\nfunction getAdm(target) {\n  return target[$mobx];\n}\nvar objectProxyTraps = {\n  has: function has(target, name) {\n    if (false) {\n      warnAboutProxyRequirement(\"detect new properties using the 'in' operator. Use 'has' from 'mobx' instead.\");\n    }\n    return getAdm(target).has_(name);\n  },\n  get: function get(target, name) {\n    return getAdm(target).get_(name);\n  },\n  set: function set2(target, name, value) {\n    var _getAdm$set_;\n    if (!isStringish(name)) {\n      return false;\n    }\n    if (false) {\n      warnAboutProxyRequirement(\"add a new observable property through direct assignment. Use 'set' from 'mobx' instead.\");\n    }\n    return (_getAdm$set_ = getAdm(target).set_(name, value, true)) != null ? _getAdm$set_ : true;\n  },\n  deleteProperty: function deleteProperty(target, name) {\n    var _getAdm$delete_;\n    if (false) {\n      warnAboutProxyRequirement(\"delete properties from an observable object. Use 'remove' from 'mobx' instead.\");\n    }\n    if (!isStringish(name)) {\n      return false;\n    }\n    return (_getAdm$delete_ = getAdm(target).delete_(name, true)) != null ? _getAdm$delete_ : true;\n  },\n  defineProperty: function defineProperty2(target, name, descriptor) {\n    var _getAdm$definePropert;\n    if (false) {\n      warnAboutProxyRequirement(\"define property on an observable object. Use 'defineProperty' from 'mobx' instead.\");\n    }\n    return (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != null ? _getAdm$definePropert : true;\n  },\n  ownKeys: function ownKeys2(target) {\n    if (false) {\n      warnAboutProxyRequirement(\"iterate keys to detect added \/ removed properties. Use 'keys' from 'mobx' instead.\");\n    }\n    return getAdm(target).ownKeys_();\n  },\n  preventExtensions: function preventExtensions(target) {\n    die(13);\n  }\n};\nfunction asDynamicObservableObject(target, options) {\n  var _target$$mobx, _target$$mobx$proxy_;\n  assertProxies();\n  target = asObservableObject(target, options);\n  return (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != null ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = new Proxy(target, objectProxyTraps);\n}\nfunction hasInterceptors(interceptable) {\n  return interceptable.interceptors_ !== void 0 && interceptable.interceptors_.length > 0;\n}\nfunction registerInterceptor(interceptable, handler) {\n  var interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);\n  interceptors.push(handler);\n  return once(function() {\n    var idx = interceptors.indexOf(handler);\n    if (idx !== -1) {\n      interceptors.splice(idx, 1);\n    }\n  });\n}\nfunction interceptChange(interceptable, change) {\n  var prevU = untrackedStart();\n  try {\n    var interceptors = [].concat(interceptable.interceptors_ || []);\n    for (var i2 = 0, l3 = interceptors.length; i2 < l3; i2++) {\n      change = interceptors[i2](change);\n      if (change && !change.type) {\n        die(14);\n      }\n      if (!change) {\n        break;\n      }\n    }\n    return change;\n  } finally {\n    untrackedEnd(prevU);\n  }\n}\nfunction hasListeners(listenable) {\n  return listenable.changeListeners_ !== void 0 && listenable.changeListeners_.length > 0;\n}\nfunction registerListener(listenable, handler) {\n  var listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);\n  listeners.push(handler);\n  return once(function() {\n    var idx = listeners.indexOf(handler);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n  });\n}\nfunction notifyListeners(listenable, change) {\n  var prevU = untrackedStart();\n  var listeners = listenable.changeListeners_;\n  if (!listeners) {\n    return;\n  }\n  listeners = listeners.slice();\n  for (var i2 = 0, l3 = listeners.length; i2 < l3; i2++) {\n    listeners[i2](change);\n  }\n  untrackedEnd(prevU);\n}\nfunction makeObservable(target, annotations, options) {\n  var adm = asObservableObject(target, options)[$mobx];\n  startBatch();\n  try {\n    var _annotations;\n    if (false) {\n      die(\"makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported.\");\n    }\n    (_annotations = annotations) != null ? _annotations : annotations = collectStoredAnnotations(target);\n    ownKeys(annotations).forEach(function(key) {\n      return adm.make_(key, annotations[key]);\n    });\n  } finally {\n    endBatch();\n  }\n  return target;\n}\nvar SPLICE = \"splice\";\nvar UPDATE = \"update\";\nvar MAX_SPLICE_SIZE = 1e4;\nvar arrayTraps = {\n  get: function get2(target, name) {\n    var adm = target[$mobx];\n    if (name === $mobx) {\n      return adm;\n    }\n    if (name === \"length\") {\n      return adm.getArrayLength_();\n    }\n    if (typeof name === \"string\" && !isNaN(name)) {\n      return adm.get_(parseInt(name));\n    }\n    if (hasProp(arrayExtensions, name)) {\n      return arrayExtensions[name];\n    }\n    return target[name];\n  },\n  set: function set3(target, name, value) {\n    var adm = target[$mobx];\n    if (name === \"length\") {\n      adm.setArrayLength_(value);\n    }\n    if (typeof name === \"symbol\" || isNaN(name)) {\n      target[name] = value;\n    } else {\n      adm.set_(parseInt(name), value);\n    }\n    return true;\n  },\n  preventExtensions: function preventExtensions2() {\n    die(15);\n  }\n};\nvar ObservableArrayAdministration = \/* @__PURE__ *\/ function() {\n  function ObservableArrayAdministration2(name, enhancer, owned_, legacyMode_) {\n    if (name === void 0) {\n      name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    this.owned_ = void 0;\n    this.legacyMode_ = void 0;\n    this.atom_ = void 0;\n    this.values_ = [];\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.enhancer_ = void 0;\n    this.dehancer = void 0;\n    this.proxy_ = void 0;\n    this.lastKnownLength_ = 0;\n    this.owned_ = owned_;\n    this.legacyMode_ = legacyMode_;\n    this.atom_ = new Atom(name);\n    this.enhancer_ = function(newV, oldV) {\n      return enhancer(newV, oldV, false ? name + \"[..]\" : \"ObservableArray[..]\");\n    };\n  }\n  var _proto = ObservableArrayAdministration2.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.dehanceValues_ = function dehanceValues_(values) {\n    if (this.dehancer !== void 0 && values.length > 0) {\n      return values.map(this.dehancer);\n    }\n    return values;\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately === void 0) {\n      fireImmediately = false;\n    }\n    if (fireImmediately) {\n      listener({\n        observableKind: \"array\",\n        object: this.proxy_,\n        debugObjectName: this.atom_.name_,\n        type: \"splice\",\n        index: 0,\n        added: this.values_.slice(),\n        addedCount: this.values_.length,\n        removed: [],\n        removedCount: 0\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.getArrayLength_ = function getArrayLength_() {\n    this.atom_.reportObserved();\n    return this.values_.length;\n  };\n  _proto.setArrayLength_ = function setArrayLength_(newLength) {\n    if (typeof newLength !== \"number\" || isNaN(newLength) || newLength < 0) {\n      die(\"Out of range: \" + newLength);\n    }\n    var currentLength = this.values_.length;\n    if (newLength === currentLength) {\n      return;\n    } else if (newLength > currentLength) {\n      var newItems = new Array(newLength - currentLength);\n      for (var i2 = 0; i2 < newLength - currentLength; i2++) {\n        newItems[i2] = void 0;\n      }\n      this.spliceWithArray_(currentLength, 0, newItems);\n    } else {\n      this.spliceWithArray_(newLength, currentLength - newLength);\n    }\n  };\n  _proto.updateArrayLength_ = function updateArrayLength_(oldLength, delta) {\n    if (oldLength !== this.lastKnownLength_) {\n      die(16);\n    }\n    this.lastKnownLength_ += delta;\n    if (this.legacyMode_ && delta > 0) {\n      reserveArrayBuffer(oldLength + delta + 1);\n    }\n  };\n  _proto.spliceWithArray_ = function spliceWithArray_(index2, deleteCount, newItems) {\n    var _this = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    var length = this.values_.length;\n    if (index2 === void 0) {\n      index2 = 0;\n    } else if (index2 > length) {\n      index2 = length;\n    } else if (index2 < 0) {\n      index2 = Math.max(0, length + index2);\n    }\n    if (arguments.length === 1) {\n      deleteCount = length - index2;\n    } else if (deleteCount === void 0 || deleteCount === null) {\n      deleteCount = 0;\n    } else {\n      deleteCount = Math.max(0, Math.min(deleteCount, length - index2));\n    }\n    if (newItems === void 0) {\n      newItems = EMPTY_ARRAY;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_,\n        type: SPLICE,\n        index: index2,\n        removedCount: deleteCount,\n        added: newItems\n      });\n      if (!change) {\n        return EMPTY_ARRAY;\n      }\n      deleteCount = change.removedCount;\n      newItems = change.added;\n    }\n    newItems = newItems.length === 0 ? newItems : newItems.map(function(v2) {\n      return _this.enhancer_(v2, void 0);\n    });\n    if (this.legacyMode_ || false) {\n      var lengthDelta = newItems.length - deleteCount;\n      this.updateArrayLength_(length, lengthDelta);\n    }\n    var res = this.spliceItemsIntoValues_(index2, deleteCount, newItems);\n    if (deleteCount !== 0 || newItems.length !== 0) {\n      this.notifyArraySplice_(index2, newItems, res);\n    }\n    return this.dehanceValues_(res);\n  };\n  _proto.spliceItemsIntoValues_ = function spliceItemsIntoValues_(index2, deleteCount, newItems) {\n    if (newItems.length < MAX_SPLICE_SIZE) {\n      var _this$values_;\n      return (_this$values_ = this.values_).splice.apply(_this$values_, [index2, deleteCount].concat(newItems));\n    } else {\n      var res = this.values_.slice(index2, index2 + deleteCount);\n      var oldItems = this.values_.slice(index2 + deleteCount);\n      this.values_.length += newItems.length - deleteCount;\n      for (var i2 = 0; i2 < newItems.length; i2++) {\n        this.values_[index2 + i2] = newItems[i2];\n      }\n      for (var _i = 0; _i < oldItems.length; _i++) {\n        this.values_[index2 + newItems.length + _i] = oldItems[_i];\n      }\n      return res;\n    }\n  };\n  _proto.notifyArrayChildUpdate_ = function notifyArrayChildUpdate_(index2, newValue, oldValue) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      type: UPDATE,\n      debugObjectName: this.atom_.name_,\n      index: index2,\n      newValue,\n      oldValue\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.notifyArraySplice_ = function notifyArraySplice_(index2, added, removed) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      debugObjectName: this.atom_.name_,\n      type: SPLICE,\n      index: index2,\n      removed,\n      added,\n      removedCount: removed.length,\n      addedCount: added.length\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.get_ = function get_(index2) {\n    if (this.legacyMode_ && index2 >= this.values_.length) {\n      console.warn(false ? \"[mobx.array] Attempt to read an array index (\" + index2 + \") that is out of bounds (\" + this.values_.length + \"). Please check length first. Out of bound indices will not be tracked by MobX\" : \"[mobx] Out of bounds read: \" + index2);\n      return void 0;\n    }\n    this.atom_.reportObserved();\n    return this.dehanceValue_(this.values_[index2]);\n  };\n  _proto.set_ = function set_(index2, newValue) {\n    var values = this.values_;\n    if (this.legacyMode_ && index2 > values.length) {\n      die(17, index2, values.length);\n    }\n    if (index2 < values.length) {\n      checkIfStateModificationsAreAllowed(this.atom_);\n      var oldValue = values[index2];\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          type: UPDATE,\n          object: this.proxy_,\n          index: index2,\n          newValue\n        });\n        if (!change) {\n          return;\n        }\n        newValue = change.newValue;\n      }\n      newValue = this.enhancer_(newValue, oldValue);\n      var changed = newValue !== oldValue;\n      if (changed) {\n        values[index2] = newValue;\n        this.notifyArrayChildUpdate_(index2, newValue, oldValue);\n      }\n    } else {\n      var newItems = new Array(index2 + 1 - values.length);\n      for (var i2 = 0; i2 < newItems.length - 1; i2++) {\n        newItems[i2] = void 0;\n      }\n      newItems[newItems.length - 1] = newValue;\n      this.spliceWithArray_(values.length, 0, newItems);\n    }\n  };\n  return ObservableArrayAdministration2;\n}();\nfunction createObservableArray(initialValues, enhancer, name, owned) {\n  if (name === void 0) {\n    name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n  }\n  if (owned === void 0) {\n    owned = false;\n  }\n  assertProxies();\n  var adm = new ObservableArrayAdministration(name, enhancer, owned, false);\n  addHiddenFinalProp(adm.values_, $mobx, adm);\n  var proxy = new Proxy(adm.values_, arrayTraps);\n  adm.proxy_ = proxy;\n  if (initialValues && initialValues.length) {\n    var prev = allowStateChangesStart(true);\n    adm.spliceWithArray_(0, 0, initialValues);\n    allowStateChangesEnd(prev);\n  }\n  return proxy;\n}\nvar arrayExtensions = {\n  clear: function clear() {\n    return this.splice(0);\n  },\n  replace: function replace(newItems) {\n    var adm = this[$mobx];\n    return adm.spliceWithArray_(0, adm.values_.length, newItems);\n  },\n  toJSON: function toJSON() {\n    return this.slice();\n  },\n  splice: function splice(index2, deleteCount) {\n    for (var _len = arguments.length, newItems = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      newItems[_key - 2] = arguments[_key];\n    }\n    var adm = this[$mobx];\n    switch (arguments.length) {\n      case 0:\n        return [];\n      case 1:\n        return adm.spliceWithArray_(index2);\n      case 2:\n        return adm.spliceWithArray_(index2, deleteCount);\n    }\n    return adm.spliceWithArray_(index2, deleteCount, newItems);\n  },\n  spliceWithArray: function spliceWithArray(index2, deleteCount, newItems) {\n    return this[$mobx].spliceWithArray_(index2, deleteCount, newItems);\n  },\n  push: function push() {\n    var adm = this[$mobx];\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n    adm.spliceWithArray_(adm.values_.length, 0, items);\n    return adm.values_.length;\n  },\n  pop: function pop() {\n    return this.splice(Math.max(this[$mobx].values_.length - 1, 0), 1)[0];\n  },\n  shift: function shift() {\n    return this.splice(0, 1)[0];\n  },\n  unshift: function unshift() {\n    var adm = this[$mobx];\n    for (var _len3 = arguments.length, items = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      items[_key3] = arguments[_key3];\n    }\n    adm.spliceWithArray_(0, 0, items);\n    return adm.values_.length;\n  },\n  reverse: function reverse() {\n    if (globalState.trackingDerivation) {\n      die(37, \"reverse\");\n    }\n    this.replace(this.slice().reverse());\n    return this;\n  },\n  sort: function sort() {\n    if (globalState.trackingDerivation) {\n      die(37, \"sort\");\n    }\n    var copy = this.slice();\n    copy.sort.apply(copy, arguments);\n    this.replace(copy);\n    return this;\n  },\n  remove: function remove(value) {\n    var adm = this[$mobx];\n    var idx = adm.dehanceValues_(adm.values_).indexOf(value);\n    if (idx > -1) {\n      this.splice(idx, 1);\n      return true;\n    }\n    return false;\n  }\n};\naddArrayExtension(\"concat\", simpleFunc);\naddArrayExtension(\"flat\", simpleFunc);\naddArrayExtension(\"includes\", simpleFunc);\naddArrayExtension(\"indexOf\", simpleFunc);\naddArrayExtension(\"join\", simpleFunc);\naddArrayExtension(\"lastIndexOf\", simpleFunc);\naddArrayExtension(\"slice\", simpleFunc);\naddArrayExtension(\"toString\", simpleFunc);\naddArrayExtension(\"toLocaleString\", simpleFunc);\naddArrayExtension(\"every\", mapLikeFunc);\naddArrayExtension(\"filter\", mapLikeFunc);\naddArrayExtension(\"find\", mapLikeFunc);\naddArrayExtension(\"findIndex\", mapLikeFunc);\naddArrayExtension(\"flatMap\", mapLikeFunc);\naddArrayExtension(\"forEach\", mapLikeFunc);\naddArrayExtension(\"map\", mapLikeFunc);\naddArrayExtension(\"some\", mapLikeFunc);\naddArrayExtension(\"reduce\", reduceLikeFunc);\naddArrayExtension(\"reduceRight\", reduceLikeFunc);\nfunction addArrayExtension(funcName, funcFactory) {\n  if (typeof Array.prototype[funcName] === \"function\") {\n    arrayExtensions[funcName] = funcFactory(funcName);\n  }\n}\nfunction simpleFunc(funcName) {\n  return function() {\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\nfunction mapLikeFunc(funcName) {\n  return function(callback, thisArg) {\n    var _this2 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName](function(element, index2) {\n      return callback.call(thisArg, element, index2, _this2);\n    });\n  };\n}\nfunction reduceLikeFunc(funcName) {\n  return function() {\n    var _this3 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    var callback = arguments[0];\n    arguments[0] = function(accumulator, currentValue, index2) {\n      return callback(accumulator, currentValue, index2, _this3);\n    };\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\nvar isObservableArrayAdministration = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableArrayAdministration\", ObservableArrayAdministration);\nfunction isObservableArray(thing) {\n  return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);\n}\nvar _Symbol$iterator;\nvar _Symbol$toStringTag;\nvar ObservableMapMarker = {};\nvar ADD = \"add\";\nvar DELETE = \"delete\";\n_Symbol$iterator = Symbol.iterator;\n_Symbol$toStringTag = Symbol.toStringTag;\nvar ObservableMap = \/* @__PURE__ *\/ function() {\n  function ObservableMap2(initialData, enhancer_, name_) {\n    var _this = this;\n    if (enhancer_ === void 0) {\n      enhancer_ = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableMap@\" + getNextId() : \"ObservableMap\";\n    }\n    this.enhancer_ = void 0;\n    this.name_ = void 0;\n    this[$mobx] = ObservableMapMarker;\n    this.data_ = void 0;\n    this.hasMap_ = void 0;\n    this.keysAtom_ = void 0;\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = enhancer_;\n    this.name_ = name_;\n    if (!isFunction(Map)) {\n      die(18);\n    }\n    this.keysAtom_ = createAtom(false ? this.name_ + \".keys()\" : \"ObservableMap.keys()\");\n    this.data_ = \/* @__PURE__ *\/ new Map();\n    this.hasMap_ = \/* @__PURE__ *\/ new Map();\n    allowStateChanges(true, function() {\n      _this.merge(initialData);\n    });\n  }\n  var _proto = ObservableMap2.prototype;\n  _proto.has_ = function has_(key) {\n    return this.data_.has(key);\n  };\n  _proto.has = function has2(key) {\n    var _this2 = this;\n    if (!globalState.trackingDerivation) {\n      return this.has_(key);\n    }\n    var entry = this.hasMap_.get(key);\n    if (!entry) {\n      var newEntry = entry = new ObservableValue(this.has_(key), referenceEnhancer, false ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableMap.key?\", false);\n      this.hasMap_.set(key, newEntry);\n      onBecomeUnobserved(newEntry, function() {\n        return _this2.hasMap_[\"delete\"](key);\n      });\n    }\n    return entry.get();\n  };\n  _proto.set = function set4(key, value) {\n    var hasKey = this.has_(key);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: hasKey ? UPDATE : ADD,\n        object: this,\n        newValue: value,\n        name: key\n      });\n      if (!change) {\n        return this;\n      }\n      value = change.newValue;\n    }\n    if (hasKey) {\n      this.updateValue_(key, value);\n    } else {\n      this.addValue_(key, value);\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(key) {\n    var _this3 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        name: key\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has_(key)) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: this.data_.get(key).value_,\n        name: key\n      } : null;\n      if (false) {\n        spyReportStart(_change);\n      }\n      transaction(function() {\n        var _this3$hasMap_$get;\n        _this3.keysAtom_.reportChanged();\n        (_this3$hasMap_$get = _this3.hasMap_.get(key)) == null ? void 0 : _this3$hasMap_$get.setNewValue_(false);\n        var observable2 = _this3.data_.get(key);\n        observable2.setNewValue_(void 0);\n        _this3.data_[\"delete\"](key);\n      });\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.updateValue_ = function updateValue_(key, newValue) {\n    var observable2 = this.data_.get(key);\n    newValue = observable2.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: UPDATE,\n        object: this,\n        oldValue: observable2.value_,\n        name: key,\n        newValue\n      } : null;\n      if (false) {\n        spyReportStart(change);\n      }\n      observable2.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.addValue_ = function addValue_(key, newValue) {\n    var _this4 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    transaction(function() {\n      var _this4$hasMap_$get;\n      var observable2 = new ObservableValue(newValue, _this4.enhancer_, false ? _this4.name_ + \".\" + stringifyKey(key) : \"ObservableMap.key\", false);\n      _this4.data_.set(key, observable2);\n      newValue = observable2.value_;\n      (_this4$hasMap_$get = _this4.hasMap_.get(key)) == null ? void 0 : _this4$hasMap_$get.setNewValue_(true);\n      _this4.keysAtom_.reportChanged();\n    });\n    var notifySpy = isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"map\",\n      debugObjectName: this.name_,\n      type: ADD,\n      object: this,\n      name: key,\n      newValue\n    } : null;\n    if (false) {\n      spyReportStart(change);\n    }\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (false) {\n      spyReportEnd();\n    }\n  };\n  _proto.get = function get3(key) {\n    if (this.has(key)) {\n      return this.dehanceValue_(this.data_.get(key).get());\n    }\n    return this.dehanceValue_(void 0);\n  };\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.keys = function keys() {\n    this.keysAtom_.reportObserved();\n    return this.data_.keys();\n  };\n  _proto.values = function values() {\n    var self2 = this;\n    var keys = this.keys();\n    return makeIterable({\n      next: function next() {\n        var _keys$next = keys.next(), done = _keys$next.done, value = _keys$next.value;\n        return {\n          done,\n          value: done ? void 0 : self2.get(value)\n        };\n      }\n    });\n  };\n  _proto.entries = function entries() {\n    var self2 = this;\n    var keys = this.keys();\n    return makeIterable({\n      next: function next() {\n        var _keys$next2 = keys.next(), done = _keys$next2.done, value = _keys$next2.value;\n        return {\n          done,\n          value: done ? void 0 : [value, self2.get(value)]\n        };\n      }\n    });\n  };\n  _proto[_Symbol$iterator] = function() {\n    return this.entries();\n  };\n  _proto.forEach = function forEach(callback, thisArg) {\n    for (var _iterator = _createForOfIteratorHelperLoose(this), _step; !(_step = _iterator()).done; ) {\n      var _step$value = _step.value, key = _step$value[0], value = _step$value[1];\n      callback.call(thisArg, value, key, this);\n    }\n  };\n  _proto.merge = function merge2(other) {\n    var _this5 = this;\n    if (isObservableMap(other)) {\n      other = new Map(other);\n    }\n    transaction(function() {\n      if (isPlainObject(other)) {\n        getPlainObjectKeys(other).forEach(function(key) {\n          return _this5.set(key, other[key]);\n        });\n      } else if (Array.isArray(other)) {\n        other.forEach(function(_ref) {\n          var key = _ref[0], value = _ref[1];\n          return _this5.set(key, value);\n        });\n      } else if (isES6Map(other)) {\n        if (other.constructor !== Map) {\n          die(19, other);\n        }\n        other.forEach(function(value, key) {\n          return _this5.set(key, value);\n        });\n      } else if (other !== null && other !== void 0) {\n        die(20, other);\n      }\n    });\n    return this;\n  };\n  _proto.clear = function clear2() {\n    var _this6 = this;\n    transaction(function() {\n      untracked(function() {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(_this6.keys()), _step2; !(_step2 = _iterator2()).done; ) {\n          var key = _step2.value;\n          _this6[\"delete\"](key);\n        }\n      });\n    });\n  };\n  _proto.replace = function replace2(values) {\n    var _this7 = this;\n    transaction(function() {\n      var replacementMap = convertToMap(values);\n      var orderedData = \/* @__PURE__ *\/ new Map();\n      var keysReportChangedCalled = false;\n      for (var _iterator3 = _createForOfIteratorHelperLoose(_this7.data_.keys()), _step3; !(_step3 = _iterator3()).done; ) {\n        var key = _step3.value;\n        if (!replacementMap.has(key)) {\n          var deleted = _this7[\"delete\"](key);\n          if (deleted) {\n            keysReportChangedCalled = true;\n          } else {\n            var value = _this7.data_.get(key);\n            orderedData.set(key, value);\n          }\n        }\n      }\n      for (var _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done; ) {\n        var _step4$value = _step4.value, _key = _step4$value[0], _value = _step4$value[1];\n        var keyExisted = _this7.data_.has(_key);\n        _this7.set(_key, _value);\n        if (_this7.data_.has(_key)) {\n          var _value2 = _this7.data_.get(_key);\n          orderedData.set(_key, _value2);\n          if (!keyExisted) {\n            keysReportChangedCalled = true;\n          }\n        }\n      }\n      if (!keysReportChangedCalled) {\n        if (_this7.data_.size !== orderedData.size) {\n          _this7.keysAtom_.reportChanged();\n        } else {\n          var iter1 = _this7.data_.keys();\n          var iter2 = orderedData.keys();\n          var next1 = iter1.next();\n          var next2 = iter2.next();\n          while (!next1.done) {\n            if (next1.value !== next2.value) {\n              _this7.keysAtom_.reportChanged();\n              break;\n            }\n            next1 = iter1.next();\n            next2 = iter2.next();\n          }\n        }\n      }\n      _this7.data_ = orderedData;\n    });\n    return this;\n  };\n  _proto.toString = function toString2() {\n    return \"[object ObservableMap]\";\n  };\n  _proto.toJSON = function toJSON2() {\n    return Array.from(this);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with maps.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _createClass(ObservableMap2, [{\n    key: \"size\",\n    get: function get3() {\n      this.keysAtom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: _Symbol$toStringTag,\n    get: function get3() {\n      return \"Map\";\n    }\n  }]);\n  return ObservableMap2;\n}();\nvar isObservableMap = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableMap\", ObservableMap);\nfunction convertToMap(dataStructure) {\n  if (isES6Map(dataStructure) || isObservableMap(dataStructure)) {\n    return dataStructure;\n  } else if (Array.isArray(dataStructure)) {\n    return new Map(dataStructure);\n  } else if (isPlainObject(dataStructure)) {\n    var map3 = \/* @__PURE__ *\/ new Map();\n    for (var key in dataStructure) {\n      map3.set(key, dataStructure[key]);\n    }\n    return map3;\n  } else {\n    return die(21, dataStructure);\n  }\n}\nvar _Symbol$iterator$1;\nvar _Symbol$toStringTag$1;\nvar ObservableSetMarker = {};\n_Symbol$iterator$1 = Symbol.iterator;\n_Symbol$toStringTag$1 = Symbol.toStringTag;\nvar ObservableSet = \/* @__PURE__ *\/ function() {\n  function ObservableSet2(initialData, enhancer, name_) {\n    if (enhancer === void 0) {\n      enhancer = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = false ? \"ObservableSet@\" + getNextId() : \"ObservableSet\";\n    }\n    this.name_ = void 0;\n    this[$mobx] = ObservableSetMarker;\n    this.data_ = \/* @__PURE__ *\/ new Set();\n    this.atom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = void 0;\n    this.name_ = name_;\n    if (!isFunction(Set)) {\n      die(22);\n    }\n    this.atom_ = createAtom(this.name_);\n    this.enhancer_ = function(newV, oldV) {\n      return enhancer(newV, oldV, name_);\n    };\n    if (initialData) {\n      this.replace(initialData);\n    }\n  }\n  var _proto = ObservableSet2.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== void 0) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.clear = function clear2() {\n    var _this = this;\n    transaction(function() {\n      untracked(function() {\n        for (var _iterator = _createForOfIteratorHelperLoose(_this.data_.values()), _step; !(_step = _iterator()).done; ) {\n          var value = _step.value;\n          _this[\"delete\"](value);\n        }\n      });\n    });\n  };\n  _proto.forEach = function forEach(callbackFn, thisArg) {\n    for (var _iterator2 = _createForOfIteratorHelperLoose(this), _step2; !(_step2 = _iterator2()).done; ) {\n      var value = _step2.value;\n      callbackFn.call(thisArg, value, value, this);\n    }\n  };\n  _proto.add = function add(value) {\n    var _this2 = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: ADD,\n        object: this,\n        newValue: value\n      });\n      if (!change) {\n        return this;\n      }\n    }\n    if (!this.has(value)) {\n      transaction(function() {\n        _this2.data_.add(_this2.enhancer_(value, void 0));\n        _this2.atom_.reportChanged();\n      });\n      var notifySpy = false;\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: ADD,\n        object: this,\n        newValue: value\n      } : null;\n      if (notifySpy && false) {\n        spyReportStart(_change);\n      }\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (notifySpy && false) {\n        spyReportEnd();\n      }\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(value) {\n    var _this3 = this;\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        oldValue: value\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has(value)) {\n      var notifySpy = false;\n      var notify = hasListeners(this);\n      var _change2 = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: value\n      } : null;\n      if (notifySpy && false) {\n        spyReportStart(_change2);\n      }\n      transaction(function() {\n        _this3.atom_.reportChanged();\n        _this3.data_[\"delete\"](value);\n      });\n      if (notify) {\n        notifyListeners(this, _change2);\n      }\n      if (notifySpy && false) {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.has = function has2(value) {\n    this.atom_.reportObserved();\n    return this.data_.has(this.dehanceValue_(value));\n  };\n  _proto.entries = function entries() {\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    var values = Array.from(this.values());\n    return makeIterable({\n      next: function next() {\n        var index2 = nextIndex;\n        nextIndex += 1;\n        return index2 < values.length ? {\n          value: [keys[index2], values[index2]],\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n  _proto.keys = function keys() {\n    return this.values();\n  };\n  _proto.values = function values() {\n    this.atom_.reportObserved();\n    var self2 = this;\n    var nextIndex = 0;\n    var observableValues = Array.from(this.data_.values());\n    return makeIterable({\n      next: function next() {\n        return nextIndex < observableValues.length ? {\n          value: self2.dehanceValue_(observableValues[nextIndex++]),\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n  _proto.replace = function replace2(other) {\n    var _this4 = this;\n    if (isObservableSet(other)) {\n      other = new Set(other);\n    }\n    transaction(function() {\n      if (Array.isArray(other)) {\n        _this4.clear();\n        other.forEach(function(value) {\n          return _this4.add(value);\n        });\n      } else if (isES6Set(other)) {\n        _this4.clear();\n        other.forEach(function(value) {\n          return _this4.add(value);\n        });\n      } else if (other !== null && other !== void 0) {\n        die(\"Cannot initialize set from \" + other);\n      }\n    });\n    return this;\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with sets.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.toJSON = function toJSON2() {\n    return Array.from(this);\n  };\n  _proto.toString = function toString2() {\n    return \"[object ObservableSet]\";\n  };\n  _proto[_Symbol$iterator$1] = function() {\n    return this.values();\n  };\n  _createClass(ObservableSet2, [{\n    key: \"size\",\n    get: function get3() {\n      this.atom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: _Symbol$toStringTag$1,\n    get: function get3() {\n      return \"Set\";\n    }\n  }]);\n  return ObservableSet2;\n}();\nvar isObservableSet = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableSet\", ObservableSet);\nvar descriptorCache = \/* @__PURE__ *\/ Object.create(null);\nvar REMOVE = \"remove\";\nvar ObservableObjectAdministration = \/* @__PURE__ *\/ function() {\n  function ObservableObjectAdministration2(target_, values_, name_, defaultAnnotation_) {\n    if (values_ === void 0) {\n      values_ = \/* @__PURE__ *\/ new Map();\n    }\n    if (defaultAnnotation_ === void 0) {\n      defaultAnnotation_ = autoAnnotation;\n    }\n    this.target_ = void 0;\n    this.values_ = void 0;\n    this.name_ = void 0;\n    this.defaultAnnotation_ = void 0;\n    this.keysAtom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.proxy_ = void 0;\n    this.isPlainObject_ = void 0;\n    this.appliedAnnotations_ = void 0;\n    this.pendingKeys_ = void 0;\n    this.target_ = target_;\n    this.values_ = values_;\n    this.name_ = name_;\n    this.defaultAnnotation_ = defaultAnnotation_;\n    this.keysAtom_ = new Atom(false ? this.name_ + \".keys\" : \"ObservableObject.keys\");\n    this.isPlainObject_ = isPlainObject(this.target_);\n    if (false) {\n      die(\"defaultAnnotation must be valid annotation\");\n    }\n    if (false) {\n      this.appliedAnnotations_ = {};\n    }\n  }\n  var _proto = ObservableObjectAdministration2.prototype;\n  _proto.getObservablePropValue_ = function getObservablePropValue_(key) {\n    return this.values_.get(key).get();\n  };\n  _proto.setObservablePropValue_ = function setObservablePropValue_(key, newValue) {\n    var observable2 = this.values_.get(key);\n    if (observable2 instanceof ComputedValue) {\n      observable2.set(newValue);\n      return true;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: UPDATE,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue\n      });\n      if (!change) {\n        return null;\n      }\n      newValue = change.newValue;\n    }\n    newValue = observable2.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notify = hasListeners(this);\n      var notifySpy = false;\n      var _change = notify || notifySpy ? {\n        type: UPDATE,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        oldValue: observable2.value_,\n        name: key,\n        newValue\n      } : null;\n      if (false) {\n        spyReportStart(_change);\n      }\n      observable2.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n    return true;\n  };\n  _proto.get_ = function get_(key) {\n    if (globalState.trackingDerivation && !hasProp(this.target_, key)) {\n      this.has_(key);\n    }\n    return this.target_[key];\n  };\n  _proto.set_ = function set_(key, value, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (hasProp(this.target_, key)) {\n      if (this.values_.has(key)) {\n        return this.setObservablePropValue_(key, value);\n      } else if (proxyTrap) {\n        return Reflect.set(this.target_, key, value);\n      } else {\n        this.target_[key] = value;\n        return true;\n      }\n    } else {\n      return this.extend_(key, {\n        value,\n        enumerable: true,\n        writable: true,\n        configurable: true\n      }, this.defaultAnnotation_, proxyTrap);\n    }\n  };\n  _proto.has_ = function has_(key) {\n    if (!globalState.trackingDerivation) {\n      return key in this.target_;\n    }\n    this.pendingKeys_ || (this.pendingKeys_ = \/* @__PURE__ *\/ new Map());\n    var entry = this.pendingKeys_.get(key);\n    if (!entry) {\n      entry = new ObservableValue(key in this.target_, referenceEnhancer, false ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableObject.key?\", false);\n      this.pendingKeys_.set(key, entry);\n    }\n    return entry.get();\n  };\n  _proto.make_ = function make_(key, annotation) {\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return;\n    }\n    assertAnnotable(this, annotation, key);\n    if (!(key in this.target_)) {\n      var _this$target_$storedA;\n      if ((_this$target_$storedA = this.target_[storedAnnotationsSymbol]) != null && _this$target_$storedA[key]) {\n        return;\n      } else {\n        die(1, annotation.annotationType_, this.name_ + \".\" + key.toString());\n      }\n    }\n    var source = this.target_;\n    while (source && source !== objectPrototype) {\n      var descriptor = getDescriptor(source, key);\n      if (descriptor) {\n        var outcome = annotation.make_(this, key, descriptor, source);\n        if (outcome === 0) {\n          return;\n        }\n        if (outcome === 1) {\n          break;\n        }\n      }\n      source = Object.getPrototypeOf(source);\n    }\n    recordAnnotationApplied(this, annotation, key);\n  };\n  _proto.extend_ = function extend_(key, descriptor, annotation, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return this.defineProperty_(key, descriptor, proxyTrap);\n    }\n    assertAnnotable(this, annotation, key);\n    var outcome = annotation.extend_(this, key, descriptor, proxyTrap);\n    if (outcome) {\n      recordAnnotationApplied(this, annotation, key);\n    }\n    return outcome;\n  };\n  _proto.defineProperty_ = function defineProperty_(key, descriptor, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: descriptor.value\n        });\n        if (!change) {\n          return null;\n        }\n        var newValue = change.newValue;\n        if (descriptor.value !== newValue) {\n          descriptor = _extends({}, descriptor, {\n            value: newValue\n          });\n        }\n      }\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      this.notifyPropertyAddition_(key, descriptor.value);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.defineObservableProperty_ = function defineObservableProperty_(key, value, enhancer, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: value\n        });\n        if (!change) {\n          return null;\n        }\n        value = change.newValue;\n      }\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: true,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      var observable2 = new ObservableValue(value, enhancer, false ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\", false);\n      this.values_.set(key, observable2);\n      this.notifyPropertyAddition_(key, observable2.value_);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.defineComputedProperty_ = function defineComputedProperty_(key, options, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    try {\n      startBatch();\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        return deleteOutcome;\n      }\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: void 0\n        });\n        if (!change) {\n          return null;\n        }\n      }\n      options.name || (options.name = false ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\");\n      options.context = this.proxy_ || this.target_;\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: false,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      this.values_.set(key, new ComputedValue(options));\n      this.notifyPropertyAddition_(key, void 0);\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.delete_ = function delete_(key, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (!hasProp(this.target_, key)) {\n      return true;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_ || this.target_,\n        name: key,\n        type: REMOVE\n      });\n      if (!change) {\n        return null;\n      }\n    }\n    try {\n      var _this$pendingKeys_, _this$pendingKeys_$ge;\n      startBatch();\n      var notify = hasListeners(this);\n      var notifySpy = false;\n      var observable2 = this.values_.get(key);\n      var value = void 0;\n      if (!observable2 && (notify || notifySpy)) {\n        var _getDescriptor2;\n        value = (_getDescriptor2 = getDescriptor(this.target_, key)) == null ? void 0 : _getDescriptor2.value;\n      }\n      if (proxyTrap) {\n        if (!Reflect.deleteProperty(this.target_, key)) {\n          return false;\n        }\n      } else {\n        delete this.target_[key];\n      }\n      if (false) {\n        delete this.appliedAnnotations_[key];\n      }\n      if (observable2) {\n        this.values_[\"delete\"](key);\n        if (observable2 instanceof ObservableValue) {\n          value = observable2.value_;\n        }\n        propagateChanged(observable2);\n      }\n      this.keysAtom_.reportChanged();\n      (_this$pendingKeys_ = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_$ge = _this$pendingKeys_.get(key)) == null ? void 0 : _this$pendingKeys_$ge.set(key in this.target_);\n      if (notify || notifySpy) {\n        var _change2 = {\n          type: REMOVE,\n          observableKind: \"object\",\n          object: this.proxy_ || this.target_,\n          debugObjectName: this.name_,\n          oldValue: value,\n          name: key\n        };\n        if (false) {\n          spyReportStart(_change2);\n        }\n        if (notify) {\n          notifyListeners(this, _change2);\n        }\n        if (false) {\n          spyReportEnd();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n    return true;\n  };\n  _proto.observe_ = function observe_(callback, fireImmediately) {\n    if (false) {\n      die(\"`observe` doesn't support the fire immediately property for observable objects.\");\n    }\n    return registerListener(this, callback);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.notifyPropertyAddition_ = function notifyPropertyAddition_(key, value) {\n    var _this$pendingKeys_2, _this$pendingKeys_2$g;\n    var notify = hasListeners(this);\n    var notifySpy = false;\n    if (notify || notifySpy) {\n      var change = notify || notifySpy ? {\n        type: ADD,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue: value\n      } : null;\n      if (false) {\n        spyReportStart(change);\n      }\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (false) {\n        spyReportEnd();\n      }\n    }\n    (_this$pendingKeys_2 = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_2$g = _this$pendingKeys_2.get(key)) == null ? void 0 : _this$pendingKeys_2$g.set(true);\n    this.keysAtom_.reportChanged();\n  };\n  _proto.ownKeys_ = function ownKeys_() {\n    this.keysAtom_.reportObserved();\n    return ownKeys(this.target_);\n  };\n  _proto.keys_ = function keys_() {\n    this.keysAtom_.reportObserved();\n    return Object.keys(this.target_);\n  };\n  return ObservableObjectAdministration2;\n}();\nfunction asObservableObject(target, options) {\n  var _options$name;\n  if (false) {\n    die(\"Options can't be provided for already observable objects.\");\n  }\n  if (hasProp(target, $mobx)) {\n    if (false) {\n      die(\"Cannot convert '\" + getDebugName(target) + \"' into observable object:\\nThe target is already observable of different type.\\nExtending builtins is not supported.\");\n    }\n    return target;\n  }\n  if (false) {\n    die(\"Cannot make the designated object observable; it is not extensible\");\n  }\n  var name = (_options$name = options == null ? void 0 : options.name) != null ? _options$name : false ? (isPlainObject(target) ? \"ObservableObject\" : target.constructor.name) + \"@\" + getNextId() : \"ObservableObject\";\n  var adm = new ObservableObjectAdministration(target, \/* @__PURE__ *\/ new Map(), String(name), getAnnotationFromOptions(options));\n  addHiddenProp(target, $mobx, adm);\n  return target;\n}\nvar isObservableObjectAdministration = \/* @__PURE__ *\/ createInstanceofPredicate(\"ObservableObjectAdministration\", ObservableObjectAdministration);\nfunction getCachedObservablePropDescriptor(key) {\n  return descriptorCache[key] || (descriptorCache[key] = {\n    get: function get3() {\n      return this[$mobx].getObservablePropValue_(key);\n    },\n    set: function set4(value) {\n      return this[$mobx].setObservablePropValue_(key, value);\n    }\n  });\n}\nfunction isObservableObject(thing) {\n  if (isObject(thing)) {\n    return isObservableObjectAdministration(thing[$mobx]);\n  }\n  return false;\n}\nfunction recordAnnotationApplied(adm, annotation, key) {\n  var _adm$target_$storedAn;\n  if (false) {\n    adm.appliedAnnotations_[key] = annotation;\n  }\n  (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == null ? true : delete _adm$target_$storedAn[key];\n}\nfunction assertAnnotable(adm, annotation, key) {\n  if (false) {\n    die(\"Cannot annotate '\" + adm.name_ + \".\" + key.toString() + \"': Invalid annotation.\");\n  }\n  if (false) {\n    var fieldName = adm.name_ + \".\" + key.toString();\n    var currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already annotated with '\" + currentAnnotationType + \"'.\") + \"\\nRe-annotating fields is not allowed.\\nUse 'override' annotation for methods overridden by subclass.\");\n  }\n}\nvar ENTRY_0 = \/* @__PURE__ *\/ createArrayEntryDescriptor(0);\nvar OBSERVABLE_ARRAY_BUFFER_SIZE = 0;\nvar StubArray = function StubArray2() {\n};\nfunction inherit(ctor, proto) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ctor.prototype, proto);\n  } else if (ctor.prototype.__proto__ !== void 0) {\n    ctor.prototype.__proto__ = proto;\n  } else {\n    ctor.prototype = proto;\n  }\n}\ninherit(StubArray, Array.prototype);\nvar LegacyObservableArray = \/* @__PURE__ *\/ function(_StubArray, _Symbol$toStringTag2, _Symbol$iterator2) {\n  _inheritsLoose(LegacyObservableArray2, _StubArray);\n  function LegacyObservableArray2(initialValues, enhancer, name, owned) {\n    var _this;\n    if (name === void 0) {\n      name = false ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    if (owned === void 0) {\n      owned = false;\n    }\n    _this = _StubArray.call(this) || this;\n    var adm = new ObservableArrayAdministration(name, enhancer, owned, true);\n    adm.proxy_ = _assertThisInitialized(_this);\n    addHiddenFinalProp(_assertThisInitialized(_this), $mobx, adm);\n    if (initialValues && initialValues.length) {\n      var prev = allowStateChangesStart(true);\n      _this.spliceWithArray(0, 0, initialValues);\n      allowStateChangesEnd(prev);\n    }\n    {\n      Object.defineProperty(_assertThisInitialized(_this), \"0\", ENTRY_0);\n    }\n    return _this;\n  }\n  var _proto = LegacyObservableArray2.prototype;\n  _proto.concat = function concat() {\n    this[$mobx].atom_.reportObserved();\n    for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n      arrays[_key] = arguments[_key];\n    }\n    return Array.prototype.concat.apply(\n      this.slice(),\n      arrays.map(function(a3) {\n        return isObservableArray(a3) ? a3.slice() : a3;\n      })\n    );\n  };\n  _proto[_Symbol$iterator2] = function() {\n    var self2 = this;\n    var nextIndex = 0;\n    return makeIterable({\n      next: function next() {\n        return nextIndex < self2.length ? {\n          value: self2[nextIndex++],\n          done: false\n        } : {\n          done: true,\n          value: void 0\n        };\n      }\n    });\n  };\n  _createClass(LegacyObservableArray2, [{\n    key: \"length\",\n    get: function get3() {\n      return this[$mobx].getArrayLength_();\n    },\n    set: function set4(newLength) {\n      this[$mobx].setArrayLength_(newLength);\n    }\n  }, {\n    key: _Symbol$toStringTag2,\n    get: function get3() {\n      return \"Array\";\n    }\n  }]);\n  return LegacyObservableArray2;\n}(StubArray, Symbol.toStringTag, Symbol.iterator);\nObject.entries(arrayExtensions).forEach(function(_ref) {\n  var prop = _ref[0], fn = _ref[1];\n  if (prop !== \"concat\") {\n    addHiddenProp(LegacyObservableArray.prototype, prop, fn);\n  }\n});\nfunction createArrayEntryDescriptor(index2) {\n  return {\n    enumerable: false,\n    configurable: true,\n    get: function get3() {\n      return this[$mobx].get_(index2);\n    },\n    set: function set4(value) {\n      this[$mobx].set_(index2, value);\n    }\n  };\n}\nfunction createArrayBufferItem(index2) {\n  defineProperty(LegacyObservableArray.prototype, \"\" + index2, createArrayEntryDescriptor(index2));\n}\nfunction reserveArrayBuffer(max) {\n  if (max > OBSERVABLE_ARRAY_BUFFER_SIZE) {\n    for (var index2 = OBSERVABLE_ARRAY_BUFFER_SIZE; index2 < max + 100; index2++) {\n      createArrayBufferItem(index2);\n    }\n    OBSERVABLE_ARRAY_BUFFER_SIZE = max;\n  }\n}\nreserveArrayBuffer(1e3);\nfunction createLegacyArray(initialValues, enhancer, name) {\n  return new LegacyObservableArray(initialValues, enhancer, name);\n}\nfunction getAtom(thing, property) {\n  if (typeof thing === \"object\" && thing !== null) {\n    if (isObservableArray(thing)) {\n      if (property !== void 0) {\n        die(23);\n      }\n      return thing[$mobx].atom_;\n    }\n    if (isObservableSet(thing)) {\n      return thing[$mobx];\n    }\n    if (isObservableMap(thing)) {\n      if (property === void 0) {\n        return thing.keysAtom_;\n      }\n      var observable2 = thing.data_.get(property) || thing.hasMap_.get(property);\n      if (!observable2) {\n        die(25, property, getDebugName(thing));\n      }\n      return observable2;\n    }\n    if (isObservableObject(thing)) {\n      if (!property) {\n        return die(26);\n      }\n      var _observable = thing[$mobx].values_.get(property);\n      if (!_observable) {\n        die(27, property, getDebugName(thing));\n      }\n      return _observable;\n    }\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n      return thing;\n    }\n  } else if (isFunction(thing)) {\n    if (isReaction(thing[$mobx])) {\n      return thing[$mobx];\n    }\n  }\n  die(28);\n}\nfunction getAdministration(thing, property) {\n  if (!thing) {\n    die(29);\n  }\n  if (property !== void 0) {\n    return getAdministration(getAtom(thing, property));\n  }\n  if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n    return thing;\n  }\n  if (isObservableMap(thing) || isObservableSet(thing)) {\n    return thing;\n  }\n  if (thing[$mobx]) {\n    return thing[$mobx];\n  }\n  die(24, thing);\n}\nfunction getDebugName(thing, property) {\n  var named;\n  if (property !== void 0) {\n    named = getAtom(thing, property);\n  } else if (isAction(thing)) {\n    return thing.name;\n  } else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {\n    named = getAdministration(thing);\n  } else {\n    named = getAtom(thing);\n  }\n  return named.name_;\n}\nvar toString = objectPrototype.toString;\nfunction deepEqual(a3, b3, depth) {\n  if (depth === void 0) {\n    depth = -1;\n  }\n  return eq(a3, b3, depth);\n}\nfunction eq(a3, b3, depth, aStack, bStack) {\n  if (a3 === b3) {\n    return a3 !== 0 || 1 \/ a3 === 1 \/ b3;\n  }\n  if (a3 == null || b3 == null) {\n    return false;\n  }\n  if (a3 !== a3) {\n    return b3 !== b3;\n  }\n  var type = typeof a3;\n  if (type !== \"function\" && type !== \"object\" && typeof b3 != \"object\") {\n    return false;\n  }\n  var className = toString.call(a3);\n  if (className !== toString.call(b3)) {\n    return false;\n  }\n  switch (className) {\n    case \"[object RegExp]\":\n    case \"[object String]\":\n      return \"\" + a3 === \"\" + b3;\n    case \"[object Number]\":\n      if (+a3 !== +a3) {\n        return +b3 !== +b3;\n      }\n      return +a3 === 0 ? 1 \/ +a3 === 1 \/ b3 : +a3 === +b3;\n    case \"[object Date]\":\n    case \"[object Boolean]\":\n      return +a3 === +b3;\n    case \"[object Symbol]\":\n      return typeof Symbol !== \"undefined\" && Symbol.valueOf.call(a3) === Symbol.valueOf.call(b3);\n    case \"[object Map]\":\n    case \"[object Set]\":\n      if (depth >= 0) {\n        depth++;\n      }\n      break;\n  }\n  a3 = unwrap(a3);\n  b3 = unwrap(b3);\n  var areArrays = className === \"[object Array]\";\n  if (!areArrays) {\n    if (typeof a3 != \"object\" || typeof b3 != \"object\") {\n      return false;\n    }\n    var aCtor = a3.constructor, bCtor = b3.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor && isFunction(bCtor) && bCtor instanceof bCtor) && \"constructor\" in a3 && \"constructor\" in b3) {\n      return false;\n    }\n  }\n  if (depth === 0) {\n    return false;\n  } else if (depth < 0) {\n    depth = -1;\n  }\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    if (aStack[length] === a3) {\n      return bStack[length] === b3;\n    }\n  }\n  aStack.push(a3);\n  bStack.push(b3);\n  if (areArrays) {\n    length = a3.length;\n    if (length !== b3.length) {\n      return false;\n    }\n    while (length--) {\n      if (!eq(a3[length], b3[length], depth - 1, aStack, bStack)) {\n        return false;\n      }\n    }\n  } else {\n    var keys = Object.keys(a3);\n    var key;\n    length = keys.length;\n    if (Object.keys(b3).length !== length) {\n      return false;\n    }\n    while (length--) {\n      key = keys[length];\n      if (!(hasProp(b3, key) && eq(a3[key], b3[key], depth - 1, aStack, bStack))) {\n        return false;\n      }\n    }\n  }\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\nfunction unwrap(a3) {\n  if (isObservableArray(a3)) {\n    return a3.slice();\n  }\n  if (isES6Map(a3) || isObservableMap(a3)) {\n    return Array.from(a3.entries());\n  }\n  if (isES6Set(a3) || isObservableSet(a3)) {\n    return Array.from(a3.entries());\n  }\n  return a3;\n}\nfunction makeIterable(iterator) {\n  iterator[Symbol.iterator] = getSelf;\n  return iterator;\n}\nfunction getSelf() {\n  return this;\n}\n[\"Symbol\", \"Map\", \"Set\"].forEach(function(m2) {\n  var g2 = getGlobal();\n  if (typeof g2[m2] === \"undefined\") {\n    die(\"MobX requires global '\" + m2 + \"' to be available or polyfilled\");\n  }\n});\nif (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n    spy,\n    extras: {\n      getDebugName\n    },\n    $mobx\n  });\n}\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLShape\/TLShape.tsx\nvar import_jsx_runtime = require(\"react\/jsx-runtime\");\nvar TLShape = class {\n  constructor(props) {\n    __publicField(this, \"props\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"type\");\n    __publicField(this, \"hideCloneHandles\", false);\n    __publicField(this, \"hideResizeHandles\", false);\n    __publicField(this, \"hideRotateHandle\", false);\n    __publicField(this, \"hideContextBar\", false);\n    __publicField(this, \"hideSelectionDetail\", false);\n    __publicField(this, \"hideSelection\", false);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canUnmount\", true);\n    __publicField(this, \"canResize\", [true, true]);\n    __publicField(this, \"canScale\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", false);\n    __publicField(this, \"canBind\", false);\n    __publicField(this, \"nonce\");\n    __publicField(this, \"bindingDistance\", BINDING_DISTANCE);\n    __publicField(this, \"isDirty\", false);\n    __publicField(this, \"lastSerialized\");\n    __publicField(this, \"getCenter\", () => {\n      return BoundsUtils.getBoundsCenter(this.bounds);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        bounds,\n        props: { rotation }\n      } = this;\n      if (!rotation)\n        return bounds;\n      return BoundsUtils.getBoundsFromPoints(BoundsUtils.getRotatedCorners(bounds, rotation));\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const ownBounds = this.rotatedBounds;\n      if (!this.props.rotation) {\n        return PointUtils.pointInBounds(point, ownBounds);\n      }\n      const corners = BoundsUtils.getRotatedCorners(ownBounds, this.props.rotation);\n      return PointUtils.pointInPolygon(point, corners);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const box2 = BoundsUtils.getBoundsFromPoints([A3, B3]);\n      const {\n        rotatedBounds,\n        props: { rotation = 0 }\n      } = this;\n      return BoundsUtils.boundsContain(rotatedBounds, box2) || rotation ? intersectLineSegmentPolyline(A3, B3, BoundsUtils.getRotatedCorners(this.bounds)).didIntersect : intersectLineSegmentBounds(A3, B3, rotatedBounds).length > 0;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        props: { rotation = 0 }\n      } = this;\n      const corners = BoundsUtils.getRotatedCorners(this.bounds, rotation);\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || intersectPolygonBounds(corners, bounds).length > 0;\n    });\n    __publicField(this, \"getExpandedBounds\", () => {\n      return BoundsUtils.expandBounds(this.getBounds(), this.bindingDistance);\n    });\n    __publicField(this, \"getBindingPoint\", (point, origin, direction, bindAnywhere) => {\n      const bounds = this.getBounds();\n      const expandedBounds = this.getExpandedBounds();\n      if (!PointUtils.pointInBounds(point, expandedBounds))\n        return;\n      const intersections = intersectRayBounds(origin, direction, expandedBounds).filter((int) => int.didIntersect).map((int) => int.points[0]);\n      if (!intersections.length)\n        return;\n      const center = this.getCenter();\n      const intersection = intersections.sort((a3, b3) => src_default.dist(b3, origin) - src_default.dist(a3, origin))[0];\n      const middlePoint = src_default.med(point, intersection);\n      let anchor;\n      let distance;\n      if (bindAnywhere) {\n        anchor = src_default.dist(point, center) < BINDING_DISTANCE \/ 2 ? center : point;\n        distance = 0;\n      } else {\n        if (src_default.distanceToLineSegment(point, middlePoint, center) < BINDING_DISTANCE \/ 2) {\n          anchor = center;\n        } else {\n          anchor = middlePoint;\n        }\n        if (PointUtils.pointInBounds(point, bounds)) {\n          distance = this.bindingDistance;\n        } else {\n          distance = Math.max(\n            this.bindingDistance,\n            BoundsUtils.getBoundsSides(bounds).map((side) => src_default.distanceToLineSegment(side[1][0], side[1][1], point)).sort((a3, b3) => a3 - b3)[0]\n          );\n        }\n      }\n      const bindingPoint = src_default.divV(src_default.sub(anchor, [expandedBounds.minX, expandedBounds.minY]), [\n        expandedBounds.width,\n        expandedBounds.height\n      ]);\n      return {\n        point: src_default.clampV(bindingPoint, 0, 1),\n        distance\n      };\n    });\n    __publicField(this, \"getSerialized\", () => {\n      return toJS(__spreadProps(__spreadValues({}, this.props), { type: this.type, nonce: this.nonce }));\n    });\n    __publicField(this, \"getCachedSerialized\", () => {\n      if (this.isDirty || !this.lastSerialized) {\n        transaction(() => {\n          this.setIsDirty(false);\n          this.setLastSerialized(this.getSerialized());\n        });\n      }\n      if (this.lastSerialized) {\n        return this.lastSerialized;\n      }\n      throw new Error(\"Should not get here for getCachedSerialized\");\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      return props;\n    });\n    __publicField(this, \"update\", (props, isDeserializing = false, skipNounce = false) => {\n      if (!(isDeserializing || this.isDirty))\n        this.setIsDirty(true);\n      if (!isDeserializing && !skipNounce)\n        this.incNonce();\n      Object.assign(this.props, this.validateProps(props));\n      return this;\n    });\n    __publicField(this, \"clone\", () => {\n      return new this.constructor(this.serialized);\n    });\n    __publicField(this, \"onResetBounds\", (info) => {\n      return this;\n    });\n    __publicField(this, \"scale\", [1, 1]);\n    __publicField(this, \"onResizeStart\", (info) => {\n      var _a3;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      this.update({ point: [bounds.minX, bounds.minY], scale: nextScale, rotation });\n      return this;\n    });\n    __publicField(this, \"onHandleChange\", (initialShape, { id: id3, delta }) => {\n      if (initialShape.handles === void 0)\n        return;\n      const nextHandles = deepCopy(initialShape.handles);\n      nextHandles[id3] = __spreadProps(__spreadValues({}, nextHandles[id3]), {\n        point: src_default.add(delta, initialShape.handles[id3].point)\n      });\n      const topLeft = BoundsUtils.getCommonTopLeft(Object.values(nextHandles).map((h2) => h2.point));\n      Object.values(nextHandles).forEach((h2) => {\n        h2.point = src_default.sub(h2.point, topLeft);\n      });\n      this.update({\n        point: src_default.add(initialShape.point, topLeft),\n        handles: nextHandles\n      });\n    });\n    var _a3, _b;\n    const type = this.constructor[\"id\"];\n    const defaultProps = (_a3 = this.constructor[\"defaultProps\"]) != null ? _a3 : {};\n    this.type = type;\n    this.props = __spreadValues(__spreadValues({ scale: [1, 1] }, defaultProps), props);\n    this.nonce = (_b = props.nonce) != null ? _b : Date.now();\n    makeObservable(this);\n  }\n  get id() {\n    return this.props.id;\n  }\n  setNonce(nonce) {\n    this.nonce = nonce;\n  }\n  incNonce() {\n    this.nonce++;\n  }\n  setIsDirty(isDirty) {\n    this.isDirty = isDirty;\n  }\n  setLastSerialized(serialized) {\n    this.lastSerialized = serialized;\n  }\n  get center() {\n    return this.getCenter();\n  }\n  get bounds() {\n    return this.getBounds();\n  }\n  get rotatedBounds() {\n    return this.getRotatedBounds();\n  }\n  get serialized() {\n    return this.getCachedSerialized();\n  }\n  getShapeSVGJsx(_2) {\n    const bounds = this.getBounds();\n    const { stroke, strokeWidth, strokeType, opacity, fill, noFill, borderRadius } = this.props;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime.jsx)(\"rect\", {\n      fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n      stroke: getComputedColor(stroke, \"stroke\"),\n      strokeWidth: strokeWidth != null ? strokeWidth : 2,\n      strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n      fillOpacity: opacity != null ? opacity : 0.2,\n      width: bounds.width,\n      height: bounds.height,\n      rx: borderRadius,\n      ry: borderRadius\n    });\n  }\n};\n__publicField(TLShape, \"type\");\n__decorateClass([\n  observable\n], TLShape.prototype, \"props\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"canResize\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"nonce\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"isDirty\", 2);\n__decorateClass([\n  observable\n], TLShape.prototype, \"lastSerialized\", 2);\n__decorateClass([\n  computed\n], TLShape.prototype, \"id\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setNonce\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"incNonce\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setIsDirty\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"setLastSerialized\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"center\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"bounds\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"rotatedBounds\", 1);\n__decorateClass([\n  computed\n], TLShape.prototype, \"serialized\", 1);\n__decorateClass([\n  action\n], TLShape.prototype, \"update\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLBoxShape\/TLBoxShape.tsx\nvar TLBoxShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canBind\", true);\n    __publicField(this, \"getBounds\", () => {\n      const [x2, y2] = this.props.point;\n      const [width, height] = this.props.size;\n      return {\n        minX: x2,\n        minY: y2,\n        maxX: x2 + width,\n        maxY: y2 + height,\n        width,\n        height\n      };\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      return BoundsUtils.getBoundsFromPoints(\n        BoundsUtils.getRotatedCorners(this.bounds, this.props.rotation)\n      );\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      this.update({ point: [bounds.minX, bounds.minY], scale: nextScale, rotation });\n      return this.update({\n        rotation,\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, bounds.height)],\n        scale: nextScale\n      });\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return props;\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLBoxShape, \"id\", \"box\");\n__publicField(TLBoxShape, \"defaultProps\", {\n  id: \"box\",\n  type: \"box\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100]\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLDrawShape\/TLDrawShape.tsx\nvar TLDrawShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        pointBounds,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(pointBounds, point);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        props: { rotation, point },\n        bounds,\n        rotatedPoints\n      } = this;\n      if (!rotation)\n        return bounds;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(rotatedPoints), point);\n    });\n    __publicField(this, \"normalizedPoints\", []);\n    __publicField(this, \"isResizeFlippedX\", false);\n    __publicField(this, \"isResizeFlippedY\", false);\n    __publicField(this, \"onResizeStart\", () => {\n      var _a3;\n      const {\n        bounds,\n        props: { points }\n      } = this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      const size = [bounds.width, bounds.height];\n      this.normalizedPoints = points.map((point) => Vec.divV(point, size));\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        scale: [scaleX, scaleY]\n      } = info;\n      const size = [bounds.width, bounds.height];\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      return this.update(\n        scaleX || scaleY ? {\n          point: [bounds.minX, bounds.minY],\n          points: this.normalizedPoints.map((point) => Vec.mulV(point, size).concat(point[2])),\n          scale: nextScale\n        } : {\n          point: [bounds.minX, bounds.minY],\n          points: this.normalizedPoints.map((point) => Vec.mulV(point, size).concat(point[2]))\n        }\n      );\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const {\n        props: { points, point: ownPoint }\n      } = this;\n      return PointUtils.pointNearToPolyline(Vec.sub(point, ownPoint), points);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        bounds,\n        props: { points, point }\n      } = this;\n      if (PointUtils.pointInBounds(A3, bounds) || PointUtils.pointInBounds(B3, bounds) || intersectBoundsLineSegment(bounds, A3, B3).length > 0) {\n        const rA = Vec.sub(A3, point);\n        const rB = Vec.sub(B3, point);\n        return intersectLineSegmentPolyline(rA, rB, points).didIntersect || !!points.find((point2) => Vec.dist(rA, point2) < 5 || Vec.dist(rB, point2) < 5);\n      }\n      return false;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        props: { points, point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(point));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || points.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || BoundsUtils.boundsCollide(bounds, rotatedBounds) && intersectPolylineBounds(points, oBounds).length > 0;\n    });\n    makeObservable(this);\n  }\n  get pointBounds() {\n    const {\n      props: { points }\n    } = this;\n    return BoundsUtils.getBoundsFromPoints(points);\n  }\n  get rotatedPoints() {\n    const {\n      props: { point, points, rotation },\n      center\n    } = this;\n    if (!rotation)\n      return points;\n    const relativeCenter = Vec.sub(center, point);\n    return points.map((point2) => Vec.rotWith(point2, relativeCenter, rotation));\n  }\n};\n__publicField(TLDrawShape, \"id\", \"draw\");\n__publicField(TLDrawShape, \"defaultProps\", {\n  id: \"draw\",\n  type: \"draw\",\n  parentId: \"page\",\n  point: [0, 0],\n  points: [],\n  isComplete: false\n});\n__decorateClass([\n  computed\n], TLDrawShape.prototype, \"pointBounds\", 1);\n__decorateClass([\n  computed\n], TLDrawShape.prototype, \"rotatedPoints\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLEllipseShape\/TLEllipseShape.ts\nvar TLEllipseShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        props: {\n          point: [x2, y2],\n          size: [w2, h2]\n        }\n      } = this;\n      return BoundsUtils.getRotatedEllipseBounds(x2, y2, w2 \/ 2, h2 \/ 2, 0);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        props: {\n          point: [x2, y2],\n          size: [w2, h2],\n          rotation\n        }\n      } = this;\n      return BoundsUtils.getRotatedEllipseBounds(x2, y2, w2 \/ 2, h2 \/ 2, rotation);\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const {\n        props: { size, rotation },\n        center\n      } = this;\n      return PointUtils.pointInEllipse(point, center, size[0], size[1], rotation || 0);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        props: {\n          size: [w2, h2],\n          rotation = 0\n        },\n        center\n      } = this;\n      return intersectLineSegmentEllipse(A3, B3, center, w2, h2, rotation).didIntersect;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        props: {\n          size: [w2, h2],\n          rotation = 0\n        },\n        rotatedBounds\n      } = this;\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || intersectEllipseBounds(this.center, w2 \/ 2, h2 \/ 2, rotation, bounds).length > 0;\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLEllipseShape, \"id\", \"ellipse\");\n__publicField(TLEllipseShape, \"defaultProps\", {\n  id: \"ellipse\",\n  type: \"ellipse\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100]\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLImageShape\/TLImageShape.ts\nvar TLImageShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"onResetBounds\", (info) => {\n      const { clipping, size, point } = this.props;\n      if (clipping) {\n        const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n        return this.update({\n          clipping: 0,\n          point: [point[0] - l3, point[1] - t],\n          size: [size[0] + (l3 - r2), size[1] + (t - b3)]\n        });\n      } else if (info.asset) {\n        const {\n          size: [w2, h2]\n        } = info.asset;\n        this.update({\n          clipping: 0,\n          point: [point[0] + size[0] \/ 2 - w2 \/ 2, point[1] + size[1] \/ 2 - h2 \/ 2],\n          size: [w2, h2]\n        });\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const { bounds, clip, scale } = info;\n      let { clipping } = this.props;\n      const { clipping: iClipping } = initialProps;\n      if (clip) {\n        const {\n          point: [x2, y2],\n          size: [w2, h2]\n        } = initialProps;\n        const [t, r2, b3, l3] = iClipping ? Array.isArray(iClipping) ? iClipping : [iClipping, iClipping, iClipping, iClipping] : [0, 0, 0, 0];\n        clipping = [\n          t + (bounds.minY - y2),\n          r2 + (bounds.maxX - (x2 + w2)),\n          b3 + (bounds.maxY - (y2 + h2)),\n          l3 + (bounds.minX - x2)\n        ];\n      } else {\n        if (iClipping !== void 0) {\n          clipping = Array.isArray(iClipping) ? iClipping : [iClipping, iClipping, iClipping, iClipping];\n          clipping = [\n            clipping[0] * scale[1],\n            clipping[1] * scale[0],\n            clipping[2] * scale[1],\n            clipping[3] * scale[0]\n          ];\n        }\n      }\n      if (clipping && Array.isArray(clipping)) {\n        const c2 = clipping;\n        if (c2.every((v2, i2) => i2 === 0 || v2 === c2[i2 - 1])) {\n          clipping = c2[0];\n        }\n      }\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, bounds.height)],\n        clipping\n      });\n    });\n    makeObservable(this);\n  }\n};\n__publicField(TLImageShape, \"id\", \"ellipse\");\n__publicField(TLImageShape, \"defaultProps\", {\n  id: \"ellipse\",\n  type: \"ellipse\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100],\n  clipping: 0,\n  objectFit: \"none\",\n  assetId: \"\"\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLPolylineShape\/TLPolylineShape.tsx\nvar _TLPolylineShape = class extends TLShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getBounds\", () => {\n      const {\n        points,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(points), point);\n    });\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        rotatedPoints,\n        props: { point }\n      } = this;\n      return BoundsUtils.translateBounds(BoundsUtils.getBoundsFromPoints(rotatedPoints), point);\n    });\n    __publicField(this, \"normalizedHandles\", []);\n    __publicField(this, \"onResizeStart\", () => {\n      var _a3;\n      const {\n        props: { handles },\n        bounds\n      } = this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      const size = [bounds.width, bounds.height];\n      this.normalizedHandles = Object.values(handles).map((h2) => Vec.divV(h2.point, size));\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      const {\n        bounds,\n        scale: [scaleX, scaleY]\n      } = info;\n      const {\n        props: { handles },\n        normalizedHandles\n      } = this;\n      const size = [bounds.width, bounds.height];\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        handles: Object.values(handles).map((handle, i2) => __spreadProps(__spreadValues({}, handle), {\n          point: Vec.mulV(normalizedHandles[i2], size)\n        })),\n        scale: nextScale\n      });\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const { points } = this;\n      return PointUtils.pointNearToPolyline(Vec.sub(point, this.props.point), points);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        bounds,\n        points,\n        props: { point }\n      } = this;\n      if (PointUtils.pointInBounds(A3, bounds) || PointUtils.pointInBounds(B3, bounds) || intersectBoundsLineSegment(bounds, A3, B3).length > 0) {\n        const rA = Vec.sub(A3, point);\n        const rB = Vec.sub(B3, point);\n        return intersectLineSegmentPolyline(rA, rB, points).didIntersect || !!points.find((point2) => Vec.dist(rA, point2) < 5 || Vec.dist(rB, point2) < 5);\n      }\n      return false;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        points,\n        props: { point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(point));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || points.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || BoundsUtils.boundsCollide(bounds, rotatedBounds) && intersectPolylineBounds(points, oBounds).length > 0;\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.handles !== void 0 && Object.values(props.handles).length < 1)\n        props.handles = _TLPolylineShape.defaultProps[\"handles\"];\n      return props;\n    });\n    makeObservable(this);\n  }\n  get points() {\n    return Object.values(this.props.handles).map((h2) => h2.point);\n  }\n  get centroid() {\n    const { points } = this;\n    return PolygonUtils.getPolygonCentroid(points);\n  }\n  get rotatedPoints() {\n    const {\n      centroid,\n      props: { handles, rotation }\n    } = this;\n    if (!rotation)\n      return this.points;\n    return Object.values(handles).map((h2) => Vec.rotWith(h2.point, centroid, rotation));\n  }\n};\nvar TLPolylineShape = _TLPolylineShape;\n__publicField(TLPolylineShape, \"id\", \"polyline\");\n__publicField(TLPolylineShape, \"defaultProps\", {\n  id: \"polyline\",\n  type: \"polyline\",\n  parentId: \"page\",\n  point: [0, 0],\n  handles: {}\n});\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"points\", 1);\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"centroid\", 1);\n__decorateClass([\n  computed\n], TLPolylineShape.prototype, \"rotatedPoints\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLLineShape\/TLLineShape.tsx\nvar _TLLineShape = class extends TLPolylineShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"hideResizeHandles\", true);\n    __publicField(this, \"hideRotateHandle\", true);\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.handles !== void 0 && Object.values(props.handles).length < 1)\n        props.handles = _TLLineShape.defaultProps[\"handles\"];\n      return props;\n    });\n    __publicField(this, \"getHandlesChange\", (shape, handles) => {\n      let nextHandles = deepMerge(shape.handles, handles);\n      nextHandles = deepMerge(nextHandles, {\n        start: {\n          point: src_default.toFixed(nextHandles.start.point)\n        },\n        end: {\n          point: src_default.toFixed(nextHandles.end.point)\n        }\n      });\n      if (src_default.isEqual(nextHandles.start.point, nextHandles.end.point))\n        return;\n      const nextShape = {\n        point: shape.point,\n        handles: deepCopy(nextHandles)\n      };\n      const topLeft = shape.point;\n      const nextBounds = BoundsUtils.translateBounds(\n        BoundsUtils.getBoundsFromPoints(Object.values(nextHandles).map((h2) => h2.point)),\n        nextShape.point\n      );\n      const offset = src_default.sub([nextBounds.minX, nextBounds.minY], topLeft);\n      if (!src_default.isEqual(offset, [0, 0])) {\n        Object.values(nextShape.handles).forEach((handle) => {\n          handle.point = src_default.toFixed(src_default.sub(handle.point, offset));\n        });\n        nextShape.point = src_default.toFixed(src_default.add(nextShape.point, offset));\n      }\n      return nextShape;\n    });\n    makeObservable(this);\n  }\n};\nvar TLLineShape = _TLLineShape;\n__publicField(TLLineShape, \"id\", \"line\");\n__publicField(TLLineShape, \"defaultProps\", {\n  id: \"line\",\n  type: \"line\",\n  parentId: \"page\",\n  point: [0, 0],\n  handles: {\n    start: { id: \"start\", canBind: true, point: [0, 0] },\n    end: { id: \"end\", canBind: true, point: [1, 1] }\n  }\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLPolygonShape\/TLPolygonShape.tsx\nvar TLPolygonShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"getRotatedBounds\", () => {\n      const {\n        rotatedVertices,\n        props: { point },\n        offset\n      } = this;\n      return BoundsUtils.translateBounds(\n        BoundsUtils.getBoundsFromPoints(rotatedVertices),\n        Vec.add(point, offset)\n      );\n    });\n    __publicField(this, \"hitTestPoint\", (point) => {\n      const { vertices } = this;\n      return PointUtils.pointInPolygon(Vec.add(point, this.props.point), vertices);\n    });\n    __publicField(this, \"hitTestLineSegment\", (A3, B3) => {\n      const {\n        vertices,\n        props: { point }\n      } = this;\n      return intersectLineSegmentPolyline(Vec.sub(A3, point), Vec.sub(B3, point), vertices).didIntersect;\n    });\n    __publicField(this, \"hitTestBounds\", (bounds) => {\n      const {\n        rotatedBounds,\n        offset,\n        rotatedVertices,\n        props: { point }\n      } = this;\n      const oBounds = BoundsUtils.translateBounds(bounds, Vec.neg(Vec.add(point, offset)));\n      return BoundsUtils.boundsContain(bounds, rotatedBounds) || rotatedVertices.every((vert) => PointUtils.pointInBounds(vert, oBounds)) || intersectPolygonBounds(rotatedVertices, oBounds).length > 0;\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.point)\n        props.point = [0, 0];\n      if (props.sides !== void 0 && props.sides < 3)\n        props.sides = 3;\n      return props;\n    });\n    makeObservable(this);\n  }\n  get vertices() {\n    return this.getVertices();\n  }\n  get pageVertices() {\n    const {\n      props: { point },\n      vertices\n    } = this;\n    return vertices.map((vert) => Vec.add(vert, point));\n  }\n  get centroid() {\n    const { vertices } = this;\n    return PolygonUtils.getPolygonCentroid(vertices);\n  }\n  get rotatedVertices() {\n    const {\n      vertices,\n      centroid,\n      props: { rotation }\n    } = this;\n    if (!rotation)\n      return vertices;\n    return vertices.map((v2) => Vec.rotWith(v2, centroid, rotation));\n  }\n  get offset() {\n    const {\n      props: {\n        size: [w2, h2]\n      }\n    } = this;\n    const center = BoundsUtils.getBoundsCenter(BoundsUtils.getBoundsFromPoints(this.vertices));\n    return Vec.sub(Vec.div([w2, h2], 2), center);\n  }\n  getVertices(padding = 0) {\n    const { ratio, sides, size, scale } = this.props;\n    const vertices = sides === 3 ? PolygonUtils.getTriangleVertices(size, padding, ratio) : PolygonUtils.getPolygonVertices(size, sides, padding, ratio);\n    return vertices;\n  }\n};\n__publicField(TLPolygonShape, \"id\", \"polygon\");\n__publicField(TLPolygonShape, \"defaultProps\", {\n  id: \"polygon\",\n  type: \"polygon\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [100, 100],\n  sides: 5,\n  ratio: 1,\n  isFlippedY: false\n});\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"vertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"pageVertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"centroid\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"rotatedVertices\", 1);\n__decorateClass([\n  computed\n], TLPolygonShape.prototype, \"offset\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLTextShape\/TLTextShape.tsx\nvar TLTextShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"canFlip\", false);\n    makeObservable(this);\n  }\n};\n__publicField(TLTextShape, \"id\", \"text\");\n__publicField(TLTextShape, \"defaultProps\", {\n  id: \"text\",\n  type: \"text\",\n  parentId: \"page\",\n  isSizeLocked: true,\n  point: [0, 0],\n  size: [16, 32],\n  text: \"\"\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/shapes\/TLGroupShape\/TLGroupShape.tsx\nvar TLGroupShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"canEdit\", false);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"getBounds\", () => {\n      if (this.shapes.length === 0) {\n        const app = useApp();\n        app.deleteShapes([this.id]);\n        return {\n          minX: 0,\n          minY: 0,\n          maxX: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return BoundsUtils.getCommonBounds(this.shapes.map((s2) => s2.getBounds()));\n    });\n    makeObservable(this);\n    this.canResize = [false, false];\n  }\n  getShapes() {\n    throw new Error(\"will be implemented other places\");\n  }\n  get shapes() {\n    return this.getShapes();\n  }\n};\n__publicField(TLGroupShape, \"id\", \"group\");\n__publicField(TLGroupShape, \"defaultProps\", {\n  id: \"group\",\n  type: \"group\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [0, 0],\n  children: []\n});\n__decorateClass([\n  computed\n], TLGroupShape.prototype, \"shapes\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLState.ts\nvar TLRootState = class {\n  constructor() {\n    __publicField(this, \"_id\");\n    __publicField(this, \"_initial\");\n    __publicField(this, \"_states\");\n    __publicField(this, \"_isActive\", false);\n    __publicField(this, \"cursor\");\n    __publicField(this, \"_disposables\", []);\n    __publicField(this, \"children\", \/* @__PURE__ *\/ new Map([]));\n    __publicField(this, \"registerStates\", (stateClasses) => {\n      stateClasses.forEach((StateClass) => this.children.set(StateClass.id, new StateClass(this, this)));\n      return this;\n    });\n    __publicField(this, \"deregisterStates\", (states) => {\n      states.forEach((StateClass) => {\n        var _a3;\n        (_a3 = this.children.get(StateClass.id)) == null ? void 0 : _a3.dispose();\n        this.children.delete(StateClass.id);\n      });\n      return this;\n    });\n    __publicField(this, \"currentState\", {});\n    __publicField(this, \"transition\", (id3, data = {}) => {\n      if (this.children.size === 0)\n        throw Error(`Tool ${this.id} has no states, cannot transition to ${id3}.`);\n      const nextState = this.children.get(id3);\n      const prevState = this.currentState;\n      if (!nextState)\n        throw Error(`Could not find a state named ${id3}.`);\n      transaction(() => {\n        if (this.currentState) {\n          prevState._events.onExit(__spreadProps(__spreadValues({}, data), { toId: id3 }));\n          prevState.dispose();\n          this.setCurrentState(nextState);\n          this._events.onTransition(__spreadProps(__spreadValues({}, data), { fromId: prevState.id, toId: id3 }));\n          nextState._events.onEnter(__spreadProps(__spreadValues({}, data), { fromId: prevState.id }));\n        } else {\n          this.currentState = nextState;\n          nextState._events.onEnter(__spreadProps(__spreadValues({}, data), { fromId: \"\" }));\n        }\n      });\n      return this;\n    });\n    __publicField(this, \"isIn\", (path) => {\n      const ids = path.split(\".\").reverse();\n      let state = this;\n      while (ids.length > 0) {\n        const id3 = ids.pop();\n        if (!id3) {\n          return true;\n        }\n        if (state.currentState.id === id3) {\n          if (ids.length === 0) {\n            return true;\n          }\n          state = state.currentState;\n          continue;\n        } else {\n          return false;\n        }\n      }\n      return false;\n    });\n    __publicField(this, \"isInAny\", (...paths) => {\n      return paths.some(this.isIn);\n    });\n    __publicField(this, \"forwardEvent\", (eventName, ...args) => {\n      var _a3, _b;\n      if ((_b = (_a3 = this.currentState) == null ? void 0 : _a3._events) == null ? void 0 : _b[eventName]) {\n        transaction(() => {\n          var _a4;\n          return (_a4 = this.currentState._events) == null ? void 0 : _a4[eventName](...args);\n        });\n      }\n    });\n    __publicField(this, \"_events\", {\n      onTransition: (info) => {\n        var _a3;\n        (_a3 = this.onTransition) == null ? void 0 : _a3.call(this, info);\n      },\n      onEnter: (info) => {\n        var _a3;\n        this._isActive = true;\n        if (this.initial)\n          this.transition(this.initial, info);\n        (_a3 = this.onEnter) == null ? void 0 : _a3.call(this, info);\n      },\n      onExit: (info) => {\n        var _a3, _b, _c;\n        this._isActive = false;\n        (_b = (_a3 = this.currentState) == null ? void 0 : _a3.onExit) == null ? void 0 : _b.call(_a3, { toId: \"parent\" });\n        (_c = this.onExit) == null ? void 0 : _c.call(this, info);\n      },\n      onPointerDown: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerDown) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerDown\", info, event);\n      },\n      onPointerUp: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerUp) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerUp\", info, event);\n      },\n      onPointerMove: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerMove) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerMove\", info, event);\n      },\n      onPointerEnter: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerEnter) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerEnter\", info, event);\n      },\n      onPointerLeave: (info, event) => {\n        var _a3;\n        (_a3 = this.onPointerLeave) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPointerLeave\", info, event);\n      },\n      onDoubleClick: (info, event) => {\n        var _a3;\n        (_a3 = this.onDoubleClick) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onDoubleClick\", info, event);\n      },\n      onKeyDown: (info, event) => {\n        var _a3;\n        this._events.onModifierKey(info, event);\n        (_a3 = this.onKeyDown) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onKeyDown\", info, event);\n      },\n      onKeyUp: (info, event) => {\n        var _a3;\n        this._events.onModifierKey(info, event);\n        (_a3 = this.onKeyUp) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onKeyUp\", info, event);\n      },\n      onPinchStart: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinchStart) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinchStart\", info, event);\n      },\n      onPinch: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinch) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinch\", info, event);\n      },\n      onPinchEnd: (info, event) => {\n        var _a3;\n        (_a3 = this.onPinchEnd) == null ? void 0 : _a3.call(this, info, event);\n        this.forwardEvent(\"onPinchEnd\", info, event);\n      },\n      onModifierKey: (info, event) => {\n        switch (event.key) {\n          case \"Shift\":\n          case \"Alt\":\n          case \"Ctrl\":\n          case \"Meta\": {\n            this._events.onPointerMove(info, event);\n            break;\n          }\n        }\n      }\n    });\n    __publicField(this, \"onEnter\");\n    __publicField(this, \"onExit\");\n    __publicField(this, \"onTransition\");\n    __publicField(this, \"onPointerDown\");\n    __publicField(this, \"onPointerUp\");\n    __publicField(this, \"onPointerMove\");\n    __publicField(this, \"onPointerEnter\");\n    __publicField(this, \"onPointerLeave\");\n    __publicField(this, \"onDoubleClick\");\n    __publicField(this, \"onKeyDown\");\n    __publicField(this, \"onKeyUp\");\n    __publicField(this, \"onPinchStart\");\n    __publicField(this, \"onPinch\");\n    __publicField(this, \"onPinchEnd\");\n    const id3 = this.constructor[\"id\"];\n    const initial = this.constructor[\"initial\"];\n    const states = this.constructor[\"states\"];\n    this._id = id3;\n    this._initial = initial;\n    this._states = states;\n  }\n  dispose() {\n    this._disposables.forEach((disposable) => disposable());\n    this._disposables = [];\n    return this;\n  }\n  get initial() {\n    return this._initial;\n  }\n  get states() {\n    return this._states;\n  }\n  get id() {\n    return this._id;\n  }\n  get isActive() {\n    return this._isActive;\n  }\n  get ascendants() {\n    return [this];\n  }\n  get descendants() {\n    return Array.from(this.children.values()).flatMap((state) => [state, ...state.descendants]);\n  }\n  setCurrentState(state) {\n    this.currentState = state;\n  }\n};\n__publicField(TLRootState, \"id\");\n__publicField(TLRootState, \"shortcuts\");\n__decorateClass([\n  observable\n], TLRootState.prototype, \"currentState\", 2);\n__decorateClass([\n  action\n], TLRootState.prototype, \"setCurrentState\", 1);\nvar TLState = class extends TLRootState {\n  constructor(parent, root) {\n    var _a3, _b;\n    super();\n    __publicField(this, \"_root\");\n    __publicField(this, \"_parent\");\n    __publicField(this, \"children\", \/* @__PURE__ *\/ new Map([]));\n    __publicField(this, \"registerStates\", (stateClasses) => {\n      stateClasses.forEach(\n        (StateClass) => this.children.set(StateClass.id, new StateClass(this, this._root))\n      );\n      return this;\n    });\n    __publicField(this, \"deregisterStates\", (states) => {\n      states.forEach((StateClass) => {\n        var _a3;\n        (_a3 = this.children.get(StateClass.id)) == null ? void 0 : _a3.dispose();\n        this.children.delete(StateClass.id);\n      });\n      return this;\n    });\n    this._parent = parent;\n    this._root = root;\n    if (this.states && this.states.length > 0) {\n      this.registerStates(this.states);\n      const initialId = (_a3 = this.initial) != null ? _a3 : this.states[0].id;\n      const state = this.children.get(initialId);\n      if (state) {\n        this.setCurrentState(state);\n        (_b = this.currentState) == null ? void 0 : _b._events.onEnter({ fromId: \"initial\" });\n      }\n    }\n    makeObservable(this);\n  }\n  get root() {\n    return this._root;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get ascendants() {\n    if (!this.parent)\n      return [this];\n    if (!(\"ascendants\" in this.parent))\n      return [this.parent, this];\n    return [...this.parent.ascendants, this];\n  }\n};\n__publicField(TLState, \"cursor\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLTool.tsx\nvar TLTool = class extends TLState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"isLocked\", false);\n    __publicField(this, \"previous\");\n    __publicField(this, \"onEnter\", ({ fromId }) => {\n      this.previous = fromId;\n      if (this.cursor)\n        this.app.cursors.setCursor(this.cursor);\n    });\n    __publicField(this, \"onTransition\", (info) => {\n      const { toId } = info;\n      const toState = this.children.get(toId);\n      this.app.cursors.reset();\n      if (toState.cursor) {\n        this.app.cursors.setCursor(toState.cursor);\n      } else if (this.cursor) {\n        this.app.cursors.setCursor(this.cursor);\n      }\n    });\n  }\n  get app() {\n    return this.root;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLToolState.ts\nvar TLToolState = class extends TLState {\n  get app() {\n    return this.root;\n  }\n  get tool() {\n    return this.parent;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/CreatingState.tsx\nvar CreatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"initialBounds\", {});\n    __publicField(this, \"onEnter\", () => {\n      const {\n        currentPage,\n        inputs: { originPoint, currentPoint }\n      } = this.app;\n      const { Shape: Shape5 } = this.tool;\n      const shape = new Shape5({\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: currentPage.id,\n        point: [...originPoint],\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color,\n        size: src_default.abs(src_default.sub(currentPoint, originPoint))\n      });\n      this.initialBounds = {\n        minX: originPoint[0],\n        minY: originPoint[1],\n        maxX: originPoint[0] + 1,\n        maxY: originPoint[1] + 1,\n        width: 1,\n        height: 1\n      };\n      if (!shape.canChangeAspectRatio) {\n        if (shape.aspectRatio) {\n          this.aspectRatio = shape.aspectRatio;\n          this.initialBounds.height = this.aspectRatio;\n          this.initialBounds.width = 1;\n        } else {\n          this.aspectRatio = 1;\n          this.initialBounds.height = 1;\n          this.initialBounds.width = 1;\n        }\n        this.initialBounds.maxY = this.initialBounds.minY + this.initialBounds.height;\n      }\n      this.creatingShape = shape;\n      this.creatingShape.setScaleLevel(this.app.settings.scaleLevel);\n      this.app.currentPage.addShapes(shape);\n      this.app.setSelectedShapes([shape]);\n    });\n    __publicField(this, \"onPointerMove\", (info) => {\n      if (info.order)\n        return;\n      if (!this.creatingShape)\n        throw Error(\"Expected a creating shape.\");\n      const { initialBounds } = this;\n      const { currentPoint, originPoint, shiftKey } = this.app.inputs;\n      const isAspectRatioLocked = shiftKey || this.creatingShape.props.isAspectRatioLocked || !this.creatingShape.canChangeAspectRatio;\n      let bounds = BoundsUtils.getTransformedBoundingBox(\n        initialBounds,\n        \"bottom_right_corner\" \/* BottomRight *\/,\n        src_default.sub(currentPoint, originPoint),\n        0,\n        isAspectRatioLocked\n      );\n      if (this.app.settings.snapToGrid && !isAspectRatioLocked) {\n        bounds = BoundsUtils.snapBoundsToGrid(bounds, GRID_SIZE);\n      }\n      this.creatingShape.update({\n        point: [bounds.minX, bounds.minY],\n        size: [bounds.width, bounds.height]\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n      if (this.creatingShape) {\n        this.app.setSelectedShapes([this.creatingShape]);\n        this.app.api.editShape(this.creatingShape);\n      } else {\n        this.app.transition(\"select\");\n      }\n      this.app.persist();\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          if (!this.creatingShape)\n            throw Error(\"Expected a creating shape.\");\n          this.app.deleteShapes([this.creatingShape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(CreatingState, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/IdleState.tsx\nvar IdleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/states\/PointingState.tsx\nvar PointingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"creating\");\n        this.app.setSelectedShapes(this.app.currentPage.shapes);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingState, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLBoxTool\/TLBoxTool.ts\nvar TLBoxTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLBoxTool, \"id\", \"box\");\n__publicField(TLBoxTool, \"states\", [IdleState, PointingState, CreatingState]);\n__publicField(TLBoxTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/CreatingState.tsx\nvar CreatingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"shape\", {});\n    __publicField(this, \"points\", [[0, 0, 0.5]]);\n    __publicField(this, \"persistDebounced\", debounce(this.app.persist, 200));\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onEnter\", () => {\n      var _a3, _b;\n      const { Shape: Shape5, previousShape } = this.tool;\n      const { originPoint } = this.app.inputs;\n      this.app.history.pause();\n      if (this.app.inputs.shiftKey && previousShape) {\n        this.shape = previousShape;\n        const { shape } = this;\n        const prevPoint = shape.props.points[shape.props.points.length - 1];\n        const nextPoint = Vec.sub(originPoint, shape.props.point).concat((_a3 = originPoint[2]) != null ? _a3 : 0.5);\n        this.points = [...shape.props.points, prevPoint, prevPoint];\n        const len = Math.ceil(Vec.dist(prevPoint, originPoint) \/ 16);\n        for (let i2 = 0, t = i2 \/ (len - 1); i2 < len; i2++) {\n          this.points.push(\n            Vec.lrp(prevPoint, nextPoint, t).concat(lerp(prevPoint[2], nextPoint[2], t))\n          );\n        }\n        this.addNextPoint(nextPoint);\n      } else {\n        this.tool.previousShape = void 0;\n        this.points = [[0, 0, (_b = originPoint[2]) != null ? _b : 0.5]];\n        this.shape = new Shape5({\n          id: uniqueId(),\n          type: Shape5.id,\n          parentId: this.app.currentPage.id,\n          point: originPoint.slice(0, 2),\n          points: this.points,\n          isComplete: false,\n          fill: this.app.settings.color,\n          stroke: this.app.settings.color\n        });\n        this.shape.setScaleLevel(this.app.settings.scaleLevel);\n        this.app.currentPage.addShapes(this.shape);\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { shape } = this;\n      const { currentPoint, previousPoint } = this.app.inputs;\n      if (Vec.isEqual(previousPoint, currentPoint))\n        return;\n      this.addNextPoint(Vec.sub(currentPoint, shape.props.point).concat(currentPoint[2]));\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      if (!this.shape)\n        throw Error(\"Expected a creating shape.\");\n      this.app.history.resume();\n      this.shape.update({\n        isComplete: true,\n        points: this.tool.simplify ? PointUtils.simplify2(this.points, this.tool.simplifyTolerance) : this.shape.props.points\n      });\n      this.tool.previousShape = this.shape;\n      this.tool.transition(\"idle\");\n      let tool = this.app.selectedTool.id;\n      if (tool === \"pencil\" || tool === \"highlighter\") {\n        this.persistDebounced();\n      } else {\n        this.app.persist();\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          if (!this.shape)\n            throw Error(\"Expected a creating shape.\");\n          this.app.deleteShapes([this.shape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  addNextPoint(point) {\n    const { shape } = this;\n    const offset = Vec.min(point, [0, 0]);\n    this.points.push(point);\n    if (offset[0] < 0 || offset[1] < 0) {\n      this.points = this.points.map((pt2) => Vec.sub(pt2, offset).concat(pt2[2]));\n      shape.update({\n        point: Vec.add(shape.props.point, offset),\n        points: this.points\n      });\n    } else {\n      shape.update({\n        points: this.points\n      });\n    }\n  }\n};\n__publicField(CreatingState3, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/IdleState.tsx\nvar IdleState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order || this.app.readOnly)\n        return;\n      this.tool.transition(\"creating\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState3, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/states\/PinchingState.ts\nvar PinchingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"origin\", [0, 0]);\n    __publicField(this, \"prevDelta\", [0, 0]);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevDelta = info.info.delta;\n      this.origin = info.info.point;\n    });\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLDrawTool\/TLDrawTool.tsx\nvar TLDrawTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"simplify\", true);\n    __publicField(this, \"simplifyTolerance\", 1);\n    __publicField(this, \"previousShape\");\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(TLDrawTool, \"id\", \"draw\");\n__publicField(TLDrawTool, \"states\", [IdleState3, CreatingState3, PinchingState]);\n__publicField(TLDrawTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/ErasingState.tsx\nvar ErasingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"points\", [[0, 0, 0.5]]);\n    __publicField(this, \"hitShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"onEnter\", () => {\n      const { originPoint } = this.app.inputs;\n      this.points = [originPoint];\n      this.hitShapes.clear();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, previousPoint } = this.app.inputs;\n      if (Vec.isEqual(previousPoint, currentPoint))\n        return;\n      this.points.push(currentPoint);\n      this.app.shapesInViewport.filter((shape) => shape.hitTestLineSegment(previousPoint, currentPoint)).forEach((shape) => this.hitShapes.add(shape));\n      this.app.setErasingShapes(Array.from(this.hitShapes.values()));\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.deleteShapes(Array.from(this.hitShapes.values()));\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.setErasingShapes([]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(ErasingState, \"id\", \"erasing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/IdleState.tsx\nvar IdleState4 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState4, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/states\/PointingState.tsx\nvar PointingState2 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      const { currentPoint } = this.app.inputs;\n      this.app.setErasingShapes(\n        this.app.shapesInViewport.filter((shape) => shape.hitTestPoint(currentPoint))\n      );\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"erasing\");\n        this.app.setSelectedShapes([]);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const shapesToDelete = [...this.app.erasingShapes];\n      this.app.setErasingShapes([]);\n      this.app.deleteShapes(shapesToDelete);\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingState2, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLEraseTool\/TLEraseTool.tsx\nvar TLEraseTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLEraseTool, \"id\", \"erase\");\n__publicField(TLEraseTool, \"states\", [IdleState4, PointingState2, ErasingState]);\n__publicField(TLEraseTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLBaseLineBindingState.ts\nvar TLBaseLineBindingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"handle\", {});\n    __publicField(this, \"handleId\", \"end\");\n    __publicField(this, \"currentShape\", {});\n    __publicField(this, \"initialShape\", {});\n    __publicField(this, \"bindableShapeIds\", []);\n    __publicField(this, \"startBindingShapeId\");\n    __publicField(this, \"newStartBindingId\", \"\");\n    __publicField(this, \"draggedBindingId\", \"\");\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { shiftKey, previousPoint, originPoint, currentPoint, modKey: modKey2, altKey },\n        settings: { snapToGrid }\n      } = this.app;\n      const shape = this.app.getShapeById(this.initialShape.id);\n      const { handles } = this.initialShape;\n      const handleId = this.handleId;\n      const otherHandleId = this.handleId === \"start\" ? \"end\" : \"start\";\n      if (src_default.isEqual(previousPoint, currentPoint))\n        return;\n      let delta = src_default.sub(currentPoint, originPoint);\n      if (shiftKey) {\n        const A3 = handles[otherHandleId].point;\n        const B3 = handles[handleId].point;\n        const C3 = src_default.add(B3, delta);\n        const angle = src_default.angle(A3, C3);\n        const adjusted = src_default.rotWith(C3, A3, GeomUtils.snapAngleToSegments(angle, 24) - angle);\n        delta = src_default.add(delta, src_default.sub(adjusted, C3));\n      }\n      const nextPoint = src_default.add(handles[handleId].point, delta);\n      const handleChanges = {\n        [handleId]: __spreadProps(__spreadValues({}, handles[handleId]), {\n          point: snapToGrid ? src_default.snap(nextPoint, GRID_SIZE) : src_default.toFixed(nextPoint),\n          bindingId: void 0\n        })\n      };\n      let updated = this.currentShape.getHandlesChange(this.initialShape, handleChanges);\n      if (!updated)\n        return;\n      const next = {\n        shape: deepMerge(shape.props, updated),\n        bindings: {}\n      };\n      let draggedBinding;\n      const draggingHandle = next.shape.handles[handleId];\n      const oppositeHandle = next.shape.handles[otherHandleId];\n      if (this.startBindingShapeId) {\n        let nextStartBinding;\n        const startTarget = this.app.getShapeById(this.startBindingShapeId);\n        if (startTarget) {\n          const center = startTarget.getCenter();\n          const startHandle = next.shape.handles.start;\n          const endHandle = next.shape.handles.end;\n          const rayPoint = src_default.add(startHandle.point, next.shape.point);\n          if (src_default.isEqual(rayPoint, center))\n            rayPoint[1]++;\n          const rayOrigin = center;\n          const isInsideShape = startTarget.hitTestPoint(currentPoint);\n          const rayDirection = src_default.uni(src_default.sub(rayPoint, rayOrigin));\n          const hasStartBinding = this.app.currentPage.bindings[this.newStartBindingId] !== void 0;\n          if (!modKey2 && !startTarget.hitTestPoint(src_default.add(next.shape.point, endHandle.point))) {\n            nextStartBinding = findBindingPoint(\n              shape.props,\n              startTarget,\n              \"start\",\n              this.newStartBindingId,\n              center,\n              rayOrigin,\n              rayDirection,\n              isInsideShape\n            );\n          }\n          if (nextStartBinding && !hasStartBinding) {\n            next.bindings[this.newStartBindingId] = nextStartBinding;\n            next.shape.handles.start.bindingId = nextStartBinding.id;\n          } else if (!nextStartBinding && hasStartBinding) {\n            console.log(\"removing start binding\");\n            delete next.bindings[this.newStartBindingId];\n            next.shape.handles.start.bindingId = void 0;\n          }\n        }\n      }\n      if (!modKey2) {\n        const rayOrigin = src_default.add(oppositeHandle.point, next.shape.point);\n        const rayPoint = src_default.add(draggingHandle.point, next.shape.point);\n        const rayDirection = src_default.uni(src_default.sub(rayPoint, rayOrigin));\n        const startPoint = src_default.add(next.shape.point, next.shape.handles.start.point);\n        const endPoint = src_default.add(next.shape.point, next.shape.handles.end.point);\n        const targets = this.bindableShapeIds.map((id3) => this.app.getShapeById(id3)).sort((a3, b3) => b3.nonce - a3.nonce).filter((shape2) => {\n          return ![startPoint, endPoint].every((point) => shape2.hitTestPoint(point));\n        });\n        for (const target of targets) {\n          draggedBinding = findBindingPoint(\n            shape.props,\n            target,\n            this.handleId,\n            this.draggedBindingId,\n            rayPoint,\n            rayOrigin,\n            rayDirection,\n            altKey\n          );\n          if (draggedBinding)\n            break;\n        }\n      }\n      if (draggedBinding) {\n        next.bindings[this.draggedBindingId] = draggedBinding;\n        next.shape = deepMerge(next.shape, {\n          handles: {\n            [this.handleId]: {\n              bindingId: this.draggedBindingId\n            }\n          }\n        });\n      } else {\n        const currentBindingId = shape.props.handles[this.handleId].bindingId;\n        if (currentBindingId !== void 0) {\n          delete next.bindings[currentBindingId];\n          next.shape = deepMerge(next.shape, {\n            handles: {\n              [this.handleId]: {\n                bindingId: void 0\n              }\n            }\n          });\n        }\n      }\n      updated = this.currentShape.getHandlesChange(next.shape, next.shape.handles);\n      transaction(() => {\n        var _a3;\n        if (updated) {\n          this.currentShape.update(updated);\n          this.app.currentPage.updateBindings(next.bindings);\n          const bindingShapes = Object.values((_a3 = updated.handles) != null ? _a3 : {}).map((handle) => handle.bindingId).map((id3) => this.app.currentPage.bindings[id3]).filter(Boolean).flatMap((binding) => [binding.toId, binding.fromId].filter(Boolean));\n          this.app.setBindingShapes(bindingShapes);\n        }\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n      if (this.currentShape) {\n        this.app.setSelectedShapes([this.currentShape]);\n      }\n      this.app.transition(\"select\");\n      this.app.persist();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.clearBindingShape();\n      this.app.history.resume();\n      this.app.persist();\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.deleteShapes([this.currentShape]);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(TLBaseLineBindingState, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/CreatingState.tsx\nvar CreatingState4 = class extends TLBaseLineBindingState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      this.app.history.pause();\n      this.newStartBindingId = uniqueId();\n      this.draggedBindingId = uniqueId();\n      const page = this.app.currentPage;\n      this.bindableShapeIds = page.getBindableShapes();\n      const { Shape: Shape5 } = this.tool;\n      const { originPoint } = this.app.inputs;\n      const shape = new Shape5(__spreadProps(__spreadValues({}, Shape5.defaultProps), {\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: this.app.currentPage.id,\n        point: this.app.settings.snapToGrid ? src_default.snap(originPoint, GRID_SIZE) : originPoint,\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color,\n        scaleLevel: this.app.settings.scaleLevel\n      }));\n      this.initialShape = toJS(shape.props);\n      this.currentShape = shape;\n      this.app.currentPage.addShapes(shape);\n      this.app.setSelectedShapes([shape]);\n      this.startBindingShapeId = (_a3 = this.bindableShapeIds.map((id3) => this.app.getShapeById(id3)).filter((s2) => PointUtils.pointInBounds(originPoint, s2.bounds))[0]) == null ? void 0 : _a3.id;\n      if (this.startBindingShapeId) {\n        this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId), 1);\n        this.app.setBindingShapes([this.startBindingShapeId]);\n      }\n    });\n  }\n};\n__publicField(CreatingState4, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/IdleState.tsx\nvar IdleState5 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"pointing\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerEnter\", (info) => {\n      if (info.order)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.app.setHoveredShape(info.shape.id);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (!(info.handle === \"background\" || info.handle === \"center\")) {\n            this.tool.transition(\"hoveringSelectionHandle\", info);\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", (info) => {\n      if (info.order)\n        return;\n      if (info.type === \"shape\" \/* Shape *\/) {\n        if (this.app.hoveredId) {\n          this.app.setHoveredShape(void 0);\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState5, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/states\/PointingState.tsx\nvar PointingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"creating\");\n        this.app.setSelectedShapes(this.app.currentPage.shapes);\n      }\n    });\n  }\n};\n__publicField(PointingState3, \"id\", \"pointing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLLineTool\/TLLineTool.ts\nvar TLLineTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLLineTool, \"id\", \"line\");\n__publicField(TLLineTool, \"states\", [IdleState5, PointingState3, CreatingState4]);\n__publicField(TLLineTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/states\/CreatingState.tsx\nvar CreatingState5 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"aspectRatio\");\n    __publicField(this, \"initialBounds\", {});\n    __publicField(this, \"onEnter\", () => {\n      const {\n        currentPage,\n        inputs: { originPoint }\n      } = this.app;\n      const { Shape: Shape5 } = this.tool;\n      const shape = new Shape5({\n        id: uniqueId(),\n        type: Shape5.id,\n        parentId: currentPage.id,\n        point: [...originPoint],\n        text: \"\",\n        size: [16, 32],\n        isSizeLocked: true,\n        fill: this.app.settings.color,\n        stroke: this.app.settings.color\n      });\n      this.creatingShape = shape;\n      this.creatingShape.setScaleLevel(this.app.settings.scaleLevel);\n      transaction(() => {\n        this.app.currentPage.addShapes(shape);\n        const point = this.app.settings.snapToGrid ? src_default.snap([...originPoint], GRID_SIZE) : originPoint;\n        const { bounds } = shape;\n        shape.update({\n          point: src_default.sub(point, [bounds.width \/ 2, bounds.height \/ 2])\n        });\n        this.app.transition(\"select\");\n        this.app.setSelectedShapes([shape]);\n        this.app.currentState.transition(\"editingShape\", {\n          type: \"shape\" \/* Shape *\/,\n          shape: this.creatingShape,\n          order: 0\n        });\n      });\n    });\n  }\n};\n__publicField(CreatingState5, \"id\", \"creating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/states\/IdleState.tsx\nvar IdleState6 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order || this.app.readOnly)\n        return;\n      this.tool.transition(\"creating\");\n    });\n    __publicField(this, \"onPinchStart\", (...args) => {\n      var _a3, _b;\n      this.app.transition(\"select\", { returnTo: this.app.currentState.id });\n      (_b = (_a3 = this.app._events).onPinchStart) == null ? void 0 : _b.call(_a3, ...args);\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState6, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLTextTool\/TLTextTool.ts\nvar TLTextTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n  }\n};\n__publicField(TLTextTool, \"id\", \"box\");\n__publicField(TLTextTool, \"states\", [IdleState6, CreatingState5]);\n__publicField(TLTextTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLBush.ts\nvar import_rbush = __toESM(require_rbush_min());\nvar TLBush = class extends import_rbush.default {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"toBBox\", (shape) => shape.rotatedBounds);\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/BrushingState.ts\nvar BrushingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"initialSelectedIds\", []);\n    __publicField(this, \"initialSelectedShapes\", []);\n    __publicField(this, \"tree\", new TLBush());\n    __publicField(this, \"onEnter\", () => {\n      const { selectedShapes, currentPage, selectedIds } = this.app;\n      this.initialSelectedIds = Array.from(selectedIds.values());\n      this.initialSelectedShapes = Array.from(selectedShapes.values());\n      this.tree.load(currentPage.shapes);\n    });\n    __publicField(this, \"onExit\", () => {\n      this.initialSelectedIds = [];\n      this.tree.clear();\n      this.app.setBrush(void 0);\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { shiftKey, ctrlKey, originPoint, currentPoint }\n      } = this.app;\n      const brushBounds = BoundsUtils.getBoundsFromPoints([currentPoint, originPoint], 0);\n      this.app.setBrush(brushBounds);\n      const hits = dedupe(\n        this.tree.search(brushBounds).filter(\n          (shape) => ctrlKey ? BoundsUtils.boundsContain(brushBounds, shape.rotatedBounds) : shape.hitTestBounds(brushBounds)\n        ).filter((shape) => shape.type !== \"group\").map((shape) => {\n          var _a3;\n          return (_a3 = this.app.getParentGroup(shape)) != null ? _a3 : shape;\n        })\n      );\n      if (shiftKey) {\n        if (hits.every((hit) => this.initialSelectedShapes.includes(hit))) {\n          this.app.setSelectedShapes(this.initialSelectedShapes.filter((hit) => !hits.includes(hit)));\n        } else {\n          this.app.setSelectedShapes(dedupe([...this.initialSelectedShapes, ...hits]));\n        }\n      } else {\n        this.app.setSelectedShapes(hits);\n      }\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.setBrush(void 0);\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"handleModifierKey\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.setBrush(void 0);\n          this.app.setSelectedShapes(this.initialSelectedIds);\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(BrushingState, \"id\", \"brushing\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/ContextMenuState.ts\nvar ContextMenuState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      if (info.type === \"shape\" \/* Shape *\/ && !selectedIds.has(info.shape.id)) {\n        const shape = (_a3 = this.app.getParentGroup(info.shape)) != null ? _a3 : info.shape;\n        if (shiftKey) {\n          this.app.setSelectedShapes([...Array.from(selectedIds.values()), shape.id]);\n          return;\n        }\n        this.app.setSelectedShapes([shape]);\n      }\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(ContextMenuState, \"id\", \"contextMenu\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/IdleState.ts\nvar IdleState7 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      if (info.fromId === \"pinching\" && this.parent.returnTo) {\n        this.app.transition(this.parent.returnTo);\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n    });\n    __publicField(this, \"onPointerEnter\", (info) => {\n      if (info.order)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.app.setHoveredShape(info.shape.id);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (!(info.handle === \"background\" || info.handle === \"center\")) {\n            this.tool.transition(\"hoveringSelectionHandle\", info);\n          }\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          this.app.setHoveredShape(void 0);\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerDown\", (info, event) => {\n      const {\n        selectedShapes,\n        inputs: { ctrlKey }\n      } = this.app;\n      if (event.button === 2) {\n        this.tool.transition(\"contextMenu\", info);\n        return;\n      }\n      if (ctrlKey) {\n        this.tool.transition(\"pointingCanvas\");\n        return;\n      }\n      switch (info.type) {\n        case \"selection\" \/* Selection *\/: {\n          switch (info.handle) {\n            case \"center\": {\n              break;\n            }\n            case \"background\": {\n              this.tool.transition(\"pointingBoundsBackground\");\n              break;\n            }\n            case \"rotate\": {\n              this.tool.transition(\"pointingRotateHandle\");\n              break;\n            }\n            default: {\n              this.tool.transition(\"pointingResizeHandle\", info);\n            }\n          }\n          break;\n        }\n        case \"shape\" \/* Shape *\/: {\n          if (selectedShapes.has(info.shape)) {\n            this.tool.transition(\"pointingSelectedShape\", info);\n          } else {\n            const { selectionBounds, inputs } = this.app;\n            if (selectionBounds && PointUtils.pointInBounds(inputs.currentPoint, selectionBounds)) {\n              this.tool.transition(\"pointingShapeBehindBounds\", info);\n            } else {\n              this.tool.transition(\"pointingShape\", info);\n            }\n          }\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          this.tool.transition(\"pointingHandle\", info);\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          this.tool.transition(\"pointingCanvas\");\n          break;\n        }\n        case \"minimap\" \/* Minimap *\/: {\n          this.tool.transition(\"pointingMinimap\", __spreadValues(__spreadValues({}, event), info));\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", (info) => {\n      if (info.order)\n        return;\n      if (info.type === \"shape\" \/* Shape *\/) {\n        if (this.app.hoveredId) {\n          this.app.setHoveredShape(void 0);\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onDoubleClick\", (info) => {\n      if (info.order || this.app.selectedShapesArray.length !== 1 || this.app.readOnly)\n        return;\n      const selectedShape = this.app.selectedShapesArray[0];\n      if (!selectedShape.canEdit || selectedShape.props.isLocked)\n        return;\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          this.tool.transition(\"editingShape\", info);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          if (this.app.selectedShapesArray.length === 1) {\n            this.tool.transition(\"editingShape\", {\n              type: \"shape\" \/* Shape *\/,\n              target: selectedShape\n            });\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      const { selectedShapesArray } = this.app;\n      switch (e.key) {\n        case \"Enter\": {\n          if (selectedShapesArray.length === 1 && selectedShapesArray[0].canEdit && !this.app.readOnly) {\n            this.tool.transition(\"editingShape\", {\n              type: \"shape\" \/* Shape *\/,\n              shape: selectedShapesArray[0],\n              order: 0\n            });\n          }\n          break;\n        }\n        case \"Escape\": {\n          if (selectedShapesArray.length) {\n            this.app.setSelectedShapes([]);\n          }\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(IdleState7, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingShapeState.ts\nvar PointingShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      const shape = (_a3 = this.app.getParentGroup(info.shape)) != null ? _a3 : info.shape;\n      if (shiftKey) {\n        this.app.setSelectedShapes([...Array.from(selectedIds.values()), shape.id]);\n      } else {\n        this.app.setSelectedShapes([shape]);\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingShapeState, \"id\", \"pointingShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingBoundsBackgroundState.ts\nvar PointingBoundsBackgroundState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"move\" \/* Move *\/);\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.setSelectedShapes([]);\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingBoundsBackgroundState, \"id\", \"pointingBoundsBackground\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingCanvasState.ts\nvar PointingCanvasState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      const { shiftKey } = this.app.inputs;\n      if (!shiftKey) {\n        this.app.setSelectedShapes([]);\n        this.app.setEditingShape();\n        (_a3 = window.getSelection()) == null ? void 0 : _a3.removeAllRanges();\n      }\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"brushing\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      if (!this.app.inputs.shiftKey) {\n        this.app.setSelectedShapes([]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onDoubleClick\", () => {\n      this.app.notify(\"canvas-dbclick\", { point: this.app.inputs.originPoint });\n    });\n  }\n};\n__publicField(PointingCanvasState, \"id\", \"pointingCanvas\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/TranslatingState.ts\nvar TranslatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"move\" \/* Move *\/);\n    __publicField(this, \"isCloning\", false);\n    __publicField(this, \"didClone\", false);\n    __publicField(this, \"initialPoints\", {});\n    __publicField(this, \"initialShapePoints\", {});\n    __publicField(this, \"initialClonePoints\", {});\n    __publicField(this, \"clones\", []);\n    __publicField(this, \"onEnter\", () => {\n      var _a3;\n      this.app.history.pause();\n      const { allSelectedShapesArray, inputs } = this.app;\n      this.initialShapePoints = Object.fromEntries(\n        allSelectedShapesArray.map(({ id: id3, props: { point } }) => [id3, point.slice()])\n      );\n      this.initialPoints = this.initialShapePoints;\n      document.querySelectorAll(\"input,textarea\").forEach((el) => el.blur());\n      (_a3 = document.getSelection()) == null ? void 0 : _a3.empty();\n      if (inputs.altKey) {\n        this.startCloning();\n      } else {\n        this.moveSelectedShapesToPointer();\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.history.resume();\n      this.didClone = false;\n      this.isCloning = false;\n      this.clones = [];\n      this.initialPoints = {};\n      this.initialShapePoints = {};\n      this.initialClonePoints = {};\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { currentPoint }\n      } = this.app;\n      this.moveSelectedShapesToPointer();\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Alt\": {\n          this.startCloning();\n          break;\n        }\n        case \"Escape\": {\n          this.app.allSelectedShapes.forEach((shape) => {\n            shape.update({ point: this.initialPoints[shape.id] });\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyUp\", (info, e) => {\n      switch (e.key) {\n        case \"Alt\": {\n          if (!this.isCloning)\n            throw Error(\"Expected to be cloning.\");\n          const { currentPage, allSelectedShapes } = this.app;\n          currentPage.removeShapes(...allSelectedShapes);\n          this.initialPoints = this.initialShapePoints;\n          this.app.setSelectedShapes(Object.keys(this.initialPoints));\n          this.moveSelectedShapesToPointer();\n          this.isCloning = false;\n          break;\n        }\n      }\n    });\n  }\n  moveSelectedShapesToPointer() {\n    const {\n      inputs: { shiftKey, originPoint, currentPoint }\n    } = this.app;\n    const { initialPoints } = this;\n    const delta = Vec.sub(currentPoint, originPoint);\n    if (shiftKey) {\n      if (Math.abs(delta[0]) < Math.abs(delta[1])) {\n        delta[0] = 0;\n      } else {\n        delta[1] = 0;\n      }\n    }\n    transaction(() => {\n      this.app.allSelectedShapesArray.filter((s2) => !s2.props.isLocked).forEach((shape) => {\n        let position = Vec.add(initialPoints[shape.id], delta);\n        if (this.app.settings.snapToGrid) {\n          position = Vec.snap(position, GRID_SIZE);\n        }\n        shape.update({ point: position });\n      });\n    });\n  }\n  startCloning() {\n    if (!this.didClone) {\n      this.clones = this.app.allSelectedShapesArray.map((shape) => {\n        const ShapeClass = this.app.getShapeClass(shape.type);\n        if (!ShapeClass)\n          throw Error(\"Could not find that shape class.\");\n        const clone = new ShapeClass(__spreadProps(__spreadValues({}, shape.serialized), {\n          id: uniqueId(),\n          type: shape.type,\n          point: this.initialPoints[shape.id],\n          rotation: shape.props.rotation,\n          isLocked: false\n        }));\n        return clone;\n      });\n      this.initialClonePoints = Object.fromEntries(\n        this.clones.map(({ id: id3, props: { point } }) => [id3, point.slice()])\n      );\n      this.didClone = true;\n    }\n    this.app.allSelectedShapes.forEach((shape) => {\n      shape.update({ point: this.initialPoints[shape.id] });\n    });\n    this.initialPoints = this.initialClonePoints;\n    this.app.currentPage.addShapes(...this.clones);\n    this.app.setSelectedShapes(Object.keys(this.initialClonePoints));\n    this.moveSelectedShapesToPointer();\n    this.isCloning = true;\n  }\n};\n__publicField(TranslatingState, \"id\", \"translating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingSelectedShapeState.ts\nvar PointingSelectedShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"pointedSelectedShape\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.pointedSelectedShape = info.shape;\n    });\n    __publicField(this, \"onExit\", () => {\n      this.pointedSelectedShape = void 0;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const { shiftKey, currentPoint } = this.app.inputs;\n      const { selectedShapesArray } = this.app;\n      if (!this.pointedSelectedShape)\n        throw Error(\"Expected a pointed selected shape\");\n      if (shiftKey) {\n        const { selectedIds } = this.app;\n        const next = Array.from(selectedIds.values());\n        next.splice(next.indexOf(this.pointedSelectedShape.id), 1);\n        this.app.setSelectedShapes(next);\n      } else if (selectedShapesArray.length === 1 && this.pointedSelectedShape.canEdit && !this.app.readOnly && !this.pointedSelectedShape.props.isLocked && this.pointedSelectedShape instanceof TLBoxShape && PointUtils.pointInBounds(currentPoint, this.pointedSelectedShape.bounds)) {\n        this.tool.transition(\"editingShape\", {\n          shape: this.pointedSelectedShape,\n          order: 0,\n          type: \"shape\" \/* Shape *\/\n        });\n        return;\n      } else {\n        this.app.setSelectedShapes([this.pointedSelectedShape.id]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingSelectedShapeState, \"id\", \"pointingSelectedShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingResizeHandleState.ts\nvar PointingResizeHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n      this.updateCursor();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"resizing\", this.info);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"hoveringSelectionHandle\", this.info);\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n  updateCursor() {\n    const rotation = this.app.selectionBounds.rotation;\n    const cursor = CURSORS[this.info.handle];\n    this.app.cursors.setCursor(cursor, rotation);\n  }\n};\n__publicField(PointingResizeHandleState, \"id\", \"pointingResizeHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/ResizingState.ts\nvar _ResizingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"isSingle\", false);\n    __publicField(this, \"handle\", \"bottom_right_corner\" \/* BottomRight *\/);\n    __publicField(this, \"snapshots\", {});\n    __publicField(this, \"initialCommonBounds\", {});\n    __publicField(this, \"selectionRotation\", 0);\n    __publicField(this, \"resizeType\", \"corner\");\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3, _b;\n      const { history, selectedShapesArray, selectionBounds } = this.app;\n      if (!selectionBounds)\n        throw Error(\"Expected a selected bounds.\");\n      this.handle = info.handle;\n      this.resizeType = info.handle === \"left_edge\" \/* Left *\/ || info.handle === \"right_edge\" \/* Right *\/ ? \"horizontal-edge\" : info.handle === \"top_edge\" \/* Top *\/ || info.handle === \"bottom_edge\" \/* Bottom *\/ ? \"vertical-edge\" : \"corner\";\n      this.app.cursors.setCursor(\n        _ResizingState.CURSORS[info.handle],\n        (_a3 = this.app.selectionBounds) == null ? void 0 : _a3.rotation\n      );\n      history.pause();\n      const initialInnerBounds = BoundsUtils.getBoundsFromPoints(\n        selectedShapesArray.map((shape) => BoundsUtils.getBoundsCenter(shape.bounds))\n      );\n      this.isSingle = selectedShapesArray.length === 1;\n      this.selectionRotation = this.isSingle ? (_b = selectedShapesArray[0].props.rotation) != null ? _b : 0 : 0;\n      this.initialCommonBounds = __spreadValues({}, selectionBounds);\n      this.snapshots = Object.fromEntries(\n        selectedShapesArray.map((shape) => {\n          const bounds = __spreadValues({}, shape.bounds);\n          const [cx2, cy] = BoundsUtils.getBoundsCenter(bounds);\n          return [\n            shape.id,\n            {\n              props: shape.serialized,\n              bounds,\n              transformOrigin: [\n                (cx2 - this.initialCommonBounds.minX) \/ this.initialCommonBounds.width,\n                (cy - this.initialCommonBounds.minY) \/ this.initialCommonBounds.height\n              ],\n              innerTransformOrigin: [\n                (cx2 - initialInnerBounds.minX) \/ initialInnerBounds.width,\n                (cy - initialInnerBounds.minY) \/ initialInnerBounds.height\n              ],\n              isAspectRatioLocked: shape.props.isAspectRatioLocked || Boolean(!shape.canChangeAspectRatio || shape.props.rotation)\n            }\n          ];\n        })\n      );\n      selectedShapesArray.forEach((shape) => {\n        var _a4;\n        (_a4 = shape.onResizeStart) == null ? void 0 : _a4.call(shape, { isSingle: this.isSingle });\n      });\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n      this.snapshots = {};\n      this.initialCommonBounds = {};\n      this.selectionRotation = 0;\n      this.app.history.resume();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        inputs: { altKey, shiftKey, ctrlKey, originPoint, currentPoint }\n      } = this.app;\n      const { handle, snapshots, initialCommonBounds } = this;\n      let delta = Vec.sub(currentPoint, originPoint);\n      if (altKey) {\n        delta = Vec.mul(delta, 2);\n      }\n      const firstShape = getFirstFromSet(this.app.selectedShapes);\n      const useAspectRatioLock = shiftKey || this.isSingle && (ctrlKey ? !(\"clipping\" in firstShape.props) : !firstShape.canChangeAspectRatio || firstShape.props.isAspectRatioLocked);\n      let nextBounds = BoundsUtils.getTransformedBoundingBox(\n        initialCommonBounds,\n        handle,\n        delta,\n        this.selectionRotation,\n        useAspectRatioLock\n      );\n      if (altKey) {\n        nextBounds = __spreadValues(__spreadValues({}, nextBounds), BoundsUtils.centerBounds(nextBounds, BoundsUtils.getBoundsCenter(initialCommonBounds)));\n      }\n      const { scaleX, scaleY } = nextBounds;\n      let resizeDimension;\n      switch (this.resizeType) {\n        case \"horizontal-edge\": {\n          resizeDimension = Math.abs(scaleX);\n          break;\n        }\n        case \"vertical-edge\": {\n          resizeDimension = Math.abs(scaleY);\n          break;\n        }\n        case \"corner\": {\n          resizeDimension = Math.min(Math.abs(scaleX), Math.abs(scaleY));\n        }\n      }\n      this.app.selectedShapes.forEach((shape) => {\n        var _a3, _b;\n        const {\n          isAspectRatioLocked,\n          props: initialShapeProps,\n          bounds: initialShapeBounds,\n          transformOrigin,\n          innerTransformOrigin\n        } = snapshots[shape.id];\n        let relativeBounds = BoundsUtils.getRelativeTransformedBoundingBox(\n          nextBounds,\n          initialCommonBounds,\n          initialShapeBounds,\n          scaleX < 0,\n          scaleY < 0\n        );\n        const canResizeAny = shape.canResize.some((r2) => r2);\n        if (!(canResizeAny || shape.props.isSizeLocked) && this.isSingle) {\n          return;\n        }\n        let scale = [scaleX, scaleY];\n        let rotation = (_a3 = initialShapeProps.rotation) != null ? _a3 : 0;\n        let center = BoundsUtils.getBoundsCenter(relativeBounds);\n        if (!shape.canFlip) {\n          scale = Vec.abs(scale);\n        }\n        if (!shape.canScale) {\n          scale = (_b = initialShapeProps.scale) != null ? _b : [1, 1];\n        }\n        if (rotation && scaleX < 0 && scaleY >= 0 || scaleY < 0 && scaleX >= 0) {\n          rotation *= -1;\n        }\n        if (this.app.settings.snapToGrid && !isAspectRatioLocked) {\n          relativeBounds = BoundsUtils.snapBoundsToGrid(relativeBounds, GRID_SIZE);\n        }\n        shape.onResize(initialShapeProps, {\n          center,\n          rotation,\n          scale,\n          bounds: relativeBounds,\n          type: handle,\n          clip: ctrlKey,\n          transformOrigin\n        });\n      });\n      this.updateCursor(scaleX, scaleY);\n      this.app.viewport.panToPointWhenNearBounds(currentPoint);\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.selectedShapes.forEach((shape) => {\n            shape.update(__spreadValues({}, this.snapshots[shape.id].props));\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  updateCursor(scaleX, scaleY) {\n    var _a3, _b, _c, _d;\n    const isFlippedX = scaleX < 0 && scaleY >= 0;\n    const isFlippedY = scaleY < 0 && scaleX >= 0;\n    switch (this.handle) {\n      case \"top_left_corner\" \/* TopLeft *\/:\n      case \"bottom_right_corner\" \/* BottomRight *\/: {\n        if (isFlippedX || isFlippedY) {\n          if (this.app.cursors.cursor === \"nwse-resize\" \/* NwseResize *\/) {\n            this.app.cursors.setCursor(\"nesw-resize\" \/* NeswResize *\/, (_a3 = this.app.selectionBounds) == null ? void 0 : _a3.rotation);\n          }\n        } else {\n          if (this.app.cursors.cursor === \"nesw-resize\" \/* NeswResize *\/) {\n            this.app.cursors.setCursor(\"nwse-resize\" \/* NwseResize *\/, (_b = this.app.selectionBounds) == null ? void 0 : _b.rotation);\n          }\n        }\n        break;\n      }\n      case \"top_right_corner\" \/* TopRight *\/:\n      case \"bottom_left_corner\" \/* BottomLeft *\/: {\n        if (isFlippedX || isFlippedY) {\n          if (this.app.cursors.cursor === \"nesw-resize\" \/* NeswResize *\/) {\n            this.app.cursors.setCursor(\"nwse-resize\" \/* NwseResize *\/, (_c = this.app.selectionBounds) == null ? void 0 : _c.rotation);\n          }\n        } else {\n          if (this.app.cursors.cursor === \"nwse-resize\" \/* NwseResize *\/) {\n            this.app.cursors.setCursor(\"nesw-resize\" \/* NeswResize *\/, (_d = this.app.selectionBounds) == null ? void 0 : _d.rotation);\n          }\n        }\n        break;\n      }\n    }\n  }\n};\nvar ResizingState = _ResizingState;\n__publicField(ResizingState, \"id\", \"resizing\");\n__publicField(ResizingState, \"CURSORS\", {\n  [\"bottom_edge\" \/* Bottom *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"top_edge\" \/* Top *\/]: \"ns-resize\" \/* NsResize *\/,\n  [\"left_edge\" \/* Left *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"right_edge\" \/* Right *\/]: \"ew-resize\" \/* EwResize *\/,\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"nesw-resize\" \/* NeswResize *\/,\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_left_corner\" \/* TopLeft *\/]: \"nwse-resize\" \/* NwseResize *\/,\n  [\"top_right_corner\" \/* TopRight *\/]: \"nesw-resize\" \/* NeswResize *\/\n});\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingRotateHandleState.ts\nvar PointingRotateHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"rotate\" \/* Rotate *\/);\n    __publicField(this, \"handle\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.app.history.pause();\n      this.handle = info.handle;\n      this.updateCursor();\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"rotating\", { handle: this.handle });\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n  updateCursor() {\n    this.app.cursors.setCursor(CURSORS[this.handle], this.app.selectionRotation);\n  }\n};\n__publicField(PointingRotateHandleState, \"id\", \"pointingRotateHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingShapeBehindBoundsState.ts\nvar PointingShapeBehindBoundsState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5 && !this.app.readOnly) {\n        this.tool.transition(\"translating\");\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      const {\n        selectedIds,\n        inputs: { shiftKey }\n      } = this.app;\n      if (shiftKey) {\n        this.app.setSelectedShapes([...Array.from(selectedIds.values()), this.info.shape.id]);\n      } else {\n        this.app.setSelectedShapes([this.info.shape.id]);\n      }\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingShapeBehindBoundsState, \"id\", \"pointingShapeBehindBounds\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/RotatingState.ts\nvar RotatingState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"rotate\" \/* Rotate *\/);\n    __publicField(this, \"snapshot\", {});\n    __publicField(this, \"initialCommonCenter\", [0, 0]);\n    __publicField(this, \"initialCommonBounds\", {});\n    __publicField(this, \"initialAngle\", 0);\n    __publicField(this, \"initialSelectionRotation\", 0);\n    __publicField(this, \"handle\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      const { history, selectedShapesArray, selectionBounds } = this.app;\n      if (!selectionBounds)\n        throw Error(\"Expected selected bounds.\");\n      history.pause();\n      this.handle = info.handle;\n      this.initialSelectionRotation = this.app.selectionRotation;\n      this.initialCommonBounds = __spreadValues({}, selectionBounds);\n      this.initialCommonCenter = BoundsUtils.getBoundsCenter(selectionBounds);\n      this.initialAngle = Vec.angle(this.initialCommonCenter, this.app.inputs.currentPoint);\n      this.snapshot = Object.fromEntries(\n        selectedShapesArray.map((shape) => [\n          shape.id,\n          {\n            point: [...shape.props.point],\n            center: [...shape.center],\n            rotation: shape.props.rotation,\n            handles: \"handles\" in shape ? deepCopy(shape.handles) : void 0\n          }\n        ])\n      );\n      this.updateCursor();\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.history.resume();\n      this.snapshot = {};\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const {\n        selectedShapes,\n        inputs: { shiftKey, currentPoint }\n      } = this.app;\n      const { snapshot, initialCommonCenter, initialAngle, initialSelectionRotation } = this;\n      const currentAngle = Vec.angle(initialCommonCenter, currentPoint);\n      let angleDelta = currentAngle - initialAngle;\n      if (shiftKey) {\n        angleDelta = GeomUtils.snapAngleToSegments(angleDelta, 24);\n      }\n      selectedShapes.forEach((shape) => {\n        const initialShape = snapshot[shape.id];\n        let initialAngle2 = 0;\n        if (shiftKey) {\n          const { rotation = 0 } = initialShape;\n          initialAngle2 = GeomUtils.snapAngleToSegments(rotation, 24) - rotation;\n        }\n        const relativeCenter = Vec.sub(initialShape.center, initialShape.point);\n        const rotatedCenter = Vec.rotWith(initialShape.center, initialCommonCenter, angleDelta);\n        if (\"handles\" in shape) {\n          const initialHandles = initialShape.handles;\n          const handlePoints = initialHandles.map(\n            (handle) => Vec.rotWith(handle.point, relativeCenter, angleDelta)\n          );\n          const topLeft = BoundsUtils.getCommonTopLeft(handlePoints);\n          shape.update({\n            point: Vec.add(topLeft, Vec.sub(rotatedCenter, relativeCenter)),\n            handles: initialHandles.map((h2, i2) => __spreadProps(__spreadValues({}, h2), {\n              point: Vec.sub(handlePoints[i2], topLeft)\n            }))\n          });\n        } else {\n          shape.update({\n            point: Vec.sub(rotatedCenter, relativeCenter),\n            rotation: GeomUtils.clampRadians(\n              (initialShape.rotation || 0) + angleDelta + initialAngle2\n            )\n          });\n        }\n      });\n      const selectionRotation = GeomUtils.clampRadians(initialSelectionRotation + angleDelta);\n      this.app.setSelectionRotation(\n        shiftKey ? GeomUtils.snapAngleToSegments(selectionRotation, 24) : selectionRotation\n      );\n      this.updateCursor();\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.app.history.resume();\n      this.app.persist();\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.selectedShapes.forEach((shape) => {\n            shape.update(this.snapshot[shape.id]);\n          });\n          this.tool.transition(\"idle\");\n          break;\n        }\n      }\n    });\n  }\n  updateCursor() {\n    this.app.cursors.setCursor(CURSORS[this.handle], this.app.selectionRotation);\n  }\n};\n__publicField(RotatingState, \"id\", \"rotating\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PinchingState.ts\nvar PinchingState2 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPinch\", (info, event) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPointerDown\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState2, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/TranslatingHandleState.ts\nvar TranslatingHandleState = class extends TLBaseLineBindingState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"onEnter\", (info) => {\n      this.app.history.pause();\n      this.newStartBindingId = uniqueId();\n      this.draggedBindingId = uniqueId();\n      const page = this.app.currentPage;\n      this.bindableShapeIds = page.getBindableShapes();\n      this.handleId = info.id;\n      this.currentShape = info.shape;\n      this.initialShape = toJS(this.currentShape.props);\n      this.app.setSelectedShapes([this.currentShape]);\n    });\n  }\n};\n__publicField(TranslatingHandleState, \"id\", \"translatingHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingHandleState.ts\nvar PointingHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"info\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.info = info;\n    });\n    __publicField(this, \"onPointerMove\", () => {\n      const { currentPoint, originPoint } = this.app.inputs;\n      if (Vec.dist(currentPoint, originPoint) > 5) {\n        this.tool.transition(\"translatingHandle\", this.info);\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(PointingHandleState, \"id\", \"pointingHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/HoveringSelectionHandleState.ts\nvar HoveringSelectionHandleState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"handle\");\n    __publicField(this, \"onEnter\", (info) => {\n      var _a3;\n      this.app.cursors.setCursor(CURSORS[info.handle], (_a3 = this.app.selectionBounds.rotation) != null ? _a3 : 0);\n      this.handle = info.handle;\n    });\n    __publicField(this, \"onExit\", () => {\n      this.app.cursors.reset();\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"selection\" \/* Selection *\/: {\n          switch (info.handle) {\n            case \"center\": {\n              break;\n            }\n            case \"background\": {\n              break;\n            }\n            case \"top_left_resize_corner\" \/* TopLeft *\/:\n            case \"top_right_resize_corner\" \/* TopRight *\/:\n            case \"bottom_right_resize_corner\" \/* BottomRight *\/:\n            case \"bottom_left_resize_corner\" \/* BottomLeft *\/: {\n              this.tool.transition(\"pointingRotateHandle\", info);\n              break;\n            }\n            default: {\n              this.tool.transition(\"pointingResizeHandle\", info);\n            }\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPointerLeave\", () => {\n      this.tool.transition(\"idle\");\n    });\n    __publicField(this, \"onDoubleClick\", (info) => {\n      var _a3;\n      if (info.order)\n        return;\n      const isSingle = this.app.selectedShapes.size === 1;\n      if (!isSingle)\n        return;\n      const selectedShape = getFirstFromSet(this.app.selectedShapes);\n      if (selectedShape.canEdit && !this.app.readOnly && !selectedShape.props.isLocked) {\n        switch (info.type) {\n          case \"shape\" \/* Shape *\/: {\n            this.tool.transition(\"editingShape\", info);\n            break;\n          }\n          case \"selection\" \/* Selection *\/: {\n            (_a3 = selectedShape.onResetBounds) == null ? void 0 : _a3.call(selectedShape, {\n              zoom: this.app.viewport.camera.zoom\n            });\n            if (this.app.selectedShapesArray.length === 1) {\n              this.tool.transition(\"editingShape\", {\n                type: \"shape\" \/* Shape *\/,\n                target: selectedShape\n              });\n            }\n            break;\n          }\n        }\n      } else {\n        const asset = selectedShape.props.assetId ? this.app.assets[selectedShape.props.assetId] : void 0;\n        selectedShape.onResetBounds({ asset, zoom: this.app.viewport.camera.zoom });\n        this.tool.transition(\"idle\");\n      }\n    });\n  }\n};\n__publicField(HoveringSelectionHandleState, \"id\", \"hoveringSelectionHandle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/EditingShapeState.ts\nvar EditingShapeState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"editingShape\", {});\n    __publicField(this, \"onEnter\", (info) => {\n      this.editingShape = info.shape;\n      this.app.setEditingShape(info.shape);\n    });\n    __publicField(this, \"onExit\", () => {\n      var _a3;\n      if (this.editingShape && \"text\" in this.editingShape.props) {\n        const newText = this.editingShape.props[\"text\"].trim();\n        if (newText === \"\" && this.editingShape.props.type === \"text\") {\n          this.app.deleteShapes([this.editingShape]);\n        } else {\n          this.editingShape.onResetBounds();\n          this.editingShape.update({\n            text: newText\n          });\n        }\n      }\n      this.app.persist();\n      this.app.setEditingShape();\n      (_a3 = document.querySelector(\".tl-canvas\")) == null ? void 0 : _a3.focus();\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          if (info.shape === this.editingShape)\n            return;\n          this.tool.transition(\"idle\", info);\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          if (!info.order) {\n            this.tool.transition(\"idle\", info);\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          transaction(() => {\n            e.stopPropagation();\n            this.app.setSelectedShapes([this.editingShape]);\n            this.tool.transition(\"idle\");\n          });\n          break;\n        }\n      }\n    });\n  }\n};\n__publicField(EditingShapeState, \"id\", \"editingShape\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/states\/PointingMinimapState.ts\nvar PointingMinimapState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"minimapZoom\", 1);\n    __publicField(this, \"minimapRect\", {\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0\n    });\n    __publicField(this, \"getCameraPoint\", (clientPoint) => {\n      const minimapContainer = document.querySelector(\".tl-preview-minimap svg\");\n      const minimapCamera = document.querySelector(\n        \".tl-preview-minimap #minimap-camera-rect\"\n      );\n      if (minimapContainer && minimapCamera) {\n        const rect = minimapContainer.getBoundingClientRect();\n        this.minimapRect.height = rect.height;\n        this.minimapRect.width = rect.width;\n        this.minimapRect.minX = rect.left;\n        this.minimapRect.minY = rect.top;\n        this.minimapRect.maxX = rect.right;\n        this.minimapRect.maxY = rect.bottom;\n        this.minimapZoom = +minimapContainer.dataset.commonBoundWidth \/ this.minimapRect.width;\n        const cursorInSvg = Vec.sub(clientPoint, [this.minimapRect.minX, this.minimapRect.minY]);\n        const minimapCameraRect = minimapCamera.getBoundingClientRect();\n        const minimapCameraCenter = [\n          minimapCameraRect.left + minimapCameraRect.width \/ 2,\n          minimapCameraRect.top + minimapCameraRect.height \/ 2\n        ];\n        const delta = Vec.mul(Vec.sub(cursorInSvg, minimapCameraCenter), this.minimapZoom);\n        return Vec.sub(this.app.viewport.camera.point, delta);\n      }\n      return;\n    });\n    __publicField(this, \"onEnter\", (info) => {\n      const newCameraPoint = this.getCameraPoint([info.clientX, info.clientY]);\n      if (newCameraPoint) {\n        this.app.viewport.update({\n          point: newCameraPoint\n        });\n      } else {\n        this.tool.transition(\"idle\");\n      }\n    });\n    __publicField(this, \"onPointerMove\", (info, e) => {\n      if (\"clientX\" in e) {\n        const newCameraPoint = this.getCameraPoint([e.clientX, e.clientY]);\n        if (newCameraPoint) {\n          this.app.viewport.update({\n            point: newCameraPoint\n          });\n        }\n      }\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PointingMinimapState, \"id\", \"pointingMinimap\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLSelectTool\/TLSelectTool.tsx\nvar TLSelectTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"returnTo\", \"\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.returnTo = info == null ? void 0 : info.returnTo;\n    });\n  }\n};\n__publicField(TLSelectTool, \"id\", \"select\");\n__publicField(TLSelectTool, \"initial\", \"idle\");\n__publicField(TLSelectTool, \"shortcut\", \"whiteboard\/select\");\n__publicField(TLSelectTool, \"states\", [\n  IdleState7,\n  BrushingState,\n  ContextMenuState,\n  PointingCanvasState,\n  PointingShapeState,\n  PointingShapeBehindBoundsState,\n  PointingSelectedShapeState,\n  PointingBoundsBackgroundState,\n  HoveringSelectionHandleState,\n  PointingResizeHandleState,\n  PointingRotateHandleState,\n  PointingMinimapState,\n  PointingHandleState,\n  TranslatingHandleState,\n  TranslatingState,\n  ResizingState,\n  RotatingState,\n  RotatingState,\n  PinchingState2,\n  EditingShapeState\n]);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/PanningState.tsx\nvar PanningState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grabbing\" \/* Grabbing *\/);\n    __publicField(this, \"originalScreenPoint\", []);\n    __publicField(this, \"originalCameraPoint\", []);\n    __publicField(this, \"prevState\", \"idle\");\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevState = info == null ? void 0 : info.prevState;\n      this.originalScreenPoint = this.app.inputs.currentScreenPoint;\n      this.originalCameraPoint = this.app.viewport.camera.point;\n    });\n    __publicField(this, \"onPointerMove\", (_2, e) => {\n      const delta = src_default.sub(this.originalScreenPoint, this.app.inputs.currentScreenPoint);\n      this.app.viewport.update({\n        point: src_default.sub(this.originalCameraPoint, src_default.div(delta, this.app.viewport.camera.zoom))\n      });\n    });\n    __publicField(this, \"onPointerUp\", () => {\n      var _a3;\n      this.tool.transition((_a3 = this.prevState) != null ? _a3 : \"idle\");\n    });\n  }\n};\n__publicField(PanningState, \"id\", \"panning\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/IdleState.tsx\nvar IdleState8 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onEnter\", (info) => {\n      if (this.parent.prevTool && info.exit) {\n        this.app.setCurrentState(this.parent.prevTool);\n        setTimeout(() => {\n          this.app.cursors.reset();\n          this.app.cursors.setCursor(this.parent.prevTool.cursor);\n        });\n      }\n    });\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"panning\");\n    });\n  }\n};\n__publicField(IdleState8, \"id\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/IdleHoldState.tsx\nvar IdleHoldState = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (info.order)\n        return;\n      this.tool.transition(\"panning\", { prevState: \"idleHold\" });\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.tool.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(IdleHoldState, \"id\", \"idleHold\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/states\/PinchingState.ts\nvar PinchingState3 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"origin\", [0, 0]);\n    __publicField(this, \"prevDelta\", [0, 0]);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevDelta = info.info.delta;\n      this.origin = info.info.point;\n    });\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n    __publicField(this, \"onPinchEnd\", () => {\n      this.tool.transition(\"idle\");\n    });\n  }\n};\n__publicField(PinchingState3, \"id\", \"pinching\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/tools\/TLMoveTool\/TLMoveTool.ts\nvar TLMoveTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"grab\" \/* Grab *\/);\n    __publicField(this, \"prevTool\", null);\n    __publicField(this, \"onEnter\", (info) => {\n      this.prevTool = info == null ? void 0 : info.prevTool;\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      switch (e.key) {\n        case \"Escape\": {\n          this.app.transition(\"select\");\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (info, event) => {\n      this.transition(\"pinching\", { info, event });\n    });\n  }\n};\n__publicField(TLMoveTool, \"id\", \"move\");\n__publicField(TLMoveTool, \"shortcut\", \"whiteboard\/pan\");\n__publicField(TLMoveTool, \"states\", [IdleState8, IdleHoldState, PanningState, PinchingState3]);\n__publicField(TLMoveTool, \"initial\", \"idle\");\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLPage\/TLPage.ts\nvar TLPage = class {\n  constructor(app, props = {}) {\n    __publicField(this, \"lastShapesNounces\", null);\n    __publicField(this, \"app\");\n    __publicField(this, \"id\");\n    __publicField(this, \"name\");\n    __publicField(this, \"shapes\", []);\n    __publicField(this, \"bindings\", {});\n    __publicField(this, \"nonce\", 0);\n    __publicField(this, \"bringForward\", (shapes2) => {\n      this.bringToFront(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendBackward\", (shapes2) => {\n      this.sendToBack(shapes2);\n      return this;\n    });\n    __publicField(this, \"bringToFront\", (shapes2) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      let others = this.shapes.filter((shape) => !shapesToMove.includes(shape));\n      this.shapes = others.concat(shapesToMove);\n      const info = { op: \"bringToFront\", shapes: shapesToMove, before: others[others.length - 1] };\n      this.app.persist(info);\n      this.persistInfo = info;\n      return this;\n    });\n    __publicField(this, \"sendToBack\", (shapes2) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      let others = this.shapes.filter((shape) => !shapesToMove.includes(shape));\n      this.shapes = shapesToMove.concat(others);\n      this.app.persist({ op: \"sendToBack\", shapes: shapesToMove, next: others[0] });\n      return this;\n    });\n    __publicField(this, \"flip\", (shapes2, direction) => {\n      const shapesToMove = this.parseShapesArg(shapes2);\n      const commonBounds = BoundsUtils.getCommonBounds(shapesToMove.map((shape) => shape.bounds));\n      shapesToMove.forEach((shape) => {\n        var _a3;\n        const relativeBounds = BoundsUtils.getRelativeTransformedBoundingBox(\n          commonBounds,\n          commonBounds,\n          shape.bounds,\n          direction === \"horizontal\",\n          direction === \"vertical\"\n        );\n        if (shape.serialized) {\n          shape.onResize(shape.serialized, {\n            bounds: relativeBounds,\n            center: BoundsUtils.getBoundsCenter(relativeBounds),\n            rotation: (_a3 = shape.props.rotation) != null ? _a3 : 0 * -1,\n            type: \"top_left_corner\" \/* TopLeft *\/,\n            scale: shape.canFlip && shape.props.scale ? direction === \"horizontal\" ? [-shape.props.scale[0], 1] : [1, -shape.props.scale[1]] : [1, 1],\n            clip: false,\n            transformOrigin: [0.5, 0.5]\n          });\n        }\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"getShapeById\", (id3) => {\n      const shape = this.shapes.find((shape2) => shape2.id === id3);\n      return shape;\n    });\n    __publicField(this, \"cleanup\", (changedShapeIds) => {\n      const bindingsToUpdate = getRelatedBindings(this.bindings, changedShapeIds);\n      const visitedShapes = \/* @__PURE__ *\/ new Set();\n      let shapeChanged = false;\n      let bindingChanged = false;\n      const newBindings = deepCopy(this.bindings);\n      bindingsToUpdate.forEach((binding) => {\n        var _a3;\n        if (!this.bindings[binding.id]) {\n          return;\n        }\n        const toShape = this.getShapeById(binding.toId);\n        const fromShape = this.getShapeById(binding.fromId);\n        if (!(toShape && fromShape)) {\n          delete newBindings[binding.id];\n          bindingChanged = true;\n          return;\n        }\n        if (visitedShapes.has(fromShape.id)) {\n          return;\n        }\n        const fromDelta = this.updateArrowBindings(fromShape);\n        visitedShapes.add(fromShape.id);\n        if (fromDelta) {\n          const nextShape = __spreadValues(__spreadValues({}, fromShape.props), fromDelta);\n          shapeChanged = true;\n          (_a3 = this.getShapeById(nextShape.id)) == null ? void 0 : _a3.update(nextShape, false, (0, import_fast_deep_equal.default)(fromDelta == null ? void 0 : fromDelta.handles, fromShape == null ? void 0 : fromShape.props.handles));\n        }\n      });\n      Object.keys(newBindings).forEach((id3) => {\n        const binding = this.bindings[id3];\n        const relatedShapes = this.shapes.filter(\n          (shape) => shape.id === binding.fromId || shape.id === binding.toId\n        );\n        if (relatedShapes.length === 0) {\n          delete newBindings[id3];\n          bindingChanged = true;\n        }\n      });\n      if (bindingChanged) {\n        this.update({\n          bindings: newBindings\n        });\n      }\n    });\n    __publicField(this, \"updateArrowBindings\", (lineShape) => {\n      var _a3, _b, _c;\n      const result = {\n        start: deepCopy(lineShape.props.handles.start),\n        end: deepCopy(lineShape.props.handles.end)\n      };\n      let start = {\n        isBound: false,\n        handle: lineShape.props.handles.start,\n        point: src_default.add(lineShape.props.handles.start.point, lineShape.props.point)\n      };\n      let end = {\n        isBound: false,\n        handle: lineShape.props.handles.end,\n        point: src_default.add(lineShape.props.handles.end.point, lineShape.props.point)\n      };\n      if (lineShape.props.handles.start.bindingId) {\n        const hasDecoration = ((_a3 = lineShape.props.decorations) == null ? void 0 : _a3.start) !== void 0;\n        const handle = lineShape.props.handles.start;\n        const binding = this.bindings[lineShape.props.handles.start.bindingId];\n        const target = this.getShapeById(binding == null ? void 0 : binding.toId);\n        if (target) {\n          const bounds = target.getBounds();\n          const expandedBounds = target.getExpandedBounds();\n          const intersectBounds = BoundsUtils.expandBounds(\n            bounds,\n            hasDecoration ? binding.distance : 1\n          );\n          const { minX, minY, width, height } = expandedBounds;\n          const anchorPoint = src_default.add(\n            [minX, minY],\n            src_default.mulV(\n              [width, height],\n              src_default.rotWith(binding.point, [0.5, 0.5], target.props.rotation || 0)\n            )\n          );\n          start = {\n            isBound: true,\n            hasDecoration,\n            binding,\n            handle,\n            point: anchorPoint,\n            target,\n            bounds,\n            expandedBounds,\n            intersectBounds,\n            center: target.getCenter()\n          };\n        }\n      }\n      if (lineShape.props.handles.end.bindingId) {\n        const hasDecoration = ((_b = lineShape.props.decorations) == null ? void 0 : _b.end) !== void 0;\n        const handle = lineShape.props.handles.end;\n        const binding = this.bindings[lineShape.props.handles.end.bindingId];\n        const target = this.getShapeById(binding == null ? void 0 : binding.toId);\n        if (target) {\n          const bounds = target.getBounds();\n          const expandedBounds = target.getExpandedBounds();\n          const intersectBounds = hasDecoration ? BoundsUtils.expandBounds(bounds, binding.distance) : bounds;\n          const { minX, minY, width, height } = expandedBounds;\n          const anchorPoint = src_default.add(\n            [minX, minY],\n            src_default.mulV(\n              [width, height],\n              src_default.rotWith(binding.point, [0.5, 0.5], target.props.rotation || 0)\n            )\n          );\n          end = {\n            isBound: true,\n            hasDecoration,\n            binding,\n            handle,\n            point: anchorPoint,\n            target,\n            bounds,\n            expandedBounds,\n            intersectBounds,\n            center: target.getCenter()\n          };\n        }\n      }\n      for (const ID of [\"end\", \"start\"]) {\n        const A3 = ID === \"start\" ? start : end;\n        const B3 = ID === \"start\" ? end : start;\n        if (A3.isBound) {\n          if (!A3.binding.distance) {\n            result[ID].point = src_default.sub(A3.point, lineShape.props.point);\n          } else {\n            const direction = src_default.uni(src_default.sub(A3.point, B3.point));\n            switch (A3.target.type) {\n              default: {\n                const hits = intersectRayBounds(\n                  B3.point,\n                  direction,\n                  A3.intersectBounds,\n                  A3.target.props.rotation\n                ).filter((int) => int.didIntersect).map((int) => int.points[0]).sort((a3, b3) => src_default.dist(a3, B3.point) - src_default.dist(b3, B3.point));\n                if (!hits[0])\n                  continue;\n                let bHit = void 0;\n                if (B3.isBound) {\n                  const bHits = intersectRayBounds(\n                    B3.point,\n                    direction,\n                    B3.intersectBounds,\n                    B3.target.props.rotation\n                  ).filter((int) => int.didIntersect).map((int) => int.points[0]).sort((a3, b3) => src_default.dist(a3, B3.point) - src_default.dist(b3, B3.point));\n                  bHit = bHits[0];\n                }\n                if (B3.isBound && (hits.length < 2 || bHit && hits[0] && Math.ceil(src_default.dist(hits[0], bHit)) < BINDING_DISTANCE * 2.5 || BoundsUtils.boundsContain(A3.expandedBounds, B3.expandedBounds) || BoundsUtils.boundsCollide(A3.expandedBounds, B3.expandedBounds))) {\n                  const shortArrowDirection = src_default.uni(src_default.sub(B3.point, A3.point));\n                  const shortArrowHits = intersectRayBounds(\n                    A3.point,\n                    shortArrowDirection,\n                    A3.bounds,\n                    A3.target.props.rotation\n                  ).filter((int) => int.didIntersect).map((int) => int.points[0]);\n                  if (!shortArrowHits[0])\n                    continue;\n                  result[ID].point = src_default.toFixed(src_default.sub(shortArrowHits[0], lineShape.props.point));\n                  result[ID === \"start\" ? \"end\" : \"start\"].point = src_default.toFixed(\n                    src_default.add(\n                      src_default.sub(shortArrowHits[0], lineShape.props.point),\n                      src_default.mul(\n                        shortArrowDirection,\n                        Math.min(\n                          src_default.dist(shortArrowHits[0], B3.point),\n                          BINDING_DISTANCE * 2.5 * (BoundsUtils.boundsContain(B3.bounds, A3.intersectBounds) ? -1 : 1)\n                        )\n                      )\n                    )\n                  );\n                } else if (!B3.isBound && (hits[0] && src_default.dist(hits[0], B3.point) < BINDING_DISTANCE * 2.5 || PointUtils.pointInBounds(B3.point, A3.intersectBounds))) {\n                  const shortArrowDirection = src_default.uni(src_default.sub(A3.center, B3.point));\n                  return (_c = lineShape.getHandlesChange) == null ? void 0 : _c.call(lineShape, lineShape.props, {\n                    [ID]: __spreadProps(__spreadValues({}, lineShape.props.handles[ID]), {\n                      point: src_default.toFixed(\n                        src_default.add(\n                          src_default.sub(B3.point, lineShape.props.point),\n                          src_default.mul(shortArrowDirection, BINDING_DISTANCE * 2.5)\n                        )\n                      )\n                    })\n                  });\n                } else if (hits[0]) {\n                  result[ID].point = src_default.toFixed(src_default.sub(hits[0], lineShape.props.point));\n                }\n              }\n            }\n          }\n        }\n      }\n      return lineShape.getHandlesChange(lineShape.props, result);\n    });\n    const { id: id3, name, shapes: shapes2 = [], bindings = {}, nonce } = props;\n    this.id = id3;\n    this.name = name;\n    this.bindings = Object.assign({}, bindings);\n    this.app = app;\n    this.nonce = nonce || 0;\n    this.persistInfo = null;\n    this.addShapes(...shapes2);\n    makeObservable(this);\n    autorun(() => {\n      const newShapesNouncesMap = this.shapes.length > 0 ? Object.fromEntries(this.shapes.map((shape) => [shape.id, shape.nonce])) : null;\n      if (this.lastShapesNounces && newShapesNouncesMap) {\n        const lastShapesNounces = this.lastShapesNounces;\n        const allIds = \/* @__PURE__ *\/ new Set([\n          ...Object.keys(newShapesNouncesMap),\n          ...Object.keys(lastShapesNounces)\n        ]);\n        const changedShapeIds = [...allIds].filter((s2) => {\n          return lastShapesNounces[s2] !== newShapesNouncesMap[s2];\n        });\n        requestAnimationFrame(() => {\n          this.cleanup(changedShapeIds);\n        });\n      }\n      if (newShapesNouncesMap) {\n        this.lastShapesNounces = newShapesNouncesMap;\n      }\n    });\n  }\n  get serialized() {\n    return {\n      id: this.id,\n      name: this.name,\n      shapes: this.shapes.map((shape) => shape.serialized).filter((s2) => !!s2).map((s2) => toJS(s2)),\n      bindings: deepCopy(this.bindings),\n      nonce: this.nonce\n    };\n  }\n  get shapesById() {\n    return Object.fromEntries(this.shapes.map((shape) => [shape.id, shape]));\n  }\n  update(props) {\n    Object.assign(this, props);\n    return this;\n  }\n  updateBindings(bindings) {\n    Object.assign(this.bindings, bindings);\n    return this;\n  }\n  updateShapesIndex(shapesIndex) {\n    this.shapes.sort((a3, b3) => shapesIndex.indexOf(a3.id) - shapesIndex.indexOf(b3.id));\n    return this;\n  }\n  addShapes(...shapes2) {\n    if (shapes2.length === 0)\n      return;\n    const shapeInstances = \"getBounds\" in shapes2[0] ? shapes2 : shapes2.map((shape) => {\n      const ShapeClass = this.app.getShapeClass(shape.type);\n      return new ShapeClass(shape);\n    });\n    this.shapes.push(...shapeInstances);\n    return shapeInstances;\n  }\n  parseShapesArg(shapes2) {\n    if (typeof shapes2[0] === \"string\") {\n      return this.shapes.filter((shape) => shapes2.includes(shape.id));\n    }\n    return shapes2;\n  }\n  removeShapes(...shapes2) {\n    const shapeInstances = this.parseShapesArg(shapes2);\n    this.shapes = this.shapes.filter((shape) => !shapeInstances.includes(shape));\n    return shapeInstances;\n  }\n  getBindableShapes() {\n    return this.shapes.filter((shape) => shape.canBind).sort((a3, b3) => b3.nonce - a3.nonce).map((s2) => s2.id);\n  }\n};\n__decorateClass([\n  observable\n], TLPage.prototype, \"id\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"name\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"shapes\", 2);\n__decorateClass([\n  observable\n], TLPage.prototype, \"bindings\", 2);\n__decorateClass([\n  computed\n], TLPage.prototype, \"serialized\", 1);\n__decorateClass([\n  computed\n], TLPage.prototype, \"shapesById\", 1);\n__decorateClass([\n  observable\n], TLPage.prototype, \"nonce\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"update\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"updateBindings\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"updateShapesIndex\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"addShapes\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"removeShapes\", 1);\n__decorateClass([\n  action\n], TLPage.prototype, \"bringForward\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"sendBackward\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"bringToFront\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"sendToBack\", 2);\n__decorateClass([\n  action\n], TLPage.prototype, \"cleanup\", 2);\nfunction getRelatedBindings(bindings, ids) {\n  const changedShapeIds = new Set(ids);\n  const bindingsArr = Object.values(bindings);\n  const bindingsToUpdate = new Set(\n    bindingsArr.filter(\n      (binding) => changedShapeIds.has(binding.toId) || changedShapeIds.has(binding.fromId)\n    )\n  );\n  let prevSize = bindingsToUpdate.size;\n  let delta = -1;\n  while (delta !== 0) {\n    bindingsToUpdate.forEach((binding) => {\n      const fromId = binding.fromId;\n      for (const otherBinding of bindingsArr) {\n        if (otherBinding.fromId === fromId) {\n          bindingsToUpdate.add(otherBinding);\n        }\n        if (otherBinding.toId === fromId) {\n          bindingsToUpdate.add(otherBinding);\n        }\n      }\n    });\n    delta = bindingsToUpdate.size - prevSize;\n    prevSize = bindingsToUpdate.size;\n  }\n  return Array.from(bindingsToUpdate.values());\n}\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLInputs.ts\nvar TLInputs = class {\n  constructor() {\n    __publicField(this, \"shiftKey\", false);\n    __publicField(this, \"ctrlKey\", false);\n    __publicField(this, \"modKey\", false);\n    __publicField(this, \"altKey\", false);\n    __publicField(this, \"spaceKey\", false);\n    __publicField(this, \"isPinching\", false);\n    __publicField(this, \"currentScreenPoint\", [0, 0]);\n    __publicField(this, \"currentPoint\", [0, 0]);\n    __publicField(this, \"previousScreenPoint\", [0, 0]);\n    __publicField(this, \"previousPoint\", [0, 0]);\n    __publicField(this, \"originScreenPoint\", [0, 0]);\n    __publicField(this, \"originPoint\", [0, 0]);\n    __publicField(this, \"pointerIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"state\", \"idle\");\n    __publicField(this, \"containerOffset\", [0, 0]);\n    __publicField(this, \"onPointerDown\", (pagePoint, event) => {\n      this.pointerIds.add(event.pointerId);\n      this.updateModifiers(event);\n      this.originScreenPoint = this.currentScreenPoint;\n      this.originPoint = pagePoint;\n      this.state = \"pointing\";\n    });\n    __publicField(this, \"onPointerMove\", (pagePoint, event) => {\n      if (this.state === \"pinching\")\n        return;\n      if (this.state === \"panning\") {\n        this.state = \"idle\";\n      }\n      this.updateModifiers(event);\n      this.previousPoint = this.currentPoint;\n      this.currentPoint = pagePoint;\n    });\n    __publicField(this, \"onPointerUp\", (pagePoint, event) => {\n      this.pointerIds.clear();\n      this.updateModifiers(event);\n      this.state = \"idle\";\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      this.updateModifiers(event);\n      switch (event.key) {\n        case \" \": {\n          this.spaceKey = true;\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onKeyUp\", (event) => {\n      this.updateModifiers(event);\n      switch (event.key) {\n        case \" \": {\n          this.spaceKey = false;\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onPinchStart\", (pagePoint, event) => {\n      this.updateModifiers(event);\n      this.state = \"pinching\";\n    });\n    __publicField(this, \"onPinch\", (pagePoint, event) => {\n      if (this.state !== \"pinching\")\n        return;\n      this.updateModifiers(event);\n    });\n    __publicField(this, \"onPinchEnd\", (pagePoint, event) => {\n      if (this.state !== \"pinching\")\n        return;\n      this.updateModifiers(event);\n      this.state = \"idle\";\n    });\n    makeObservable(this);\n  }\n  updateContainerOffset(containerOffset) {\n    Object.assign(this.containerOffset, containerOffset);\n  }\n  updateModifiers(event) {\n    if (!event.isPrimary) {\n      return;\n    }\n    if (\"clientX\" in event) {\n      this.previousScreenPoint = this.currentScreenPoint;\n      this.currentScreenPoint = src_default.sub([event.clientX, event.clientY], this.containerOffset);\n    }\n    if (\"shiftKey\" in event) {\n      this.shiftKey = event.shiftKey;\n      this.ctrlKey = event.ctrlKey;\n      this.altKey = event.altKey;\n      this.modKey = modKey(event);\n    }\n  }\n};\n__decorateClass([\n  observable\n], TLInputs.prototype, \"shiftKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"ctrlKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"modKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"altKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"spaceKey\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"isPinching\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"currentScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"currentPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"previousScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"previousPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"originScreenPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"originPoint\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"state\", 2);\n__decorateClass([\n  observable\n], TLInputs.prototype, \"containerOffset\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"updateContainerOffset\", 1);\n__decorateClass([\n  action\n], TLInputs.prototype, \"updateModifiers\", 1);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerDown\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerMove\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPointerUp\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onKeyDown\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onKeyUp\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinchStart\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinch\", 2);\n__decorateClass([\n  action\n], TLInputs.prototype, \"onPinchEnd\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLViewport.ts\nvar ease = (x2) => {\n  return -(Math.cos(Math.PI * x2) - 1) \/ 2;\n};\nvar elapsedProgress = (t, duration = 100) => {\n  return ease(Vec.clamp(t \/ duration, 0, 1));\n};\nvar _TLViewport = class {\n  constructor() {\n    __publicField(this, \"bounds\", {\n      minX: 0,\n      minY: 0,\n      maxX: 1080,\n      maxY: 720,\n      width: 1080,\n      height: 720\n    });\n    __publicField(this, \"camera\", {\n      point: [0, 0],\n      zoom: 1\n    });\n    __publicField(this, \"updateBounds\", (bounds) => {\n      this.bounds = bounds;\n      return this;\n    });\n    __publicField(this, \"panCamera\", (delta) => {\n      return this.update({\n        point: Vec.sub(this.camera.point, Vec.div(delta, this.camera.zoom))\n      });\n    });\n    __publicField(this, \"panToPointWhenNearBounds\", (point) => {\n      const threshold = Vec.div([_TLViewport.panThreshold, _TLViewport.panThreshold], this.camera.zoom);\n      const deltaMax = Vec.sub([this.currentView.maxX, this.currentView.maxY], Vec.add(point, threshold));\n      const deltaMin = Vec.sub([this.currentView.minX, this.currentView.minY], Vec.sub(point, threshold));\n      const deltaX = deltaMax[0] < 0 ? deltaMax[0] : deltaMin[0] > 0 ? deltaMin[0] : 0;\n      const deltaY = deltaMax[1] < 0 ? deltaMax[1] : deltaMin[1] > 0 ? deltaMin[1] : 0;\n      this.panCamera(Vec.mul([deltaX, deltaY], -_TLViewport.panMultiplier * this.camera.zoom));\n    });\n    __publicField(this, \"update\", ({ point, zoom }) => {\n      if (point !== void 0 && !isNaN(point[0]) && !isNaN(point[1]))\n        this.camera.point = point;\n      if (zoom !== void 0 && !isNaN(zoom))\n        this.camera.zoom = Math.min(4, Math.max(0.1, zoom));\n      return this;\n    });\n    __publicField(this, \"getPagePoint\", (point) => {\n      const { camera, bounds } = this;\n      return Vec.sub(Vec.div(Vec.sub(point, [bounds.minX, bounds.minY]), camera.zoom), camera.point);\n    });\n    __publicField(this, \"getScreenPoint\", (point) => {\n      const { camera } = this;\n      return Vec.mul(Vec.add(point, camera.point), camera.zoom);\n    });\n    __publicField(this, \"onZoom\", (point, zoom, animate = false) => {\n      return this.pinchZoom(point, [0, 0], zoom, animate);\n    });\n    __publicField(this, \"pinchZoom\", (point, delta, zoom, animate = false) => {\n      const { camera } = this;\n      const nextPoint = Vec.sub(camera.point, Vec.div(delta, camera.zoom));\n      zoom = Vec.clamp(zoom, _TLViewport.minZoom, _TLViewport.maxZoom);\n      const p0 = Vec.div(point, camera.zoom);\n      const p1 = Vec.div(point, zoom);\n      const newPoint = Vec.toFixed(Vec.add(nextPoint, Vec.sub(p1, p0)));\n      if (animate) {\n        this.animateCamera({ point: newPoint, zoom });\n      } else {\n        this.update({ point: newPoint, zoom });\n      }\n      return this;\n    });\n    __publicField(this, \"setZoom\", (zoom, animate = false) => {\n      const { bounds } = this;\n      const center = [bounds.width \/ 2, bounds.height \/ 2];\n      this.onZoom(center, zoom, animate);\n    });\n    __publicField(this, \"zoomIn\", () => {\n      const { camera } = this;\n      this.setZoom(camera.zoom \/ ZOOM_UPDATE_FACTOR, true);\n    });\n    __publicField(this, \"zoomOut\", () => {\n      const { camera } = this;\n      this.setZoom(camera.zoom * ZOOM_UPDATE_FACTOR, true);\n    });\n    __publicField(this, \"resetZoom\", () => {\n      this.setZoom(1, true);\n      return this;\n    });\n    __publicField(this, \"animateCamera\", ({ point, zoom }) => {\n      return this.animateToViewport({\n        minX: -point[0],\n        minY: -point[1],\n        maxX: this.bounds.width \/ zoom - point[0],\n        maxY: this.bounds.height \/ zoom - point[1],\n        width: this.bounds.width \/ zoom,\n        height: this.bounds.height \/ zoom\n      });\n    });\n    __publicField(this, \"animateToViewport\", (view) => {\n      const startTime = performance.now();\n      const oldView = __spreadValues({}, this.currentView);\n      const step = () => {\n        const elapsed = performance.now() - startTime;\n        const progress = elapsedProgress(elapsed);\n        const next = {\n          minX: oldView.minX + (view.minX - oldView.minX) * progress,\n          minY: oldView.minY + (view.minY - oldView.minY) * progress,\n          maxX: oldView.maxX + (view.maxX - oldView.maxX) * progress,\n          maxY: oldView.maxY + (view.maxY - oldView.maxY) * progress\n        };\n        const point = [-next.minX, -next.minY];\n        const zoom = this.bounds.width \/ (next.maxX - next.minX);\n        this.update({ point, zoom });\n        if (progress < 1) {\n          requestAnimationFrame(step);\n        }\n      };\n      step();\n    });\n    __publicField(this, \"zoomToBounds\", ({ width, height, minX, minY }) => {\n      const { bounds, camera } = this;\n      let zoom = Math.min(\n        (bounds.width - FIT_TO_SCREEN_PADDING) \/ width,\n        (bounds.height - FIT_TO_SCREEN_PADDING) \/ height\n      );\n      zoom = Math.min(\n        1,\n        Math.max(\n          _TLViewport.minZoom,\n          camera.zoom === zoom || camera.zoom < 1 ? Math.min(1, zoom) : zoom\n        )\n      );\n      const delta = [\n        (bounds.width - width * zoom) \/ 2 \/ zoom,\n        (bounds.height - height * zoom) \/ 2 \/ zoom\n      ];\n      const point = Vec.add([-minX, -minY], delta);\n      this.animateCamera({ point, zoom });\n    });\n    makeObservable(this);\n  }\n  get currentView() {\n    const {\n      bounds,\n      camera: { point, zoom }\n    } = this;\n    const w2 = bounds.width \/ zoom;\n    const h2 = bounds.height \/ zoom;\n    return {\n      minX: -point[0],\n      minY: -point[1],\n      maxX: w2 - point[0],\n      maxY: h2 - point[1],\n      width: w2,\n      height: h2\n    };\n  }\n};\nvar TLViewport = _TLViewport;\n__publicField(TLViewport, \"minZoom\", 0.1);\n__publicField(TLViewport, \"maxZoom\", 4);\n__publicField(TLViewport, \"panMultiplier\", 0.05);\n__publicField(TLViewport, \"panThreshold\", 100);\n__decorateClass([\n  observable\n], TLViewport.prototype, \"bounds\", 2);\n__decorateClass([\n  observable\n], TLViewport.prototype, \"camera\", 2);\n__decorateClass([\n  action\n], TLViewport.prototype, \"updateBounds\", 2);\n__decorateClass([\n  action\n], TLViewport.prototype, \"update\", 2);\n__decorateClass([\n  computed\n], TLViewport.prototype, \"currentView\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLApi\/TLApi.ts\nvar TLApi = class {\n  constructor(app) {\n    __publicField(this, \"app\");\n    __publicField(this, \"editShape\", (shape) => {\n      if (!(shape == null ? void 0 : shape.props.isLocked))\n        this.app.transition(\"select\").selectedTool.transition(\"editingShape\", { shape });\n      return this;\n    });\n    __publicField(this, \"hoverShape\", (shape) => {\n      this.app.setHoveredShape(shape);\n      return this;\n    });\n    __publicField(this, \"createShapes\", (...shapes2) => {\n      this.app.createShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"updateShapes\", (...shapes2) => {\n      this.app.updateShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"deleteShapes\", (...shapes2) => {\n      this.app.deleteShapes(shapes2.length ? shapes2 : this.app.selectedShapesArray);\n      return this;\n    });\n    __publicField(this, \"selectShapes\", (...shapes2) => {\n      this.app.setSelectedShapes(shapes2);\n      return this;\n    });\n    __publicField(this, \"deselectShapes\", (...shapes2) => {\n      const ids = typeof shapes2[0] === \"string\" ? shapes2 : shapes2.map((shape) => shape.id);\n      this.app.setSelectedShapes(\n        this.app.selectedShapesArray.filter((shape) => !ids.includes(shape.id))\n      );\n      return this;\n    });\n    __publicField(this, \"flipHorizontal\", (...shapes2) => {\n      this.app.flipHorizontal(shapes2);\n      return this;\n    });\n    __publicField(this, \"flipVertical\", (...shapes2) => {\n      this.app.flipVertical(shapes2);\n      return this;\n    });\n    __publicField(this, \"selectAll\", () => {\n      this.app.setSelectedShapes(\n        this.app.currentPage.shapes.filter((s2) => !this.app.shapesInGroups().includes(s2))\n      );\n      return this;\n    });\n    __publicField(this, \"deselectAll\", () => {\n      this.app.setSelectedShapes([]);\n      return this;\n    });\n    __publicField(this, \"zoomIn\", () => {\n      this.app.viewport.zoomIn();\n      return this;\n    });\n    __publicField(this, \"zoomOut\", () => {\n      this.app.viewport.zoomOut();\n      return this;\n    });\n    __publicField(this, \"resetZoom\", () => {\n      this.app.viewport.resetZoom();\n      return this;\n    });\n    __publicField(this, \"zoomToFit\", () => {\n      const { shapes: shapes2 } = this.app.currentPage;\n      if (shapes2.length === 0)\n        return this;\n      const commonBounds = BoundsUtils.getCommonBounds(shapes2.map((shape) => shape.bounds));\n      this.app.viewport.zoomToBounds(commonBounds);\n      return this;\n    });\n    __publicField(this, \"cameraToCenter\", () => {\n      const { shapes: shapes2 } = this.app.currentPage;\n      if (shapes2.length === 0)\n        return this;\n      const commonBounds = BoundsUtils.getCommonBounds(shapes2.map((shape) => shape.bounds));\n      this.app.viewport.update({\n        point: src_default.add(src_default.neg(BoundsUtils.getBoundsCenter(commonBounds)), [\n          this.app.viewport.currentView.width \/ 2,\n          this.app.viewport.currentView.height \/ 2\n        ])\n      });\n      return this;\n    });\n    __publicField(this, \"zoomToSelection\", () => {\n      const { selectionBounds } = this.app;\n      if (!selectionBounds)\n        return this;\n      this.app.viewport.zoomToBounds(selectionBounds);\n      return this;\n    });\n    __publicField(this, \"resetZoomToCursor\", () => {\n      const viewport = this.app.viewport;\n      viewport.animateCamera({\n        zoom: 1,\n        point: src_default.sub(this.app.inputs.originScreenPoint, this.app.inputs.originPoint)\n      });\n      return this;\n    });\n    __publicField(this, \"toggleGrid\", () => {\n      const { settings } = this.app;\n      settings.update({ showGrid: !settings.showGrid });\n      return this;\n    });\n    __publicField(this, \"toggleSnapToGrid\", () => {\n      const { settings } = this.app;\n      settings.update({ snapToGrid: !settings.snapToGrid });\n      return this;\n    });\n    __publicField(this, \"togglePenMode\", () => {\n      const { settings } = this.app;\n      settings.update({ penMode: !settings.penMode });\n      return this;\n    });\n    __publicField(this, \"setColor\", (color) => {\n      const { settings } = this.app;\n      settings.update({ color });\n      this.app.selectedShapesArray.forEach((s2) => {\n        if (!s2.props.isLocked)\n          s2.update({ fill: color, stroke: color });\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"setScaleLevel\", (scaleLevel) => {\n      const { settings } = this.app;\n      settings.update({ scaleLevel });\n      this.app.selectedShapes.forEach((shape) => {\n        if (!shape.props.isLocked)\n          shape.setScaleLevel(scaleLevel);\n      });\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"undo\", () => {\n      this.app.undo();\n      return this;\n    });\n    __publicField(this, \"redo\", () => {\n      this.app.redo();\n      return this;\n    });\n    __publicField(this, \"persist\", () => {\n      this.app.persist();\n      return this;\n    });\n    __publicField(this, \"createNewLineBinding\", (source, target) => {\n      return this.app.createNewLineBinding(source, target);\n    });\n    __publicField(this, \"clone\", (direction) => {\n      if (this.app.readOnly || this.app.selectedShapesArray.length !== 1 || !Object.values(Geometry).some((geometry) => geometry === this.app.selectedShapesArray[0].type))\n        return;\n      const shape = this.app.allSelectedShapesArray[0];\n      const ShapeClass = this.app.getShapeClass(shape.type);\n      const { minX, minY, maxX, maxY, width, height } = shape.bounds;\n      const spacing = 100;\n      let point = [0, 0];\n      switch (direction) {\n        case \"down\" \/* Down *\/: {\n          point = [minX, maxY + spacing];\n          break;\n        }\n        case \"up\" \/* Up *\/: {\n          point = [minX, minY - spacing - height];\n          break;\n        }\n        case \"left\" \/* Left *\/: {\n          point = [minX - spacing - width, minY];\n          break;\n        }\n        case \"right\" \/* Right *\/: {\n          point = [maxX + spacing, minY];\n          break;\n        }\n      }\n      const clone = new ShapeClass(__spreadProps(__spreadValues({}, shape.serialized), {\n        id: uniqueId(),\n        nonce: Date.now(),\n        refs: [],\n        label: \"\",\n        point\n      }));\n      this.app.history.pause();\n      this.app.currentPage.addShapes(clone);\n      this.app.createNewLineBinding(shape, clone);\n      this.app.history.resume();\n      this.app.persist();\n      setTimeout(() => this.editShape(clone));\n    });\n    __publicField(this, \"cloneShapes\", ({\n      shapes: shapes2,\n      assets,\n      bindings,\n      point = [0, 0]\n    }) => {\n      const commonBounds = BoundsUtils.getCommonBounds(\n        shapes2.filter((s2) => s2.type !== \"group\").map((shape) => {\n          var _a3, _b, _c, _d, _e2, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n          return {\n            minX: (_b = (_a3 = shape.point) == null ? void 0 : _a3[0]) != null ? _b : point[0],\n            minY: (_d = (_c = shape.point) == null ? void 0 : _c[1]) != null ? _d : point[1],\n            width: (_f = (_e2 = shape.size) == null ? void 0 : _e2[0]) != null ? _f : 4,\n            height: (_h = (_g = shape.size) == null ? void 0 : _g[1]) != null ? _h : 4,\n            maxX: ((_j = (_i = shape.point) == null ? void 0 : _i[0]) != null ? _j : point[0]) + ((_l = (_k = shape.size) == null ? void 0 : _k[0]) != null ? _l : 4),\n            maxY: ((_n = (_m = shape.point) == null ? void 0 : _m[1]) != null ? _n : point[1]) + ((_p = (_o = shape.size) == null ? void 0 : _o[1]) != null ? _p : 4)\n          };\n        })\n      );\n      const clonedShapes = shapes2.map((shape) => {\n        return __spreadProps(__spreadValues({}, shape), {\n          id: uniqueId(),\n          point: [\n            point[0] + shape.point[0] - commonBounds.minX,\n            point[1] + shape.point[1] - commonBounds.minY\n          ]\n        });\n      });\n      clonedShapes.forEach((s2) => {\n        var _a3;\n        if (s2.children && ((_a3 = s2.children) == null ? void 0 : _a3.length) > 0) {\n          s2.children = s2.children.map((oldId) => {\n            var _a4;\n            return (_a4 = clonedShapes[shapes2.findIndex((s3) => s3.id === oldId)]) == null ? void 0 : _a4.id;\n          }).filter(isNonNullable);\n        }\n      });\n      const clonedBindings = [];\n      clonedShapes.flatMap((s2) => {\n        var _a3;\n        return Object.values((_a3 = s2.handles) != null ? _a3 : {});\n      }).forEach((handle) => {\n        if (!handle.bindingId) {\n          return;\n        }\n        const binding = bindings[handle.bindingId];\n        if (binding) {\n          const oldFromIdx = shapes2.findIndex((s2) => s2.id === binding.fromId);\n          const oldToIdx = shapes2.findIndex((s2) => s2.id === binding.toId);\n          if (binding && oldFromIdx !== -1 && oldToIdx !== -1) {\n            const newBinding = __spreadProps(__spreadValues({}, binding), {\n              id: uniqueId(),\n              fromId: clonedShapes[oldFromIdx].id,\n              toId: clonedShapes[oldToIdx].id\n            });\n            clonedBindings.push(newBinding);\n            handle.bindingId = newBinding.id;\n          } else {\n            handle.bindingId = void 0;\n          }\n        } else {\n          console.warn(\"binding not found\", handle.bindingId);\n        }\n      });\n      const clonedAssets = assets.filter((asset) => {\n        return clonedShapes.some((shape) => shape.assetId === asset.id);\n      });\n      return {\n        shapes: clonedShapes,\n        assets: clonedAssets,\n        bindings: clonedBindings\n      };\n    });\n    __publicField(this, \"getClonedShapesFromTldrString\", (text, point) => {\n      const safeParseJson = (json) => {\n        try {\n          return JSON.parse(json);\n        } catch (e) {\n          return null;\n        }\n      };\n      const getWhiteboardsTldrFromText = (text2) => {\n        var _a3;\n        const innerText = (_a3 = text2.match(\/<whiteboard-tldr>(.*)<\\\/whiteboard-tldr>\/)) == null ? void 0 : _a3[1];\n        if (innerText) {\n          return safeParseJson(innerText);\n        }\n      };\n      try {\n        const data = getWhiteboardsTldrFromText(text);\n        if (!data)\n          return null;\n        const { shapes: shapes2, bindings, assets } = data;\n        return this.cloneShapes({\n          shapes: shapes2,\n          bindings,\n          assets,\n          point\n        });\n      } catch (err) {\n        console.log(err);\n      }\n      return null;\n    });\n    __publicField(this, \"cloneShapesIntoCurrentPage\", (opts) => {\n      const data = this.cloneShapes(opts);\n      if (data) {\n        this.addClonedShapes(data);\n      }\n      return this;\n    });\n    __publicField(this, \"addClonedShapes\", (opts) => {\n      const { shapes: shapes2, assets, bindings } = opts;\n      if (assets.length > 0) {\n        this.app.createAssets(assets);\n      }\n      if (shapes2.length > 0) {\n        this.app.createShapes(shapes2);\n      }\n      this.app.currentPage.updateBindings(Object.fromEntries(bindings.map((b3) => [b3.id, b3])));\n      this.app.selectedTool.transition(\"idle\");\n      return this;\n    });\n    __publicField(this, \"addClonedShapesFromTldrString\", (text, point) => {\n      const data = this.getClonedShapesFromTldrString(text, point);\n      if (data) {\n        this.addClonedShapes(data);\n      }\n      return this;\n    });\n    __publicField(this, \"doGroup\", (shapes2 = this.app.allSelectedShapesArray) => {\n      if (this.app.readOnly)\n        return;\n      this.app.history.pause();\n      const selectedGroups = [\n        ...shapes2.filter((s2) => s2.type === \"group\"),\n        ...shapes2.map((s2) => this.app.getParentGroup(s2))\n      ].filter(isNonNullable);\n      this.app.currentPage.removeShapes(...selectedGroups);\n      let selectedShapes = shapes2.filter((s2) => s2.type !== \"group\");\n      if (selectedShapes.length > 1) {\n        const ShapeGroup = this.app.getShapeClass(\"group\");\n        const group = new ShapeGroup({\n          id: uniqueId(),\n          type: ShapeGroup.id,\n          parentId: this.app.currentPage.id,\n          children: selectedShapes.map((s2) => s2.id)\n        });\n        this.app.currentPage.addShapes(group);\n        this.app.setSelectedShapes([group]);\n        selectedShapes.push(group);\n        this.app.bringForward(selectedShapes);\n      }\n      this.app.history.resume();\n      this.app.persist(this.app.currentPage.persistInfo);\n    });\n    __publicField(this, \"unGroup\", (shapes2 = this.app.allSelectedShapesArray) => {\n      if (this.app.readOnly)\n        return;\n      const selectedGroups = [\n        ...shapes2.filter((s2) => s2.type === \"group\"),\n        ...shapes2.map((s2) => this.app.getParentGroup(s2))\n      ].filter(isNonNullable);\n      const shapesInGroups = this.app.shapesInGroups(selectedGroups);\n      if (selectedGroups.length > 0) {\n        this.app.currentPage.removeShapes(...selectedGroups);\n        this.app.persist();\n        this.app.setSelectedShapes(shapesInGroups);\n      }\n    });\n    __publicField(this, \"convertShapes\", (type, shapes2 = this.app.allSelectedShapesArray) => {\n      const ShapeClass = this.app.getShapeClass(type);\n      this.app.currentPage.removeShapes(...shapes2);\n      const clones = shapes2.map((s2) => {\n        return new ShapeClass(__spreadProps(__spreadValues({}, s2.serialized), {\n          type,\n          nonce: Date.now()\n        }));\n      });\n      this.app.currentPage.addShapes(...clones);\n      this.app.persist();\n      this.app.setSelectedShapes(clones);\n    });\n    __publicField(this, \"setCollapsed\", (collapsed, shapes2 = this.app.allSelectedShapesArray) => {\n      shapes2.forEach((shape) => {\n        if (shape.props.type === \"logseq-portal\")\n          shape.setCollapsed(collapsed);\n      });\n      this.app.persist();\n    });\n    this.app = app;\n  }\n};\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLCursors.ts\nvar TLCursors = class {\n  constructor() {\n    __publicField(this, \"cursor\", \"default\" \/* Default *\/);\n    __publicField(this, \"rotation\", 0);\n    __publicField(this, \"reset\", () => {\n      this.cursor = \"default\" \/* Default *\/;\n    });\n    __publicField(this, \"setCursor\", (cursor, rotation = 0) => {\n      if (cursor === this.cursor && rotation === this.rotation)\n        return;\n      this.cursor = cursor;\n      this.rotation = rotation;\n    });\n    __publicField(this, \"setRotation\", (rotation) => {\n      if (rotation === this.rotation)\n        return;\n      this.rotation = rotation;\n    });\n    makeObservable(this);\n  }\n};\n__decorateClass([\n  observable\n], TLCursors.prototype, \"cursor\", 2);\n__decorateClass([\n  observable\n], TLCursors.prototype, \"rotation\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"reset\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"setCursor\", 2);\n__decorateClass([\n  action\n], TLCursors.prototype, \"setRotation\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLHistory.ts\nvar TLHistory = class {\n  constructor(app) {\n    __publicField(this, \"app\");\n    __publicField(this, \"stack\", []);\n    __publicField(this, \"isPaused\", true);\n    __publicField(this, \"pause\", () => {\n      if (this.isPaused)\n        return;\n      this.isPaused = true;\n    });\n    __publicField(this, \"resume\", () => {\n      if (!this.isPaused)\n        return;\n      this.isPaused = false;\n    });\n    __publicField(this, \"persist\", (info) => {\n      if (this.isPaused || this.creating)\n        return;\n      this.app.notify(\"persist\", info);\n    });\n    __publicField(this, \"undo\", () => {\n      if (this.isPaused)\n        return;\n      if (this.app.selectedTool.currentState.id !== \"idle\")\n        return;\n      if (this.app.appUndo) {\n        this.app.appUndo();\n      }\n    });\n    __publicField(this, \"redo\", () => {\n      if (this.isPaused)\n        return;\n      if (this.app.selectedTool.currentState.id !== \"idle\")\n        return;\n      if (this.app.appRedo) {\n        this.app.appRedo();\n      }\n    });\n    __publicField(this, \"instantiateShape\", (serializedShape) => {\n      const ShapeClass = this.app.getShapeClass(serializedShape.type);\n      return new ShapeClass(serializedShape);\n    });\n    __publicField(this, \"deserialize\", (snapshot) => {\n      transaction(() => {\n        var _a3;\n        const { pages } = snapshot;\n        const wasPaused = this.isPaused;\n        this.pause();\n        const newSelectedIds = [...this.app.selectedIds];\n        try {\n          const pagesMap = new Map(this.app.pages);\n          const pagesToAdd = [];\n          for (const serializedPage of pages) {\n            const page = pagesMap.get(serializedPage.id);\n            if (page !== void 0) {\n              const shapesMap = new Map(page.shapes.map((shape) => [shape.props.id, shape]));\n              const shapesToAdd = [];\n              for (const serializedShape of serializedPage.shapes) {\n                const shape = shapesMap.get(serializedShape.id);\n                if (shape !== void 0) {\n                  if (shape.nonce !== serializedShape.nonce) {\n                    shape.update(serializedShape, true);\n                    shape.nonce = serializedShape.nonce;\n                    shape.setLastSerialized(serializedShape);\n                  }\n                  shapesMap.delete(serializedShape.id);\n                } else {\n                  shapesToAdd.push(this.instantiateShape(serializedShape));\n                }\n              }\n              if (shapesMap.size > 0 && !this.app.selectedTool.isInAny(\"creating\", \"editingShape\")) {\n                page.removeShapes(...shapesMap.values());\n              }\n              if (shapesToAdd.length > 0)\n                page.addShapes(...shapesToAdd);\n              pagesMap.delete(serializedPage.id);\n              page.updateBindings(serializedPage.bindings);\n              page.nonce = (_a3 = serializedPage.nonce) != null ? _a3 : 0;\n            } else {\n              const { id: id3, name, shapes: shapes2, bindings, nonce } = serializedPage;\n              pagesToAdd.push(\n                new TLPage(this.app, {\n                  id: id3,\n                  name,\n                  nonce,\n                  bindings,\n                  shapes: shapes2.map((serializedShape) => {\n                    return this.instantiateShape(serializedShape);\n                  })\n                })\n              );\n            }\n          }\n          if (pagesToAdd.length > 0)\n            this.app.addPages(pagesToAdd);\n          if (pagesMap.size > 0)\n            this.app.removePages(Array.from(pagesMap.values()));\n          this.app.setSelectedShapes(newSelectedIds).setErasingShapes([]);\n        } catch (e) {\n          console.warn(e);\n        }\n        if (!wasPaused)\n          this.resume();\n      });\n    });\n    this.app = app;\n    makeObservable(this);\n  }\n  get creating() {\n    return this.app.selectedTool.currentState.id === \"creating\";\n  }\n};\n__decorateClass([\n  observable\n], TLHistory.prototype, \"stack\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"persist\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"undo\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"redo\", 2);\n__decorateClass([\n  action\n], TLHistory.prototype, \"deserialize\", 2);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLSettings.ts\nvar TLSettings = class {\n  constructor() {\n    __publicField(this, \"mode\", \"light\");\n    __publicField(this, \"showGrid\", true);\n    __publicField(this, \"snapToGrid\", false);\n    __publicField(this, \"penMode\", false);\n    __publicField(this, \"scaleLevel\", \"md\");\n    __publicField(this, \"color\", \"\");\n    makeObservable(this);\n  }\n  update(props) {\n    Object.assign(this, props);\n  }\n};\n__decorateClass([\n  observable\n], TLSettings.prototype, \"mode\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"showGrid\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"snapToGrid\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"penMode\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"scaleLevel\", 2);\n__decorateClass([\n  observable\n], TLSettings.prototype, \"color\", 2);\n__decorateClass([\n  action\n], TLSettings.prototype, \"update\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/lib\/TLApp\/TLApp.ts\nvar TLApp = class extends TLRootState {\n  constructor(serializedApp, Shapes, Tools, readOnly) {\n    var _a3, _b;\n    super();\n    __publicField(this, \"uuid\", uniqueId());\n    __publicField(this, \"readOnly\");\n    __publicField(this, \"api\");\n    __publicField(this, \"inputs\", new TLInputs());\n    __publicField(this, \"cursors\", new TLCursors());\n    __publicField(this, \"viewport\", new TLViewport());\n    __publicField(this, \"settings\", new TLSettings());\n    __publicField(this, \"Tools\", []);\n    __publicField(this, \"history\", new TLHistory(this));\n    __publicField(this, \"persist\", this.history.persist);\n    __publicField(this, \"undo\", this.history.undo);\n    __publicField(this, \"redo\", this.history.redo);\n    __publicField(this, \"saving\", false);\n    __publicField(this, \"saveState\", () => {\n      if (this.history.isPaused)\n        return;\n      this.saving = true;\n      requestAnimationFrame(() => {\n        if (this.saving) {\n          this.persist();\n          this.saving = false;\n        }\n      });\n    });\n    __publicField(this, \"load\", () => {\n      this.notify(\"load\", null);\n      return this;\n    });\n    __publicField(this, \"save\", () => {\n      this.notify(\"save\", null);\n      return this;\n    });\n    __publicField(this, \"pages\", \/* @__PURE__ *\/ new Map([\n      [\"page\", new TLPage(this, { id: \"page\", name: \"page\", shapes: [], bindings: {} })]\n    ]));\n    __publicField(this, \"getPageById\", (pageId) => {\n      const page = this.pages.get(pageId);\n      if (!page)\n        throw Error(`Could not find a page named ${pageId}.`);\n      return page;\n    });\n    __publicField(this, \"getShapeById\", (id3, pageId = this.currentPage.id) => {\n      var _a3;\n      const shape = (_a3 = this.getPageById(pageId)) == null ? void 0 : _a3.shapesById[id3];\n      return shape;\n    });\n    __publicField(this, \"createShapes\", (shapes2) => {\n      if (this.readOnly)\n        return this;\n      const newShapes = this.currentPage.addShapes(...shapes2);\n      if (newShapes)\n        this.notify(\"create-shapes\", newShapes);\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"updateShapes\", (shapes2) => {\n      if (this.readOnly)\n        return this;\n      shapes2.forEach((shape) => {\n        const oldShape = this.getShapeById(shape.id);\n        oldShape == null ? void 0 : oldShape.update(shape);\n        if (shape.type !== (oldShape == null ? void 0 : oldShape.type)) {\n          this.api.convertShapes(shape.type, [oldShape]);\n        }\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"deleteShapes\", (shapes2) => {\n      if (shapes2.length === 0 || this.readOnly)\n        return this;\n      const normalizedShapes = shapes2.map((shape) => typeof shape === \"string\" ? this.getShapeById(shape) : shape).filter(isNonNullable).filter((s2) => !s2.props.isLocked);\n      const shapesInGroups = this.shapesInGroups(normalizedShapes);\n      normalizedShapes.forEach((shape) => {\n        if (this.getParentGroup(shape)) {\n          shapesInGroups.push(shape);\n        }\n      });\n      let ids = new Set([...normalizedShapes, ...shapesInGroups].map((s2) => s2.id));\n      shapesInGroups.forEach((shape) => {\n        var _a3;\n        const parentGroup = this.getParentGroup(shape);\n        if (parentGroup) {\n          const newChildren = (_a3 = parentGroup.props.children) == null ? void 0 : _a3.filter(\n            (id3) => id3 !== shape.id\n          );\n          if (!newChildren || (newChildren == null ? void 0 : newChildren.length) <= 1) {\n            ids.add(parentGroup.id);\n          } else {\n            parentGroup.update({ children: newChildren });\n          }\n        }\n      });\n      const deleteBinding = (shapeA, shapeB) => {\n        var _a3;\n        if ([...ids].includes(shapeA) && ((_a3 = this.getShapeById(shapeB)) == null ? void 0 : _a3.type) === \"line\")\n          ids.add(shapeB);\n      };\n      this.currentPage.shapes.filter((s2) => !s2.props.isLocked).flatMap((s2) => {\n        var _a3;\n        return Object.values((_a3 = s2.props.handles) != null ? _a3 : {});\n      }).flatMap((h2) => h2.bindingId).filter(isNonNullable).map((binding) => {\n        var _a3, _b;\n        const toId = (_a3 = this.currentPage.bindings[binding]) == null ? void 0 : _a3.toId;\n        const fromId = (_b = this.currentPage.bindings[binding]) == null ? void 0 : _b.fromId;\n        if (toId && fromId) {\n          deleteBinding(toId, fromId);\n          deleteBinding(fromId, toId);\n        }\n      });\n      const allShapesToDelete = [...ids].map((id3) => this.getShapeById(id3));\n      this.setSelectedShapes(this.selectedShapesArray.filter((shape) => !ids.has(shape.id)));\n      const removedShapes = this.currentPage.removeShapes(...allShapesToDelete);\n      if (removedShapes)\n        this.notify(\"delete-shapes\", removedShapes);\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"bringForward\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.bringForward(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendBackward\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.sendBackward(shapes2);\n      return this;\n    });\n    __publicField(this, \"sendToBack\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.sendToBack(shapes2);\n      return this;\n    });\n    __publicField(this, \"bringToFront\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length > 0 && !this.readOnly)\n        this.currentPage.bringToFront(shapes2);\n      return this;\n    });\n    __publicField(this, \"flipHorizontal\", (shapes2 = this.selectedShapesArray) => {\n      this.currentPage.flip(shapes2, \"horizontal\");\n      return this;\n    });\n    __publicField(this, \"flipVertical\", (shapes2 = this.selectedShapesArray) => {\n      this.currentPage.flip(shapes2, \"vertical\");\n      return this;\n    });\n    __publicField(this, \"align\", (type, shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const boundsForShapes = shapes2.map((shape) => {\n        const bounds = shape.getBounds();\n        return {\n          id: shape.id,\n          point: [bounds.minX, bounds.minY],\n          bounds\n        };\n      });\n      const commonBounds = BoundsUtils.getCommonBounds(boundsForShapes.map(({ bounds }) => bounds));\n      const midX = commonBounds.minX + commonBounds.width \/ 2;\n      const midY = commonBounds.minY + commonBounds.height \/ 2;\n      const deltaMap = Object.fromEntries(\n        boundsForShapes.map(({ id: id3, point, bounds }) => {\n          return [\n            id3,\n            {\n              prev: point,\n              next: {\n                [\"top\" \/* Top *\/]: [point[0], commonBounds.minY],\n                [\"centerVertical\" \/* CenterVertical *\/]: [point[0], midY - bounds.height \/ 2],\n                [\"bottom\" \/* Bottom *\/]: [point[0], commonBounds.maxY - bounds.height],\n                [\"left\" \/* Left *\/]: [commonBounds.minX, point[1]],\n                [\"centerHorizontal\" \/* CenterHorizontal *\/]: [midX - bounds.width \/ 2, point[1]],\n                [\"right\" \/* Right *\/]: [commonBounds.maxX - bounds.width, point[1]]\n              }[type]\n            }\n          ];\n        })\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"distribute\", (type, shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const deltaMap = Object.fromEntries(\n        BoundsUtils.getDistributions(shapes2, type).map((d2) => [d2.id, d2])\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"packIntoRectangle\", (shapes2 = this.selectedShapesArray) => {\n      if (shapes2.length < 2 || this.readOnly)\n        return this;\n      const deltaMap = Object.fromEntries(\n        BoundsUtils.getPackedDistributions(shapes2).map((d2) => [d2.id, d2])\n      );\n      shapes2.forEach((shape) => {\n        if (deltaMap[shape.id])\n          shape.update({ point: deltaMap[shape.id].next });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"setLocked\", (locked) => {\n      if (this.selectedShapesArray.length === 0 || this.readOnly)\n        return this;\n      this.selectedShapesArray.forEach((shape) => {\n        shape.update({ isLocked: locked });\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"assets\", {});\n    __publicField(this, \"removeUnusedAssets\", () => {\n      const usedAssets = this.getCleanUpAssets();\n      Object.keys(this.assets).forEach((assetId) => {\n        if (!usedAssets.some((asset) => asset.id === assetId)) {\n          delete this.assets[assetId];\n        }\n      });\n      this.persist();\n      return this;\n    });\n    __publicField(this, \"copy\", () => {\n      if (this.selectedShapesArray.length > 0 && !this.editingShape) {\n        const selectedShapes = this.allSelectedShapesArray;\n        const jsonString = JSON.stringify({\n          shapes: selectedShapes.map((shape) => shape.serialized),\n          assets: this.getCleanUpAssets().filter((asset) => {\n            return selectedShapes.some((shape) => shape.props.assetId === asset.id);\n          }),\n          bindings: toJS(this.currentPage.bindings)\n        });\n        const tldrawString = encodeURIComponent(`<whiteboard-tldr>${jsonString}<\/whiteboard-tldr>`);\n        const shapeBlockRefs = this.selectedShapesArray.map((s2) => `((${s2.props.id}))`).join(\" \");\n        this.notify(\"copy\", {\n          text: shapeBlockRefs,\n          html: tldrawString\n        });\n      }\n    });\n    __publicField(this, \"paste\", (e, shiftKey) => {\n      var _a3;\n      if (!this.editingShape && !this.readOnly) {\n        this.notify(\"paste\", {\n          point: this.inputs.currentPoint,\n          shiftKey: !!shiftKey,\n          dataTransfer: (_a3 = e == null ? void 0 : e.clipboardData) != null ? _a3 : void 0\n        });\n      }\n    });\n    __publicField(this, \"cut\", () => {\n      this.copy();\n      this.api.deleteShapes();\n    });\n    __publicField(this, \"drop\", (dataTransfer, point) => {\n      this.notify(\"drop\", {\n        dataTransfer,\n        point: point ? this.viewport.getPagePoint(point) : BoundsUtils.getBoundsCenter(this.viewport.currentView)\n      });\n      return void 0;\n    });\n    __publicField(this, \"selectTool\", (id3, data = {}) => {\n      if (!this.readOnly || [\"select\", \"move\"].includes(id3))\n        this.transition(id3, data);\n    });\n    __publicField(this, \"editingId\");\n    __publicField(this, \"setEditingShape\", (shape) => {\n      this.editingId = typeof shape === \"string\" ? shape : shape == null ? void 0 : shape.id;\n      return this;\n    });\n    __publicField(this, \"clearEditingState\", () => {\n      this.selectedTool.transition(\"idle\");\n      return this.setEditingShape();\n    });\n    __publicField(this, \"hoveredId\");\n    __publicField(this, \"setHoveredShape\", (shape) => {\n      this.hoveredId = typeof shape === \"string\" ? shape : shape == null ? void 0 : shape.id;\n      return this;\n    });\n    __publicField(this, \"selectedIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"selectedShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"selectionRotation\", 0);\n    __publicField(this, \"setSelectedShapes\", (shapes2) => {\n      var _a3;\n      const { selectedIds, selectedShapes } = this;\n      selectedIds.clear();\n      selectedShapes.clear();\n      if (shapes2[0] && typeof shapes2[0] === \"string\") {\n        ;\n        shapes2.forEach((s2) => selectedIds.add(s2));\n      } else {\n        ;\n        shapes2.forEach((s2) => selectedIds.add(s2.id));\n      }\n      const newSelectedShapes = this.currentPage.shapes.filter((shape) => selectedIds.has(shape.id));\n      newSelectedShapes.forEach((s2) => selectedShapes.add(s2));\n      if (newSelectedShapes.length === 1) {\n        this.selectionRotation = (_a3 = newSelectedShapes[0].props.rotation) != null ? _a3 : 0;\n      } else {\n        this.selectionRotation = 0;\n      }\n      if (shapes2.length === 0) {\n        this.setEditingShape();\n      }\n      return this;\n    });\n    __publicField(this, \"erasingIds\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"erasingShapes\", \/* @__PURE__ *\/ new Set());\n    __publicField(this, \"setErasingShapes\", (shapes2) => {\n      const { erasingIds, erasingShapes } = this;\n      erasingIds.clear();\n      erasingShapes.clear();\n      if (shapes2[0] && typeof shapes2[0] === \"string\") {\n        ;\n        shapes2.forEach((s2) => erasingIds.add(s2));\n      } else {\n        ;\n        shapes2.forEach((s2) => erasingIds.add(s2.id));\n      }\n      const newErasingShapes = this.currentPage.shapes.filter((shape) => erasingIds.has(shape.id));\n      newErasingShapes.forEach((s2) => erasingShapes.add(s2));\n      return this;\n    });\n    __publicField(this, \"bindingIds\");\n    __publicField(this, \"setBindingShapes\", (ids) => {\n      this.bindingIds = ids;\n      return this;\n    });\n    __publicField(this, \"clearBindingShape\", () => {\n      return this.setBindingShapes();\n    });\n    __publicField(this, \"createNewLineBinding\", (source, target) => {\n      const src = typeof source === \"string\" ? this.getShapeById(source) : source;\n      const tgt = typeof target === \"string\" ? this.getShapeById(target) : target;\n      if ((src == null ? void 0 : src.canBind) && (tgt == null ? void 0 : tgt.canBind)) {\n        const result = createNewLineBinding(src, tgt);\n        if (result) {\n          const [newLine, newBindings] = result;\n          this.createShapes([newLine]);\n          this.currentPage.updateBindings(Object.fromEntries(newBindings.map((b3) => [b3.id, b3])));\n          this.persist();\n          return true;\n        }\n      }\n      return false;\n    });\n    __publicField(this, \"brush\");\n    __publicField(this, \"setBrush\", (brush) => {\n      this.brush = brush;\n      return this;\n    });\n    __publicField(this, \"setCamera\", (point, zoom) => {\n      this.viewport.update({ point, zoom });\n      return this;\n    });\n    __publicField(this, \"getPagePoint\", (point) => {\n      const { camera } = this.viewport;\n      return Vec.sub(Vec.div(point, camera.zoom), camera.point);\n    });\n    __publicField(this, \"getScreenPoint\", (point) => {\n      const { camera } = this.viewport;\n      return Vec.mul(Vec.add(point, camera.point), camera.zoom);\n    });\n    __publicField(this, \"Shapes\", \/* @__PURE__ *\/ new Map());\n    __publicField(this, \"registerShapes\", (Shapes) => {\n      Shapes.forEach((Shape5) => {\n        if (Shape5.id === \"group\") {\n          const app = this;\n          Shape5.prototype.getShapes = function() {\n            var _a3, _b;\n            return (_b = (_a3 = this.props.children) == null ? void 0 : _a3.map((id3) => app.getShapeById(id3)).filter(Boolean)) != null ? _b : [];\n          };\n        }\n        return this.Shapes.set(Shape5.id, Shape5);\n      });\n    });\n    __publicField(this, \"deregisterShapes\", (Shapes) => {\n      Shapes.forEach((Shape5) => this.Shapes.delete(Shape5.id));\n    });\n    __publicField(this, \"getShapeClass\", (type) => {\n      if (!type)\n        throw Error(\"No shape type provided.\");\n      const Shape5 = this.Shapes.get(type);\n      if (!Shape5)\n        throw Error(`Could not find shape class for ${type}`);\n      return Shape5;\n    });\n    __publicField(this, \"wrapUpdate\", (fn) => {\n      transaction(() => {\n        const shouldSave = !this.history.isPaused;\n        if (shouldSave) {\n          this.history.pause();\n        }\n        fn();\n        if (shouldSave) {\n          this.history.resume();\n          this.persist();\n        }\n      });\n    });\n    __publicField(this, \"subscriptions\", \/* @__PURE__ *\/ new Set([]));\n    __publicField(this, \"subscribe\", (event, callback) => {\n      if (callback === void 0)\n        throw Error(\"Callback is required.\");\n      const subscription = { event, callback };\n      this.subscriptions.add(subscription);\n      return () => this.unsubscribe(subscription);\n    });\n    __publicField(this, \"unsubscribe\", (subscription) => {\n      this.subscriptions.delete(subscription);\n      return this;\n    });\n    __publicField(this, \"notify\", (event, info) => {\n      this.subscriptions.forEach((subscription) => {\n        if (subscription.event === event) {\n          subscription.callback(this, info);\n        }\n      });\n      return this;\n    });\n    __publicField(this, \"onTransition\", () => {\n    });\n    __publicField(this, \"onPointerDown\", (info, e) => {\n      if (!this.editingShape && e.button === 1 && !this.isIn(\"move\")) {\n        this.temporaryTransitionToMove(e);\n        return;\n      }\n      if (e.button === 2 && !this.editingShape) {\n        e.preventDefault();\n        this.transition(\"select\");\n        return;\n      }\n      if (\"clientX\" in e) {\n        this.inputs.onPointerDown(\n          [...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure],\n          e\n        );\n      }\n    });\n    __publicField(this, \"onPointerUp\", (info, e) => {\n      if (!this.editingShape && e.button === 1 && this.isIn(\"move\")) {\n        this.selectedTool.transition(\"idle\", { exit: true });\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      if (\"clientX\" in e) {\n        this.inputs.onPointerUp(\n          [...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure],\n          e\n        );\n      }\n    });\n    __publicField(this, \"onPointerMove\", (info, e) => {\n      if (\"clientX\" in e) {\n        this.inputs.onPointerMove([...this.viewport.getPagePoint([e.clientX, e.clientY]), e.pressure], e);\n      }\n    });\n    __publicField(this, \"onKeyDown\", (info, e) => {\n      if (!this.editingShape && e[\"key\"] === \" \" && !this.isIn(\"move\")) {\n        this.temporaryTransitionToMove(e);\n        return;\n      }\n      this.inputs.onKeyDown(e);\n    });\n    __publicField(this, \"onKeyUp\", (info, e) => {\n      if (!this.editingShape && e[\"key\"] === \" \" && this.isIn(\"move\")) {\n        this.selectedTool.transition(\"idle\", { exit: true });\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      this.inputs.onKeyUp(e);\n    });\n    __publicField(this, \"onPinchStart\", (info, e) => {\n      this.inputs.onPinchStart([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    __publicField(this, \"onPinch\", (info, e) => {\n      this.inputs.onPinch([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    __publicField(this, \"onPinchEnd\", (info, e) => {\n      this.inputs.onPinchEnd([...this.viewport.getPagePoint(info.point), 0.5], e);\n    });\n    this._states = [TLSelectTool, TLMoveTool];\n    this.readOnly = readOnly;\n    this.history.pause();\n    if (this.states && this.states.length > 0) {\n      this.registerStates(this.states);\n      const initialId = (_a3 = this.initial) != null ? _a3 : this.states[0].id;\n      const state = this.children.get(initialId);\n      if (state) {\n        this.currentState = state;\n        (_b = this.currentState) == null ? void 0 : _b._events.onEnter({ fromId: \"initial\" });\n      }\n    }\n    if (Shapes)\n      this.registerShapes(Shapes);\n    if (Tools)\n      this.registerTools(Tools);\n    this.history.resume();\n    if (serializedApp)\n      this.history.deserialize(serializedApp);\n    this.api = new TLApi(this);\n    makeObservable(this);\n    this.notify(\"mount\", null);\n  }\n  loadDocumentModel(model) {\n    this.history.deserialize(model);\n    if (model.assets && model.assets.length > 0)\n      this.addAssets(model.assets);\n    return this;\n  }\n  get serialized() {\n    return {};\n  }\n  get currentPageId() {\n    return this.pages.keys().next().value;\n  }\n  get currentPage() {\n    return this.getPageById(this.currentPageId);\n  }\n  addPages(pages) {\n    pages.forEach((page) => this.pages.set(page.id, page));\n    this.persist();\n    return this;\n  }\n  removePages(pages) {\n    pages.forEach((page) => this.pages.delete(page.id));\n    this.persist();\n    return this;\n  }\n  shapesInGroups(groups = this.shapes) {\n    return groups.flatMap((shape) => shape.props.children).filter(isNonNullable).map((id3) => this.getShapeById(id3)).filter(isNonNullable);\n  }\n  getParentGroup(shape) {\n    return this.shapes.find((group) => {\n      var _a3;\n      return (_a3 = group.props.children) == null ? void 0 : _a3.includes(shape.id);\n    });\n  }\n  addAssets(assets) {\n    assets.forEach((asset) => this.assets[asset.id] = asset);\n    return this;\n  }\n  removeAssets(assets) {\n    if (typeof assets[0] === \"string\")\n      assets.forEach((asset) => delete this.assets[asset]);\n    else\n      assets.forEach((asset) => delete this.assets[asset.id]);\n    this.persist();\n    return this;\n  }\n  getCleanUpAssets() {\n    const usedAssets = \/* @__PURE__ *\/ new Set();\n    this.pages.forEach(\n      (p2) => p2.shapes.forEach((s2) => {\n        if (s2.props.assetId && this.assets[s2.props.assetId]) {\n          usedAssets.add(this.assets[s2.props.assetId]);\n        }\n      })\n    );\n    return Array.from(usedAssets);\n  }\n  createAssets(assets) {\n    this.addAssets(assets);\n    this.notify(\"create-assets\", { assets });\n    this.persist();\n    return this;\n  }\n  get selectedTool() {\n    return this.currentState;\n  }\n  registerTools(tools2) {\n    this.Tools = tools2;\n    return this.registerStates(tools2);\n  }\n  get editingShape() {\n    const { editingId, currentPage } = this;\n    return editingId ? currentPage.shapes.find((shape) => shape.id === editingId) : void 0;\n  }\n  get hoveredShape() {\n    const { hoveredId, currentPage } = this;\n    return hoveredId ? currentPage.shapes.find((shape) => shape.id === hoveredId) : void 0;\n  }\n  get hoveredGroup() {\n    const { hoveredShape } = this;\n    const hoveredGroup = hoveredShape ? this.shapes.find((s2) => {\n      var _a3;\n      return s2.type === \"group\" && ((_a3 = s2.props.children) == null ? void 0 : _a3.includes(hoveredShape.id));\n    }) : void 0;\n    return hoveredGroup;\n  }\n  get selectedShapesArray() {\n    const { selectedShapes, selectedTool } = this;\n    const stateId = selectedTool.id;\n    if (stateId !== \"select\")\n      return [];\n    return Array.from(selectedShapes.values());\n  }\n  get allSelectedShapes() {\n    return new Set(this.allSelectedShapesArray);\n  }\n  get allSelectedShapesArray() {\n    const { selectedShapesArray } = this;\n    return dedupe([...selectedShapesArray, ...this.shapesInGroups(selectedShapesArray)]);\n  }\n  setSelectionRotation(radians) {\n    this.selectionRotation = radians;\n  }\n  get erasingShapesArray() {\n    return Array.from(this.erasingShapes.values());\n  }\n  get bindingShapes() {\n    var _a3;\n    const activeBindings = this.selectedShapesArray.length === 1 ? this.selectedShapesArray.flatMap((s2) => {\n      var _a4;\n      return Object.values((_a4 = s2.props.handles) != null ? _a4 : {});\n    }).flatMap((h2) => h2.bindingId).filter(isNonNullable).flatMap((binding) => {\n      var _a4, _b;\n      return [\n        (_a4 = this.currentPage.bindings[binding]) == null ? void 0 : _a4.fromId,\n        (_b = this.currentPage.bindings[binding]) == null ? void 0 : _b.toId\n      ];\n    }).filter(isNonNullable) : [];\n    const bindingIds = [...(_a3 = this.bindingIds) != null ? _a3 : [], ...activeBindings];\n    return bindingIds ? this.currentPage.shapes.filter((shape) => bindingIds == null ? void 0 : bindingIds.includes(shape.id)) : void 0;\n  }\n  get currentGrid() {\n    const { zoom } = this.viewport.camera;\n    if (zoom < 0.15) {\n      return GRID_SIZE * 16;\n    } else if (zoom < 1) {\n      return GRID_SIZE * 4;\n    } else {\n      return GRID_SIZE * 1;\n    }\n  }\n  get shapes() {\n    const {\n      currentPage: { shapes: shapes2 }\n    } = this;\n    return Array.from(shapes2.values());\n  }\n  get shapesInViewport() {\n    const {\n      selectedShapes,\n      currentPage,\n      viewport: { currentView }\n    } = this;\n    return currentPage.shapes.filter((shape) => {\n      return !shape.canUnmount || selectedShapes.has(shape) || BoundsUtils.boundsContain(currentView, shape.rotatedBounds) || BoundsUtils.boundsCollide(currentView, shape.rotatedBounds);\n    });\n  }\n  get selectionDirectionHint() {\n    const {\n      selectionBounds,\n      viewport: { currentView }\n    } = this;\n    if (!selectionBounds || BoundsUtils.boundsContain(currentView, selectionBounds) || BoundsUtils.boundsCollide(currentView, selectionBounds)) {\n      return;\n    }\n    const center = BoundsUtils.getBoundsCenter(selectionBounds);\n    return Vec.clampV(\n      [\n        (center[0] - currentView.minX - currentView.width \/ 2) \/ currentView.width,\n        (center[1] - currentView.minY - currentView.height \/ 2) \/ currentView.height\n      ],\n      -1,\n      1\n    );\n  }\n  get selectionBounds() {\n    const { selectedShapesArray } = this;\n    if (selectedShapesArray.length === 0)\n      return void 0;\n    if (selectedShapesArray.length === 1) {\n      return __spreadProps(__spreadValues({}, selectedShapesArray[0].bounds), { rotation: selectedShapesArray[0].props.rotation });\n    }\n    return BoundsUtils.getCommonBounds(this.selectedShapesArray.map((shape) => shape.rotatedBounds));\n  }\n  get showSelection() {\n    var _a3;\n    const { selectedShapesArray } = this;\n    return this.isIn(\"select\") && !this.isInAny(\"select.translating\", \"select.pinching\", \"select.rotating\") && (selectedShapesArray.length === 1 && !((_a3 = selectedShapesArray[0]) == null ? void 0 : _a3.hideSelection) || selectedShapesArray.length > 1);\n  }\n  get showSelectionDetail() {\n    return this.isIn(\"select\") && !this.isInAny(\"select.translating\", \"select.pinching\") && this.selectedShapes.size > 0 && !this.selectedShapesArray.every((shape) => shape.hideSelectionDetail) && false;\n  }\n  get showSelectionRotation() {\n    return this.showSelectionDetail && this.isInAny(\"select.rotating\", \"select.pointingRotateHandle\");\n  }\n  get showContextBar() {\n    const {\n      selectedShapesArray,\n      inputs: { ctrlKey }\n    } = this;\n    return this.isInAny(\"select.idle\", \"select.hoveringSelectionHandle\") && !this.isIn(\"select.contextMenu\") && selectedShapesArray.length > 0 && !this.readOnly && !selectedShapesArray.every((shape) => shape.hideContextBar);\n  }\n  get showRotateHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingRotateHandle\",\n      \"select.pointingResizeHandle\"\n    ) && selectedShapesArray.length > 0 && !this.readOnly && !selectedShapesArray.some((shape) => shape.hideRotateHandle);\n  }\n  get showResizeHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingShape\",\n      \"select.pointingSelectedShape\",\n      \"select.pointingRotateHandle\",\n      \"select.pointingResizeHandle\"\n    ) && selectedShapesArray.length === 1 && !this.readOnly && !selectedShapesArray.every((shape) => shape.hideResizeHandles);\n  }\n  get showCloneHandles() {\n    const { selectedShapesArray } = this;\n    return this.isInAny(\n      \"select.idle\",\n      \"select.hoveringSelectionHandle\",\n      \"select.pointingShape\",\n      \"select.pointingSelectedShape\"\n    ) && selectedShapesArray.length === 1 && Object.values(Geometry).some((geometry) => geometry === this.selectedShapesArray[0].type) && !this.readOnly;\n  }\n  temporaryTransitionToMove(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    const prevTool = this.selectedTool;\n    this.transition(\"move\", { prevTool });\n    this.selectedTool.transition(\"idleHold\");\n  }\n};\n__publicField(TLApp, \"id\", \"app\");\n__publicField(TLApp, \"initial\", \"select\");\n__decorateClass([\n  computed\n], TLApp.prototype, \"serialized\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"pages\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentPageId\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentPage\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"addPages\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removePages\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"createShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"updateShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"deleteShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"assets\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"addAssets\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removeAssets\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"removeUnusedAssets\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectedTool\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"editingId\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"editingShape\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setEditingShape\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"hoveredId\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"hoveredShape\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"hoveredGroup\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setHoveredShape\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectedIds\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectedShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"selectionRotation\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectedShapesArray\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"allSelectedShapes\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"allSelectedShapesArray\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setSelectedShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setSelectionRotation\", 1);\n__decorateClass([\n  observable\n], TLApp.prototype, \"erasingIds\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"erasingShapes\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"erasingShapesArray\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setErasingShapes\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"bindingIds\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"bindingShapes\", 1);\n__decorateClass([\n  action\n], TLApp.prototype, \"setBindingShapes\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"createNewLineBinding\", 2);\n__decorateClass([\n  observable\n], TLApp.prototype, \"brush\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setBrush\", 2);\n__decorateClass([\n  action\n], TLApp.prototype, \"setCamera\", 2);\n__decorateClass([\n  computed\n], TLApp.prototype, \"currentGrid\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"shapes\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"shapesInViewport\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectionDirectionHint\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"selectionBounds\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelection\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelectionDetail\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showSelectionRotation\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showContextBar\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showRotateHandles\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showResizeHandles\", 1);\n__decorateClass([\n  computed\n], TLApp.prototype, \"showCloneHandles\", 1);\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/BindingUtils.ts\nfunction findBindingPoint(shape, target, handleId, bindingId, point, origin, direction, bindAnywhere) {\n  const bindingPoint = target.getBindingPoint(\n    point,\n    origin,\n    direction,\n    bindAnywhere\n  );\n  if (!bindingPoint)\n    return;\n  return {\n    id: bindingId,\n    type: \"line\",\n    fromId: shape.id,\n    toId: target.id,\n    handleId,\n    point: src_default.toFixed(bindingPoint.point),\n    distance: bindingPoint.distance\n  };\n}\nfunction createNewLineBinding(source, target) {\n  const cs = source.getCenter();\n  const ct2 = target.getCenter();\n  const lineId = uniqueId();\n  const lineShape = __spreadProps(__spreadValues({}, TLLineShape.defaultProps), {\n    id: lineId,\n    type: TLLineShape.id,\n    parentId: source.props.parentId,\n    point: cs\n  });\n  const startBinding = findBindingPoint(\n    lineShape,\n    source,\n    \"start\",\n    uniqueId(),\n    cs,\n    cs,\n    src_default.uni(src_default.sub(ct2, cs)),\n    false\n  );\n  const endBinding = findBindingPoint(\n    lineShape,\n    target,\n    \"end\",\n    uniqueId(),\n    ct2,\n    ct2,\n    src_default.uni(src_default.sub(cs, ct2)),\n    false\n  );\n  if (startBinding && endBinding) {\n    lineShape.handles.start.point = [0, 0];\n    lineShape.handles.end.point = src_default.sub(ct2, cs);\n    lineShape.handles.start.bindingId = startBinding.id;\n    lineShape.handles.end.bindingId = endBinding.id;\n    return [lineShape, [startBinding, endBinding]];\n  }\n  return null;\n}\n\n\/\/ ..\/..\/node_modules\/fast-copy\/dist\/esm\/index.mjs\nvar toStringFunction = Function.prototype.toString;\nvar create = Object.create;\nvar toStringObject = Object.prototype.toString;\nvar LegacyCache = function() {\n  function LegacyCache2() {\n    this._keys = [];\n    this._values = [];\n  }\n  LegacyCache2.prototype.has = function(key) {\n    return !!~this._keys.indexOf(key);\n  };\n  LegacyCache2.prototype.get = function(key) {\n    return this._values[this._keys.indexOf(key)];\n  };\n  LegacyCache2.prototype.set = function(key, value) {\n    this._keys.push(key);\n    this._values.push(value);\n  };\n  return LegacyCache2;\n}();\nfunction createCacheLegacy() {\n  return new LegacyCache();\n}\nfunction createCacheModern() {\n  return \/* @__PURE__ *\/ new WeakMap();\n}\nvar createCache = typeof WeakMap !== \"undefined\" ? createCacheModern : createCacheLegacy;\nfunction getCleanClone(prototype) {\n  if (!prototype) {\n    return create(null);\n  }\n  var Constructor = prototype.constructor;\n  if (Constructor === Object) {\n    return prototype === Object.prototype ? {} : create(prototype);\n  }\n  if (~toStringFunction.call(Constructor).indexOf(\"[native code]\")) {\n    try {\n      return new Constructor();\n    } catch (_a3) {\n    }\n  }\n  return create(prototype);\n}\nfunction getRegExpFlagsLegacy(regExp) {\n  var flags = \"\";\n  if (regExp.global) {\n    flags += \"g\";\n  }\n  if (regExp.ignoreCase) {\n    flags += \"i\";\n  }\n  if (regExp.multiline) {\n    flags += \"m\";\n  }\n  if (regExp.unicode) {\n    flags += \"u\";\n  }\n  if (regExp.sticky) {\n    flags += \"y\";\n  }\n  return flags;\n}\nfunction getRegExpFlagsModern(regExp) {\n  return regExp.flags;\n}\nvar getRegExpFlags = \/test\/g.flags === \"g\" ? getRegExpFlagsModern : getRegExpFlagsLegacy;\nfunction getTagLegacy(value) {\n  var type = toStringObject.call(value);\n  return type.substring(8, type.length - 1);\n}\nfunction getTagModern(value) {\n  return value[Symbol.toStringTag] || getTagLegacy(value);\n}\nvar getTag = typeof Symbol !== \"undefined\" ? getTagModern : getTagLegacy;\nvar defineProperty3 = Object.defineProperty;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar _a = Object.prototype;\nvar hasOwnProperty = _a.hasOwnProperty;\nvar propertyIsEnumerable = _a.propertyIsEnumerable;\nvar SUPPORTS_SYMBOL = typeof getOwnPropertySymbols === \"function\";\nfunction getStrictPropertiesModern(object2) {\n  return getOwnPropertyNames(object2).concat(getOwnPropertySymbols(object2));\n}\nvar getStrictProperties = SUPPORTS_SYMBOL ? getStrictPropertiesModern : getOwnPropertyNames;\nfunction copyOwnPropertiesStrict(value, clone, state) {\n  var properties = getStrictProperties(value);\n  for (var index2 = 0, length_1 = properties.length, property = void 0, descriptor = void 0; index2 < length_1; ++index2) {\n    property = properties[index2];\n    if (property === \"callee\" || property === \"caller\") {\n      continue;\n    }\n    descriptor = getOwnPropertyDescriptor(value, property);\n    if (!descriptor) {\n      clone[property] = state.copier(value[property], state);\n      continue;\n    }\n    if (!descriptor.get && !descriptor.set) {\n      descriptor.value = state.copier(descriptor.value, state);\n    }\n    try {\n      defineProperty3(clone, property, descriptor);\n    } catch (error) {\n      clone[property] = descriptor.value;\n    }\n  }\n  return clone;\n}\nfunction copyArrayLoose(array2, state) {\n  var clone = new state.Constructor();\n  state.cache.set(array2, clone);\n  for (var index2 = 0, length_2 = array2.length; index2 < length_2; ++index2) {\n    clone[index2] = state.copier(array2[index2], state);\n  }\n  return clone;\n}\nfunction copyArrayStrict(array2, state) {\n  var clone = new state.Constructor();\n  state.cache.set(array2, clone);\n  return copyOwnPropertiesStrict(array2, clone, state);\n}\nfunction copyArrayBuffer(arrayBuffer, _state) {\n  return arrayBuffer.slice(0);\n}\nfunction copyBlob(blob, _state) {\n  return blob.slice(0, blob.size, blob.type);\n}\nfunction copyDataView(dataView, state) {\n  return new state.Constructor(copyArrayBuffer(dataView.buffer));\n}\nfunction copyDate(date, state) {\n  return new state.Constructor(date.getTime());\n}\nfunction copyMapLoose(map3, state) {\n  var clone = new state.Constructor();\n  state.cache.set(map3, clone);\n  map3.forEach(function(value, key) {\n    clone.set(key, state.copier(value, state));\n  });\n  return clone;\n}\nfunction copyMapStrict(map3, state) {\n  return copyOwnPropertiesStrict(map3, copyMapLoose(map3, state), state);\n}\nfunction copyObjectLooseLegacy(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  for (var key in object2) {\n    if (hasOwnProperty.call(object2, key)) {\n      clone[key] = state.copier(object2[key], state);\n    }\n  }\n  return clone;\n}\nfunction copyObjectLooseModern(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  for (var key in object2) {\n    if (hasOwnProperty.call(object2, key)) {\n      clone[key] = state.copier(object2[key], state);\n    }\n  }\n  var symbols = getOwnPropertySymbols(object2);\n  for (var index2 = 0, length_3 = symbols.length, symbol = void 0; index2 < length_3; ++index2) {\n    symbol = symbols[index2];\n    if (propertyIsEnumerable.call(object2, symbol)) {\n      clone[symbol] = state.copier(object2[symbol], state);\n    }\n  }\n  return clone;\n}\nvar copyObjectLoose = SUPPORTS_SYMBOL ? copyObjectLooseModern : copyObjectLooseLegacy;\nfunction copyObjectStrict(object2, state) {\n  var clone = getCleanClone(state.prototype);\n  state.cache.set(object2, clone);\n  return copyOwnPropertiesStrict(object2, clone, state);\n}\nfunction copyPrimitiveWrapper(primitiveObject, state) {\n  return new state.Constructor(primitiveObject.valueOf());\n}\nfunction copyRegExp(regExp, state) {\n  var clone = new state.Constructor(regExp.source, getRegExpFlags(regExp));\n  clone.lastIndex = regExp.lastIndex;\n  return clone;\n}\nfunction copySelf(value, _state) {\n  return value;\n}\nfunction copySetLoose(set4, state) {\n  var clone = new state.Constructor();\n  state.cache.set(set4, clone);\n  set4.forEach(function(value) {\n    clone.add(state.copier(value, state));\n  });\n  return clone;\n}\nfunction copySetStrict(set4, state) {\n  return copyOwnPropertiesStrict(set4, copySetLoose(set4, state), state);\n}\nvar isArray = Array.isArray;\nvar assign2 = Object.assign;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar DEFAULT_LOOSE_OPTIONS = {\n  array: copyArrayLoose,\n  arrayBuffer: copyArrayBuffer,\n  blob: copyBlob,\n  dataView: copyDataView,\n  date: copyDate,\n  error: copySelf,\n  map: copyMapLoose,\n  object: copyObjectLoose,\n  regExp: copyRegExp,\n  set: copySetLoose\n};\nvar DEFAULT_STRICT_OPTIONS = assign2({}, DEFAULT_LOOSE_OPTIONS, {\n  array: copyArrayStrict,\n  map: copyMapStrict,\n  object: copyObjectStrict,\n  set: copySetStrict\n});\nfunction getTagSpecificCopiers(options) {\n  return {\n    Arguments: options.object,\n    Array: options.array,\n    ArrayBuffer: options.arrayBuffer,\n    Blob: options.blob,\n    Boolean: copyPrimitiveWrapper,\n    DataView: options.dataView,\n    Date: options.date,\n    Error: options.error,\n    Float32Array: options.arrayBuffer,\n    Float64Array: options.arrayBuffer,\n    Int8Array: options.arrayBuffer,\n    Int16Array: options.arrayBuffer,\n    Int32Array: options.arrayBuffer,\n    Map: options.map,\n    Number: copyPrimitiveWrapper,\n    Object: options.object,\n    Promise: copySelf,\n    RegExp: options.regExp,\n    Set: options.set,\n    String: copyPrimitiveWrapper,\n    WeakMap: copySelf,\n    WeakSet: copySelf,\n    Uint8Array: options.arrayBuffer,\n    Uint8ClampedArray: options.arrayBuffer,\n    Uint16Array: options.arrayBuffer,\n    Uint32Array: options.arrayBuffer,\n    Uint64Array: options.arrayBuffer\n  };\n}\nfunction createCopier(options) {\n  var normalizedOptions = assign2({}, DEFAULT_LOOSE_OPTIONS, options);\n  var tagSpecificCopiers = getTagSpecificCopiers(normalizedOptions);\n  var array2 = tagSpecificCopiers.Array, object2 = tagSpecificCopiers.Object;\n  function copier(value, state) {\n    state.prototype = state.Constructor = void 0;\n    if (!value || typeof value !== \"object\") {\n      return value;\n    }\n    if (state.cache.has(value)) {\n      return state.cache.get(value);\n    }\n    state.prototype = value.__proto__ || getPrototypeOf(value);\n    state.Constructor = state.prototype && state.prototype.constructor;\n    if (!state.Constructor || state.Constructor === Object) {\n      return object2(value, state);\n    }\n    if (isArray(value)) {\n      return array2(value, state);\n    }\n    var tagSpecificCopier = tagSpecificCopiers[getTag(value)];\n    if (tagSpecificCopier) {\n      return tagSpecificCopier(value, state);\n    }\n    return typeof value.then === \"function\" ? value : object2(value, state);\n  }\n  return function copy(value) {\n    return copier(value, {\n      Constructor: void 0,\n      cache: createCache(),\n      copier,\n      prototype: void 0\n    });\n  };\n}\nfunction createStrictCopier(options) {\n  return createCopier(assign2({}, DEFAULT_STRICT_OPTIONS, options));\n}\nvar copyStrict = createStrictCopier({});\nvar index = createCopier({});\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/DataUtils.ts\nvar import_fast_deep_equal = __toESM(require_fast_deep_equal());\nvar import_deepmerge = __toESM(require_cjs());\nvar deepCopy = index;\nfunction deepMerge(a3, b3) {\n  return (0, import_deepmerge.default)(a3, b3, {\n    arrayMerge: (destinationArray, sourceArray, options) => sourceArray\n  });\n}\nfunction modulate(value, rangeA, rangeB, clamp3 = false) {\n  const [fromLow, fromHigh] = rangeA;\n  const [v0, v12] = rangeB;\n  const result = v0 + (value - fromLow) \/ (fromHigh - fromLow) * (v12 - v0);\n  return clamp3 ? v0 < v12 ? Math.max(Math.min(result, v12), v0) : Math.max(Math.min(result, v0), v12) : result;\n}\nfunction clamp(n2, min, max) {\n  return Math.max(min, typeof max !== \"undefined\" ? Math.min(n2, max) : n2);\n}\nfunction getSizeFromSrc(dataURL, type) {\n  return new Promise((resolve, reject) => {\n    if (type === \"video\") {\n      const video = document.createElement(\"video\");\n      video.addEventListener(\n        \"loadedmetadata\",\n        function() {\n          const height = this.videoHeight;\n          const width = this.videoWidth;\n          resolve([width, height]);\n        },\n        false\n      );\n      video.src = dataURL;\n    } else if (type === \"image\") {\n      const img = new Image();\n      img.onload = () => resolve([img.width, img.height]);\n      img.src = dataURL;\n      img.onerror = (err) => reject(err);\n    } else if (type === \"pdf\") {\n      resolve([595, 842]);\n    }\n  });\n}\nfunction getFirstFromSet(set4) {\n  return set4.values().next().value;\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/TextUtils.ts\nvar _TextUtils = class {\n  static insertTextFirefox(field, text) {\n    field.setRangeText(\n      text,\n      field.selectionStart || 0,\n      field.selectionEnd || 0,\n      \"end\"\n    );\n    field.dispatchEvent(\n      new InputEvent(\"input\", {\n        data: text,\n        inputType: \"insertText\",\n        isComposing: false\n      })\n    );\n  }\n  static insert(field, text) {\n    const document2 = field.ownerDocument;\n    const initialFocus = document2.activeElement;\n    if (initialFocus !== field) {\n      field.focus();\n    }\n    if (!document2.execCommand(\"insertText\", false, text)) {\n      _TextUtils.insertTextFirefox(field, text);\n    }\n    if (initialFocus === document2.body) {\n      field.blur();\n    } else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n      initialFocus.focus();\n    }\n  }\n  static set(field, text) {\n    field.select();\n    _TextUtils.insert(field, text);\n  }\n  static getSelection(field) {\n    const { selectionStart, selectionEnd } = field;\n    return field.value.slice(\n      selectionStart ? selectionStart : void 0,\n      selectionEnd ? selectionEnd : void 0\n    );\n  }\n  static wrapSelection(field, wrap, wrapEnd) {\n    const { selectionStart, selectionEnd } = field;\n    const selection = _TextUtils.getSelection(field);\n    _TextUtils.insert(field, wrap + selection + (wrapEnd != null ? wrapEnd : wrap));\n    field.selectionStart = (selectionStart || 0) + wrap.length;\n    field.selectionEnd = (selectionEnd || 0) + wrap.length;\n  }\n  static replace(field, searchValue, replacer) {\n    let drift = 0;\n    field.value.replace(searchValue, (...args) => {\n      const matchStart = drift + args[args.length - 2];\n      const matchLength = args[0].length;\n      field.selectionStart = matchStart;\n      field.selectionEnd = matchStart + matchLength;\n      const replacement = typeof replacer === \"string\" ? replacer : replacer(...args);\n      _TextUtils.insert(field, replacement);\n      field.selectionStart = matchStart;\n      drift += replacement.length - matchLength;\n      return replacement;\n    });\n  }\n  static findLineEnd(value, currentEnd) {\n    const lastLineStart = value.lastIndexOf(\"\\n\", currentEnd - 1) + 1;\n    if (value.charAt(lastLineStart) !== \"\t\") {\n      return currentEnd;\n    }\n    return lastLineStart + 1;\n  }\n  static indent(element) {\n    var _a3;\n    const { selectionStart, selectionEnd, value } = element;\n    const selectedContrast = value.slice(selectionStart, selectionEnd);\n    const lineBreakCount = (_a3 = \/\\n\/g.exec(selectedContrast)) == null ? void 0 : _a3.length;\n    if (lineBreakCount && lineBreakCount > 0) {\n      const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n      const newSelection = element.value.slice(firstLineStart, selectionEnd - 1);\n      const indentedText = newSelection.replace(\n        \/^|\\n\/g,\n        `$&${_TextUtils.INDENT}`\n      );\n      const replacementsCount = indentedText.length - newSelection.length;\n      element.setSelectionRange(firstLineStart, selectionEnd - 1);\n      _TextUtils.insert(element, indentedText);\n      element.setSelectionRange(selectionStart + 1, selectionEnd + replacementsCount);\n    } else {\n      _TextUtils.insert(element, _TextUtils.INDENT);\n    }\n  }\n  static unindent(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n    const minimumSelectionEnd = _TextUtils.findLineEnd(value, selectionEnd);\n    const newSelection = element.value.slice(firstLineStart, minimumSelectionEnd);\n    const indentedText = newSelection.replace(\/(^|\\n)(\\t| {1,2})\/g, \"$1\");\n    const replacementsCount = newSelection.length - indentedText.length;\n    element.setSelectionRange(firstLineStart, minimumSelectionEnd);\n    _TextUtils.insert(element, indentedText);\n    const firstLineIndentation = \/\\t| {1,2}\/.exec(value.slice(firstLineStart, selectionStart));\n    const difference = firstLineIndentation ? firstLineIndentation[0].length : 0;\n    const newSelectionStart = selectionStart - difference;\n    element.setSelectionRange(\n      selectionStart - difference,\n      Math.max(newSelectionStart, selectionEnd - replacementsCount)\n    );\n  }\n  static normalizeText(text) {\n    return text.replace(_TextUtils.fixNewLines, \"\\n\");\n  }\n};\nvar TextUtils = _TextUtils;\n__publicField(TextUtils, \"fixNewLines\", \/\\r?\\n|\\r\/g);\n__publicField(TextUtils, \"INDENT\", \"  \");\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/ColorUtils.ts\nfunction isBuiltInColor(color) {\n  return Object.values(Color).includes(color);\n}\nfunction getComputedColor(color, type) {\n  if (isBuiltInColor(color) || color == null) {\n    return `var(--ls-wb-${type}-color-${color ? color : \"default\"})`;\n  }\n  return color;\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/getTextSize.ts\nvar melm;\nfunction getMeasurementDiv() {\n  var _a3;\n  (_a3 = document.getElementById(\"__textLabelMeasure\")) == null ? void 0 : _a3.remove();\n  const pre = document.createElement(\"pre\");\n  pre.id = \"__textLabelMeasure\";\n  Object.assign(pre.style, {\n    whiteSpace: \"pre\",\n    width: \"auto\",\n    borderLeft: \"2px solid transparent\",\n    borderRight: \"1px solid transparent\",\n    borderBottom: \"2px solid transparent\",\n    padding: \"0px\",\n    margin: \"0px\",\n    opacity: \"0\",\n    position: \"absolute\",\n    top: \"-500px\",\n    left: \"0px\",\n    zIndex: \"9999\",\n    userSelect: \"none\",\n    pointerEvents: \"none\",\n    font: \"var(--ls-font-family)\"\n  });\n  pre.tabIndex = -1;\n  document.body.appendChild(pre);\n  return pre;\n}\nif (typeof window !== \"undefined\") {\n  melm = getMeasurementDiv();\n}\nvar cache2 = \/* @__PURE__ *\/ new Map();\nvar getKey = (text, font5, padding) => {\n  return `${text}-${font5}-${padding}`;\n};\nvar hasCached = (text, font5, padding) => {\n  const key = getKey(text, font5, padding);\n  return cache2.has(key);\n};\nvar getCached = (text, font5, padding) => {\n  const key = getKey(text, font5, padding);\n  return cache2.get(key);\n};\nvar saveCached = (text, font5, padding, size) => {\n  const key = getKey(text, font5, padding);\n  cache2.set(key, size);\n};\nfunction getTextLabelSize(text, fontOrStyles, padding = 0) {\n  var _a3, _b, _c;\n  if (!text) {\n    return [16, 32];\n  }\n  let font5;\n  if (typeof fontOrStyles === \"string\") {\n    font5 = fontOrStyles;\n  } else {\n    font5 = `${(_a3 = fontOrStyles.fontStyle) != null ? _a3 : \"normal\"} ${(_b = fontOrStyles.fontVariant) != null ? _b : \"normal\"} ${(_c = fontOrStyles.fontWeight) != null ? _c : \"normal\"} ${fontOrStyles.fontSize}px\/${fontOrStyles.fontSize * fontOrStyles.lineHeight}px ${fontOrStyles.fontFamily}`;\n  }\n  if (!hasCached(text, font5, padding)) {\n    if (!melm) {\n      return [10, 10];\n    }\n    if (!melm.parentNode)\n      document.body.appendChild(melm);\n    melm.innerHTML = `${text}&#8203;`;\n    melm.style.font = font5;\n    melm.style.padding = padding + \"px\";\n    const rect = melm.getBoundingClientRect();\n    const width = Math.ceil(rect.width || 1);\n    const height = Math.ceil(rect.height || 1);\n    saveCached(text, font5, padding, [width, height]);\n  }\n  return getCached(text, font5, padding);\n}\n\n\/\/ ..\/..\/packages\/core\/src\/utils\/index.ts\nfunction uniqueId() {\n  return v1_default();\n}\nfunction validUUID(input) {\n  try {\n    parse_default(input);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction debounce(fn, ms = 0, immediateFn = void 0) {\n  let timeoutId;\n  return function(...args) {\n    immediateFn == null ? void 0 : immediateFn(...args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(args), ms);\n  };\n}\nfunction dedupe(arr) {\n  return [...new Set(arr)];\n}\nfunction lerp(a3, b3, t) {\n  return a3 + (b3 - a3) * t;\n}\nfunction isDarwin() {\n  return \/Mac|iPod|iPhone|iPad\/.test(window.navigator.platform);\n}\nfunction isDev() {\n  var _a3, _b, _c;\n  return ((_c = (_b = (_a3 = window == null ? void 0 : window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.get_state_from_store) == null ? void 0 : _c.call(_b, \"ui\/developer-mode?\")) || false;\n}\nfunction isSafari() {\n  const ua = window.navigator.userAgent.toLowerCase();\n  return ua.includes(\"webkit\") && !ua.includes(\"chrome\");\n}\nfunction modKey(e) {\n  return isDarwin() ? e.metaKey : e.ctrlKey;\n}\nvar MOD_KEY = isDarwin() ? \"\\u2318\" : \"ctrl\";\nfunction isNonNullable(value) {\n  return Boolean(value);\n}\nfunction delay(ms = 0) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/lib\/TLReactApp.ts\nvar TLReactApp = class extends TLApp {\n};\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useBoundsEvents.ts\nvar React2 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/constants.ts\nvar PI3 = Math.PI;\nvar TAU2 = PI3 \/ 2;\nvar PI22 = PI3 * 2;\nvar EPSILON2 = Math.PI \/ 180;\nvar DOUBLE_CLICK_DURATION = 300;\nvar NOOP = () => void 0;\nvar isSafari2 = \/^((?!chrome|android).)*safari\/i.test(navigator.userAgent);\nvar CURSORS2 = {\n  canvas: \"default\",\n  grab: \"grab\",\n  grabbing: \"grabbing\",\n  [\"top_left_corner\" \/* TopLeft *\/]: \"resize-nwse\",\n  [\"top_right_corner\" \/* TopRight *\/]: \"resize-nesw\",\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"resize-nwse\",\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"resize-nesw\",\n  [\"top_edge\" \/* Top *\/]: \"resize-ns\",\n  [\"right_edge\" \/* Right *\/]: \"resize-ew\",\n  [\"bottom_edge\" \/* Bottom *\/]: \"resize-ns\",\n  [\"left_edge\" \/* Left *\/]: \"resize-ew\"\n};\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useRendererContext.ts\nvar React = __toESM(require(\"react\"));\nvar contextMap = {};\nfunction getRendererContext(id3 = \"noid\") {\n  if (!contextMap[id3]) {\n    contextMap[id3] = React.createContext({});\n  }\n  return contextMap[id3];\n}\nfunction useRendererContext(id3 = \"noid\") {\n  return React.useContext(getRendererContext(id3));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useBoundsEvents.ts\nfunction useBoundsEvents(handle) {\n  const { callbacks } = useRendererContext();\n  const rDoubleClickTimer = React2.useRef(-1);\n  const events = React2.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      const elm = loopToHtmlElement(e.currentTarget);\n      elm.setPointerCapture(e.pointerId);\n      elm.addEventListener(\"pointerup\", onPointerUp);\n      (_a3 = callbacks.onPointerDown) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      const elm = e.target;\n      elm.removeEventListener(\"pointerup\", onPointerUp);\n      elm.releasePointerCapture(e.pointerId);\n      (_a3 = callbacks.onPointerUp) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_b = callbacks.onDoubleClick) == null ? void 0 : _b.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      if (order)\n        return;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"selection\" \/* Selection *\/, handle, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyDown,\n      onKeyUp\n    };\n  }, [callbacks]);\n  return events;\n}\nfunction loopToHtmlElement(elm) {\n  var _a3;\n  if ((_a3 = elm.namespaceURI) == null ? void 0 : _a3.endsWith(\"svg\")) {\n    if (elm.parentElement)\n      return loopToHtmlElement(elm.parentElement);\n    else\n      throw Error(\"Could not find a parent element of an HTML type!\");\n  }\n  return elm;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useResizeObserver.ts\nvar React3 = __toESM(require(\"react\"));\nvar getNearestScrollableContainer = (element) => {\n  let parent = element.parentElement;\n  while (parent) {\n    if (parent === document.body) {\n      return document;\n    }\n    const { overflowY } = window.getComputedStyle(parent);\n    const hasScrollableContent = parent.scrollHeight > parent.clientHeight;\n    if (hasScrollableContent && (overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\")) {\n      return parent;\n    }\n    parent = parent.parentElement;\n  }\n  return document;\n};\nfunction useResizeObserver(ref, viewport, onBoundsChange) {\n  const rIsMounted = React3.useRef(false);\n  const updateBounds = React3.useCallback(() => {\n    var _a3;\n    if (rIsMounted.current) {\n      const rect = (_a3 = ref.current) == null ? void 0 : _a3.getBoundingClientRect();\n      if (rect) {\n        const bounds = {\n          minX: rect.left,\n          maxX: rect.left + rect.width,\n          minY: rect.top,\n          maxY: rect.top + rect.height,\n          width: rect.width,\n          height: rect.height\n        };\n        viewport.updateBounds(bounds);\n        onBoundsChange == null ? void 0 : onBoundsChange(bounds);\n      }\n    } else {\n      rIsMounted.current = true;\n    }\n  }, [ref, onBoundsChange]);\n  React3.useEffect(() => {\n    const scrollingAnchor = ref.current ? getNearestScrollableContainer(ref.current) : document;\n    const debouncedupdateBounds = debounce(updateBounds, 100);\n    scrollingAnchor.addEventListener(\"scroll\", debouncedupdateBounds);\n    window.addEventListener(\"resize\", debouncedupdateBounds);\n    return () => {\n      scrollingAnchor.removeEventListener(\"scroll\", debouncedupdateBounds);\n      window.removeEventListener(\"resize\", debouncedupdateBounds);\n    };\n  }, []);\n  React3.useLayoutEffect(() => {\n    const resizeObserver = new ResizeObserver((entries) => {\n      if (entries[0].contentRect) {\n        updateBounds();\n      }\n    });\n    if (ref.current) {\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [ref]);\n  React3.useEffect(() => {\n    updateBounds();\n    setTimeout(() => {\n      var _a3, _b;\n      (_b = (_a3 = ref.current) == null ? void 0 : _a3.querySelector(\".tl-canvas\")) == null ? void 0 : _b.focus();\n    });\n  }, [ref]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useStylesheet.ts\nvar React4 = __toESM(require(\"react\"));\nvar styles = \/* @__PURE__ *\/ new Map();\nfunction makeCssTheme(prefix, theme) {\n  return Object.keys(theme).reduce((acc, key) => {\n    const value = theme[key];\n    if (value) {\n      return acc + `${`--${prefix}-${key}`}: ${value};\n`;\n    }\n    return acc;\n  }, \"\");\n}\nfunction useTheme(prefix, theme, selector = \".logseq-tldraw\") {\n  React4.useLayoutEffect(() => {\n    const style = document.createElement(\"style\");\n    const cssTheme = makeCssTheme(prefix, theme);\n    style.setAttribute(\"id\", `${prefix}-theme`);\n    style.setAttribute(\"data-selector\", selector);\n    style.innerHTML = `\n        ${selector} {\n          ${cssTheme}\n        }\n      `;\n    document.head.appendChild(style);\n    return () => {\n      if (style && document.head.contains(style)) {\n        document.head.removeChild(style);\n      }\n    };\n  }, [prefix, theme, selector]);\n}\nfunction useStyle(uid, rules) {\n  React4.useLayoutEffect(() => {\n    if (styles.get(uid)) {\n      return () => void 0;\n    }\n    const style = document.createElement(\"style\");\n    style.innerHTML = rules;\n    style.setAttribute(\"id\", uid);\n    document.head.appendChild(style);\n    styles.set(uid, style);\n    return () => {\n      if (style && document.head.contains(style)) {\n        document.head.removeChild(style);\n        styles.delete(uid);\n      }\n    };\n  }, [uid, rules]);\n}\nvar css = (strings, ...args) => strings.reduce(\n  (acc, string, index2) => acc + string + (index2 < args.length ? args[index2] : \"\"),\n  \"\"\n);\nvar defaultTheme = {\n  accent: \"var(--lx-accent-09, hsl(var(--primary)))\",\n  brushFill: \"var(--ls-scrollbar-background-color, rgba(0, 0, 0, .05))\",\n  brushStroke: \"var(--ls-scrollbar-thumb-hover-color, rgba(0, 0, 0, .05))\",\n  selectStroke: \"var(--color-selectedStroke)\",\n  selectFill: \"var(--color-selectedFill)\",\n  binding: \"var(--color-binding, rgba(65, 132, 244, 0.5))\",\n  background: \"var(--ls-primary-background-color, hsl(var(--background)))\",\n  foreground: \"var(--ls-primary-text-color, hsl(var(--foreground)))\",\n  grid: \"var(--ls-quaternary-background-color, hsl(var(--secondary)))\"\n};\nvar tlcss = css`\n  .tl-container {\n    --tl-zoom: 1;\n    --tl-scale: calc(1 \/ var(--tl-zoom));\n    --tl-padding: calc(64px \/ var(--tl-zoom));;\n    --tl-shadow-color: 0deg 0% 0%;\n    --tl-binding-distance: ${BINDING_DISTANCE}px;\n    --tl-shadow-elevation-low: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0px 0.6px 0.8px -0.7px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.1px 1.2px 1.5px -1.4px hsl(var(--tl-shadow-color) \/ 0.08);\n    --tl-shadow-elevation-medium: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0.1px 1.3px 1.7px -0.5px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.1px 2.8px 3.6px -1px hsl(var(--tl-shadow-color) \/ 0.07),\n      0.3px 6.1px 7.8px -1.4px hsl(var(--tl-shadow-color) \/ 0.09);\n    --tl-shadow-elevation-high: 0px 0.4px 0.5px hsl(var(--tl-shadow-color) \/ 0.04),\n      0.1px 2.3px 3px -0.2px hsl(var(--tl-shadow-color) \/ 0.05),\n      0.2px 4.1px 5.3px -0.5px hsl(var(--tl-shadow-color) \/ 0.06),\n      0.4px 6.6px 8.5px -0.7px hsl(var(--tl-shadow-color) \/ 0.07),\n      0.6px 10.3px 13.2px -1px hsl(var(--tl-shadow-color) \/ 0.08),\n      0.9px 16px 20.6px -1.2px hsl(var(--tl-shadow-color) \/ 0.09),\n      1.3px 24.3px 31.2px -1.4px hsl(var(--tl-shadow-color) \/ 0.1);\n    box-sizing: border-box;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n    padding: 0px;\n    margin: 0px;\n    outline: none;\n    z-index: 100;\n    user-select: none;\n    touch-action: none;\n    overscroll-behavior: none;\n    background-color: var(--tl-background);\n    cursor: inherit;\n    box-sizing: border-box;\n    color: var(--tl-foreground);\n    -webkit-user-select: none;\n    -webkit-user-drag: none;\n  }\n\n  .tl-overlay {\n    background: none;\n    fill: transparent;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n  }\n\n  .tl-snap-line {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-snap-point {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: all;\n    overflow: clip;\n    outline: none;\n  }\n\n  .tl-layer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 0px;\n    width: 0px;\n    contain: layout style size;\n  }\n\n  .tl-absolute {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    contain: layout style size;\n  }\n\n  .tl-positioned {\n    position: absolute;\n    transform-origin: center center;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    contain: layout style size;\n  }\n\n  .tl-positioned-svg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    contain: layout style size;\n    pointer-events: none;\n  }\n\n  .tl-positioned-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    padding: var(--tl-padding);\n    contain: layout style size;\n  }\n\n  .tl-positioned-inner {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n\n  .tl-counter-scaled {\n    transform: scale(var(--tl-scale));\n  }\n\n  .tl-dashed {\n    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));\n  }\n\n  .tl-transparent {\n    fill: transparent;\n    stroke: transparent;\n  }\n\n  .tl-corner-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-rotate-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-clone-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-clone-handle:hover {\n    fill: var(--tl-selectStroke);\n    cursor: pointer;\n  }\n\n  .tl-clone-handle:hover line {\n    stroke: var(--tl-background);\n  }\n\n  .tl-user {\n    left: -4px;\n    top: -4px;\n    height: 8px;\n    width: 8px;\n    border-radius: 100%;\n    pointer-events: none;\n  }\n\n  .tl-indicator {\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-indicator-container {\n    transform-origin: 0 0;\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user-indicator-bounds {\n    border-style: solid;\n    border-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-selected {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-hovered {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-clone-target {\n    pointer-events: all;\n  }\n\n  .tl-clone-target:hover .tl-clone-button {\n    opacity: 1;\n  }\n\n  .tl-clone-button-target {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  .tl-clone-button-target:hover .tl-clone-button {\n    fill: var(--tl-selectStroke);\n  }\n\n  .tl-clone-button {\n    opacity: 0;\n    r: calc(8px * var(--tl-scale));\n    stroke-width: calc(1.5px * var(--tl-scale));\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n  }\n\n  .tl-bounds {\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-bounds-bg {\n    stroke: none;\n    fill: var(--tl-selectFill);\n    pointer-events: all;\n    contain: layout style size;\n  }\n\n  .tl-bounds-fg {\n    fill: transparent;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-brush {\n    fill: var(--tl-brushFill);\n    stroke: var(--tl-brushStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-dot {\n    fill: var(--tl-background);\n    stroke: var(--tl-foreground);\n    stroke-width: 2px;\n  }\n\n  .tl-handle {\n    fill: var(--tl-background);\n    stroke: var(--tl-selectStroke);\n    stroke-width: 1.5px;\n    pointer-events: none;\n  }\n\n  .tl-handle-bg {\n    fill: transparent;\n    stroke: none;\n    r: calc(16px \/ max(1, var(--tl-zoom)));\n    pointer-events: all;\n    cursor: grab;\n  }\n\n  .tl-handle-bg:active {\n    pointer-events: all;\n    fill: none;\n  }\n\n  .tl-handle-bg:hover {\n    cursor: grab;\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-binding-indicator {\n    fill: transparent;\n    stroke: var(--tl-binding);\n  }\n\n  .tl-centered {\n    display: grid;\n    place-content: center;\n    place-items: center;\n  }\n\n  .tl-centered > * {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .tl-centered-g {\n    transform: translate(var(--tl-padding), var(--tl-padding));\n  }\n\n  .tl-current-parent > *[data-shy='true'] {\n    opacity: 1;\n  }\n\n  .tl-binding {\n    fill: none;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(2px * var(--tl-scale));\n  }\n\n  .tl-counter-scaled-positioned {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    padding: 0;\n    contain: layout style size;\n  }\n\n  .tl-fade-in {\n    opacity: 1;\n    transition-timing-function: ease-in-out;\n    transition-property: opacity;\n    transition-duration: 0.12s;\n    transition-delay: 0;\n  }\n\n  .tl-fade-out {\n    opacity: 0;\n    transition-timing-function: ease-out;\n    transition-property: opacity;\n    transition-duration: 0.12s;\n    transition-delay: 0;\n  }\n\n  .tl-counter-scaled-positioned > .tl-positioned-div {\n    user-select: none;\n    padding: 64px;\n  }\n\n  .tl-context-bar > * {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .tl-bounds-detail {\n    padding: 2px 3px;\n    border-radius: 1px;\n    white-space: nowrap;\n    width: fit-content;\n    text-align: center;\n    font-size: 12px;\n    font-weight: 500;\n    background-color: var(--tl-selectStroke);\n    color: var(--tl-background);\n  }\n\n  .tl-grid-canvas {\n    position: absolute;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-grid {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-grid-dot {\n    fill: var(--tl-grid);\n  }\n\n  .tl-html-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    zindex: 20000;\n    pointer-events: none;\n    border: 2px solid red;\n  }\n\n  .tl-direction-indicator {\n    z-index: 100000;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    fill: var(--tl-selectStroke);\n  }\n`;\nfunction useStylesheet(theme, selector) {\n  const tltheme = React4.useMemo(\n    () => __spreadValues(__spreadValues({}, defaultTheme), theme),\n    [theme]\n  );\n  useTheme(\"tl\", tltheme, selector);\n  useStyle(\"tl-canvas\", tlcss);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCanvasEvents.ts\nvar React6 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useApp.ts\nvar React5 = __toESM(require(\"react\"));\nvar contextMap2 = {};\nfunction getAppContext(id3 = \"noid\") {\n  if (!contextMap2[id3]) {\n    contextMap2[id3] = React5.createContext({});\n  }\n  return contextMap2[id3];\n}\nfunction useApp(id3 = \"noid\") {\n  return React5.useContext(getAppContext(id3));\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCanvasEvents.ts\nfunction useCanvasEvents() {\n  const app = useApp();\n  const { callbacks } = useRendererContext();\n  const rDoubleClickTimer = React6.useRef(-1);\n  const events = React6.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b, _c;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      if (!e.isPrimary) {\n        return;\n      }\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_c = callbacks.onDoubleClick) == null ? void 0 : _c.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order }, e);\n    };\n    const onDrop = (e) => __async(this, null, function* () {\n      e.preventDefault();\n      if (\"clientX\" in e) {\n        const point = [e.clientX, e.clientY];\n        app.drop(e.dataTransfer, point);\n      }\n    });\n    const onDragOver = (e) => {\n      e.preventDefault();\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onDrop,\n      onDragOver,\n      onTouchEnd: (e) => {\n        let tool = app.selectedTool.id;\n        if (tool === \"pencil\" || tool === \"highlighter\") {\n          e.preventDefault();\n        }\n      }\n    };\n  }, [callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/maths-b28d9b98.esm.js\nfunction clamp2(v2, min, max) {\n  return Math.max(min, Math.min(v2, max));\n}\nvar V = {\n  toVector(v2, fallback) {\n    if (v2 === void 0)\n      v2 = fallback;\n    return Array.isArray(v2) ? v2 : [v2, v2];\n  },\n  add(v12, v2) {\n    return [v12[0] + v2[0], v12[1] + v2[1]];\n  },\n  sub(v12, v2) {\n    return [v12[0] - v2[0], v12[1] - v2[1]];\n  },\n  addTo(v12, v2) {\n    v12[0] += v2[0];\n    v12[1] += v2[1];\n  },\n  subTo(v12, v2) {\n    v12[0] -= v2[0];\n    v12[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity)\n    return Math.pow(distance, constant * 5);\n  return distance * dimension * constant \/ (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0)\n    return clamp2(position, min, max);\n  if (position < min)\n    return -rubberband(min - position, max - min, constant) + min;\n  if (position > max)\n    return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/actions-e3d93fde.esm.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction ownKeys3(object2, enumerableOnly) {\n  var keys = Object.keys(object2);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object2);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object2, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i2 = 1; i2 < arguments.length; i2++) {\n    var source = null != arguments[i2] ? arguments[i2] : {};\n    i2 % 2 ? ownKeys3(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys3(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar EVENT_TYPE_MAP = {\n  pointer: {\n    start: \"down\",\n    change: \"move\",\n    end: \"up\"\n  },\n  mouse: {\n    start: \"down\",\n    change: \"move\",\n    end: \"up\"\n  },\n  touch: {\n    start: \"start\",\n    change: \"move\",\n    end: \"end\"\n  },\n  gesture: {\n    start: \"start\",\n    change: \"change\",\n    end: \"end\"\n  }\n};\nfunction capitalize(string) {\n  if (!string)\n    return \"\";\n  return string[0].toUpperCase() + string.slice(1);\n}\nvar actionsWithoutCaptureSupported = [\"enter\", \"leave\"];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action2 = \"\", capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action2] || action2 : action2;\n  return \"on\" + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? \"Capture\" : \"\");\n}\nvar pointerCaptureEvents = [\"gotpointercapture\", \"lostpointercapture\"];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf(\"passive\");\n  if (passive)\n    eventKey = eventKey.replace(\"passive\", \"\");\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? \"capturecapture\" : \"capture\";\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture)\n    eventKey = eventKey.replace(\"capture\", \"\");\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action2 = \"\") {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action2] || action2 : action2;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return \"touches\" in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event))\n    return \"touch\";\n  if (\"pointerType\" in event)\n    return event.pointerType;\n  return \"mouse\";\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter((e) => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === \"touchend\" || event.type === \"touchcancel\" ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  const dx = P2.clientX - P1.clientX;\n  const dy = P2.clientY - P1.clientY;\n  const cx2 = (P2.clientX + P1.clientX) \/ 2;\n  const cy = (P2.clientY + P1.clientY) \/ 2;\n  const distance = Math.hypot(dx, dy);\n  const angle = -(Math.atan2(dx, dy) * 180) \/ Math.PI;\n  const origin = [cx2, cy];\n  return {\n    angle,\n    distance,\n    origin\n  };\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map((touch) => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter((touch) => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if (\"buttons\" in event)\n    payload.buttons = event.buttons;\n  if (\"shiftKey\" in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\nfunction call(v2, ...args) {\n  if (typeof v2 === \"function\") {\n    return v2(...args);\n  } else {\n    return v2;\n  }\n}\nfunction noop3() {\n}\nfunction chain(...fns) {\n  if (fns.length === 0)\n    return noop3;\n  if (fns.length === 1)\n    return fns[0];\n  return function() {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\nvar BEFORE_LAST_KINEMATICS_DELAY = 32;\nvar Engine = class {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init)\n        this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = void 0;\n    state.memo = void 0;\n    state.elapsedTime = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n    }\n    state.startTime = state.timeStamp = event.timeStamp;\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt2 = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable)\n        state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt2 = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent)\n      this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false)\n        _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false)\n        _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false)\n        _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false)\n        _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional)\n      return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v12] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v12 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked)\n      this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if (\"bounds\" in config)\n            state._bounds = call(config.bounds, state);\n          if (this.setup)\n            this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband2 = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband2);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt2 > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt2 > 0) {\n        state.velocity = [absoluteDelta[0] \/ dt2, absoluteDelta[1] \/ dt2];\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active)\n      this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents)\n      return;\n    const memo6 = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo6 !== void 0)\n      state.memo = memo6;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n};\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return \"x\";\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return \"y\";\n  }\n  return void 0;\n}\nvar CoordinatesEngine = class extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", \"xy\");\n  }\n  reset() {\n    super.reset();\n    this.state.axis = void 0;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === \"object\" ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v2) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case \"x\":\n          v2[1] = 0;\n          break;\n        case \"y\":\n          v2[0] = 0;\n          break;\n      }\n    }\n  }\n};\nvar identity = (v2) => v2;\nvar DEFAULT_RUBBERBAND = 0.15;\nvar commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === \"function\")\n      return value;\n    if (value != null)\n      return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (false) {\n      const originalTransform = transform || identity;\n      return (v2) => {\n        const r2 = originalTransform(v2);\n        if (!isFinite(r2[0]) || !isFinite(r2[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r2[0]},${[1]}]`);\n        }\n        return r2;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (false) {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\nvar DEFAULT_AXIS_THRESHOLD = 0;\nvar coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === \"lock\";\n    if (!this.lockDirection)\n      return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === \"function\") {\n      return (state) => coordinatesConfigResolver.bounds(value(state));\n    }\n    if (\"current\" in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === \"function\" && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\nvar DISPLACEMENT = 10;\nvar KEYS_DELTA_MAP = {\n  ArrowRight: (factor = 1) => [DISPLACEMENT * factor, 0],\n  ArrowLeft: (factor = 1) => [-DISPLACEMENT * factor, 0],\n  ArrowUp: (factor = 1) => [0, -DISPLACEMENT * factor],\n  ArrowDown: (factor = 1) => [0, DISPLACEMENT * factor]\n};\nvar DragEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"dragging\");\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = void 0;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled)\n      return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons))\n      return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive)\n      return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== \"mouse\") {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive)\n      return;\n    if (state.type === event.type && event.timeStamp === state.timeStamp)\n      return;\n    const id3 = pointerId(event);\n    if (state._pointerId !== void 0 && id3 !== state._pointerId)\n      return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove(\"dragDelay\");\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === \"xy\") {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove(\"startPointerDrag\");\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (false) {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three\/fiber\\`. \n\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive)\n      return;\n    const id3 = pointerId(event);\n    if (state._pointerId !== void 0 && id3 !== state._pointerId)\n      return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [dirx, diry] = state.direction;\n      const [vx, vy] = state.velocity;\n      const [mx, my] = state.movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        if (Math.abs(vx) > svx && Math.abs(mx) > sx)\n          state.swipe[0] = dirx;\n        if (Math.abs(vy) > svy && Math.abs(my) > sy)\n          state.swipe[1] = diry;\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (false) {\n      try {\n        if (device === \"pointer\" && config.preventScrollDelay === void 0) {\n          const currentTarget = \"uv\" in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === \"auto\") {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https:\/\/use-gesture.netlify.app\/docs\/extras\/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {\n      }\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, \"change\", this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, \"end\", this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, \"cancel\", this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove2 = this.eventStore.add(this.sharedConfig.window, \"touch\", \"change\", this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, \"touch\", \"end\", remove2);\n    this.eventStore.add(this.sharedConfig.window, \"touch\", \"cancel\", remove2);\n    this.timeoutStore.add(\"startPointerDrag\", this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add(\"dragDelay\", () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP))\n      return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, \"start\", this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, \"change\", this.pointerMove.bind(this));\n      bindFunction(device, \"end\", this.pointerUp.bind(this));\n      bindFunction(device, \"cancel\", this.pointerUp.bind(this));\n      bindFunction(\"lostPointerCapture\", \"\", this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction(\"key\", \"down\", this.keyDown.bind(this));\n      bindFunction(\"key\", \"up\", this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction(\"click\", \"\", this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n};\nfunction persistEvent(event) {\n  \"persist\" in event && typeof event.persist === \"function\" && event.persist();\n}\nvar isBrowser = typeof window !== \"undefined\" && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && \"ontouchstart\" in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && \"onpointerdown\" in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && \"exitPointerLock\" in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return \"constructor\" in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nvar SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\nvar DEFAULT_PREVENT_SCROLL_DELAY = 250;\nvar DEFAULT_DRAG_DELAY = 180;\nvar DEFAULT_SWIPE_VELOCITY = 0.5;\nvar DEFAULT_SWIPE_DISTANCE = 50;\nvar DEFAULT_SWIPE_DURATION = 250;\nvar DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nvar dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch)\n      return \"touch\";\n    if (this.pointerLock)\n      return \"mouse\";\n    if (SUPPORT.pointer && !mouse)\n      return \"pointer\";\n    if (SUPPORT.touch)\n      return \"touch\";\n    return \"mouse\";\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === \"number\" ? preventScroll : preventScroll || preventScroll === void 0 && value ? DEFAULT_PREVENT_SCROLL_DELAY : void 0;\n    if (!SUPPORT.touchscreen || preventScroll === false)\n      return void 0;\n    return value ? value : preventScroll !== void 0 ? \"y\" : void 0;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === \"pointer\" && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = void 0\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value)\n      return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  }\n});\nif (false) {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== void 0) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\nvar SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nvar PINCH_WHEEL_RATIO = 100;\nvar PinchEngine = class extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"pinching\");\n    _defineProperty(this, \"aliasKey\", \"da\");\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = \/* @__PURE__ *\/ new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === \"wheel\") {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] \/ lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0)\n        state.axis = \"angle\";\n      else if (axisMovementDifference > 0)\n        state.axis = \"scale\";\n    }\n  }\n  restrictToAxis(v2) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === \"scale\")\n        v2[1] = 0;\n      else if (this.state.axis === \"angle\")\n        v2[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled)\n      return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every((id3) => ctrlTouchIds.has(id3)))\n        return;\n    }\n    if (ctrlTouchIds.size < 2)\n      return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1)\n      return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every((id3) => ctrlPointerIds.has(id3)))\n        return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2)\n      return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active)\n      return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active)\n      return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270)\n      delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] \/ state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active)\n      return;\n    if (this.state._touchIds.some((id3) => !this.ctrl.touchIds.has(id3))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {\n    }\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active)\n      return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    const state = this.state;\n    if (state._active)\n      return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    if (!this.state._active)\n      return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey])\n      return;\n    if (!this.state._active)\n      this.wheelStart(event);\n    else\n      this.wheelChange(event);\n    this.timeoutStore.add(\"wheelEnd\", this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = \"uv\" in event;\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (false) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\n\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] \/ PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, \"start\", this[device + \"Start\"].bind(this));\n      bindFunction(device, \"change\", this[device + \"Move\"].bind(this));\n      bindFunction(device, \"end\", this[device + \"End\"].bind(this));\n      bindFunction(device, \"cancel\", this[device + \"End\"].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction(\"wheel\", \"\", this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n};\nvar pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture)\n      return \"gesture\";\n    if (SUPPORT.touch && touch)\n      return \"touch\";\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer)\n        return \"pointer\";\n      if (SUPPORT.touch)\n        return \"touch\";\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = (state) => {\n      const D2 = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D2.min, D2.max];\n    };\n    const _angleBounds = (state) => {\n      const A3 = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A3.min, A3.max];\n    };\n    if (typeof scaleBounds !== \"function\" && typeof angleBounds !== \"function\")\n      return [_scaleBounds(), _angleBounds()];\n    return (state) => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === \"lock\";\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === void 0)\n      return \"ctrlKey\";\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\nvar MoveEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"moving\");\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    if (!this.state._active)\n      this.moveStart(event);\n    else\n      this.moveChange(event);\n    this.timeoutStore.add(\"moveEnd\", this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active)\n      return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"pointer\", \"change\", this.move.bind(this));\n    bindFunction(\"pointer\", \"leave\", this.moveEnd.bind(this));\n  }\n};\nvar moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\nvar ScrollEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"scrolling\");\n  }\n  scroll(event) {\n    if (!this.state._active)\n      this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add(\"scrollEnd\", this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable)\n      event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"scroll\", \"\", this.scroll.bind(this));\n  }\n};\nvar scrollConfigResolver = coordinatesConfigResolver;\nvar WheelEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"wheeling\");\n  }\n  wheel(event) {\n    if (!this.state._active)\n      this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add(\"wheelEnd\", this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active)\n      return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"wheel\", \"\", this.wheel.bind(this));\n  }\n};\nvar wheelConfigResolver = coordinatesConfigResolver;\nvar HoverEngine = class extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", \"hovering\");\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== \"mouse\")\n      return;\n    const state = this.state;\n    if (!state._active)\n      return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction(\"pointer\", \"enter\", this.enter.bind(this));\n    bindFunction(\"pointer\", \"leave\", this.leave.bind(this));\n  }\n};\nvar hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\nvar EngineMap = \/* @__PURE__ *\/ new Map();\nvar ConfigResolverMap = \/* @__PURE__ *\/ new Map();\nfunction registerAction(action2) {\n  EngineMap.set(action2.key, action2.engine);\n  ConfigResolverMap.set(action2.key, action2.resolver);\n}\nvar dragAction = {\n  key: \"drag\",\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nvar hoverAction = {\n  key: \"hover\",\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nvar moveAction = {\n  key: \"move\",\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nvar pinchAction = {\n  key: \"pinch\",\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nvar scrollAction = {\n  key: \"scroll\",\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nvar wheelAction = {\n  key: \"wheel\",\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/react\/dist\/use-gesture-react.esm.js\nvar import_react2 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/core\/dist\/use-gesture-core.esm.js\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i2;\n  for (i2 = 0; i2 < sourceKeys.length; i2++) {\n    key = sourceKeys[i2];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i2;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i2 = 0; i2 < sourceSymbolKeys.length; i2++) {\n      key = sourceSymbolKeys[i2];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => \"current\" in value ? value.current : value;\n    }\n    return void 0;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : void 0) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\nvar _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case \"function\":\n        if (false) {\n          const r2 = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r2))\n            result[key] = r2;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case \"object\":\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case \"boolean\":\n        if (resolver)\n          result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse2(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig, {\n    target,\n    eventOptions,\n    window: window2,\n    enabled,\n    transform\n  } = _ref, rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window: window2,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (false) {\n        if (![\"drag\", \"pinch\", \"scroll\", \"wheel\", \"move\", \"hover\"].includes(key)) {\n          if (key === \"domTarget\") {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\nvar EventStore = class {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", \/* @__PURE__ *\/ new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action2, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action2);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove2 = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove2);\n    };\n    listeners.add(remove2);\n    return remove2;\n  }\n  clean() {\n    this._listeners.forEach((remove2) => remove2());\n    this._listeners.clear();\n  }\n};\nvar TimeoutStore = class {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", \/* @__PURE__ *\/ new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout)\n      window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach((timeout) => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n};\nvar Controller = class {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"touchIds\", \/* @__PURE__ *\/ new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if (\"pointerId\" in event) {\n      if (event.type === \"pointerup\" || event.type === \"pointercancel\")\n        this.pointerIds.delete(event.pointerId);\n      else if (event.type === \"pointerdown\")\n        this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse2(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target)\n      this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target)\n        return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine2 = EngineMap.get(gestureKey);\n          new Engine2(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(\n          eventKey,\n          \"\",\n          (event) => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n            event,\n            args\n          })),\n          void 0,\n          true\n        );\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target)\n      return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, \"\", props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n};\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag)\n    setupGesture(ctrl, \"drag\");\n  if (internalHandlers.wheel)\n    setupGesture(ctrl, \"wheel\");\n  if (internalHandlers.scroll)\n    setupGesture(ctrl, \"scroll\");\n  if (internalHandlers.move)\n    setupGesture(ctrl, \"move\");\n  if (internalHandlers.pinch)\n    setupGesture(ctrl, \"pinch\");\n  if (internalHandlers.hover)\n    setupGesture(ctrl, \"hover\");\n}\nvar bindToProps = (props, eventOptions, withPassiveOption) => (device, action2, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action2, capture);\n  if (withPassiveOption && passive)\n    handlerProp += \"Passive\";\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\nvar RE_NOT_NATIVE = \/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)\/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = \/* @__PURE__ *\/ new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey))\n    return;\n  if (!EngineMap.has(key)) {\n    if (false) {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\n\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + \"Start\";\n  const endKey = handlerKey + \"End\";\n  const fn = (state) => {\n    let memo6 = void 0;\n    if (state.first && startKey in handlers)\n      handlers[startKey](state);\n    if (handlerKey in handlers)\n      memo6 = handlers[handlerKey](state);\n    if (state.last && endKey in handlers)\n      handlers[endKey](state);\n    return memo6;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, \"onDrag\", \"drag\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onWheel\", \"wheel\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onScroll\", \"scroll\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onPinch\", \"pinch\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onMove\", \"move\", internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, \"onHover\", \"hover\", internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\n\/\/ ..\/..\/node_modules\/@use-gesture\/react\/dist\/use-gesture-react.esm.js\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = import_react2.default.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  import_react2.default.useEffect(ctrl.effect.bind(ctrl));\n  import_react2.default.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === void 0) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return void 0;\n}\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture2(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, void 0, nativeHandlers);\n  };\n}\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useGestureEvents.ts\nvar React8 = __toESM(require(\"react\"));\nfunction useGestureEvents(ref) {\n  const { viewport, inputs, callbacks } = useRendererContext();\n  const rOriginPoint = React8.useRef(void 0);\n  const rDelta = React8.useRef([0, 0]);\n  const rWheelTs = React8.useRef(0);\n  const events = React8.useMemo(() => {\n    const onWheel = (gesture) => {\n      var _a3;\n      const { event } = gesture;\n      event.preventDefault();\n      const [x2, y2, z2] = normalizeWheel(event);\n      if (inputs.state === \"pinching\" || rWheelTs.current >= event.timeStamp) {\n        return;\n      }\n      rWheelTs.current = event.timeStamp;\n      if ((event.altKey || event.ctrlKey || event.metaKey) && event.buttons === 0) {\n        const bounds = viewport.bounds;\n        const point = (_a3 = inputs.currentScreenPoint) != null ? _a3 : [bounds.width \/ 2, bounds.height \/ 2];\n        const delta = z2 \/ 100;\n        const zoom = viewport.camera.zoom;\n        viewport.onZoom(point, zoom - delta * zoom);\n        return;\n      } else {\n        const delta = src_default.mul(\n          event.shiftKey && !isDarwin() ? [y2, 0] : [x2, y2],\n          0.8\n        );\n        if (src_default.isEqual(delta, [0, 0])) {\n          return;\n        }\n        viewport.panCamera(delta);\n      }\n    };\n    const onPinchStart = ({ event, delta, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      (_a3 = callbacks.onPinchStart) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [...delta, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rOriginPoint.current = origin;\n      rDelta.current = [0, 0];\n    };\n    const onPinch = ({ event, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      if (!rOriginPoint.current) {\n        rOriginPoint.current = origin;\n      }\n      const delta = src_default.sub(rOriginPoint.current, origin);\n      const trueDelta = src_default.sub(delta, rDelta.current);\n      (_a3 = callbacks.onPinch) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [...trueDelta, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rDelta.current = delta;\n    };\n    const onPinchEnd = ({ event, delta, offset, origin }) => {\n      var _a3;\n      const elm = ref.current;\n      if (event instanceof WheelEvent)\n        return;\n      if (!(event.target === elm || (elm == null ? void 0 : elm.contains(event.target))))\n        return;\n      if (inputs.state !== \"pinching\")\n        return;\n      (_a3 = callbacks.onPinchEnd) == null ? void 0 : _a3.call(\n        callbacks,\n        {\n          type: \"canvas\" \/* Canvas *\/,\n          order: 0,\n          delta: [0, 0, offset[0]],\n          offset,\n          point: src_default.sub(origin, inputs.containerOffset)\n        },\n        event\n      );\n      rDelta.current = [0, 0];\n    };\n    return {\n      onWheel,\n      onPinchStart,\n      onPinchEnd,\n      onPinch\n    };\n  }, [callbacks]);\n  useGesture(events, {\n    target: ref,\n    eventOptions: { passive: false },\n    pinch: {\n      from: [viewport.camera.zoom, viewport.camera.zoom],\n      scaleBounds: () => ({\n        from: viewport.camera.zoom,\n        max: TLViewport.maxZoom,\n        min: TLViewport.minZoom\n      })\n    }\n  });\n}\nfunction normalizeWheel(event) {\n  const MAX_ZOOM_STEP = 10;\n  const { deltaY, deltaX } = event;\n  let deltaZ = 0;\n  if (event.ctrlKey || event.metaKey) {\n    const signY = Math.sign(event.deltaY);\n    const absDeltaY = Math.abs(event.deltaY);\n    let dy = deltaY;\n    if (absDeltaY > MAX_ZOOM_STEP) {\n      dy = MAX_ZOOM_STEP * signY;\n    }\n    deltaZ = dy;\n  }\n  return [deltaX, deltaY, deltaZ];\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCounterScaledPosition.tsx\nvar React9 = __toESM(require(\"react\"));\nfunction useCounterScaledPosition(ref, bounds, rotation, zIndex) {\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    elm.style.transform = `translate(\n        calc(${bounds.minX}px - var(--tl-padding)),\n        calc(${bounds.minY}px - var(--tl-padding)))\n        scale(var(--tl-scale))`;\n  }, [bounds.minX, bounds.minY, rotation, bounds.rotation]);\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    elm.style.width = `calc(${Math.floor(bounds.width)}px + (var(--tl-padding) * 2))`;\n    elm.style.height = `calc(${Math.floor(bounds.height)}px + (var(--tl-padding) * 2))`;\n  }, [bounds.width, bounds.height]);\n  React9.useLayoutEffect(() => {\n    const elm = ref.current;\n    if (zIndex !== void 0)\n      elm.style.zIndex = zIndex.toString();\n  }, [zIndex]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useSetup.ts\nvar React10 = __toESM(require(\"react\"));\nfunction useSetup(app, props) {\n  const {\n    onPersist,\n    onError,\n    onMount,\n    onCreateAssets,\n    onCreateShapes,\n    onDeleteAssets,\n    onDeleteShapes,\n    onDrop,\n    onPaste,\n    onCopy,\n    onCanvasDBClick\n  } = props;\n  React10.useLayoutEffect(() => {\n    const unsubs = [];\n    if (!app)\n      return;\n    if (typeof window !== void 0) {\n      window[\"tlapps\"] = window[\"tlapps\"] || {};\n      window[\"tlapps\"][app.uuid] = app;\n    }\n    if (onMount)\n      onMount(app, null);\n    return () => {\n      unsubs.forEach((unsub) => unsub());\n      if (typeof window !== void 0 && window[\"tlapps\"]) {\n        delete window[\"tlapps\"][app.uuid];\n      }\n    };\n  }, [app]);\n  React10.useLayoutEffect(() => {\n    const unsubs = [];\n    if (onPersist)\n      unsubs.push(app.subscribe(\"persist\", onPersist));\n    if (onError)\n      unsubs.push(app.subscribe(\"error\", onError));\n    if (onCreateShapes)\n      unsubs.push(app.subscribe(\"create-shapes\", onCreateShapes));\n    if (onCreateAssets)\n      unsubs.push(app.subscribe(\"create-assets\", onCreateAssets));\n    if (onDeleteShapes)\n      unsubs.push(app.subscribe(\"delete-shapes\", onDeleteShapes));\n    if (onDeleteAssets)\n      unsubs.push(app.subscribe(\"delete-assets\", onDeleteAssets));\n    if (onDrop)\n      unsubs.push(app.subscribe(\"drop\", onDrop));\n    if (onPaste)\n      unsubs.push(app.subscribe(\"paste\", onPaste));\n    if (onCopy)\n      unsubs.push(app.subscribe(\"copy\", onCopy));\n    if (onCanvasDBClick)\n      unsubs.push(app.subscribe(\"canvas-dbclick\", onCanvasDBClick));\n    return () => unsubs.forEach((unsub) => unsub());\n  }, [app, onPersist, onError]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useAppSetup.ts\nvar React11 = __toESM(require(\"react\"));\nfunction useAppSetup(props) {\n  if (\"app\" in props)\n    return props.app;\n  const [app] = React11.useState(\n    () => new TLReactApp(props.model, props.Shapes, props.Tools, props.readOnly)\n  );\n  React11.useLayoutEffect(() => {\n    return () => {\n      app.dispose();\n    };\n  }, [app]);\n  return app;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/usePropControl.ts\nvar React12 = __toESM(require(\"react\"));\nfunction usePropControl(app, props) {\n  React12.useEffect(() => {\n    if (!(\"model\" in props))\n      return;\n    if (props.model)\n      app.loadDocumentModel(props.model);\n  }, [props.model]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/usePreventNavigation.ts\nvar React13 = __toESM(require(\"react\"));\nfunction usePreventNavigation(rCanvas) {\n  const context = useRendererContext();\n  const {\n    viewport: { bounds }\n  } = context;\n  React13.useEffect(() => {\n    const preventGestureNavigation = (event) => {\n      event.preventDefault();\n    };\n    const preventNavigation = (event) => {\n      if (event.touches.length === 0) {\n        return;\n      }\n      const touchXPosition = event.touches[0].pageX;\n      const touchXRadius = event.touches[0].radiusX || 0;\n      if (touchXPosition - touchXRadius < 10 || touchXPosition + touchXRadius > bounds.width - 10) {\n        event.preventDefault();\n      }\n    };\n    const elm = rCanvas.current;\n    if (!elm)\n      return () => void 0;\n    elm.addEventListener(\"touchstart\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gestureend\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gesturechange\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"gesturestart\", preventGestureNavigation, {\n      passive: true\n    });\n    elm.addEventListener(\"touchstart\", preventNavigation, {\n      passive: true\n    });\n    return () => {\n      if (elm) {\n        elm.removeEventListener(\"touchstart\", preventGestureNavigation);\n        elm.removeEventListener(\"gestureend\", preventGestureNavigation);\n        elm.removeEventListener(\"gesturechange\", preventGestureNavigation);\n        elm.removeEventListener(\"gesturestart\", preventGestureNavigation);\n        elm.removeEventListener(\"touchstart\", preventNavigation);\n      }\n    };\n  }, [rCanvas, bounds.width]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useHandleEvents.ts\nvar React14 = __toESM(require(\"react\"));\nfunction useHandleEvents(shape, id3) {\n  const { inputs, callbacks } = useRendererContext();\n  const events = React14.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      const handle = shape.props.handles[id3];\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b;\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      const handle = shape.props.handles[id3];\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      const { order = 0 } = e;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      const handle = shape.props.handles[id3];\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"handle\" \/* Handle *\/, shape, handle, id: id3, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyUp,\n      onKeyDown\n    };\n  }, [shape.id, inputs, callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useCursor.ts\nvar React15 = __toESM(require(\"react\"));\nfunction getCursorCss(svg, r2, f2 = false) {\n  return `url(\"data:image\/svg+xml,<svg height='32' width='32' viewBox='0 0 35 35' xmlns='http:\/\/www.w3.org\/2000\/svg'><g fill='none' style='transform-origin:center center' transform='rotate(${r2})${f2 ? ` scale(-1,-1) translate(0, -32)` : \"\"}'>` + svg.replaceAll(`\"`, `'`) + '<\/g><\/svg>\") 16 16, pointer';\n}\nvar CORNER_SVG = `<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'\/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'\/>`;\nvar EDGE_SVG = `<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'\/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'\/>`;\nvar ROTATE_CORNER_SVG = `<g><path d=\"M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z\" fill=\"black\"\/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z\" fill=\"white\"\/><\/g>`;\nvar TEXT_SVG = `<path d='m6.94 2v-1c-1.35866267-.08246172-2.66601117.53165299-3.47 1.63-.80398883-1.09834701-2.11133733-1.71246172-3.47-1.63v1c1.30781678-.16635468 2.55544738.59885876 3 1.84v5.1h-1v1h1v4.16c-.4476345 1.2386337-1.69302129 2.002471-3 1.84v1c1.35687108.0731933 2.6600216-.5389494 3.47-1.63.8099784 1.0910506 2.11312892 1.7031933 3.47 1.63v-1c-1.28590589.133063-2.49760499-.6252793-2.94-1.84v-4.18h1v-1h-1v-5.08c.43943906-1.21710975 1.65323743-1.97676587 2.94-1.84z' transform='translate(14 9)'\/>`;\nvar GRABBING_SVG = `<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='%23fff'\/><g stroke='%23000' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'\/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'\/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'\/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'\/><\/g>`;\nvar GRAB_SVG = `<path d=\"m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121\" fill=\"%23fff\"\/><g stroke=\"%23000\" stroke-linecap=\"round\" stroke-width=\".75\"><path d=\"m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121\" stroke-linejoin=\"round\"\/><path d=\"m20.5664 21.7344v-3.459\"\/><path d=\"m18.5508 21.7461-.016-3.473\"\/><path d=\"m16.5547 18.3047.021 3.426\"\/><\/g>`;\nvar CURSORS3 = {\n  [\"none\" \/* None *\/]: (r2, f2) => \"none\",\n  [\"default\" \/* Default *\/]: (r2, f2) => \"default\",\n  [\"pointer\" \/* Pointer *\/]: (r2, f2) => \"pointer\",\n  [\"crosshair\" \/* Cross *\/]: (r2, f2) => \"crosshair\",\n  [\"move\" \/* Move *\/]: (r2, f2) => \"move\",\n  [\"wait\" \/* Wait *\/]: (r2, f2) => \"wait\",\n  [\"progress\" \/* Progress *\/]: (r2, f2) => \"progress\",\n  [\"grab\" \/* Grab *\/]: (r2, f2) => getCursorCss(GRAB_SVG, r2, f2),\n  [\"grabbing\" \/* Grabbing *\/]: (r2, f2) => getCursorCss(GRABBING_SVG, r2, f2),\n  [\"text\" \/* Text *\/]: (r2, f2) => getCursorCss(TEXT_SVG, r2, f2),\n  [\"resize-edge\" \/* ResizeEdge *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2, f2),\n  [\"resize-corner\" \/* ResizeCorner *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2, f2),\n  [\"ew-resize\" \/* EwResize *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2, f2),\n  [\"ns-resize\" \/* NsResize *\/]: (r2, f2) => getCursorCss(EDGE_SVG, r2 + 90, f2),\n  [\"nesw-resize\" \/* NeswResize *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2, f2),\n  [\"nwse-resize\" \/* NwseResize *\/]: (r2, f2) => getCursorCss(CORNER_SVG, r2 + 90, f2),\n  [\"rotate\" \/* Rotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 45, f2),\n  [\"nwse-rotate\" \/* NwseRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2, f2),\n  [\"nesw-rotate\" \/* NeswRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 90, f2),\n  [\"senw-rotate\" \/* SenwRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 180, f2),\n  [\"swne-rotate\" \/* SwneRotate *\/]: (r2, f2) => getCursorCss(ROTATE_CORNER_SVG, r2 + 270, f2)\n};\nfunction useCursor(ref, cursor, rotation = 0) {\n  React15.useEffect(() => {\n    const elm = ref.current;\n    if (!elm)\n      return;\n    elm.style.cursor = CURSORS3[cursor](GeomUtils.radiansToDegrees(rotation));\n  }, [cursor, rotation]);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useZoom.ts\nvar React16 = __toESM(require(\"react\"));\nfunction useZoom(ref) {\n  const { viewport } = useRendererContext();\n  const app = useApp();\n  React16.useLayoutEffect(() => {\n    return autorun(() => {\n      const debouncedZoom = debounce(() => {\n        var _a3;\n        (_a3 = ref.current) == null ? void 0 : _a3.style.setProperty(\"--tl-zoom\", viewport.camera.zoom.toString());\n      }, 200);\n      if (app.inputs.state !== \"pinching\" && viewport.camera.zoom != null) {\n        debouncedZoom();\n      }\n    });\n  }, []);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useMinimapEvents.ts\nvar React17 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useDebounced.ts\nvar import_react4 = require(\"react\");\nfunction useDebouncedValue(value, ms = 0) {\n  const [debouncedValue, setDebouncedValue] = (0, import_react4.useState)(value);\n  (0, import_react4.useEffect)(() => {\n    let canceled = false;\n    const handler = setTimeout(() => {\n      if (!canceled) {\n        setDebouncedValue(value);\n      }\n    }, ms);\n    return () => {\n      canceled = true;\n      clearTimeout(handler);\n    };\n  }, [value, ms]);\n  return debouncedValue;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useRestoreCamera.ts\nvar React18 = __toESM(require(\"react\"));\nvar storingKey = \"logseq.tldraw.camera\";\nvar cacheCamera = (app) => {\n  window.sessionStorage.setItem(\n    storingKey + \":\" + app.currentPageId,\n    JSON.stringify(app.viewport.camera)\n  );\n};\nvar loadCamera = (app) => {\n  var _a3;\n  const camera = JSON.parse(\n    (_a3 = window.sessionStorage.getItem(storingKey + \":\" + app.currentPageId)) != null ? _a3 : \"null\"\n  );\n  if (camera) {\n    app.viewport.update(camera);\n  } else if (app.selectedIds.size) {\n    app.api.zoomToSelection();\n  } else {\n    app.api.zoomToFit();\n  }\n};\nfunction useRestoreCamera() {\n  const app = useApp();\n  React18.useEffect(() => {\n    reaction(\n      () => __spreadValues({}, app.viewport.camera),\n      () => cacheCamera(app)\n    );\n  }, [app.viewport.camera]);\n  React18.useEffect(() => {\n    loadCamera(app);\n  }, [app]);\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/assertEnvironment.js\nvar import_react5 = require(\"react\");\nif (!import_react5.useState) {\n  throw new Error(\"mobx-react-lite requires React with Hooks support\");\n}\nif (!makeObservable) {\n  throw new Error(\"mobx-react-lite@3 requires mobx at least version 6 to be available\");\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactBatchedUpdates.js\nvar import_react_dom = require(\"react-dom\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/observerBatching.js\nfunction defaultNoopBatch(callback) {\n  callback();\n}\nfunction observerBatching(reactionScheduler3) {\n  if (!reactionScheduler3) {\n    reactionScheduler3 = defaultNoopBatch;\n    if (false) {\n      console.warn(\"[MobX] Failed to get unstable_batched updates from react-dom \/ react-native\");\n    }\n  }\n  configure({ reactionScheduler: reactionScheduler3 });\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useObserver.js\nvar import_react6 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/printDebugValue.js\nfunction printDebugValue(v2) {\n  return getDependencyTree(v2);\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/FinalizationRegistryWrapper.js\nvar FinalizationRegistryLocal = typeof FinalizationRegistry === \"undefined\" ? void 0 : FinalizationRegistry;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactionCleanupTrackingCommon.js\nfunction createTrackingData(reaction2) {\n  var trackingData = {\n    reaction: reaction2,\n    mounted: false,\n    changedBeforeMount: false,\n    cleanAt: Date.now() + CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS\n  };\n  return trackingData;\n}\nvar CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS = 1e4;\nvar CLEANUP_TIMER_LOOP_MILLIS = 1e4;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/createReactionCleanupTrackingUsingFinalizationRegister.js\nfunction createReactionCleanupTrackingUsingFinalizationRegister(FinalizationRegistry2) {\n  var cleanupTokenToReactionTrackingMap = \/* @__PURE__ *\/ new Map();\n  var globalCleanupTokensCounter = 1;\n  var registry = new FinalizationRegistry2(function cleanupFunction(token) {\n    var trackedReaction = cleanupTokenToReactionTrackingMap.get(token);\n    if (trackedReaction) {\n      trackedReaction.reaction.dispose();\n      cleanupTokenToReactionTrackingMap.delete(token);\n    }\n  });\n  return {\n    addReactionToTrack: function(reactionTrackingRef, reaction2, objectRetainedByReact) {\n      var token = globalCleanupTokensCounter++;\n      registry.register(objectRetainedByReact, token, reactionTrackingRef);\n      reactionTrackingRef.current = createTrackingData(reaction2);\n      reactionTrackingRef.current.finalizationRegistryCleanupToken = token;\n      cleanupTokenToReactionTrackingMap.set(token, reactionTrackingRef.current);\n      return reactionTrackingRef.current;\n    },\n    recordReactionAsCommitted: function(reactionRef) {\n      registry.unregister(reactionRef);\n      if (reactionRef.current && reactionRef.current.finalizationRegistryCleanupToken) {\n        cleanupTokenToReactionTrackingMap.delete(reactionRef.current.finalizationRegistryCleanupToken);\n      }\n    },\n    forceCleanupTimerToRunNowForTests: function() {\n    },\n    resetCleanupScheduleForTests: function() {\n    }\n  };\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/createTimerBasedReactionCleanupTracking.js\nvar __values = function(o2) {\n  var s2 = typeof Symbol === \"function\" && Symbol.iterator, m2 = s2 && o2[s2], i2 = 0;\n  if (m2)\n    return m2.call(o2);\n  if (o2 && typeof o2.length === \"number\")\n    return {\n      next: function() {\n        if (o2 && i2 >= o2.length)\n          o2 = void 0;\n        return { value: o2 && o2[i2++], done: !o2 };\n      }\n    };\n  throw new TypeError(s2 ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nfunction createTimerBasedReactionCleanupTracking() {\n  var uncommittedReactionRefs = \/* @__PURE__ *\/ new Set();\n  var reactionCleanupHandle;\n  function forceCleanupTimerToRunNowForTests2() {\n    if (reactionCleanupHandle) {\n      clearTimeout(reactionCleanupHandle);\n      cleanUncommittedReactions();\n    }\n  }\n  function resetCleanupScheduleForTests2() {\n    var e_1, _a3;\n    if (uncommittedReactionRefs.size > 0) {\n      try {\n        for (var uncommittedReactionRefs_1 = __values(uncommittedReactionRefs), uncommittedReactionRefs_1_1 = uncommittedReactionRefs_1.next(); !uncommittedReactionRefs_1_1.done; uncommittedReactionRefs_1_1 = uncommittedReactionRefs_1.next()) {\n          var ref = uncommittedReactionRefs_1_1.value;\n          var tracking = ref.current;\n          if (tracking) {\n            tracking.reaction.dispose();\n            ref.current = null;\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n      } finally {\n        try {\n          if (uncommittedReactionRefs_1_1 && !uncommittedReactionRefs_1_1.done && (_a3 = uncommittedReactionRefs_1.return))\n            _a3.call(uncommittedReactionRefs_1);\n        } finally {\n          if (e_1)\n            throw e_1.error;\n        }\n      }\n      uncommittedReactionRefs.clear();\n    }\n    if (reactionCleanupHandle) {\n      clearTimeout(reactionCleanupHandle);\n      reactionCleanupHandle = void 0;\n    }\n  }\n  function ensureCleanupTimerRunning() {\n    if (reactionCleanupHandle === void 0) {\n      reactionCleanupHandle = setTimeout(cleanUncommittedReactions, CLEANUP_TIMER_LOOP_MILLIS);\n    }\n  }\n  function scheduleCleanupOfReactionIfLeaked(ref) {\n    uncommittedReactionRefs.add(ref);\n    ensureCleanupTimerRunning();\n  }\n  function recordReactionAsCommitted2(reactionRef) {\n    uncommittedReactionRefs.delete(reactionRef);\n  }\n  function cleanUncommittedReactions() {\n    reactionCleanupHandle = void 0;\n    var now = Date.now();\n    uncommittedReactionRefs.forEach(function(ref) {\n      var tracking = ref.current;\n      if (tracking) {\n        if (now >= tracking.cleanAt) {\n          tracking.reaction.dispose();\n          ref.current = null;\n          uncommittedReactionRefs.delete(ref);\n        }\n      }\n    });\n    if (uncommittedReactionRefs.size > 0) {\n      ensureCleanupTimerRunning();\n    }\n  }\n  return {\n    addReactionToTrack: function(reactionTrackingRef, reaction2, objectRetainedByReact) {\n      reactionTrackingRef.current = createTrackingData(reaction2);\n      scheduleCleanupOfReactionIfLeaked(reactionTrackingRef);\n      return reactionTrackingRef.current;\n    },\n    recordReactionAsCommitted: recordReactionAsCommitted2,\n    forceCleanupTimerToRunNowForTests: forceCleanupTimerToRunNowForTests2,\n    resetCleanupScheduleForTests: resetCleanupScheduleForTests2\n  };\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/utils\/reactionCleanupTracking.js\nvar _a2 = FinalizationRegistryLocal ? createReactionCleanupTrackingUsingFinalizationRegister(FinalizationRegistryLocal) : createTimerBasedReactionCleanupTracking();\nvar addReactionToTrack = _a2.addReactionToTrack;\nvar recordReactionAsCommitted = _a2.recordReactionAsCommitted;\nvar resetCleanupScheduleForTests = _a2.resetCleanupScheduleForTests;\nvar forceCleanupTimerToRunNowForTests = _a2.forceCleanupTimerToRunNowForTests;\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/staticRendering.js\nvar globalIsUsingStaticRendering = false;\nfunction isUsingStaticRendering() {\n  return globalIsUsingStaticRendering;\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useObserver.js\nvar __read = function(o2, n2) {\n  var m2 = typeof Symbol === \"function\" && o2[Symbol.iterator];\n  if (!m2)\n    return o2;\n  var i2 = m2.call(o2), r2, ar = [], e;\n  try {\n    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done)\n      ar.push(r2.value);\n  } catch (error) {\n    e = { error };\n  } finally {\n    try {\n      if (r2 && !r2.done && (m2 = i2[\"return\"]))\n        m2.call(i2);\n    } finally {\n      if (e)\n        throw e.error;\n    }\n  }\n  return ar;\n};\nfunction observerComponentNameFor(baseComponentName) {\n  return \"observer\".concat(baseComponentName);\n}\nvar ObjectToBeRetainedByReact = function() {\n  function ObjectToBeRetainedByReact2() {\n  }\n  return ObjectToBeRetainedByReact2;\n}();\nfunction objectToBeRetainedByReactFactory() {\n  return new ObjectToBeRetainedByReact();\n}\nfunction useObserver(fn, baseComponentName) {\n  if (baseComponentName === void 0) {\n    baseComponentName = \"observed\";\n  }\n  if (isUsingStaticRendering()) {\n    return fn();\n  }\n  var _a3 = __read(import_react6.default.useState(objectToBeRetainedByReactFactory), 1), objectRetainedByReact = _a3[0];\n  var _b = __read(import_react6.default.useState(), 2), setState = _b[1];\n  var forceUpdate = function() {\n    return setState([]);\n  };\n  var reactionTrackingRef = import_react6.default.useRef(null);\n  if (!reactionTrackingRef.current) {\n    var newReaction = new Reaction(observerComponentNameFor(baseComponentName), function() {\n      if (trackingData_1.mounted) {\n        forceUpdate();\n      } else {\n        trackingData_1.changedBeforeMount = true;\n      }\n    });\n    var trackingData_1 = addReactionToTrack(reactionTrackingRef, newReaction, objectRetainedByReact);\n  }\n  var reaction2 = reactionTrackingRef.current.reaction;\n  import_react6.default.useDebugValue(reaction2, printDebugValue);\n  import_react6.default.useEffect(function() {\n    recordReactionAsCommitted(reactionTrackingRef);\n    if (reactionTrackingRef.current) {\n      reactionTrackingRef.current.mounted = true;\n      if (reactionTrackingRef.current.changedBeforeMount) {\n        reactionTrackingRef.current.changedBeforeMount = false;\n        forceUpdate();\n      }\n    } else {\n      reactionTrackingRef.current = {\n        reaction: new Reaction(observerComponentNameFor(baseComponentName), function() {\n          forceUpdate();\n        }),\n        mounted: true,\n        changedBeforeMount: false,\n        cleanAt: Infinity\n      };\n      forceUpdate();\n    }\n    return function() {\n      reactionTrackingRef.current.reaction.dispose();\n      reactionTrackingRef.current = null;\n    };\n  }, []);\n  var rendering;\n  var exception;\n  reaction2.track(function() {\n    try {\n      rendering = fn();\n    } catch (e) {\n      exception = e;\n    }\n  });\n  if (exception) {\n    throw exception;\n  }\n  return rendering;\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/observer.js\nvar import_react7 = require(\"react\");\nvar hasSymbol = typeof Symbol === \"function\" && Symbol.for;\nvar ReactForwardRefSymbol = hasSymbol ? Symbol.for(\"react.forward_ref\") : typeof import_react7.forwardRef === \"function\" && (0, import_react7.forwardRef)(function(props) {\n  return null;\n})[\"$$typeof\"];\nvar ReactMemoSymbol = hasSymbol ? Symbol.for(\"react.memo\") : typeof import_react7.memo === \"function\" && (0, import_react7.memo)(function(props) {\n  return null;\n})[\"$$typeof\"];\nfunction observer(baseComponent, options) {\n  var _a3;\n  if (false) {\n    warnObserverOptionsDeprecated = false;\n    console.warn(\"[mobx-react-lite] `observer(fn, { forwardRef: true })` is deprecated, use `observer(React.forwardRef(fn))`\");\n  }\n  if (ReactMemoSymbol && baseComponent[\"$$typeof\"] === ReactMemoSymbol) {\n    throw new Error(\"[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.\");\n  }\n  if (isUsingStaticRendering()) {\n    return baseComponent;\n  }\n  var useForwardRef = (_a3 = options === null || options === void 0 ? void 0 : options.forwardRef) !== null && _a3 !== void 0 ? _a3 : false;\n  var render = baseComponent;\n  var baseComponentName = baseComponent.displayName || baseComponent.name;\n  if (ReactForwardRefSymbol && baseComponent[\"$$typeof\"] === ReactForwardRefSymbol) {\n    useForwardRef = true;\n    render = baseComponent[\"render\"];\n    if (typeof render !== \"function\") {\n      throw new Error(\"[mobx-react-lite] `render` property of ForwardRef was not a function\");\n    }\n  }\n  var observerComponent = function(props, ref) {\n    return useObserver(function() {\n      return render(props, ref);\n    }, baseComponentName);\n  };\n  if (baseComponentName !== \"\") {\n    ;\n    observerComponent.displayName = baseComponentName;\n  }\n  if (baseComponent.contextTypes) {\n    ;\n    observerComponent.contextTypes = baseComponent.contextTypes;\n  }\n  if (useForwardRef) {\n    observerComponent = (0, import_react7.forwardRef)(observerComponent);\n  }\n  observerComponent = (0, import_react7.memo)(observerComponent);\n  copyStaticProperties(baseComponent, observerComponent);\n  if (false) {\n    Object.defineProperty(observerComponent, \"contextTypes\", {\n      set: function() {\n        var _a4;\n        throw new Error(\"[mobx-react-lite] `\".concat(this.displayName || ((_a4 = this.type) === null || _a4 === void 0 ? void 0 : _a4.displayName) || \"Component\", \".contextTypes` must be set before applying `observer`.\"));\n      }\n    });\n  }\n  return observerComponent;\n}\nvar hoistBlackList = {\n  $$typeof: true,\n  render: true,\n  compare: true,\n  type: true,\n  displayName: true\n};\nfunction copyStaticProperties(base, target) {\n  Object.keys(base).forEach(function(key) {\n    if (!hoistBlackList[key]) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(base, key));\n    }\n  });\n}\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/ObserverComponent.js\nfunction ObserverComponent(_a3) {\n  var children = _a3.children, render = _a3.render;\n  var component = children || render;\n  if (typeof component !== \"function\") {\n    return null;\n  }\n  return useObserver(component);\n}\nif (false) {\n  ObserverComponent.propTypes = {\n    children: ObserverPropsCheck,\n    render: ObserverPropsCheck\n  };\n}\nObserverComponent.displayName = \"Observer\";\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useLocalObservable.js\nvar import_react8 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useLocalStore.js\nvar import_react10 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/useAsObservableSource.js\nvar import_react9 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/mobx-react-lite\/es\/index.js\nobserverBatching(import_react_dom.unstable_batchedUpdates);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/HTMLContainer\/HTMLContainer.tsx\nvar React20 = __toESM(require(\"react\"));\nvar import_jsx_runtime2 = require(\"react\/jsx-runtime\");\nvar HTMLContainer = React20.forwardRef(\n  function HTMLContainer2(_a3, ref) {\n    var _b = _a3, { children, opacity, centered, className = \"\" } = _b, rest = __objRest(_b, [\"children\", \"opacity\", \"centered\", \"className\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(ObserverComponent, {\n      children: () => \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(\"div\", {\n        ref,\n        className: `tl-positioned-div ${className}`,\n        style: opacity ? { opacity } : void 0,\n        draggable: false,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime2.jsx)(\"div\", __spreadProps(__spreadValues({\n          className: `tl-positioned-inner ${centered ? \"tl-centered\" : \"\"}`\n        }, rest), {\n          children\n        }))\n      })\n    });\n  }\n);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SVGContainer\/SVGContainer.tsx\nvar React21 = __toESM(require(\"react\"));\nvar import_jsx_runtime3 = require(\"react\/jsx-runtime\");\nvar SVGContainer = React21.forwardRef(\n  function SVGContainer2(_a3, ref) {\n    var _b = _a3, { id: id3, className = \"\", style, children } = _b, rest = __objRest(_b, [\"id\", \"className\", \"style\", \"children\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(ObserverComponent, {\n      children: () => \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(\"svg\", {\n        ref,\n        style,\n        className: `tl-positioned-svg ${className}`,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime3.jsx)(\"g\", __spreadProps(__spreadValues({\n          id: id3,\n          className: \"tl-centered-g\"\n        }, rest), {\n          children\n        }))\n      })\n    });\n  }\n);\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Canvas\/Canvas.tsx\nvar React31 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useKeyboardEvents.ts\nvar React22 = __toESM(require(\"react\"));\nfunction useKeyboardEvents(ref) {\n  const app = useApp();\n  const { callbacks } = useRendererContext();\n  const shiftKeyDownRef = React22.useRef(false);\n  React22.useEffect(() => {\n    const onKeyDown = (e) => {\n      var _a3, _b;\n      if ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) {\n        (_b = callbacks.onKeyDown) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order: -1 }, e);\n        shiftKeyDownRef.current = e.shiftKey;\n      }\n    };\n    const onKeyUp = (e) => {\n      var _a3, _b;\n      if ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) {\n        (_b = callbacks.onKeyUp) == null ? void 0 : _b.call(callbacks, { type: \"canvas\" \/* Canvas *\/, order: -1 }, e);\n        shiftKeyDownRef.current = e.shiftKey;\n      }\n    };\n    const onPaste = (e) => {\n      var _a3, _b, _c;\n      if (!app.editingShape && ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) && ![\"INPUT\", \"TEXTAREA\"].includes((_c = (_b = document.activeElement) == null ? void 0 : _b.tagName) != null ? _c : \"\")) {\n        e.preventDefault();\n        app.paste(e, shiftKeyDownRef.current);\n      }\n    };\n    const onCopy = (e) => {\n      var _a3, _b, _c;\n      if (!app.editingShape && app.selectedShapes.size > 0 && ((_a3 = ref.current) == null ? void 0 : _a3.contains(document.activeElement)) && ![\"INPUT\", \"TEXTAREA\"].includes((_c = (_b = document.activeElement) == null ? void 0 : _b.tagName) != null ? _c : \"\")) {\n        e.preventDefault();\n        app.copy();\n      }\n    };\n    window.addEventListener(\"keydown\", onKeyDown);\n    window.addEventListener(\"keyup\", onKeyUp);\n    document.addEventListener(\"paste\", onPaste);\n    document.addEventListener(\"copy\", onCopy);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n      window.removeEventListener(\"keyup\", onKeyUp);\n      document.removeEventListener(\"paste\", onPaste);\n      document.removeEventListener(\"copy\", onCopy);\n    };\n  }, []);\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Container\/Container.tsx\nvar React23 = __toESM(require(\"react\"));\nvar import_jsx_runtime4 = require(\"react\/jsx-runtime\");\nvar Container = observer(function Container2(_a3) {\n  var _b = _a3, {\n    id: id3,\n    bounds,\n    zIndex,\n    rotation = 0,\n    className = \"\",\n    children\n  } = _b, props = __objRest(_b, [\n    \"id\",\n    \"bounds\",\n    \"zIndex\",\n    \"rotation\",\n    \"className\",\n    \"children\"\n  ]);\n  const rBounds = React23.useRef(null);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    elm.style.transform = `translate(\n        calc(${bounds.minX}px - var(--tl-padding)),\n        calc(${bounds.minY}px - var(--tl-padding)))\n        rotate(${rotation + (bounds.rotation || 0)}rad)`;\n  }, [bounds.minX, bounds.minY, rotation, bounds.rotation]);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    elm.style.width = `calc(${Math.floor(bounds.width)}px + (var(--tl-padding) * 2))`;\n    elm.style.height = `calc(${Math.floor(bounds.height)}px + (var(--tl-padding) * 2))`;\n  }, [bounds.width, bounds.height]);\n  React23.useLayoutEffect(() => {\n    const elm = rBounds.current;\n    if (zIndex !== void 0)\n      elm.style.zIndex = zIndex.toString();\n  }, [zIndex]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime4.jsx)(\"div\", __spreadProps(__spreadValues({\n    id: id3,\n    ref: rBounds,\n    className: `tl-positioned ${className}`,\n    \"aria-label\": \"container\"\n  }, props), {\n    children\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ContextBarContainer\/ContextBarContainer.tsx\nvar React24 = __toESM(require(\"react\"));\nvar import_jsx_runtime5 = require(\"react\/jsx-runtime\");\nvar ContextBarContainer = observer(function ContextBarContainer2({\n  shapes: shapes2,\n  hidden,\n  bounds,\n  rotation = 0\n}) {\n  const {\n    components: { ContextBar: ContextBar2 },\n    viewport: {\n      bounds: vpBounds,\n      camera: {\n        point: [x2, y2],\n        zoom\n      }\n    }\n  } = useRendererContext();\n  const rBounds = React24.useRef(null);\n  const rotatedBounds = BoundsUtils.getRotatedBounds(bounds, rotation);\n  const scaledBounds = BoundsUtils.multiplyBounds(rotatedBounds, zoom);\n  useCounterScaledPosition(rBounds, bounds, rotation, 10005);\n  if (!ContextBar2)\n    throw Error(\"Expected a ContextBar component.\");\n  const screenBounds = BoundsUtils.translateBounds(scaledBounds, [x2 * zoom, y2 * zoom]);\n  const offsets = {\n    left: screenBounds.minX,\n    right: vpBounds.width - screenBounds.maxX,\n    top: screenBounds.minY,\n    bottom: vpBounds.height - screenBounds.maxY,\n    width: screenBounds.width,\n    height: screenBounds.height\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime5.jsx)(\"div\", {\n    ref: rBounds,\n    className: \"tl-counter-scaled-positioned\",\n    \"aria-label\": \"context-bar-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime5.jsx)(ContextBar2, {\n      hidden,\n      shapes: shapes2,\n      bounds,\n      offsets,\n      scaledBounds,\n      rotation\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/HTMLLayer\/HTMLLayer.tsx\nvar React25 = __toESM(require(\"react\"));\nvar import_jsx_runtime6 = require(\"react\/jsx-runtime\");\nvar HTMLLayer = observer(function HTMLLayer2({ children }) {\n  const rLayer = React25.useRef(null);\n  const { viewport } = useRendererContext();\n  const layer = rLayer.current;\n  const { zoom, point } = viewport.camera;\n  React25.useEffect(() => {\n    if (!layer)\n      return;\n    layer.style.transform = `scale(${zoom}) translate3d(${point[0]}px, ${point[1]}px, 0)`;\n  }, [zoom, point, layer]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime6.jsx)(\"div\", {\n    ref: rLayer,\n    className: \"tl-absolute tl-layer\",\n    children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Indicator\/Indicator.tsx\nvar import_jsx_runtime7 = require(\"react\/jsx-runtime\");\nvar Indicator = observer(function Shape({\n  shape,\n  isHovered = false,\n  isSelected = false,\n  isBinding = false,\n  isEditing = false,\n  isLocked = false,\n  meta\n}) {\n  const {\n    bounds,\n    props: { scale, rotation = 0 },\n    ReactIndicator\n  } = shape;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(Container, {\n    \"data-type\": \"Indicator\",\n    \"data-html2canvas-ignore\": \"true\",\n    bounds,\n    rotation,\n    scale,\n    zIndex: isEditing ? 1e3 : 1e4,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(SVGContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(\"g\", {\n        className: `tl-indicator-container ${isSelected ? \"tl-selected\" : \"tl-hovered\"} ${isLocked ? \"tl-locked\" : \"\"}`,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime7.jsx)(ReactIndicator, {\n          isEditing,\n          isBinding,\n          isHovered,\n          isLocked,\n          isSelected,\n          isErasing: false,\n          meta\n        })\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/hooks\/useShapeEvents.ts\nvar React26 = __toESM(require(\"react\"));\nfunction useShapeEvents(shape) {\n  const app = useApp();\n  const { inputs, callbacks } = useRendererContext();\n  const rDoubleClickTimer = React26.useRef(-1);\n  const events = React26.useMemo(() => {\n    const onPointerMove = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerMove) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerDown = (e) => {\n      var _a3, _b;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.setPointerCapture(e.pointerId);\n      (_b = callbacks.onPointerDown) == null ? void 0 : _b.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerUp = (e) => {\n      var _a3, _b, _c;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      if (!order)\n        (_a3 = e.currentTarget) == null ? void 0 : _a3.releasePointerCapture(e.pointerId);\n      (_b = callbacks.onPointerUp) == null ? void 0 : _b.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      const now = Date.now();\n      const elapsed = now - rDoubleClickTimer.current;\n      if (elapsed > DOUBLE_CLICK_DURATION) {\n        rDoubleClickTimer.current = now;\n      } else {\n        if (elapsed <= DOUBLE_CLICK_DURATION) {\n          (_c = callbacks.onDoubleClick) == null ? void 0 : _c.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n          rDoubleClickTimer.current = -1;\n        }\n      }\n      e.order = order + 1;\n    };\n    const onPointerEnter = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerEnter) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onPointerLeave = (e) => {\n      var _a3;\n      if (app.settings.penMode && (e.pointerType !== \"pen\" || !e.isPrimary)) {\n        return;\n      }\n      const { order = 0 } = e;\n      (_a3 = callbacks.onPointerLeave) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order }, e);\n      e.order = order + 1;\n    };\n    const onKeyDown = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyDown) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order: -1 }, e);\n    };\n    const onKeyUp = (e) => {\n      var _a3;\n      (_a3 = callbacks.onKeyUp) == null ? void 0 : _a3.call(callbacks, { type: \"shape\" \/* Shape *\/, shape, order: -1 }, e);\n    };\n    return {\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n      onPointerEnter,\n      onPointerLeave,\n      onKeyUp,\n      onKeyDown\n    };\n  }, [shape.id, inputs, callbacks]);\n  return events;\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/QuickLinksContainer\/QuickLinksContainer.tsx\nvar import_jsx_runtime8 = require(\"react\/jsx-runtime\");\nvar QuickLinksContainer = observer(function QuickLinksContainer2({\n  bounds,\n  shape\n}) {\n  const {\n    viewport: {\n      camera: { zoom }\n    },\n    components: { QuickLinks: QuickLinks2 }\n  } = useRendererContext();\n  const app = useApp();\n  const events = useShapeEvents(shape);\n  if (!QuickLinks2)\n    throw Error(\"Expected a QuickLinks component.\");\n  const stop2 = (e) => e.stopPropagation();\n  const rounded = bounds.height * zoom < 50 || !app.selectedShapesArray.includes(shape);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(Container, {\n    bounds,\n    className: \"tl-quick-links-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(HTMLContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(\"span\", __spreadProps(__spreadValues({\n        style: {\n          position: \"absolute\",\n          top: \"100%\",\n          pointerEvents: \"all\",\n          transformOrigin: \"left top\",\n          paddingTop: \"8px\",\n          transform: \"scale(var(--tl-scale))\",\n          minWidth: \"320px\"\n        }\n      }, events), {\n        onPointerDown: stop2,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime8.jsx)(QuickLinks2, {\n          className: \"tl-backlinks-count \" + (rounded ? \"tl-backlinks-count-rounded\" : \"\"),\n          id: shape.id,\n          shape\n        })\n      }))\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/BacklinksCountContainer\/BacklinksCountContainer.tsx\nvar import_jsx_runtime9 = require(\"react\/jsx-runtime\");\nvar BacklinksCountContainer = observer(function BacklinksCountContainer2({ bounds, shape }) {\n  const {\n    viewport: {\n      camera: { zoom }\n    },\n    components: { BacklinksCount: BacklinksCount2 }\n  } = useRendererContext();\n  const app = useApp();\n  if (!BacklinksCount2)\n    throw Error(\"Expected a BacklinksCount component.\");\n  const stop2 = (e) => e.stopPropagation();\n  const rounded = bounds.height * zoom < 50 || !app.selectedShapesArray.includes(shape) || shape.hideSelection;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(Container, {\n    bounds,\n    className: \"tl-backlinks-count-container\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(HTMLContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(\"span\", {\n        style: {\n          position: \"absolute\",\n          left: \"100%\",\n          pointerEvents: \"all\",\n          transformOrigin: \"left top\",\n          transform: \"translateY(6px) scale(var(--tl-scale))\"\n        },\n        onPointerDown: stop2,\n        onWheelCapture: stop2,\n        onKeyDown: stop2,\n        title: \"Shape Backlinks\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime9.jsx)(BacklinksCount2, {\n          className: \"tl-backlinks-count \" + (rounded ? \"tl-backlinks-count-rounded\" : \"\"),\n          id: shape.id,\n          shape\n        })\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SelectionDetailContainer\/SelectionDetailContainer.tsx\nvar React27 = __toESM(require(\"react\"));\nvar import_jsx_runtime10 = require(\"react\/jsx-runtime\");\nvar SelectionDetailContainer = observer(function SelectionDetail({\n  bounds,\n  hidden,\n  shapes: shapes2,\n  rotation = 0,\n  detail = \"size\"\n}) {\n  const {\n    components: { SelectionDetail: SelectionDetail4 },\n    viewport: {\n      camera: { zoom }\n    }\n  } = useRendererContext();\n  const rBounds = React27.useRef(null);\n  const scaledBounds = BoundsUtils.multiplyBounds(bounds, zoom);\n  useCounterScaledPosition(rBounds, bounds, rotation, 10003);\n  if (!SelectionDetail4)\n    throw Error(\"Expected a SelectionDetail component.\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime10.jsx)(\"div\", {\n    ref: rBounds,\n    className: `tl-counter-scaled-positioned ${hidden ? `tl-fade-out` : \"\"}`,\n    \"aria-label\": \"bounds-detail-container\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime10.jsx)(SelectionDetail4, {\n      shapes: shapes2,\n      bounds,\n      scaledBounds,\n      zoom,\n      rotation,\n      detail\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Shape\/Shape.tsx\nvar import_jsx_runtime11 = require(\"react\/jsx-runtime\");\nvar Shape2 = observer(function Shape3({\n  shape,\n  isHovered = false,\n  isSelected = false,\n  isBinding = false,\n  isErasing = false,\n  isEditing = false,\n  onEditingEnd,\n  asset,\n  meta,\n  zIndex\n}) {\n  const {\n    bounds,\n    props: { rotation, scale },\n    ReactComponent\n  } = shape;\n  const app = useApp();\n  const events = useShapeEvents(shape);\n  const parentGroup = app.getParentGroup(shape);\n  const isParentGrpupSelected = app.selectedIds.has(parentGroup == null ? void 0 : parentGroup.id);\n  const ignoreExport = !isSelected && !isParentGrpupSelected && app.selectedShapes.size !== 0 || null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime11.jsx)(Container, {\n    \"data-shape-id\": shape.id,\n    \"data-html2canvas-ignore\": ignoreExport,\n    zIndex,\n    \"data-type\": \"Shape\",\n    bounds,\n    rotation,\n    scale,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime11.jsx)(ReactComponent, {\n      meta,\n      isEditing,\n      isBinding,\n      isHovered,\n      isSelected,\n      isErasing,\n      events,\n      asset,\n      onEditingEnd\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Grid\/Grid.tsx\nvar import_jsx_runtime12 = require(\"react\/jsx-runtime\");\nvar STEPS = [\n  [-1, 0.15, 64],\n  [0.05, 0.375, 16],\n  [0.15, 1, 4],\n  [0.7, 2.5, 1]\n];\nvar SVGGrid = observer(function CanvasGrid({ size }) {\n  const {\n    viewport: {\n      camera: { point, zoom }\n    }\n  } = useRendererContext();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsxs)(\"svg\", {\n    className: \"tl-grid\",\n    version: \"1.1\",\n    xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"defs\", {\n        children: STEPS.map(([min, mid, _size], i2) => {\n          const s2 = _size * size * zoom;\n          const xo = point[0] * zoom;\n          const yo = point[1] * zoom;\n          const gxo = xo > 0 ? xo % s2 : s2 + xo % s2;\n          const gyo = yo > 0 ? yo % s2 : s2 + yo % s2;\n          const opacity = modulate(zoom, [min, mid], [0, 1]);\n          const hide = opacity > 2 || opacity < 0.1;\n          return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"pattern\", {\n            id: `grid-${i2}`,\n            width: s2,\n            height: s2,\n            patternUnits: \"userSpaceOnUse\",\n            children: !hide && \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"circle\", {\n              className: `tl-grid-dot`,\n              cx: gxo,\n              cy: gyo,\n              r: 1.5,\n              opacity: clamp(opacity, 0, 1)\n            })\n          }, `grid-pattern-${i2}`);\n        })\n      }),\n      STEPS.map((_2, i2) => \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(\"rect\", {\n        width: \"100%\",\n        height: \"100%\",\n        fill: `url(#grid-${i2})`\n      }, `grid-rect-${i2}`))\n    ]\n  });\n});\nvar Grid = observer(function Grid2({ size }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime12.jsx)(SVGGrid, {\n    size\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionBackground\/SelectionBackground.tsx\nvar import_jsx_runtime13 = require(\"react\/jsx-runtime\");\nvar SelectionBackground = observer(function SelectionBackground2({\n  bounds\n}) {\n  const events = useBoundsEvents(\"background\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime13.jsx)(SVGContainer, __spreadProps(__spreadValues({\n    \"data-html2canvas-ignore\": \"true\"\n  }, events), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime13.jsx)(\"rect\", {\n      className: \"tl-bounds-bg\",\n      width: Math.max(1, bounds.width),\n      height: Math.max(1, bounds.height),\n      pointerEvents: \"all\",\n      rx: 8,\n      ry: 8\n    })\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionDetail\/SelectionDetail.tsx\nvar React28 = require(\"react\");\nvar import_jsx_runtime14 = require(\"react\/jsx-runtime\");\nvar SelectionDetail2 = observer(function SelectionDetail3({\n  scaledBounds,\n  shapes: shapes2,\n  detail = \"size\",\n  rotation = 0\n}) {\n  var _a3;\n  const selectionRotation = shapes2.length === 1 ? rotation : (_a3 = scaledBounds.rotation) != null ? _a3 : 0;\n  const isFlipped = !(selectionRotation < TAU || selectionRotation > TAU * 3);\n  const isLine = shapes2.length === 1 && shapes2[0].type === \"line\";\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime14.jsx)(HTMLContainer, {\n    centered: true,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime14.jsx)(\"div\", {\n      className: \"tl-bounds-detail\",\n      style: {\n        transform: isFlipped ? `rotate(${Math.PI + selectionRotation}rad) translateY(${scaledBounds.height \/ 2 + 32}px)` : `rotate(${selectionRotation}rad) translateY(${scaledBounds.height \/ 2 + 24}px)`,\n        padding: \"2px 3px\",\n        borderRadius: \"1px\"\n      },\n      children: isLine ? `${src_default.dist(\n        shapes2[0].props.handles.start.point,\n        shapes2[0].props.handles.end.point\n      ).toFixed()}` : detail === \"size\" ? `${scaledBounds.width.toFixed()} \\xD7 ${scaledBounds.height.toFixed()}` : `\\u2220${GeomUtils.radiansToDegrees(GeomUtils.clampRadians(rotation)).toFixed()}\\xB0`\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/CornerHandle.tsx\nvar import_jsx_runtime15 = require(\"react\/jsx-runtime\");\nvar cornerBgClassnames = {\n  [\"top_left_corner\" \/* TopLeft *\/]: \"tl-cursor-nwse\",\n  [\"top_right_corner\" \/* TopRight *\/]: \"tl-cursor-nesw\",\n  [\"bottom_right_corner\" \/* BottomRight *\/]: \"tl-cursor-nwse\",\n  [\"bottom_left_corner\" \/* BottomLeft *\/]: \"tl-cursor-nesw\"\n};\nvar CornerHandle = observer(function CornerHandle2({\n  cx: cx2,\n  cy,\n  size,\n  targetSize,\n  corner,\n  isHidden\n}) {\n  const events = useBoundsEvents(corner);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsxs)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsx)(\"rect\", {\n        className: \"tl-transparent \" + (isHidden ? \"\" : cornerBgClassnames[corner]),\n        \"aria-label\": `${corner} target`,\n        x: cx2 - targetSize * 1.25,\n        y: cy - targetSize * 1.25,\n        width: targetSize * 2.5,\n        height: targetSize * 2.5,\n        pointerEvents: isHidden ? \"none\" : \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime15.jsx)(\"rect\", {\n        className: \"tl-corner-handle\",\n        \"aria-label\": `${corner} handle`,\n        x: cx2 - size \/ 2,\n        y: cy - size \/ 2,\n        width: size,\n        height: size,\n        pointerEvents: \"none\"\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/CloneHandle.tsx\nvar import_jsx_runtime16 = require(\"react\/jsx-runtime\");\nvar CloneHandle = observer(function CloneHandle2({\n  cx: cx2,\n  cy,\n  size,\n  direction,\n  isHidden\n}) {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsxs)(\"g\", {\n    className: \"tl-clone-handle\",\n    opacity: isHidden ? 0 : 1,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"circle\", {\n        \"aria-label\": `${direction} handle`,\n        pointerEvents: \"all\",\n        onPointerDown: (e) => app.api.clone(direction),\n        cx: cx2,\n        cy,\n        r: size\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"line\", {\n        x1: cx2 - size \/ 2,\n        y1: cy,\n        x2: cx2 + size \/ 2,\n        y2: cy\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime16.jsx)(\"line\", {\n        x1: cx2,\n        y1: cy - size \/ 2,\n        x2: cx2,\n        y2: cy + size \/ 2\n      })\n    ]\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/EdgeHandle.tsx\nvar import_jsx_runtime17 = require(\"react\/jsx-runtime\");\nvar edgeClassnames = {\n  [\"top_edge\" \/* Top *\/]: \"tl-cursor-ns\",\n  [\"right_edge\" \/* Right *\/]: \"tl-cursor-ew\",\n  [\"bottom_edge\" \/* Bottom *\/]: \"tl-cursor-ns\",\n  [\"left_edge\" \/* Left *\/]: \"tl-cursor-ew\"\n};\nvar EdgeHandle = observer(function EdgeHandle2({\n  x: x2,\n  y: y2,\n  width,\n  height,\n  targetSize,\n  edge,\n  disabled,\n  isHidden\n}) {\n  const events = useBoundsEvents(edge);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime17.jsx)(\"rect\", __spreadValues({\n    pointerEvents: isHidden || disabled ? \"none\" : \"all\",\n    className: \"tl-transparent tl-edge-handle \" + (isHidden ? \"\" : edgeClassnames[edge]),\n    \"aria-label\": `${edge} target`,\n    opacity: isHidden ? 0 : 1,\n    x: x2 - targetSize,\n    y: y2 - targetSize,\n    width: Math.max(1, width + targetSize * 2),\n    height: Math.max(1, height + targetSize * 2)\n  }, events));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/RotateHandle.tsx\nvar import_jsx_runtime18 = require(\"react\/jsx-runtime\");\nvar RotateHandle = observer(function RotateHandle2({\n  cx: cx2,\n  cy,\n  size,\n  targetSize,\n  isHidden\n}) {\n  const events = useBoundsEvents(\"rotate\");\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsxs)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsx)(\"circle\", {\n        className: \"tl-transparent \",\n        \"aria-label\": \"rotate target\",\n        cx: cx2,\n        cy,\n        r: targetSize,\n        pointerEvents: isHidden ? \"none\" : \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime18.jsx)(\"circle\", {\n        className: \"tl-rotate-handle\",\n        \"aria-label\": \"rotate handle\",\n        cx: cx2,\n        cy,\n        r: size \/ 2,\n        pointerEvents: \"none\"\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/handles\/RotateCornerHandle.tsx\nvar React29 = require(\"react\");\nvar import_jsx_runtime19 = require(\"react\/jsx-runtime\");\nvar RotateCornerHandle = observer(function RotateCornerHandle2({\n  cx: cx2,\n  cy,\n  targetSize,\n  corner,\n  isHidden\n}) {\n  const events = useBoundsEvents(corner);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime19.jsx)(\"g\", __spreadProps(__spreadValues({\n    opacity: isHidden ? 0 : 1\n  }, events), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime19.jsx)(\"rect\", {\n      className: \"tl-transparent\",\n      \"aria-label\": `${corner} target`,\n      x: cx2 - targetSize * 2.5,\n      y: cy - targetSize * 2.5,\n      width: targetSize * 3,\n      height: targetSize * 3,\n      pointerEvents: isHidden ? \"none\" : \"all\"\n    })\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/SelectionForeground\/SelectionForeground.tsx\nvar import_jsx_runtime20 = require(\"react\/jsx-runtime\");\nvar SelectionForeground = observer(function SelectionForeground2({\n  bounds,\n  showResizeHandles,\n  showRotateHandles,\n  showCloneHandles,\n  shapes: shapes2\n}) {\n  var _a3, _b;\n  const app = useApp();\n  let { width, height } = bounds;\n  const zoom = app.viewport.camera.zoom;\n  const size = 8 \/ zoom;\n  const targetSize = 6 \/ zoom;\n  const clonePadding = 30 \/ zoom;\n  const cloneHandleSize = size * 2;\n  const canResize = shapes2.length === 1 ? shapes2[0].canResize : [true, true];\n  const borderRadius = (_b = (_a3 = app.editingShape) == null ? void 0 : _a3.props[\"borderRadius\"]) != null ? _b : 0;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(import_jsx_runtime20.Fragment, {\n    children: shapes2.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsxs)(SVGContainer, {\n      children: [\n        !app.editingShape && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(\"rect\", {\n          className: \"tl-bounds-fg\",\n          width: Math.max(width, 1),\n          height: Math.max(height, 1),\n          rx: borderRadius,\n          ry: borderRadius,\n          pointerEvents: \"none\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: targetSize * 2,\n          y: 0,\n          width: width - targetSize * 4,\n          height: 0,\n          targetSize,\n          edge: \"top_edge\" \/* Top *\/,\n          disabled: !canResize[1],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: width,\n          y: targetSize * 2,\n          width: 0,\n          height: height - targetSize * 4,\n          targetSize,\n          edge: \"right_edge\" \/* Right *\/,\n          disabled: !canResize[0],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: targetSize * 2,\n          y: height,\n          width: width - targetSize * 4,\n          height: 0,\n          targetSize,\n          edge: \"bottom_edge\" \/* Bottom *\/,\n          disabled: !canResize[1],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(EdgeHandle, {\n          x: 0,\n          y: targetSize * 2,\n          width: 0,\n          height: height - targetSize * 4,\n          targetSize,\n          edge: \"left_edge\" \/* Left *\/,\n          disabled: !canResize[0],\n          isHidden: !showResizeHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: 0,\n          cy: 0,\n          targetSize,\n          corner: \"top_left_resize_corner\" \/* TopLeft *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: width + targetSize * 2,\n          cy: 0,\n          targetSize,\n          corner: \"top_right_resize_corner\" \/* TopRight *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: width + targetSize * 2,\n          cy: height + targetSize * 2,\n          targetSize,\n          corner: \"bottom_right_resize_corner\" \/* BottomRight *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(RotateCornerHandle, {\n          cx: 0,\n          cy: height + targetSize * 2,\n          targetSize,\n          corner: \"bottom_left_resize_corner\" \/* BottomLeft *\/,\n          isHidden: !showRotateHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: -clonePadding,\n          cy: height \/ 2,\n          size: cloneHandleSize,\n          direction: \"left\" \/* Left *\/,\n          isHidden: !showCloneHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: width + clonePadding,\n          cy: height \/ 2,\n          size: cloneHandleSize,\n          direction: \"right\" \/* Right *\/,\n          isHidden: !showCloneHandles\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CloneHandle, {\n          cx: width \/ 2,\n          cy: height + clonePadding,\n          size: cloneHandleSize,\n          direction: \"down\" \/* Down *\/,\n          isHidden: !showCloneHandles\n        }),\n        (canResize == null ? void 0 : canResize.every((r2) => r2)) && \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsxs)(import_jsx_runtime20.Fragment, {\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: 0,\n              cy: 0,\n              size,\n              targetSize,\n              corner: \"top_left_corner\" \/* TopLeft *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: width,\n              cy: 0,\n              size,\n              targetSize,\n              corner: \"top_right_corner\" \/* TopRight *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: width,\n              cy: height,\n              size,\n              targetSize,\n              corner: \"bottom_right_corner\" \/* BottomRight *\/,\n              isHidden: !showResizeHandles\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime20.jsx)(CornerHandle, {\n              cx: 0,\n              cy: height,\n              size,\n              targetSize,\n              corner: \"bottom_left_corner\" \/* BottomLeft *\/,\n              isHidden: !showResizeHandles\n            })\n          ]\n        })\n      ]\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Brush\/Brush.tsx\nvar import_jsx_runtime21 = require(\"react\/jsx-runtime\");\nvar Brush = observer(function Brush2({ bounds }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(Container, {\n    bounds,\n    zIndex: 10001,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(SVGContainer, {\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime21.jsx)(\"rect\", {\n        className: \"tl-brush\",\n        x: 0,\n        y: 0,\n        width: bounds.width,\n        height: bounds.height\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Cursor\/Cursor.tsx\nvar import_jsx_runtime22 = require(\"react\/jsx-runtime\");\nvar Cursor = observer(function Cursor2() {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime22.jsx)(import_jsx_runtime22.Fragment, {});\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/Handle\/Handle.tsx\nvar import_jsx_runtime23 = require(\"react\/jsx-runtime\");\nvar Handle = observer(function Handle2({\n  shape,\n  handle,\n  id: id3\n}) {\n  const events = useHandleEvents(shape, id3);\n  const [x2, y2] = handle.point;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsxs)(\"g\", __spreadProps(__spreadValues({\n    className: \"tl-handle\",\n    \"aria-label\": \"handle\"\n  }, events), {\n    transform: `translate(${x2}, ${y2})`,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsx)(\"circle\", {\n        className: \"tl-handle-bg\",\n        pointerEvents: \"all\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime23.jsx)(\"circle\", {\n        className: \"tl-counter-scaled tl-handle\",\n        pointerEvents: \"none\",\n        r: 4\n      })\n    ]\n  }));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/ui\/DirectionIndicator\/DirectionIndicator.tsx\nvar React30 = __toESM(require(\"react\"));\nvar import_jsx_runtime24 = require(\"react\/jsx-runtime\");\nvar DirectionIndicator = observer(function DirectionIndicator2({ direction }) {\n  const {\n    viewport: { bounds }\n  } = useRendererContext();\n  const rIndicator = React30.useRef(null);\n  React30.useLayoutEffect(() => {\n    const elm = rIndicator.current;\n    if (!elm)\n      return;\n    const center = [bounds.width \/ 2, bounds.height \/ 2];\n    const insetBoundSides = BoundsUtils.getRectangleSides(\n      [12, 12],\n      [bounds.width - 24, bounds.height - 24]\n    );\n    for (const [_2, [A3, B3]] of insetBoundSides) {\n      const int = intersectRayLineSegment(center, direction, A3, B3);\n      if (!int.didIntersect)\n        continue;\n      const point = int.points[0];\n      elm.style.transform = `translate(${point[0] - 6}px,${point[1] - 6}px) rotate(${src_default.toAngle(\n        direction\n      )}rad)`;\n    }\n  }, [direction, bounds]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"div\", {\n    ref: rIndicator,\n    className: \"tl-direction-indicator\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"svg\", {\n      height: 12,\n      width: 12,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime24.jsx)(\"polygon\", {\n        points: \"0,0 12,6 0,12\"\n      })\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Canvas\/Canvas.tsx\nvar import_jsx_runtime25 = require(\"react\/jsx-runtime\");\nvar Canvas = observer(function Renderer({\n  id: id3,\n  className,\n  brush,\n  shapes: shapes2,\n  assets,\n  bindingShapes,\n  editingShape,\n  hoveredShape,\n  hoveredGroup,\n  selectionBounds,\n  selectedShapes,\n  erasingShapes,\n  selectionDirectionHint,\n  cursor = \"default\" \/* Default *\/,\n  cursorRotation = 0,\n  selectionRotation = 0,\n  showSelection = true,\n  showHandles = true,\n  showSelectionRotation = false,\n  showResizeHandles = true,\n  showRotateHandles = true,\n  showCloneHandles = true,\n  showSelectionDetail = true,\n  showContextBar = true,\n  showGrid = true,\n  gridSize = 8,\n  onEditingEnd = NOOP,\n  theme = EMPTY_OBJECT,\n  children\n}) {\n  var _a3;\n  const rContainer = React31.useRef(null);\n  const { viewport, components, meta } = useRendererContext();\n  const app = useApp();\n  const onBoundsChange = React31.useCallback((bounds) => {\n    app.inputs.updateContainerOffset([bounds.minX, bounds.minY]);\n  }, []);\n  useStylesheet(theme, id3);\n  usePreventNavigation(rContainer);\n  useResizeObserver(rContainer, viewport, onBoundsChange);\n  useGestureEvents(rContainer);\n  useRestoreCamera();\n  useCursor(rContainer, cursor, cursorRotation);\n  useZoom(rContainer);\n  useKeyboardEvents(rContainer);\n  const events = useCanvasEvents();\n  const onlySelectedShape = (selectedShapes == null ? void 0 : selectedShapes.length) === 1 && selectedShapes[0];\n  const onlySelectedShapeWithHandles = onlySelectedShape && \"handles\" in onlySelectedShape.props ? selectedShapes == null ? void 0 : selectedShapes[0] : void 0;\n  const selectedShapesSet = React31.useMemo(() => new Set(selectedShapes || []), [selectedShapes]);\n  const erasingShapesSet = React31.useMemo(() => new Set(erasingShapes || []), [erasingShapes]);\n  const singleSelectedShape = (selectedShapes == null ? void 0 : selectedShapes.length) === 1 ? selectedShapes[0] : void 0;\n  const hoveredShapes = [...\/* @__PURE__ *\/ new Set([hoveredGroup, hoveredShape])].filter(isNonNullable);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(\"div\", {\n    ref: rContainer,\n    className: `tl-container ${className != null ? className : \"\"}`,\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(\"div\", __spreadProps(__spreadValues({\n        tabIndex: -1,\n        className: \"tl-absolute tl-canvas\"\n      }, events), {\n        children: [\n          showGrid && components.Grid && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.Grid, {\n            size: gridSize\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(HTMLLayer, {\n            children: [\n              components.SelectionBackground && selectedShapes && selectionBounds && showSelection && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                \"data-type\": \"SelectionBackground\",\n                bounds: selectionBounds,\n                zIndex: 2,\n                \"data-html2canvas-ignore\": \"true\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.SelectionBackground, {\n                  shapes: selectedShapes,\n                  bounds: selectionBounds,\n                  showResizeHandles,\n                  showRotateHandles\n                })\n              }),\n              shapes2 && shapes2.map((shape, i2) => \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Shape2, {\n                shape,\n                asset: assets && shape.props.assetId ? assets[shape.props.assetId] : void 0,\n                isEditing: shape === editingShape,\n                isHovered: shape === hoveredShape,\n                isBinding: bindingShapes == null ? void 0 : bindingShapes.includes(shape),\n                isSelected: selectedShapesSet.has(shape),\n                isErasing: erasingShapesSet.has(shape),\n                meta,\n                zIndex: 1e3 + i2,\n                onEditingEnd\n              }, \"shape_\" + shape.id)),\n              !app.isIn(\"select.pinching\") && (selectedShapes == null ? void 0 : selectedShapes.map((shape) => \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Indicator, {\n                shape,\n                isEditing: shape === editingShape,\n                isHovered: false,\n                isBinding: false,\n                isSelected: true,\n                isLocked: shape.props.isLocked\n              }, \"selected_indicator_\" + shape.id))),\n              hoveredShapes.map(\n                (s2) => s2 !== editingShape && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Indicator, {\n                  shape: s2\n                }, \"hovered_indicator_\" + s2.id)\n              ),\n              singleSelectedShape && components.BacklinksCount && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(BacklinksCountContainer, {\n                hidden: false,\n                bounds: singleSelectedShape.bounds,\n                shape: singleSelectedShape\n              }),\n              hoveredShape && hoveredShape !== singleSelectedShape && components.QuickLinks && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(QuickLinksContainer, {\n                hidden: false,\n                bounds: hoveredShape.bounds,\n                shape: hoveredShape\n              }),\n              brush && components.Brush && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.Brush, {\n                bounds: brush\n              }),\n              selectedShapes && selectionBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsxs)(import_jsx_runtime25.Fragment, {\n                children: [\n                  showSelection && components.SelectionForeground && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                    \"data-type\": \"SelectionForeground\",\n                    \"data-html2canvas-ignore\": \"true\",\n                    bounds: selectionBounds,\n                    zIndex: editingShape && selectedShapes.includes(editingShape) ? 1002 : 10002,\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(components.SelectionForeground, {\n                      shapes: selectedShapes.filter((shape) => !shape.props.isLocked),\n                      bounds: selectionBounds,\n                      showResizeHandles,\n                      showRotateHandles,\n                      showCloneHandles\n                    })\n                  }),\n                  showHandles && onlySelectedShapeWithHandles && components.Handle && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(Container, {\n                    \"data-type\": \"onlySelectedShapeWithHandles\",\n                    \"data-html2canvas-ignore\": \"true\",\n                    bounds: selectionBounds,\n                    zIndex: 10003,\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(SVGContainer, {\n                      children: Object.entries((_a3 = onlySelectedShapeWithHandles.props.handles) != null ? _a3 : {}).map(\n                        ([id4, handle]) => React31.createElement(components.Handle, {\n                          key: `${handle.id}_handle_${handle.id}`,\n                          shape: onlySelectedShapeWithHandles,\n                          handle,\n                          id: id4\n                        })\n                      )\n                    })\n                  }),\n                  selectedShapes && components.SelectionDetail && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(SelectionDetailContainer, {\n                    \"data-html2canvas-ignore\": \"true\",\n                    shapes: selectedShapes,\n                    bounds: selectionBounds,\n                    detail: showSelectionRotation ? \"rotation\" : \"size\",\n                    hidden: !showSelectionDetail,\n                    rotation: selectionRotation\n                  }, \"detail\" + selectedShapes.map((shape) => shape.id).join(\"\"))\n                ]\n              })\n            ]\n          }),\n          selectionDirectionHint && selectionBounds && selectedShapes && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(DirectionIndicator, {\n            direction: selectionDirectionHint,\n            bounds: selectionBounds,\n            shapes: selectedShapes\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(\"div\", {\n            id: \"tl-dev-tools-canvas-anchor\",\n            \"data-html2canvas-ignore\": \"true\"\n          })\n        ]\n      })),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(HTMLLayer, {\n        children: selectedShapes && selectionBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(import_jsx_runtime25.Fragment, {\n          children: selectedShapes && components.ContextBar && \/* @__PURE__ *\/ (0, import_jsx_runtime25.jsx)(ContextBarContainer, {\n            shapes: selectedShapes.filter((s2) => !s2.props.isLocked),\n            hidden: !showContextBar,\n            bounds: singleSelectedShape ? singleSelectedShape.bounds : selectionBounds,\n            rotation: singleSelectedShape ? singleSelectedShape.props.rotation : 0\n          }, \"context\" + selectedShapes.map((shape) => shape.id).join(\"\"))\n        })\n      }),\n      children\n    ]\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/RendererContext.tsx\nvar React33 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/packages\/react\/src\/components\/SVGLayer\/SVGLayer.tsx\nvar React32 = __toESM(require(\"react\"));\nvar import_jsx_runtime26 = require(\"react\/jsx-runtime\");\nvar SVGLayer = observer(function SVGLayer2({ children }) {\n  const rGroup = React32.useRef(null);\n  const { viewport } = useRendererContext();\n  React32.useEffect(\n    () => autorun(() => {\n      const group = rGroup.current;\n      if (!group)\n        return;\n      const { zoom, point } = viewport.camera;\n      group.style.transform = `scale(${zoom}) translateX(${point[0]}px) translateY(${point[1]}px)`;\n    }),\n    []\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime26.jsx)(\"svg\", {\n    className: \"tl-absolute tl-overlay\",\n    pointerEvents: \"none\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime26.jsx)(\"g\", {\n      ref: rGroup,\n      pointerEvents: \"none\",\n      children\n    })\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/AppProvider.tsx\nvar import_jsx_runtime27 = require(\"react\/jsx-runtime\");\nvar AppProvider = observer(function App(props) {\n  const app = useAppSetup(props);\n  const context = getAppContext(props.id);\n  usePropControl(app, props);\n  useSetup(app, props);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime27.jsx)(context.Provider, {\n    value: app,\n    children: props.children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/RendererContext.tsx\nvar import_jsx_runtime28 = require(\"react\/jsx-runtime\");\nvar RendererContext = observer(function App2({\n  id: id3 = \"noid\",\n  viewport,\n  inputs,\n  callbacks = EMPTY_OBJECT,\n  meta = EMPTY_OBJECT,\n  components = EMPTY_OBJECT,\n  children\n}) {\n  const [currentContext, setCurrentContext] = React33.useState(() => {\n    const _a3 = components, {\n      Brush: Brush3,\n      ContextBar: ContextBar2,\n      DirectionIndicator: DirectionIndicator3,\n      Grid: Grid3,\n      Handle: Handle3,\n      SelectionBackground: SelectionBackground3,\n      SelectionDetail: SelectionDetail4,\n      SelectionForeground: SelectionForeground3\n    } = _a3, rest = __objRest(_a3, [\n      \"Brush\",\n      \"ContextBar\",\n      \"DirectionIndicator\",\n      \"Grid\",\n      \"Handle\",\n      \"SelectionBackground\",\n      \"SelectionDetail\",\n      \"SelectionForeground\"\n    ]);\n    return {\n      id: id3,\n      viewport,\n      inputs,\n      callbacks,\n      meta,\n      components: __spreadProps(__spreadValues({}, rest), {\n        Brush: Brush3 === null ? void 0 : Brush,\n        ContextBar: ContextBar2,\n        DirectionIndicator: DirectionIndicator3 === null ? void 0 : DirectionIndicator,\n        Grid: Grid3 === null ? void 0 : Grid,\n        Handle: Handle3 === null ? void 0 : Handle,\n        SelectionBackground: SelectionBackground3 === null ? void 0 : SelectionBackground,\n        SelectionDetail: SelectionDetail4 === null ? void 0 : SelectionDetail2,\n        SelectionForeground: SelectionForeground3 === null ? void 0 : SelectionForeground\n      })\n    };\n  });\n  React33.useLayoutEffect(() => {\n    const _a3 = components, {\n      Brush: Brush3,\n      ContextBar: ContextBar2,\n      DirectionIndicator: DirectionIndicator3,\n      Grid: Grid3,\n      Handle: Handle3,\n      SelectionBackground: SelectionBackground3,\n      SelectionDetail: SelectionDetail4,\n      SelectionForeground: SelectionForeground3\n    } = _a3, rest = __objRest(_a3, [\n      \"Brush\",\n      \"ContextBar\",\n      \"DirectionIndicator\",\n      \"Grid\",\n      \"Handle\",\n      \"SelectionBackground\",\n      \"SelectionDetail\",\n      \"SelectionForeground\"\n    ]);\n    return autorun(() => {\n      setCurrentContext({\n        id: id3,\n        viewport,\n        inputs,\n        callbacks,\n        meta,\n        components: __spreadProps(__spreadValues({}, rest), {\n          Brush: Brush3 === null ? void 0 : Brush,\n          ContextBar: ContextBar2,\n          DirectionIndicator: DirectionIndicator3 === null ? void 0 : DirectionIndicator,\n          Grid: Grid3 === null ? void 0 : Grid,\n          Handle: Handle3 === null ? void 0 : Handle,\n          SelectionBackground: SelectionBackground3 === null ? void 0 : SelectionBackground,\n          SelectionDetail: SelectionDetail4 === null ? void 0 : SelectionDetail2,\n          SelectionForeground: SelectionForeground3 === null ? void 0 : SelectionForeground\n        })\n      });\n    });\n  }, []);\n  const context = getRendererContext(id3);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime28.jsx)(context.Provider, {\n    value: currentContext,\n    children\n  });\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/Renderer\/Renderer.tsx\nvar import_jsx_runtime29 = require(\"react\/jsx-runtime\");\nfunction Renderer2(_a3) {\n  var _b = _a3, {\n    viewport,\n    inputs,\n    callbacks,\n    components\n  } = _b, rest = __objRest(_b, [\n    \"viewport\",\n    \"inputs\",\n    \"callbacks\",\n    \"components\"\n  ]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime29.jsx)(RendererContext, {\n    id: rest.id,\n    viewport,\n    inputs,\n    callbacks,\n    components,\n    meta: rest.meta,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime29.jsx)(Canvas, __spreadValues({}, rest))\n  });\n}\n\n\/\/ ..\/..\/packages\/react\/src\/components\/AppCanvas.tsx\nvar import_jsx_runtime30 = require(\"react\/jsx-runtime\");\nvar AppCanvas = observer(function InnerApp(props) {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime30.jsx)(Renderer2, __spreadValues({\n    viewport: app.viewport,\n    inputs: app.inputs,\n    callbacks: app._events,\n    brush: app.brush,\n    editingShape: app.editingShape,\n    hoveredShape: app.hoveredShape,\n    hoveredGroup: app.hoveredGroup,\n    bindingShapes: app.bindingShapes,\n    selectionDirectionHint: app.selectionDirectionHint,\n    selectionBounds: app.selectionBounds,\n    selectedShapes: app.selectedShapesArray,\n    erasingShapes: app.erasingShapesArray,\n    shapes: app.shapes,\n    assets: app.assets,\n    showGrid: app.settings.showGrid,\n    penMode: app.settings.penMode,\n    showSelection: app.showSelection,\n    showSelectionRotation: app.showSelectionRotation,\n    showResizeHandles: app.showResizeHandles,\n    showRotateHandles: app.showRotateHandles,\n    showCloneHandles: app.showCloneHandles,\n    showSelectionDetail: app.showSelectionDetail,\n    showContextBar: app.showContextBar,\n    cursor: app.cursors.cursor,\n    cursorRotation: app.cursors.rotation,\n    selectionRotation: app.selectionRotation,\n    onEditingEnd: app.clearEditingState\n  }, props));\n});\n\n\/\/ ..\/..\/packages\/react\/src\/components\/App.tsx\nvar import_jsx_runtime31 = require(\"react\/jsx-runtime\");\n\n\/\/ ..\/..\/packages\/react\/src\/index.ts\nfunction getContextBarTranslation(barSize, offset) {\n  let x2 = 0;\n  let y2 = 0;\n  if (offset.top < 116) {\n    y2 = offset.height \/ 2 + 40;\n    if (offset.bottom < 140) {\n      y2 += offset.bottom - 140;\n    }\n  } else {\n    y2 = -(offset.height \/ 2 + 40);\n  }\n  if (offset.left + offset.width \/ 2 - barSize[0] \/ 2 < 16) {\n    x2 += -(offset.left + offset.width \/ 2 - barSize[0] \/ 2 - 16);\n  } else if (offset.right + offset.width \/ 2 - barSize[0] \/ 2 < 16) {\n    x2 += offset.right + offset.width \/ 2 - barSize[0] \/ 2 - 16;\n  }\n  return [x2, y2];\n}\n\n\/\/ src\/app.tsx\nvar React69 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ActionBar\/ActionBar.tsx\nvar React36 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/icons\/TablerIcon.tsx\nvar import_jsx_runtime32 = require(\"react\/jsx-runtime\");\nvar extendedIcons = [\n  \"add-link\",\n  \"block-search\",\n  \"block\",\n  \"connector\",\n  \"group\",\n  \"internal-link\",\n  \"link-to-block\",\n  \"link-to-page\",\n  \"link-to-whiteboard\",\n  \"move-to-sidebar-right\",\n  \"object-compact\",\n  \"object-expanded\",\n  \"open-as-page\",\n  \"page-search\",\n  \"page\",\n  \"references-hide\",\n  \"references-show\",\n  \"select-cursor\",\n  \"text\",\n  \"ungroup\",\n  \"whiteboard-element\",\n  \"whiteboard\"\n];\nvar cx = (...args) => args.join(\" \");\nvar TablerIcon = (_a3) => {\n  var _b = _a3, {\n    name,\n    className\n  } = _b, props = __objRest(_b, [\n    \"name\",\n    \"className\"\n  ]);\n  const classNamePrefix = extendedIcons.includes(name) ? `tie tie-` : `ti ti-`;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime32.jsx)(\"i\", __spreadValues({\n    className: cx(classNamePrefix + name, className)\n  }, props));\n};\n\n\/\/ src\/components\/Tooltip\/Tooltip.tsx\nvar import_jsx_runtime33 = require(\"react\/jsx-runtime\");\nvar LSUI = window.LSUI;\nfunction Tooltip(_a3) {\n  var _b = _a3, { side, content, sideOffset = 10 } = _b, rest = __objRest(_b, [\"side\", \"content\", \"sideOffset\"]);\n  return content ? \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipProvider, {\n    delayDuration: 300,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsxs)(LSUI.Tooltip, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipTrigger, {\n          asChild: true,\n          children: rest.children\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsxs)(LSUI.TooltipContent, __spreadProps(__spreadValues({\n          sideOffset,\n          side\n        }, rest), {\n          children: [\n            content,\n            \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(LSUI.TooltipArrow, {\n              className: \"popper-arrow\"\n            })\n          ]\n        }))\n      ]\n    })\n  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime33.jsx)(import_jsx_runtime33.Fragment, {\n    children: rest.children\n  });\n}\n\n\/\/ src\/components\/Button\/Button.tsx\nvar import_jsx_runtime34 = require(\"react\/jsx-runtime\");\nfunction Button(_a3) {\n  var _b = _a3, { className, tooltip, tooltipSide } = _b, rest = __objRest(_b, [\"className\", \"tooltip\", \"tooltipSide\"]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime34.jsx)(Tooltip, {\n    content: tooltip,\n    side: tooltipSide,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime34.jsx)(\"button\", __spreadValues({\n      className: \"tl-button \" + (className != null ? className : \"\")\n    }, rest))\n  });\n}\n\n\/\/ src\/components\/Button\/CircleButton.tsx\nvar import_jsx_runtime35 = require(\"react\/jsx-runtime\");\nvar CircleButton = ({\n  style,\n  icon,\n  onClick\n}) => {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(\"button\", {\n    \"data-html2canvas-ignore\": \"true\",\n    style,\n    className: \"tl-circle-button\",\n    onPointerDown: onClick,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(\"div\", {\n      className: \"tl-circle-button-icons-wrapper\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime35.jsx)(TablerIcon, {\n        name: icon\n      })\n    })\n  });\n};\n\n\/\/ src\/components\/inputs\/ToggleInput.tsx\nvar import_jsx_runtime36 = require(\"react\/jsx-runtime\");\nvar LSUI2 = window.LSUI;\nfunction ToggleInput(_a3) {\n  var _b = _a3, {\n    toggle = true,\n    pressed,\n    onPressedChange,\n    className,\n    tooltip\n  } = _b, rest = __objRest(_b, [\n    \"toggle\",\n    \"pressed\",\n    \"onPressedChange\",\n    \"className\",\n    \"tooltip\"\n  ]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(Tooltip, {\n    content: tooltip,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(\"div\", {\n      className: \"inline-flex\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime36.jsx)(LSUI2.Toggle, __spreadProps(__spreadValues({}, rest), {\n        \"data-toggle\": toggle,\n        className: \"tl-button\" + (className ? \" \" + className : \"\"),\n        pressed,\n        onPressedChange\n      }))\n    })\n  });\n}\n\n\/\/ src\/lib\/logseq-context.ts\nvar import_react12 = __toESM(require(\"react\"));\nvar LogseqContext = import_react12.default.createContext({});\n\n\/\/ src\/components\/KeyboardShortcut\/KeyboardShortcut.tsx\nvar React35 = __toESM(require(\"react\"));\nvar import_jsx_runtime37 = require(\"react\/jsx-runtime\");\nvar KeyboardShortcut = (_a3) => {\n  var _b = _a3, {\n    action: action2,\n    shortcut,\n    opts\n  } = _b, props = __objRest(_b, [\n    \"action\",\n    \"shortcut\",\n    \"opts\"\n  ]);\n  const { renderers } = React35.useContext(LogseqContext);\n  const Shortcut = renderers == null ? void 0 : renderers.KeyboardShortcut;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime37.jsx)(\"div\", __spreadProps(__spreadValues({\n    className: \"tl-menu-right-slot\"\n  }, props), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime37.jsx)(Shortcut, {\n      action: action2,\n      shortcut,\n      opts\n    })\n  }));\n};\n\n\/\/ src\/components\/ZoomMenu\/ZoomMenu.tsx\nvar import_jsx_runtime38 = require(\"react\/jsx-runtime\");\nvar LSUI3 = window.LSUI;\nvar ZoomMenu = observer(function ZoomMenu2() {\n  const app = useApp();\n  const preventEvent = (e) => {\n    e.preventDefault();\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenu, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(LSUI3.DropdownMenuTrigger, {\n        className: \"tl-button text-sm px-2 important\",\n        id: \"tl-zoom\",\n        children: (app.viewport.camera.zoom * 100).toFixed(0) + \"%\"\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuContent, {\n        onCloseAutoFocus: (e) => e.preventDefault(),\n        id: \"zoomPopup\",\n        sideOffset: 12,\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomToFit,\n            children: [\n              \"Zoom to drawing\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-to-fit\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomToSelection,\n            disabled: app.selectedShapesArray.length === 0,\n            children: [\n              \"Zoom to fit selection\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-to-selection\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomIn,\n            children: [\n              \"Zoom in\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-in\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.zoomOut,\n            children: [\n              \"Zoom out\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/zoom-out\"\n              })\n            ]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsxs)(LSUI3.DropdownMenuItem, {\n            onSelect: preventEvent,\n            onClick: app.api.resetZoom,\n            children: [\n              \"Reset zoom\",\n              \/* @__PURE__ *\/ (0, import_jsx_runtime38.jsx)(KeyboardShortcut, {\n                action: \"whiteboard\/reset-zoom\"\n              })\n            ]\n          })\n        ]\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/ActionBar\/ActionBar.tsx\nvar import_jsx_runtime39 = require(\"react\/jsx-runtime\");\nvar LSUI4 = window.LSUI;\nvar ActionBar = observer(function ActionBar2() {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = React36.useContext(LogseqContext);\n  const undo = React36.useCallback(() => {\n    app.api.undo();\n  }, [app]);\n  const redo = React36.useCallback(() => {\n    app.api.redo();\n  }, [app]);\n  const zoomIn = React36.useCallback(() => {\n    app.api.zoomIn();\n  }, [app]);\n  const zoomOut = React36.useCallback(() => {\n    app.api.zoomOut();\n  }, [app]);\n  const toggleGrid = React36.useCallback(() => {\n    app.api.toggleGrid();\n  }, [app]);\n  const toggleSnapToGrid = React36.useCallback(() => {\n    app.api.toggleSnapToGrid();\n  }, [app]);\n  const togglePenMode = React36.useCallback(() => {\n    app.api.togglePenMode();\n  }, [app]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n    className: \"tl-action-bar\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-history-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/undo\"),\n            onClick: undo,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"arrow-back-up\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/redo\"),\n            onClick: redo,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"arrow-forward-up\"\n            })\n          })\n        ]\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-zoom-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/zoom-in\"),\n            onClick: zoomIn,\n            id: \"tl-zoom-in\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"plus\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(Button, {\n            tooltip: t(\"whiteboard\/zoom-out\"),\n            onClick: zoomOut,\n            id: \"tl-zoom-out\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"minus\"\n            })\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(LSUI4.Separator, {\n            orientation: \"vertical\"\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ZoomMenu, {})\n        ]\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsxs)(\"div\", {\n        className: \"tl-toolbar tl-grid-bar mr-2 mb-2\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n            tooltip: t(\"whiteboard\/toggle-grid\"),\n            className: \"tl-button\",\n            pressed: app.settings.showGrid,\n            id: \"tl-show-grid\",\n            onPressedChange: toggleGrid,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: \"grid-dots\"\n            })\n          }),\n          !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n            tooltip: t(\"whiteboard\/snap-to-grid\"),\n            className: \"tl-button\",\n            pressed: app.settings.snapToGrid,\n            id: \"tl-snap-to-grid\",\n            onPressedChange: toggleSnapToGrid,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n              name: app.settings.snapToGrid ? \"magnet\" : \"magnet-off\"\n            })\n          })\n        ]\n      }),\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(\"div\", {\n        className: \"tl-toolbar tl-pen-mode-bar mb-2\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(ToggleInput, {\n          tooltip: t(\"whiteboard\/toggle-pen-mode\"),\n          className: \"tl-button\",\n          pressed: app.settings.penMode,\n          id: \"tl-toggle-pen-mode\",\n          onPressedChange: togglePenMode,\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime39.jsx)(TablerIcon, {\n            name: app.settings.penMode ? \"pencil\" : \"pencil-off\"\n          })\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/Devtools\/Devtools.tsx\nvar import_react16 = __toESM(require(\"react\"));\nvar import_react_dom2 = __toESM(require(\"react-dom\"));\nvar import_jsx_runtime40 = require(\"react\/jsx-runtime\");\nvar printPoint = (point) => {\n  return `[${point.map((d2) => {\n    var _a3;\n    return (_a3 = d2 == null ? void 0 : d2.toFixed(2)) != null ? _a3 : \"-\";\n  }).join(\", \")}]`;\n};\nvar DevTools = observer(() => {\n  var _a3;\n  const {\n    viewport: {\n      bounds,\n      camera: { point, zoom }\n    },\n    inputs\n  } = useRendererContext();\n  const statusbarAnchorRef = import_react16.default.useRef();\n  import_react16.default.useEffect(() => {\n    const statusbarAnchor = document.getElementById(\"tl-statusbar-anchor\");\n    statusbarAnchorRef.current = statusbarAnchor;\n  }, []);\n  const rendererStatusText = [\n    [\"Z\", (_a3 = zoom == null ? void 0 : zoom.toFixed(2)) != null ? _a3 : \"null\"],\n    [\"MP\", printPoint(inputs.currentPoint)],\n    [\"MS\", printPoint(inputs.currentScreenPoint)],\n    [\"VP\", printPoint(point)],\n    [\"VBR\", printPoint([bounds.maxX, bounds.maxY])]\n  ].map((p2) => p2.join(\"\")).join(\"|\");\n  const rendererStatus = statusbarAnchorRef.current ? import_react_dom2.default.createPortal(\n    \/* @__PURE__ *\/ (0, import_jsx_runtime40.jsx)(\"div\", {\n      style: {\n        flex: 1,\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      children: rendererStatusText\n    }),\n    statusbarAnchorRef.current\n  ) : null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime40.jsx)(import_jsx_runtime40.Fragment, {\n    children: rendererStatus\n  });\n});\n\n\/\/ src\/components\/PrimaryTools\/PrimaryTools.tsx\nvar React42 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ToolButton\/ToolButton.tsx\nvar import_jsx_runtime41 = require(\"react\/jsx-runtime\");\nvar ToolButton = observer(\n  (_a3) => {\n    var _b = _a3, { id: id3, icon, tooltip, tooltipSide = \"left\", handleClick } = _b, props = __objRest(_b, [\"id\", \"icon\", \"tooltip\", \"tooltipSide\", \"handleClick\"]);\n    var _a4;\n    const app = useApp();\n    const Tool = (_a4 = [...app.Tools, TLSelectTool, TLMoveTool]) == null ? void 0 : _a4.find((T2) => T2.id === id3);\n    const shortcut = Tool == null ? void 0 : Tool[\"shortcut\"];\n    const tooltipContent = shortcut && tooltip ? \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsxs)(\"div\", {\n      className: \"flex\",\n      children: [\n        tooltip,\n        \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(KeyboardShortcut, {\n          action: shortcut\n        })\n      ]\n    }) : tooltip;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(Button, __spreadProps(__spreadValues({}, props), {\n      tooltipSide,\n      tooltip: tooltipContent,\n      \"data-tool\": id3,\n      \"data-selected\": id3 === app.selectedTool.id,\n      onClick: handleClick,\n      children: typeof icon === \"string\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime41.jsx)(TablerIcon, {\n        name: icon\n      }) : icon\n    }));\n  }\n);\n\n\/\/ src\/components\/GeometryTools\/GeometryTools.tsx\nvar import_react18 = __toESM(require(\"react\"));\nvar import_jsx_runtime42 = require(\"react\/jsx-runtime\");\nvar LSUI5 = window.LSUI;\nvar GeometryTools = observer(function GeometryTools2(_a3) {\n  var _b = _a3, {\n    popoverSide = \"left\",\n    setGeometry,\n    activeGeometry,\n    chevron = true\n  } = _b, rest = __objRest(_b, [\n    \"popoverSide\",\n    \"setGeometry\",\n    \"activeGeometry\",\n    \"chevron\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react18.default.useContext(LogseqContext);\n  const geometries = [\n    {\n      id: \"box\",\n      icon: \"square\",\n      tooltip: t(\"whiteboard\/rectangle\")\n    },\n    {\n      id: \"ellipse\",\n      icon: \"circle\",\n      tooltip: t(\"whiteboard\/circle\")\n    },\n    {\n      id: \"polygon\",\n      icon: \"triangle\",\n      tooltip: t(\"whiteboard\/triangle\")\n    }\n  ];\n  const shapes2 = {\n    id: \"shapes\",\n    icon: \"triangle-square-circle\",\n    tooltip: t(\"whiteboard\/shape\")\n  };\n  const activeTool = activeGeometry ? geometries.find((geo) => geo.id === activeGeometry) : shapes2;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsxs)(LSUI5.Popover, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(LSUI5.PopoverTrigger, {\n        asChild: true,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsxs)(\"div\", __spreadProps(__spreadValues({}, rest), {\n          className: \"tl-geometry-tools-pane-anchor\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(ToolButton, __spreadProps(__spreadValues({}, activeTool), {\n              tooltipSide: popoverSide\n            })),\n            chevron && \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(TablerIcon, {\n              \"data-selected\": activeGeometry,\n              className: \"tl-popover-indicator\",\n              name: \"chevron-down-left\"\n            })\n          ]\n        }))\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(LSUI5.PopoverContent, {\n        className: \"p-0 w-auto\",\n        side: popoverSide,\n        sideOffset: 15,\n        collisionBoundary: document.querySelector(\".logseq-tldraw\"),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(\"div\", {\n          className: `tl-toolbar tl-geometry-toolbar ${[\"left\", \"right\"].includes(popoverSide) ? \"flex-col\" : \"flex-row\"}`,\n          children: geometries.map((props) => \/* @__PURE__ *\/ (0, import_jsx_runtime42.jsx)(ToolButton, {\n            id: props.id,\n            icon: props.icon,\n            handleClick: setGeometry,\n            tooltipSide: popoverSide\n          }, props.id))\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/PopoverButton\/PopoverButton.tsx\nvar import_jsx_runtime43 = require(\"react\/jsx-runtime\");\nvar LSUI6 = window.LSUI;\nfunction PopoverButton(_a3) {\n  var _b = _a3, { side, align, alignOffset, label, children, border } = _b, rest = __objRest(_b, [\"side\", \"align\", \"alignOffset\", \"label\", \"children\", \"border\"]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsxs)(LSUI6.Popover, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsx)(LSUI6.PopoverTrigger, __spreadProps(__spreadValues({}, rest), {\n        \"data-border\": border,\n        className: \"tl-button tl-popover-trigger-button\",\n        children: label\n      })),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsxs)(LSUI6.PopoverContent, {\n        className: \"w-auto p-1\",\n        align,\n        alignOffset,\n        side,\n        sideOffset: 15,\n        collisionBoundary: document.querySelector(\".logseq-tldraw\"),\n        children: [\n          children,\n          \/* @__PURE__ *\/ (0, import_jsx_runtime43.jsx)(LSUI6.PopoverArrow, {\n            className: \"popper-arrow\"\n          })\n        ]\n      })\n    ]\n  });\n}\n\n\/\/ src\/components\/inputs\/ColorInput.tsx\nvar import_react19 = __toESM(require(\"react\"));\nvar import_jsx_runtime44 = require(\"react\/jsx-runtime\");\nvar LSUI7 = window.LSUI;\nfunction ColorInput(_a3) {\n  var _b = _a3, {\n    color,\n    opacity,\n    popoverSide,\n    setColor,\n    setOpacity\n  } = _b, rest = __objRest(_b, [\n    \"color\",\n    \"opacity\",\n    \"popoverSide\",\n    \"setColor\",\n    \"setOpacity\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react19.default.useContext(LogseqContext);\n  function renderColor(color2) {\n    return color2 ? \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n      className: \"tl-color-bg\",\n      style: { backgroundColor: color2 },\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n        className: `w-full h-full bg-${color2}-500`\n      })\n    }) : \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n      className: \"tl-color-bg\",\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(TablerIcon, {\n        name: \"color-swatch\"\n      })\n    });\n  }\n  function isHexColor(color2) {\n    return \/^#(?:[0-9a-f]{3}){1,2}$\/i.test(color2);\n  }\n  const handleChangeDebounced = import_react19.default.useMemo(() => {\n    let latestValue = \"\";\n    const handler = (e) => {\n      setColor(latestValue);\n    };\n    return debounce(handler, 100, (e) => {\n      latestValue = e.target.value;\n    });\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(PopoverButton, __spreadProps(__spreadValues({}, rest), {\n    border: true,\n    side: popoverSide,\n    label: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(Tooltip, {\n      content: t(\"whiteboard\/color\"),\n      side: popoverSide,\n      sideOffset: 14,\n      children: renderColor(color)\n    }),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(\"div\", {\n      className: \"p-1\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n          className: \"tl-color-palette\",\n          children: Object.values(Color).map((value) => \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"button\", {\n            className: `tl-color-drip m-1${value === color ? \" active\" : \"\"}`,\n            onClick: () => setColor(value),\n            children: renderColor(value)\n          }, value))\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(\"div\", {\n          className: \"flex items-center tl-custom-color\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n              className: `tl-color-drip m-1 mr-3 ${!isBuiltInColor(color) ? \"active\" : \"\"}`,\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n                className: \"color-input-wrapper tl-color-bg\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"input\", __spreadValues({\n                  className: \"color-input cursor-pointer\",\n                  id: \"tl-custom-color-input\",\n                  type: \"color\",\n                  value: isHexColor(color) ? color : \"#000000\",\n                  onChange: handleChangeDebounced,\n                  style: { opacity: isBuiltInColor(color) ? 0 : 1 }\n                }, rest))\n              })\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"label\", {\n              htmlFor: \"tl-custom-color-input\",\n              className: \"text-xs cursor-pointer\",\n              children: t(\"whiteboard\/select-custom-color\")\n            })\n          ]\n        }),\n        setOpacity && \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(\"div\", {\n          className: \"mx-1 my-2\",\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsxs)(LSUI7.Slider, {\n            defaultValue: [opacity != null ? opacity : 0],\n            onValueCommit: (value) => setOpacity(value[0]),\n            max: 1,\n            step: 0.1,\n            \"aria-label\": t(\"whiteboard\/opacity\"),\n            className: \"tl-slider-root\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderTrack, {\n                className: \"tl-slider-track\",\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderRange, {\n                  className: \"tl-slider-range\"\n                })\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime44.jsx)(LSUI7.SliderThumb, {\n                className: \"tl-slider-thumb\"\n              })\n            ]\n          })\n        })\n      ]\n    })\n  }));\n}\n\n\/\/ src\/components\/inputs\/SelectInput.tsx\nvar React40 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/createLucideIcon.js\nvar import_react20 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/defaultAttributes.js\nvar defaultAttributes = {\n  xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/createLucideIcon.js\nvar toKebabCase = (string) => string.replace(\/([a-z0-9])([A-Z])\/g, \"$1-$2\").toLowerCase();\nvar createLucideIcon = (iconName, iconNode) => {\n  const Component = (0, import_react20.forwardRef)(\n    (_a3, ref) => {\n      var _b = _a3, { color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children } = _b, rest = __objRest(_b, [\"color\", \"size\", \"strokeWidth\", \"absoluteStrokeWidth\", \"children\"]);\n      return (0, import_react20.createElement)(\n        \"svg\",\n        __spreadValues(__spreadProps(__spreadValues({\n          ref\n        }, defaultAttributes), {\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 \/ Number(size) : strokeWidth,\n          className: `lucide lucide-${toKebabCase(iconName)}`\n        }), rest),\n        [\n          ...iconNode.map(([tag, attrs]) => (0, import_react20.createElement)(tag, attrs)),\n          ...(Array.isArray(children) ? children : [children]) || []\n        ]\n      );\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\n\/\/ ..\/..\/node_modules\/lucide-react\/dist\/esm\/icons\/chevron-down.js\nvar ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\n\/\/ src\/components\/inputs\/SelectInput.tsx\nvar import_jsx_runtime45 = require(\"react\/jsx-runtime\");\nvar LSUI8 = window.LSUI;\nfunction SelectInput(_a3) {\n  var _b = _a3, {\n    options,\n    tooltip,\n    popoverSide,\n    compact = false,\n    value,\n    onValueChange\n  } = _b, rest = __objRest(_b, [\n    \"options\",\n    \"tooltip\",\n    \"popoverSide\",\n    \"compact\",\n    \"value\",\n    \"onValueChange\"\n  ]);\n  const [isOpen, setIsOpen] = React40.useState(false);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(\"div\", __spreadProps(__spreadValues({}, rest), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsxs)(LSUI8.Select, {\n      open: isOpen,\n      onOpenChange: setIsOpen,\n      value,\n      onValueChange,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(Tooltip, {\n          content: tooltip,\n          side: popoverSide,\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsxs)(LSUI8.SelectTrigger, {\n            className: `tl-select-trigger ${compact ? \"compact\" : \"\"}`,\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectValue, {}),\n              !compact && \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectIcon, {\n                asChild: true,\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(ChevronDown, {\n                  className: \"h-4 w-4 opacity-50\"\n                })\n              })\n            ]\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectContent, {\n          className: \"min-w-min\",\n          side: popoverSide,\n          position: \"popper\",\n          sideOffset: 14,\n          align: \"center\",\n          onKeyDown: (e) => e.stopPropagation(),\n          children: options.map((option) => {\n            return \/* @__PURE__ *\/ (0, import_jsx_runtime45.jsx)(LSUI8.SelectItem, {\n              value: option.value,\n              children: option.label\n            }, option.value);\n          })\n        })\n      ]\n    })\n  }));\n}\n\n\/\/ src\/components\/inputs\/ScaleInput.tsx\nvar import_react22 = __toESM(require(\"react\"));\nvar import_jsx_runtime46 = require(\"react\/jsx-runtime\");\nfunction ScaleInput(_a3) {\n  var _b = _a3, { scaleLevel, compact, popoverSide } = _b, rest = __objRest(_b, [\"scaleLevel\", \"compact\", \"popoverSide\"]);\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react22.default.useContext(LogseqContext);\n  const sizeOptions = [\n    {\n      label: compact ? \"XS\" : t(\"whiteboard\/extra-small\"),\n      value: \"xs\"\n    },\n    {\n      label: compact ? \"SM\" : t(\"whiteboard\/small\"),\n      value: \"sm\"\n    },\n    {\n      label: compact ? \"MD\" : t(\"whiteboard\/medium\"),\n      value: \"md\"\n    },\n    {\n      label: compact ? \"LG\" : t(\"whiteboard\/large\"),\n      value: \"lg\"\n    },\n    {\n      label: compact ? \"XL\" : t(\"whiteboard\/extra-large\"),\n      value: \"xl\"\n    },\n    {\n      label: compact ? \"XXL\" : t(\"whiteboard\/huge\"),\n      value: \"xxl\"\n    }\n  ];\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime46.jsx)(SelectInput, {\n    tooltip: t(\"whiteboard\/scale-level\"),\n    options: sizeOptions,\n    value: scaleLevel,\n    popoverSide,\n    compact,\n    onValueChange: (v2) => {\n      app.api.setScaleLevel(v2);\n    }\n  });\n}\n\n\/\/ src\/components\/PrimaryTools\/PrimaryTools.tsx\nvar import_jsx_runtime47 = require(\"react\/jsx-runtime\");\nvar LSUI9 = window.LSUI;\nvar PrimaryTools = observer(function PrimaryTools2() {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = React42.useContext(LogseqContext);\n  const handleSetColor = React42.useCallback((color) => {\n    app.api.setColor(color);\n  }, []);\n  const handleToolClick = React42.useCallback((e) => {\n    const tool = e.currentTarget.dataset.tool;\n    if (tool)\n      app.selectTool(tool);\n  }, []);\n  const [activeGeomId, setActiveGeomId] = React42.useState(\n    () => {\n      var _a3;\n      return (_a3 = Object.values(Geometry).find((geo) => geo === app.selectedTool.id)) != null ? _a3 : Object.values(Geometry)[0];\n    }\n  );\n  React42.useEffect(() => {\n    setActiveGeomId((prevId) => {\n      var _a3;\n      return (_a3 = Object.values(Geometry).find((geo) => geo === app.selectedTool.id)) != null ? _a3 : prevId;\n    });\n  }, [app.selectedTool.id]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(\"div\", {\n    className: \"tl-primary-tools\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsxs)(\"div\", {\n      className: \"tl-toolbar tl-tools-floating-panel\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"select\"),\n          tooltip: t(\"whiteboard\/select\"),\n          id: \"select\",\n          icon: \"select-cursor\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"move\"),\n          tooltip: t(\"whiteboard\/pan\"),\n          id: \"move\",\n          icon: app.isIn(\"move.panning\") ? \"hand-grab\" : \"hand-stop\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(LSUI9.Separator, {\n          orientation: \"horizontal\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"logseq-portal\"),\n          tooltip: t(\"whiteboard\/add-block-or-page\"),\n          id: \"logseq-portal\",\n          icon: \"circle-plus\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"pencil\"),\n          tooltip: t(\"whiteboard\/draw\"),\n          id: \"pencil\",\n          icon: \"ballpen\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"highlighter\"),\n          tooltip: t(\"whiteboard\/highlight\"),\n          id: \"highlighter\",\n          icon: \"highlight\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"erase\"),\n          tooltip: t(\"whiteboard\/eraser\"),\n          id: \"erase\",\n          icon: \"eraser\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"line\"),\n          tooltip: t(\"whiteboard\/connector\"),\n          id: \"line\",\n          icon: \"connector\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ToolButton, {\n          handleClick: () => app.selectTool(\"text\"),\n          tooltip: t(\"whiteboard\/text\"),\n          id: \"text\",\n          icon: \"text\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(GeometryTools, {\n          activeGeometry: activeGeomId,\n          setGeometry: handleToolClick\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(LSUI9.Separator, {\n          orientation: \"horizontal\",\n          style: { margin: \"0 -4px\" }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ColorInput, {\n          popoverSide: \"left\",\n          color: app.settings.color,\n          setColor: handleSetColor\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime47.jsx)(ScaleInput, {\n          scaleLevel: app.settings.scaleLevel,\n          popoverSide: \"left\",\n          compact: true\n        })\n      ]\n    })\n  });\n});\n\n\/\/ src\/components\/StatusBar\/StatusBar.tsx\nvar import_jsx_runtime48 = require(\"react\/jsx-runtime\");\nvar StatusBar = observer(function StatusBar2() {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsxs)(\"div\", {\n    className: \"tl-statusbar\",\n    \"data-html2canvas-ignore\": \"true\",\n    children: [\n      app.selectedTool.id,\n      \" | \",\n      app.selectedTool.currentState.id,\n      \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsx)(\"div\", {\n        style: { flex: 1 }\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime48.jsx)(\"div\", {\n        id: \"tl-statusbar-anchor\",\n        className: \"flex gap-1\"\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/AppUI.tsx\nvar import_jsx_runtime49 = require(\"react\/jsx-runtime\");\nvar AppUI = observer(function AppUI2() {\n  const app = useApp();\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsxs)(import_jsx_runtime49.Fragment, {\n    children: [\n      isDev() && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(StatusBar, {}),\n      isDev() && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(DevTools, {}),\n      !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(PrimaryTools, {}),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime49.jsx)(ActionBar, {})\n    ]\n  });\n});\n\n\/\/ src\/components\/ContextBar\/ContextBar.tsx\nvar React62 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/ContextBar\/contextBarActionFactory.tsx\nvar import_react52 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/inputs\/ShapeLinksInput.tsx\nvar import_react50 = __toESM(require(\"react\"));\n\n\/\/ src\/components\/BlockLink\/BlockLink.tsx\nvar import_react26 = __toESM(require(\"react\"));\nvar import_jsx_runtime50 = require(\"react\/jsx-runtime\");\nvar BlockLink = ({\n  id: id3,\n  showReferenceContent = false\n}) => {\n  var _a3;\n  const {\n    handlers: { isWhiteboardPage, redirectToPage, sidebarAddBlock, queryBlockByUUID },\n    renderers: { Breadcrumb, PageName }\n  } = import_react26.default.useContext(LogseqContext);\n  let iconName = \"\";\n  let linkType = validUUID(id3) ? \"B\" : \"P\";\n  let blockContent = \"\";\n  if (validUUID(id3)) {\n    const block = queryBlockByUUID(id3);\n    if (!block) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(\"span\", {\n        className: \"p-2\",\n        children: \"Invalid reference. Did you remove it?\"\n      });\n    }\n    blockContent = block.title;\n    if (((_a3 = block.properties) == null ? void 0 : _a3[\"ls-type\"]) === \"whiteboard-shape\") {\n      iconName = \"link-to-whiteboard\";\n    } else {\n      iconName = \"link-to-block\";\n    }\n  } else {\n    if (isWhiteboardPage(id3)) {\n      iconName = \"link-to-whiteboard\";\n    } else {\n      iconName = \"link-to-page\";\n    }\n  }\n  const slicedContent = blockContent && blockContent.length > 23 ? blockContent.slice(0, 20) + \"...\" : blockContent;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsxs)(\"button\", {\n    className: \"inline-flex gap-1 items-center w-full\",\n    onPointerDown: (e) => {\n      e.stopPropagation();\n      if (e.shiftKey) {\n        sidebarAddBlock(id3, linkType === \"B\" ? \"block\" : \"page\");\n      } else {\n        redirectToPage(id3);\n      }\n    },\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(TablerIcon, {\n        name: iconName\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(\"span\", {\n        className: \"pointer-events-none block-link-reference-row\",\n        children: linkType === \"P\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(PageName, {\n          pageName: id3\n        }) : \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsxs)(import_jsx_runtime50.Fragment, {\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime50.jsx)(Breadcrumb, {\n              levelLimit: 1,\n              blockId: id3,\n              endSeparator: showReferenceContent\n            }),\n            showReferenceContent && slicedContent\n          ]\n        })\n      })\n    ]\n  });\n};\n\n\/\/ src\/components\/QuickSearch\/QuickSearch.tsx\nvar import_react48 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/react-urx\/dist\/react-urx.esm.js\nvar import_react27 = require(\"react\");\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/urx\/dist\/urx.esm.js\nvar PUBLISH = 0;\nvar SUBSCRIBE = 1;\nvar RESET = 2;\nvar VALUE = 4;\nfunction compose(a3, b3) {\n  return function(arg) {\n    return a3(b3(arg));\n  };\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return function(arg2) {\n    return proc(arg1, arg2);\n  };\n}\nfunction curry1to0(proc, arg) {\n  return function() {\n    return proc(arg);\n  };\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args;\n}\nfunction call2(proc) {\n  proc();\n}\nfunction always(value) {\n  return function() {\n    return value;\n  };\n}\nfunction joinProc() {\n  for (var _len2 = arguments.length, procs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    procs[_key2] = arguments[_key2];\n  }\n  return function() {\n    procs.map(call2);\n  };\n}\nfunction noop4() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  var unsub = emitter(SUBSCRIBE, function(value) {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  var subscriptions = [];\n  return function(action2, arg) {\n    switch (action2) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return function() {\n          var indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach(function(subscription) {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  var value = initial;\n  var innerSubject = stream();\n  return function(action2, arg) {\n    switch (action2) {\n      case SUBSCRIBE:\n        var subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action2, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  var unsub;\n  var currentSubscription;\n  var cleanup = function cleanup2() {\n    return unsub && unsub();\n  };\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop4;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), function(stream2) {\n    return connect(emitter, stream2);\n  });\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), function(stream2) {\n    return connect(emitter, stream2);\n  });\n}\nfunction combineOperators() {\n  for (var _len = arguments.length, operators = new Array(_len), _key = 0; _key < _len; _key++) {\n    operators[_key] = arguments[_key];\n  }\n  return function(subscriber) {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source) {\n  for (var _len2 = arguments.length, operators = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    operators[_key2 - 1] = arguments[_key2];\n  }\n  var project = combineOperators.apply(void 0, operators);\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator) {\n  if (comparator === void 0) {\n    comparator = defaultComparator;\n  }\n  var current;\n  return function(done) {\n    return function(next) {\n      if (!comparator(current, next)) {\n        current = next;\n        done(next);\n      }\n    };\n  };\n}\nfunction filter(predicate) {\n  return function(done) {\n    return function(value) {\n      predicate(value) && done(value);\n    };\n  };\n}\nfunction map2(project) {\n  return function(done) {\n    return compose(done, project);\n  };\n}\nfunction mapTo(value) {\n  return function(done) {\n    return function() {\n      return done(value);\n    };\n  };\n}\nfunction scan(scanner, initial) {\n  return function(done) {\n    return function(value) {\n      return done(initial = scanner(initial, value));\n    };\n  };\n}\nfunction skip(times) {\n  return function(done) {\n    return function(value) {\n      times > 0 ? times-- : done(value);\n    };\n  };\n}\nfunction throttleTime(interval) {\n  var currentValue;\n  var timeout;\n  return function(done) {\n    return function(value) {\n      currentValue = value;\n      if (timeout) {\n        return;\n      }\n      timeout = setTimeout(function() {\n        timeout = void 0;\n        done(currentValue);\n      }, interval);\n    };\n  };\n}\nfunction debounceTime(interval) {\n  var currentValue;\n  var timeout;\n  return function(done) {\n    return function(value) {\n      currentValue = value;\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(function() {\n        done(currentValue);\n      }, interval);\n    };\n  };\n}\nfunction withLatestFrom() {\n  for (var _len3 = arguments.length, sources = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    sources[_key3] = arguments[_key3];\n  }\n  var values = new Array(sources.length);\n  var called = 0;\n  var pendingCall = null;\n  var allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach(function(source, index2) {\n    var bit = Math.pow(2, index2);\n    subscribe(source, function(value) {\n      var prevCalled = called;\n      called = called | bit;\n      values[index2] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return function(done) {\n    return function(value) {\n      var call3 = function call4() {\n        return done([value].concat(values));\n      };\n      if (called === allCalled) {\n        call3();\n      } else {\n        pendingCall = call3;\n      }\n    };\n  };\n}\nfunction merge() {\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        return joinProc.apply(void 0, sources.map(function(source) {\n          return subscribe(source, subscription);\n        }));\n      case RESET:\n        return;\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction duc(source, comparator) {\n  if (comparator === void 0) {\n    comparator = defaultComparator;\n  }\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest() {\n  var innerSubject = stream();\n  for (var _len2 = arguments.length, emitters = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    emitters[_key2] = arguments[_key2];\n  }\n  var values = new Array(emitters.length);\n  var called = 0;\n  var allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach(function(source, index2) {\n    var bit = Math.pow(2, index2);\n    subscribe(source, function(value) {\n      values[index2] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action2, subscription) {\n    switch (action2) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(\"unrecognized action \" + action2);\n    }\n  };\n}\nfunction system(constructor, dependencies, _temp) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n  var _ref = _temp === void 0 ? {\n    singleton: true\n  } : _temp, singleton = _ref.singleton;\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nvar id = function id2() {\n  return Symbol();\n};\nfunction init(systemSpec) {\n  var singletons = \/* @__PURE__ *\/ new Map();\n  var _init = function _init2(_ref2) {\n    var id3 = _ref2.id, constructor = _ref2.constructor, dependencies = _ref2.dependencies, singleton = _ref2.singleton;\n    if (singleton && singletons.has(id3)) {\n      return singletons.get(id3);\n    }\n    var system2 = constructor(dependencies.map(function(e) {\n      return _init2(e);\n    }));\n    if (singleton) {\n      singletons.set(id3, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\n\n\/\/ ..\/..\/node_modules\/@virtuoso.dev\/react-urx\/dist\/react-urx.esm.js\nfunction _objectWithoutPropertiesLoose2(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i2;\n  for (i2 = 0; i2 < sourceKeys.length; i2++) {\n    key = sourceKeys[i2];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _unsupportedIterableToArray2(o2, minLen) {\n  if (!o2)\n    return;\n  if (typeof o2 === \"string\")\n    return _arrayLikeToArray2(o2, minLen);\n  var n2 = Object.prototype.toString.call(o2).slice(8, -1);\n  if (n2 === \"Object\" && o2.constructor)\n    n2 = o2.constructor.name;\n  if (n2 === \"Map\" || n2 === \"Set\")\n    return Array.from(o2);\n  if (n2 === \"Arguments\" || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n2))\n    return _arrayLikeToArray2(o2, minLen);\n}\nfunction _arrayLikeToArray2(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i2 = 0, arr2 = new Array(len); i2 < len; i2++)\n    arr2[i2] = arr[i2];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose2(o2, allowArrayLike) {\n  var it2 = typeof Symbol !== \"undefined\" && o2[Symbol.iterator] || o2[\"@@iterator\"];\n  if (it2)\n    return (it2 = it2.call(o2)).next.bind(it2);\n  if (Array.isArray(o2) || (it2 = _unsupportedIterableToArray2(o2)) || allowArrayLike && o2 && typeof o2.length === \"number\") {\n    if (it2)\n      o2 = it2;\n    var i2 = 0;\n    return function() {\n      if (i2 >= o2.length)\n        return {\n          done: true\n        };\n      return {\n        done: false,\n        value: o2[i2++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar _excluded2 = [\"children\"];\nfunction omit(keys, obj) {\n  var result = {};\n  var index2 = {};\n  var idx = 0;\n  var len = keys.length;\n  while (idx < len) {\n    index2[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (var prop in obj) {\n    if (!index2.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nvar useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? import_react27.useLayoutEffect : import_react27.useEffect;\nfunction systemToComponent(systemSpec, map3, Root) {\n  var requiredPropNames = Object.keys(map3.required || {});\n  var optionalPropNames = Object.keys(map3.optional || {});\n  var methodNames = Object.keys(map3.methods || {});\n  var eventNames = Object.keys(map3.events || {});\n  var Context = (0, import_react27.createContext)({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (var _iterator = _createForOfIteratorHelperLoose2(requiredPropNames), _step; !(_step = _iterator()).done; ) {\n      var requiredPropName = _step.value;\n      var stream2 = system2[map3.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (var _iterator2 = _createForOfIteratorHelperLoose2(optionalPropNames), _step2; !(_step2 = _iterator2()).done; ) {\n      var optionalPropName = _step2.value;\n      if (optionalPropName in props) {\n        var _stream = system2[map3.optional[optionalPropName]];\n        publish(_stream, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce(function(acc, methodName) {\n      acc[methodName] = function(value) {\n        var stream2 = system2[map3.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce(function(handlers, eventName) {\n      handlers[eventName] = eventHandler(system2[map3.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  var Component = (0, import_react27.forwardRef)(function(propsWithChildren, ref) {\n    var children = propsWithChildren.children, props = _objectWithoutPropertiesLoose2(propsWithChildren, _excluded2);\n    var _useState = (0, import_react27.useState)(function() {\n      return tap(init(systemSpec), function(system3) {\n        return applyPropsToSystem(system3, props);\n      });\n    }), system2 = _useState[0];\n    var _useState2 = (0, import_react27.useState)(curry1to0(buildEventHandlers, system2)), handlers = _useState2[0];\n    useIsomorphicLayoutEffect(function() {\n      for (var _iterator3 = _createForOfIteratorHelperLoose2(eventNames), _step3; !(_step3 = _iterator3()).done; ) {\n        var eventName = _step3.value;\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return function() {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect(function() {\n      applyPropsToSystem(system2, props);\n    });\n    (0, import_react27.useImperativeHandle)(ref, always(buildMethods(system2)));\n    return (0, import_react27.createElement)(Context.Provider, {\n      value: system2\n    }, Root ? (0, import_react27.createElement)(Root, omit([].concat(requiredPropNames, optionalPropNames, eventNames), props), children) : children);\n  });\n  var usePublisher = function usePublisher2(key) {\n    return (0, import_react27.useCallback)(curry2to1(publish, (0, import_react27.useContext)(Context)[key]), [key]);\n  };\n  var useEmitterValue = function useEmitterValue2(key) {\n    var context = (0, import_react27.useContext)(Context);\n    var source = context[key];\n    var _useState3 = (0, import_react27.useState)(curry1to0(getValue, source)), value = _useState3[0], setValue = _useState3[1];\n    useIsomorphicLayoutEffect(function() {\n      return subscribe(source, function(next) {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      });\n    }, [source, value]);\n    return value;\n  };\n  var useEmitter = function useEmitter2(key, callback) {\n    var context = (0, import_react27.useContext)(Context);\n    var source = context[key];\n    useIsomorphicLayoutEffect(function() {\n      return subscribe(source, callback);\n    }, [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher,\n    useEmitterValue,\n    useEmitter\n  };\n}\n\n\/\/ ..\/..\/node_modules\/react-virtuoso\/dist\/index.m.js\nvar n = __toESM(require(\"react\"));\nvar import_react28 = require(\"react\");\nvar import_react_dom3 = require(\"react-dom\");\nfunction c() {\n  return c = Object.assign || function(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n2 = arguments[t];\n      for (var o2 in n2)\n        Object.prototype.hasOwnProperty.call(n2, o2) && (e[o2] = n2[o2]);\n    }\n    return e;\n  }, c.apply(this, arguments);\n}\nfunction m(e, t) {\n  if (null == e)\n    return {};\n  var n2, o2, r2 = {}, i2 = Object.keys(e);\n  for (o2 = 0; o2 < i2.length; o2++)\n    t.indexOf(n2 = i2[o2]) >= 0 || (r2[n2] = e[n2]);\n  return r2;\n}\nfunction d(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n  for (var n2 = 0, o2 = new Array(t); n2 < t; n2++)\n    o2[n2] = e[n2];\n  return o2;\n}\nfunction f(e, t) {\n  var n2 = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n  if (n2)\n    return (n2 = n2.call(e)).next.bind(n2);\n  if (Array.isArray(e) || (n2 = function(e2, t2) {\n    if (e2) {\n      if (\"string\" == typeof e2)\n        return d(e2, t2);\n      var n3 = Object.prototype.toString.call(e2).slice(8, -1);\n      return \"Object\" === n3 && e2.constructor && (n3 = e2.constructor.name), \"Map\" === n3 || \"Set\" === n3 ? Array.from(e2) : \"Arguments\" === n3 || \/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$\/.test(n3) ? d(e2, t2) : void 0;\n    }\n  }(e)) || t && e && \"number\" == typeof e.length) {\n    n2 && (e = n2);\n    var o2 = 0;\n    return function() {\n      return o2 >= e.length ? { done: true } : { done: false, value: e[o2++] };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar p;\nvar h;\nvar g = \"undefined\" != typeof document ? import_react28.useLayoutEffect : import_react28.useEffect;\n!function(e) {\n  e[e.DEBUG = 0] = \"DEBUG\", e[e.INFO = 1] = \"INFO\", e[e.WARN = 2] = \"WARN\", e[e.ERROR = 3] = \"ERROR\";\n}(h || (h = {}));\nvar v = ((p = {})[h.DEBUG] = \"debug\", p[h.INFO] = \"log\", p[h.WARN] = \"warn\", p[h.ERROR] = \"error\", p);\nvar S = system(function() {\n  var e = statefulStream(h.ERROR);\n  return { log: statefulStream(function(n2, o2, r2) {\n    var i2;\n    void 0 === r2 && (r2 = h.INFO), r2 >= (null != (i2 = (\"undefined\" == typeof globalThis ? window : globalThis).VIRTUOSO_LOG_LEVEL) ? i2 : getValue(e)) && console[v[r2]](\"%creact-virtuoso: %c%s %o\", \"color: #0253b3; font-weight: bold\", \"color: initial\", n2, o2);\n  }), logLevel: e };\n}, [], { singleton: true });\nfunction C(e, t) {\n  void 0 === t && (t = true);\n  var n2 = (0, import_react28.useRef)(null), o2 = function(e2) {\n  };\n  if (\"undefined\" != typeof ResizeObserver) {\n    var r2 = new ResizeObserver(function(t2) {\n      var n3 = t2[0].target;\n      null !== n3.offsetParent && e(n3);\n    });\n    o2 = function(e2) {\n      e2 && t ? (r2.observe(e2), n2.current = e2) : (n2.current && r2.unobserve(n2.current), n2.current = null);\n    };\n  }\n  return { ref: n2, callbackRef: o2 };\n}\nfunction I(e, t) {\n  return void 0 === t && (t = true), C(e, t).callbackRef;\n}\nfunction T(e, t, n2, o2, r2, i2, a3) {\n  return C(function(n3) {\n    for (var l3 = function(e2, t2, n4, o3) {\n      var r3 = e2.length;\n      if (0 === r3)\n        return null;\n      for (var i3 = [], a4 = 0; a4 < r3; a4++) {\n        var l4 = e2.item(a4);\n        if (l4 && void 0 !== l4.dataset.index) {\n          var s3 = parseInt(l4.dataset.index), u3 = parseFloat(l4.dataset.knownSize), c3 = t2(l4, \"offsetHeight\");\n          if (0 === c3 && o3(\"Zero-sized element, this should not happen\", { child: l4 }, h.ERROR), c3 !== u3) {\n            var m3 = i3[i3.length - 1];\n            0 === i3.length || m3.size !== c3 || m3.endIndex !== s3 - 1 ? i3.push({ startIndex: s3, endIndex: s3, size: c3 }) : i3[i3.length - 1].endIndex++;\n          }\n        }\n      }\n      return i3;\n    }(n3.children, t, 0, r2), s2 = n3.parentElement; !s2.dataset.virtuosoScroller; )\n      s2 = s2.parentElement;\n    var u2 = \"window\" === s2.firstElementChild.dataset.viewportType, c2 = a3 ? a3.scrollTop : u2 ? window.pageYOffset || document.documentElement.scrollTop : s2.scrollTop, m2 = a3 ? a3.scrollHeight : u2 ? document.documentElement.scrollHeight : s2.scrollHeight, d2 = a3 ? a3.offsetHeight : u2 ? window.innerHeight : s2.offsetHeight;\n    o2({ scrollTop: Math.max(c2, 0), scrollHeight: m2, viewportHeight: d2 }), null == i2 || i2(function(e2, t2, n4) {\n      return \"normal\" === t2 || null != t2 && t2.endsWith(\"px\") || n4(\"row-gap was not resolved to pixel value correctly\", t2, h.WARN), \"normal\" === t2 ? 0 : parseInt(null != t2 ? t2 : \"0\", 10);\n    }(0, getComputedStyle(n3).rowGap, r2)), null !== l3 && e(l3);\n  }, n2);\n}\nfunction w(e, t) {\n  return Math.round(e.getBoundingClientRect()[t]);\n}\nfunction x(e, t) {\n  return Math.abs(e - t) < 1.01;\n}\nfunction b(e, n2, o2, l3, s2) {\n  void 0 === l3 && (l3 = noop4);\n  var c2 = (0, import_react28.useRef)(null), m2 = (0, import_react28.useRef)(null), d2 = (0, import_react28.useRef)(null), f2 = (0, import_react28.useRef)(false), p2 = (0, import_react28.useCallback)(function(t) {\n    var o3 = t.target, r2 = o3 === window || o3 === document, i2 = r2 ? window.pageYOffset || document.documentElement.scrollTop : o3.scrollTop, a3 = r2 ? document.documentElement.scrollHeight : o3.scrollHeight, l4 = r2 ? window.innerHeight : o3.offsetHeight, s3 = function() {\n      e({ scrollTop: Math.max(i2, 0), scrollHeight: a3, viewportHeight: l4 });\n    };\n    f2.current ? (0, import_react_dom3.flushSync)(s3) : s3(), f2.current = false, null !== m2.current && (i2 === m2.current || i2 <= 0 || i2 === a3 - l4) && (m2.current = null, n2(true), d2.current && (clearTimeout(d2.current), d2.current = null));\n  }, [e, n2]);\n  return (0, import_react28.useEffect)(function() {\n    var e2 = s2 || c2.current;\n    return l3(s2 || c2.current), p2({ target: e2 }), e2.addEventListener(\"scroll\", p2, { passive: true }), function() {\n      l3(null), e2.removeEventListener(\"scroll\", p2);\n    };\n  }, [c2, p2, o2, l3, s2]), { scrollerRef: c2, scrollByCallback: function(e2) {\n    f2.current = true, c2.current.scrollBy(e2);\n  }, scrollToCallback: function(t) {\n    var o3 = c2.current;\n    if (o3 && (!(\"offsetHeight\" in o3) || 0 !== o3.offsetHeight)) {\n      var r2, i2, a3, l4 = \"smooth\" === t.behavior;\n      if (o3 === window ? (i2 = Math.max(w(document.documentElement, \"height\"), document.documentElement.scrollHeight), r2 = window.innerHeight, a3 = document.documentElement.scrollTop) : (i2 = o3.scrollHeight, r2 = w(o3, \"height\"), a3 = o3.scrollTop), t.top = Math.ceil(Math.max(Math.min(i2 - r2, t.top), 0)), x(r2, i2) || t.top === a3)\n        return e({ scrollTop: a3, scrollHeight: i2, viewportHeight: r2 }), void (l4 && n2(true));\n      l4 ? (m2.current = t.top, d2.current && clearTimeout(d2.current), d2.current = setTimeout(function() {\n        d2.current = null, m2.current = null, n2(true);\n      }, 1e3)) : m2.current = null, o3.scrollTo(t);\n    }\n  } };\n}\nvar y = system(function() {\n  var e = stream(), n2 = stream(), o2 = statefulStream(0), r2 = stream(), i2 = statefulStream(0), a3 = stream(), l3 = stream(), s2 = statefulStream(0), u2 = statefulStream(0), c2 = statefulStream(0), m2 = statefulStream(0), d2 = stream(), f2 = stream(), p2 = statefulStream(false), h2 = statefulStream(false);\n  return connect(pipe(e, map2(function(e2) {\n    return e2.scrollTop;\n  })), n2), connect(pipe(e, map2(function(e2) {\n    return e2.scrollHeight;\n  })), l3), connect(n2, i2), { scrollContainerState: e, scrollTop: n2, viewportHeight: a3, headerHeight: s2, fixedHeaderHeight: u2, fixedFooterHeight: c2, footerHeight: m2, scrollHeight: l3, smoothScrollTargetReached: r2, react18ConcurrentRendering: h2, scrollTo: d2, scrollBy: f2, statefulScrollTop: i2, deviation: o2, scrollingInProgress: p2 };\n}, [], { singleton: true });\nvar H = { lvl: 0 };\nfunction E(e, t, n2, o2, r2) {\n  return void 0 === o2 && (o2 = H), void 0 === r2 && (r2 = H), { k: e, v: t, lvl: n2, l: o2, r: r2 };\n}\nfunction R(e) {\n  return e === H;\n}\nfunction L() {\n  return H;\n}\nfunction F(e, t) {\n  if (R(e))\n    return H;\n  var n2 = e.k, o2 = e.l, r2 = e.r;\n  if (t === n2) {\n    if (R(o2))\n      return r2;\n    if (R(r2))\n      return o2;\n    var i2 = O(o2);\n    return U(W(e, { k: i2[0], v: i2[1], l: M(o2) }));\n  }\n  return U(W(e, t < n2 ? { l: F(o2, t) } : { r: F(r2, t) }));\n}\nfunction k(e, t, n2) {\n  if (void 0 === n2 && (n2 = \"k\"), R(e))\n    return [-Infinity, void 0];\n  if (e[n2] === t)\n    return [e.k, e.v];\n  if (e[n2] < t) {\n    var o2 = k(e.r, t, n2);\n    return -Infinity === o2[0] ? [e.k, e.v] : o2;\n  }\n  return k(e.l, t, n2);\n}\nfunction z(e, t, n2) {\n  return R(e) ? E(t, n2, 1) : t === e.k ? W(e, { k: t, v: n2 }) : function(e2) {\n    return D(G(e2));\n  }(W(e, t < e.k ? { l: z(e.l, t, n2) } : { r: z(e.r, t, n2) }));\n}\nfunction B(e, t, n2) {\n  if (R(e))\n    return [];\n  var o2 = e.k, r2 = e.v, i2 = e.r, a3 = [];\n  return o2 > t && (a3 = a3.concat(B(e.l, t, n2))), o2 >= t && o2 <= n2 && a3.push({ k: o2, v: r2 }), o2 <= n2 && (a3 = a3.concat(B(i2, t, n2))), a3;\n}\nfunction P(e) {\n  return R(e) ? [] : [].concat(P(e.l), [{ k: e.k, v: e.v }], P(e.r));\n}\nfunction O(e) {\n  return R(e.r) ? [e.k, e.v] : O(e.r);\n}\nfunction M(e) {\n  return R(e.r) ? e.l : U(W(e, { r: M(e.r) }));\n}\nfunction W(e, t) {\n  return E(void 0 !== t.k ? t.k : e.k, void 0 !== t.v ? t.v : e.v, void 0 !== t.lvl ? t.lvl : e.lvl, void 0 !== t.l ? t.l : e.l, void 0 !== t.r ? t.r : e.r);\n}\nfunction V2(e) {\n  return R(e) || e.lvl > e.r.lvl;\n}\nfunction U(e) {\n  var t = e.l, n2 = e.r, o2 = e.lvl;\n  if (n2.lvl >= o2 - 1 && t.lvl >= o2 - 1)\n    return e;\n  if (o2 > n2.lvl + 1) {\n    if (V2(t))\n      return G(W(e, { lvl: o2 - 1 }));\n    if (R(t) || R(t.r))\n      throw new Error(\"Unexpected empty nodes\");\n    return W(t.r, { l: W(t, { r: t.r.l }), r: W(e, { l: t.r.r, lvl: o2 - 1 }), lvl: o2 });\n  }\n  if (V2(e))\n    return D(W(e, { lvl: o2 - 1 }));\n  if (R(n2) || R(n2.l))\n    throw new Error(\"Unexpected empty nodes\");\n  var r2 = n2.l, i2 = V2(r2) ? n2.lvl - 1 : n2.lvl;\n  return W(r2, { l: W(e, { r: r2.l, lvl: o2 - 1 }), r: D(W(n2, { l: r2.r, lvl: i2 })), lvl: r2.lvl + 1 });\n}\nfunction A(e, t, n2) {\n  return R(e) ? [] : N(B(e, k(e, t)[0], n2), function(e2) {\n    return { index: e2.k, value: e2.v };\n  });\n}\nfunction N(e, t) {\n  var n2 = e.length;\n  if (0 === n2)\n    return [];\n  for (var o2 = t(e[0]), r2 = o2.index, i2 = o2.value, a3 = [], l3 = 1; l3 < n2; l3++) {\n    var s2 = t(e[l3]), u2 = s2.index, c2 = s2.value;\n    a3.push({ start: r2, end: u2 - 1, value: i2 }), r2 = u2, i2 = c2;\n  }\n  return a3.push({ start: r2, end: Infinity, value: i2 }), a3;\n}\nfunction D(e) {\n  var t = e.r, n2 = e.lvl;\n  return R(t) || R(t.r) || t.lvl !== n2 || t.r.lvl !== n2 ? e : W(t, { l: W(e, { r: t.l }), lvl: n2 + 1 });\n}\nfunction G(e) {\n  var t = e.l;\n  return R(t) || t.lvl !== e.lvl ? e : W(t, { r: W(e, { l: t.r }) });\n}\nfunction _(e, t, n2, o2) {\n  void 0 === o2 && (o2 = 0);\n  for (var r2 = e.length - 1; o2 <= r2; ) {\n    var i2 = Math.floor((o2 + r2) \/ 2), a3 = n2(e[i2], t);\n    if (0 === a3)\n      return i2;\n    if (-1 === a3) {\n      if (r2 - o2 < 2)\n        return i2 - 1;\n      r2 = i2 - 1;\n    } else {\n      if (r2 === o2)\n        return i2;\n      o2 = i2 + 1;\n    }\n  }\n  throw new Error(\"Failed binary finding record in array - \" + e.join(\",\") + \", searched for \" + t);\n}\nfunction j(e, t, n2) {\n  return e[_(e, t, n2)];\n}\nvar K = system(function() {\n  return { recalcInProgress: statefulStream(false) };\n}, [], { singleton: true });\nfunction Y(e) {\n  var t = e.size, n2 = e.startIndex, o2 = e.endIndex;\n  return function(e2) {\n    return e2.start === n2 && (e2.end === o2 || Infinity === e2.end) && e2.value === t;\n  };\n}\nfunction q(e, t) {\n  var n2 = e.index;\n  return t === n2 ? 0 : t < n2 ? -1 : 1;\n}\nfunction Z(e, t) {\n  var n2 = e.offset;\n  return t === n2 ? 0 : t < n2 ? -1 : 1;\n}\nfunction J(e) {\n  return { index: e.index, value: e };\n}\nfunction $(e, t, n2, o2) {\n  var r2 = e, i2 = 0, a3 = 0, l3 = 0, s2 = 0;\n  if (0 !== t) {\n    l3 = r2[s2 = _(r2, t - 1, q)].offset;\n    var u2 = k(n2, t - 1);\n    i2 = u2[0], a3 = u2[1], r2.length && r2[s2].size === k(n2, t)[1] && (s2 -= 1), r2 = r2.slice(0, s2 + 1);\n  } else\n    r2 = [];\n  for (var c2, m2 = f(A(n2, t, Infinity)); !(c2 = m2()).done; ) {\n    var d2 = c2.value, p2 = d2.start, h2 = d2.value, g2 = p2 - i2, v2 = g2 * a3 + l3 + g2 * o2;\n    r2.push({ offset: v2, size: h2, index: p2 }), i2 = p2, l3 = v2, a3 = h2;\n  }\n  return { offsetTree: r2, lastIndex: i2, lastOffset: l3, lastSize: a3 };\n}\nfunction Q(e, t) {\n  var n2 = t[0], o2 = t[1], r2 = t[3];\n  n2.length > 0 && (0, t[2])(\"received item sizes\", n2, h.DEBUG);\n  var i2 = e.sizeTree, a3 = i2, l3 = 0;\n  if (o2.length > 0 && R(i2) && 2 === n2.length) {\n    var s2 = n2[0].size, u2 = n2[1].size;\n    a3 = o2.reduce(function(e2, t2) {\n      return z(z(e2, t2, s2), t2 + 1, u2);\n    }, a3);\n  } else {\n    var c2 = function(e2, t2) {\n      for (var n3, o3 = R(e2) ? 0 : Infinity, r3 = f(t2); !(n3 = r3()).done; ) {\n        var i3 = n3.value, a4 = i3.size, l4 = i3.startIndex, s3 = i3.endIndex;\n        if (o3 = Math.min(o3, l4), R(e2))\n          e2 = z(e2, 0, a4);\n        else {\n          var u3 = A(e2, l4 - 1, s3 + 1);\n          if (!u3.some(Y(i3))) {\n            for (var c3, m3 = false, d3 = false, p2 = f(u3); !(c3 = p2()).done; ) {\n              var h2 = c3.value, g2 = h2.start, v2 = h2.end, S2 = h2.value;\n              m3 ? (s3 >= g2 || a4 === S2) && (e2 = F(e2, g2)) : (d3 = S2 !== a4, m3 = true), v2 > s3 && s3 >= g2 && S2 !== a4 && (e2 = z(e2, s3 + 1, S2));\n            }\n            d3 && (e2 = z(e2, l4, a4));\n          }\n        }\n      }\n      return [e2, o3];\n    }(a3, n2);\n    a3 = c2[0], l3 = c2[1];\n  }\n  if (a3 === i2)\n    return e;\n  var m2 = $(e.offsetTree, l3, a3, r2), d2 = m2.offsetTree;\n  return { sizeTree: a3, offsetTree: d2, lastIndex: m2.lastIndex, lastOffset: m2.lastOffset, lastSize: m2.lastSize, groupOffsetTree: o2.reduce(function(e2, t2) {\n    return z(e2, t2, X(t2, d2, r2));\n  }, L()), groupIndices: o2 };\n}\nfunction X(e, t, n2) {\n  if (0 === t.length)\n    return 0;\n  var o2 = j(t, e, q), r2 = e - o2.index, i2 = o2.size * r2 + (r2 - 1) * n2 + o2.offset;\n  return i2 > 0 ? i2 + n2 : i2;\n}\nfunction ee(e, t, n2) {\n  if (function(e2) {\n    return void 0 !== e2.groupIndex;\n  }(e))\n    return t.groupIndices[e.groupIndex] + 1;\n  var o2 = te(\"LAST\" === e.index ? n2 : e.index, t);\n  return Math.max(0, o2, Math.min(n2, o2));\n}\nfunction te(e, t) {\n  if (!ne(t))\n    return e;\n  for (var n2 = 0; t.groupIndices[n2] <= e + n2; )\n    n2++;\n  return e + n2;\n}\nfunction ne(e) {\n  return !R(e.groupOffsetTree);\n}\nvar oe = { offsetHeight: \"height\", offsetWidth: \"width\" };\nvar re = system(function(e) {\n  var n2 = e[0].log, o2 = e[1].recalcInProgress, r2 = stream(), i2 = stream(), a3 = statefulStreamFromEmitter(i2, 0), l3 = stream(), s2 = stream(), u2 = statefulStream(0), m2 = statefulStream([]), d2 = statefulStream(void 0), f2 = statefulStream(void 0), p2 = statefulStream(function(e2, t) {\n    return w(e2, oe[t]);\n  }), g2 = statefulStream(void 0), v2 = statefulStream(0), S2 = { offsetTree: [], sizeTree: L(), groupOffsetTree: L(), lastIndex: 0, lastOffset: 0, lastSize: 0, groupIndices: [] }, C3 = statefulStreamFromEmitter(pipe(r2, withLatestFrom(m2, n2, v2), scan(Q, S2), distinctUntilChanged()), S2);\n  connect(pipe(m2, filter(function(e2) {\n    return e2.length > 0;\n  }), withLatestFrom(C3, v2), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = t.reduce(function(e3, t2, r4) {\n      return z(e3, t2, X(t2, n3.offsetTree, o3) || r4);\n    }, L());\n    return c({}, n3, { groupIndices: t, groupOffsetTree: r3 });\n  })), C3), connect(pipe(i2, withLatestFrom(C3), filter(function(e2) {\n    return e2[0] < e2[1].lastIndex;\n  }), map2(function(e2) {\n    var t = e2[1];\n    return [{ startIndex: e2[0], endIndex: t.lastIndex, size: t.lastSize }];\n  })), r2), connect(d2, f2);\n  var I2 = statefulStreamFromEmitter(pipe(d2, map2(function(e2) {\n    return void 0 === e2;\n  })), true);\n  connect(pipe(f2, filter(function(e2) {\n    return void 0 !== e2 && R(getValue(C3).sizeTree);\n  }), map2(function(e2) {\n    return [{ startIndex: 0, endIndex: 0, size: e2 }];\n  })), r2);\n  var T2 = streamFromEmitter(pipe(r2, withLatestFrom(C3), scan(function(e2, t) {\n    var n3 = t[1];\n    return { changed: n3 !== e2.sizes, sizes: n3 };\n  }, { changed: false, sizes: S2 }), map2(function(e2) {\n    return e2.changed;\n  })));\n  subscribe(pipe(u2, scan(function(e2, t) {\n    return { diff: e2.prev - t, prev: t };\n  }, { diff: 0, prev: 0 }), map2(function(e2) {\n    return e2.diff;\n  })), function(e2) {\n    e2 > 0 ? (publish(o2, true), publish(l3, e2)) : e2 < 0 && publish(s2, e2);\n  }), subscribe(pipe(u2, withLatestFrom(n2)), function(e2) {\n    e2[0] < 0 && (0, e2[1])(\"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\", { firstItemIndex: u2 }, h.ERROR);\n  });\n  var x2 = streamFromEmitter(l3);\n  connect(pipe(l3, withLatestFrom(C3), map2(function(e2) {\n    var t = e2[0], n3 = e2[1];\n    if (n3.groupIndices.length > 0)\n      throw new Error(\"Virtuoso: prepending items does not work with groups\");\n    return P(n3.sizeTree).reduce(function(e3, n4) {\n      var o3 = n4.k, r3 = n4.v;\n      return { ranges: [].concat(e3.ranges, [{ startIndex: e3.prevIndex, endIndex: o3 + t - 1, size: e3.prevSize }]), prevIndex: o3 + t, prevSize: r3 };\n    }, { ranges: [], prevIndex: 0, prevSize: n3.lastSize }).ranges;\n  })), r2);\n  var b3 = streamFromEmitter(pipe(s2, withLatestFrom(C3, v2), map2(function(e2) {\n    return X(-e2[0], e2[1].offsetTree, e2[2]);\n  })));\n  return connect(pipe(s2, withLatestFrom(C3, v2), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2];\n    if (n3.groupIndices.length > 0)\n      throw new Error(\"Virtuoso: shifting items does not work with groups\");\n    var r3 = P(n3.sizeTree).reduce(function(e3, n4) {\n      var o4 = n4.v;\n      return z(e3, Math.max(0, n4.k + t), o4);\n    }, L());\n    return c({}, n3, { sizeTree: r3 }, $(n3.offsetTree, 0, r3, o3));\n  })), C3), { data: g2, totalCount: i2, sizeRanges: r2, groupIndices: m2, defaultItemSize: f2, fixedItemSize: d2, unshiftWith: l3, shiftWith: s2, shiftWithOffset: b3, beforeUnshiftWith: x2, firstItemIndex: u2, gap: v2, sizes: C3, listRefresh: T2, statefulTotalCount: a3, trackItemSizes: I2, itemSize: p2 };\n}, tup(S, K), { singleton: true });\nvar ie = \"undefined\" != typeof document && \"scrollBehavior\" in document.documentElement.style;\nfunction ae(e) {\n  var t = \"number\" == typeof e ? { index: e } : e;\n  return t.align || (t.align = \"start\"), t.behavior && ie || (t.behavior = \"auto\"), t.offset || (t.offset = 0), t;\n}\nvar le = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.listRefresh, a3 = n2.gap, l3 = e[1], s2 = l3.scrollingInProgress, u2 = l3.viewportHeight, c2 = l3.scrollTo, m2 = l3.smoothScrollTargetReached, d2 = l3.headerHeight, f2 = l3.footerHeight, p2 = l3.fixedHeaderHeight, g2 = l3.fixedFooterHeight, v2 = e[2].log, S2 = stream(), C3 = statefulStream(0), I2 = null, T2 = null, w2 = null;\n  function x2() {\n    I2 && (I2(), I2 = null), w2 && (w2(), w2 = null), T2 && (clearTimeout(T2), T2 = null), publish(s2, false);\n  }\n  return connect(pipe(S2, withLatestFrom(o2, u2, r2, C3, d2, f2, v2), withLatestFrom(a3, p2, g2), map2(function(e2) {\n    var n3 = e2[0], o3 = n3[0], r3 = n3[1], a4 = n3[2], l4 = n3[3], u3 = n3[4], c3 = n3[5], d3 = n3[6], f3 = n3[7], p3 = e2[1], g3 = e2[2], v3 = e2[3], C4 = ae(o3), b3 = C4.align, y2 = C4.behavior, H2 = C4.offset, E2 = l4 - 1, R3 = ee(C4, r3, E2), L3 = X(R3, r3.offsetTree, p3) + c3;\n    \"end\" === b3 ? (L3 += g3 + k(r3.sizeTree, R3)[1] - a4 + v3, R3 === E2 && (L3 += d3)) : \"center\" === b3 ? L3 += (g3 + k(r3.sizeTree, R3)[1] - a4 + v3) \/ 2 : L3 -= u3, H2 && (L3 += H2);\n    var F2 = function(e3) {\n      x2(), e3 ? (f3(\"retrying to scroll to\", { location: o3 }, h.DEBUG), publish(S2, o3)) : f3(\"list did not change, scroll successful\", {}, h.DEBUG);\n    };\n    if (x2(), \"smooth\" === y2) {\n      var z2 = false;\n      w2 = subscribe(i2, function(e3) {\n        z2 = z2 || e3;\n      }), I2 = handleNext(m2, function() {\n        F2(z2);\n      });\n    } else\n      I2 = handleNext(pipe(i2, function(e3) {\n        var t = setTimeout(function() {\n          e3(false);\n        }, 150);\n        return function(n4) {\n          n4 && (e3(true), clearTimeout(t));\n        };\n      }), F2);\n    return T2 = setTimeout(function() {\n      x2();\n    }, 1200), publish(s2, true), f3(\"scrolling from index to\", { index: R3, top: L3, behavior: y2 }, h.DEBUG), { top: L3, behavior: y2 };\n  })), c2), { scrollToIndex: S2, topListHeight: C3 };\n}, tup(re, y, S), { singleton: true });\nvar se = \"up\";\nvar ue = { atBottom: false, notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\", state: { offsetBottom: 0, scrollTop: 0, viewportHeight: 0, scrollHeight: 0 } };\nvar ce = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollContainerState, r2 = n2.scrollTop, i2 = n2.viewportHeight, a3 = n2.headerHeight, l3 = n2.footerHeight, s2 = n2.scrollBy, u2 = statefulStream(false), c2 = statefulStream(true), m2 = stream(), d2 = stream(), f2 = statefulStream(4), p2 = statefulStream(0), h2 = statefulStreamFromEmitter(pipe(merge(pipe(duc(r2), skip(1), mapTo(true)), pipe(duc(r2), skip(1), mapTo(false), debounceTime(100))), distinctUntilChanged()), false), g2 = statefulStreamFromEmitter(pipe(merge(pipe(s2, mapTo(true)), pipe(s2, mapTo(false), debounceTime(200))), distinctUntilChanged()), false);\n  connect(pipe(combineLatest(duc(r2), duc(p2)), map2(function(e2) {\n    return e2[0] <= e2[1];\n  }), distinctUntilChanged()), c2), connect(pipe(c2, throttleTime(50)), d2);\n  var v2 = streamFromEmitter(pipe(combineLatest(o2, duc(i2), duc(a3), duc(l3), duc(f2)), scan(function(e2, t) {\n    var n3, o3, r3 = t[0], i3 = r3.scrollTop, a4 = r3.scrollHeight, l4 = t[1], s3 = { viewportHeight: l4, scrollTop: i3, scrollHeight: a4 };\n    return i3 + l4 - a4 > -t[4] ? (i3 > e2.state.scrollTop ? (n3 = \"SCROLLED_DOWN\", o3 = e2.state.scrollTop - i3) : (n3 = \"SIZE_DECREASED\", o3 = e2.state.scrollTop - i3 || e2.scrollTopDelta), { atBottom: true, state: s3, atBottomBecause: n3, scrollTopDelta: o3 }) : { atBottom: false, notAtBottomBecause: s3.scrollHeight > e2.state.scrollHeight ? \"SIZE_INCREASED\" : l4 < e2.state.viewportHeight ? \"VIEWPORT_HEIGHT_DECREASING\" : i3 < e2.state.scrollTop ? \"SCROLLING_UPWARDS\" : \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\", state: s3 };\n  }, ue), distinctUntilChanged(function(e2, t) {\n    return e2 && e2.atBottom === t.atBottom;\n  }))), S2 = statefulStreamFromEmitter(pipe(o2, scan(function(e2, t) {\n    var n3 = t.scrollTop, o3 = t.scrollHeight, r3 = t.viewportHeight;\n    return x(e2.scrollHeight, o3) ? { scrollTop: n3, scrollHeight: o3, jump: 0, changed: false } : e2.scrollTop !== n3 && o3 - (n3 + r3) < 1 ? { scrollHeight: o3, scrollTop: n3, jump: e2.scrollTop - n3, changed: true } : { scrollHeight: o3, scrollTop: n3, jump: 0, changed: true };\n  }, { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }), filter(function(e2) {\n    return e2.changed;\n  }), map2(function(e2) {\n    return e2.jump;\n  })), 0);\n  connect(pipe(v2, map2(function(e2) {\n    return e2.atBottom;\n  })), u2), connect(pipe(u2, throttleTime(50)), m2);\n  var C3 = statefulStream(\"down\");\n  connect(pipe(o2, map2(function(e2) {\n    return e2.scrollTop;\n  }), distinctUntilChanged(), scan(function(e2, n3) {\n    return getValue(g2) ? { direction: e2.direction, prevScrollTop: n3 } : { direction: n3 < e2.prevScrollTop ? se : \"down\", prevScrollTop: n3 };\n  }, { direction: \"down\", prevScrollTop: 0 }), map2(function(e2) {\n    return e2.direction;\n  })), C3), connect(pipe(o2, throttleTime(50), mapTo(\"none\")), C3);\n  var I2 = statefulStream(0);\n  return connect(pipe(h2, filter(function(e2) {\n    return !e2;\n  }), mapTo(0)), I2), connect(pipe(r2, throttleTime(100), withLatestFrom(h2), filter(function(e2) {\n    return !!e2[1];\n  }), scan(function(e2, t) {\n    return [e2[1], t[0]];\n  }, [0, 0]), map2(function(e2) {\n    return e2[1] - e2[0];\n  })), I2), { isScrolling: h2, isAtTop: c2, isAtBottom: u2, atBottomState: v2, atTopStateChange: d2, atBottomStateChange: m2, scrollDirection: C3, atBottomThreshold: f2, atTopThreshold: p2, scrollVelocity: I2, lastJumpDueToItemResize: S2 };\n}, tup(y));\nvar me = system(function(e) {\n  var n2 = e[0].log, o2 = statefulStream(false), r2 = streamFromEmitter(pipe(o2, filter(function(e2) {\n    return e2;\n  }), distinctUntilChanged()));\n  return subscribe(o2, function(e2) {\n    e2 && getValue(n2)(\"props updated\", {}, h.DEBUG);\n  }), { propsReady: o2, didMount: r2 };\n}, tup(S), { singleton: true });\nvar de = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.listRefresh, i2 = n2.defaultItemSize, a3 = e[1].scrollTop, l3 = e[2].scrollToIndex, s2 = e[3].didMount, u2 = statefulStream(true), c2 = statefulStream(0);\n  return connect(pipe(s2, withLatestFrom(c2), filter(function(e2) {\n    return !!e2[1];\n  }), mapTo(false)), u2), subscribe(pipe(combineLatest(r2, s2), withLatestFrom(u2, o2, i2), filter(function(e2) {\n    var t = e2[1], n3 = e2[3];\n    return e2[0][1] && (!R(e2[2].sizeTree) || void 0 !== n3) && !t;\n  }), withLatestFrom(c2)), function(e2) {\n    var n3 = e2[1];\n    setTimeout(function() {\n      handleNext(a3, function() {\n        publish(u2, true);\n      }), publish(l3, n3);\n    });\n  }), { scrolledToInitialItem: u2, initialTopMostItemIndex: c2 };\n}, tup(re, y, le, me), { singleton: true });\nfunction fe(e) {\n  return !!e && (\"smooth\" === e ? \"smooth\" : \"auto\");\n}\nvar pe = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.listRefresh, i2 = e[1], a3 = i2.isAtBottom, l3 = i2.atBottomState, s2 = e[2].scrollToIndex, u2 = e[3].scrolledToInitialItem, c2 = e[4], m2 = c2.propsReady, d2 = c2.didMount, f2 = e[5].log, p2 = e[6].scrollingInProgress, g2 = statefulStream(false), v2 = stream(), S2 = null;\n  function C3(e2) {\n    publish(s2, { index: \"LAST\", align: \"end\", behavior: e2 });\n  }\n  function I2(e2) {\n    var n3 = handleNext(l3, function(n4) {\n      !e2 || n4.atBottom || \"SIZE_INCREASED\" !== n4.notAtBottomBecause || S2 || (getValue(f2)(\"scrolling to bottom due to increased size\", {}, h.DEBUG), C3(\"auto\"));\n    });\n    setTimeout(n3, 100);\n  }\n  return subscribe(pipe(combineLatest(pipe(duc(o2), skip(1)), d2), withLatestFrom(duc(g2), a3, u2, p2), map2(function(e2) {\n    var t = e2[0], n3 = t[0], o3 = t[1] && e2[3], r3 = \"auto\";\n    return o3 && (r3 = function(e3, t2) {\n      return \"function\" == typeof e3 ? fe(e3(t2)) : t2 && fe(e3);\n    }(e2[1], e2[2] || e2[4]), o3 = o3 && !!r3), { totalCount: n3, shouldFollow: o3, followOutputBehavior: r3 };\n  }), filter(function(e2) {\n    return e2.shouldFollow;\n  })), function(e2) {\n    var n3 = e2.totalCount, o3 = e2.followOutputBehavior;\n    S2 && (S2(), S2 = null), S2 = handleNext(r2, function() {\n      getValue(f2)(\"following output to \", { totalCount: n3 }, h.DEBUG), C3(o3), S2 = null;\n    });\n  }), subscribe(pipe(combineLatest(duc(g2), o2, m2), filter(function(e2) {\n    return e2[0] && e2[2];\n  }), scan(function(e2, t) {\n    var n3 = t[1];\n    return { refreshed: e2.value === n3, value: n3 };\n  }, { refreshed: false, value: 0 }), filter(function(e2) {\n    return e2.refreshed;\n  }), withLatestFrom(g2, o2)), function(e2) {\n    I2(false !== e2[1]);\n  }), subscribe(v2, function() {\n    I2(false !== getValue(g2));\n  }), subscribe(combineLatest(duc(g2), l3), function(e2) {\n    var t = e2[1];\n    e2[0] && !t.atBottom && \"VIEWPORT_HEIGHT_DECREASING\" === t.notAtBottomBecause && C3(\"auto\");\n  }), { followOutput: g2, autoscrollToBottom: v2 };\n}, tup(re, ce, le, de, me, S, y));\nfunction he(e) {\n  return e.reduce(function(e2, t) {\n    return e2.groupIndices.push(e2.totalCount), e2.totalCount += t + 1, e2;\n  }, { totalCount: 0, groupIndices: [] });\n}\nvar ge = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.groupIndices, i2 = n2.sizes, a3 = e[1], l3 = a3.scrollTop, s2 = a3.headerHeight, u2 = stream(), c2 = stream(), m2 = streamFromEmitter(pipe(u2, map2(he)));\n  return connect(pipe(m2, map2(function(e2) {\n    return e2.totalCount;\n  })), o2), connect(pipe(m2, map2(function(e2) {\n    return e2.groupIndices;\n  })), r2), connect(pipe(combineLatest(l3, i2, s2), filter(function(e2) {\n    return ne(e2[1]);\n  }), map2(function(e2) {\n    return k(e2[1].groupOffsetTree, Math.max(e2[0] - e2[2], 0), \"v\")[0];\n  }), distinctUntilChanged(), map2(function(e2) {\n    return [e2];\n  })), c2), { groupCounts: u2, topItemsIndexes: c2 };\n}, tup(re, y));\nfunction ve(e, t) {\n  return !(!e || e[0] !== t[0] || e[1] !== t[1]);\n}\nfunction Se(e, t) {\n  return !(!e || e.startIndex !== t.startIndex || e.endIndex !== t.endIndex);\n}\nfunction Ce(e, t, n2) {\n  return \"number\" == typeof e ? n2 === se && \"top\" === t || \"down\" === n2 && \"bottom\" === t ? e : 0 : n2 === se ? \"top\" === t ? e.main : e.reverse : \"bottom\" === t ? e.main : e.reverse;\n}\nfunction Ie(e, t) {\n  return \"number\" == typeof e ? e : e[t] || 0;\n}\nvar Te = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollTop, r2 = n2.viewportHeight, i2 = n2.deviation, a3 = n2.headerHeight, l3 = n2.fixedHeaderHeight, s2 = stream(), u2 = statefulStream(0), c2 = statefulStream(0), m2 = statefulStream(0), d2 = statefulStreamFromEmitter(pipe(combineLatest(duc(o2), duc(r2), duc(a3), duc(s2, ve), duc(m2), duc(u2), duc(l3), duc(i2), duc(c2)), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = r3[0], a4 = r3[1], l4 = e2[4], s3 = e2[6], u3 = e2[7], c3 = e2[8], m3 = t - u3, d3 = e2[5] + s3, f2 = Math.max(o3 - m3, 0), p2 = \"none\", h2 = Ie(c3, \"top\"), g2 = Ie(c3, \"bottom\");\n    return i3 -= u3, a4 += o3 + s3, (i3 += o3 + s3) > t + d3 - h2 && (p2 = se), (a4 -= u3) < t - f2 + n3 + g2 && (p2 = \"down\"), \"none\" !== p2 ? [Math.max(m3 - o3 - Ce(l4, \"top\", p2) - h2, 0), m3 - f2 - s3 + n3 + Ce(l4, \"bottom\", p2) + g2] : null;\n  }), filter(function(e2) {\n    return null != e2;\n  }), distinctUntilChanged(ve)), [0, 0]);\n  return { listBoundary: s2, overscan: m2, topListHeight: u2, increaseViewportBy: c2, visibleRange: d2 };\n}, tup(y), { singleton: true });\nvar we = { items: [], topItems: [], offsetTop: 0, offsetBottom: 0, top: 0, bottom: 0, topListHeight: 0, totalCount: 0, firstItemIndex: 0 };\nfunction xe(e, t, n2) {\n  if (0 === e.length)\n    return [];\n  if (!ne(t))\n    return e.map(function(e2) {\n      return c({}, e2, { index: e2.index + n2, originalIndex: e2.index });\n    });\n  for (var o2, r2 = [], i2 = A(t.groupOffsetTree, e[0].index, e[e.length - 1].index), a3 = void 0, l3 = 0, s2 = f(e); !(o2 = s2()).done; ) {\n    var u2 = o2.value;\n    (!a3 || a3.end < u2.index) && (a3 = i2.shift(), l3 = t.groupIndices.indexOf(a3.start)), r2.push(c({}, u2.index === a3.start ? { type: \"group\", index: l3 } : { index: u2.index - (l3 + 1) + n2, groupIndex: l3 }, { size: u2.size, offset: u2.offset, originalIndex: u2.index, data: u2.data }));\n  }\n  return r2;\n}\nfunction be(e, t, n2, o2, r2, i2) {\n  var a3 = 0, l3 = 0;\n  if (e.length > 0) {\n    a3 = e[0].offset;\n    var s2 = e[e.length - 1];\n    l3 = s2.offset + s2.size;\n  }\n  var u2 = n2 - r2.lastIndex, c2 = a3, m2 = r2.lastOffset + u2 * r2.lastSize + (u2 - 1) * o2 - l3;\n  return { items: xe(e, r2, i2), topItems: xe(t, r2, i2), topListHeight: t.reduce(function(e2, t2) {\n    return t2.size + e2;\n  }, 0), offsetTop: a3, offsetBottom: m2, top: c2, bottom: l3, totalCount: n2, firstItemIndex: i2 };\n}\nvar ye = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.data, a3 = n2.firstItemIndex, l3 = n2.gap, s2 = e[1], u2 = e[2], m2 = u2.visibleRange, d2 = u2.listBoundary, p2 = u2.topListHeight, h2 = e[3], g2 = h2.scrolledToInitialItem, v2 = h2.initialTopMostItemIndex, S2 = e[4].topListHeight, C3 = e[5], I2 = e[6].didMount, T2 = e[7].recalcInProgress, w2 = statefulStream([]), x2 = stream();\n  connect(s2.topItemsIndexes, w2);\n  var b3 = statefulStreamFromEmitter(pipe(combineLatest(I2, T2, duc(m2, ve), duc(r2), duc(o2), duc(v2), g2, duc(w2), duc(a3), duc(l3), i2), filter(function(e2) {\n    return e2[0] && !e2[1];\n  }), map2(function(e2) {\n    var n3 = e2[2], o3 = n3[0], r3 = n3[1], i3 = e2[3], a4 = e2[5], l4 = e2[6], s3 = e2[7], u3 = e2[8], m3 = e2[9], d3 = e2[10], p3 = e2[4], h3 = p3.sizeTree, g3 = p3.offsetTree;\n    if (0 === i3 || 0 === o3 && 0 === r3)\n      return c({}, we, { totalCount: i3 });\n    if (R(h3))\n      return be(function(e3, t, n4) {\n        if (ne(t)) {\n          var o4 = te(e3, t);\n          return [{ index: k(t.groupOffsetTree, o4)[0], size: 0, offset: 0 }, { index: o4, size: 0, offset: 0, data: n4 && n4[0] }];\n        }\n        return [{ index: e3, size: 0, offset: 0, data: n4 && n4[0] }];\n      }(function(e3, t) {\n        return \"number\" == typeof e3 ? e3 : \"LAST\" === e3.index ? t - 1 : e3.index;\n      }(a4, i3), p3, d3), [], i3, m3, p3, u3);\n    var v3 = [];\n    if (s3.length > 0)\n      for (var S3, C4 = s3[0], I3 = s3[s3.length - 1], T3 = 0, w3 = f(A(h3, C4, I3)); !(S3 = w3()).done; )\n        for (var x3 = S3.value, b4 = x3.value, y2 = Math.max(x3.start, C4), H2 = Math.min(x3.end, I3), E2 = y2; E2 <= H2; E2++)\n          v3.push({ index: E2, size: b4, offset: T3, data: d3 && d3[E2] }), T3 += b4;\n    if (!l4)\n      return be([], v3, i3, m3, p3, u3);\n    var L3 = s3.length > 0 ? s3[s3.length - 1] + 1 : 0, F2 = function(e3, t, n4, o4) {\n      return void 0 === o4 && (o4 = 0), o4 > 0 && (t = Math.max(t, j(e3, o4, q).offset)), N((i4 = n4, l5 = _(r4 = e3, t, a5 = Z), s4 = _(r4, i4, a5, l5), r4.slice(l5, s4 + 1)), J);\n      var r4, i4, a5, l5, s4;\n    }(g3, o3, r3, L3);\n    if (0 === F2.length)\n      return null;\n    var z2 = i3 - 1;\n    return be(tap([], function(e3) {\n      for (var t, n4 = f(F2); !(t = n4()).done; ) {\n        var i4 = t.value, a5 = i4.value, l5 = a5.offset, s4 = i4.start, u4 = a5.size;\n        if (a5.offset < o3) {\n          var c2 = (s4 += Math.floor((o3 - a5.offset + m3) \/ (u4 + m3))) - i4.start;\n          l5 += c2 * u4 + c2 * m3;\n        }\n        s4 < L3 && (l5 += (L3 - s4) * u4, s4 = L3);\n        for (var p4 = Math.min(i4.end, z2), h4 = s4; h4 <= p4 && !(l5 >= r3); h4++)\n          e3.push({ index: h4, size: u4, offset: l5, data: d3 && d3[h4] }), l5 += u4 + m3;\n      }\n    }), v3, i3, m3, p3, u3);\n  }), filter(function(e2) {\n    return null !== e2;\n  }), distinctUntilChanged()), we);\n  return connect(pipe(i2, filter(function(e2) {\n    return void 0 !== e2;\n  }), map2(function(e2) {\n    return e2.length;\n  })), r2), connect(pipe(b3, map2(function(e2) {\n    return e2.topListHeight;\n  })), S2), connect(S2, p2), connect(pipe(b3, map2(function(e2) {\n    return [e2.top, e2.bottom];\n  })), d2), connect(pipe(b3, map2(function(e2) {\n    return e2.items;\n  })), x2), c({ listState: b3, topItemsIndexes: w2, endReached: streamFromEmitter(pipe(b3, filter(function(e2) {\n    return e2.items.length > 0;\n  }), withLatestFrom(r2, i2), filter(function(e2) {\n    var t = e2[0].items;\n    return t[t.length - 1].originalIndex === e2[1] - 1;\n  }), map2(function(e2) {\n    return [e2[1] - 1, e2[2]];\n  }), distinctUntilChanged(ve), map2(function(e2) {\n    return e2[0];\n  }))), startReached: streamFromEmitter(pipe(b3, throttleTime(200), filter(function(e2) {\n    var t = e2.items;\n    return t.length > 0 && t[0].originalIndex === e2.topItems.length;\n  }), map2(function(e2) {\n    return e2.items[0].index;\n  }), distinctUntilChanged())), rangeChanged: streamFromEmitter(pipe(b3, filter(function(e2) {\n    return e2.items.length > 0;\n  }), map2(function(e2) {\n    for (var t = e2.items, n3 = 0, o3 = t.length - 1; \"group\" === t[n3].type && n3 < o3; )\n      n3++;\n    for (; \"group\" === t[o3].type && o3 > n3; )\n      o3--;\n    return { startIndex: t[n3].index, endIndex: t[o3].index };\n  }), distinctUntilChanged(Se))), itemsRendered: x2 }, C3);\n}, tup(re, ge, Te, de, le, ce, me, K), { singleton: true });\nvar He = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.firstItemIndex, i2 = n2.data, a3 = n2.gap, l3 = e[1].listState, s2 = e[2].didMount, u2 = statefulStream(0);\n  return connect(pipe(s2, withLatestFrom(u2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), withLatestFrom(o2, r2, a3, i2), map2(function(e2) {\n    var t = e2[0][1], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = e2[4], a4 = void 0 === i3 ? [] : i3, l4 = 0;\n    if (n3.groupIndices.length > 0)\n      for (var s3, u3 = f(n3.groupIndices); !((s3 = u3()).done || s3.value - l4 >= t); )\n        l4++;\n    var c2 = t + l4;\n    return be(Array.from({ length: c2 }).map(function(e3, t2) {\n      return { index: t2, size: 0, offset: 0, data: a4[t2] };\n    }), [], c2, r3, n3, o3);\n  })), l3), { initialItemCount: u2 };\n}, tup(re, ye, me), { singleton: true });\nvar Ee = system(function(e) {\n  var n2 = e[0].scrollVelocity, o2 = statefulStream(false), r2 = stream(), i2 = statefulStream(false);\n  return connect(pipe(n2, withLatestFrom(i2, o2, r2), filter(function(e2) {\n    return !!e2[1];\n  }), map2(function(e2) {\n    var t = e2[0], n3 = e2[1], o3 = e2[2], r3 = e2[3], i3 = n3.enter;\n    if (o3) {\n      if ((0, n3.exit)(t, r3))\n        return false;\n    } else if (i3(t, r3))\n      return true;\n    return o3;\n  }), distinctUntilChanged()), o2), subscribe(pipe(combineLatest(o2, n2, r2), withLatestFrom(i2)), function(e2) {\n    var t = e2[0], n3 = e2[1];\n    return t[0] && n3 && n3.change && n3.change(t[1], t[2]);\n  }), { isSeeking: o2, scrollSeekConfiguration: i2, scrollVelocity: n2, scrollSeekRangeChanged: r2 };\n}, tup(ce), { singleton: true });\nvar Re = system(function(e) {\n  var n2 = e[0].topItemsIndexes, o2 = statefulStream(0);\n  return connect(pipe(o2, filter(function(e2) {\n    return e2 > 0;\n  }), map2(function(e2) {\n    return Array.from({ length: e2 }).map(function(e3, t) {\n      return t;\n    });\n  })), n2), { topItemCount: o2 };\n}, tup(ye));\nvar Le = system(function(e) {\n  var n2 = e[0], o2 = n2.footerHeight, r2 = n2.headerHeight, i2 = n2.fixedHeaderHeight, a3 = n2.fixedFooterHeight, l3 = e[1].listState, s2 = stream(), u2 = statefulStreamFromEmitter(pipe(combineLatest(o2, a3, r2, i2, l3), map2(function(e2) {\n    var t = e2[4];\n    return e2[0] + e2[1] + e2[2] + e2[3] + t.offsetBottom + t.bottom;\n  })), 0);\n  return connect(duc(u2), s2), { totalListHeight: u2, totalListHeightChanged: s2 };\n}, tup(y, ye), { singleton: true });\nfunction Fe(e) {\n  var t, n2 = false;\n  return function() {\n    return n2 || (n2 = true, t = e()), t;\n  };\n}\nvar ke = Fe(function() {\n  return \/iP(ad|hone|od).+Version\\\/[\\d.]+.*Safari\/i.test(navigator.userAgent);\n});\nvar ze = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollBy, r2 = n2.scrollTop, i2 = n2.deviation, a3 = n2.scrollingInProgress, l3 = e[1], s2 = l3.isScrolling, u2 = l3.isAtBottom, c2 = l3.scrollDirection, m2 = e[3], d2 = m2.beforeUnshiftWith, f2 = m2.shiftWithOffset, p2 = m2.sizes, g2 = m2.gap, v2 = e[4].log, S2 = e[5].recalcInProgress, C3 = streamFromEmitter(pipe(e[2].listState, withLatestFrom(l3.lastJumpDueToItemResize), scan(function(e2, t) {\n    var n3 = e2[1], o3 = t[0], r3 = o3.items, i3 = o3.totalCount, a4 = o3.bottom + o3.offsetBottom, l4 = 0;\n    return e2[2] === i3 && n3.length > 0 && r3.length > 0 && (0 === r3[0].originalIndex && 0 === n3[0].originalIndex || 0 != (l4 = a4 - e2[3]) && (l4 += t[1])), [l4, r3, i3, a4];\n  }, [0, [], 0, 0]), filter(function(e2) {\n    return 0 !== e2[0];\n  }), withLatestFrom(r2, c2, a3, u2, v2), filter(function(e2) {\n    return !e2[3] && 0 !== e2[1] && e2[2] === se;\n  }), map2(function(e2) {\n    var t = e2[0][0];\n    return (0, e2[5])(\"Upward scrolling compensation\", { amount: t }, h.DEBUG), t;\n  })));\n  function I2(e2) {\n    e2 > 0 ? (publish(o2, { top: -e2, behavior: \"auto\" }), publish(i2, 0)) : (publish(i2, 0), publish(o2, { top: -e2, behavior: \"auto\" }));\n  }\n  return subscribe(pipe(C3, withLatestFrom(i2, s2)), function(e2) {\n    var n3 = e2[0], o3 = e2[1];\n    e2[2] && ke() ? publish(i2, o3 - n3) : I2(-n3);\n  }), subscribe(pipe(combineLatest(statefulStreamFromEmitter(s2, false), i2, S2), filter(function(e2) {\n    return !e2[0] && !e2[2] && 0 !== e2[1];\n  }), map2(function(e2) {\n    return e2[1];\n  }), throttleTime(1)), I2), connect(pipe(f2, map2(function(e2) {\n    return { top: -e2 };\n  })), o2), subscribe(pipe(d2, withLatestFrom(p2, g2), map2(function(e2) {\n    var t = e2[0];\n    return t * e2[1].lastSize + t * e2[2];\n  })), function(e2) {\n    publish(i2, e2), requestAnimationFrame(function() {\n      publish(o2, { top: e2 }), requestAnimationFrame(function() {\n        publish(i2, 0), publish(S2, false);\n      });\n    });\n  }), { deviation: i2 };\n}, tup(y, ce, ye, re, S, K));\nvar Be = system(function(e) {\n  var n2 = e[0].totalListHeight, o2 = e[1].didMount, r2 = e[2].scrollTo, i2 = statefulStream(0);\n  return subscribe(pipe(o2, withLatestFrom(i2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), map2(function(e2) {\n    return { top: e2[1] };\n  })), function(e2) {\n    handleNext(pipe(n2, filter(function(e3) {\n      return 0 !== e3;\n    })), function() {\n      setTimeout(function() {\n        publish(r2, e2);\n      });\n    });\n  }), { initialScrollTop: i2 };\n}, tup(Le, me, y), { singleton: true });\nvar Pe = system(function(e) {\n  var n2 = e[0].viewportHeight, o2 = e[1].totalListHeight, r2 = statefulStream(false);\n  return { alignToBottom: r2, paddingTopAddition: statefulStreamFromEmitter(pipe(combineLatest(r2, n2, o2), filter(function(e2) {\n    return e2[0];\n  }), map2(function(e2) {\n    return Math.max(0, e2[1] - e2[2]);\n  }), distinctUntilChanged()), 0) };\n}, tup(y, Le), { singleton: true });\nvar Oe = system(function(e) {\n  var n2 = e[0], o2 = n2.scrollTo, r2 = n2.scrollContainerState, i2 = stream(), a3 = stream(), l3 = stream(), s2 = statefulStream(false), u2 = statefulStream(void 0);\n  return connect(pipe(combineLatest(i2, a3), map2(function(e2) {\n    var t = e2[0], n3 = t.viewportHeight, o3 = t.scrollHeight;\n    return { scrollTop: Math.max(0, t.scrollTop - e2[1].offsetTop), scrollHeight: o3, viewportHeight: n3 };\n  })), r2), connect(pipe(o2, withLatestFrom(a3), map2(function(e2) {\n    var t = e2[0];\n    return c({}, t, { top: t.top + e2[1].offsetTop });\n  })), l3), { useWindowScroll: s2, customScrollParent: u2, windowScrollContainerState: i2, windowViewportRect: a3, windowScrollTo: l3 };\n}, tup(y));\nvar Me = [\"done\", \"behavior\", \"align\"];\nvar We = system(function(e) {\n  var n2 = e[0], o2 = n2.sizes, r2 = n2.totalCount, i2 = n2.gap, a3 = e[1], l3 = a3.scrollTop, s2 = a3.viewportHeight, u2 = a3.headerHeight, d2 = a3.fixedHeaderHeight, f2 = a3.fixedFooterHeight, p2 = a3.scrollingInProgress, h2 = e[2].scrollToIndex, g2 = stream();\n  return connect(pipe(g2, withLatestFrom(o2, s2, r2, u2, d2, f2, l3), withLatestFrom(i2), map2(function(e2) {\n    var n3 = e2[0], o3 = n3[0], r3 = n3[1], i3 = n3[2], a4 = n3[3], l4 = n3[4], s3 = n3[5], u3 = n3[6], d3 = n3[7], f3 = e2[1], h3 = o3.done, g3 = o3.behavior, v2 = o3.align, S2 = m(o3, Me), C3 = null, I2 = ee(o3, r3, a4 - 1), T2 = X(I2, r3.offsetTree, f3) + l4 + s3;\n    return T2 < d3 + s3 ? C3 = c({}, S2, { behavior: g3, align: null != v2 ? v2 : \"start\" }) : T2 + k(r3.sizeTree, I2)[1] > d3 + i3 - u3 && (C3 = c({}, S2, { behavior: g3, align: null != v2 ? v2 : \"end\" })), C3 ? h3 && handleNext(pipe(p2, skip(1), filter(function(e3) {\n      return false === e3;\n    })), h3) : h3 && h3(), C3;\n  }), filter(function(e2) {\n    return null !== e2;\n  })), h2), { scrollIntoView: g2 };\n}, tup(re, y, le, ye, S), { singleton: true });\nvar Ve = [\"listState\", \"topItemsIndexes\"];\nvar Ue = system(function(e) {\n  return c({}, e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8]);\n}, tup(Te, He, me, Ee, Le, Be, Pe, Oe, We));\nvar Ae = system(function(e) {\n  var n2 = e[0], o2 = n2.totalCount, r2 = n2.sizeRanges, i2 = n2.fixedItemSize, a3 = n2.defaultItemSize, l3 = n2.trackItemSizes, s2 = n2.itemSize, u2 = n2.data, d2 = n2.firstItemIndex, f2 = n2.groupIndices, p2 = n2.statefulTotalCount, h2 = n2.gap, g2 = e[1], v2 = g2.initialTopMostItemIndex, S2 = g2.scrolledToInitialItem, C3 = e[2], I2 = e[3], T2 = e[4], w2 = T2.listState, x2 = T2.topItemsIndexes, b3 = m(T2, Ve), y2 = e[5].scrollToIndex, H2 = e[7].topItemCount, E2 = e[8].groupCounts, R3 = e[9], L3 = e[10];\n  return connect(b3.rangeChanged, R3.scrollSeekRangeChanged), connect(pipe(R3.windowViewportRect, map2(function(e2) {\n    return e2.visibleHeight;\n  })), C3.viewportHeight), c({ totalCount: o2, data: u2, firstItemIndex: d2, sizeRanges: r2, initialTopMostItemIndex: v2, scrolledToInitialItem: S2, topItemsIndexes: x2, topItemCount: H2, groupCounts: E2, fixedItemHeight: i2, defaultItemHeight: a3, gap: h2 }, I2, { statefulTotalCount: p2, listState: w2, scrollToIndex: y2, trackItemSizes: l3, itemSize: s2, groupIndices: f2 }, b3, R3, C3, L3);\n}, tup(re, de, y, pe, ye, le, ze, Re, ge, Ue, S));\nvar Ne = Fe(function() {\n  if (\"undefined\" == typeof document)\n    return \"sticky\";\n  var e = document.createElement(\"div\");\n  return e.style.position = \"-webkit-sticky\", \"-webkit-sticky\" === e.style.position ? \"-webkit-sticky\" : \"sticky\";\n});\nfunction De(e, t) {\n  var n2 = (0, import_react28.useRef)(null), o2 = (0, import_react28.useCallback)(function(o3) {\n    if (null !== o3 && o3.offsetParent) {\n      var r2, i2, a3 = o3.getBoundingClientRect(), l4 = a3.width;\n      if (t) {\n        var s3 = t.getBoundingClientRect(), u3 = a3.top - s3.top;\n        r2 = s3.height - Math.max(0, u3), i2 = u3 + t.scrollTop;\n      } else\n        r2 = window.innerHeight - Math.max(0, a3.top), i2 = a3.top + window.pageYOffset;\n      n2.current = { offsetTop: i2, visibleHeight: r2, visibleWidth: l4 }, e(n2.current);\n    }\n  }, [e, t]), l3 = C(o2), s2 = l3.callbackRef, u2 = l3.ref, c2 = (0, import_react28.useCallback)(function() {\n    o2(u2.current);\n  }, [o2, u2]);\n  return (0, import_react28.useEffect)(function() {\n    if (t) {\n      t.addEventListener(\"scroll\", c2);\n      var e2 = new ResizeObserver(c2);\n      return e2.observe(t), function() {\n        t.removeEventListener(\"scroll\", c2), e2.unobserve(t);\n      };\n    }\n    return window.addEventListener(\"scroll\", c2), window.addEventListener(\"resize\", c2), function() {\n      window.removeEventListener(\"scroll\", c2), window.removeEventListener(\"resize\", c2);\n    };\n  }, [c2, t]), s2;\n}\nvar Ge = n.createContext(void 0);\nvar _e = n.createContext(void 0);\nvar je = [\"placeholder\"];\nvar Ke = [\"style\", \"children\"];\nvar Ye = [\"style\", \"children\"];\nfunction qe(e) {\n  return e;\n}\nvar Ze = system(function() {\n  var e = statefulStream(function(e2) {\n    return \"Item \" + e2;\n  }), n2 = statefulStream(null), o2 = statefulStream(function(e2) {\n    return \"Group \" + e2;\n  }), r2 = statefulStream({}), i2 = statefulStream(qe), a3 = statefulStream(\"div\"), l3 = statefulStream(noop4), s2 = function(e2, n3) {\n    return void 0 === n3 && (n3 = null), statefulStreamFromEmitter(pipe(r2, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), n3);\n  };\n  return { context: n2, itemContent: e, groupContent: o2, components: r2, computeItemKey: i2, headerFooterTag: a3, scrollerRef: l3, FooterComponent: s2(\"Footer\"), HeaderComponent: s2(\"Header\"), TopItemListComponent: s2(\"TopItemList\"), ListComponent: s2(\"List\", \"div\"), ItemComponent: s2(\"Item\", \"div\"), GroupComponent: s2(\"Group\", \"div\"), ScrollerComponent: s2(\"Scroller\", \"div\"), EmptyPlaceholder: s2(\"EmptyPlaceholder\"), ScrollSeekPlaceholder: s2(\"ScrollSeekPlaceholder\") };\n});\nfunction Je(e, n2) {\n  var o2 = stream();\n  return subscribe(o2, function() {\n    return console.warn(\"react-virtuoso: You are using a deprecated property. \" + n2, \"color: red;\", \"color: inherit;\", \"color: blue;\");\n  }), connect(o2, e), o2;\n}\nvar $e = system(function(e) {\n  var n2 = e[0], o2 = e[1], r2 = { item: Je(o2.itemContent, \"Rename the %citem%c prop to %citemContent.\"), group: Je(o2.groupContent, \"Rename the %cgroup%c prop to %cgroupContent.\"), topItems: Je(n2.topItemCount, \"Rename the %ctopItems%c prop to %ctopItemCount.\"), itemHeight: Je(n2.fixedItemHeight, \"Rename the %citemHeight%c prop to %cfixedItemHeight.\"), scrollingStateChange: Je(n2.isScrolling, \"Rename the %cscrollingStateChange%c prop to %cisScrolling.\"), adjustForPrependedItems: stream(), maxHeightCacheSize: stream(), footer: stream(), header: stream(), HeaderContainer: stream(), FooterContainer: stream(), ItemContainer: stream(), ScrollContainer: stream(), GroupContainer: stream(), ListContainer: stream(), emptyComponent: stream(), scrollSeek: stream() };\n  function i2(e2, n3, r3) {\n    connect(pipe(e2, withLatestFrom(o2.components), map2(function(e3) {\n      var t, o3 = e3[0], i3 = e3[1];\n      return console.warn(\"react-virtuoso: \" + r3 + \" property is deprecated. Pass components.\" + n3 + \" instead.\"), c({}, i3, ((t = {})[n3] = o3, t));\n    })), o2.components);\n  }\n  return subscribe(r2.adjustForPrependedItems, function() {\n    console.warn(\"react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https:\/\/virtuoso.dev\/prepend-items.\", \"color: red;\", \"color: inherit;\", \"color: blue;\");\n  }), subscribe(r2.maxHeightCacheSize, function() {\n    console.warn(\"react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.\");\n  }), subscribe(r2.HeaderContainer, function() {\n    console.warn(\"react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.\");\n  }), subscribe(r2.FooterContainer, function() {\n    console.warn(\"react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.\");\n  }), subscribe(r2.scrollSeek, function(e2) {\n    var r3 = e2.placeholder, i3 = m(e2, je);\n    console.warn(\"react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.\"), publish(o2.components, c({}, getValue(o2.components), { ScrollSeekPlaceholder: r3 })), publish(n2.scrollSeekConfiguration, i3);\n  }), i2(r2.footer, \"Footer\", \"footer\"), i2(r2.header, \"Header\", \"header\"), i2(r2.ItemContainer, \"Item\", \"ItemContainer\"), i2(r2.ListContainer, \"List\", \"ListContainer\"), i2(r2.ScrollContainer, \"Scroller\", \"ScrollContainer\"), i2(r2.emptyComponent, \"EmptyPlaceholder\", \"emptyComponent\"), i2(r2.GroupContainer, \"Group\", \"GroupContainer\"), c({}, n2, o2, r2);\n}, tup(Ae, Ze));\nvar Qe = function(e) {\n  return n.createElement(\"div\", { style: { height: e.height } });\n};\nvar Xe = { position: Ne(), zIndex: 1, overflowAnchor: \"none\" };\nvar et = { overflowAnchor: \"none\" };\nvar tt = n.memo(function(e) {\n  var o2 = e.showTopList, r2 = void 0 !== o2 && o2, i2 = gt(\"listState\"), a3 = ht(\"sizeRanges\"), s2 = gt(\"useWindowScroll\"), u2 = gt(\"customScrollParent\"), m2 = ht(\"windowScrollContainerState\"), d2 = ht(\"scrollContainerState\"), f2 = u2 || s2 ? m2 : d2, p2 = gt(\"itemContent\"), h2 = gt(\"context\"), g2 = gt(\"groupContent\"), v2 = gt(\"trackItemSizes\"), S2 = gt(\"itemSize\"), C3 = gt(\"log\"), I2 = ht(\"gap\"), w2 = T(a3, S2, v2, r2 ? noop4 : f2, C3, I2, u2).callbackRef, x2 = n.useState(0), b3 = x2[0], y2 = x2[1];\n  vt(\"deviation\", function(e2) {\n    b3 !== e2 && y2(e2);\n  });\n  var H2 = gt(\"EmptyPlaceholder\"), E2 = gt(\"ScrollSeekPlaceholder\") || Qe, R3 = gt(\"ListComponent\"), L3 = gt(\"ItemComponent\"), F2 = gt(\"GroupComponent\"), k2 = gt(\"computeItemKey\"), z2 = gt(\"isSeeking\"), B3 = gt(\"groupIndices\").length > 0, P2 = gt(\"paddingTopAddition\"), O2 = r2 ? {} : { boxSizing: \"border-box\", paddingTop: i2.offsetTop + P2, paddingBottom: i2.offsetBottom, marginTop: b3 };\n  return !r2 && 0 === i2.totalCount && H2 ? (0, import_react28.createElement)(H2, it(H2, h2)) : (0, import_react28.createElement)(R3, c({}, it(R3, h2), { ref: w2, style: O2, \"data-test-id\": r2 ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\" }), (r2 ? i2.topItems : i2.items).map(function(e2) {\n    var t = e2.originalIndex, n2 = k2(t + i2.firstItemIndex, e2.data, h2);\n    return z2 ? (0, import_react28.createElement)(E2, c({}, it(E2, h2), { key: n2, index: e2.index, height: e2.size, type: e2.type || \"item\" }, \"group\" === e2.type ? {} : { groupIndex: e2.groupIndex })) : \"group\" === e2.type ? (0, import_react28.createElement)(F2, c({}, it(F2, h2), { key: n2, \"data-index\": t, \"data-known-size\": e2.size, \"data-item-index\": e2.index, style: Xe }), g2(e2.index)) : (0, import_react28.createElement)(L3, c({}, it(L3, h2), { key: n2, \"data-index\": t, \"data-known-size\": e2.size, \"data-item-index\": e2.index, \"data-item-group-index\": e2.groupIndex, style: et }), B3 ? p2(e2.index, e2.groupIndex, e2.data, h2) : p2(e2.index, e2.data, h2));\n  }));\n});\nvar nt = { height: \"100%\", outline: \"none\", overflowY: \"auto\", position: \"relative\", WebkitOverflowScrolling: \"touch\" };\nvar ot = { width: \"100%\", height: \"100%\", position: \"absolute\", top: 0 };\nvar rt = { width: \"100%\", position: Ne(), top: 0 };\nfunction it(e, t) {\n  if (\"string\" != typeof e)\n    return { context: t };\n}\nvar at = n.memo(function() {\n  var e = gt(\"HeaderComponent\"), t = ht(\"headerHeight\"), n2 = gt(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = gt(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar lt = n.memo(function() {\n  var e = gt(\"FooterComponent\"), t = ht(\"footerHeight\"), n2 = gt(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = gt(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nfunction st(e) {\n  var t = e.usePublisher, o2 = e.useEmitter, r2 = e.useEmitterValue;\n  return n.memo(function(e2) {\n    var n2 = e2.style, i2 = e2.children, a3 = m(e2, Ke), s2 = t(\"scrollContainerState\"), u2 = r2(\"ScrollerComponent\"), d2 = t(\"smoothScrollTargetReached\"), f2 = r2(\"scrollerRef\"), p2 = r2(\"context\"), h2 = b(s2, d2, u2, f2), g2 = h2.scrollerRef, v2 = h2.scrollByCallback;\n    return o2(\"scrollTo\", h2.scrollToCallback), o2(\"scrollBy\", v2), (0, import_react28.createElement)(u2, c({ ref: g2, style: c({}, nt, n2), \"data-test-id\": \"virtuoso-scroller\", \"data-virtuoso-scroller\": true, tabIndex: 0 }, a3, it(u2, p2)), i2);\n  });\n}\nfunction ut(e) {\n  var o2 = e.usePublisher, r2 = e.useEmitter, i2 = e.useEmitterValue;\n  return n.memo(function(e2) {\n    var n2 = e2.style, a3 = e2.children, s2 = m(e2, Ye), u2 = o2(\"windowScrollContainerState\"), d2 = i2(\"ScrollerComponent\"), f2 = o2(\"smoothScrollTargetReached\"), p2 = i2(\"totalListHeight\"), h2 = i2(\"deviation\"), v2 = i2(\"customScrollParent\"), S2 = i2(\"context\"), C3 = b(u2, f2, d2, noop4, v2), I2 = C3.scrollerRef, T2 = C3.scrollByCallback, w2 = C3.scrollToCallback;\n    return g(function() {\n      return I2.current = v2 || window, function() {\n        I2.current = null;\n      };\n    }, [I2, v2]), r2(\"windowScrollTo\", w2), r2(\"scrollBy\", T2), (0, import_react28.createElement)(d2, c({ style: c({ position: \"relative\" }, n2, 0 !== p2 ? { height: p2 + h2 } : {}), \"data-virtuoso-scroller\": true }, s2, it(d2, S2)), a3);\n  });\n}\nvar ct = function(e) {\n  var o2 = e.children, r2 = (0, import_react28.useContext)(Ge), i2 = ht(\"viewportHeight\"), a3 = ht(\"fixedItemHeight\"), l3 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  }));\n  return n.useEffect(function() {\n    r2 && (i2(r2.viewportHeight), a3(r2.itemHeight));\n  }, [r2, i2, a3]), n.createElement(\"div\", { style: ot, ref: l3, \"data-viewport-type\": \"element\" }, o2);\n};\nvar mt = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(Ge), r2 = ht(\"windowViewportRect\"), i2 = ht(\"fixedItemHeight\"), a3 = gt(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2(o2.itemHeight), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: 100 }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot, \"data-viewport-type\": \"window\" }, t);\n};\nvar dt = function(e) {\n  var t = e.children, n2 = gt(\"TopItemListComponent\"), o2 = gt(\"headerHeight\"), r2 = c({}, rt, { marginTop: o2 + \"px\" }), i2 = gt(\"context\");\n  return (0, import_react28.createElement)(n2 || \"div\", { style: r2, context: i2 }, t);\n};\nvar ft = systemToComponent($e, { required: {}, optional: { context: \"context\", followOutput: \"followOutput\", firstItemIndex: \"firstItemIndex\", itemContent: \"itemContent\", groupContent: \"groupContent\", overscan: \"overscan\", increaseViewportBy: \"increaseViewportBy\", totalCount: \"totalCount\", topItemCount: \"topItemCount\", initialTopMostItemIndex: \"initialTopMostItemIndex\", components: \"components\", groupCounts: \"groupCounts\", atBottomThreshold: \"atBottomThreshold\", atTopThreshold: \"atTopThreshold\", computeItemKey: \"computeItemKey\", defaultItemHeight: \"defaultItemHeight\", fixedItemHeight: \"fixedItemHeight\", itemSize: \"itemSize\", scrollSeekConfiguration: \"scrollSeekConfiguration\", headerFooterTag: \"headerFooterTag\", data: \"data\", initialItemCount: \"initialItemCount\", initialScrollTop: \"initialScrollTop\", alignToBottom: \"alignToBottom\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", logLevel: \"logLevel\", react18ConcurrentRendering: \"react18ConcurrentRendering\", item: \"item\", group: \"group\", topItems: \"topItems\", itemHeight: \"itemHeight\", scrollingStateChange: \"scrollingStateChange\", maxHeightCacheSize: \"maxHeightCacheSize\", footer: \"footer\", header: \"header\", ItemContainer: \"ItemContainer\", ScrollContainer: \"ScrollContainer\", ListContainer: \"ListContainer\", GroupContainer: \"GroupContainer\", emptyComponent: \"emptyComponent\", HeaderContainer: \"HeaderContainer\", FooterContainer: \"FooterContainer\", scrollSeek: \"scrollSeek\" }, methods: { scrollToIndex: \"scrollToIndex\", scrollIntoView: \"scrollIntoView\", scrollTo: \"scrollTo\", scrollBy: \"scrollBy\", adjustForPrependedItems: \"adjustForPrependedItems\", autoscrollToBottom: \"autoscrollToBottom\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\", totalListHeightChanged: \"totalListHeightChanged\", itemsRendered: \"itemsRendered\", groupIndices: \"groupIndices\" } }, n.memo(function(e) {\n  var t = gt(\"useWindowScroll\"), o2 = gt(\"topItemsIndexes\").length > 0, r2 = gt(\"customScrollParent\"), i2 = r2 || t ? mt : ct;\n  return n.createElement(r2 || t ? Ct : St, c({}, e), n.createElement(i2, null, n.createElement(at, null), n.createElement(tt, null), n.createElement(lt, null)), o2 && n.createElement(dt, null, n.createElement(tt, { showTopList: true })));\n}));\nvar pt = ft.Component;\nvar ht = ft.usePublisher;\nvar gt = ft.useEmitterValue;\nvar vt = ft.useEmitter;\nvar St = st({ usePublisher: ht, useEmitterValue: gt, useEmitter: vt });\nvar Ct = ut({ usePublisher: ht, useEmitterValue: gt, useEmitter: vt });\nvar It = { items: [], offsetBottom: 0, offsetTop: 0, top: 0, bottom: 0, itemHeight: 0, itemWidth: 0 };\nvar Tt = { items: [{ index: 0 }], offsetBottom: 0, offsetTop: 0, top: 0, bottom: 0, itemHeight: 0, itemWidth: 0 };\nvar wt = Math.round;\nvar xt = Math.ceil;\nvar bt = Math.floor;\nvar yt = Math.min;\nvar Ht = Math.max;\nfunction Et(e, t, n2) {\n  return Array.from({ length: t - e + 1 }).map(function(t2, o2) {\n    return { index: o2 + e, data: null == n2 ? void 0 : n2[o2 + e] };\n  });\n}\nfunction Rt(e, t) {\n  return e && e.column === t.column && e.row === t.row;\n}\nvar Lt = system(function(e) {\n  var n2 = e[0], o2 = n2.overscan, r2 = n2.visibleRange, i2 = n2.listBoundary, a3 = e[1], l3 = a3.scrollTop, s2 = a3.viewportHeight, u2 = a3.scrollBy, m2 = a3.scrollTo, d2 = a3.smoothScrollTargetReached, f2 = a3.scrollContainerState, p2 = a3.footerHeight, h2 = a3.headerHeight, g2 = e[2], v2 = e[3], S2 = e[4], C3 = S2.propsReady, I2 = S2.didMount, T2 = e[5], w2 = T2.windowViewportRect, x2 = T2.windowScrollTo, b3 = T2.useWindowScroll, y2 = T2.customScrollParent, H2 = T2.windowScrollContainerState, E2 = e[6], R3 = statefulStream(0), L3 = statefulStream(0), F2 = statefulStream(It), k2 = statefulStream({ height: 0, width: 0 }), z2 = statefulStream({ height: 0, width: 0 }), B3 = stream(), P2 = stream(), O2 = statefulStream(0), M2 = statefulStream(void 0), W2 = statefulStream({ row: 0, column: 0 });\n  connect(pipe(combineLatest(I2, L3, M2), filter(function(e2) {\n    return 0 !== e2[1];\n  }), map2(function(e2) {\n    return { items: Et(0, e2[1] - 1, e2[2]), top: 0, bottom: 0, offsetBottom: 0, offsetTop: 0, itemHeight: 0, itemWidth: 0 };\n  })), F2), connect(pipe(combineLatest(duc(R3), r2, duc(W2, Rt), duc(z2, function(e2, t) {\n    return e2 && e2.width === t.width && e2.height === t.height;\n  }), M2), withLatestFrom(k2), map2(function(e2) {\n    var t = e2[0], n3 = t[0], o3 = t[1], r3 = o3[0], i3 = o3[1], a4 = t[2], l4 = t[3], s3 = t[4], u3 = e2[1], m3 = a4.row, d3 = a4.column, f3 = l4.height, p3 = l4.width, h3 = u3.width;\n    if (0 === n3 || 0 === h3)\n      return It;\n    if (0 === p3)\n      return function(e3) {\n        return c({}, Tt, { items: e3 });\n      }(Et(0, 0, s3));\n    var g3 = zt(h3, p3, d3), v3 = g3 * bt((r3 + m3) \/ (f3 + m3)), S3 = g3 * xt((i3 + m3) \/ (f3 + m3)) - 1;\n    S3 = yt(n3 - 1, Ht(S3, g3 - 1));\n    var C4 = Et(v3 = yt(S3, Ht(0, v3)), S3, s3), I3 = Ft(u3, a4, l4, C4), T3 = I3.top, w3 = I3.bottom, x3 = xt(n3 \/ g3);\n    return { items: C4, offsetTop: T3, offsetBottom: x3 * f3 + (x3 - 1) * m3 - w3, top: T3, bottom: w3, itemHeight: f3, itemWidth: p3 };\n  })), F2), connect(pipe(M2, filter(function(e2) {\n    return void 0 !== e2;\n  }), map2(function(e2) {\n    return e2.length;\n  })), R3), connect(pipe(k2, map2(function(e2) {\n    return e2.height;\n  })), s2), connect(pipe(combineLatest(k2, z2, F2, W2), map2(function(e2) {\n    var t = Ft(e2[0], e2[3], e2[1], e2[2].items);\n    return [t.top, t.bottom];\n  }), distinctUntilChanged(ve)), i2);\n  var V4 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    return e2.items.length > 0;\n  }), withLatestFrom(R3), filter(function(e2) {\n    var t = e2[0].items;\n    return t[t.length - 1].index === e2[1] - 1;\n  }), map2(function(e2) {\n    return e2[1] - 1;\n  }), distinctUntilChanged())), U2 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    var t = e2.items;\n    return t.length > 0 && 0 === t[0].index;\n  }), mapTo(0), distinctUntilChanged())), A3 = streamFromEmitter(pipe(duc(F2), filter(function(e2) {\n    return e2.items.length > 0;\n  }), map2(function(e2) {\n    var t = e2.items;\n    return { startIndex: t[0].index, endIndex: t[t.length - 1].index };\n  }), distinctUntilChanged(Se)));\n  connect(A3, v2.scrollSeekRangeChanged), connect(pipe(B3, withLatestFrom(k2, z2, R3, W2), map2(function(e2) {\n    var t = e2[1], n3 = e2[2], o3 = e2[3], r3 = e2[4], i3 = ae(e2[0]), a4 = i3.align, l4 = i3.behavior, s3 = i3.offset, u3 = i3.index;\n    \"LAST\" === u3 && (u3 = o3 - 1);\n    var c2 = kt(t, r3, n3, u3 = Ht(0, u3, yt(o3 - 1, u3)));\n    return \"end\" === a4 ? c2 = wt(c2 - t.height + n3.height) : \"center\" === a4 && (c2 = wt(c2 - t.height \/ 2 + n3.height \/ 2)), s3 && (c2 += s3), { top: c2, behavior: l4 };\n  })), m2);\n  var N2 = statefulStreamFromEmitter(pipe(F2, map2(function(e2) {\n    return e2.offsetBottom + e2.bottom;\n  })), 0);\n  return connect(pipe(w2, map2(function(e2) {\n    return { width: e2.visibleWidth, height: e2.visibleHeight };\n  })), k2), c({ data: M2, totalCount: R3, viewportDimensions: k2, itemDimensions: z2, scrollTop: l3, scrollHeight: P2, overscan: o2, scrollBy: u2, scrollTo: m2, scrollToIndex: B3, smoothScrollTargetReached: d2, windowViewportRect: w2, windowScrollTo: x2, useWindowScroll: b3, customScrollParent: y2, windowScrollContainerState: H2, deviation: O2, scrollContainerState: f2, footerHeight: p2, headerHeight: h2, initialItemCount: L3, gap: W2 }, v2, { gridState: F2, totalListHeight: N2 }, g2, { startReached: U2, endReached: V4, rangeChanged: A3, propsReady: C3 }, E2);\n}, tup(Te, y, ce, Ee, me, Oe, S));\nfunction Ft(e, t, n2, o2) {\n  var r2 = n2.height;\n  return void 0 === r2 || 0 === o2.length ? { top: 0, bottom: 0 } : { top: kt(e, t, n2, o2[0].index), bottom: kt(e, t, n2, o2[o2.length - 1].index) + r2 };\n}\nfunction kt(e, t, n2, o2) {\n  var r2 = zt(e.width, n2.width, t.column), i2 = bt(o2 \/ r2), a3 = i2 * n2.height + Ht(0, i2 - 1) * t.row;\n  return a3 > 0 ? a3 + t.row : a3;\n}\nfunction zt(e, t, n2) {\n  return Ht(1, bt((e + n2) \/ (t + n2)));\n}\nvar Bt = [\"placeholder\"];\nvar Pt = system(function() {\n  var e = statefulStream(function(e2) {\n    return \"Item \" + e2;\n  }), n2 = statefulStream({}), o2 = statefulStream(null), r2 = statefulStream(\"virtuoso-grid-item\"), i2 = statefulStream(\"virtuoso-grid-list\"), a3 = statefulStream(qe), l3 = statefulStream(\"div\"), s2 = statefulStream(noop4), u2 = function(e2, o3) {\n    return void 0 === o3 && (o3 = null), statefulStreamFromEmitter(pipe(n2, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), o3);\n  };\n  return { context: o2, itemContent: e, components: n2, computeItemKey: a3, itemClassName: r2, listClassName: i2, headerFooterTag: l3, scrollerRef: s2, FooterComponent: u2(\"Footer\"), HeaderComponent: u2(\"Header\"), ListComponent: u2(\"List\", \"div\"), ItemComponent: u2(\"Item\", \"div\"), ScrollerComponent: u2(\"Scroller\", \"div\"), ScrollSeekPlaceholder: u2(\"ScrollSeekPlaceholder\", \"div\") };\n});\nvar Ot = system(function(e) {\n  var n2 = e[0], o2 = e[1], r2 = { item: Je(o2.itemContent, \"Rename the %citem%c prop to %citemContent.\"), ItemContainer: stream(), ScrollContainer: stream(), ListContainer: stream(), emptyComponent: stream(), scrollSeek: stream() };\n  function i2(e2, n3, r3) {\n    connect(pipe(e2, withLatestFrom(o2.components), map2(function(e3) {\n      var t, o3 = e3[0], i3 = e3[1];\n      return console.warn(\"react-virtuoso: \" + r3 + \" property is deprecated. Pass components.\" + n3 + \" instead.\"), c({}, i3, ((t = {})[n3] = o3, t));\n    })), o2.components);\n  }\n  return subscribe(r2.scrollSeek, function(e2) {\n    var r3 = e2.placeholder, i3 = m(e2, Bt);\n    console.warn(\"react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.\"), publish(o2.components, c({}, getValue(o2.components), { ScrollSeekPlaceholder: r3 })), publish(n2.scrollSeekConfiguration, i3);\n  }), i2(r2.ItemContainer, \"Item\", \"ItemContainer\"), i2(r2.ListContainer, \"List\", \"ListContainer\"), i2(r2.ScrollContainer, \"Scroller\", \"ScrollContainer\"), c({}, n2, o2, r2);\n}, tup(Lt, Pt));\nvar Mt = n.memo(function() {\n  var e = _t(\"gridState\"), t = _t(\"listClassName\"), n2 = _t(\"itemClassName\"), o2 = _t(\"itemContent\"), r2 = _t(\"computeItemKey\"), i2 = _t(\"isSeeking\"), a3 = Gt(\"scrollHeight\"), s2 = _t(\"ItemComponent\"), u2 = _t(\"ListComponent\"), m2 = _t(\"ScrollSeekPlaceholder\"), d2 = _t(\"context\"), f2 = Gt(\"itemDimensions\"), p2 = Gt(\"gap\"), h2 = _t(\"log\"), g2 = I(function(e2) {\n    a3(e2.parentElement.parentElement.scrollHeight);\n    var t2 = e2.firstChild;\n    t2 && f2(t2.getBoundingClientRect()), p2({ row: qt(\"row-gap\", getComputedStyle(e2).rowGap, h2), column: qt(\"column-gap\", getComputedStyle(e2).columnGap, h2) });\n  });\n  return (0, import_react28.createElement)(u2, c({ ref: g2, className: t }, it(u2, d2), { style: { paddingTop: e.offsetTop, paddingBottom: e.offsetBottom } }), e.items.map(function(t2) {\n    var a4 = r2(t2.index, t2.data, d2);\n    return i2 ? (0, import_react28.createElement)(m2, c({ key: a4 }, it(m2, d2), { index: t2.index, height: e.itemHeight, width: e.itemWidth })) : (0, import_react28.createElement)(s2, c({}, it(s2, d2), { className: n2, \"data-index\": t2.index, key: a4 }), o2(t2.index, t2.data, d2));\n  }));\n});\nvar Wt = n.memo(function() {\n  var e = _t(\"HeaderComponent\"), t = Gt(\"headerHeight\"), n2 = _t(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = _t(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar Vt = n.memo(function() {\n  var e = _t(\"FooterComponent\"), t = Gt(\"footerHeight\"), n2 = _t(\"headerFooterTag\"), o2 = I(function(e2) {\n    return t(w(e2, \"height\"));\n  }), r2 = _t(\"context\");\n  return e ? (0, import_react28.createElement)(n2, { ref: o2 }, (0, import_react28.createElement)(e, it(e, r2))) : null;\n});\nvar Ut = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(_e), r2 = Gt(\"itemDimensions\"), i2 = Gt(\"viewportDimensions\"), a3 = I(function(e2) {\n    i2(e2.getBoundingClientRect());\n  });\n  return n.useEffect(function() {\n    o2 && (i2({ height: o2.viewportHeight, width: o2.viewportWidth }), r2({ height: o2.itemHeight, width: o2.itemWidth }));\n  }, [o2, i2, r2]), n.createElement(\"div\", { style: ot, ref: a3 }, t);\n};\nvar At = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(_e), r2 = Gt(\"windowViewportRect\"), i2 = Gt(\"itemDimensions\"), a3 = _t(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2({ height: o2.itemHeight, width: o2.itemWidth }), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: o2.viewportWidth }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot }, t);\n};\nvar Nt = systemToComponent(Ot, { optional: { context: \"context\", totalCount: \"totalCount\", overscan: \"overscan\", itemContent: \"itemContent\", components: \"components\", computeItemKey: \"computeItemKey\", data: \"data\", initialItemCount: \"initialItemCount\", scrollSeekConfiguration: \"scrollSeekConfiguration\", headerFooterTag: \"headerFooterTag\", listClassName: \"listClassName\", itemClassName: \"itemClassName\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", item: \"item\", ItemContainer: \"ItemContainer\", ScrollContainer: \"ScrollContainer\", ListContainer: \"ListContainer\", scrollSeek: \"scrollSeek\" }, methods: { scrollTo: \"scrollTo\", scrollBy: \"scrollBy\", scrollToIndex: \"scrollToIndex\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\" } }, n.memo(function(e) {\n  var t = c({}, e), o2 = _t(\"useWindowScroll\"), r2 = _t(\"customScrollParent\"), i2 = r2 || o2 ? At : Ut;\n  return n.createElement(r2 || o2 ? Yt : Kt, c({}, t), n.createElement(i2, null, n.createElement(Wt, null), n.createElement(Mt, null), n.createElement(Vt, null)));\n}));\nvar Dt = Nt.Component;\nvar Gt = Nt.usePublisher;\nvar _t = Nt.useEmitterValue;\nvar jt = Nt.useEmitter;\nvar Kt = st({ usePublisher: Gt, useEmitterValue: _t, useEmitter: jt });\nvar Yt = ut({ usePublisher: Gt, useEmitterValue: _t, useEmitter: jt });\nfunction qt(e, t, n2) {\n  return \"normal\" === t || null != t && t.endsWith(\"px\") || n2(e + \" was not resolved to pixel value correctly\", t, h.WARN), \"normal\" === t ? 0 : parseInt(null != t ? t : \"0\", 10);\n}\nvar Zt = system(function() {\n  var e = statefulStream(function(e2) {\n    return n.createElement(\"td\", null, \"Item $\", e2);\n  }), o2 = statefulStream(null), r2 = statefulStream(null), i2 = statefulStream(null), a3 = statefulStream({}), l3 = statefulStream(qe), s2 = statefulStream(noop4), u2 = function(e2, n2) {\n    return void 0 === n2 && (n2 = null), statefulStreamFromEmitter(pipe(a3, map2(function(t) {\n      return t[e2];\n    }), distinctUntilChanged()), n2);\n  };\n  return { context: o2, itemContent: e, fixedHeaderContent: r2, fixedFooterContent: i2, components: a3, computeItemKey: l3, scrollerRef: s2, TableComponent: u2(\"Table\", \"table\"), TableHeadComponent: u2(\"TableHead\", \"thead\"), TableFooterComponent: u2(\"TableFoot\", \"tfoot\"), TableBodyComponent: u2(\"TableBody\", \"tbody\"), TableRowComponent: u2(\"TableRow\", \"tr\"), ScrollerComponent: u2(\"Scroller\", \"div\"), EmptyPlaceholder: u2(\"EmptyPlaceholder\"), ScrollSeekPlaceholder: u2(\"ScrollSeekPlaceholder\"), FillerRow: u2(\"FillerRow\") };\n});\nvar Jt = system(function(e) {\n  return c({}, e[0], e[1]);\n}, tup(Ae, Zt));\nvar $t = function(e) {\n  return n.createElement(\"tr\", null, n.createElement(\"td\", { style: { height: e.height } }));\n};\nvar Qt = function(e) {\n  return n.createElement(\"tr\", null, n.createElement(\"td\", { style: { height: e.height, padding: 0, border: 0 } }));\n};\nvar Xt = n.memo(function() {\n  var e = an(\"listState\"), t = rn(\"sizeRanges\"), o2 = an(\"useWindowScroll\"), r2 = an(\"customScrollParent\"), i2 = rn(\"windowScrollContainerState\"), a3 = rn(\"scrollContainerState\"), s2 = r2 || o2 ? i2 : a3, u2 = an(\"itemContent\"), m2 = an(\"trackItemSizes\"), d2 = T(t, an(\"itemSize\"), m2, s2, an(\"log\"), void 0, r2), f2 = d2.callbackRef, p2 = d2.ref, h2 = n.useState(0), g2 = h2[0], v2 = h2[1];\n  ln(\"deviation\", function(e2) {\n    g2 !== e2 && (p2.current.style.marginTop = e2 + \"px\", v2(e2));\n  });\n  var S2 = an(\"EmptyPlaceholder\"), C3 = an(\"ScrollSeekPlaceholder\") || $t, I2 = an(\"FillerRow\") || Qt, w2 = an(\"TableBodyComponent\"), x2 = an(\"TableRowComponent\"), b3 = an(\"computeItemKey\"), y2 = an(\"isSeeking\"), H2 = an(\"paddingTopAddition\"), E2 = an(\"firstItemIndex\"), R3 = an(\"statefulTotalCount\"), L3 = an(\"context\");\n  if (0 === R3 && S2)\n    return (0, import_react28.createElement)(S2, it(S2, L3));\n  var F2 = e.offsetTop + H2 + g2, k2 = e.offsetBottom, z2 = F2 > 0 ? n.createElement(I2, { height: F2, key: \"padding-top\" }) : null, B3 = k2 > 0 ? n.createElement(I2, { height: k2, key: \"padding-bottom\" }) : null, P2 = e.items.map(function(e2) {\n    var t2 = e2.originalIndex, n2 = b3(t2 + E2, e2.data, L3);\n    return y2 ? (0, import_react28.createElement)(C3, c({}, it(C3, L3), { key: n2, index: e2.index, height: e2.size, type: e2.type || \"item\" })) : (0, import_react28.createElement)(x2, c({}, it(x2, L3), { key: n2, \"data-index\": t2, \"data-known-size\": e2.size, \"data-item-index\": e2.index, style: { overflowAnchor: \"none\" } }), u2(e2.index, e2.data, L3));\n  });\n  return (0, import_react28.createElement)(w2, c({ ref: f2, \"data-test-id\": \"virtuoso-item-list\" }, it(w2, L3)), [z2].concat(P2, [B3]));\n});\nvar en = function(e) {\n  var o2 = e.children, r2 = (0, import_react28.useContext)(Ge), i2 = rn(\"viewportHeight\"), a3 = rn(\"fixedItemHeight\"), l3 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  }));\n  return n.useEffect(function() {\n    r2 && (i2(r2.viewportHeight), a3(r2.itemHeight));\n  }, [r2, i2, a3]), n.createElement(\"div\", { style: ot, ref: l3, \"data-viewport-type\": \"element\" }, o2);\n};\nvar tn = function(e) {\n  var t = e.children, o2 = (0, import_react28.useContext)(Ge), r2 = rn(\"windowViewportRect\"), i2 = rn(\"fixedItemHeight\"), a3 = an(\"customScrollParent\"), l3 = De(r2, a3);\n  return n.useEffect(function() {\n    o2 && (i2(o2.itemHeight), r2({ offsetTop: 0, visibleHeight: o2.viewportHeight, visibleWidth: 100 }));\n  }, [o2, r2, i2]), n.createElement(\"div\", { ref: l3, style: ot, \"data-viewport-type\": \"window\" }, t);\n};\nvar nn = systemToComponent(Jt, { required: {}, optional: { context: \"context\", followOutput: \"followOutput\", firstItemIndex: \"firstItemIndex\", itemContent: \"itemContent\", fixedHeaderContent: \"fixedHeaderContent\", fixedFooterContent: \"fixedFooterContent\", overscan: \"overscan\", increaseViewportBy: \"increaseViewportBy\", totalCount: \"totalCount\", topItemCount: \"topItemCount\", initialTopMostItemIndex: \"initialTopMostItemIndex\", components: \"components\", groupCounts: \"groupCounts\", atBottomThreshold: \"atBottomThreshold\", atTopThreshold: \"atTopThreshold\", computeItemKey: \"computeItemKey\", defaultItemHeight: \"defaultItemHeight\", fixedItemHeight: \"fixedItemHeight\", itemSize: \"itemSize\", scrollSeekConfiguration: \"scrollSeekConfiguration\", data: \"data\", initialItemCount: \"initialItemCount\", initialScrollTop: \"initialScrollTop\", alignToBottom: \"alignToBottom\", useWindowScroll: \"useWindowScroll\", customScrollParent: \"customScrollParent\", scrollerRef: \"scrollerRef\", logLevel: \"logLevel\", react18ConcurrentRendering: \"react18ConcurrentRendering\" }, methods: { scrollToIndex: \"scrollToIndex\", scrollIntoView: \"scrollIntoView\", scrollTo: \"scrollTo\", scrollBy: \"scrollBy\" }, events: { isScrolling: \"isScrolling\", endReached: \"endReached\", startReached: \"startReached\", rangeChanged: \"rangeChanged\", atBottomStateChange: \"atBottomStateChange\", atTopStateChange: \"atTopStateChange\", totalListHeightChanged: \"totalListHeightChanged\", itemsRendered: \"itemsRendered\", groupIndices: \"groupIndices\" } }, n.memo(function(e) {\n  var o2 = an(\"useWindowScroll\"), r2 = an(\"customScrollParent\"), i2 = rn(\"fixedHeaderHeight\"), a3 = rn(\"fixedFooterHeight\"), l3 = an(\"fixedHeaderContent\"), s2 = an(\"fixedFooterContent\"), u2 = an(\"context\"), m2 = I(compose(i2, function(e2) {\n    return w(e2, \"height\");\n  })), d2 = I(compose(a3, function(e2) {\n    return w(e2, \"height\");\n  })), f2 = r2 || o2 ? un : sn, p2 = r2 || o2 ? tn : en, h2 = an(\"TableComponent\"), g2 = an(\"TableHeadComponent\"), v2 = an(\"TableFooterComponent\"), S2 = l3 ? n.createElement(g2, c({ key: \"TableHead\", style: { zIndex: 1, position: \"sticky\", top: 0 }, ref: m2 }, it(g2, u2)), l3()) : null, C3 = s2 ? n.createElement(v2, c({ key: \"TableFoot\", style: { zIndex: 1, position: \"sticky\", bottom: 0 }, ref: d2 }, it(v2, u2)), s2()) : null;\n  return n.createElement(f2, c({}, e), n.createElement(p2, null, n.createElement(h2, c({ style: { borderSpacing: 0 } }, it(h2, u2)), [S2, n.createElement(Xt, { key: \"TableBody\" }), C3])));\n}));\nvar on = nn.Component;\nvar rn = nn.usePublisher;\nvar an = nn.useEmitterValue;\nvar ln = nn.useEmitter;\nvar sn = st({ usePublisher: rn, useEmitterValue: an, useEmitter: ln });\nvar un = ut({ usePublisher: rn, useEmitterValue: an, useEmitter: ln });\nvar cn = pt;\n\n\/\/ src\/lib\/shapes\/BoxShape.tsx\nvar React45 = __toESM(require(\"react\"));\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/extends.js\nfunction _extends2() {\n  _extends2 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i2 = 1; i2 < arguments.length; i2++) {\n      var source = arguments[i2];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends2.apply(this, arguments);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/assertThisInitialized.js\nfunction _assertThisInitialized2(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/setPrototypeOf.js\nfunction _setPrototypeOf2(o2, p2) {\n  _setPrototypeOf2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf3(o3, p3) {\n    o3.__proto__ = p3;\n    return o3;\n  };\n  return _setPrototypeOf2(o2, p2);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/inheritsLoose.js\nfunction _inheritsLoose2(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf2(subClass, superClass);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/getPrototypeOf.js\nfunction _getPrototypeOf(o2) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o3) {\n    return o3.__proto__ || Object.getPrototypeOf(o3);\n  };\n  return _getPrototypeOf(o2);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/isNativeFunction.js\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/isNativeReflectConstruct.js\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/construct.js\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a3 = [null];\n      a3.push.apply(a3, args2);\n      var Constructor = Function.bind.apply(Parent2, a3);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf2(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\n\n\/\/ ..\/..\/node_modules\/@babel\/runtime\/helpers\/esm\/wrapNativeSuper.js\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? \/* @__PURE__ *\/ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf2(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\n\n\/\/ ..\/..\/node_modules\/polished\/dist\/polished.esm.js\nvar PolishedError = \/* @__PURE__ *\/ function(_Error) {\n  _inheritsLoose2(PolishedError2, _Error);\n  function PolishedError2(code) {\n    var _this;\n    if (true) {\n      _this = _Error.call(this, \"An error occurred. See https:\/\/github.com\/styled-components\/polished\/blob\/main\/src\/internalHelpers\/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n    return _assertThisInitialized2(_this);\n  }\n  return PolishedError2;\n}(\/* @__PURE__ *\/ _wrapNativeSuper(Error));\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n  if (saturation === 0) {\n    return convert(lightness, lightness, lightness);\n  }\n  var huePrime = (hue % 360 + 360) % 360 \/ 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n  var lightnessModification = lightness - chroma \/ 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\nvar namedColorMap = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"00ffff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"0000ff\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"00ffff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"ff00ff\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"639\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\nfunction nameToHex(color) {\n  if (typeof color !== \"string\")\n    return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\nvar hexRegex = \/^#[a-fA-F0-9]{6}$\/;\nvar hexRgbaRegex = \/^#[a-fA-F0-9]{8}$\/;\nvar reducedHexRegex = \/^#[a-fA-F0-9]{3}$\/;\nvar reducedRgbaHexRegex = \/^#[a-fA-F0-9]{4}$\/;\nvar rgbRegex = \/^rgb\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*\\)$\/i;\nvar rgbaRegex = \/^rgb(?:a)?\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,|\\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$\/i;\nvar hslRegex = \/^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$\/i;\nvar hslaRegex = \/^hsl(?:a)?\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,|\\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$\/i;\nfunction parseToRgb(color) {\n  if (typeof color !== \"string\") {\n    throw new PolishedError(3);\n  }\n  var normalizedColor = nameToHex(color);\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) \/ 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha\n    };\n  }\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) \/ 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4]) > 1 ? parseFloat(\"\" + rgbaMatched[4]) \/ 100 : parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n  var hslMatched = hslRegex.exec(normalizedColor);\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) \/ 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) \/ 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) \/ 100;\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) \/ 100;\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4]) > 1 ? parseFloat(\"\" + hslaMatched[4]) \/ 100 : parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n  throw new PolishedError(5);\n}\nfunction rgbToHsl(color) {\n  var red = color.red \/ 255;\n  var green = color.green \/ 255;\n  var blue = color.blue \/ 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) \/ 2;\n  if (max === min) {\n    if (color.alpha !== void 0) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness\n      };\n    }\n  }\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta \/ (2 - max - min) : delta \/ (max + min);\n  switch (max) {\n    case red:\n      hue = (green - blue) \/ delta + (green < blue ? 6 : 0);\n      break;\n    case green:\n      hue = (blue - red) \/ delta + 2;\n      break;\n    default:\n      hue = (red - green) \/ delta + 4;\n      break;\n  }\n  hue *= 60;\n  if (color.alpha !== void 0) {\n    return {\n      hue,\n      saturation,\n      lightness,\n      alpha: color.alpha\n    };\n  }\n  return {\n    hue,\n    saturation,\n    lightness\n  };\n}\nfunction parseToHsl(color) {\n  return rgbToHsl(parseToRgb(color));\n}\nvar reduceHexValue = function reduceHexValue2(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n  return value;\n};\nvar reduceHexValue$1 = reduceHexValue;\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue$1(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === \"number\" && typeof saturation === \"number\" && typeof lightness === \"number\") {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === \"object\" && saturation === void 0 && lightness === void 0) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n  throw new PolishedError(1);\n}\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === \"number\" && typeof saturation === \"number\" && typeof lightness === \"number\" && typeof alpha === \"number\") {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === \"object\" && saturation === void 0 && lightness === void 0 && alpha === void 0) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n  throw new PolishedError(2);\n}\nfunction rgb(value, green, blue) {\n  if (typeof value === \"number\" && typeof green === \"number\" && typeof blue === \"number\") {\n    return reduceHexValue$1(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === \"object\" && green === void 0 && blue === void 0) {\n    return reduceHexValue$1(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n  throw new PolishedError(6);\n}\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === \"string\" && typeof secondValue === \"number\") {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === \"number\" && typeof secondValue === \"number\" && typeof thirdValue === \"number\" && typeof fourthValue === \"number\") {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === \"object\" && secondValue === void 0 && thirdValue === void 0 && fourthValue === void 0) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n  throw new PolishedError(7);\n}\nvar isRgb = function isRgb2(color) {\n  return typeof color.red === \"number\" && typeof color.green === \"number\" && typeof color.blue === \"number\" && (typeof color.alpha !== \"number\" || typeof color.alpha === \"undefined\");\n};\nvar isRgba = function isRgba2(color) {\n  return typeof color.red === \"number\" && typeof color.green === \"number\" && typeof color.blue === \"number\" && typeof color.alpha === \"number\";\n};\nvar isHsl = function isHsl2(color) {\n  return typeof color.hue === \"number\" && typeof color.saturation === \"number\" && typeof color.lightness === \"number\" && (typeof color.alpha !== \"number\" || typeof color.alpha === \"undefined\");\n};\nvar isHsla = function isHsla2(color) {\n  return typeof color.hue === \"number\" && typeof color.saturation === \"number\" && typeof color.lightness === \"number\" && typeof color.alpha === \"number\";\n};\nfunction toColorString(color) {\n  if (typeof color !== \"object\")\n    throw new PolishedError(8);\n  if (isRgba(color))\n    return rgba(color);\n  if (isRgb(color))\n    return rgb(color);\n  if (isHsla(color))\n    return hsla(color);\n  if (isHsl(color))\n    return hsl(color);\n  throw new PolishedError(8);\n}\nfunction curried(f2, length, acc) {\n  return function fn() {\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f2.apply(this, combined) : curried(f2, length, combined);\n  };\n}\nfunction curry(f2) {\n  return curried(f2, f2.length, []);\n}\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\nfunction darken(amount, color) {\n  if (color === \"transparent\")\n    return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends2({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n}\nvar curriedDarken = \/* @__PURE__ *\/ curry(darken);\nvar curriedDarken$1 = curriedDarken;\n\n\/\/ src\/lib\/shapes\/style-props.tsx\nfunction withClampedStyles(self2, props) {\n  var _a3;\n  if (props.strokeWidth !== void 0)\n    props.strokeWidth = Math.max(props.strokeWidth, 1);\n  if (props.opacity !== void 0)\n    props.opacity = Math.min(1, Math.max(props.opacity, 0));\n  let fill = (_a3 = props.fill) != null ? _a3 : self2.props.fill;\n  if (fill !== void 0 && !isBuiltInColor(fill) && fill !== \"var(--ls-secondary-background-color)\" && !props.noFill && withFillShapes.includes(self2.props.type)) {\n    const strokeColor = curriedDarken$1(0.3, fill);\n    props.stroke = strokeColor;\n  }\n  return props;\n}\n\n\/\/ src\/lib\/shapes\/BindingIndicator.tsx\nvar import_jsx_runtime51 = require(\"react\/jsx-runtime\");\nfunction BindingIndicator({ strokeWidth, size, mode }) {\n  return mode === \"svg\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime51.jsx)(\"rect\", {\n    className: \"tl-binding-indicator\",\n    x: strokeWidth,\n    y: strokeWidth,\n    rx: 2,\n    ry: 2,\n    width: Math.max(0, size[0] - strokeWidth * 2),\n    height: Math.max(0, size[1] - strokeWidth * 2),\n    strokeWidth: strokeWidth * 4\n  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime51.jsx)(\"div\", {\n    className: \"tl-binding-indicator\",\n    style: {\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      boxShadow: \"0 0 0 4px var(--tl-binding)\",\n      borderRadius: 4\n    }\n  });\n}\n\n\/\/ src\/lib\/shapes\/text\/TextLabel.tsx\nvar React44 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/text\/TextAreaUtils.ts\nvar INDENT = \"  \";\nvar TextAreaUtils = class {\n  static insertTextFirefox(field, text) {\n    field.setRangeText(\n      text,\n      field.selectionStart || 0,\n      field.selectionEnd || 0,\n      \"end\"\n    );\n    field.dispatchEvent(\n      new InputEvent(\"input\", {\n        data: text,\n        inputType: \"insertText\",\n        isComposing: false\n      })\n    );\n  }\n  static insert(field, text) {\n    const document2 = field.ownerDocument;\n    const initialFocus = document2.activeElement;\n    if (initialFocus !== field) {\n      field.focus();\n    }\n    if (!document2.execCommand(\"insertText\", false, text)) {\n      TextAreaUtils.insertTextFirefox(field, text);\n    }\n    if (initialFocus === document2.body) {\n      field.blur();\n    } else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n      initialFocus.focus();\n    }\n  }\n  static set(field, text) {\n    field.select();\n    TextAreaUtils.insert(field, text);\n  }\n  static getSelection(field) {\n    const { selectionStart, selectionEnd } = field;\n    return field.value.slice(\n      selectionStart ? selectionStart : void 0,\n      selectionEnd ? selectionEnd : void 0\n    );\n  }\n  static wrapSelection(field, wrap, wrapEnd) {\n    const { selectionStart, selectionEnd } = field;\n    const selection = TextAreaUtils.getSelection(field);\n    TextAreaUtils.insert(field, wrap + selection + (wrapEnd != null ? wrapEnd : wrap));\n    field.selectionStart = (selectionStart || 0) + wrap.length;\n    field.selectionEnd = (selectionEnd || 0) + wrap.length;\n  }\n  static replace(field, searchValue, replacer) {\n    let drift = 0;\n    field.value.replace(searchValue, (...args) => {\n      const matchStart = drift + args[args.length - 2];\n      const matchLength = args[0].length;\n      field.selectionStart = matchStart;\n      field.selectionEnd = matchStart + matchLength;\n      const replacement = typeof replacer === \"string\" ? replacer : replacer(...args);\n      TextAreaUtils.insert(field, replacement);\n      field.selectionStart = matchStart;\n      drift += replacement.length - matchLength;\n      return replacement;\n    });\n  }\n  static findLineEnd(value, currentEnd) {\n    const lastLineStart = value.lastIndexOf(\"\\n\", currentEnd - 1) + 1;\n    if (value.charAt(lastLineStart) !== \"\t\") {\n      return currentEnd;\n    }\n    return lastLineStart + 1;\n  }\n  static indent(element) {\n    var _a3;\n    const { selectionStart, selectionEnd, value } = element;\n    const selectedContrast = value.slice(selectionStart, selectionEnd);\n    const lineBreakCount = (_a3 = \/\\n\/g.exec(selectedContrast)) == null ? void 0 : _a3.length;\n    if (lineBreakCount && lineBreakCount > 0) {\n      const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n      const newSelection = element.value.slice(firstLineStart, selectionEnd - 1);\n      const indentedText = newSelection.replace(\n        \/^|\\n\/g,\n        `$&${INDENT}`\n      );\n      const replacementsCount = indentedText.length - newSelection.length;\n      element.setSelectionRange(firstLineStart, selectionEnd - 1);\n      TextAreaUtils.insert(element, indentedText);\n      element.setSelectionRange(selectionStart + 1, selectionEnd + replacementsCount);\n    } else {\n      TextAreaUtils.insert(element, INDENT);\n    }\n  }\n  static unindent(element) {\n    const { selectionStart, selectionEnd, value } = element;\n    const firstLineStart = value.lastIndexOf(\"\\n\", selectionStart - 1) + 1;\n    const minimumSelectionEnd = TextAreaUtils.findLineEnd(value, selectionEnd);\n    const newSelection = element.value.slice(firstLineStart, minimumSelectionEnd);\n    const indentedText = newSelection.replace(\/(^|\\n)(\\t| {1,2})\/g, \"$1\");\n    const replacementsCount = newSelection.length - indentedText.length;\n    element.setSelectionRange(firstLineStart, minimumSelectionEnd);\n    TextAreaUtils.insert(element, indentedText);\n    const firstLineIndentation = \/\\t| {1,2}\/.exec(value.slice(firstLineStart, selectionStart));\n    const difference = firstLineIndentation ? firstLineIndentation[0].length : 0;\n    const newSelectionStart = selectionStart - difference;\n    element.setSelectionRange(\n      selectionStart - difference,\n      Math.max(newSelectionStart, selectionEnd - replacementsCount)\n    );\n  }\n};\n\n\/\/ src\/lib\/shapes\/text\/TextLabel.tsx\nvar import_jsx_runtime52 = require(\"react\/jsx-runtime\");\nvar stopPropagation = (e) => e.stopPropagation();\nvar placeholder = \"Enter text\";\nvar TextLabel = React44.memo(function TextLabel2({\n  font: font5,\n  text,\n  color,\n  fontStyle,\n  fontSize,\n  fontWeight,\n  offsetX = 0,\n  offsetY = 0,\n  scale = 1,\n  isEditing = false,\n  pointerEvents = false,\n  onBlur,\n  onChange\n}) {\n  const rInput = React44.useRef(null);\n  const rIsMounted = React44.useRef(false);\n  const handleChange = React44.useCallback(\n    (e) => {\n      onChange(TextUtils.normalizeText(e.currentTarget.value));\n    },\n    [onChange]\n  );\n  const handleKeyDown = React44.useCallback(\n    (e) => {\n      if (e.key === \"Escape\")\n        return;\n      if (e.key === \"Tab\" && text.length === 0) {\n        e.preventDefault();\n        return;\n      }\n      if (!(e.key === \"Meta\" || e.metaKey)) {\n        e.stopPropagation();\n      } else if (e.key === \"z\" && e.metaKey) {\n        document.execCommand(e.shiftKey ? \"redo\" : \"undo\", false);\n        e.stopPropagation();\n        e.preventDefault();\n        return;\n      }\n      if (e.key === \"Tab\") {\n        e.preventDefault();\n        if (e.shiftKey) {\n          TextAreaUtils.unindent(e.currentTarget);\n        } else {\n          TextAreaUtils.indent(e.currentTarget);\n        }\n        onChange == null ? void 0 : onChange(TextUtils.normalizeText(e.currentTarget.value));\n      }\n    },\n    [onChange]\n  );\n  const handleBlur = React44.useCallback(\n    (e) => {\n      if (!isEditing)\n        return;\n      e.currentTarget.setSelectionRange(0, 0);\n      onBlur == null ? void 0 : onBlur();\n    },\n    [onBlur]\n  );\n  const handleFocus = React44.useCallback(\n    (e) => {\n      if (!isEditing || !rIsMounted.current)\n        return;\n      if (document.activeElement === e.currentTarget) {\n        e.currentTarget.select();\n      }\n    },\n    [isEditing]\n  );\n  const handlePointerDown = React44.useCallback(\n    (e) => {\n      if (isEditing) {\n        e.stopPropagation();\n      }\n    },\n    [isEditing]\n  );\n  React44.useEffect(() => {\n    if (isEditing) {\n      requestAnimationFrame(() => {\n        rIsMounted.current = true;\n        const elm = rInput.current;\n        if (elm) {\n          elm.focus();\n          elm.select();\n        }\n      });\n    }\n  }, [isEditing, onBlur]);\n  const rInnerWrapper = React44.useRef(null);\n  React44.useLayoutEffect(() => {\n    const elm = rInnerWrapper.current;\n    if (!elm)\n      return;\n    const size = getTextLabelSize(\n      text || placeholder,\n      { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n      4\n    );\n    elm.style.transform = `scale(${scale}, ${scale}) translate(${offsetX}px, ${offsetY}px)`;\n    elm.style.width = size[0] + 1 + \"px\";\n    elm.style.height = size[1] + 1 + \"px\";\n  }, [text, fontWeight, fontSize, offsetY, offsetX, scale]);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsx)(\"div\", {\n    className: \"tl-text-label-wrapper\",\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsxs)(\"div\", {\n      className: \"tl-text-label-inner-wrapper\",\n      ref: rInnerWrapper,\n      style: {\n        font: font5,\n        fontStyle,\n        fontSize,\n        fontWeight,\n        color,\n        pointerEvents: pointerEvents ? \"all\" : \"none\",\n        userSelect: isEditing ? \"text\" : \"none\"\n      },\n      children: [\n        isEditing ? \/* @__PURE__ *\/ (0, import_jsx_runtime52.jsx)(\"textarea\", {\n          ref: rInput,\n          style: {\n            font: font5,\n            color,\n            fontStyle,\n            fontSize,\n            fontWeight\n          },\n          className: \"tl-text-label-textarea\",\n          name: \"text\",\n          tabIndex: -1,\n          autoComplete: \"false\",\n          autoCapitalize: \"false\",\n          autoCorrect: \"false\",\n          autoSave: \"false\",\n          autoFocus: true,\n          placeholder,\n          spellCheck: \"true\",\n          wrap: \"off\",\n          dir: \"auto\",\n          datatype: \"wysiwyg\",\n          defaultValue: text,\n          color,\n          onFocus: handleFocus,\n          onChange: handleChange,\n          onKeyDown: handleKeyDown,\n          onBlur: handleBlur,\n          onPointerDown: handlePointerDown,\n          onContextMenu: stopPropagation,\n          onCopy: stopPropagation,\n          onPaste: stopPropagation,\n          onCut: stopPropagation\n        }) : text,\n        \"\\u200B\"\n      ]\n    })\n  });\n});\n\n\/\/ src\/lib\/shapes\/BoxShape.tsx\nvar import_jsx_runtime53 = require(\"react\/jsx-runtime\");\nvar font = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar BoxShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ events, isErasing, isBinding, isSelected, isEditing, onEditingEnd }) => {\n        const {\n          props: {\n            size: [w2, h2],\n            stroke,\n            fill,\n            noFill,\n            strokeWidth,\n            strokeType,\n            borderRadius,\n            opacity,\n            label,\n            italic,\n            fontWeight,\n            fontSize\n          }\n        } = this;\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = src_default.mul(this.props.size, 0.5);\n        const scale = Math.max(0.5, Math.min(1, w2 \/ labelSize[0], h2 \/ labelSize[1]));\n        const bounds = this.getBounds();\n        const offset = React45.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React45.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          className: \"tl-box-container\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(TextLabel, {\n              font,\n              text: label,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1],\n              fontSize,\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsxs)(SVGContainer, {\n              opacity: isErasing ? 0.2 : opacity,\n              children: [\n                isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(BindingIndicator, {\n                  mode: \"svg\",\n                  strokeWidth,\n                  size: [w2, h2]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n                  className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                  x: strokeWidth \/ 2,\n                  y: strokeWidth \/ 2,\n                  rx: borderRadius,\n                  ry: borderRadius,\n                  width: Math.max(0.01, w2 - strokeWidth),\n                  height: Math.max(0.01, h2 - strokeWidth),\n                  pointerEvents: \"all\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n                  x: strokeWidth \/ 2,\n                  y: strokeWidth \/ 2,\n                  rx: borderRadius,\n                  ry: borderRadius,\n                  width: Math.max(0.01, w2 - strokeWidth),\n                  height: Math.max(0.01, h2 - strokeWidth),\n                  strokeWidth,\n                  stroke: getComputedColor(stroke, \"stroke\"),\n                  strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n                  fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n                })\n              ]\n            })\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          borderRadius,\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime53.jsx)(\"rect\", {\n          width: w2,\n          height: h2,\n          rx: borderRadius,\n          ry: borderRadius,\n          fill: \"transparent\",\n          strokeDasharray: isLocked ? \"8 2\" : void 0\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      if (props.borderRadius !== void 0)\n        props.borderRadius = Math.max(0, props.borderRadius);\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n};\n__publicField(BoxShape, \"id\", \"box\");\n__publicField(BoxShape, \"defaultProps\", {\n  id: \"box\",\n  parentId: \"page\",\n  type: \"box\",\n  point: [0, 0],\n  size: [100, 100],\n  borderRadius: 2,\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], BoxShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], BoxShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/EllipseShape.tsx\nvar React46 = __toESM(require(\"react\"));\nvar import_jsx_runtime54 = require(\"react\/jsx-runtime\");\nvar font2 = \"18px \/ 1 var(--ls-font-family)\";\nvar levelToScale2 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar EllipseShape = class extends TLEllipseShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ isSelected, isErasing, events, isEditing, onEditingEnd }) => {\n        const {\n          size: [w2, h2],\n          stroke,\n          fill,\n          noFill,\n          strokeWidth,\n          strokeType,\n          opacity,\n          label,\n          italic,\n          fontWeight,\n          fontSize\n        } = this.props;\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = src_default.mul(this.props.size, 0.5);\n        const scale = Math.max(0.5, Math.min(1, w2 \/ labelSize[0], h2 \/ labelSize[1]));\n        const bounds = this.getBounds();\n        const offset = React46.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React46.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          className: \"tl-ellipse-container\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(TextLabel, {\n              font: font2,\n              text: label,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1],\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontSize,\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n              opacity: isErasing ? 0.2 : opacity,\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n                  className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                  cx: w2 \/ 2,\n                  cy: h2 \/ 2,\n                  rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n                  ry: Math.max(0.01, (h2 - strokeWidth) \/ 2)\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n                  cx: w2 \/ 2,\n                  cy: h2 \/ 2,\n                  rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n                  ry: Math.max(0.01, (h2 - strokeWidth) \/ 2),\n                  strokeWidth,\n                  stroke: getComputedColor(stroke, \"stroke\"),\n                  strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n                  fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n                })\n              ]\n            }))\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale2[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale2[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        size: [w2, h2],\n        isLocked\n      } = this.props;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: w2 \/ 2,\n          ry: h2 \/ 2,\n          strokeWidth: 2,\n          fill: \"transparent\",\n          strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx(opts) {\n    const {\n      size: [w2, h2],\n      stroke,\n      fill,\n      noFill,\n      strokeWidth,\n      strokeType,\n      opacity\n    } = this.props;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsxs)(\"g\", {\n      opacity,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          className: !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n          ry: Math.max(0.01, (h2 - strokeWidth) \/ 2)\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime54.jsx)(\"ellipse\", {\n          cx: w2 \/ 2,\n          cy: h2 \/ 2,\n          rx: Math.max(0.01, (w2 - strokeWidth) \/ 2),\n          ry: Math.max(0.01, (h2 - strokeWidth) \/ 2),\n          strokeWidth,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0,\n          fill: noFill ? \"none\" : getComputedColor(fill, \"background\")\n        })\n      ]\n    });\n  }\n};\n__publicField(EllipseShape, \"id\", \"ellipse\");\n__publicField(EllipseShape, \"defaultProps\", {\n  id: \"ellipse\",\n  parentId: \"page\",\n  type: \"ellipse\",\n  point: [0, 0],\n  size: [100, 100],\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], EllipseShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], EllipseShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/GroupShape.tsx\nvar import_jsx_runtime55 = require(\"react\/jsx-runtime\");\nvar GroupShape = class extends TLGroupShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events }) => {\n      const strokeWidth = 2;\n      const bounds = this.getBounds();\n      const app = useApp();\n      const childSelected = app.selectedShapesArray.some((s2) => {\n        return app.shapesInGroups([this]).includes(s2);\n      });\n      const Indicator2 = this.ReactIndicator;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsxs)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        className: \"tl-group-container\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"rect\", {\n            className: \"tl-hitarea-fill\",\n            x: strokeWidth \/ 2,\n            y: strokeWidth \/ 2,\n            width: Math.max(0.01, bounds.width - strokeWidth),\n            height: Math.max(0.01, bounds.height - strokeWidth),\n            pointerEvents: \"all\"\n          }),\n          childSelected && \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"g\", {\n            stroke: \"var(--color-selectedFill)\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(Indicator2, {})\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const bounds = this.getBounds();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime55.jsx)(\"rect\", {\n        strokeDasharray: \"8 2\",\n        x: -GROUP_PADDING,\n        y: -GROUP_PADDING,\n        rx: GROUP_PADDING \/ 2,\n        ry: GROUP_PADDING \/ 2,\n        width: bounds.width + GROUP_PADDING * 2,\n        height: bounds.height + GROUP_PADDING * 2,\n        fill: \"transparent\"\n      });\n    }));\n  }\n};\n__publicField(GroupShape, \"id\", \"group\");\n__publicField(GroupShape, \"defaultProps\", {\n  id: \"group\",\n  type: \"group\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [0, 0],\n  children: []\n});\n\n\/\/ src\/lib\/shapes\/HighlighterShape.tsx\nvar import_jsx_runtime56 = require(\"react\/jsx-runtime\");\nvar levelToScale3 = {\n  xs: 1,\n  sm: 1.6,\n  md: 2,\n  lg: 3.2,\n  xl: 4.8,\n  xxl: 6\n};\nvar HighlighterShape = class extends TLDrawShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing }) => {\n      const {\n        pointsPath,\n        props: { stroke, strokeWidth, opacity }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : 1,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n          d: pointsPath,\n          strokeWidth: strokeWidth * 16,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          fill: \"none\",\n          pointerEvents: \"all\",\n          strokeLinejoin: \"round\",\n          strokeLinecap: \"round\",\n          opacity\n        })\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        strokeWidth: levelToScale3[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const { pointsPath, props } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n        d: pointsPath,\n        fill: \"none\",\n        strokeDasharray: props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      props = withClampedStyles(this, props);\n      if (props.strokeWidth !== void 0)\n        props.strokeWidth = Math.max(props.strokeWidth, 1);\n      return props;\n    });\n    makeObservable(this);\n  }\n  get pointsPath() {\n    const { points } = this.props;\n    return SvgPathUtils.getCurvedPathForPoints(points);\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx() {\n    const {\n      pointsPath,\n      props: { stroke, strokeWidth, opacity }\n    } = this;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime56.jsx)(\"path\", {\n      d: pointsPath,\n      strokeWidth: strokeWidth * 16,\n      stroke: getComputedColor(stroke, \"stroke\"),\n      fill: \"none\",\n      pointerEvents: \"all\",\n      strokeLinejoin: \"round\",\n      strokeLinecap: \"round\",\n      opacity\n    });\n  }\n};\n__publicField(HighlighterShape, \"id\", \"highlighter\");\n__publicField(HighlighterShape, \"defaultProps\", {\n  id: \"highlighter\",\n  parentId: \"page\",\n  type: \"highlighter\",\n  point: [0, 0],\n  points: [],\n  isComplete: false,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 0.5\n});\n__decorateClass([\n  computed\n], HighlighterShape.prototype, \"pointsPath\", 1);\n__decorateClass([\n  computed\n], HighlighterShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], HighlighterShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/HTMLShape.tsx\nvar React47 = __toESM(require(\"react\"));\n\n\/\/ src\/hooks\/useCameraMoving.ts\nfunction useCameraMovingRef() {\n  const app = useApp();\n  return app.inputs.state === \"panning\" || app.inputs.state === \"pinching\";\n}\n\n\/\/ src\/lib\/shapes\/HTMLShape.tsx\nvar import_jsx_runtime57 = require(\"react\/jsx-runtime\");\nvar levelToScale4 = {\n  xs: 0.5,\n  sm: 0.8,\n  md: 1,\n  lg: 1.5,\n  xl: 2,\n  xxl: 3\n};\nvar HTMLShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"htmlAnchorRef\", React47.createRef());\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      var _a3;\n      const newSize = src_default.mul(\n        this.props.size,\n        levelToScale4[v2 != null ? v2 : \"md\"] \/ levelToScale4[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"]\n      );\n      this.update({\n        scaleLevel: v2\n      });\n      yield delay();\n      this.update({\n        size: newSize\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      var _a3;\n      if (this.htmlAnchorRef.current) {\n        const rect = this.htmlAnchorRef.current.getBoundingClientRect();\n        const [w2, h2] = src_default.div([rect.width, rect.height], (_a3 = info == null ? void 0 : info.zoom) != null ? _a3 : 1);\n        const clamp3 = (v2) => Math.max(Math.min(v2 || 400, 1400), 10);\n        this.update({\n          size: [clamp3(w2), clamp3(h2)]\n        });\n      }\n      return this;\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing }) => {\n      const {\n        props: { html, scaleLevel }\n      } = this;\n      const isMoving = useCameraMovingRef();\n      const app = useApp();\n      const isSelected = app.selectedIds.has(this.id);\n      const tlEventsEnabled = isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\";\n      const stop2 = React47.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const scaleRatio = levelToScale4[scaleLevel != null ? scaleLevel : \"md\"];\n      React47.useEffect(() => {\n        if (this.props.size[1] === 0) {\n          this.onResetBounds({ zoom: app.viewport.camera.zoom });\n          app.persist({ replace: true });\n        }\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"div\", {\n          onWheelCapture: stop2,\n          onPointerDown: stop2,\n          onPointerUp: stop2,\n          className: \"tl-html-container\",\n          style: {\n            pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\",\n            overflow: isEditing ? \"auto\" : \"hidden\",\n            width: `calc(100% \/ ${scaleRatio})`,\n            height: `calc(100% \/ ${scaleRatio})`,\n            transform: `scale(${scaleRatio})`\n          },\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"div\", {\n            ref: this.htmlAnchorRef,\n            className: \"tl-html-anchor\",\n            dangerouslySetInnerHTML: { __html: html.trim() }\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime57.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n};\n__publicField(HTMLShape, \"id\", \"html\");\n__publicField(HTMLShape, \"defaultProps\", {\n  id: \"html\",\n  type: \"html\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [600, 0],\n  html: \"\"\n});\n__decorateClass([\n  computed\n], HTMLShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], HTMLShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/IFrameShape.tsx\nvar React48 = __toESM(require(\"react\"));\nvar import_jsx_runtime58 = require(\"react\/jsx-runtime\");\nvar IFrameShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"frameRef\", React48.createRef());\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"onIFrameSourceChange\", (url) => {\n      this.update({ url });\n    });\n    __publicField(this, \"reload\", () => {\n      var _a3, _b;\n      if (this.frameRef.current) {\n        this.frameRef.current.src = (_b = (_a3 = this.frameRef) == null ? void 0 : _a3.current) == null ? void 0 : _b.src;\n      }\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing }) => {\n      const ref = React48.useRef(null);\n      const app = useApp();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"div\", {\n          className: \"tl-iframe-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\"\n          },\n          children: this.props.url && \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"div\", {\n            style: {\n              overflow: \"hidden\",\n              position: \"relative\",\n              height: \"100%\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"iframe\", {\n              ref: this.frameRef,\n              className: \"absolute inset-0 w-full h-full m-0\",\n              width: \"100%\",\n              height: \"100%\",\n              src: `${this.props.url}`,\n              frameBorder: \"0\",\n              sandbox: \"allow-scripts allow-same-origin allow-presentation\"\n            })\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime58.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(IFrameShape, \"id\", \"iframe\");\n__publicField(IFrameShape, \"defaultProps\", {\n  id: \"iframe\",\n  type: \"iframe\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [853, 480],\n  url: \"\"\n});\n__decorateClass([\n  action\n], IFrameShape.prototype, \"onIFrameSourceChange\", 2);\n__decorateClass([\n  action\n], IFrameShape.prototype, \"reload\", 2);\n\n\/\/ src\/lib\/shapes\/ImageShape.tsx\nvar React49 = __toESM(require(\"react\"));\nvar import_jsx_runtime59 = require(\"react\/jsx-runtime\");\nvar ImageShape = class extends TLImageShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isBinding, asset }) => {\n      const {\n        props: {\n          opacity,\n          objectFit,\n          clipping,\n          size: [w2, h2]\n        }\n      } = this;\n      const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n      const { handlers } = React49.useContext(LogseqContext);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsxs)(HTMLContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: [\n          isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(BindingIndicator, {\n            mode: \"html\",\n            strokeWidth: 4,\n            size: [w2, h2]\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"div\", {\n            \"data-asset-loaded\": !!asset,\n            className: \"tl-image-shape-container\",\n            children: asset ? \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"img\", {\n              src: handlers ? handlers.makeAssetUrl(asset.src) : asset.src,\n              draggable: false,\n              style: {\n                position: \"relative\",\n                top: -t,\n                left: -l3,\n                width: w2 + (l3 - r2),\n                height: h2 + (t - b3),\n                objectFit\n              }\n            }) : \"Asset is missing\"\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n  getShapeSVGJsx({ assets }) {\n    var _a3, _b;\n    const bounds = this.getBounds();\n    const {\n      assetId,\n      clipping,\n      size: [w2, h2]\n    } = this.props;\n    const asset = assets.find((ass) => ass.id === assetId);\n    if (asset) {\n      const [t, r2, b3, l3] = Array.isArray(clipping) ? clipping : [clipping, clipping, clipping, clipping];\n      const make_asset_url = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.make_asset_url;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime59.jsx)(\"image\", {\n        width: bounds.width,\n        height: bounds.height,\n        href: make_asset_url ? make_asset_url(asset.src) : asset.src\n      });\n    } else {\n      return super.getShapeSVGJsx({});\n    }\n  }\n};\n__publicField(ImageShape, \"id\", \"image\");\n__publicField(ImageShape, \"defaultProps\", {\n  id: \"image1\",\n  parentId: \"page\",\n  type: \"image\",\n  point: [0, 0],\n  size: [100, 100],\n  opacity: 1,\n  assetId: \"\",\n  clipping: 0,\n  objectFit: \"fill\",\n  isAspectRatioLocked: true\n});\n\n\/\/ src\/lib\/shapes\/LineShape.tsx\nvar React51 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/arrow\/Arrow.tsx\nvar React50 = __toESM(require(\"react\"));\n\n\/\/ src\/lib\/shapes\/arrow\/ArrowHead.tsx\nvar import_jsx_runtime60 = require(\"react\/jsx-runtime\");\nfunction Arrowhead({ left, middle, right, stroke, strokeWidth }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsxs)(\"g\", {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsx)(\"path\", {\n        className: \"tl-stroke-hitarea\",\n        d: `M ${left} L ${middle} ${right}`\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime60.jsx)(\"path\", {\n        d: `M ${left} L ${middle} ${right}`,\n        fill: \"none\",\n        stroke,\n        strokeWidth,\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        pointerEvents: \"none\"\n      })\n    ]\n  });\n}\n\n\/\/ src\/lib\/shapes\/arrow\/arrowHelpers.ts\nfunction getStraightArrowHeadPoints(A3, B3, r2) {\n  const ints = intersectCircleLineSegment(A3, r2, A3, B3).points;\n  if (!ints) {\n    console.warn(\"Could not find an intersection for the arrow head.\");\n    return { left: A3, right: A3 };\n  }\n  const int = ints[0];\n  const left = int ? src_default.rotWith(int, A3, Math.PI \/ 6) : A3;\n  const right = int ? src_default.rotWith(int, A3, -Math.PI \/ 6) : A3;\n  return { left, right };\n}\nfunction getStraightArrowHeadPath(A3, B3, r2) {\n  const { left, right } = getStraightArrowHeadPoints(A3, B3, r2);\n  return `M ${left} L ${A3} ${right}`;\n}\nfunction getArrowPath(style, start, end, decorationStart, decorationEnd) {\n  const strokeWidth = style.strokeWidth;\n  const arrowDist = src_default.dist(start, end);\n  const arrowHeadLength = Math.min(arrowDist \/ 3, strokeWidth * 16);\n  const path = [];\n  path.push(`M ${start} L ${end}`);\n  if (decorationStart) {\n    path.push(getStraightArrowHeadPath(start, end, arrowHeadLength));\n  }\n  if (decorationEnd) {\n    path.push(getStraightArrowHeadPath(end, start, arrowHeadLength));\n  }\n  return path.join(\" \");\n}\n\n\/\/ src\/lib\/shapes\/arrow\/Arrow.tsx\nvar import_jsx_runtime61 = require(\"react\/jsx-runtime\");\nvar levelToScale5 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar Arrow = React50.memo(function StraightArrow({\n  style,\n  start,\n  end,\n  decorationStart,\n  decorationEnd,\n  scaleLevel\n}) {\n  const arrowDist = src_default.dist(start, end);\n  if (arrowDist < 2)\n    return null;\n  const { strokeWidth } = style;\n  const sw = 1 + strokeWidth * levelToScale5[scaleLevel != null ? scaleLevel : \"md\"] \/ 10;\n  const path = \"M\" + src_default.toFixed(start) + \"L\" + src_default.toFixed(end);\n  const arrowHeadLength = Math.min(arrowDist \/ 3, strokeWidth * levelToScale5[scaleLevel != null ? scaleLevel : \"md\"]);\n  const startArrowHead = decorationStart ? getStraightArrowHeadPoints(start, end, arrowHeadLength) : null;\n  const endArrowHead = decorationEnd ? getStraightArrowHeadPoints(end, start, arrowHeadLength) : null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsxs)(import_jsx_runtime61.Fragment, {\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(\"path\", {\n        className: \"tl-stroke-hitarea\",\n        d: path\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(\"path\", {\n        d: path,\n        strokeWidth: sw,\n        stroke: style.stroke,\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeDasharray: style.strokeType === \"dashed\" ? \"8 4\" : void 0,\n        pointerEvents: \"stroke\"\n      }),\n      startArrowHead && \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(Arrowhead, {\n        left: startArrowHead.left,\n        middle: start,\n        right: startArrowHead.right,\n        stroke: style.stroke,\n        strokeWidth: sw\n      }),\n      endArrowHead && \/* @__PURE__ *\/ (0, import_jsx_runtime61.jsx)(Arrowhead, {\n        left: endArrowHead.left,\n        middle: end,\n        right: endArrowHead.right,\n        stroke: style.stroke,\n        strokeWidth: sw\n      })\n    ]\n  });\n});\n\n\/\/ src\/lib\/shapes\/text\/LabelMask.tsx\nvar import_jsx_runtime62 = require(\"react\/jsx-runtime\");\nfunction LabelMask({ id: id3, bounds, labelSize, offset, scale = 1 }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"defs\", {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsxs)(\"mask\", {\n      id: id3 + \"_clip\",\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"rect\", {\n          x: -100,\n          y: -100,\n          width: bounds.width + 200,\n          height: bounds.height + 200,\n          fill: \"white\"\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime62.jsx)(\"rect\", {\n          x: bounds.width \/ 2 - labelSize[0] \/ 2 * scale + ((offset == null ? void 0 : offset[0]) || 0),\n          y: bounds.height \/ 2 - labelSize[1] \/ 2 * scale + ((offset == null ? void 0 : offset[1]) || 0),\n          width: labelSize[0] * scale,\n          height: labelSize[1] * scale,\n          rx: 4 * scale,\n          ry: 4 * scale,\n          fill: \"black\"\n        })\n      ]\n    })\n  });\n}\n\n\/\/ src\/lib\/shapes\/LineShape.tsx\nvar import_jsx_runtime63 = require(\"react\/jsx-runtime\");\nvar font3 = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale6 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar LineShape = class extends TLLineShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"hideSelection\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, onEditingEnd }) => {\n      const {\n        stroke,\n        handles: { start, end },\n        opacity,\n        label,\n        italic,\n        fontWeight,\n        fontSize,\n        id: id3\n      } = this.props;\n      const labelSize = label || isEditing ? getTextLabelSize(\n        label || \"Enter text\",\n        { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n        6\n      ) : [0, 0];\n      const midPoint = src_default.med(start.point, end.point);\n      const dist = src_default.dist(start.point, end.point);\n      const scale = Math.max(\n        0.5,\n        Math.min(1, Math.max(dist \/ (labelSize[1] + 128), dist \/ (labelSize[0] + 128)))\n      );\n      const bounds = this.getBounds();\n      const offset = React51.useMemo(() => {\n        return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n      }, [bounds, scale, midPoint]);\n      const handleLabelChange = React51.useCallback(\n        (label2) => {\n          var _a3;\n          (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n        },\n        [label]\n      );\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n        style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n        className: \"tl-line-container\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(TextLabel, {\n            font: font3,\n            text: label,\n            fontSize,\n            color: getComputedColor(stroke, \"text\"),\n            offsetX: offset[0],\n            offsetY: offset[1],\n            scale,\n            isEditing,\n            onChange: handleLabelChange,\n            onBlur: onEditingEnd,\n            fontStyle: italic ? \"italic\" : \"normal\",\n            fontWeight,\n            pointerEvents: !!label\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(SVGContainer, {\n            opacity: isErasing ? 0.2 : opacity,\n            id: id3 + \"_svg\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(LabelMask, {\n                id: id3,\n                bounds,\n                labelSize,\n                offset,\n                scale\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"g\", {\n                pointerEvents: \"none\",\n                mask: label || isEditing ? `url(#${id3}_clip)` : ``,\n                children: this.getShapeSVGJsx({ preview: false })\n              })\n            ]\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale6[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(({ isEditing }) => {\n      const {\n        id: id3,\n        decorations,\n        label,\n        strokeWidth,\n        fontSize,\n        fontWeight,\n        handles: { start, end },\n        isLocked\n      } = this.props;\n      const bounds = this.getBounds();\n      const labelSize = label || isEditing ? getTextLabelSize(\n        label,\n        { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n        6\n      ) : [0, 0];\n      const midPoint = src_default.med(start.point, end.point);\n      const dist = src_default.dist(start.point, end.point);\n      const scale = Math.max(\n        0.5,\n        Math.min(1, Math.max(dist \/ (labelSize[1] + 128), dist \/ (labelSize[0] + 128)))\n      );\n      const offset = React51.useMemo(() => {\n        return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n      }, [bounds, scale, midPoint]);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"path\", {\n            mask: label ? `url(#${id3}_clip)` : ``,\n            d: getArrowPath(\n              { strokeWidth },\n              start.point,\n              end.point,\n              decorations == null ? void 0 : decorations.start,\n              decorations == null ? void 0 : decorations.end\n            ),\n            strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n          }),\n          label && !isEditing && \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"rect\", {\n            x: bounds.width \/ 2 - labelSize[0] \/ 2 * scale + offset[0],\n            y: bounds.height \/ 2 - labelSize[1] \/ 2 * scale + offset[1],\n            width: labelSize[0] * scale,\n            height: labelSize[1] * scale,\n            rx: 4 * scale,\n            ry: 4 * scale,\n            fill: \"transparent\"\n          })\n        ]\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx({ preview }) {\n    const {\n      stroke,\n      fill,\n      strokeWidth,\n      strokeType,\n      decorations,\n      label,\n      scaleLevel,\n      handles: { start, end }\n    } = this.props;\n    const midPoint = src_default.med(start.point, end.point);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsxs)(import_jsx_runtime63.Fragment, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(Arrow, {\n          style: {\n            stroke: getComputedColor(stroke, \"text\"),\n            fill,\n            strokeWidth,\n            strokeType\n          },\n          scaleLevel,\n          start: start.point,\n          end: end.point,\n          decorationStart: decorations == null ? void 0 : decorations.start,\n          decorationEnd: decorations == null ? void 0 : decorations.end\n        }),\n        preview && \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(import_jsx_runtime63.Fragment, {\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime63.jsx)(\"text\", {\n            style: {\n              transformOrigin: \"top left\"\n            },\n            fontFamily: \"Inter\",\n            fontSize: 20,\n            transform: `translate(${midPoint[0]}, ${midPoint[1]})`,\n            textAnchor: \"middle\",\n            fill: getComputedColor(stroke, \"text\"),\n            stroke: getComputedColor(stroke, \"text\"),\n            children: label\n          })\n        })\n      ]\n    });\n  }\n};\n__publicField(LineShape, \"id\", \"line\");\n__publicField(LineShape, \"defaultProps\", {\n  id: \"line\",\n  parentId: \"page\",\n  type: \"line\",\n  point: [0, 0],\n  handles: {\n    start: { id: \"start\", canBind: true, point: [0, 0] },\n    end: { id: \"end\", canBind: true, point: [1, 1] }\n  },\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  strokeType: \"line\",\n  strokeWidth: 1,\n  opacity: 1,\n  decorations: {\n    end: \"arrow\" \/* Arrow *\/\n  },\n  label: \"\"\n});\n__decorateClass([\n  computed\n], LineShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], LineShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/LogseqPortalShape.tsx\nvar React52 = __toESM(require(\"react\"));\nvar import_jsx_runtime64 = require(\"react\/jsx-runtime\");\nvar HEADER_HEIGHT = 40;\nvar AUTO_RESIZE_THRESHOLD = 1;\nvar levelToScale7 = {\n  xs: 0.5,\n  sm: 0.8,\n  md: 1,\n  lg: 1.5,\n  xl: 2,\n  xxl: 3\n};\nvar LogseqPortalShapeHeader = observer(\n  ({\n    type,\n    fill,\n    opacity,\n    children\n  }) => {\n    const bgColor = fill !== \"var(--ls-secondary-background-color)\" ? getComputedColor(fill, \"background\") : \"var(--ls-tertiary-background-color)\";\n    const fillGradient = fill && fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(fill) ? `var(--ls-highlight-color-${fill})` : fill : \"var(--ls-secondary-background-color)\";\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(\"div\", {\n      className: `tl-logseq-portal-header tl-logseq-portal-header-${type === \"P\" ? \"page\" : \"block\"}`,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n          className: \"absolute inset-0 tl-logseq-portal-header-bg\",\n          style: {\n            opacity,\n            background: type === \"P\" ? bgColor : `linear-gradient(0deg, ${fillGradient}, ${bgColor})`\n          }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n          className: \"relative\",\n          children\n        })\n      ]\n    });\n  }\n);\nvar LogseqPortalShape = class extends TLBoxShape {\n  constructor(props = {}) {\n    var _a3;\n    super(props);\n    __publicField(this, \"hideRotateHandle\", true);\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"persist\", null);\n    __publicField(this, \"initialHeightCalculated\", true);\n    __publicField(this, \"getInnerHeight\", null);\n    __publicField(this, \"setCollapsed\", (collapsed) => __async(this, null, function* () {\n      var _a3;\n      if (this.props.blockType === \"B\") {\n        this.update({ compact: collapsed });\n        this.canResize[1] = !collapsed;\n        if (!collapsed) {\n          this.onResetBounds();\n        }\n      } else {\n        const originalHeight = this.props.size[1];\n        this.canResize[1] = !collapsed;\n        this.update({\n          isAutoResizing: !collapsed,\n          collapsed,\n          size: [this.props.size[0], collapsed ? this.getHeaderHeight() : this.props.collapsedHeight],\n          collapsedHeight: collapsed ? originalHeight : this.props.collapsedHeight\n        });\n      }\n      (_a3 = this.persist) == null ? void 0 : _a3.call(this);\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      var _a3;\n      const newSize = src_default.mul(\n        this.props.size,\n        levelToScale7[v2 != null ? v2 : \"md\"] \/ levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"]\n      );\n      this.update({\n        scaleLevel: v2\n      });\n      yield delay();\n      this.update({\n        size: newSize\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      const height = this.getAutoResizeHeight();\n      if (height !== null && Math.abs(height - this.props.size[1]) > AUTO_RESIZE_THRESHOLD) {\n        this.update({\n          size: [this.props.size[0], height]\n        });\n        this.initialHeightCalculated = true;\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      var _a3;\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      let height = bounds.height;\n      if (this.props.isAutoResizing) {\n        height = (_a3 = this.getAutoResizeHeight()) != null ? _a3 : height;\n      }\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, height)],\n        scale: nextScale,\n        rotation\n      });\n    });\n    __publicField(this, \"PortalComponent\", observer(({}) => {\n      const {\n        props: { pageId, fill, opacity }\n      } = this;\n      const { renderers } = React52.useContext(LogseqContext);\n      const app = useApp();\n      const cpRefContainer = React52.useRef(null);\n      const [, innerHeight] = this.useComponentSize(\n        cpRefContainer,\n        this.props.compact ? \".tl-logseq-cp-container > .single-block\" : \".tl-logseq-cp-container > .page\"\n      );\n      if (!(renderers == null ? void 0 : renderers.Page)) {\n        return null;\n      }\n      const { Page, Block } = renderers;\n      const [loaded, setLoaded] = React52.useState(false);\n      React52.useEffect(() => {\n        var _a3, _b;\n        if (this.props.isAutoResizing) {\n          const latestInnerHeight = (_b = (_a3 = this.getInnerHeight) == null ? void 0 : _a3.call(this)) != null ? _b : innerHeight;\n          const newHeight = latestInnerHeight + this.getHeaderHeight();\n          if (innerHeight && Math.abs(newHeight - this.props.size[1]) > AUTO_RESIZE_THRESHOLD) {\n            this.update({\n              size: [this.props.size[0], newHeight]\n            });\n            if (loaded)\n              app.persist({ replace: true });\n          }\n        }\n      }, [innerHeight, this.props.isAutoResizing]);\n      React52.useEffect(() => {\n        if (!this.initialHeightCalculated) {\n          setTimeout(() => {\n            this.onResetBounds();\n            app.persist({ replace: true });\n          });\n        }\n      }, [this.initialHeightCalculated]);\n      React52.useEffect(() => {\n        setTimeout(function() {\n          setLoaded(true);\n        });\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(import_jsx_runtime64.Fragment, {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            className: \"absolute inset-0 tl-logseq-cp-container-bg\",\n            style: {\n              textRendering: app.viewport.camera.zoom < 0.5 ? \"optimizeSpeed\" : \"auto\",\n              background: fill && fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(fill) ? `var(--ls-highlight-color-${fill})` : fill : \"var(--ls-secondary-background-color)\",\n              opacity\n            }\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            ref: cpRefContainer,\n            className: \"relative tl-logseq-cp-container\",\n            style: { overflow: this.props.isAutoResizing ? \"visible\" : \"auto\" },\n            children: (loaded || !this.initialHeightCalculated) && (this.props.blockType === \"B\" && this.props.compact ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Block, {\n              blockId: pageId\n            }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Page, {\n              pageName: pageId\n            }))\n          })\n        ]\n      });\n    }));\n    __publicField(this, \"ReactComponent\", observer((componentProps) => {\n      var _a3;\n      const { events, isErasing, isEditing, isBinding } = componentProps;\n      const {\n        props: { opacity, pageId, fill, scaleLevel, strokeWidth, size, isLocked }\n      } = this;\n      const app = useApp();\n      const { renderers, handlers } = React52.useContext(LogseqContext);\n      this.persist = () => app.persist();\n      const isMoving = useCameraMovingRef();\n      const isSelected = app.selectedIds.has(this.id) && app.selectedIds.size === 1;\n      const isCreating = app.isIn(\"logseq-portal.creating\") && !pageId;\n      const tlEventsEnabled = (isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\") && !isCreating;\n      const stop2 = React52.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const portalSelected = app.selectedShapesArray.length === 1 && app.selectedShapesArray.some(\n        (shape) => shape.type === \"logseq-portal\" && shape.props.id !== this.props.id && pageId && shape.props[\"pageId\"] === pageId\n      );\n      const scaleRatio = levelToScale7[scaleLevel != null ? scaleLevel : \"md\"];\n      React52.useEffect(() => {\n        if (this.props.collapsed && isEditing) {\n          this.update({\n            size: [this.props.size[0], this.props.collapsedHeight]\n          });\n          return () => {\n            this.update({\n              size: [this.props.size[0], this.getHeaderHeight()]\n            });\n          };\n        }\n        return () => {\n        };\n      }, [isEditing, this.props.collapsed]);\n      React52.useEffect(() => {\n        if (isCreating) {\n          const screenSize = [app.viewport.bounds.width, app.viewport.bounds.height];\n          const boundScreenCenter = app.viewport.getScreenPoint([this.bounds.minX, this.bounds.minY]);\n          if (boundScreenCenter[0] > screenSize[0] - 400 || boundScreenCenter[1] > screenSize[1] - 240 || app.viewport.camera.zoom > 1.5 || app.viewport.camera.zoom < 0.5) {\n            app.viewport.zoomToBounds(__spreadProps(__spreadValues({}, this.bounds), { minY: this.bounds.maxY + 25 }));\n          }\n        }\n      }, [app.viewport.bounds.height.toFixed(2)]);\n      const onPageNameChanged = React52.useCallback((id3, isPage) => {\n        this.initialHeightCalculated = false;\n        const blockType = isPage ? \"P\" : \"B\";\n        this.update({\n          pageId: id3,\n          size: [400, 320],\n          blockType,\n          compact: blockType === \"B\"\n        });\n        app.selectTool(\"select\");\n        app.history.resume();\n        app.history.persist();\n      }, []);\n      const PortalComponent = this.PortalComponent;\n      const blockContent = React52.useMemo(() => {\n        var _a4;\n        if (pageId && this.props.blockType === \"B\") {\n          return (_a4 = handlers == null ? void 0 : handlers.queryBlockByUUID(pageId)) == null ? void 0 : _a4.title;\n        }\n      }, [handlers == null ? void 0 : handlers.queryBlockByUUID, pageId]);\n      const targetNotFound = this.props.blockType === \"B\" && typeof blockContent !== \"string\";\n      const showingPortal = (!this.props.collapsed || isEditing) && !targetNotFound;\n      if (!(renderers == null ? void 0 : renderers.Page)) {\n        return null;\n      }\n      const { Breadcrumb, PageName } = renderers;\n      const portalStyle = {\n        width: `calc(100% \/ ${scaleRatio})`,\n        height: `calc(100% \/ ${scaleRatio})`,\n        opacity: isErasing ? 0.2 : 1\n      };\n      if (scaleRatio !== 1) {\n        portalStyle.transform = `scale(${scaleRatio})`;\n      }\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          pointerEvents: \"all\"\n        }\n      }, events), {\n        children: [\n          isBinding && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(BindingIndicator, {\n            mode: \"html\",\n            strokeWidth,\n            size\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n            \"data-inner-events\": !tlEventsEnabled,\n            onWheelCapture: stop2,\n            onPointerDown: stop2,\n            onPointerUp: stop2,\n            style: {\n              width: \"100%\",\n              height: \"100%\",\n              pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\"\n            },\n            children: isCreating ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(LogseqQuickSearch, {\n              onChange: onPageNameChanged,\n              onAddBlock: (uuid) => {\n                setTimeout(() => {\n                  var _a4, _b, _c;\n                  app.api.editShape(this);\n                  (_c = (_b = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b.edit_block) == null ? void 0 : _c.call(_b, uuid);\n                });\n              },\n              placeholder: \"Create or search your graph...\"\n            }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(\"div\", {\n              className: \"tl-logseq-portal-container\",\n              \"data-collapsed\": this.collapsed,\n              \"data-page-id\": pageId,\n              \"data-portal-selected\": portalSelected,\n              \"data-editing\": isEditing,\n              style: portalStyle,\n              children: [\n                !this.props.compact && !targetNotFound && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(LogseqPortalShapeHeader, {\n                  type: (_a3 = this.props.blockType) != null ? _a3 : \"P\",\n                  fill,\n                  opacity,\n                  children: this.props.blockType === \"P\" ? \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(PageName, {\n                    pageName: pageId\n                  }) : \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(Breadcrumb, {\n                    blockId: pageId\n                  })\n                }),\n                targetNotFound && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"div\", {\n                  className: \"tl-target-not-found\",\n                  children: \"Target not found\"\n                }),\n                showingPortal && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(PortalComponent, __spreadValues({}, componentProps))\n              ]\n            })\n          })\n        ]\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const bounds = this.getBounds();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n        width: bounds.width,\n        height: bounds.height,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: this.props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      var _a3;\n      if (props.size !== void 0) {\n        const scale = levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"];\n        props.size[0] = Math.max(props.size[0], 60 * scale);\n        props.size[1] = Math.max(props.size[1], HEADER_HEIGHT * scale);\n      }\n      return withClampedStyles(this, props);\n    });\n    makeObservable(this);\n    if (props.collapsed) {\n      Object.assign(this.canResize, [true, false]);\n    }\n    if (((_a3 = props.size) == null ? void 0 : _a3[1]) === 0) {\n      this.initialHeightCalculated = false;\n    }\n  }\n  static isPageOrBlock(id3) {\n    const blockRefEg = \"((62af02d0-0443-42e8-a284-946c162b0f89))\";\n    if (id3) {\n      return \/^\\(\\(.*\\)\\)$\/.test(id3) && id3.length === blockRefEg.length ? \"B\" : \"P\";\n    }\n    return false;\n  }\n  get collapsed() {\n    return this.props.blockType === \"B\" ? this.props.compact : this.props.collapsed;\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  useComponentSize(ref, selector = \"\") {\n    const [size, setSize] = React52.useState([0, 0]);\n    const app = useApp();\n    React52.useEffect(() => {\n      setTimeout(() => {\n        if (ref == null ? void 0 : ref.current) {\n          const el = selector ? ref.current.querySelector(selector) : ref.current;\n          if (el) {\n            const updateSize = () => {\n              const { width, height } = el.getBoundingClientRect();\n              const bound = src_default.div([width, height], app.viewport.camera.zoom);\n              setSize(bound);\n              return bound;\n            };\n            updateSize();\n            this.getInnerHeight = () => updateSize()[1];\n            const resizeObserver = new ResizeObserver(() => {\n              updateSize();\n            });\n            resizeObserver.observe(el);\n            return () => {\n              resizeObserver.disconnect();\n            };\n          }\n        }\n        return () => {\n        };\n      }, 10);\n    }, [ref, selector]);\n    return size;\n  }\n  getHeaderHeight() {\n    var _a3;\n    const scale = levelToScale7[(_a3 = this.props.scaleLevel) != null ? _a3 : \"md\"];\n    return this.props.compact ? 0 : HEADER_HEIGHT * scale;\n  }\n  getAutoResizeHeight() {\n    if (this.getInnerHeight) {\n      return this.getHeaderHeight() + this.getInnerHeight();\n    }\n    return null;\n  }\n  getShapeSVGJsx({ preview }) {\n    var _a3, _b, _c;\n    const bounds = this.getBounds();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsxs)(import_jsx_runtime64.Fragment, {\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n          fill: this.props.fill && this.props.fill !== \"var(--ls-secondary-background-color)\" ? isBuiltInColor(this.props.fill) ? `var(--ls-highlight-color-${this.props.fill})` : this.props.fill : \"var(--ls-secondary-background-color)\",\n          stroke: getComputedColor(this.props.fill, \"background\"),\n          strokeWidth: (_a3 = this.props.strokeWidth) != null ? _a3 : 2,\n          fillOpacity: (_b = this.props.opacity) != null ? _b : 0.2,\n          width: bounds.width,\n          rx: 8,\n          ry: 8,\n          height: bounds.height\n        }),\n        !this.props.compact && \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"rect\", {\n          fill: this.props.fill && this.props.fill !== \"var(--ls-secondary-background-color)\" ? getComputedColor(this.props.fill, \"background\") : \"var(--ls-tertiary-background-color)\",\n          fillOpacity: (_c = this.props.opacity) != null ? _c : 0.2,\n          x: 1,\n          y: 1,\n          width: bounds.width - 2,\n          height: HEADER_HEIGHT - 2,\n          rx: 8,\n          ry: 8\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime64.jsx)(\"text\", {\n          style: {\n            transformOrigin: \"top left\"\n          },\n          transform: `translate(${bounds.width \/ 2}, ${10 + bounds.height \/ 2})`,\n          textAnchor: \"middle\",\n          fontFamily: \"var(--ls-font-family)\",\n          fontSize: \"32\",\n          fill: \"var(--ls-secondary-text-color)\",\n          stroke: \"var(--ls-secondary-text-color)\",\n          children: this.props.blockType === \"P\" ? this.props.pageName : \"\"\n        })\n      ]\n    });\n  }\n};\n__publicField(LogseqPortalShape, \"id\", \"logseq-portal\");\n__publicField(LogseqPortalShape, \"defaultSearchQuery\", \"\");\n__publicField(LogseqPortalShape, \"defaultSearchFilter\", null);\n__publicField(LogseqPortalShape, \"defaultProps\", {\n  id: \"logseq-portal\",\n  type: \"logseq-portal\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [400, 50],\n  collapsedHeight: 0,\n  stroke: \"\",\n  fill: \"\",\n  noFill: false,\n  borderRadius: 8,\n  strokeWidth: 2,\n  strokeType: \"line\",\n  opacity: 1,\n  pageId: \"\",\n  collapsed: false,\n  compact: false,\n  scaleLevel: \"md\",\n  isAutoResizing: true\n});\n__decorateClass([\n  computed\n], LogseqPortalShape.prototype, \"collapsed\", 1);\n__decorateClass([\n  action\n], LogseqPortalShape.prototype, \"setCollapsed\", 2);\n__decorateClass([\n  computed\n], LogseqPortalShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], LogseqPortalShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ ..\/..\/node_modules\/perfect-freehand\/dist\/esm\/index.js\nfunction $2(e, t, u2, x2 = (h2) => h2) {\n  return e * x2(0.5 - t * (0.5 - u2));\n}\nfunction se2(e) {\n  return [-e[0], -e[1]];\n}\nfunction l2(e, t) {\n  return [e[0] + t[0], e[1] + t[1]];\n}\nfunction a2(e, t) {\n  return [e[0] - t[0], e[1] - t[1]];\n}\nfunction b2(e, t) {\n  return [e[0] * t, e[1] * t];\n}\nfunction he2(e, t) {\n  return [e[0] \/ t, e[1] \/ t];\n}\nfunction R2(e) {\n  return [e[1], -e[0]];\n}\nfunction B2(e, t) {\n  return e[0] * t[0] + e[1] * t[1];\n}\nfunction ue2(e, t) {\n  return e[0] === t[0] && e[1] === t[1];\n}\nfunction ge2(e) {\n  return Math.hypot(e[0], e[1]);\n}\nfunction de2(e) {\n  return e[0] * e[0] + e[1] * e[1];\n}\nfunction A2(e, t) {\n  return de2(a2(e, t));\n}\nfunction G2(e) {\n  return he2(e, ge2(e));\n}\nfunction ie2(e, t) {\n  return Math.hypot(e[1] - t[1], e[0] - t[0]);\n}\nfunction L2(e, t, u2) {\n  let x2 = Math.sin(u2), h2 = Math.cos(u2), y2 = e[0] - t[0], n2 = e[1] - t[1], f2 = y2 * h2 - n2 * x2, d2 = y2 * x2 + n2 * h2;\n  return [f2 + t[0], d2 + t[1]];\n}\nfunction K2(e, t, u2) {\n  return l2(e, b2(a2(t, e), u2));\n}\nfunction ee2(e, t, u2) {\n  return l2(e, b2(t, u2));\n}\nvar { min: C2, PI: xe2 } = Math;\nvar pe2 = 0.275;\nvar V3 = xe2 + 1e-4;\nfunction ce2(e, t = {}) {\n  let { size: u2 = 16, smoothing: x2 = 0.5, thinning: h2 = 0.5, simulatePressure: y2 = true, easing: n2 = (r2) => r2, start: f2 = {}, end: d2 = {}, last: D2 = false } = t, { cap: S2 = true, easing: j2 = (r2) => r2 * (2 - r2) } = f2, { cap: q2 = true, easing: c2 = (r2) => --r2 * r2 * r2 + 1 } = d2;\n  if (e.length === 0 || u2 <= 0)\n    return [];\n  let p2 = e[e.length - 1].runningLength, g2 = f2.taper === false ? 0 : f2.taper === true ? Math.max(u2, p2) : f2.taper, T2 = d2.taper === false ? 0 : d2.taper === true ? Math.max(u2, p2) : d2.taper, te2 = Math.pow(u2 * x2, 2), _2 = [], M2 = [], H2 = e.slice(0, 10).reduce((r2, i2) => {\n    let o2 = i2.pressure;\n    if (y2) {\n      let s2 = C2(1, i2.distance \/ u2), W2 = C2(1, 1 - s2);\n      o2 = C2(1, r2 + (W2 - r2) * (s2 * pe2));\n    }\n    return (r2 + o2) \/ 2;\n  }, e[0].pressure), m2 = $2(u2, h2, e[e.length - 1].pressure, n2), U2, X2 = e[0].vector, z2 = e[0].point, F2 = z2, O2 = z2, E2 = F2, J2 = false;\n  for (let r2 = 0; r2 < e.length; r2++) {\n    let { pressure: i2 } = e[r2], { point: o2, vector: s2, distance: W2, runningLength: I2 } = e[r2];\n    if (r2 < e.length - 1 && p2 - I2 < 3)\n      continue;\n    if (h2) {\n      if (y2) {\n        let v2 = C2(1, W2 \/ u2), Z2 = C2(1, 1 - v2);\n        i2 = C2(1, H2 + (Z2 - H2) * (v2 * pe2));\n      }\n      m2 = $2(u2, h2, i2, n2);\n    } else\n      m2 = u2 \/ 2;\n    U2 === void 0 && (U2 = m2);\n    let le2 = I2 < g2 ? j2(I2 \/ g2) : 1, fe2 = p2 - I2 < T2 ? c2((p2 - I2) \/ T2) : 1;\n    m2 = Math.max(0.01, m2 * Math.min(le2, fe2));\n    let re2 = (r2 < e.length - 1 ? e[r2 + 1] : e[r2]).vector, Y2 = r2 < e.length - 1 ? B2(s2, re2) : 1, be2 = B2(s2, X2) < 0 && !J2, ne2 = Y2 !== null && Y2 < 0;\n    if (be2 || ne2) {\n      let v2 = b2(R2(X2), m2);\n      for (let Z2 = 1 \/ 13, w2 = 0; w2 <= 1; w2 += Z2)\n        O2 = L2(a2(o2, v2), o2, V3 * w2), _2.push(O2), E2 = L2(l2(o2, v2), o2, V3 * -w2), M2.push(E2);\n      z2 = O2, F2 = E2, ne2 && (J2 = true);\n      continue;\n    }\n    if (J2 = false, r2 === e.length - 1) {\n      let v2 = b2(R2(s2), m2);\n      _2.push(a2(o2, v2)), M2.push(l2(o2, v2));\n      continue;\n    }\n    let oe2 = b2(R2(K2(re2, s2, Y2)), m2);\n    O2 = a2(o2, oe2), (r2 <= 1 || A2(z2, O2) > te2) && (_2.push(O2), z2 = O2), E2 = l2(o2, oe2), (r2 <= 1 || A2(F2, E2) > te2) && (M2.push(E2), F2 = E2), H2 = i2, X2 = s2;\n  }\n  let P2 = e[0].point.slice(0, 2), k2 = e.length > 1 ? e[e.length - 1].point.slice(0, 2) : l2(e[0].point, [1, 1]), Q2 = [], N2 = [];\n  if (e.length === 1) {\n    if (!(g2 || T2) || D2) {\n      let r2 = ee2(P2, G2(R2(a2(P2, k2))), -(U2 || m2)), i2 = [];\n      for (let o2 = 1 \/ 13, s2 = o2; s2 <= 1; s2 += o2)\n        i2.push(L2(r2, P2, V3 * 2 * s2));\n      return i2;\n    }\n  } else {\n    if (!(g2 || T2 && e.length === 1))\n      if (S2)\n        for (let i2 = 1 \/ 13, o2 = i2; o2 <= 1; o2 += i2) {\n          let s2 = L2(M2[0], P2, V3 * o2);\n          Q2.push(s2);\n        }\n      else {\n        let i2 = a2(_2[0], M2[0]), o2 = b2(i2, 0.5), s2 = b2(i2, 0.51);\n        Q2.push(a2(P2, o2), a2(P2, s2), l2(P2, s2), l2(P2, o2));\n      }\n    let r2 = R2(se2(e[e.length - 1].vector));\n    if (T2 || g2 && e.length === 1)\n      N2.push(k2);\n    else if (q2) {\n      let i2 = ee2(k2, r2, m2);\n      for (let o2 = 1 \/ 29, s2 = o2; s2 < 1; s2 += o2)\n        N2.push(L2(i2, k2, V3 * 3 * s2));\n    } else\n      N2.push(l2(k2, b2(r2, m2)), l2(k2, b2(r2, m2 * 0.99)), a2(k2, b2(r2, m2 * 0.99)), a2(k2, b2(r2, m2)));\n  }\n  return _2.concat(N2, M2.reverse(), Q2);\n}\nfunction me2(e, t = {}) {\n  var q2;\n  let { streamline: u2 = 0.5, size: x2 = 16, last: h2 = false } = t;\n  if (e.length === 0)\n    return [];\n  let y2 = 0.15 + (1 - u2) * 0.85, n2 = Array.isArray(e[0]) ? e : e.map(({ x: c2, y: p2, pressure: g2 = 0.5 }) => [c2, p2, g2]);\n  if (n2.length === 2) {\n    let c2 = n2[1];\n    n2 = n2.slice(0, -1);\n    for (let p2 = 1; p2 < 5; p2++)\n      n2.push(K2(n2[0], c2, p2 \/ 4));\n  }\n  n2.length === 1 && (n2 = [...n2, [...l2(n2[0], [1, 1]), ...n2[0].slice(2)]]);\n  let f2 = [{ point: [n2[0][0], n2[0][1]], pressure: n2[0][2] >= 0 ? n2[0][2] : 0.25, vector: [1, 1], distance: 0, runningLength: 0 }], d2 = false, D2 = 0, S2 = f2[0], j2 = n2.length - 1;\n  for (let c2 = 1; c2 < n2.length; c2++) {\n    let p2 = h2 && c2 === j2 ? n2[c2].slice(0, 2) : K2(S2.point, n2[c2], y2);\n    if (ue2(S2.point, p2))\n      continue;\n    let g2 = ie2(p2, S2.point);\n    if (D2 += g2, c2 < j2 && !d2) {\n      if (D2 < x2)\n        continue;\n      d2 = true;\n    }\n    S2 = { point: p2, pressure: n2[c2][2] >= 0 ? n2[c2][2] : 0.5, vector: G2(a2(S2.point, p2)), distance: g2, runningLength: D2 }, f2.push(S2);\n  }\n  return f2[0].vector = ((q2 = f2[1]) == null ? void 0 : q2.vector) || [0, 0], f2;\n}\n\n\/\/ src\/lib\/shapes\/PencilShape.tsx\nvar import_jsx_runtime65 = require(\"react\/jsx-runtime\");\nvar levelToScale8 = {\n  xs: 1,\n  sm: 1.6,\n  md: 2,\n  lg: 3.2,\n  xl: 4.8,\n  xxl: 6\n};\nvar simulatePressureSettings = {\n  easing: (t) => Math.sin(t * Math.PI \/ 2),\n  simulatePressure: true\n};\nvar realPressureSettings = {\n  easing: (t) => t * t,\n  simulatePressure: false\n};\nfunction getFreehandOptions(shape) {\n  const options = __spreadProps(__spreadValues({\n    size: 1 + shape.strokeWidth * 1.5,\n    thinning: 0.65,\n    streamline: 0.65,\n    smoothing: 0.65\n  }, shape.points[1][2] === 0.5 ? simulatePressureSettings : realPressureSettings), {\n    last: shape.isComplete\n  });\n  return options;\n}\nfunction getDrawStrokePoints(shape, options) {\n  return me2(shape.points, options);\n}\nfunction getDrawStrokePathTDSnapshot(shape) {\n  if (shape.points.length < 2)\n    return \"\";\n  const options = getFreehandOptions(shape);\n  const strokePoints = getDrawStrokePoints(shape, options);\n  const path = SvgPathUtils.getSvgPathFromStroke(ce2(strokePoints, options));\n  return path;\n}\nvar PencilShape = class extends TLDrawShape {\n  constructor(props = {}) {\n    super(props);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing }) => {\n      const {\n        props: { opacity }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(SVGContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: this.getShapeSVGJsx()\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        strokeWidth: levelToScale8[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const { pointsPath } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(\"path\", {\n        d: pointsPath,\n        strokeDasharray: this.props.isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      props = withClampedStyles(this, props);\n      if (props.strokeWidth !== void 0)\n        props.strokeWidth = Math.max(props.strokeWidth, 1);\n      return props;\n    });\n    makeObservable(this);\n  }\n  get pointsPath() {\n    return getDrawStrokePathTDSnapshot(this.props);\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx() {\n    const {\n      pointsPath,\n      props: { stroke, strokeWidth, strokeType }\n    } = this;\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime65.jsx)(\"path\", {\n      pointerEvents: \"all\",\n      d: pointsPath,\n      strokeWidth: strokeWidth \/ 2,\n      strokeLinejoin: \"round\",\n      strokeLinecap: \"round\",\n      stroke: getComputedColor(stroke, \"text\"),\n      fill: getComputedColor(stroke, \"text\"),\n      strokeDasharray: strokeType === \"dashed\" ? \"12 4\" : void 0\n    });\n  }\n};\n__publicField(PencilShape, \"id\", \"pencil\");\n__publicField(PencilShape, \"defaultProps\", {\n  id: \"pencil\",\n  parentId: \"page\",\n  type: \"pencil\",\n  point: [0, 0],\n  points: [],\n  isComplete: false,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1\n});\n__decorateClass([\n  computed\n], PencilShape.prototype, \"pointsPath\", 1);\n__decorateClass([\n  computed\n], PencilShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], PencilShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/PolygonShape.tsx\nvar React53 = __toESM(require(\"react\"));\nvar import_jsx_runtime66 = require(\"react\/jsx-runtime\");\nvar font4 = \"20px \/ 1 var(--ls-font-family)\";\nvar levelToScale9 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar PolygonShape = class extends TLPolygonShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(\n      ({ events, isErasing, isSelected, isEditing, onEditingEnd }) => {\n        const {\n          offset: [x2, y2],\n          props: {\n            stroke,\n            fill,\n            noFill,\n            strokeWidth,\n            opacity,\n            strokeType,\n            label,\n            italic,\n            fontWeight,\n            fontSize\n          }\n        } = this;\n        const path = this.getVertices(strokeWidth \/ 2).join();\n        const labelSize = label || isEditing ? getTextLabelSize(\n          label,\n          { fontFamily: \"var(--ls-font-family)\", fontSize, lineHeight: 1, fontWeight },\n          4\n        ) : [0, 0];\n        const midPoint = [this.props.size[0] \/ 2, this.props.size[1] * 2 \/ 3];\n        const scale = Math.max(\n          0.5,\n          Math.min(\n            1,\n            this.props.size[0] \/ (labelSize[0] * 2),\n            this.props.size[1] \/ (labelSize[1] * 2)\n          )\n        );\n        const bounds = this.getBounds();\n        const offset = React53.useMemo(() => {\n          return src_default.sub(midPoint, src_default.toFixed([bounds.width \/ 2, bounds.height \/ 2]));\n        }, [bounds, scale, midPoint]);\n        const handleLabelChange = React53.useCallback(\n          (label2) => {\n            var _a3;\n            (_a3 = this.update) == null ? void 0 : _a3.call(this, { label: label2 });\n          },\n          [label]\n        );\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"div\", __spreadProps(__spreadValues({}, events), {\n          style: { width: \"100%\", height: \"100%\", overflow: \"hidden\" },\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(TextLabel, {\n              font: font4,\n              text: label,\n              fontSize,\n              color: getComputedColor(stroke, \"text\"),\n              offsetX: offset[0],\n              offsetY: offset[1] \/ scale,\n              scale,\n              isEditing,\n              onChange: handleLabelChange,\n              onBlur: onEditingEnd,\n              fontStyle: italic ? \"italic\" : \"normal\",\n              fontWeight,\n              pointerEvents: !!label\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(SVGContainer, {\n              opacity: isErasing ? 0.2 : opacity,\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"g\", {\n                transform: `translate(${x2}, ${y2})`,\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n                    className: isSelected || !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n                    points: path\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n                    points: path,\n                    stroke: getComputedColor(stroke, \"stroke\"),\n                    fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n                    strokeWidth,\n                    rx: 2,\n                    ry: 2,\n                    strokeLinejoin: \"round\",\n                    strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0\n                  })\n                ]\n              })\n            })\n          ]\n        }));\n      }\n    ));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale9[v2 != null ? v2 : \"md\"],\n        strokeWidth: levelToScale9[v2 != null ? v2 : \"md\"] \/ 10\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        offset: [x2, y2],\n        props: { strokeWidth, isLocked }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"g\", {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          transform: `translate(${x2}, ${y2})`,\n          points: this.getVertices(strokeWidth \/ 2).join(),\n          strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n        })\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.sides !== void 0)\n        props.sides = Math.max(props.sides, 3);\n      return withClampedStyles(this, props);\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getShapeSVGJsx(opts) {\n    const {\n      offset: [x2, y2],\n      props: { stroke, fill, noFill, strokeWidth, opacity, strokeType }\n    } = this;\n    const path = this.getVertices(strokeWidth \/ 2).join();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsxs)(\"g\", {\n      transform: `translate(${x2}, ${y2})`,\n      opacity,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          className: !noFill ? \"tl-hitarea-fill\" : \"tl-hitarea-stroke\",\n          points: path\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime66.jsx)(\"polygon\", {\n          points: path,\n          stroke: getComputedColor(stroke, \"stroke\"),\n          fill: noFill ? \"none\" : getComputedColor(fill, \"background\"),\n          strokeWidth,\n          rx: 2,\n          ry: 2,\n          strokeLinejoin: \"round\",\n          strokeDasharray: strokeType === \"dashed\" ? \"8 2\" : void 0\n        })\n      ]\n    });\n  }\n};\n__publicField(PolygonShape, \"id\", \"polygon\");\n__publicField(PolygonShape, \"defaultProps\", {\n  id: \"polygon\",\n  parentId: \"page\",\n  type: \"polygon\",\n  point: [0, 0],\n  size: [100, 100],\n  sides: 3,\n  ratio: 1,\n  isFlippedY: false,\n  stroke: \"\",\n  fill: \"\",\n  fontWeight: 400,\n  fontSize: 20,\n  italic: false,\n  noFill: false,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1,\n  label: \"\"\n});\n__decorateClass([\n  computed\n], PolygonShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], PolygonShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/TextShape.tsx\nvar React54 = __toESM(require(\"react\"));\nvar import_jsx_runtime67 = require(\"react\/jsx-runtime\");\nvar levelToScale10 = {\n  xs: 10,\n  sm: 16,\n  md: 20,\n  lg: 32,\n  xl: 48,\n  xxl: 60\n};\nvar TextShape = class extends TLTextShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, onEditingEnd }) => {\n      const {\n        props: {\n          opacity,\n          fontFamily,\n          fontSize,\n          fontWeight,\n          italic,\n          lineHeight,\n          text,\n          stroke,\n          padding\n        }\n      } = this;\n      const rInput = React54.useRef(null);\n      const rIsMounted = React54.useRef(false);\n      const rInnerWrapper = React54.useRef(null);\n      const handleChange = React54.useCallback((e) => {\n        const { isSizeLocked } = this.props;\n        const text2 = TextUtils.normalizeText(e.currentTarget.value);\n        if (isSizeLocked) {\n          this.update({ text: text2, size: this.getAutoSizedBoundingBox({ text: text2 }) });\n          return;\n        }\n        this.update({ text: text2 });\n      }, []);\n      const handleKeyDown = React54.useCallback((e) => {\n        if (e.key === \"Escape\")\n          return;\n        if (e.key === \"Tab\" && text.length === 0) {\n          e.preventDefault();\n          return;\n        }\n        if (!(e.key === \"Meta\" || e.metaKey)) {\n          e.stopPropagation();\n        } else if (e.key === \"z\" && e.metaKey) {\n          if (e.shiftKey) {\n            document.execCommand(\"redo\", false);\n          } else {\n            document.execCommand(\"undo\", false);\n          }\n          e.stopPropagation();\n          e.preventDefault();\n          return;\n        }\n        if (e.key === \"Tab\") {\n          e.preventDefault();\n          if (e.shiftKey) {\n            TextAreaUtils.unindent(e.currentTarget);\n          } else {\n            TextAreaUtils.indent(e.currentTarget);\n          }\n          this.update({ text: TextUtils.normalizeText(e.currentTarget.value) });\n        }\n      }, []);\n      const handleBlur = React54.useCallback(\n        (e) => {\n          if (!isEditing)\n            return;\n          onEditingEnd == null ? void 0 : onEditingEnd();\n        },\n        [onEditingEnd]\n      );\n      const handleFocus = React54.useCallback(\n        (e) => {\n          if (!isEditing)\n            return;\n          if (!rIsMounted.current)\n            return;\n          if (document.activeElement === e.currentTarget) {\n            e.currentTarget.select();\n          }\n        },\n        [isEditing]\n      );\n      const handlePointerDown = React54.useCallback(\n        (e) => {\n          if (isEditing)\n            e.stopPropagation();\n        },\n        [isEditing]\n      );\n      React54.useEffect(() => {\n        if (isEditing) {\n          requestAnimationFrame(() => {\n            rIsMounted.current = true;\n            const elm = rInput.current;\n            if (elm) {\n              elm.focus();\n              elm.select();\n            }\n          });\n        }\n      }, [isEditing, onEditingEnd]);\n      React54.useLayoutEffect(() => {\n        if (this.props.size[0] === 0 || this.props.size[1] === 0) {\n          this.onResetBounds();\n        }\n      }, []);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(HTMLContainer, __spreadProps(__spreadValues({}, events), {\n        opacity: isErasing ? 0.2 : opacity,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"div\", {\n          ref: rInnerWrapper,\n          className: \"tl-text-shape-wrapper\",\n          \"data-hastext\": !!text,\n          \"data-isediting\": isEditing,\n          style: {\n            fontFamily,\n            fontStyle: italic ? \"italic\" : \"normal\",\n            fontSize,\n            fontWeight,\n            padding,\n            lineHeight,\n            color: getComputedColor(stroke, \"text\")\n          },\n          children: isEditing ? \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"textarea\", {\n            ref: rInput,\n            className: \"tl-text-shape-input\",\n            name: \"text\",\n            tabIndex: -1,\n            autoComplete: \"false\",\n            autoCapitalize: \"false\",\n            autoCorrect: \"false\",\n            autoSave: \"false\",\n            placeholder: \"\",\n            spellCheck: \"true\",\n            wrap: \"off\",\n            dir: \"auto\",\n            datatype: \"wysiwyg\",\n            defaultValue: text,\n            onFocus: handleFocus,\n            onChange: handleChange,\n            onKeyDown: handleKeyDown,\n            onBlur: handleBlur,\n            onPointerDown: handlePointerDown\n          }) : \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsxs)(import_jsx_runtime67.Fragment, {\n            children: [\n              text,\n              \"\\u200B\"\n            ]\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"setScaleLevel\", (v2) => __async(this, null, function* () {\n      this.update({\n        scaleLevel: v2,\n        fontSize: levelToScale10[v2 != null ? v2 : \"md\"]\n      });\n      this.onResetBounds();\n    }));\n    __publicField(this, \"ReactIndicator\", observer(({ isEditing }) => {\n      const {\n        props: { borderRadius, isLocked },\n        bounds\n      } = this;\n      return isEditing ? null : \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"rect\", {\n        width: bounds.width,\n        height: bounds.height,\n        rx: borderRadius,\n        ry: borderRadius,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.isSizeLocked || this.props.isSizeLocked) {\n      }\n      return withClampedStyles(this, props);\n    });\n    __publicField(this, \"getBounds\", () => {\n      const [x2, y2] = this.props.point;\n      const [width, height] = this.props.size;\n      return {\n        minX: x2,\n        minY: y2,\n        maxX: x2 + width,\n        maxY: y2 + height,\n        width,\n        height\n      };\n    });\n    __publicField(this, \"onResizeStart\", ({ isSingle }) => {\n      var _a3;\n      if (!isSingle)\n        return this;\n      this.scale = [...(_a3 = this.props.scale) != null ? _a3 : [1, 1]];\n      return this.update({\n        isSizeLocked: false\n      });\n    });\n    __publicField(this, \"onResetBounds\", () => {\n      this.update({\n        size: this.getAutoSizedBoundingBox(),\n        isSizeLocked: true\n      });\n      return this;\n    });\n  }\n  get scaleLevel() {\n    var _a3;\n    return (_a3 = this.props.scaleLevel) != null ? _a3 : \"md\";\n  }\n  getAutoSizedBoundingBox(props = {}) {\n    const {\n      text = this.props.text,\n      fontFamily = this.props.fontFamily,\n      fontSize = this.props.fontSize,\n      fontWeight = this.props.fontWeight,\n      lineHeight = this.props.lineHeight,\n      padding = this.props.padding\n    } = props;\n    const [width, height] = getTextLabelSize(\n      text,\n      { fontFamily, fontSize, lineHeight, fontWeight },\n      padding\n    );\n    return [width, height];\n  }\n  getShapeSVGJsx() {\n    if (isSafari()) {\n      return super.getShapeSVGJsx(null);\n    }\n    const {\n      props: { text, stroke, fontSize, fontFamily }\n    } = this;\n    const bounds = this.getBounds();\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"foreignObject\", {\n      width: bounds.width,\n      height: bounds.height,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime67.jsx)(\"div\", {\n        style: {\n          color: getComputedColor(stroke, \"text\"),\n          fontSize,\n          fontFamily,\n          display: \"contents\"\n        },\n        children: text\n      })\n    });\n  }\n};\n__publicField(TextShape, \"id\", \"text\");\n__publicField(TextShape, \"defaultProps\", {\n  id: \"box\",\n  parentId: \"page\",\n  type: \"text\",\n  point: [0, 0],\n  size: [0, 0],\n  isSizeLocked: true,\n  text: \"\",\n  lineHeight: 1.2,\n  fontSize: 20,\n  fontWeight: 400,\n  italic: false,\n  padding: 4,\n  fontFamily: \"var(--ls-font-family)\",\n  borderRadius: 0,\n  stroke: \"\",\n  fill: \"\",\n  noFill: true,\n  strokeType: \"line\",\n  strokeWidth: 2,\n  opacity: 1\n});\n__decorateClass([\n  computed\n], TextShape.prototype, \"scaleLevel\", 1);\n__decorateClass([\n  action\n], TextShape.prototype, \"setScaleLevel\", 2);\n\n\/\/ src\/lib\/shapes\/VideoShape.tsx\nvar React55 = __toESM(require(\"react\"));\nvar import_jsx_runtime68 = require(\"react\/jsx-runtime\");\nvar VideoShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"canChangeAspectRatio\", false);\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, asset, isEditing }) => {\n      const {\n        props: {\n          opacity,\n          size: [w2, h2]\n        }\n      } = this;\n      const isMoving = useCameraMovingRef();\n      const app = useApp();\n      const isSelected = app.selectedIds.has(this.id);\n      const tlEventsEnabled = isMoving || isSelected && !isEditing || app.selectedTool.id !== \"select\";\n      const stop2 = React55.useCallback(\n        (e) => {\n          if (!tlEventsEnabled) {\n            e.stopPropagation();\n          }\n        },\n        [tlEventsEnabled]\n      );\n      const { handlers } = React55.useContext(LogseqContext);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : opacity\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"div\", {\n          onWheelCapture: stop2,\n          onPointerDown: stop2,\n          onPointerUp: stop2,\n          className: \"tl-video-container\",\n          style: {\n            pointerEvents: !isMoving && (isEditing || isSelected) ? \"all\" : \"none\",\n            overflow: isEditing ? \"auto\" : \"hidden\"\n          },\n          children: asset && \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"video\", {\n            controls: true,\n            src: handlers ? handlers.makeAssetUrl(asset.src) : asset.src\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime68.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(VideoShape, \"id\", \"video\");\n__publicField(VideoShape, \"defaultProps\", {\n  id: \"video1\",\n  parentId: \"page\",\n  type: \"video\",\n  point: [0, 0],\n  size: [100, 100],\n  opacity: 1,\n  assetId: \"\",\n  clipping: 0,\n  isAspectRatioLocked: true\n});\n\n\/\/ src\/lib\/shapes\/YouTubeShape.tsx\nvar import_jsx_runtime69 = require(\"react\/jsx-runtime\");\nvar YOUTUBE_REGEX = \/^(?:https?:\\\/\\\/)?(?:www\\.)?(?:youtu\\.be\\\/|youtube\\.com\\\/(?:embed\\\/|v\\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$\/;\nvar _YouTubeShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"aspectRatio\", 480 \/ 853);\n    __publicField(this, \"canChangeAspectRatio\", false);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"onYoutubeLinkChange\", (url) => {\n      this.update({ url, size: _YouTubeShape.defaultProps.size });\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, isSelected }) => {\n      const app = useApp();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n          className: \"rounded-lg w-full h-full relative overflow-hidden shadow-xl tl-youtube-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\",\n            background: `url('https:\/\/img.youtube.com\/vi\/${this.embedId}\/mqdefault.jpg') no-repeat center\/cover`\n          },\n          children: this.embedId ? \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n            style: {\n              overflow: \"hidden\",\n              position: \"relative\",\n              height: \"100%\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"iframe\", {\n              className: \"absolute inset-0 w-full h-full m-0\",\n              width: \"853\",\n              height: \"480\",\n              src: `https:\/\/www.youtube.com\/embed\/${this.embedId}`,\n              frameBorder: \"0\",\n              allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n              allowFullScreen: true,\n              title: \"Embedded youtube\"\n            })\n          }) : \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"div\", {\n            className: \"w-full h-full flex items-center justify-center p-4\",\n            style: {\n              backgroundColor: \"var(--ls-primary-background-color)\"\n            },\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"svg\", {\n              xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n              viewBox: \"0 0 502 210.649\",\n              height: \"210.65\",\n              width: \"128\",\n              children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                    d: \"M498.333 45.7s-2.91-20.443-11.846-29.447C475.157 4.44 462.452 4.38 456.627 3.687c-41.7-3-104.25-3-104.25-3h-.13s-62.555 0-104.255 3c-5.826.693-18.523.753-29.86 12.566-8.933 9.004-11.84 29.447-11.84 29.447s-2.983 24.003-2.983 48.009v22.507c0 24.006 2.983 48.013 2.983 48.013s2.907 20.44 11.84 29.446c11.337 11.817 26.23 11.44 32.86 12.677 23.84 2.28 101.315 2.983 101.315 2.983s62.62-.094 104.32-3.093c5.824-.694 18.527-.75 29.857-12.567 8.936-9.006 11.846-29.446 11.846-29.446s2.98-24.007 2.98-48.013V93.709c0-24.006-2.98-48.01-2.98-48.01\",\n                    fill: \"#cd201f\"\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"g\", {\n                    children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                      d: \"M187.934 169.537h-18.96V158.56c-7.19 8.24-13.284 12.4-19.927 12.4-5.826 0-9.876-2.747-11.9-7.717-1.23-3.02-2.103-7.736-2.103-14.663V68.744h18.957v81.833c.443 2.796 1.636 3.823 4.043 3.823 3.63 0 6.913-3.153 10.93-8.817V68.744h18.96v100.793zM102.109 139.597c.996 9.98-2.1 14.93-7.987 14.93s-8.98-4.95-7.98-14.93v-39.92c-1-9.98 2.093-14.657 7.98-14.657 5.89 0 8.993 4.677 7.996 14.657l-.01 39.92zm18.96-37.923c0-10.77-2.164-18.86-5.987-23.95-5.054-6.897-12.973-9.72-20.96-9.72-9.033 0-15.913 2.823-20.957 9.72-3.886 5.09-5.97 13.266-5.97 24.036l-.016 35.84c0 10.71 1.853 18.11 5.736 23.153 5.047 6.873 13.227 10.513 21.207 10.513 7.986 0 16.306-3.64 21.36-10.513 3.823-5.043 5.586-12.443 5.586-23.153v-35.926zM46.223 114.647v54.889h-19.96v-54.89S5.582 47.358 1.314 34.815H22.27L36.277 87.38l13.936-52.566H71.17l-24.947 79.833z\"\n                    })\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n                    fill: \"#fff\",\n                    children: [\n                      \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                        d: \"M440.413 96.647c0-9.33 2.557-11.874 8.59-11.874 5.99 0 8.374 2.777 8.374 11.997v10.893l-16.964.02V96.647zm35.96 25.986l-.003-20.4c0-10.656-2.1-18.456-5.88-23.5-5.06-6.823-12.253-10.436-21.317-10.436-9.226 0-16.42 3.613-21.643 10.436-3.84 5.044-6.076 13.28-6.076 23.943v34.927c0 10.596 2.46 18.013 6.296 23.003 5.227 6.813 12.42 10.216 21.87 10.216 9.44 0 16.853-3.566 21.85-10.81 2.2-3.196 3.616-6.82 4.226-10.823.164-1.81.64-5.933.64-11.753v-2.827h-18.96c0 7.247.037 11.557-.133 12.54-1.033 4.834-3.623 7.25-8.07 7.25-6.203 0-8.826-4.636-8.76-13.843v-17.923h35.96zM390.513 140.597c0 9.98-2.353 13.806-7.563 13.806-2.973 0-6.4-1.53-9.423-4.553l.02-60.523c3.02-2.98 6.43-4.55 9.403-4.55 5.21 0 7.563 2.93 7.563 12.91v42.91zm2.104-72.453c-6.647 0-13.253 4.087-19.09 11.27l.02-43.603h-17.963V169.54h17.963l.027-10.05c6.036 7.47 12.62 11.333 19.043 11.333 7.193 0 12.45-3.85 14.863-11.267 1.203-4.226 1.993-10.733 1.993-19.956V99.684c0-9.447-1.21-15.907-2.416-19.917-2.41-7.466-7.247-11.623-14.44-11.623M340.618 169.537h-18.956V158.56c-7.193 8.24-13.283 12.4-19.926 12.4-5.827 0-9.877-2.747-11.9-7.717-1.234-3.02-2.107-7.736-2.107-14.663V69.744h18.96v80.833c.443 2.796 1.633 3.823 4.043 3.823 3.63 0 6.913-3.153 10.93-8.817V69.744h18.957v99.793z\"\n                      }),\n                      \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n                        d: \"M268.763 169.537h-19.956V54.77h-20.956V35.835l62.869-.024v18.96h-21.957v114.766z\"\n                      })\n                    ]\n                  })\n                ]\n              })\n            })\n          })\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.max(props.size[0], 1);\n        props.size[1] = Math.max(props.size[0] * this.aspectRatio, 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get embedId() {\n    var _a3, _b;\n    const url = this.props.url;\n    const match = url.match(YOUTUBE_REGEX);\n    const embedId = (_b = (_a3 = match == null ? void 0 : match[1]) != null ? _a3 : url) != null ? _b : \"\";\n    return embedId;\n  }\n  getShapeSVGJsx() {\n    const bounds = this.getBounds();\n    const embedId = this.embedId;\n    if (embedId) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"image\", {\n            width: bounds.width,\n            height: bounds.height,\n            href: `https:\/\/img.youtube.com\/vi\/${embedId}\/mqdefault.jpg`,\n            className: \"grayscale-[50%]\"\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"svg\", {\n            x: bounds.width \/ 4,\n            y: bounds.height \/ 4,\n            width: bounds.width \/ 2,\n            height: bounds.height \/ 2,\n            viewBox: \"0 0 15 15\",\n            fill: \"none\",\n            xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime69.jsx)(\"path\", {\n              d: \"M4.76447 3.12199C5.63151 3.04859 6.56082 3 7.5 3C8.43918 3 9.36849 3.04859 10.2355 3.12199C11.2796 3.21037 11.9553 3.27008 12.472 3.39203C12.9425 3.50304 13.2048 3.64976 13.4306 3.88086C13.4553 3.90618 13.4902 3.94414 13.5133 3.97092C13.7126 4.20149 13.8435 4.4887 13.918 5.03283C13.9978 5.6156 14 6.37644 14 7.52493C14 8.66026 13.9978 9.41019 13.9181 9.98538C13.8439 10.5206 13.7137 10.8061 13.5125 11.0387C13.4896 11.0651 13.4541 11.1038 13.4296 11.1287C13.2009 11.3625 12.9406 11.5076 12.4818 11.6164C11.9752 11.7365 11.3143 11.7942 10.2878 11.8797C9.41948 11.9521 8.47566 12 7.5 12C6.52434 12 5.58052 11.9521 4.7122 11.8797C3.68572 11.7942 3.02477 11.7365 2.51816 11.6164C2.05936 11.5076 1.7991 11.3625 1.57037 11.1287C1.54593 11.1038 1.51035 11.0651 1.48748 11.0387C1.28628 10.8061 1.15612 10.5206 1.08193 9.98538C1.00221 9.41019 1 8.66026 1 7.52493C1 6.37644 1.00216 5.6156 1.082 5.03283C1.15654 4.4887 1.28744 4.20149 1.48666 3.97092C1.5098 3.94414 1.54468 3.90618 1.56942 3.88086C1.7952 3.64976 2.05752 3.50304 2.52796 3.39203C3.04473 3.27008 3.7204 3.21037 4.76447 3.12199ZM0 7.52493C0 5.28296 0 4.16198 0.729985 3.31713C0.766457 3.27491 0.815139 3.22194 0.854123 3.18204C1.63439 2.38339 2.64963 2.29744 4.68012 2.12555C5.56923 2.05028 6.52724 2 7.5 2C8.47276 2 9.43077 2.05028 10.3199 2.12555C12.3504 2.29744 13.3656 2.38339 14.1459 3.18204C14.1849 3.22194 14.2335 3.27491 14.27 3.31713C15 4.16198 15 5.28296 15 7.52493C15 9.74012 15 10.8477 14.2688 11.6929C14.2326 11.7348 14.1832 11.7885 14.1444 11.8281C13.3629 12.6269 12.3655 12.71 10.3709 12.8763C9.47971 12.9505 8.50782 13 7.5 13C6.49218 13 5.52028 12.9505 4.62915 12.8763C2.63446 12.71 1.63712 12.6269 0.855558 11.8281C0.816844 11.7885 0.767442 11.7348 0.731221 11.6929C0 10.8477 0 9.74012 0 7.52493ZM5.25 5.38264C5.25 5.20225 5.43522 5.08124 5.60041 5.15369L10.428 7.27105C10.6274 7.35853 10.6274 7.64147 10.428 7.72895L5.60041 9.84631C5.43522 9.91876 5.25 9.79775 5.25 9.61736V5.38264Z\",\n              fill: \"#D10014\",\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\"\n            })\n          })\n        ]\n      });\n    }\n    return super.getShapeSVGJsx({});\n  }\n};\nvar YouTubeShape = _YouTubeShape;\n__publicField(YouTubeShape, \"id\", \"youtube\");\n__publicField(YouTubeShape, \"defaultProps\", {\n  id: \"youtube\",\n  type: \"youtube\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [853, 480],\n  url: \"\"\n});\n__decorateClass([\n  computed\n], YouTubeShape.prototype, \"embedId\", 1);\n__decorateClass([\n  action\n], YouTubeShape.prototype, \"onYoutubeLinkChange\", 2);\n\n\/\/ src\/lib\/shapes\/TweetShape.tsx\nvar React56 = __toESM(require(\"react\"));\nvar import_jsx_runtime70 = require(\"react\/jsx-runtime\");\nvar X_OR_TWITTER_REGEX = \/https?:\\\/\\\/(x|twitter).com\\\/[0-9a-zA-Z_]{1,20}\\\/status\\\/([0-9]*)\/;\nvar _TweetShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"canFlip\", false);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"initialHeightCalculated\", true);\n    __publicField(this, \"getInnerHeight\", null);\n    __publicField(this, \"onTwitterLinkChange\", (url) => {\n      this.update({ url, size: _TweetShape.defaultProps.size });\n    });\n    __publicField(this, \"ReactComponent\", observer(({ events, isErasing, isEditing, isSelected }) => {\n      const {\n        renderers: { Tweet }\n      } = React56.useContext(LogseqContext);\n      const app = useApp();\n      const cpRefContainer = React56.useRef(null);\n      const [, innerHeight] = this.useComponentSize(cpRefContainer);\n      React56.useEffect(() => {\n        var _a3, _b;\n        const latestInnerHeight = (_b = (_a3 = this.getInnerHeight) == null ? void 0 : _a3.call(this)) != null ? _b : innerHeight;\n        const newHeight = latestInnerHeight;\n        if (innerHeight && Math.abs(newHeight - this.props.size[1]) > 1) {\n          this.update({\n            size: [this.props.size[0], newHeight]\n          });\n          app.persist({ replace: true });\n        }\n      }, [innerHeight]);\n      React56.useEffect(() => {\n        if (!this.initialHeightCalculated) {\n          setTimeout(() => {\n            this.onResetBounds();\n            app.persist({ replace: true });\n          });\n        }\n      }, [this.initialHeightCalculated]);\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"div\", {\n          className: \"rounded-xl w-full h-full relative shadow-xl tl-tweet-container\",\n          style: {\n            pointerEvents: isEditing || app.readOnly ? \"all\" : \"none\",\n            userSelect: \"none\"\n          },\n          children: this.embedId ? \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"div\", {\n            ref: cpRefContainer,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(Tweet, {\n              tweetId: this.embedId\n            })\n          }) : null\n        })\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n    __publicField(this, \"onResetBounds\", (info) => {\n      const height = this.getAutoResizeHeight();\n      if (height !== null && Math.abs(height - this.props.size[1]) > 1) {\n        this.update({\n          size: [this.props.size[0], height]\n        });\n        this.initialHeightCalculated = true;\n      }\n      return this;\n    });\n    __publicField(this, \"onResize\", (initialProps, info) => {\n      var _a3;\n      const {\n        bounds,\n        rotation,\n        scale: [scaleX, scaleY]\n      } = info;\n      const nextScale = [...this.scale];\n      if (scaleX < 0)\n        nextScale[0] *= -1;\n      if (scaleY < 0)\n        nextScale[1] *= -1;\n      const height = (_a3 = this.getAutoResizeHeight()) != null ? _a3 : bounds.height;\n      return this.update({\n        point: [bounds.minX, bounds.minY],\n        size: [Math.max(1, bounds.width), Math.max(1, height)],\n        scale: nextScale,\n        rotation\n      });\n    });\n    __publicField(this, \"validateProps\", (props) => {\n      if (props.size !== void 0) {\n        props.size[0] = Math.min(Math.max(props.size[0], 300), 550);\n        props.size[1] = Math.max(props.size[1], 1);\n      }\n      return withClampedStyles(this, props);\n    });\n  }\n  get embedId() {\n    var _a3, _b;\n    const url = this.props.url;\n    const match = url.match(X_OR_TWITTER_REGEX);\n    const embedId = (_b = (_a3 = match == null ? void 0 : match[1]) != null ? _a3 : url) != null ? _b : \"\";\n    return embedId;\n  }\n  useComponentSize(ref, selector = \"\") {\n    const [size, setSize] = React56.useState([0, 0]);\n    const app = useApp();\n    React56.useEffect(() => {\n      if (ref == null ? void 0 : ref.current) {\n        const el = selector ? ref.current.querySelector(selector) : ref.current;\n        if (el) {\n          const updateSize = () => {\n            const { width, height } = el.getBoundingClientRect();\n            const bound = src_default.div([width, height], app.viewport.camera.zoom);\n            setSize(bound);\n            return bound;\n          };\n          updateSize();\n          this.getInnerHeight = () => updateSize()[1];\n          const resizeObserver = new ResizeObserver(() => {\n            updateSize();\n          });\n          resizeObserver.observe(el);\n          return () => {\n            resizeObserver.disconnect();\n          };\n        }\n      }\n      return () => {\n      };\n    }, [ref, selector]);\n    return size;\n  }\n  getAutoResizeHeight() {\n    if (this.getInnerHeight) {\n      return this.getInnerHeight();\n    }\n    return null;\n  }\n  getShapeSVGJsx() {\n    const bounds = this.getBounds();\n    const embedId = this.embedId;\n    if (embedId) {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsxs)(\"g\", {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"rect\", {\n            width: bounds.width,\n            height: bounds.height,\n            fill: \"#15202b\",\n            rx: 8,\n            ry: 8\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"svg\", {\n            x: bounds.width \/ 4,\n            y: bounds.height \/ 4,\n            width: bounds.width \/ 2,\n            height: bounds.height \/ 2,\n            viewBox: \"0 0 15 15\",\n            fill: \"none\",\n            xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime70.jsx)(\"path\", {\n              d: \"m13.464 4.4401c0.0091 0.13224 0.0091 0.26447 0.0091 0.39793 0 4.0664-3.0957 8.7562-8.7562 8.7562v-0.0024c-1.6721 0.0024-3.3095-0.47658-4.7172-1.3797 0.24314 0.02925 0.48751 0.04387 0.73248 0.04448 1.3857 0.0013 2.7319-0.46374 3.8221-1.3199-1.3169-0.024981-2.4717-0.8836-2.8751-2.1371 0.4613 0.08897 0.93662 0.070688 1.3894-0.053016-1.4357-0.29007-2.4686-1.5515-2.4686-3.0165v-0.039001c0.42779 0.23827 0.90676 0.37051 1.3967 0.38513-1.3522-0.90372-1.769-2.7026-0.95247-4.1091 1.5625 1.9226 3.8678 3.0914 6.3425 3.2151-0.24802-1.0689 0.090798-2.1889 0.89031-2.9403 1.2395-1.1651 3.1889-1.1054 4.3541 0.13346 0.68921-0.13589 1.3498-0.38879 1.9543-0.74711-0.22974 0.71237-0.71054 1.3175-1.3528 1.702 0.60999-0.071907 1.206-0.23522 1.7672-0.48446-0.41316 0.61913-0.93358 1.1584-1.5356 1.5942z\",\n              fill: \"#1d9bf0\",\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\"\n            })\n          })\n        ]\n      });\n    }\n    return super.getShapeSVGJsx({});\n  }\n};\nvar TweetShape = _TweetShape;\n__publicField(TweetShape, \"id\", \"tweet\");\n__publicField(TweetShape, \"defaultProps\", {\n  id: \"tweet\",\n  type: \"tweet\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [331, 290],\n  url: \"\"\n});\n__decorateClass([\n  computed\n], TweetShape.prototype, \"embedId\", 1);\n__decorateClass([\n  action\n], TweetShape.prototype, \"onTwitterLinkChange\", 2);\n\n\/\/ src\/lib\/shapes\/PdfShape.tsx\nvar React57 = __toESM(require(\"react\"));\nvar import_jsx_runtime71 = require(\"react\/jsx-runtime\");\nvar PdfShape = class extends TLBoxShape {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"frameRef\", React57.createRef());\n    __publicField(this, \"canChangeAspectRatio\", true);\n    __publicField(this, \"canFlip\", true);\n    __publicField(this, \"canEdit\", true);\n    __publicField(this, \"ReactComponent\", observer(({ events, asset, isErasing, isEditing }) => {\n      const ref = React57.useRef(null);\n      const { handlers } = React57.useContext(LogseqContext);\n      const app = useApp();\n      const isMoving = useCameraMovingRef();\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(HTMLContainer, __spreadProps(__spreadValues({\n        style: {\n          overflow: \"hidden\",\n          pointerEvents: \"all\",\n          opacity: isErasing ? 0.2 : 1\n        }\n      }, events), {\n        children: asset ? \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(\"embed\", {\n          src: handlers ? handlers.inflateAsset(asset.src).url : asset.src,\n          className: \"relative tl-pdf-container\",\n          onWheelCapture: stop,\n          onPointerDown: stop,\n          onPointerUp: stop,\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            pointerEvents: !isMoving && isEditing ? \"all\" : \"none\"\n          }\n        }) : null\n      }));\n    }));\n    __publicField(this, \"ReactIndicator\", observer(() => {\n      const {\n        props: {\n          size: [w2, h2],\n          isLocked\n        }\n      } = this;\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime71.jsx)(\"rect\", {\n        width: w2,\n        height: h2,\n        fill: \"transparent\",\n        rx: 8,\n        ry: 8,\n        strokeDasharray: isLocked ? \"8 2\" : \"undefined\"\n      });\n    }));\n  }\n};\n__publicField(PdfShape, \"id\", \"pdf\");\n__publicField(PdfShape, \"defaultProps\", {\n  id: \"pdf\",\n  type: \"pdf\",\n  parentId: \"page\",\n  point: [0, 0],\n  size: [595, 842],\n  assetId: \"\"\n});\n\n\/\/ src\/lib\/shapes\/DotShape.tsx\nvar import_jsx_runtime72 = require(\"react\/jsx-runtime\");\n\n\/\/ src\/lib\/shapes\/index.ts\nvar shapes = [\n  BoxShape,\n  EllipseShape,\n  HighlighterShape,\n  ImageShape,\n  VideoShape,\n  LineShape,\n  PencilShape,\n  PolygonShape,\n  TextShape,\n  YouTubeShape,\n  TweetShape,\n  IFrameShape,\n  HTMLShape,\n  PdfShape,\n  LogseqPortalShape,\n  GroupShape\n];\n\n\/\/ src\/lib\/tools\/BoxTool.tsx\nvar BoxTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", BoxShape);\n  }\n};\n__publicField(BoxTool, \"id\", \"box\");\n__publicField(BoxTool, \"shortcut\", \"whiteboard\/rectangle\");\n\n\/\/ src\/lib\/tools\/EllipseTool.tsx\nvar EllipseTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", EllipseShape);\n  }\n};\n__publicField(EllipseTool, \"id\", \"ellipse\");\n__publicField(EllipseTool, \"shortcut\", \"whiteboard\/ellipse\");\n\n\/\/ src\/lib\/tools\/EraseTool.tsx\nvar NuEraseTool = class extends TLEraseTool {\n};\n__publicField(NuEraseTool, \"id\", \"erase\");\n__publicField(NuEraseTool, \"shortcut\", \"whiteboard\/eraser\");\n\n\/\/ src\/lib\/tools\/HighlighterTool.tsx\nvar HighlighterTool = class extends TLDrawTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", HighlighterShape);\n    __publicField(this, \"simplify\", true);\n    __publicField(this, \"simplifyTolerance\", 0.618);\n  }\n};\n__publicField(HighlighterTool, \"id\", \"highlighter\");\n__publicField(HighlighterTool, \"shortcut\", \"whiteboard\/highlighter\");\n\n\/\/ src\/lib\/tools\/LineTool.tsx\nvar LineTool = class extends TLLineTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", LineShape);\n  }\n};\n__publicField(LineTool, \"id\", \"line\");\n__publicField(LineTool, \"shortcut\", \"whiteboard\/connector\");\n\n\/\/ src\/lib\/tools\/PencilTool.tsx\nvar PencilTool = class extends TLDrawTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", PencilShape);\n    __publicField(this, \"simplify\", false);\n  }\n};\n__publicField(PencilTool, \"id\", \"pencil\");\n__publicField(PencilTool, \"shortcut\", \"whiteboard\/pencil\");\n\n\/\/ src\/lib\/tools\/PolygonTool.tsx\nvar PolygonTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", PolygonShape);\n  }\n};\n__publicField(PolygonTool, \"id\", \"polygon\");\n\n\/\/ src\/lib\/tools\/TextTool.tsx\nvar TextTool = class extends TLTextTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", TextShape);\n  }\n};\n__publicField(TextTool, \"id\", \"text\");\n__publicField(TextTool, \"shortcut\", \"whiteboard\/text\");\n\n\/\/ src\/lib\/tools\/YouTubeTool.tsx\nvar YouTubeTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", YouTubeShape);\n  }\n};\n__publicField(YouTubeTool, \"id\", \"youtube\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/states\/CreatingState.tsx\nvar CreatingState6 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"creatingShape\");\n    __publicField(this, \"offset\", [0, 0]);\n    __publicField(this, \"onEnter\", () => {\n      this.app.history.pause();\n      transaction(() => {\n        let point = src_default.sub(this.app.inputs.originPoint, this.offset);\n        if (this.app.settings.snapToGrid) {\n          point = src_default.snap(point, GRID_SIZE);\n        }\n        const shape = new LogseqPortalShape({\n          id: uniqueId(),\n          parentId: this.app.currentPage.id,\n          point,\n          size: LogseqPortalShape.defaultProps.size,\n          fill: this.app.settings.color,\n          stroke: this.app.settings.color\n        });\n        this.creatingShape = shape;\n        this.app.currentPage.addShapes(shape);\n        this.app.setEditingShape(shape);\n        this.app.setSelectedShapes([shape]);\n      });\n    });\n    __publicField(this, \"onPointerDown\", (info) => {\n      switch (info.type) {\n        case \"shape\" \/* Shape *\/: {\n          if (info.shape === this.creatingShape)\n            return;\n          this.app.selectTool(\"select\");\n          break;\n        }\n        case \"selection\" \/* Selection *\/: {\n          break;\n        }\n        case \"handle\" \/* Handle *\/: {\n          break;\n        }\n        case \"canvas\" \/* Canvas *\/: {\n          if (!info.order) {\n            this.app.selectTool(\"select\");\n          }\n          break;\n        }\n      }\n    });\n    __publicField(this, \"onExit\", () => {\n      var _a3;\n      if (!this.creatingShape)\n        return;\n      this.app.history.resume();\n      if ((_a3 = this.creatingShape) == null ? void 0 : _a3.props.pageId) {\n        this.app.setSelectedShapes([this.creatingShape.id]);\n      } else {\n        this.app.deleteShapes([this.creatingShape.id]);\n        this.app.setEditingShape();\n      }\n      this.creatingShape = void 0;\n    });\n  }\n};\n__publicField(CreatingState6, \"id\", \"creating\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/states\/IdleState.tsx\nvar IdleState9 = class extends TLToolState {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"cursor\", \"crosshair\" \/* Cross *\/);\n    __publicField(this, \"onPointerDown\", (e) => {\n      this.tool.transition(\"creating\");\n    });\n  }\n};\n__publicField(IdleState9, \"id\", \"idle\");\n\n\/\/ src\/lib\/tools\/LogseqPortalTool\/LogseqPortalTool.tsx\nvar LogseqPortalTool = class extends TLTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", LogseqPortalShape);\n    __publicField(this, \"onPinch\", (info) => {\n      this.app.viewport.pinchZoom(info.point, info.delta, info.delta[2]);\n    });\n  }\n};\n__publicField(LogseqPortalTool, \"id\", \"logseq-portal\");\n__publicField(LogseqPortalTool, \"shortcut\", \"whiteboard\/portal\");\n__publicField(LogseqPortalTool, \"states\", [IdleState9, CreatingState6]);\n__publicField(LogseqPortalTool, \"initial\", \"idle\");\n\n\/\/ src\/lib\/tools\/HTMLTool.tsx\nvar HTMLTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", HTMLShape);\n  }\n};\n__publicField(HTMLTool, \"id\", \"youtube\");\n\n\/\/ src\/lib\/tools\/IFrameTool.tsx\nvar IFrameTool = class extends TLBoxTool {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"Shape\", IFrameShape);\n  }\n};\n__publicField(IFrameTool, \"id\", \"iframe\");\n\n\/\/ src\/lib\/preview-manager.tsx\nvar import_server = __toESM(require(\"react-dom\/server\"));\nvar import_jsx_runtime73 = require(\"react\/jsx-runtime\");\nvar SVG_EXPORT_PADDING = 16;\nvar ShapesMap = new Map(shapes.map((shape) => [shape.id, shape]));\nvar getShapeClass = (type) => {\n  if (!type)\n    throw Error(\"No shape type provided.\");\n  const Shape5 = ShapesMap.get(type);\n  if (!Shape5)\n    throw Error(`Could not find shape class for ${type}`);\n  return Shape5;\n};\nvar PreviewManager = class {\n  constructor(serializedApp) {\n    __publicField(this, \"shapes\");\n    __publicField(this, \"pageId\");\n    __publicField(this, \"assets\");\n    if (serializedApp) {\n      this.load(serializedApp);\n    }\n  }\n  load(snapshot) {\n    var _a3;\n    const page = (_a3 = snapshot == null ? void 0 : snapshot.pages) == null ? void 0 : _a3[0];\n    this.pageId = page == null ? void 0 : page.id;\n    this.assets = snapshot.assets;\n    this.shapes = page == null ? void 0 : page.shapes.map((s2) => {\n      const ShapeClass = getShapeClass(s2.type);\n      return new ShapeClass(s2);\n    }).filter((s2) => s2.type !== \"group\");\n  }\n  generatePreviewJsx(viewport, ratio) {\n    var _a3, _b;\n    const allBounds = [...((_a3 = this.shapes) != null ? _a3 : []).map((s2) => s2.getRotatedBounds())];\n    const vBounds = viewport == null ? void 0 : viewport.currentView;\n    if (vBounds) {\n      allBounds.push(vBounds);\n    }\n    let commonBounds = BoundsUtils.getCommonBounds(allBounds);\n    if (!commonBounds) {\n      return null;\n    }\n    commonBounds = BoundsUtils.expandBounds(commonBounds, SVG_EXPORT_PADDING);\n    commonBounds = ratio ? BoundsUtils.ensureRatio(commonBounds, ratio) : commonBounds;\n    const translatePoint = (p2) => {\n      return [(p2[0] - commonBounds.minX).toFixed(2), (p2[1] - commonBounds.minY).toFixed(2)];\n    };\n    const [vx, vy] = vBounds ? translatePoint([vBounds.minX, vBounds.minY]) : [0, 0];\n    const svgElement = commonBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(\"svg\", {\n      xmlns: \"http:\/\/www.w3.org\/2000\/svg\",\n      \"data-common-bound-x\": commonBounds.minX.toFixed(2),\n      \"data-common-bound-y\": commonBounds.minY.toFixed(2),\n      \"data-common-bound-width\": commonBounds.width.toFixed(2),\n      \"data-common-bound-height\": commonBounds.height.toFixed(2),\n      viewBox: [0, 0, commonBounds.width, commonBounds.height].join(\" \"),\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"defs\", {\n          children: vBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(import_jsx_runtime73.Fragment, {\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n                id: this.pageId + \"-camera-rect\",\n                transform: `translate(${vx}, ${vy})`,\n                width: vBounds.width,\n                height: vBounds.height\n              }),\n              \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsxs)(\"mask\", {\n                id: this.pageId + \"-camera-mask\",\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n                    width: commonBounds.width,\n                    height: commonBounds.height,\n                    fill: \"white\"\n                  }),\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"use\", {\n                    href: `#${this.pageId}-camera-rect`,\n                    fill: \"black\"\n                  })\n                ]\n              })\n            ]\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"g\", {\n          id: this.pageId + \"-preview-shapes\",\n          children: (_b = this.shapes) == null ? void 0 : _b.map((s2) => {\n            var _a4, _b2;\n            const {\n              bounds,\n              props: { rotation }\n            } = s2;\n            const [tx, ty] = translatePoint([bounds.minX, bounds.minY]);\n            const r2 = +(((rotation != null ? rotation : 0) + ((_a4 = bounds.rotation) != null ? _a4 : 0)) * 180 \/ Math.PI).toFixed(2);\n            const [rdx, rdy] = [(bounds.width \/ 2).toFixed(2), (bounds.height \/ 2).toFixed(2)];\n            const transformArr = [`translate(${tx}, ${ty})`, `rotate(${r2}, ${rdx}, ${rdy})`];\n            return \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"g\", {\n              transform: transformArr.join(\" \"),\n              children: s2.getShapeSVGJsx({\n                assets: (_b2 = this.assets) != null ? _b2 : []\n              })\n            }, s2.id);\n          })\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"rect\", {\n          mask: vBounds ? `url(#${this.pageId}-camera-mask)` : \"\",\n          width: commonBounds.width,\n          height: commonBounds.height,\n          fill: \"transparent\"\n        }),\n        vBounds && \/* @__PURE__ *\/ (0, import_jsx_runtime73.jsx)(\"use\", {\n          id: \"minimap-camera-rect\",\n          \"data-x\": vx,\n          \"data-y\": vy,\n          \"data-width\": vBounds.width,\n          \"data-height\": vBounds.height,\n          href: `#${this.pageId}-camera-rect`,\n          fill: \"transparent\",\n          stroke: \"red\",\n          strokeWidth: 4 \/ viewport.camera.zoom\n        })\n      ]\n    });\n    return svgElement;\n  }\n  exportAsSVG(ratio) {\n    const svgElement = this.generatePreviewJsx(void 0, ratio);\n    return svgElement ? import_server.default.renderToString(svgElement) : \"\";\n  }\n};\nfunction generateSVGFromModel(serializedApp, ratio = 4 \/ 3) {\n  const preview = new PreviewManager(serializedApp);\n  return preview.exportAsSVG(ratio);\n}\nfunction generateJSXFromModel(serializedApp, ratio = 4 \/ 3) {\n  const preview = new PreviewManager(serializedApp);\n  return preview.generatePreviewJsx(void 0, ratio);\n}\n\n\/\/ src\/components\/inputs\/TextInput.tsx\nvar React58 = __toESM(require(\"react\"));\nvar import_jsx_runtime74 = require(\"react\/jsx-runtime\");\nvar TextInput = React58.forwardRef(\n  (_a3, ref) => {\n    var _b = _a3, { autoResize = true, value, className } = _b, rest = __objRest(_b, [\"autoResize\", \"value\", \"className\"]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"div\", {\n      className: \"tl-input\" + (className ? \" \" + className : \"\"),\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsxs)(\"div\", {\n        className: \"tl-input-sizer\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"div\", {\n            className: \"tl-input-hidden\",\n            children: value\n          }),\n          \/* @__PURE__ *\/ (0, import_jsx_runtime74.jsx)(\"input\", __spreadValues({\n            ref,\n            value,\n            className: \"tl-text-input\",\n            type: \"text\"\n          }, rest))\n        ]\n      })\n    });\n  }\n);\n\n\/\/ src\/components\/QuickSearch\/QuickSearch.tsx\nvar import_jsx_runtime75 = require(\"react\/jsx-runtime\");\nvar LogseqTypeTag = ({\n  type,\n  active\n}) => {\n  const nameMapping = {\n    B: \"block\",\n    P: \"page\",\n    WP: \"whiteboard\",\n    BA: \"new-block\",\n    PA: \"new-page\",\n    WA: \"new-whiteboard\",\n    BS: \"block-search\",\n    PS: \"page-search\"\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"span\", {\n    className: \"tl-type-tag\",\n    \"data-active\": active,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"i\", {\n      className: `tie tie-${nameMapping[type]}`\n    })\n  });\n};\nfunction escapeRegExp(text) {\n  return text.replace(\/[-[\\]{}()*+?.,\\\\^$|#\\s]\/g, \"\\\\$&\");\n}\nvar highlightedJSX = (input, keyword) => {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"span\", {\n    children: input.split(new RegExp(`(${escapeRegExp(keyword)})`, \"gi\")).map((part, index2) => {\n      if (index2 % 2 === 1) {\n        return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"mark\", {\n          className: \"tl-highlighted\",\n          children: part\n        });\n      }\n      return part;\n    }).map((frag, idx) => \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(import_react48.default.Fragment, {\n      children: frag\n    }, idx))\n  });\n};\nvar useSearch = (q2, searchFilter) => {\n  const { handlers } = import_react48.default.useContext(LogseqContext);\n  const [results, setResults] = import_react48.default.useState(null);\n  const dq = useDebouncedValue(q2, 200);\n  import_react48.default.useEffect(() => {\n    let canceled = false;\n    if (dq.length > 0) {\n      const filter2 = { \"pages?\": true, \"blocks?\": true, \"files?\": false };\n      if (searchFilter === \"B\") {\n        filter2[\"pages?\"] = false;\n      } else if (searchFilter === \"P\") {\n        filter2[\"blocks?\"] = false;\n      }\n      handlers.search(dq, filter2).then((_results) => {\n        if (!canceled) {\n          setResults(_results);\n        }\n      });\n    } else {\n      setResults(null);\n    }\n    return () => {\n      canceled = true;\n    };\n  }, [dq, handlers == null ? void 0 : handlers.search]);\n  return results;\n};\nvar LogseqQuickSearch = observer(\n  ({ className, style, placeholder: placeholder2, onChange, onBlur, onAddBlock }) => {\n    const [q2, setQ] = import_react48.default.useState(LogseqPortalShape.defaultSearchQuery);\n    const [searchFilter, setSearchFilter] = import_react48.default.useState(\n      LogseqPortalShape.defaultSearchFilter\n    );\n    const rInput = import_react48.default.useRef(null);\n    const { handlers, renderers } = import_react48.default.useContext(LogseqContext);\n    const t = handlers.t;\n    const finishSearching = import_react48.default.useCallback((id3, isPage) => {\n      var _a3;\n      console.log({ id: id3, isPage });\n      setTimeout(() => onChange(id3, isPage));\n      (_a3 = rInput.current) == null ? void 0 : _a3.blur();\n      if (id3) {\n        LogseqPortalShape.defaultSearchQuery = \"\";\n        LogseqPortalShape.defaultSearchFilter = null;\n      }\n    }, []);\n    const handleAddBlock = import_react48.default.useCallback(\n      (content) => __async(void 0, null, function* () {\n        const uuid = yield handlers == null ? void 0 : handlers.addNewBlock(content);\n        if (uuid) {\n          finishSearching(uuid);\n          onAddBlock == null ? void 0 : onAddBlock(uuid);\n        }\n        return uuid;\n      }),\n      [onAddBlock]\n    );\n    const optionsWrapperRef = import_react48.default.useRef(null);\n    const [focusedOptionIdx, setFocusedOptionIdx] = import_react48.default.useState(0);\n    const searchResult = useSearch(q2, searchFilter);\n    const [prefixIcon, setPrefixIcon] = import_react48.default.useState(\"circle-plus\");\n    const [showPanel, setShowPanel] = import_react48.default.useState(false);\n    import_react48.default.useEffect(() => {\n      setTimeout(() => {\n        var _a3;\n        (_a3 = rInput.current) == null ? void 0 : _a3.focus();\n      });\n    }, [searchFilter]);\n    import_react48.default.useEffect(() => {\n      LogseqPortalShape.defaultSearchQuery = q2;\n      LogseqPortalShape.defaultSearchFilter = searchFilter;\n    }, [q2, searchFilter]);\n    const options = import_react48.default.useMemo(() => {\n      var _a3;\n      const options2 = [];\n      const Breadcrumb = renderers == null ? void 0 : renderers.Breadcrumb;\n      if (!Breadcrumb || !handlers) {\n        return [];\n      }\n      if (onAddBlock) {\n        options2.push({\n          actionIcon: \"circle-plus\",\n          onChosen: () => {\n            return !!handleAddBlock(q2);\n          },\n          element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n            className: \"tl-quick-search-option-row\",\n            children: [\n              \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                active: true,\n                type: \"BA\"\n              }),\n              q2.length > 0 ? \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(import_jsx_runtime75.Fragment, {\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                    children: t(\"whiteboard\/new-block\")\n                  }),\n                  q2\n                ]\n              }) : \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                children: t(\"whiteboard\/new-block-no-colon\")\n              })\n            ]\n          })\n        });\n      }\n      if (!((_a3 = searchResult == null ? void 0 : searchResult.pages) == null ? void 0 : _a3.some((p2) => p2.title.toLowerCase() === q2.toLowerCase())) && q2) {\n        options2.push(\n          {\n            actionIcon: \"circle-plus\",\n            onChosen: () => __async(void 0, null, function* () {\n              let result = yield handlers == null ? void 0 : handlers.addNewPage(q2);\n              finishSearching(result, true);\n              return true;\n            }),\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  active: true,\n                  type: \"PA\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                  children: t(\"whiteboard\/new-page\")\n                }),\n                q2\n              ]\n            })\n          },\n          {\n            actionIcon: \"circle-plus\",\n            onChosen: () => __async(void 0, null, function* () {\n              let result = yield handlers == null ? void 0 : handlers.addNewWhiteboard(q2);\n              finishSearching(result, true);\n              return true;\n            }),\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  active: true,\n                  type: \"WA\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"strong\", {\n                  children: t(\"whiteboard\/new-whiteboard\")\n                }),\n                q2\n              ]\n            })\n          }\n        );\n      }\n      if (q2.length === 0 && searchFilter === null) {\n        options2.push(\n          {\n            actionIcon: \"search\",\n            onChosen: () => {\n              setSearchFilter(\"B\");\n              return true;\n            },\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: \"BS\"\n                }),\n                t(\"whiteboard\/search-only-blocks\")\n              ]\n            })\n          },\n          {\n            actionIcon: \"search\",\n            onChosen: () => {\n              setSearchFilter(\"P\");\n              return true;\n            },\n            element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-option-row\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: \"PS\"\n                }),\n                t(\"whiteboard\/search-only-pages\")\n              ]\n            })\n          }\n        );\n      }\n      if ((!searchFilter || searchFilter === \"P\") && searchResult && searchResult.pages) {\n        options2.push(\n          ...searchResult.pages.map((page) => {\n            return {\n              actionIcon: \"search\",\n              onChosen: () => {\n                finishSearching(page.id, true);\n                return true;\n              },\n              element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n                className: \"tl-quick-search-option-row\",\n                children: [\n                  \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                    type: handlers.isWhiteboardPage(page.id) ? \"WP\" : \"P\"\n                  }),\n                  highlightedJSX(page.title, q2)\n                ]\n              })\n            };\n          })\n        );\n      }\n      if ((!searchFilter || searchFilter === \"B\") && searchResult && searchResult.blocks) {\n        options2.push(\n          ...searchResult.blocks.filter((block) => block.title && block.uuid).map(({ title, uuid }) => {\n            const block = handlers.queryBlockByUUID(uuid);\n            return {\n              actionIcon: \"search\",\n              onChosen: () => {\n                var _a4, _b, _c;\n                if (block) {\n                  finishSearching(uuid);\n                  (_c = (_b = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b.set_blocks_id) == null ? void 0 : _c.call(_b, [uuid]);\n                  return true;\n                }\n                return false;\n              },\n              element: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(import_jsx_runtime75.Fragment, {\n                children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n                  className: \"tl-quick-search-option-row\",\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                      type: \"B\"\n                    }),\n                    highlightedJSX(title, q2)\n                  ]\n                })\n              })\n            };\n          })\n        );\n      }\n      return options2;\n    }, [q2, searchFilter, searchResult, renderers == null ? void 0 : renderers.Breadcrumb, handlers]);\n    import_react48.default.useEffect(() => {\n      const keydownListener = (e) => {\n        var _a3, _b;\n        let newIndex = focusedOptionIdx;\n        if (e.key === \"ArrowDown\") {\n          newIndex = Math.min(options.length - 1, focusedOptionIdx + 1);\n        } else if (e.key === \"ArrowUp\") {\n          newIndex = Math.max(0, focusedOptionIdx - 1);\n        } else if (e.key === \"Enter\") {\n          (_a3 = options[focusedOptionIdx]) == null ? void 0 : _a3.onChosen();\n          e.stopPropagation();\n          e.preventDefault();\n        } else if (e.key === \"Backspace\" && q2.length === 0) {\n          setSearchFilter(null);\n        } else if (e.key === \"Escape\") {\n          finishSearching(\"\");\n        }\n        if (newIndex !== focusedOptionIdx) {\n          const option = options[newIndex];\n          setFocusedOptionIdx(newIndex);\n          setPrefixIcon(option.actionIcon);\n          e.stopPropagation();\n          e.preventDefault();\n          const optionElement = (_b = optionsWrapperRef.current) == null ? void 0 : _b.querySelector(\n            \".tl-quick-search-option:nth-child(\" + (newIndex + 1) + \")\"\n          );\n          if (optionElement) {\n            optionElement == null ? void 0 : optionElement.scrollIntoViewIfNeeded(false);\n          }\n        }\n      };\n      document.addEventListener(\"keydown\", keydownListener, true);\n      return () => {\n        document.removeEventListener(\"keydown\", keydownListener, true);\n      };\n    }, [options, focusedOptionIdx, q2]);\n    return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n      className: \"tl-quick-search \" + (className != null ? className : \"\"),\n      style,\n      children: [\n        \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(CircleButton, {\n          icon: prefixIcon,\n          onClick: () => {\n            var _a3;\n            (_a3 = options[focusedOptionIdx]) == null ? void 0 : _a3.onChosen();\n          }\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n          className: \"tl-quick-search-input-container\",\n          children: [\n            searchFilter && \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsxs)(\"div\", {\n              className: \"tl-quick-search-input-filter\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(LogseqTypeTag, {\n                  type: searchFilter\n                }),\n                searchFilter === \"B\" ? \"Search blocks\" : \"Search pages\",\n                \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n                  className: \"tl-quick-search-input-filter-remove\",\n                  onClick: () => setSearchFilter(null),\n                  children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(TablerIcon, {\n                    name: \"x\"\n                  })\n                })\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(TextInput, {\n              ref: rInput,\n              type: \"text\",\n              value: q2,\n              className: \"tl-quick-search-input\",\n              placeholder: placeholder2 != null ? placeholder2 : \"Create or search your graph...\",\n              onChange: (q3) => setQ(q3.target.value),\n              onKeyDown: (e) => {\n                if (e.key === \"Enter\") {\n                  finishSearching(q2);\n                }\n                e.stopPropagation();\n              },\n              onFocus: () => {\n                setShowPanel(true);\n              },\n              onBlur: () => {\n                setShowPanel(false);\n                onBlur == null ? void 0 : onBlur();\n              }\n            })\n          ]\n        }),\n        options.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n          onWheelCapture: (e) => e.stopPropagation(),\n          className: \"tl-quick-search-options\",\n          ref: optionsWrapperRef,\n          style: {\n            visibility: showPanel ? \"visible\" : \"hidden\",\n            pointerEvents: showPanel ? \"all\" : \"none\"\n          },\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(cn, {\n            style: { height: Math.min(Math.max(1, options.length), 12) * 40 },\n            totalCount: options.length,\n            itemContent: (index2) => {\n              const { actionIcon, onChosen, element } = options[index2];\n              return \/* @__PURE__ *\/ (0, import_jsx_runtime75.jsx)(\"div\", {\n                \"data-focused\": index2 === focusedOptionIdx,\n                className: \"tl-quick-search-option\",\n                tabIndex: 0,\n                onMouseEnter: () => {\n                  setPrefixIcon(actionIcon);\n                  setFocusedOptionIdx(index2);\n                },\n                onPointerDownCapture: (e) => {\n                  if (onChosen()) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                  }\n                },\n                children: element\n              }, index2);\n            }\n          })\n        })\n      ]\n    });\n  }\n);\n\n\/\/ src\/components\/inputs\/ShapeLinksInput.tsx\nvar import_jsx_runtime76 = require(\"react\/jsx-runtime\");\nfunction ShapeLinkItem({\n  id: id3,\n  type,\n  onRemove,\n  showContent\n}) {\n  const app = useApp();\n  const { handlers } = import_react50.default.useContext(LogseqContext);\n  const t = handlers.t;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n    className: \"tl-shape-links-panel-item color-level relative\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n        className: \"whitespace-pre break-all overflow-hidden text-ellipsis inline-flex\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(BlockLink, {\n          id: id3,\n          showReferenceContent: showContent\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n        className: \"flex-1\"\n      }),\n      handlers.getBlockPageName(id3) !== app.currentPage.name && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-page\"),\n        type: \"button\",\n        onClick: () => handlers == null ? void 0 : handlers.redirectToPage(id3),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"open-as-page\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-page-in-sidebar\"),\n        type: \"button\",\n        onClick: () => handlers == null ? void 0 : handlers.sidebarAddBlock(id3, type === \"B\" ? \"block\" : \"page\"),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"move-to-sidebar-right\"\n        })\n      }),\n      onRemove && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Button, {\n        className: \"tl-shape-links-panel-item-remove-button\",\n        tooltip: t(\"whiteboard\/remove-link\"),\n        type: \"button\",\n        onClick: onRemove,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n          name: \"x\",\n          className: \"!translate-y-0\"\n        })\n      })\n    ]\n  });\n}\nvar ShapeLinksInput = observer(function ShapeLinksInput2(_a3) {\n  var _b = _a3, {\n    pageId,\n    portalType,\n    shapeType,\n    refs,\n    side,\n    onRefsChange\n  } = _b, rest = __objRest(_b, [\n    \"pageId\",\n    \"portalType\",\n    \"shapeType\",\n    \"refs\",\n    \"side\",\n    \"onRefsChange\"\n  ]);\n  const {\n    handlers: { t }\n  } = import_react50.default.useContext(LogseqContext);\n  const noOfLinks = refs.length + (pageId ? 1 : 0);\n  const canAddLink = refs.length === 0;\n  const addNewRef = (value) => {\n    if (value && !refs.includes(value) && canAddLink) {\n      onRefsChange([...refs, value]);\n    }\n  };\n  const showReferencePanel = !!(pageId && portalType);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(PopoverButton, __spreadProps(__spreadValues({}, rest), {\n    side,\n    align: \"start\",\n    alignOffset: -6,\n    label: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(Tooltip, {\n      content: t(\"whiteboard\/link\"),\n      sideOffset: 14,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n        className: \"flex gap-1 relative items-center justify-center px-1\",\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n            name: noOfLinks > 0 ? \"link\" : \"add-link\"\n          }),\n          noOfLinks > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n            className: \"tl-shape-links-count\",\n            children: noOfLinks\n          })\n        ]\n      })\n    }),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n      className: \"color-level rounded-lg\",\n      \"data-show-reference-panel\": showReferencePanel,\n      children: [\n        showReferencePanel && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n          className: \"tl-shape-links-reference-panel\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n              className: \"text-base inline-flex gap-1 items-center\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n                  className: \"opacity-50\",\n                  name: \"internal-link\"\n                }),\n                t(\"whiteboard\/references\")\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(ShapeLinkItem, {\n              type: portalType,\n              id: pageId\n            })\n          ]\n        }),\n        \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n          className: \"tl-shape-links-panel color-level\",\n          children: [\n            \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsxs)(\"div\", {\n              className: \"text-base inline-flex gap-1 items-center\",\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(TablerIcon, {\n                  className: \"opacity-50\",\n                  name: \"add-link\"\n                }),\n                t(\"whiteboard\/link-to-any-page-or-block\")\n              ]\n            }),\n            canAddLink && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(LogseqQuickSearch, {\n              style: {\n                width: \"calc(100% - 46px)\",\n                marginLeft: \"46px\"\n              },\n              placeholder: t(\"whiteboard\/start-typing-to-search\"),\n              onChange: addNewRef\n            }),\n            refs.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(\"div\", {\n              className: \"flex flex-col items-stretch gap-2\",\n              children: refs.map((ref, i2) => {\n                return \/* @__PURE__ *\/ (0, import_jsx_runtime76.jsx)(ShapeLinkItem, {\n                  id: ref,\n                  type: validUUID(ref) ? \"B\" : \"P\",\n                  onRemove: () => {\n                    onRefsChange(refs.filter((_2, j2) => i2 !== j2));\n                  },\n                  showContent: true\n                }, ref);\n              })\n            })\n          ]\n        })\n      ]\n    })\n  }));\n});\n\n\/\/ src\/components\/inputs\/ToggleGroupInput.tsx\nvar import_jsx_runtime77 = require(\"react\/jsx-runtime\");\nvar LSUI10 = window.LSUI;\nfunction ToggleGroupInput({ options, value, onValueChange }) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroup, {\n    type: \"single\",\n    value,\n    onValueChange,\n    children: options.map((option) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(Tooltip, {\n        content: option.tooltip,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(\"div\", {\n          className: \"inline-flex\",\n          children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroupItem, {\n            className: \"tl-button\",\n            value: option.value,\n            disabled: option.value === value,\n            children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(TablerIcon, {\n              name: option.icon\n            })\n          })\n        })\n      }, option.value);\n    })\n  });\n}\nfunction ToggleGroupMultipleInput({\n  options,\n  value,\n  onValueChange\n}) {\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroup, {\n    className: \"inline-flex\",\n    type: \"multiple\",\n    value,\n    onValueChange,\n    children: options.map((option) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(LSUI10.ToggleGroupItem, {\n        className: \"tl-button\",\n        value: option.value,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime77.jsx)(TablerIcon, {\n          name: option.icon\n        })\n      }, option.value);\n    })\n  });\n}\n\n\/\/ src\/components\/ContextBar\/contextBarActionFactory.tsx\nvar import_jsx_runtime78 = require(\"react\/jsx-runtime\");\nvar contextBarActionTypes = [\n  \"EditPdf\",\n  \"LogseqPortalViewMode\",\n  \"Geometry\",\n  \"AutoResizing\",\n  \"Swatch\",\n  \"NoFill\",\n  \"StrokeType\",\n  \"ScaleLevel\",\n  \"TextStyle\",\n  \"YoutubeLink\",\n  \"TwitterLink\",\n  \"IFrameSource\",\n  \"ArrowMode\",\n  \"Links\"\n];\nvar singleShapeActions = [\n  \"YoutubeLink\",\n  \"TwitterLink\",\n  \"IFrameSource\",\n  \"Links\",\n  \"EditPdf\"\n];\nvar contextBarActionMapping = \/* @__PURE__ *\/ new Map();\nvar shapeMapping = {\n  \"logseq-portal\": [\"Swatch\", \"LogseqPortalViewMode\", \"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  youtube: [\"YoutubeLink\", \"Links\"],\n  tweet: [\"TwitterLink\", \"Links\"],\n  iframe: [\"IFrameSource\", \"Links\"],\n  box: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  ellipse: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  polygon: [\"Geometry\", \"TextStyle\", \"Swatch\", \"ScaleLevel\", \"NoFill\", \"StrokeType\", \"Links\"],\n  line: [\"TextStyle\", \"Swatch\", \"ScaleLevel\", \"ArrowMode\", \"Links\"],\n  pencil: [\"Swatch\", \"Links\", \"ScaleLevel\"],\n  highlighter: [\"Swatch\", \"Links\", \"ScaleLevel\"],\n  text: [\"TextStyle\", \"Swatch\", \"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  html: [\"ScaleLevel\", \"AutoResizing\", \"Links\"],\n  image: [\"Links\"],\n  video: [\"Links\"],\n  pdf: [\"EditPdf\", \"Links\"]\n};\nvar withFillShapes = Object.entries(shapeMapping).filter(([key, types]) => {\n  return types.includes(\"NoFill\") && types.includes(\"Swatch\");\n}).map(([key]) => key);\nfunction filterShapeByAction(type) {\n  const app = useApp();\n  const unlockedSelectedShapes = app.selectedShapesArray.filter((s2) => !s2.props.isLocked);\n  return unlockedSelectedShapes.filter((shape) => {\n    var _a3;\n    return (_a3 = shapeMapping[shape.props.type]) == null ? void 0 : _a3.includes(type);\n  });\n}\nvar AutoResizingAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"AutoResizing\");\n  const pressed = shapes2.every((s2) => s2.props.isAutoResizing);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip: t(\"whiteboard\/auto-resize\"),\n    toggle: shapes2.every((s2) => s2.props.type === \"logseq-portal\"),\n    className: \"tl-button\",\n    pressed,\n    onPressedChange: (v2) => {\n      shapes2.forEach((s2) => {\n        if (s2.props.type === \"logseq-portal\") {\n          s2.update({\n            isAutoResizing: v2\n          });\n        } else {\n          s2.onResetBounds({ zoom: app.viewport.camera.zoom });\n        }\n      });\n      app.persist();\n    },\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: \"dimensions\"\n    })\n  });\n});\nvar LogseqPortalViewModeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"LogseqPortalViewMode\");\n  const collapsed = shapes2.every((s2) => s2.collapsed);\n  if (!collapsed && !shapes2.every((s2) => !s2.collapsed)) {\n    return null;\n  }\n  const tooltip = \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"div\", {\n    className: \"flex\",\n    children: [\n      collapsed ? t(\"whiteboard\/expand\") : t(\"whiteboard\/collapse\"),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(KeyboardShortcut, {\n        action: collapsed ? \"editor\/expand-block-children\" : \"editor\/collapse-block-children\"\n      })\n    ]\n  });\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip,\n    toggle: shapes2.every((s2) => s2.props.type === \"logseq-portal\"),\n    className: \"tl-button\",\n    pressed: collapsed,\n    onPressedChange: () => app.api.setCollapsed(!collapsed),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: collapsed ? \"object-expanded\" : \"object-compact\"\n    })\n  });\n});\nvar ScaleLevelAction = observer(() => {\n  const {\n    handlers: { isMobile }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"ScaleLevel\");\n  const scaleLevel = new Set(shapes2.map((s2) => s2.scaleLevel)).size > 1 ? \"\" : shapes2[0].scaleLevel;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ScaleInput, {\n    scaleLevel,\n    compact: isMobile()\n  });\n});\nvar IFrameSourceAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"IFrameSource\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onIFrameSourceChange(e.target.value.trim().toLowerCase());\n    app.persist();\n  }, []);\n  const handleReload = import_react52.default.useCallback(() => {\n    shape.reload();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/reload\"),\n        type: \"button\",\n        onClick: handleReload,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"refresh\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/website-url\"),\n        className: \"tl-iframe-src\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-website-url\"),\n        type: \"button\",\n        onClick: () => window.open(shape.props.url),\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar YoutubeLinkAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"YoutubeLink\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onYoutubeLinkChange(e.target.value);\n    app.persist();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/youtube-url\"),\n        className: \"tl-youtube-link\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-youtube-url\"),\n        type: \"button\",\n        onClick: () => {\n          var _a3, _b, _c;\n          return (_c = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.open_external_link) == null ? void 0 : _c.call(_b, shape.props.url);\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar TwitterLinkAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = filterShapeByAction(\"TwitterLink\")[0];\n  const handleChange = import_react52.default.useCallback((e) => {\n    shape.onTwitterLinkChange(e.target.value);\n    app.persist();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-3\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TextInput, {\n        title: t(\"whiteboard\/twitter-url\"),\n        className: \"tl-twitter-link\",\n        value: `${shape.props.url}`,\n        onChange: handleChange\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n        tooltip: t(\"whiteboard\/open-twitter-url\"),\n        type: \"button\",\n        onClick: () => {\n          var _a3, _b, _c;\n          return (_c = (_b = (_a3 = window.logseq) == null ? void 0 : _a3.api) == null ? void 0 : _b.open_external_link) == null ? void 0 : _c.call(_b, shape.props.url);\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"external-link\"\n        })\n      })\n    ]\n  });\n});\nvar EditPdfAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t, setCurrentPdf }\n  } = import_react52.default.useContext(LogseqContext);\n  const shape = app.selectedShapesArray[0];\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(Button, {\n    tooltip: t(\"whiteboard\/edit-pdf\"),\n    type: \"button\",\n    onClick: () => setCurrentPdf(app.assets[shape.props.assetId].src),\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: \"edit\"\n    })\n  });\n});\nvar NoFillAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"NoFill\");\n  const handleChange = import_react52.default.useCallback((v2) => {\n    app.selectedShapesArray.forEach((s2) => s2.update({ noFill: v2 }));\n    app.persist();\n  }, []);\n  const noFill = shapes2.every((s2) => s2.props.noFill);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n    tooltip: t(\"whiteboard\/fill\"),\n    className: \"tl-button\",\n    pressed: noFill,\n    onPressedChange: handleChange,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n      name: noFill ? \"droplet-off\" : \"droplet\"\n    })\n  });\n});\nvar SwatchAction = observer(() => {\n  const app = useApp();\n  const shapes2 = filterShapeByAction(\"Swatch\");\n  const handleSetColor = import_react52.default.useCallback((color2) => {\n    app.selectedShapesArray.forEach((s2) => {\n      s2.update({ fill: color2, stroke: color2 });\n    });\n    app.persist();\n  }, []);\n  const handleSetOpacity = import_react52.default.useCallback((opacity) => {\n    app.selectedShapesArray.forEach((s2) => {\n      s2.update({ opacity });\n    });\n    app.persist();\n  }, []);\n  const color = shapes2[0].props.noFill ? shapes2[0].props.stroke : shapes2[0].props.fill;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ColorInput, {\n    popoverSide: \"top\",\n    color,\n    opacity: shapes2[0].props.opacity,\n    setOpacity: handleSetOpacity,\n    setColor: handleSetColor\n  });\n});\nvar GeometryAction = observer(() => {\n  const app = useApp();\n  const handleSetGeometry = import_react52.default.useCallback((e) => {\n    const type = e.currentTarget.dataset.tool;\n    app.api.convertShapes(type);\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(GeometryTools, {\n    popoverSide: \"top\",\n    chevron: false,\n    setGeometry: handleSetGeometry\n  });\n});\nvar StrokeTypeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"StrokeType\");\n  const StrokeTypeOptions = [\n    {\n      value: \"line\",\n      icon: \"circle\",\n      tooltip: \"Solid\"\n    },\n    {\n      value: \"dashed\",\n      icon: \"circle-dashed\",\n      tooltip: \"Dashed\"\n    }\n  ];\n  const value = shapes2.every((s2) => s2.props.strokeType === \"dashed\") ? \"dashed\" : shapes2.every((s2) => s2.props.strokeType === \"line\") ? \"line\" : \"mixed\";\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleGroupInput, {\n    title: t(\"whiteboard\/stroke-type\"),\n    options: StrokeTypeOptions,\n    value,\n    onValueChange: (v2) => {\n      shapes2.forEach((shape) => {\n        shape.update({\n          strokeType: v2\n        });\n      });\n      app.persist();\n    }\n  });\n});\nvar ArrowModeAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"ArrowMode\");\n  const StrokeTypeOptions = [\n    {\n      value: \"start\",\n      icon: \"arrow-narrow-left\"\n    },\n    {\n      value: \"end\",\n      icon: \"arrow-narrow-right\"\n    }\n  ];\n  const startValue = shapes2.every((s2) => {\n    var _a3;\n    return ((_a3 = s2.props.decorations) == null ? void 0 : _a3.start) === \"arrow\" \/* Arrow *\/;\n  });\n  const endValue = shapes2.every((s2) => {\n    var _a3;\n    return ((_a3 = s2.props.decorations) == null ? void 0 : _a3.end) === \"arrow\" \/* Arrow *\/;\n  });\n  const value = [startValue ? \"start\" : null, endValue ? \"end\" : null].filter(isNonNullable);\n  const valueToDecorations = (value2) => {\n    return {\n      start: value2.includes(\"start\") ? \"arrow\" \/* Arrow *\/ : null,\n      end: value2.includes(\"end\") ? \"arrow\" \/* Arrow *\/ : null\n    };\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleGroupMultipleInput, {\n    title: t(\"whiteboard\/arrow-head\"),\n    options: StrokeTypeOptions,\n    value,\n    onValueChange: (v2) => {\n      shapes2.forEach((shape) => {\n        shape.update({\n          decorations: valueToDecorations(v2)\n        });\n      });\n      app.persist();\n    }\n  });\n});\nvar TextStyleAction = observer(() => {\n  const app = useApp();\n  const {\n    handlers: { t }\n  } = import_react52.default.useContext(LogseqContext);\n  const shapes2 = filterShapeByAction(\"TextStyle\");\n  const bold = shapes2.every((s2) => s2.props.fontWeight > 500);\n  const italic = shapes2.every((s2) => s2.props.italic);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsxs)(\"span\", {\n    className: \"flex gap-1\",\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n        tooltip: t(\"whiteboard\/bold\"),\n        className: \"tl-button\",\n        pressed: bold,\n        onPressedChange: (v2) => {\n          shapes2.forEach((shape) => {\n            shape.update({\n              fontWeight: v2 ? 700 : 400\n            });\n            shape.onResetBounds();\n          });\n          app.persist();\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"bold\"\n        })\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ToggleInput, {\n        tooltip: t(\"whiteboard\/italic\"),\n        className: \"tl-button\",\n        pressed: italic,\n        onPressedChange: (v2) => {\n          shapes2.forEach((shape) => {\n            shape.update({\n              italic: v2\n            });\n            shape.onResetBounds();\n          });\n          app.persist();\n        },\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(TablerIcon, {\n          name: \"italic\"\n        })\n      })\n    ]\n  });\n});\nvar LinksAction = observer(() => {\n  var _a3;\n  const app = useApp();\n  const shape = app.selectedShapesArray[0];\n  const handleChange = (refs) => {\n    shape.update({ refs });\n    app.persist();\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime78.jsx)(ShapeLinksInput, {\n    onRefsChange: handleChange,\n    refs: (_a3 = shape.props.refs) != null ? _a3 : [],\n    shapeType: shape.props.type,\n    side: \"right\",\n    pageId: shape.props.type === \"logseq-portal\" ? shape.props.pageId : void 0,\n    portalType: shape.props.type === \"logseq-portal\" ? shape.props.blockType : void 0\n  });\n});\ncontextBarActionMapping.set(\"Geometry\", GeometryAction);\ncontextBarActionMapping.set(\"AutoResizing\", AutoResizingAction);\ncontextBarActionMapping.set(\"LogseqPortalViewMode\", LogseqPortalViewModeAction);\ncontextBarActionMapping.set(\"ScaleLevel\", ScaleLevelAction);\ncontextBarActionMapping.set(\"YoutubeLink\", YoutubeLinkAction);\ncontextBarActionMapping.set(\"TwitterLink\", TwitterLinkAction);\ncontextBarActionMapping.set(\"IFrameSource\", IFrameSourceAction);\ncontextBarActionMapping.set(\"NoFill\", NoFillAction);\ncontextBarActionMapping.set(\"Swatch\", SwatchAction);\ncontextBarActionMapping.set(\"StrokeType\", StrokeTypeAction);\ncontextBarActionMapping.set(\"ArrowMode\", ArrowModeAction);\ncontextBarActionMapping.set(\"TextStyle\", TextStyleAction);\ncontextBarActionMapping.set(\"Links\", LinksAction);\ncontextBarActionMapping.set(\"EditPdf\", EditPdfAction);\nvar getContextBarActionTypes = (type) => {\n  var _a3;\n  return ((_a3 = shapeMapping[type]) != null ? _a3 : []).filter(isNonNullable);\n};\nvar getContextBarActionsForShapes = (shapes2) => {\n  const types = shapes2.map((s2) => s2.props.type);\n  const actionTypes = new Set(shapes2.length > 0 ? getContextBarActionTypes(types[0]) : []);\n  for (let i2 = 1; i2 < types.length && actionTypes.size > 0; i2++) {\n    const otherActionTypes = getContextBarActionTypes(types[i2]);\n    actionTypes.forEach((action2) => {\n      if (!otherActionTypes.includes(action2)) {\n        actionTypes.delete(action2);\n      }\n    });\n  }\n  if (shapes2.length > 1) {\n    singleShapeActions.forEach((action2) => {\n      if (actionTypes.has(action2)) {\n        actionTypes.delete(action2);\n      }\n    });\n  }\n  return Array.from(actionTypes).sort((a3, b3) => contextBarActionTypes.indexOf(a3) - contextBarActionTypes.indexOf(b3)).map((action2) => contextBarActionMapping.get(action2));\n};\n\n\/\/ src\/components\/ContextBar\/ContextBar.tsx\nvar import_jsx_runtime79 = require(\"react\/jsx-runtime\");\nvar LSUI11 = window.LSUI;\nvar _ContextBar = ({ shapes: shapes2, offsets, hidden }) => {\n  const app = useApp();\n  const rSize = React62.useRef(null);\n  const rContextBar = React62.useRef(null);\n  React62.useLayoutEffect(() => {\n    setTimeout(() => {\n      const elm = rContextBar.current;\n      if (!elm)\n        return;\n      const { offsetWidth, offsetHeight } = elm;\n      rSize.current = [offsetWidth, offsetHeight];\n    });\n  });\n  React62.useLayoutEffect(() => {\n    var _a3;\n    const elm = rContextBar.current;\n    if (!elm)\n      return;\n    const size = (_a3 = rSize.current) != null ? _a3 : [0, 0];\n    const [x2, y2] = getContextBarTranslation(size, offsets);\n    elm.style.transform = `translateX(${x2}px) translateY(${y2}px)`;\n  }, [offsets]);\n  if (!app)\n    return null;\n  const Actions = getContextBarActionsForShapes(shapes2);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(HTMLContainer, {\n    centered: true,\n    children: Actions.length > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(\"div\", {\n      ref: rContextBar,\n      className: \"tl-toolbar tl-context-bar\",\n      style: {\n        visibility: hidden ? \"hidden\" : \"visible\",\n        pointerEvents: hidden ? \"none\" : \"all\"\n      },\n      children: Actions.map((Action, idx) => \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsxs)(React62.Fragment, {\n        children: [\n          \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(Action, {}),\n          idx < Actions.length - 1 && \/* @__PURE__ *\/ (0, import_jsx_runtime79.jsx)(LSUI11.Separator, {\n            orientation: \"vertical\"\n          })\n        ]\n      }, idx))\n    })\n  });\n};\nvar ContextBar = observer(_ContextBar);\n\n\/\/ src\/components\/ContextMenu\/ContextMenu.tsx\nvar React63 = __toESM(require(\"react\"));\nvar import_jsx_runtime80 = require(\"react\/jsx-runtime\");\nvar LSUI12 = window.LSUI;\nvar ContextMenu = observer(function ContextMenu2({\n  children,\n  collisionRef\n}) {\n  var _a3, _b, _c, _d, _e2, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n  const app = useApp();\n  const { handlers } = React63.useContext(LogseqContext);\n  const t = handlers.t;\n  const rContent = React63.useRef(null);\n  const runAndTransition = (f2) => {\n    f2();\n    app.transition(\"select\");\n  };\n  const developerMode = React63.useMemo(() => {\n    return isDev();\n  }, []);\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenu, {\n    onOpenChange: (open) => {\n      if (open && !app.isIn(\"select.contextMenu\")) {\n        app.transition(\"select\").selectedTool.transition(\"contextMenu\");\n      } else if (!open && app.isIn(\"select.contextMenu\")) {\n        app.selectedTool.transition(\"idle\");\n      }\n    },\n    children: [\n      \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuTrigger, {\n        disabled: app.editingShape && Object.keys(app.editingShape).length !== 0,\n        children\n      }),\n      \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuContent, {\n        className: \"tl-menu tl-context-menu\",\n        ref: rContent,\n        onEscapeKeyDown: () => app.transition(\"select\"),\n        collisionBoundary: collisionRef.current,\n        asChild: true,\n        tabIndex: -1,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n          children: [\n            ((_a3 = app.selectedShapes) == null ? void 0 : _a3.size) > 1 && !app.readOnly && ((_b = app.selectedShapesArray) == null ? void 0 : _b.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-button-row-wrap\",\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n                      className: \"tl-menu-button-row pb-0\",\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-left\"),\n                          onClick: () => runAndTransition(() => app.align(\"left\" \/* Left *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-left\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-center-horizontally\"),\n                          onClick: () => runAndTransition(() => app.align(\"centerHorizontal\" \/* CenterHorizontal *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-center\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-right\"),\n                          onClick: () => runAndTransition(() => app.align(\"right\" \/* Right *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-right\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.Separator, {\n                          className: \"tl-toolbar-separator\",\n                          orientation: \"vertical\"\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/distribute-horizontally\"),\n                          onClick: () => runAndTransition(() => app.distribute(\"horizontal\" \/* Horizontal *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-distribute-vertical\"\n                          })\n                        })\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(\"div\", {\n                      className: \"tl-menu-button-row pt-0\",\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-top\"),\n                          onClick: () => runAndTransition(() => app.align(\"top\" \/* Top *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-top\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-center-vertically\"),\n                          onClick: () => runAndTransition(() => app.align(\"centerVertical\" \/* CenterVertical *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-middle\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/align-bottom\"),\n                          onClick: () => runAndTransition(() => app.align(\"bottom\" \/* Bottom *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-align-bottom\"\n                          })\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.Separator, {\n                          className: \"tl-toolbar-separator\",\n                          orientation: \"vertical\"\n                        }),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(Button, {\n                          tooltip: t(\"whiteboard\/distribute-vertically\"),\n                          onClick: () => runAndTransition(() => app.distribute(\"vertical\" \/* Vertical *\/)),\n                          children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                            name: \"layout-distribute-horizontal\"\n                          })\n                        })\n                      ]\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.packIntoRectangle),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"layout-grid\"\n                    }),\n                    t(\"whiteboard\/pack-into-rectangle\")\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            ((_c = app.selectedShapes) == null ? void 0 : _c.size) > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.zoomToSelection),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"circle-dotted\"\n                    }),\n                    t(\"whiteboard\/zoom-to-fit\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/zoom-to-fit\"\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            (app.selectedShapesArray.some((s2) => s2.type === \"group\" || app.getParentGroup(s2)) || app.selectedShapesArray.length > 1) && ((_d = app.selectedShapesArray) == null ? void 0 : _d.some((s2) => !s2.props.isLocked)) && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                app.selectedShapesArray.some((s2) => s2.type === \"group\" || app.getParentGroup(s2)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.unGroup),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"ungroup\"\n                    }),\n                    t(\"whiteboard\/ungroup\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/ungroup\"\n                    })\n                  ]\n                }),\n                app.selectedShapesArray.length > 1 && ((_e2 = app.selectedShapesArray) == null ? void 0 : _e2.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.doGroup),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"group\"\n                    }),\n                    t(\"whiteboard\/group\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"whiteboard\/group\"\n                    })\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                })\n              ]\n            }),\n            ((_f = app.selectedShapes) == null ? void 0 : _f.size) > 0 && ((_g = app.selectedShapesArray) == null ? void 0 : _g.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.cut),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"cut\"\n                    }),\n                    t(\"whiteboard\/cut\")\n                  ]\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.copy),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"copy\"\n                    }),\n                    t(\"whiteboard\/copy\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"editor\/copy\"\n                    })\n                  ]\n                })\n              ]\n            }),\n            !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.paste),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"clipboard\"\n                }),\n                t(\"whiteboard\/paste\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  shortcut: `${MOD_KEY}+v`\n                })\n              ]\n            }),\n            ((_h = app.selectedShapes) == null ? void 0 : _h.size) === 1 && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.paste(void 0, true)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/paste-as-link\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  shortcut: `${MOD_KEY}+\\u21E7+v`\n                })\n              ]\n            }),\n            ((_i = app.selectedShapes) == null ? void 0 : _i.size) > 0 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                  className: \"menu-separator\"\n                }),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(\n                    () => {\n                      var _a4, _b2;\n                      return handlers.exportToImage(app.currentPageId, {\n                        x: app.selectionBounds.minX + app.viewport.camera.point[0] - EXPORT_PADDING,\n                        y: app.selectionBounds.minY + app.viewport.camera.point[1] - EXPORT_PADDING,\n                        width: ((_a4 = app.selectionBounds) == null ? void 0 : _a4.width) + EXPORT_PADDING * 2,\n                        height: ((_b2 = app.selectionBounds) == null ? void 0 : _b2.height) + EXPORT_PADDING * 2,\n                        zoom: app.viewport.camera.zoom\n                      });\n                    }\n                  ),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"file-export\"\n                    }),\n                    t(\"whiteboard\/export\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(\"div\", {\n                      className: \"tl-menu-right-slot\",\n                      children: \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(\"span\", {\n                        className: \"keyboard-shortcut\"\n                      })\n                    })\n                  ]\n                })\n              ]\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n              className: \"menu-separator\"\n            }),\n            \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.api.selectAll),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/select-all\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"editor\/select-parent\"\n                })\n              ]\n            }),\n            ((_j = app.selectedShapes) == null ? void 0 : _j.size) > 1 && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(app.api.deselectAll),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"circle-dotted\"\n                }),\n                t(\"whiteboard\/deselect-all\")\n              ]\n            }),\n            !app.readOnly && ((_k = app.selectedShapes) == null ? void 0 : _k.size) > 0 && ((_l = app.selectedShapesArray) == null ? void 0 : _l.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.setLocked(true)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"lock\"\n                }),\n                t(\"whiteboard\/lock\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"whiteboard\/lock\"\n                })\n              ]\n            }),\n            !app.readOnly && ((_m = app.selectedShapes) == null ? void 0 : _m.size) > 0 && ((_n = app.selectedShapesArray) == null ? void 0 : _n.some((s2) => s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n              className: \"tl-menu-item\",\n              onClick: () => runAndTransition(() => app.setLocked(false)),\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                  className: \"tl-menu-icon\",\n                  name: \"lock-open\"\n                }),\n                t(\"whiteboard\/unlock\"),\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                  action: \"whiteboard\/unlock\"\n                })\n              ]\n            }),\n            ((_o = app.selectedShapes) == null ? void 0 : _o.size) > 0 && !app.readOnly && ((_p = app.selectedShapesArray) == null ? void 0 : _p.some((s2) => !s2.props.isLocked)) && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n              children: [\n                \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => runAndTransition(app.api.deleteShapes),\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                      className: \"tl-menu-icon\",\n                      name: \"backspace\"\n                    }),\n                    t(\"whiteboard\/delete\"),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                      action: \"editor\/delete\"\n                    })\n                  ]\n                }),\n                ((_q = app.selectedShapes) == null ? void 0 : _q.size) > 1 && !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                      className: \"menu-separator\"\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.flipHorizontal),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"flip-horizontal\"\n                        }),\n                        t(\"whiteboard\/flip-horizontally\")\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.flipVertical),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"flip-vertical\"\n                        }),\n                        t(\"whiteboard\/flip-vertically\")\n                      ]\n                    })\n                  ]\n                }),\n                !app.readOnly && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(import_jsx_runtime80.Fragment, {\n                  children: [\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuSeparator, {\n                      className: \"menu-separator\"\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.bringToFront),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"circle-dotted\"\n                        }),\n                        t(\"whiteboard\/move-to-front\"),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                          action: \"whiteboard\/bring-to-front\"\n                        })\n                      ]\n                    }),\n                    \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsxs)(LSUI12.ContextMenuItem, {\n                      className: \"tl-menu-item\",\n                      onClick: () => runAndTransition(app.sendToBack),\n                      children: [\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(TablerIcon, {\n                          className: \"tl-menu-icon\",\n                          name: \"circle-dotted\"\n                        }),\n                        t(\"whiteboard\/move-to-back\"),\n                        \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(KeyboardShortcut, {\n                          action: \"whiteboard\/send-to-back\"\n                        })\n                      ]\n                    })\n                  ]\n                }),\n                developerMode && \/* @__PURE__ *\/ (0, import_jsx_runtime80.jsx)(LSUI12.ContextMenuItem, {\n                  className: \"tl-menu-item\",\n                  onClick: () => {\n                    if (app.selectedShapesArray.length === 1) {\n                      console.log(toJS(app.selectedShapesArray[0].serialized));\n                    } else {\n                      console.log(app.selectedShapesArray.map((s2) => toJS(s2.serialized)));\n                    }\n                  },\n                  children: t(\"whiteboard\/dev-print-shape-props\")\n                })\n              ]\n            })\n          ]\n        })\n      })\n    ]\n  });\n});\n\n\/\/ src\/components\/QuickLinks\/QuickLinks.tsx\nvar import_react56 = __toESM(require(\"react\"));\nvar import_jsx_runtime81 = require(\"react\/jsx-runtime\");\nvar QuickLinks = observer(({ shape }) => {\n  const app = useApp();\n  const { handlers } = import_react56.default.useContext(LogseqContext);\n  const t = handlers.t;\n  const links = import_react56.default.useMemo(() => {\n    var _a3;\n    const links2 = [...(_a3 = shape.props.refs) != null ? _a3 : []].map(\n      (l3) => [l3, true]\n    );\n    if (shape.props.type === \"logseq-portal\" && shape.props.pageId) {\n      links2.unshift([shape.props.pageId, false]);\n    }\n    return links2.filter(\n      (link) => link[0].toLowerCase() !== app.currentPage.id && link[0] !== shape.props.pageId\n    );\n  }, [shape.props.id, shape.props.type, shape.props.parentId, shape.props.refs]);\n  if (links.length === 0)\n    return null;\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(\"div\", {\n    className: \"tl-quick-links\",\n    title: t(\"whiteboard\/shape-quick-links\"),\n    children: links.map(([ref, showReferenceContent]) => {\n      return \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(\"div\", {\n        className: \"tl-quick-links-row\",\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime81.jsx)(BlockLink, {\n          id: ref,\n          showReferenceContent\n        })\n      }, ref);\n    })\n  });\n});\n\n\/\/ src\/hooks\/useDrop.ts\nvar React66 = __toESM(require(\"react\"));\n\n\/\/ src\/hooks\/usePaste.ts\nvar React65 = __toESM(require(\"react\"));\nvar isValidURL = (url) => {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.host && [\"http:\", \"https:\"].includes(parsedUrl.protocol);\n  } catch (e) {\n    return false;\n  }\n};\nvar assetExtensions = {\n  image: [\".png\", \".svg\", \".jpg\", \".jpeg\", \".gif\"],\n  video: [\".mp4\", \".webm\", \".ogg\"],\n  pdf: [\".pdf\"]\n};\nfunction getFileType(filename) {\n  var _a3;\n  const extensionMatch = filename.match(\/\\.[0-9a-z]+$\/i);\n  if (!extensionMatch)\n    return \"unknown\";\n  const extension = extensionMatch[0].toLowerCase();\n  const [type, _extensions] = (_a3 = Object.entries(assetExtensions).find(\n    ([_type, extensions]) => extensions.includes(extension)\n  )) != null ? _a3 : [\"unknown\", null];\n  return type;\n}\nfunction tryCreateShapeHelper(...fns) {\n  return (...args) => __async(this, null, function* () {\n    for (const fn of fns) {\n      const result = yield fn(...args);\n      if (result && result.length > 0) {\n        return result;\n      }\n    }\n    return null;\n  });\n}\nfunction getDataFromType(item, type) {\n  return __async(this, null, function* () {\n    if (!item.types.includes(type)) {\n      return null;\n    }\n    if (item instanceof DataTransfer) {\n      return item.getData(type);\n    }\n    const blob = yield item.getType(type);\n    return yield blob.text();\n  });\n}\nvar handleCreatingShapes = (_0, _1, _2) => __async(void 0, [_0, _1, _2], function* (app, { point, shiftKey, dataTransfer, fromDrop }, handlers) {\n  var _a3, _b;\n  let imageAssetsToCreate = [];\n  let assetsToClone = [];\n  const bindingsToCreate = [];\n  function createAssetsFromURL(url, type) {\n    return __async(this, null, function* () {\n      const existingAsset = Object.values(app.assets).find((asset2) => asset2.src === url);\n      if (existingAsset) {\n        return existingAsset;\n      }\n      const asset = {\n        id: uniqueId(),\n        type,\n        src: url,\n        size: yield getSizeFromSrc(handlers.makeAssetUrl(url), type)\n      };\n      return asset;\n    });\n  }\n  function createAssetsFromFiles(files) {\n    return __async(this, null, function* () {\n      const tasks = files.filter((file) => getFileType(file.name) !== \"unknown\").map((file) => __async(this, null, function* () {\n        try {\n          const dataurl = yield handlers.saveAsset(file);\n          return yield createAssetsFromURL(dataurl, getFileType(file.name));\n        } catch (err) {\n          console.error(err);\n        }\n        return null;\n      }));\n      return (yield Promise.all(tasks)).filter(isNonNullable);\n    });\n  }\n  function createHTMLShape(text) {\n    return [\n      __spreadProps(__spreadValues({}, HTMLShape.defaultProps), {\n        html: text,\n        point: [point[0], point[1]]\n      })\n    ];\n  }\n  function tryCreateShapesFromDataTransfer(dataTransfer2) {\n    return __async(this, null, function* () {\n      return tryCreateShapeHelper(\n        tryCreateShapeFromFilePath,\n        tryCreateShapeFromFiles,\n        tryCreateShapeFromPageName,\n        tryCreateShapeFromBlockUUID,\n        tryCreateShapeFromTextPlain,\n        tryCreateShapeFromTextHTML,\n        tryCreateLogseqPortalShapesFromString\n      )(dataTransfer2);\n    });\n  }\n  function tryCreateShapesFromClipboard() {\n    return __async(this, null, function* () {\n      const items = yield navigator.clipboard.read();\n      const createShapesFn = tryCreateShapeHelper(\n        tryCreateShapeFromTextPlain,\n        tryCreateShapeFromTextHTML,\n        tryCreateLogseqPortalShapesFromString\n      );\n      const allShapes = (yield Promise.all(items.map((item) => createShapesFn(item)))).flat().filter(isNonNullable);\n      return allShapes;\n    });\n  }\n  function tryCreateShapeFromFilePath(item) {\n    return __async(this, null, function* () {\n      const file = item.getData(\"file\");\n      if (!file)\n        return null;\n      const asset = yield createAssetsFromURL(file, \"pdf\");\n      app.addAssets([asset]);\n      const newShape = __spreadProps(__spreadValues({}, PdfShape.defaultProps), {\n        id: uniqueId(),\n        assetId: asset.id,\n        url: file,\n        opacity: 1\n      });\n      if (asset.size) {\n        Object.assign(newShape, {\n          point: [point[0] - asset.size[0] \/ 4 + 16, point[1] - asset.size[1] \/ 4 + 16],\n          size: src_default.div(asset.size, 2)\n        });\n      }\n      return [newShape];\n    });\n  }\n  function tryCreateShapeFromFiles(item) {\n    return __async(this, null, function* () {\n      const files = Array.from(item.files);\n      if (files.length > 0) {\n        const assets = yield createAssetsFromFiles(files);\n        imageAssetsToCreate = assets;\n        return assets.map((asset, i2) => {\n          let defaultProps = null;\n          switch (asset.type) {\n            case \"video\":\n              defaultProps = VideoShape.defaultProps;\n              break;\n            case \"image\":\n              defaultProps = ImageShape.defaultProps;\n              break;\n            case \"pdf\":\n              defaultProps = PdfShape.defaultProps;\n              break;\n            default:\n              return null;\n          }\n          const newShape = __spreadProps(__spreadValues({}, defaultProps), {\n            id: uniqueId(),\n            assetId: asset.id,\n            opacity: 1\n          });\n          if (asset.size) {\n            Object.assign(newShape, {\n              point: [point[0] - asset.size[0] \/ 4 + i2 * 16, point[1] - asset.size[1] \/ 4 + i2 * 16],\n              size: src_default.div(asset.size, 2)\n            });\n          }\n          return newShape;\n        });\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromTextHTML(item) {\n    return __async(this, null, function* () {\n      if (item.types.includes(\"text\/plain\") && (shiftKey || fromDrop)) {\n        return null;\n      }\n      const rawText = yield getDataFromType(item, \"text\/html\");\n      if (rawText) {\n        return tryCreateShapeHelper(tryCreateClonedShapesFromJSON, createHTMLShape)(rawText);\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromBlockUUID(dataTransfer2) {\n    return __async(this, null, function* () {\n      var _a4, _b2, _c, _d, _e2, _f;\n      const rawText = dataTransfer2.getData(\"block-uuid\");\n      if (rawText) {\n        const text = rawText.trim();\n        const allSelectedBlocks = (_c = (_b2 = (_a4 = window.logseq) == null ? void 0 : _a4.api) == null ? void 0 : _b2.get_selected_blocks) == null ? void 0 : _c.call(_b2);\n        const blockUUIDs = allSelectedBlocks && (allSelectedBlocks == null ? void 0 : allSelectedBlocks.length) > 1 ? allSelectedBlocks.map((b3) => b3.uuid) : [text];\n        (_f = (_e2 = (_d = window.logseq) == null ? void 0 : _d.api) == null ? void 0 : _e2.set_blocks_id) == null ? void 0 : _f.call(_e2, blockUUIDs);\n        const tasks = blockUUIDs.map((uuid) => tryCreateLogseqPortalShapesFromUUID(`((${uuid}))`));\n        const newShapes2 = (yield Promise.all(tasks)).flat().filter(isNonNullable);\n        return newShapes2.map((s2, idx) => {\n          return __spreadProps(__spreadValues({}, s2), {\n            point: [point[0] + (LogseqPortalShape.defaultProps.size[0] + 16) * idx, point[1]]\n          });\n        });\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromPageName(dataTransfer2) {\n    return __async(this, null, function* () {\n      const rawText = dataTransfer2.getData(\"page-name\");\n      if (rawText) {\n        const text = rawText.trim();\n        return tryCreateLogseqPortalShapesFromUUID(`[[${text}]]`);\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromTextPlain(item) {\n    return __async(this, null, function* () {\n      const rawText = yield getDataFromType(item, \"text\/plain\");\n      if (rawText) {\n        const text = rawText.trim();\n        return tryCreateShapeHelper(tryCreateShapeFromURL, tryCreateShapeFromIframeString)(text);\n      }\n      return null;\n    });\n  }\n  function tryCreateClonedShapesFromJSON(rawText) {\n    const result = app.api.getClonedShapesFromTldrString(decodeURIComponent(rawText), point);\n    if (result) {\n      const { shapes: shapes2, assets, bindings } = result;\n      assetsToClone.push(...assets);\n      bindingsToCreate.push(...bindings);\n      return shapes2;\n    }\n    return null;\n  }\n  function tryCreateShapeFromURL(rawText) {\n    return __async(this, null, function* () {\n      if (isValidURL(rawText) && !shiftKey) {\n        if (YOUTUBE_REGEX.test(rawText)) {\n          return [\n            __spreadProps(__spreadValues({}, YouTubeShape.defaultProps), {\n              url: rawText,\n              point: [point[0], point[1]]\n            })\n          ];\n        }\n        if (X_OR_TWITTER_REGEX.test(rawText)) {\n          return [\n            __spreadProps(__spreadValues({}, TweetShape.defaultProps), {\n              url: rawText,\n              point: [point[0], point[1]]\n            })\n          ];\n        }\n        return [\n          __spreadProps(__spreadValues({}, IFrameShape.defaultProps), {\n            url: rawText,\n            point: [point[0], point[1]]\n          })\n        ];\n      }\n      return null;\n    });\n  }\n  function tryCreateShapeFromIframeString(rawText) {\n    if (rawText.startsWith(\"<iframe\")) {\n      return [\n        __spreadProps(__spreadValues({}, HTMLShape.defaultProps), {\n          html: rawText,\n          point: [point[0], point[1]]\n        })\n      ];\n    }\n    return null;\n  }\n  function tryCreateLogseqPortalShapesFromUUID(rawText) {\n    return __async(this, null, function* () {\n      if (\/^\\(\\(.*\\)\\)$\/.test(rawText) && rawText.length === nil_default.length + 4) {\n        const blockRef = rawText.slice(2, -2);\n        if (validUUID(blockRef)) {\n          return [\n            __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n              point: [point[0], point[1]],\n              size: [400, 0],\n              pageId: blockRef,\n              fill: app.settings.color,\n              stroke: app.settings.color,\n              scaleLevel: app.settings.scaleLevel,\n              blockType: \"B\"\n            })\n          ];\n        }\n      } else if (\/^\\[\\[.*\\]\\]$\/.test(rawText)) {\n        const pageName = rawText.slice(2, -2);\n        return [\n          __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n            point: [point[0], point[1]],\n            size: [400, 0],\n            pageId: pageName,\n            fill: app.settings.color,\n            stroke: app.settings.color,\n            scaleLevel: app.settings.scaleLevel,\n            blockType: \"P\"\n          })\n        ];\n      }\n      return null;\n    });\n  }\n  function tryCreateLogseqPortalShapesFromString(item) {\n    return __async(this, null, function* () {\n      const rawText = yield getDataFromType(item, \"text\/plain\");\n      if (rawText) {\n        const text = rawText.trim();\n        const uuid = yield handlers == null ? void 0 : handlers.addNewBlock(text);\n        if (uuid) {\n          return [\n            __spreadProps(__spreadValues({}, LogseqPortalShape.defaultProps), {\n              size: [400, 0],\n              point: [point[0], point[1]],\n              pageId: uuid,\n              fill: app.settings.color,\n              stroke: app.settings.color,\n              scaleLevel: app.settings.scaleLevel,\n              blockType: \"B\",\n              compact: true\n            })\n          ];\n        }\n      }\n      return null;\n    });\n  }\n  app.cursors.setCursor(\"progress\" \/* Progress *\/);\n  let newShapes = [];\n  try {\n    if (dataTransfer) {\n      newShapes.push(...(_a3 = yield tryCreateShapesFromDataTransfer(dataTransfer)) != null ? _a3 : []);\n    } else {\n      newShapes.push(...(_b = yield tryCreateShapesFromClipboard()) != null ? _b : []);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  const allShapesToAdd = newShapes.map((shape) => {\n    return __spreadProps(__spreadValues({}, shape), {\n      parentId: app.currentPageId,\n      isLocked: false,\n      id: validUUID(shape.id) ? shape.id : uniqueId()\n    });\n  });\n  const filesOnly = dataTransfer == null ? void 0 : dataTransfer.types.every((t) => t === \"Files\");\n  app.wrapUpdate(() => {\n    const allAssets = [...imageAssetsToCreate, ...assetsToClone];\n    if (allAssets.length > 0) {\n      app.createAssets(allAssets);\n    }\n    if (allShapesToAdd.length > 0) {\n      app.createShapes(allShapesToAdd);\n    }\n    app.currentPage.updateBindings(Object.fromEntries(bindingsToCreate.map((b3) => [b3.id, b3])));\n    if (app.selectedShapesArray.length === 1 && allShapesToAdd.length === 1 && fromDrop) {\n      const source = app.selectedShapesArray[0];\n      const target = app.getShapeById(allShapesToAdd[0].id);\n      app.createNewLineBinding(source, target);\n    }\n    app.setSelectedShapes(allShapesToAdd.map((s2) => s2.id));\n    app.selectedTool.transition(\"idle\");\n    app.cursors.setCursor(\"default\" \/* Default *\/);\n    if (fromDrop || filesOnly) {\n      app.packIntoRectangle();\n    }\n  });\n});\nfunction usePaste() {\n  const { handlers } = React65.useContext(LogseqContext);\n  return React65.useCallback((app, info) => __async(this, null, function* () {\n    if (info.shiftKey && app.selectedShapesArray.length === 1) {\n      const items = yield navigator.clipboard.read();\n      let newRef;\n      if (items.length > 0) {\n        const blob = yield items[0].getType(\"text\/plain\");\n        const rawText = (yield blob.text()).trim();\n        if (rawText) {\n          if (\/^\\(\\(.*\\)\\)$\/.test(rawText) && rawText.length === nil_default.length + 4) {\n            const blockRef = rawText.slice(2, -2);\n            if (validUUID(blockRef)) {\n              newRef = blockRef;\n            }\n          } else if (\/^\\[\\[.*\\]\\]$\/.test(rawText)) {\n            newRef = rawText.slice(2, -2);\n          }\n        }\n      }\n      if (newRef) {\n        app.selectedShapesArray[0].update({\n          refs: [newRef]\n        });\n        app.persist();\n        return;\n      }\n    }\n    handleCreatingShapes(app, info, handlers);\n  }), []);\n}\n\n\/\/ src\/hooks\/useDrop.ts\nfunction useDrop() {\n  const handlePaste = usePaste();\n  return React66.useCallback(\n    (_0, _1) => __async(this, [_0, _1], function* (app, { dataTransfer, point }) {\n      handlePaste(app, { point, shiftKey: false, dataTransfer, fromDrop: true });\n    }),\n    []\n  );\n}\n\n\/\/ src\/hooks\/useCopy.ts\nvar React67 = __toESM(require(\"react\"));\nfunction useCopy() {\n  const { handlers } = React67.useContext(LogseqContext);\n  return React67.useCallback((app, { text, html }) => {\n    handlers.copyToClipboard(text, html);\n  }, []);\n}\n\n\/\/ src\/hooks\/useQuickAdd.ts\nvar import_react57 = __toESM(require(\"react\"));\nfunction useQuickAdd() {\n  return import_react57.default.useCallback((app) => __async(this, null, function* () {\n    setTimeout(() => {\n      app.transition(\"logseq-portal\").selectedTool.transition(\"creating\");\n    }, 100);\n  }), []);\n}\n\n\/\/ src\/app.tsx\nvar import_jsx_runtime82 = require(\"react\/jsx-runtime\");\nvar tools = [\n  BoxTool,\n  EllipseTool,\n  PolygonTool,\n  NuEraseTool,\n  HighlighterTool,\n  LineTool,\n  PencilTool,\n  TextTool,\n  YouTubeTool,\n  IFrameTool,\n  HTMLTool,\n  LogseqPortalTool\n];\nvar BacklinksCount = (props) => {\n  const { renderers } = React69.useContext(LogseqContext);\n  const options = { \"portal?\": false };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(renderers.BacklinksCount, __spreadProps(__spreadValues({}, props), {\n    options\n  }));\n};\nvar AppImpl = () => {\n  const ref = React69.useRef(null);\n  const app = useApp();\n  const components = React69.useMemo(\n    () => ({\n      ContextBar,\n      BacklinksCount,\n      QuickLinks\n    }),\n    []\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(ContextMenu, {\n    collisionRef: ref,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(\"div\", {\n      ref,\n      className: \"logseq-tldraw logseq-tldraw-wrapper\",\n      \"data-tlapp\": app.uuid,\n      children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppCanvas, {\n        components,\n        children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppUI, {})\n      })\n    })\n  });\n};\nvar AppInner = (_a3) => {\n  var _b = _a3, {\n    onPersist,\n    readOnly,\n    model\n  } = _b, rest = __objRest(_b, [\n    \"onPersist\",\n    \"readOnly\",\n    \"model\"\n  ]);\n  const onDrop = useDrop();\n  const onPaste = usePaste();\n  const onCopy = useCopy();\n  const onQuickAdd = readOnly ? null : useQuickAdd();\n  const onPersistOnDiff = React69.useCallback(\n    (app, info) => {\n      onPersist == null ? void 0 : onPersist(app, info);\n    },\n    [model]\n  );\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppProvider, __spreadProps(__spreadValues({\n    Shapes: shapes,\n    Tools: tools,\n    onDrop,\n    onPaste,\n    onCopy,\n    readOnly,\n    onCanvasDBClick: onQuickAdd,\n    onPersist: onPersistOnDiff,\n    model\n  }, rest), {\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppImpl, {})\n  }));\n};\nvar App3 = function App4(_a3) {\n  var _b = _a3, { renderers, handlers } = _b, rest = __objRest(_b, [\"renderers\", \"handlers\"]);\n  const memoRenders = React69.useMemo(() => {\n    return Object.fromEntries(\n      Object.entries(renderers).map(([key, comp]) => {\n        return [key, React69.memo(comp)];\n      })\n    );\n  }, []);\n  const contextValue = {\n    renderers: memoRenders,\n    handlers\n  };\n  return \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(LogseqContext.Provider, {\n    value: contextValue,\n    children: \/* @__PURE__ *\/ (0, import_jsx_runtime82.jsx)(AppInner, __spreadValues({}, rest))\n  });\n};\n\/*!\n * is-plain-object <https:\/\/github.com\/jonschlinkert\/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n *\/\n\n};","(ns frontend.rum\n  \"Utility fns for rum\"\n  (:require [clojure.string :as s]\n            [clojure.set :as set]\n            [clojure.walk :as w]\n            [rum.core :refer [use-state use-effect!] :as rum]\n            [daiquiri.interpreter :as interpreter]\n            [cljs-bean.core :as bean]))\n\n;; copy from https:\/\/github.com\/priornix\/antizer\/blob\/35ba264cf48b84e6597743e28b3570d8aa473e74\/src\/antizer\/core.cljs\n\n(defn kebab-case->camel-case\n  \"Converts from kebab case to camel case, eg: on-click to onClick\"\n  [input]\n  (s\/replace input #\"-([a-z])\" (fn [[_ c]] (s\/upper-case c))))\n\n(defn map-keys->camel-case\n  \"Stringifys all the keys of a cljs hashmap and converts them\n   from kebab case to camel case. If :html-props option is specified,\n   then rename the html properties values to their dom equivalent\n   before conversion\"\n  [data & {:keys [html-props]}]\n  (let [convert-to-camel (fn [[key value]]\n                           [(kebab-case->camel-case (name key)) value])]\n    (w\/postwalk (fn [x]\n                  (if (map? x)\n                    (let [new-map (if html-props\n                                    (set\/rename-keys x {:class :className :for :htmlFor})\n                                    x)]\n                      (into {} (map convert-to-camel new-map)))\n                    x))\n                data)))\n\n;; TODO: Replace this with rum's built in rum.core\/adapt-class\n;; adapted from https:\/\/github.com\/tonsky\/rum\/issues\/20\n(defn adapt-class\n  ([react-class]\n   (adapt-class react-class false))\n  ([react-class skip-opts-transform?]\n   (fn [& args]\n    (let [[opts children] (if (map? (first args))\n                            [(first args) (rest args)]\n                            [{} args])\n          type# (first children)\n          ;; we have to make sure to check if the children is sequential\n          ;; as a list can be returned, eg: from a (for)\n          new-children (if (sequential? type#)\n                         (let [result (interpreter\/interpret children)]\n                           (if (sequential? result)\n                             result\n                             [result]))\n                         children)\n          ;; convert any options key value to a react element, if\n          ;; a valid html element tag is used, using sablono\n          vector->react-elems (fn [[key val]]\n                                (if (sequential? val)\n                                  [key (interpreter\/interpret val)]\n                                  [key val]))\n          new-options (into {}\n                            (if skip-opts-transform?\n                              opts\n                              (map vector->react-elems opts)))]\n      (apply js\/React.createElement react-class\n        ;; sablono html-to-dom-attrs does not work for nested hashmaps\n        (bean\/->js (map-keys->camel-case new-options :html-props true))\n        new-children)))))\n\n(defn use-atom-fn\n  [a getter-fn setter-fn]\n  (let [[val set-val] (use-state (getter-fn @a))]\n    (use-effect!\n      (fn []\n        (let [id (str (random-uuid))]\n          (add-watch a id (fn [_ _ prev-state next-state]\n                            (let [prev-value (getter-fn prev-state)\n                                  next-value (getter-fn next-state)]\n                              (when-not (= prev-value next-value)\n                                (set-val next-value)))))\n          #(remove-watch a id)))\n      [])\n    [val #(swap! a setter-fn %)]))\n\n(defn use-atom\n  \"(use-atom my-atom)\"\n  [a]\n  (use-atom-fn a identity (fn [_ v] v)))\n\n(defn use-atom-in\n  [a ks]\n  (let [ks (if (keyword? ks) [ks] ks)]\n    (use-atom-fn a #(get-in % ks) (fn [a' v] (assoc-in a' ks v)))))\n\n(defn use-mounted\n  []\n  (let [*mounted (rum\/use-ref false)]\n    (use-effect!\n      (fn []\n         (rum\/set-ref! *mounted true)\n         #(rum\/set-ref! *mounted false))\n      [])\n    #(rum\/deref *mounted)))\n\n(defn use-bounding-client-rect\n  \"Returns the bounding client rect for a given dom node\n   You can manually change the tick value, if you want to force refresh the value, you can manually change the tick value\"\n  ([] (use-bounding-client-rect nil))\n  ([tick]\n   (let [[ref set-ref] (rum\/use-state nil)\n         [rect set-rect] (rum\/use-state nil)]\n     (rum\/use-effect!\n      (if ref\n        (fn []\n          (let [update-rect #(set-rect (. ref getBoundingClientRect))\n                updator (fn [entries]\n                          (when (.-contentRect (first (js->clj entries))) (update-rect)))\n                observer (js\/ResizeObserver. updator)]\n            (update-rect)\n            (.observe observer ref)\n            #(.disconnect observer)))\n        #())\n      [ref tick])\n     [set-ref rect])))\n\n(defn ->breakpoint\n  \"Converts a number to a breakpoint string\n   Values come from https:\/\/tailwindcss.com\/docs\/responsive-design\"\n  [size]\n  (cond\n    (nil? size) :md\n    (<= size 640) :sm\n    (<= size 768) :md\n    (<= size 1024) :lg\n    (<= size 1280) :xl\n    (<= size 1536) :xl\n    :else :2xl))\n\n(defn use-breakpoint\n  \"Returns the current breakpoint\n   You can manually change the tick value, if you want to force refresh the value, you can manually change the tick value\"\n  ([] (use-breakpoint nil))\n  ([tick]\n   (let [[ref rect] (use-bounding-client-rect tick)\n         bp (->breakpoint (when (some? rect) (.-width rect)))]\n     [ref bp])))\n\n(defonce *key->atom (atom {}))\n(defn cached-derived-atom\n  \"Make sure to return the same atom if `key` is the same.\"\n  [ref key f]\n  (or (get @*key->atom key)\n      (let [a (rum\/derived-atom [ref] key f)]\n        (swap! *key->atom assoc key a)\n        a)))\n","\/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n *\/\n\n\/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will attempt to load Closure's deps file, unless\n * the global <code>CLOSURE_NO_DEPS<\/code> is set to true.  This allows projects\n * to include their own deps file(s) from different locations.\n *\n * Avoid including base.js more than once. This is strictly discouraged and not\n * supported. goog.require(...) won't work properly in that case.\n *\n * @suppress {deprecated} Users cannot remove deprecated uses here.\n * @provideGoog\n *\/\n\n\n\/**\n * @define {boolean} Overridden to true by the compiler.\n *\/\nvar COMPILED = false;\n\n\n\/**\n * Base namespace for the Closure library.  Checks to see goog is already\n * defined in the current scope before assigning to prevent clobbering if\n * base.js is loaded more than once.\n *\n * @const\n *\/\nvar goog = goog || {};\n\n\/**\n * Reference to the global object.\n * https:\/\/www.ecma-international.org\/ecma-262\/9.0\/index.html#sec-global-object\n *\n * More info on this implementation here:\n * https:\/\/docs.google.com\/document\/d\/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI\/edit\n *\n * @const\n * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.\n * @type {!Global}\n *\/\ngoog.global =\n    \/\/ Check `this` first for backwards compatibility.\n    \/\/ Valid unless running as an ES module or in a function wrapper called\n    \/\/   without setting `this` properly.\n    \/\/ Note that base.js can't usefully be imported as an ES module, but it may\n    \/\/ be compiled into bundles that are loadable as ES modules.\n    this ||\n    \/\/ https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Window\/self\n    \/\/ For in-page browser environments and workers.\n    self;\n\n\n\/**\n * A hook for overriding the define values in uncompiled mode.\n *\n * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before\n * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,\n * `goog.define` will use the value instead of the default value.  This\n * allows flags to be overwritten without compilation (this is normally\n * accomplished with the compiler's \"define\" flag).\n *\n * Example:\n * <pre>\n *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};\n * <\/pre>\n *\n * @type {Object<string, (string|number|boolean)>|undefined}\n *\/\ngoog.global.CLOSURE_UNCOMPILED_DEFINES;\n\n\n\/**\n * A hook for overriding the define values in uncompiled or compiled mode,\n * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In\n * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.\n *\n * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or\n * string literals or the compiler will emit an error.\n *\n * While any @define value may be set, only those set with goog.define will be\n * effective for uncompiled code.\n *\n * Example:\n * <pre>\n *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;\n * <\/pre>\n *\n * Currently the Closure Compiler will only recognize very simple definitions of\n * this value when looking for values to apply to compiled code and ignore all\n * other references.  Specifically, it looks the value defined at the variable\n * declaration, as with the example above.\n *\n * TODO(user): Improve the recognized definitions.\n *\n * @type {!Object<string, (string|number|boolean)>|null|undefined}\n *\/\ngoog.global.CLOSURE_DEFINES;\n\n\n\/**\n * Builds an object structure for the provided namespace path, ensuring that\n * names that already exist are not overwritten. For example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name The name of the object that this file defines.\n * @param {*=} object The object to expose at the end of the path.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether object should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @param {?Object=} objectToExportTo The object to add the path to; if this\n *     field is not specified, its value defaults to `goog.global`.\n * @private\n *\/\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split('.');\n  var cur = objectToExportTo || goog.global;\n\n  \/\/ Internet Explorer exhibits strange behavior when throwing errors from\n  \/\/ methods externed in this manner.  See the testExportSymbolExceptions in\n  \/\/ base_test.html for an example.\n  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && object !== undefined) {\n      if (!overwriteImplicit && goog.isObject(object) &&\n          goog.isObject(cur[part])) {\n        \/\/ Merge properties on object (the input parameter) with the existing\n        \/\/ implicitly defined namespace, so as to not clobber previously\n        \/\/ defined child namespaces.\n        for (var prop in object) {\n          if (object.hasOwnProperty(prop)) {\n            cur[part][prop] = object[prop];\n          }\n        }\n      } else {\n        \/\/ Either there is no existing implicit namespace, or overwriteImplicit\n        \/\/ is set to true, so directly assign object (the input parameter) to\n        \/\/ the namespace.\n        cur[part] = object;\n      }\n    } else if (cur[part] && cur[part] !== Object.prototype[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n\/**\n * Defines a named value. In uncompiled mode, the value is retrieved from\n * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and\n * has the property specified, and otherwise used the defined defaultValue.\n * When compiled the default can be overridden using the compiler options or the\n * value set in the CLOSURE_DEFINES object. Returns the defined value so that it\n * can be used safely in modules. Note that the value type MUST be either\n * boolean, number, or string.\n *\n * @param {string} name The distinguished name to provide.\n * @param {T} defaultValue\n * @return {T} The defined value.\n * @template T\n *\/\ngoog.define = function(name, defaultValue) {\n  var value = defaultValue;\n  if (!COMPILED) {\n    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;\n    var defines = goog.global.CLOSURE_DEFINES;\n    if (uncompiledDefines &&\n        \/\/ Anti DOM-clobbering runtime check (b\/37736576).\n        \/** @type {?} *\/ (uncompiledDefines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {\n      value = uncompiledDefines[name];\n    } else if (\n        defines &&\n        \/\/ Anti DOM-clobbering runtime check (b\/37736576).\n        \/** @type {?} *\/ (defines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(defines, name)) {\n      value = defines[name];\n    }\n  }\n  return value;\n};\n\n\n\/**\n * @define {number} Integer year indicating the set of browser features that are\n * guaranteed to be present.  This is defined to include exactly features that\n * work correctly on all \"modern\" browsers that are stable on January 1 of the\n * specified year.  For example,\n * ```js\n * if (goog.FEATURESET_YEAR >= 2019) {\n *   \/\/ use APIs known to be available on all major stable browsers Jan 1, 2019\n * } else {\n *   \/\/ polyfill for older browsers\n * }\n * ```\n * This is intended to be the primary define for removing\n * unnecessary browser compatibility code (such as ponyfills and workarounds),\n * and should inform the default value for most other defines:\n * ```js\n * const ASSUME_NATIVE_PROMISE =\n *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);\n * ```\n *\n * The default assumption is that IE9 is the lowest supported browser, which was\n * first available Jan 1, 2012.\n *\n * TODO(user): Reference more thorough documentation when it's available.\n *\/\ngoog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);\n\n\n\/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production. It can be easily stripped\n * by specifying --define goog.DEBUG=false to the Closure Compiler aka\n * JSCompiler. For example, most toString() methods should be declared inside an\n * \"if (goog.DEBUG)\" conditional because they are generally used for debugging\n * purposes and it is difficult for the JSCompiler to statically determine\n * whether they are used.\n *\/\ngoog.DEBUG = goog.define('goog.DEBUG', true);\n\n\n\/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as a compiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http:\/\/www.unicode.org\/reports\/tr35\/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http:\/\/www.w3.org\/WAI\/ER\/IG\/ert\/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he).\n *\n *\/\ngoog.LOCALE = goog.define('goog.LOCALE', 'en');  \/\/ default to en\n\n\n\/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your JavaScript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the compiler.\n *\/\ngoog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);\n\n\n\/**\n * @define {boolean} Whether code that calls {@link goog.setTestOnly} should\n *     be disallowed in the compilation unit.\n *\/\ngoog.DISALLOW_TEST_ONLY_CODE =\n    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);\n\n\n\/**\n * @define {boolean} Whether to use a Chrome app CSP-compliant method for\n *     loading scripts via goog.require. @see appendScriptSrcNode_.\n *\/\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =\n    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);\n\n\n\/**\n * Defines a namespace in Closure.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * The presence of one or more goog.provide() calls in a file indicates\n * that the file defines the given objects\/namespaces.\n * Provided symbols must not be null or undefined.\n *\n * In addition, goog.provide() creates the object stubs for a namespace\n * (for example, goog.provide(\"goog.foo.bar\") will create the object\n * goog.foo.bar if it does not already exist).\n *\n * Build tools also scan for provide\/require\/module statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n *\n * @see goog.require\n * @see goog.module\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * deprecated Use goog.module (see b\/159289405)\n *\/\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.provide cannot be used within a module.');\n  }\n  if (!COMPILED) {\n    \/\/ Ensure that the same namespace isn't provided twice.\n    \/\/ A goog.module\/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n  }\n\n  goog.constructNamespace_(name);\n};\n\n\n\/**\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * @param {?Object=} object The object to embed in the namespace.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether opt_obj should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @private\n *\/\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  if (!COMPILED) {\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name, object, overwriteImplicit);\n};\n\n\n\/**\n * According to the CSP3 spec a nonce must be a valid base64 string.\n * @see https:\/\/www.w3.org\/TR\/CSP3\/#grammardef-base64-value\n * @private @const\n *\/\ngoog.NONCE_PATTERN_ = \/^[\\w+\/_-]+[=]{0,2}$\/;\n\n\n\/**\n * Returns CSP nonce, if set for any script tag.\n * @param {?Window=} opt_window The window context used to retrieve the nonce.\n *     Defaults to global context.\n * @return {string} CSP nonce or empty string if no nonce is present.\n * @private\n *\/\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document;\n  var script = doc.querySelector && doc.querySelector('script[nonce]');\n  if (script) {\n    \/\/ Try to get the nonce from the IDL property first, because browsers that\n    \/\/ implement additional nonce protection features (currently only Chrome) to\n    \/\/ prevent nonce stealing via CSS do not expose the nonce via attributes.\n    \/\/ See https:\/\/github.com\/whatwg\/html\/issues\/2369\n    var nonce = script['nonce'] || script.getAttribute('nonce');\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return '';\n};\n\n\n\/**\n * Module identifier validation regexp.\n * Note: This is a conservative check, it is very possible to be more lenient,\n *   the primary exclusion here is \"\/\" and \"\\\" and a leading \".\", these\n *   restrictions are intended to leave the door open for using goog.require\n *   with relative file paths rather than module identifiers.\n * @private\n *\/\ngoog.VALID_MODULE_RE_ = \/^[a-zA-Z_$][a-zA-Z0-9._$]*$\/;\n\n\n\/**\n * Defines a module in Closure.\n *\n * Marks that this file must be loaded as a module and claims the namespace.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * goog.module() has three requirements:\n * - goog.module may not be used in the same file as goog.provide.\n * - goog.module must be the first statement in the file.\n * - only one goog.module is allowed per file.\n *\n * When a goog.module annotated file is loaded, it is enclosed in\n * a strict function closure. This means that:\n * - any variables declared in a goog.module file are private to the file\n * (not global), though the compiler is expected to inline the module.\n * - The code must obey all the rules of \"strict\" JavaScript.\n * - the file will be marked as \"use strict\"\n *\n * NOTE: unlike goog.provide, goog.module does not declare any symbols by\n * itself. If declared symbols are desired, use\n * goog.module.declareLegacyNamespace().\n *\n *\n * See the public goog.module proposal: http:\/\/goo.gl\/Va1hin\n *\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\", is expected but not required.\n * @return {void}\n *\/\ngoog.module = function(name) {\n  if (typeof name !== 'string' || !name ||\n      name.search(goog.VALID_MODULE_RE_) == -1) {\n    throw new Error('Invalid module identifier');\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'Module ' + name + ' has been loaded incorrectly. Note, ' +\n        'modules cannot be loaded as normal scripts. They require some kind of ' +\n        'pre-processing step. You\\'re likely trying to load a module via a ' +\n        'script tag or as a part of a concatenated bundle without rewriting the ' +\n        'module. For more info see: ' +\n        'https:\/\/github.com\/google\/closure-library\/wiki\/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw new Error('goog.module may only be called once per module.');\n  }\n\n  \/\/ Store the module name for the loader.\n  goog.moduleLoaderState_.moduleName = name;\n  if (!COMPILED) {\n    \/\/ Ensure that the same namespace isn't provided twice.\n    \/\/ A goog.module\/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n  }\n};\n\n\n\/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n *\n * Note: This is not an alternative to goog.require, it does not\n * indicate a hard dependency, instead it is used to indicate\n * an optional dependency or to access the exports of a module\n * that has already been loaded.\n * @suppress {missingProvide}\n *\/\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\n\n\n\/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n * @private\n *\/\ngoog.module.getInternal_ = function(name) {\n  if (!COMPILED) {\n    if (name in goog.loadedModules_) {\n      return goog.loadedModules_[name].exports;\n    } else if (!goog.implicitNamespaces_[name]) {\n      var ns = goog.getObjectByName(name);\n      return ns != null ? ns : null;\n    }\n  }\n  return null;\n};\n\n\/**\n * Types of modules the debug loader can load.\n * @enum {string}\n *\/\ngoog.ModuleType = {\n  ES6: 'es6',\n  GOOG: 'goog'\n};\n\n\n\/**\n * @private {?{\n *   moduleName: (string|undefined),\n *   declareLegacyNamespace:boolean,\n *   type: ?goog.ModuleType\n * }}\n *\/\ngoog.moduleLoaderState_ = null;\n\n\n\/**\n * @private\n * @return {boolean} Whether a goog.module or an es6 module is currently being\n *     initialized.\n *\/\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\n\n\n\/**\n * @private\n * @return {boolean} Whether a goog.module is currently being initialized.\n *\/\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\n\n\n\/**\n * @private\n * @return {boolean} Whether an es6 module is currently being initialized.\n *\/\ngoog.isInEs6ModuleLoader_ = function() {\n  var inLoader = !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.ES6;\n\n  if (inLoader) {\n    return true;\n  }\n\n  var jscomp = goog.global['$jscomp'];\n\n  if (jscomp) {\n    \/\/ jscomp may not have getCurrentModulePath if this is a compiled bundle\n    \/\/ that has some of the runtime, but not all of it. This can happen if\n    \/\/ optimizations are turned on so the unused runtime is removed but renaming\n    \/\/ and Closure pass are off (so $jscomp is still named $jscomp and the\n    \/\/ goog.provide\/require calls still exist).\n    if (typeof jscomp.getCurrentModulePath != 'function') {\n      return false;\n    }\n\n    \/\/ Bundled ES6 module.\n    return !!jscomp.getCurrentModulePath();\n  }\n\n  return false;\n};\n\n\n\/**\n * Provide the module's exports as a globally accessible object under the\n * module's declared name.  This is intended to ease migration to goog.module\n * for files that have existing usages.\n * @suppress {missingProvide}\n *\/\ngoog.module.declareLegacyNamespace = function() {\n  if (!COMPILED && !goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'goog.module.declareLegacyNamespace must be called from ' +\n        'within a goog.module');\n  }\n  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {\n    throw new Error(\n        'goog.module must be called prior to ' +\n        'goog.module.declareLegacyNamespace.');\n  }\n  goog.moduleLoaderState_.declareLegacyNamespace = true;\n};\n\n\n\/**\n * Associates an ES6 module with a Closure module ID so that is available via\n * goog.require. The associated ID  acts like a goog.module ID - it does not\n * create any global names, it is merely available via goog.require \/\n * goog.module.get \/ goog.forwardDeclare \/ goog.requireType. goog.require and\n * goog.module.get will return the entire module as if it was import *'d. This\n * allows Closure files to reference ES6 modules for the sake of migration.\n *\n * @param {string} namespace\n * @suppress {missingProvide}\n *\/\ngoog.declareModuleId = function(namespace) {\n  if (!COMPILED) {\n    if (!goog.isInEs6ModuleLoader_()) {\n      throw new Error(\n          'goog.declareModuleId may only be called from ' +\n          'within an ES6 module');\n    }\n    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {\n      throw new Error(\n          'goog.declareModuleId may only be called once per module.');\n    }\n    if (namespace in goog.loadedModules_) {\n      throw new Error(\n          'Module with namespace \"' + namespace + '\" already exists.');\n    }\n  }\n  if (goog.moduleLoaderState_) {\n    \/\/ Not bundled - debug loading.\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    \/\/ Bundled - not debug loading, no module loader state.\n    var jscomp = goog.global['$jscomp'];\n    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {\n      throw new Error(\n          'Module with namespace \"' + namespace +\n          '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {\n      exports: exports,\n      type: goog.ModuleType.ES6,\n      moduleId: namespace\n    };\n  }\n};\n\n\n\/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact namespace\n * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra\n * provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n *\/\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    opt_message = opt_message || '';\n    throw new Error(\n        'Importing test-only code into non-debug environment' +\n        (opt_message ? ': ' + opt_message : '.'));\n  }\n};\n\n\n\/**\n * Forward declares a symbol. This is an indication to the compiler that the\n * symbol may be used in the source yet is not required and may not be provided\n * in compilation.\n *\n * The most common usage of forward declaration is code that takes a type as a\n * function parameter but does not need to require it. By forward declaring\n * instead of requiring, no hard dependency is made, and (if not required\n * elsewhere) the namespace may never be required and thus, not be pulled\n * into the JavaScript binary. If it is required elsewhere, it will be type\n * checked as normal.\n *\n * Before using goog.forwardDeclare, please read the documentation at\n * https:\/\/github.com\/google\/closure-compiler\/wiki\/Bad-Type-Annotation to\n * understand the options and tradeoffs when working with forward declarations.\n *\n * @param {string} name The namespace to forward declare in the form of\n *     \"goog.package.part\".\n * @deprecated See go\/noforwarddeclaration, Use `goog.requireType` instead.\n *\/\ngoog.forwardDeclare = function(name) {};\n\n\n\/**\n * Forward declare type information. Used to assign types to goog.global\n * referenced object that would otherwise result in unknown type references\n * and thus block property disambiguation.\n *\/\ngoog.forwardDeclare('Document');\ngoog.forwardDeclare('HTMLScriptElement');\ngoog.forwardDeclare('XMLHttpRequest');\n\n\nif (!COMPILED) {\n  \/**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   *\/\n  goog.isProvided_ = function(name) {\n    return (name in goog.loadedModules_) ||\n        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);\n  };\n\n  \/**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares that 'goog' and\n   * 'goog.events' must be namespaces.\n   *\n   * @type {!Object<string, (boolean|undefined)>}\n   * @private\n   *\/\n  goog.implicitNamespaces_ = {'goog.module': true};\n\n  \/\/ NOTE: We add goog.module as an implicit namespace as goog.module is defined\n  \/\/ here and because the existing module package has not been moved yet out of\n  \/\/ the goog.module namespace. This satisifies both the debug loader and\n  \/\/ ahead-of-time dependency management.\n}\n\n\n\/**\n * Returns an object based on its fully qualified external name.  The object\n * is not found if null or undefined.  If you are using a compilation pass that\n * renames property names beware that using this function will not find renamed\n * properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n *\/\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var i = 0; i < parts.length; i++) {\n    cur = cur[parts[i]];\n    if (cur == null) {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n\/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {!Array<string>} provides An array of strings with\n *     the names of the objects this file provides.\n * @param {!Array<string>} requires An array of strings with\n *     the names of the objects this file requires.\n * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating\n *     how the file must be loaded.  The boolean 'true' is equivalent\n *     to {'module': 'goog'} for backwards-compatibility.  Valid properties\n *     and values include {'module': 'goog'} and {'lang': 'es6'}.\n *\/\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);\n  }\n};\n\n\n\/\/ NOTE(nnaze): The debug DOM loader was included in base.js as an original way\n\/\/ to do \"debug-mode\" development.  The dependency system can sometimes be\n\/\/ confusing, as can the debug DOM loader's asynchronous nature.\n\/\/\n\/\/ With the DOM loader, a call to goog.require() is not blocking -- the script\n\/\/ will not load until some point after the current script.  If a namespace is\n\/\/ needed at runtime, it needs to be defined in a previous script, or loaded via\n\/\/ require() with its registered dependencies.\n\/\/\n\/\/ User-defined namespaces may need their own deps file. For a reference on\n\/\/ creating a deps file, see:\n\/\/ Externally: https:\/\/developers.google.com\/closure\/library\/docs\/depswriter\n\/\/\n\/\/ Because of legacy clients, the DOM loader can't be easily removed from\n\/\/ base.js.  Work was done to make it disableable or replaceable for\n\/\/ different environments (DOM-less JavaScript interpreters like Rhino or V8,\n\/\/ for example). See bootstrap\/ for more information.\n\n\n\/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n *\/\ngoog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);\n\n\n\/**\n * @param {string} msg\n * @private\n *\/\ngoog.logToConsole_ = function(msg) {\n  if (goog.global.console) {\n    goog.global.console['error'](msg);\n  }\n};\n\n\n\/**\n * Implements a system for the dynamic resolution of dependencies that works in\n * parallel with the BUILD system.\n *\n * Note that all calls to goog.require will be stripped by the compiler.\n *\n * @see goog.provide\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?} If called within a goog.module or ES6 module file, the associated\n *     namespace or module otherwise null.\n *\/\ngoog.require = function(namespace) {\n  if (!COMPILED) {\n    \/\/ Might need to lazy load on old IE.\n    if (goog.ENABLE_DEBUG_LOADER) {\n      goog.debugLoader_.requested(namespace);\n    }\n\n    \/\/ If the object already exists we do not need to do anything.\n    if (goog.isProvided_(namespace)) {\n      if (goog.isInModuleLoader_()) {\n        return goog.module.getInternal_(namespace);\n      }\n    } else if (goog.ENABLE_DEBUG_LOADER) {\n      var moduleLoaderState = goog.moduleLoaderState_;\n      goog.moduleLoaderState_ = null;\n      try {\n        goog.debugLoader_.load_(namespace);\n      } finally {\n        goog.moduleLoaderState_ = moduleLoaderState;\n      }\n    }\n\n    return null;\n  }\n};\n\n\n\/**\n * Requires a symbol for its type information. This is an indication to the\n * compiler that the symbol may appear in type annotations, yet it is not\n * referenced at runtime.\n *\n * When called within a goog.module or ES6 module file, the return value may be\n * assigned to or destructured into a variable, but it may not be otherwise used\n * in code outside of a type annotation.\n *\n * Note that all calls to goog.requireType will be stripped by the compiler.\n *\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?}\n *\/\ngoog.requireType = function(namespace) {\n  \/\/ Return an empty object so that single-level destructuring of the return\n  \/\/ value doesn't crash at runtime when using the debug loader. Multi-level\n  \/\/ destructuring isn't supported.\n  return {};\n};\n\n\n\/**\n * Path for included scripts.\n * @type {string}\n *\/\ngoog.basePath = '';\n\n\n\/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n *\/\ngoog.global.CLOSURE_BASE_PATH;\n\n\n\/**\n * Whether to attempt to load Closure's deps file. By default, when uncompiled,\n * deps files will attempt to be loaded.\n * @type {boolean|undefined}\n *\/\ngoog.global.CLOSURE_NO_DEPS;\n\n\n\/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The first parameter the script source, which is a relative URI. The second,\n * optional parameter is the script contents, in the event the script needed\n * transformation. It should return true if the script was imported, false\n * otherwise.\n * @type {(function(string, string=): boolean)|undefined}\n *\/\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n\/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n * @deprecated Use \"@abstract\" annotation instead of goog.abstractMethod in new\n *     code. See\n *     https:\/\/github.com\/google\/closure-compiler\/wiki\/@abstract-classes-and-methods\n *\/\ngoog.abstractMethod = function() {\n  throw new Error('unimplemented abstract method');\n};\n\n\n\/**\n * Adds a `getInstance` static method that always returns the same\n * instance object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n * @suppress {missingProperties} 'instance_' isn't a property on 'Function'\n *     but we don't have a better type to use here.\n *\/\ngoog.addSingletonGetter = function(ctor) {\n  \/\/ instance_ is immediately set to prevent issues with sealed constructors\n  \/\/ such as are encountered when a constructor is returned as the export object\n  \/\/ of a goog.module in unoptimized code.\n  \/\/ Delcare type to avoid conformance violations that ctor.instance_ is unknown\n  \/** @type {undefined|!Object} @suppress {underscore} *\/\n  ctor.instance_ = undefined;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      \/\/ NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    \/\/ Cast to avoid conformance violations that ctor.instance_ is unknown\n    return \/** @type {!Object|undefined} *\/ (ctor.instance_) = new ctor;\n  };\n};\n\n\n\/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the `goog.testing.singleton` module. The compiler\n * removes this variable if unused.\n * @type {!Array<!Function>}\n * @private\n *\/\ngoog.instantiatedSingletons_ = [];\n\n\n\/**\n * @define {boolean} Whether to load goog.modules using `eval` when using\n * the debug loader.  This provides a better debugging experience as the\n * source is unmodified and can be edited using Chrome Workspaces or similar.\n * However in some environments the use of `eval` is banned\n * so we provide an alternative.\n *\/\ngoog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);\n\n\n\/**\n * @define {boolean} Whether the exports of goog.modules should be sealed when\n * possible.\n *\/\ngoog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);\n\n\n\/**\n * The registry of initialized modules:\n * The module identifier or path to module exports map.\n * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}\n *\/\ngoog.loadedModules_ = {};\n\n\n\/**\n * True if the debug loader enabled and used.\n * @const {boolean}\n *\/\ngoog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;\n\n\n\/**\n * @define {string} How to decide whether to transpile.  Valid values\n * are 'always', 'never', and 'detect'.  The default ('detect') is to\n * use feature detection to determine which language levels need\n * transpilation.\n *\/\n\/\/ NOTE(sdh): we could expand this to accept a language level to bypass\n\/\/ detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but\n\/\/ would leave ES3 and ES5 files alone.\ngoog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');\n\n\/**\n * @define {boolean} If true assume that ES modules have already been\n * transpiled by the jscompiler (in the same way that transpile.js would\n * transpile them - to jscomp modules). Useful only for servers that wish to use\n * the debug loader and transpile server side. Thus this is only respected if\n * goog.TRANSPILE is \"never\".\n *\/\ngoog.ASSUME_ES_MODULES_TRANSPILED =\n    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);\n\n\n\/**\n * @define {string} Trusted Types policy name. If non-empty then Closure will\n * use Trusted Types.\n *\/\ngoog.TRUSTED_TYPES_POLICY_NAME =\n    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');\n\n\n\/**\n * @package {?boolean}\n * Visible for testing.\n *\/\ngoog.hasBadLetScoping = null;\n\n\n\/**\n * @param {function(?):?|string} moduleDef The module definition.\n *\/\ngoog.loadModule = function(moduleDef) {\n  \/\/ NOTE: we allow function definitions to be either in the from\n  \/\/ of a string to eval (which keeps the original source intact) or\n  \/\/ in a eval forbidden environment (CSP) we allow a function definition\n  \/\/ which in its body must call `goog.module`, and return the exports\n  \/\/ of the module.\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {\n      moduleName: '',\n      declareLegacyNamespace: false,\n      type: goog.ModuleType.GOOG\n    };\n    var origExports = {};\n    var exports = origExports;\n    if (typeof moduleDef === 'function') {\n      exports = moduleDef.call(undefined, exports);\n    } else if (typeof moduleDef === 'string') {\n      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);\n    } else {\n      throw new Error('Invalid module definition');\n    }\n\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (typeof moduleName === 'string' && moduleName) {\n      \/\/ Don't seal legacy namespaces as they may be used as a parent of\n      \/\/ another namespace\n      if (goog.moduleLoaderState_.declareLegacyNamespace) {\n        \/\/ Whether exports was overwritten via default export assignment.\n        \/\/ This is important for legacy namespaces as it dictates whether\n        \/\/ previously a previously loaded implicit namespace should be clobbered\n        \/\/ or not.\n        var isDefaultExport = origExports !== exports;\n        goog.constructNamespace_(moduleName, exports, isDefaultExport);\n      } else if (\n          goog.SEAL_MODULE_EXPORTS && Object.seal &&\n          typeof exports == 'object' && exports != null) {\n        Object.seal(exports);\n      }\n\n      var data = {\n        exports: exports,\n        type: goog.ModuleType.GOOG,\n        moduleId: goog.moduleLoaderState_.moduleName\n      };\n      goog.loadedModules_[moduleName] = data;\n    } else {\n      throw new Error('Invalid module name \\\"' + moduleName + '\\\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\n\n\n\/**\n * @private @const\n *\/\ngoog.loadModuleFromSource_ =\n    \/** @type {function(!Object, string):?} *\/ (function(exports) {\n      \/\/ NOTE: we avoid declaring parameters or local variables here to avoid\n      \/\/ masking globals or leaking values into the module definition.\n      'use strict';\n      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));\n      return exports;\n    });\n\n\n\/**\n * Normalize a file path by removing redundant \"..\" and extraneous \".\" file\n * path components.\n * @param {string} path\n * @return {string}\n * @private\n *\/\ngoog.normalizePath_ = function(path) {\n  var components = path.split('\/');\n  var i = 0;\n  while (i < components.length) {\n    if (components[i] == '.') {\n      components.splice(i, 1);\n    } else if (\n        i && components[i] == '..' && components[i - 1] &&\n        components[i - 1] != '..') {\n      components.splice(--i, 2);\n    } else {\n      i++;\n    }\n  }\n  return components.join('\/');\n};\n\n\n\/**\n * Provides a hook for loading a file when using Closure's goog.require() API\n * with goog.modules.  In particular this hook is provided to support Node.js.\n *\n * @type {(function(string):string)|undefined}\n *\/\ngoog.global.CLOSURE_LOAD_FILE_SYNC;\n\n\n\/**\n * Loads file by synchronous XHR. Should not be used in production environments.\n * @param {string} src Source URL.\n * @return {?string} File contents, or null if load failed.\n * @private\n *\/\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  } else {\n    try {\n      \/** @type {XMLHttpRequest} *\/\n      var xhr = new goog.global['XMLHttpRequest']();\n      xhr.open('get', src, false);\n      xhr.send();\n      \/\/ NOTE: Successful http: requests have a status of 200, but successful\n      \/\/ file: requests may have a status of zero.  Any other status, or a\n      \/\/ thrown exception (particularly in case of file: requests) indicates\n      \/\/ some sort of error, which we treat as a missing or unavailable file.\n      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;\n    } catch (err) {\n      \/\/ No need to rethrow or log, since errors should show up on their own.\n      return null;\n    }\n  }\n};\n\n\/\/==============================================================================\n\/\/ Language Enhancements\n\/\/==============================================================================\n\n\n\/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {?} value The value to get the type of.\n * @return {string} The name of the type.\n *\/\ngoog.typeOf = function(value) {\n  var s = typeof value;\n\n  if (s != 'object') {\n    return s;\n  }\n\n  if (!value) {\n    return 'null';\n  }\n\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n  return s;\n};\n\n\n\/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property. Note that for this function neither strings nor functions are\n * considered \"array-like\".\n *\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an array.\n *\/\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  \/\/ We do not use goog.isObject here in order to exclude function values.\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n\/**\n * Returns true if the object looks like a Date. To qualify as Date-like the\n * value needs to be an object and have a getFullYear() function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n *\/\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n\/**\n * Returns true if the specified value is an object.  This includes arrays and\n * functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n *\/\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  \/\/ return Object(val) === val also works, but is slower, especially if val is\n  \/\/ not an object.\n};\n\n\n\/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. The unique ID is\n * guaranteed to be unique across the current session amongst objects that are\n * passed into `getUid`. There is no guarantee that the ID is unique or\n * consistent across sessions. It is unsafe to generate unique ID for function\n * prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n *\/\ngoog.getUid = function(obj) {\n  \/\/ TODO(arv): Make the type stricter, do not accept null.\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&\n      obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n\/**\n * Whether the given object is already assigned a unique ID.\n *\n * This does not modify the object.\n *\n * @param {!Object} obj The object to check.\n * @return {boolean} Whether there is an assigned unique id for the object.\n *\/\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\n\n\n\/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using `goog.getUid` in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n *\/\ngoog.removeUid = function(obj) {\n  \/\/ TODO(arv): Make the type stricter, do not accept null.\n\n  \/\/ In IE, DOM nodes are not instances of Object and throw an exception if we\n  \/\/ try to delete.  Instead we try to use removeAttribute.\n  if (obj !== null && 'removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n\/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure JavaScript on the same page.\n * @type {string}\n * @private\n *\/\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n\/**\n * Counter for UID.\n * @type {number}\n * @private\n *\/\ngoog.uidCounter_ = 0;\n\n\n\/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject<\/code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject<\/code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid<\/code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n *\/\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (typeof obj.clone === 'function') {\n      return obj.clone();\n    }\n    if (typeof Map !== 'undefined' && obj instanceof Map) {\n      return new Map(obj);\n    } else if (typeof Set !== 'undefined' && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n\/**\n * A native implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n *\/\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return \/** @type {!Function} *\/ (fn.call.apply(fn.bind, arguments));\n};\n\n\n\/**\n * A pure-JS implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n *\/\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      \/\/ Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() {\n      return fn.apply(selfObj, arguments);\n    };\n  }\n};\n\n\n\/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of this 'pre-specified'.\n *\n * Remaining arguments specified at call-time are appended to the pre-specified\n * ones.\n *\n * Also see: {@link #partial}.\n *\n * Usage:\n * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');<\/pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n * @deprecated use `=> {}` or Function.prototype.bind instead.\n *\/\ngoog.bind = function(fn, selfObj, var_args) {\n  \/\/ TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      \/\/ NOTE(nicksantos): Somebody pulled base.js into the default Chrome\n      \/\/ extension environment. This means that for Chrome extensions, they get\n      \/\/ the implementation of Function.prototype.bind that calls goog.bind\n      \/\/ instead of the native one. Even worse, we don't want to introduce a\n      \/\/ circular dependency between goog.bind and Function.prototype.bind, so\n      \/\/ we have to hack this to make sure it works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n\/**\n * Like goog.bind(), except that a 'this object' is not required. Useful when\n * the target function is already bound.\n *\n * Usage:\n * var g = goog.partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function goog.partial()\n *     was invoked as a method of.\n *\/\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    \/\/ Clone the array (with slice()) and append additional arguments\n    \/\/ to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(\/** @type {?} *\/ (this), newArgs);\n  };\n};\n\n\n\/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n * @deprecated Use Date.now\n *\/\ngoog.now = function() {\n  return Date.now();\n};\n\n\n\/**\n * Evals JavaScript in the global scope.\n *\n * Throws an exception if neither execScript or eval is defined.\n * @param {string|!TrustedScript} script JavaScript string.\n *\/\ngoog.globalEval = function(script) {\n  (0, eval)(script);\n};\n\n\n\/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @private {!Object<string, string>|undefined}\n * @see goog.setCssNameMapping\n *\/\ngoog.cssNameMapping_;\n\n\n\/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n *\/\ngoog.cssNameMappingStyle_;\n\n\n\n\/**\n * A hook for modifying the default behavior goog.getCssName. The function\n * if present, will receive the standard output of the goog.getCssName as\n * its input.\n *\n * @type {(function(string):string)|undefined}\n *\/\ngoog.global.CLOSURE_CSS_NAME_MAP_FN;\n\n\n\/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a hyphen and\n * passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which these\n * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)\n * of the passed in css name is rewritten according to the map. In the BY_WHOLE\n * style, the full css name is looked up in the map directly. If a rewrite is\n * not specified by the map, the compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls to\n * goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x = 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed only the\n * modifier will be processed, as it is assumed the first argument was generated\n * as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n *\/\ngoog.getCssName = function(className, opt_modifier) {\n  \/\/ String() is used for compatibility with compiled soy where the passed\n  \/\/ className can be non-string objects.\n  if (String(className).charAt(0) == '.') {\n    throw new Error(\n        'className passed in goog.getCssName must not start with \".\".' +\n        ' You passed: ' + className);\n  }\n\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    \/\/ Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename =\n        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;\n  } else {\n    rename = function(a) {\n      return a;\n    };\n  }\n\n  var result =\n      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);\n\n  \/\/ The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further\n  \/\/ processing of the class name.\n  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {\n    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);\n  }\n\n  return result;\n};\n\n\n\/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * \/\/ The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * <\/pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --process_closure_primitives flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n *\/\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n\/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {!Object<string, string>|undefined}\n *\/\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  \/\/ This does not call goog.setCssNameMapping() because the JSCompiler\n  \/\/ requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n\/**\n * Options bag type for `goog.getMsg()` third argument.\n *\n * It is important to note that these options need to be known at compile time,\n * so they must always be provided to `goog.getMsg()` as an actual object\n * literal in the function call. Otherwise, closure-compiler will report an\n * error.\n * @record\n *\/\ngoog.GetMsgOptions = function() {};\n\n\/**\n * If `true`, escape '<' in the message string to '&lt;'.\n *\n * Used by Closure Templates where the generated code size and performance is\n * critical which is why {@link goog.html.SafeHtmlFormatter} is not used.\n * The value must be literal `true` or `false`.\n * @type {boolean|undefined}\n *\/\ngoog.GetMsgOptions.prototype.html;\n\n\/**\n * If `true`, unescape common html entities: &gt;, &lt;, &apos;, &quot; and\n * &amp;.\n *\n * Used for messages not in HTML context, such as with the `textContent`\n * property.\n * The value must be literal `true` or `false`.\n * @type {boolean|undefined}\n *\/\ngoog.GetMsgOptions.prototype.unescapeHtmlEntities;\n\n\/**\n * Associates placeholder names with strings showing how their values are\n * obtained.\n *\n * This field is intended for use in automatically generated JS code.\n * Human-written code should use meaningful placeholder names instead.\n *\n * closure-compiler uses this as the contents of the `<ph>` tag in the\n * XMB file it generates or defaults to `-` for historical reasons.\n *\n * Must be an object literal.\n * Ignored at runtime.\n * Keys are placeholder names.\n * Values are string literals indicating how the value is obtained.\n * Typically this is a snippet of source code.\n * @type {!Object<string, string>|undefined}\n *\/\ngoog.GetMsgOptions.prototype.original_code;\n\n\/**\n * Associates placeholder names with example values.\n *\n * closure-compiler uses this as the contents of the `<ex>` tag in the\n * XMB file it generates or defaults to `-` for historical reasons.\n *\n * Must be an object literal.\n * Ignored at runtime.\n * Keys are placeholder names.\n * Values are string literals containing example placeholder values.\n * (e.g. \"George McFly\" for a name placeholder)\n * @type {!Object<string, string>|undefined}\n *\/\ngoog.GetMsgOptions.prototype.example;\n\n\/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * <\/code>\n *\n * This function produces a string which should be treated as plain text. Use\n * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to\n * produce SafeHtml.\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {!Object<string, string>=} opt_values Maps place holder name to value.\n * @param {!goog.GetMsgOptions=} opt_options see `goog.GetMsgOptions`\n * @return {string} message with placeholders filled.\n *\/\ngoog.getMsg = function(str, opt_values, opt_options) {\n  if (opt_options && opt_options.html) {\n    \/\/ Note that '&' is not replaced because the translation can contain HTML\n    \/\/ entities.\n    str = str.replace(\/<\/g, '&lt;');\n  }\n  if (opt_options && opt_options.unescapeHtmlEntities) {\n    \/\/ Note that \"&amp;\" must be the last to avoid \"creating\" new entities.\n    str = str.replace(\/&lt;\/g, '<')\n              .replace(\/&gt;\/g, '>')\n              .replace(\/&apos;\/g, '\\'')\n              .replace(\/&quot;\/g, '\"')\n              .replace(\/&amp;\/g, '&');\n  }\n  if (opt_values) {\n    str = str.replace(\/\\{\\$([^}]+)}\/g, function(match, key) {\n      return (opt_values != null && key in opt_values) ? opt_values[key] :\n                                                         match;\n    });\n  }\n  return str;\n};\n\n\n\/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primitive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);<\/code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n *\/\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n\/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated, unless they are\n * exported in turn via this function or goog.exportProperty.\n *\n * Also handy for making public items that are defined in anonymous closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {?Object=} objectToExportTo The object to add the path to; default\n *     is goog.global.\n *\/\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(\n      publicPath, object, \/* overwriteImplicit= *\/ true, objectToExportTo);\n};\n\n\n\/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n *\/\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n\/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { };\n *\n * function ChildClass(a, b, c) {\n *   ChildClass.base(this, 'constructor', a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); \/\/ This works.\n * <\/pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n * @suppress {strictMissingProperties} superClass_ and base is not defined on\n *    Function.\n * @deprecated Use ECMAScript class syntax instead.\n *\/\ngoog.inherits = function(childCtor, parentCtor) {\n  \/** @constructor *\/\n  function tempCtor() {}\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  \/** @override *\/\n  childCtor.prototype.constructor = childCtor;\n\n  \/**\n   * Calls superclass constructor\/method.\n   *\n   * This function is only available if you use goog.inherits to\n   * express inheritance relationships between classes.\n   *\n   * NOTE: This is a replacement for goog.base and for superClass_\n   * property defined in childCtor.\n   *\n   * @param {!Object} me Should always be \"this\".\n   * @param {string} methodName The method name to call. Calling\n   *     superclass constructor can be done with the special string\n   *     'constructor'.\n   * @param {...*} var_args The arguments to pass to superclass\n   *     method\/constructor.\n   * @return {*} The return value of the superclass method\/constructor.\n   *\/\n  childCtor.base = function(me, methodName, var_args) {\n    \/\/ Copying using loop to avoid deop due to passing arguments object to\n    \/\/ function. This is faster in many JS engines as of late 2014.\n    var args = new Array(arguments.length - 2);\n    for (var i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\n\n\n\/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the aliases\n * applied.  In uncompiled code the function is simply run since the aliases as\n * written are valid JavaScript.\n *\n *\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *     (e.g. \"var Timer = goog.Timer\").\n * @deprecated Use goog.module instead.\n *\/\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.scope is not supported within a module.');\n  }\n  fn.call(goog.global);\n};\n\n\n\/*\n * To support uncompiled, strict mode bundles that use eval to divide source\n * like so:\n *    eval('someSource;\/\/# sourceUrl sourcefile.js');\n * We need to export the globally defined symbols \"goog\" and \"COMPILED\".\n * Exporting \"goog\" breaks the compiler optimizations, so we required that\n * be defined externally.\n * NOTE: We don't use goog.exportSymbol here because we don't want to trigger\n * extern generation when that compiler option is enabled.\n *\/\nif (!COMPILED) {\n  goog.global['COMPILED'] = COMPILED;\n}\n\n\n\/\/==============================================================================\n\/\/ goog.defineClass implementation\n\/\/==============================================================================\n\n\n\/**\n * Creates a restricted form of a Closure \"class\":\n *   - from the compiler's perspective, the instance returned from the\n *     constructor is sealed (no new properties may be added).  This enables\n *     better checks.\n *   - the compiler will rewrite this definition to a form that is optimal\n *     for type checking and optimization (initially this will be a more\n *     traditional form).\n *\n * @param {Function} superClass The superclass, Object or null.\n * @param {goog.defineClass.ClassDescriptor} def\n *     An object literal describing\n *     the class.  It may have the following properties:\n *     \"constructor\": the constructor function\n *     \"statics\": an object literal containing methods to add to the constructor\n *        as \"static\" methods or a function that will receive the constructor\n *        function as its only parameter to which static properties can\n *        be added.\n *     all other properties are added to the prototype.\n * @return {!Function} The class constructor.\n * @deprecated Use ECMAScript class syntax instead.\n *\/\ngoog.defineClass = function(superClass, def) {\n  \/\/ TODO(johnlenz): consider making the superClass an optional parameter.\n  var constructor = def.constructor;\n  var statics = def.statics;\n  \/\/ Wrap the constructor prior to setting up the prototype and static methods.\n  if (!constructor || constructor == Object.prototype.constructor) {\n    constructor = function() {\n      throw new Error(\n          'cannot instantiate an interface (no constructor defined).');\n    };\n  }\n\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  if (superClass) {\n    goog.inherits(cls, superClass);\n  }\n\n  \/\/ Remove all the properties that should not be copied to the prototype.\n  delete def.constructor;\n  delete def.statics;\n\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  if (statics != null) {\n    if (statics instanceof Function) {\n      statics(cls);\n    } else {\n      goog.defineClass.applyProperties_(cls, statics);\n    }\n  }\n\n  return cls;\n};\n\n\n\/**\n * @typedef {{\n *   constructor: (!Function|undefined),\n *   statics: (Object|undefined|function(Function):void)\n * }}\n *\/\ngoog.defineClass.ClassDescriptor;\n\n\n\/**\n * @define {boolean} Whether the instances returned by goog.defineClass should\n *     be sealed when possible.\n *\n * When sealing is disabled the constructor function will not be wrapped by\n * goog.defineClass, making it incompatible with ES6 class methods.\n *\/\ngoog.defineClass.SEAL_CLASS_INSTANCES =\n    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);\n\n\n\/**\n * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is\n * defined, this function will wrap the constructor in a function that seals the\n * results of the provided constructor function.\n *\n * @param {!Function} ctr The constructor whose results maybe be sealed.\n * @param {Function} superClass The superclass constructor.\n * @return {!Function} The replacement constructor.\n * @private\n *\/\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {\n    \/\/ Do now wrap the constructor when sealing is disabled. Angular code\n    \/\/ depends on this for injection to work properly.\n    return ctr;\n  }\n\n  \/\/ NOTE: The sealing behavior has been removed\n\n  \/**\n   * @this {Object}\n   * @return {?}\n   *\/\n  var wrappedCtr = function() {\n    \/\/ Don't seal an instance of a subclass when it calls the constructor of\n    \/\/ its super class as there is most likely still setup to do.\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n\n    return instance;\n  };\n\n  return wrappedCtr;\n};\n\n\n\n\/\/ TODO(johnlenz): share these values with the goog.object\n\/**\n * The names of the fields that are defined on Object.prototype.\n * @type {!Array<string>}\n * @private\n * @const\n *\/\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [\n  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n  'toLocaleString', 'toString', 'valueOf'\n];\n\n\n\/\/ TODO(johnlenz): share this function with the goog.object\n\/**\n * @param {!Object} target The object to add properties to.\n * @param {!Object} source The object to copy properties from.\n * @private\n *\/\ngoog.defineClass.applyProperties_ = function(target, source) {\n  \/\/ TODO(johnlenz): update this to support ES5 getters\/setters\n\n  var key;\n  for (key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n\n  \/\/ For IE the for-in-loop does not contain any properties that are not\n  \/\/ enumerable on the prototype object (for example isPrototypeOf from\n  \/\/ Object.prototype) and it will also not include 'replace' on objects that\n  \/\/ extend String and change 'replace' (not that it is common for anyone to\n  \/\/ extend anything except Object).\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\n\/**\n * Returns the parameter.\n * @param {string} s\n * @return {string}\n * @private\n *\/\ngoog.identity_ = function(s) {\n  return s;\n};\n\n\n\/**\n * Creates Trusted Types policy if Trusted Types are supported by the browser.\n * The policy just blesses any string as a Trusted Type. It is not visibility\n * restricted because anyone can also call trustedTypes.createPolicy directly.\n * However, the allowed names should be restricted by a HTTP header and the\n * reference to the created policy should be visibility restricted.\n * @param {string} name\n * @return {?TrustedTypePolicy}\n *\/\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null;\n  var policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  \/\/ trustedTypes.createPolicy throws if called with a name that is already\n  \/\/ registered, even in report-only mode. Until the API changes, catch the\n  \/\/ error not to break the applications functionally. In such case, the code\n  \/\/ will fall back to using regular Safe Types.\n  \/\/ TODO(koto): Remove catching once createPolicy API stops throwing.\n  try {\n    policy = policyFactory.createPolicy(name, {\n      createHTML: goog.identity_,\n      createScript: goog.identity_,\n      createScriptURL: goog.identity_\n    });\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\n\n\/\/ There's a bug in the compiler where without collapse properties the\n\/\/ Closure namespace defines do not guard code correctly. To help reduce code\n\/\/ size also check for !COMPILED even though it redundant until this is fixed.\nif (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n\n\n  \/**\n   * Tries to detect whether the current browser is Edge, based on the user\n   * agent. This matches only pre-Chromium Edge.\n   * @see https:\/\/docs.microsoft.com\/en-us\/microsoft-edge\/web-platform\/user-agent-string\n   * @return {boolean} True if the current browser is Edge.\n   * @private\n   *\/\n  goog.isEdge_ = function() {\n    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?\n        goog.global.navigator.userAgent :\n        '';\n    var edgeRe = \/Edge\\\/(\\d+)(\\.\\d)*\/i;\n    return !!userAgent.match(edgeRe);\n  };\n\n\n  \/**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   *\/\n  goog.inHtmlDocument_ = function() {\n    \/** @type {!Document} *\/\n    var doc = goog.global.document;\n    return doc != null && 'write' in doc;  \/\/ XULDocument misses write.\n  };\n\n\n  \/**\n   * We'd like to check for if the document readyState is 'loading'; however\n   * there are bugs on IE 10 and below where the readyState being anything other\n   * than 'complete' is not reliable.\n   * @return {boolean}\n   * @private\n   *\/\n  goog.isDocumentLoading_ = function() {\n    \/\/ attachEvent is available on IE 6 thru 10 only, and thus can be used to\n    \/\/ detect those browsers.\n    \/** @type {!HTMLDocument} *\/\n    var doc = goog.global.document;\n    return doc.attachEvent ? doc.readyState != 'complete' :\n                             doc.readyState == 'loading';\n  };\n\n\n  \/**\n   * Tries to detect the base path of base.js script that bootstraps Closure.\n   * @private\n   *\/\n  goog.findBasePath_ = function() {\n    if (goog.global.CLOSURE_BASE_PATH != undefined &&\n        \/\/ Anti DOM-clobbering runtime check (b\/37736576).\n        typeof goog.global.CLOSURE_BASE_PATH === 'string') {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    \/** @type {!Document} *\/\n    var doc = goog.global.document;\n    \/\/ If we have a currentScript available, use it exclusively.\n    var currentScript = doc.currentScript;\n    if (currentScript) {\n      var scripts = [currentScript];\n    } else {\n      var scripts = doc.getElementsByTagName('SCRIPT');\n    }\n    \/\/ Search backwards since the current script is in almost all cases the one\n    \/\/ that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var script = \/** @type {!HTMLScriptElement} *\/ (scripts[i]);\n      var src = script.src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.slice(l - 7, l) == 'base.js') {\n        goog.basePath = src.slice(0, l - 7);\n        return;\n      }\n    }\n  };\n\n  goog.findBasePath_();\n\n  \/**\n   * Rewrites closing script tags in input to avoid ending an enclosing script\n   * tag.\n   *\n   * @param {string} str\n   * @return {string}\n   * @private\n   *\/\n  goog.protectScriptTag_ = function(str) {\n    return str.replace(\/<\\\/(SCRIPT)\/ig, '\\\\x3c\/$1');\n  };\n\n\n  \/**\n   * A debug loader is responsible for downloading and executing javascript\n   * files in an unbundled, uncompiled environment.\n   *\n   * This can be custimized via the setDependencyFactory method, or by\n   * CLOSURE_IMPORT_SCRIPT\/CLOSURE_LOAD_FILE_SYNC.\n   *\n   * @struct @constructor @final @private\n   *\/\n  goog.DebugLoader_ = function() {\n    \/** @private @const {!Object<string, !goog.Dependency>} *\/\n    this.dependencies_ = {};\n    \/** @private @const {!Object<string, string>} *\/\n    this.idToPath_ = {};\n    \/** @private @const {!Object<string, boolean>} *\/\n    this.written_ = {};\n    \/** @private @const {!Array<!goog.Dependency>} *\/\n    this.loadingDeps_ = [];\n    \/** @private {!Array<!goog.Dependency>} *\/\n    this.depsToLoad_ = [];\n    \/** @private {boolean} *\/\n    this.paused_ = false;\n    \/** @private {!goog.DependencyFactory} *\/\n    this.factory_ = new goog.DependencyFactory();\n    \/** @private @const {!Object<string, !Function>} *\/\n    this.deferredCallbacks_ = {};\n    \/** @private @const {!Array<string>} *\/\n    this.deferredQueue_ = [];\n  };\n\n  \/**\n   * @param {!Array<string>} namespaces\n   * @param {function(): undefined} callback Function to call once all the\n   *     namespaces have loaded.\n   *\/\n  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {\n    var cb = callback;\n    function resolve() {\n      if (cb) {\n        goog.global.setTimeout(cb, 0);\n        cb = null;\n      }\n    }\n\n    if (!namespaces.length) {\n      resolve();\n      return;\n    }\n\n    var deps = [];\n    for (var i = 0; i < namespaces.length; i++) {\n      var path = this.getPathFromDeps_(namespaces[i]);\n      if (!path) {\n        throw new Error('Unregonized namespace: ' + namespaces[i]);\n      }\n      deps.push(this.dependencies_[path]);\n    }\n\n    var require = goog.require;\n    var loaded = 0;\n    for (var i = 0; i < namespaces.length; i++) {\n      require(namespaces[i]);\n      deps[i].onLoad(function() {\n        if (++loaded == namespaces.length) {\n          resolve();\n        }\n      });\n    }\n  };\n\n\n  \/**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   *\/\n  goog.DebugLoader_.prototype.loadClosureDeps = function() {\n    \/\/ Circumvent addDependency, which would try to transpile deps.js if\n    \/\/ transpile is set to always.\n    var relPath = 'deps.js';\n    this.depsToLoad_.push(this.factory_.createDependency(\n        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {}));\n    this.loadDeps_();\n  };\n\n\n  \/**\n   * Notifies the debug loader when a dependency has been requested.\n   *\n   * @param {string} absPathOrId Path of the dependency or goog id.\n   * @param {boolean=} opt_force\n   *\/\n  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {\n    var path = this.getPathFromDeps_(absPathOrId);\n    if (path &&\n        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {\n      var callback = this.deferredCallbacks_[path];\n      if (callback) {\n        delete this.deferredCallbacks_[path];\n        callback();\n      }\n    }\n  };\n\n\n  \/**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * @param {!goog.DependencyFactory} factory\n   *\/\n  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {\n    this.factory_ = factory;\n  };\n\n\n  \/**\n   * Travserses the dependency graph and queues the given dependency, and all of\n   * its transitive dependencies, for loading and then starts loading if not\n   * paused.\n   *\n   * @param {string} namespace\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.load_ = function(namespace) {\n    if (!this.getPathFromDeps_(namespace)) {\n      var errorMessage = 'goog.require could not find: ' + namespace;\n      goog.logToConsole_(errorMessage);\n    } else {\n      var loader = this;\n\n      var deps = [];\n\n      \/** @param {string} namespace *\/\n      var visit = function(namespace) {\n        var path = loader.getPathFromDeps_(namespace);\n\n        if (!path) {\n          throw new Error('Bad dependency path or symbol: ' + namespace);\n        }\n\n        if (loader.written_[path]) {\n          return;\n        }\n\n        loader.written_[path] = true;\n\n        var dep = loader.dependencies_[path];\n        for (var i = 0; i < dep.requires.length; i++) {\n          if (!goog.isProvided_(dep.requires[i])) {\n            visit(dep.requires[i]);\n          }\n        }\n\n        deps.push(dep);\n      };\n\n      visit(namespace);\n\n      var wasLoading = !!this.depsToLoad_.length;\n      this.depsToLoad_ = this.depsToLoad_.concat(deps);\n\n      if (!this.paused_ && !wasLoading) {\n        this.loadDeps_();\n      }\n    }\n  };\n\n\n  \/**\n   * Loads any queued dependencies until they are all loaded or paused.\n   *\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.loadDeps_ = function() {\n    var loader = this;\n    var paused = this.paused_;\n\n    while (this.depsToLoad_.length && !paused) {\n      (function() {\n        var loadCallDone = false;\n        var dep = loader.depsToLoad_.shift();\n\n        var loaded = false;\n        loader.loading_(dep);\n\n        var controller = {\n          pause: function() {\n            if (loadCallDone) {\n              throw new Error('Cannot call pause after the call to load.');\n            } else {\n              paused = true;\n            }\n          },\n          resume: function() {\n            if (loadCallDone) {\n              loader.resume_();\n            } else {\n              \/\/ Some dep called pause and then resume in the same load call.\n              \/\/ Just keep running this same loop.\n              paused = false;\n            }\n          },\n          loaded: function() {\n            if (loaded) {\n              throw new Error('Double call to loaded.');\n            }\n\n            loaded = true;\n            loader.loaded_(dep);\n          },\n          pending: function() {\n            \/\/ Defensive copy.\n            var pending = [];\n            for (var i = 0; i < loader.loadingDeps_.length; i++) {\n              pending.push(loader.loadingDeps_[i]);\n            }\n            return pending;\n          },\n          \/**\n           * @param {goog.ModuleType} type\n           *\/\n          setModuleState: function(type) {\n            goog.moduleLoaderState_ = {\n              type: type,\n              moduleName: '',\n              declareLegacyNamespace: false\n            };\n          },\n          \/** @type {function(string, string, string=)} *\/\n          registerEs6ModuleExports: function(\n              path, exports, opt_closureNamespace) {\n            if (opt_closureNamespace) {\n              goog.loadedModules_[opt_closureNamespace] = {\n                exports: exports,\n                type: goog.ModuleType.ES6,\n                moduleId: opt_closureNamespace || ''\n              };\n            }\n          },\n          \/** @type {function(string, ?)} *\/\n          registerGoogModuleExports: function(moduleId, exports) {\n            goog.loadedModules_[moduleId] = {\n              exports: exports,\n              type: goog.ModuleType.GOOG,\n              moduleId: moduleId\n            };\n          },\n          clearModuleState: function() {\n            goog.moduleLoaderState_ = null;\n          },\n          defer: function(callback) {\n            if (loadCallDone) {\n              throw new Error(\n                  'Cannot register with defer after the call to load.');\n            }\n            loader.defer_(dep, callback);\n          },\n          areDepsLoaded: function() {\n            return loader.areDepsLoaded_(dep.requires);\n          }\n        };\n\n        try {\n          dep.load(controller);\n        } finally {\n          loadCallDone = true;\n        }\n      })();\n    }\n\n    if (paused) {\n      this.pause_();\n    }\n  };\n\n\n  \/** @private *\/\n  goog.DebugLoader_.prototype.pause_ = function() {\n    this.paused_ = true;\n  };\n\n\n  \/** @private *\/\n  goog.DebugLoader_.prototype.resume_ = function() {\n    if (this.paused_) {\n      this.paused_ = false;\n      this.loadDeps_();\n    }\n  };\n\n\n  \/**\n   * Marks the given dependency as loading (load has been called but it has not\n   * yet marked itself as finished). Useful for dependencies that want to know\n   * what else is loading. Example: goog.modules cannot eval if there are\n   * loading dependencies.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.loading_ = function(dep) {\n    this.loadingDeps_.push(dep);\n  };\n\n\n  \/**\n   * Marks the given dependency as having finished loading and being available\n   * for require.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.loaded_ = function(dep) {\n    for (var i = 0; i < this.loadingDeps_.length; i++) {\n      if (this.loadingDeps_[i] == dep) {\n        this.loadingDeps_.splice(i, 1);\n        break;\n      }\n    }\n\n    for (var i = 0; i < this.deferredQueue_.length; i++) {\n      if (this.deferredQueue_[i] == dep.path) {\n        this.deferredQueue_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (this.loadingDeps_.length == this.deferredQueue_.length &&\n        !this.depsToLoad_.length) {\n      \/\/ Something has asked to load these, but they may not be directly\n      \/\/ required again later, so load them now that we know we're done loading\n      \/\/ everything else. e.g. a goog module entry point.\n      while (this.deferredQueue_.length) {\n        this.requested(this.deferredQueue_.shift(), true);\n      }\n    }\n\n    dep.loaded();\n  };\n\n\n  \/**\n   * @param {!Array<string>} pathsOrIds\n   * @return {boolean}\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {\n    for (var i = 0; i < pathsOrIds.length; i++) {\n      var path = this.getPathFromDeps_(pathsOrIds[i]);\n      if (!path ||\n          (!(path in this.deferredCallbacks_) &&\n           !goog.isProvided_(pathsOrIds[i]))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n\n  \/**\n   * @param {string} absPathOrId\n   * @return {?string}\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {\n    if (absPathOrId in this.idToPath_) {\n      return this.idToPath_[absPathOrId];\n    } else if (absPathOrId in this.dependencies_) {\n      return absPathOrId;\n    } else {\n      return null;\n    }\n  };\n\n\n  \/**\n   * @param {!goog.Dependency} dependency\n   * @param {!Function} callback\n   * @private\n   *\/\n  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {\n    this.deferredCallbacks_[dependency.path] = callback;\n    this.deferredQueue_.push(dependency.path);\n  };\n\n\n  \/**\n   * Interface for goog.Dependency implementations to have some control over\n   * loading of dependencies.\n   *\n   * @record\n   *\/\n  goog.LoadController = function() {};\n\n\n  \/**\n   * Tells the controller to halt loading of more dependencies.\n   *\/\n  goog.LoadController.prototype.pause = function() {};\n\n\n  \/**\n   * Tells the controller to resume loading of more dependencies if paused.\n   *\/\n  goog.LoadController.prototype.resume = function() {};\n\n\n  \/**\n   * Tells the controller that this dependency has finished loading.\n   *\n   * This causes this to be removed from pending() and any load callbacks to\n   * fire.\n   *\/\n  goog.LoadController.prototype.loaded = function() {};\n\n\n  \/**\n   * List of dependencies on which load has been called but which have not\n   * called loaded on their controller. This includes the current dependency.\n   *\n   * @return {!Array<!goog.Dependency>}\n   *\/\n  goog.LoadController.prototype.pending = function() {};\n\n\n  \/**\n   * Registers an object as an ES6 module's exports so that goog.modules may\n   * require it by path.\n   *\n   * @param {string} path Full path of the module.\n   * @param {?} exports\n   * @param {string=} opt_closureNamespace Closure namespace to associate with\n   *     this module.\n   *\/\n  goog.LoadController.prototype.registerEs6ModuleExports = function(\n      path, exports, opt_closureNamespace) {};\n\n\n  \/**\n   * Sets the current module state.\n   *\n   * @param {goog.ModuleType} type Type of module.\n   *\/\n  goog.LoadController.prototype.setModuleState = function(type) {};\n\n\n  \/**\n   * Clears the current module state.\n   *\/\n  goog.LoadController.prototype.clearModuleState = function() {};\n\n\n  \/**\n   * Registers a callback to call once the dependency is actually requested\n   * via goog.require + all of the immediate dependencies have been loaded or\n   * all other files have been loaded. Allows for lazy loading until\n   * require'd without pausing dependency loading, which is needed on old IE.\n   *\n   * @param {!Function} callback\n   *\/\n  goog.LoadController.prototype.defer = function(callback) {};\n\n\n  \/**\n   * @return {boolean}\n   *\/\n  goog.LoadController.prototype.areDepsLoaded = function() {};\n\n\n  \/**\n   * Basic super class for all dependencies Closure Library can load.\n   *\n   * This default implementation is designed to load untranspiled, non-module\n   * scripts in a web broswer.\n   *\n   * For goog.modules see {@see goog.GoogModuleDependency}.\n   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   *\/\n  goog.Dependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    \/** @const *\/\n    this.path = path;\n    \/** @const *\/\n    this.relativePath = relativePath;\n    \/** @const *\/\n    this.provides = provides;\n    \/** @const *\/\n    this.requires = requires;\n    \/** @const *\/\n    this.loadFlags = loadFlags;\n    \/** @private {boolean} *\/\n    this.loaded_ = false;\n    \/** @private {!Array<function()>} *\/\n    this.loadCallbacks_ = [];\n  };\n\n\n  \/**\n   * @return {string} The pathname part of this dependency's path if it is a\n   *     URI.\n   *\/\n  goog.Dependency.prototype.getPathName = function() {\n    var pathName = this.path;\n    var protocolIndex = pathName.indexOf(':\/\/');\n    if (protocolIndex >= 0) {\n      pathName = pathName.substring(protocolIndex + 3);\n      var slashIndex = pathName.indexOf('\/');\n      if (slashIndex >= 0) {\n        pathName = pathName.substring(slashIndex + 1);\n      }\n    }\n    return pathName;\n  };\n\n\n  \/**\n   * @param {function()} callback Callback to fire as soon as this has loaded.\n   * @final\n   *\/\n  goog.Dependency.prototype.onLoad = function(callback) {\n    if (this.loaded_) {\n      callback();\n    } else {\n      this.loadCallbacks_.push(callback);\n    }\n  };\n\n\n  \/**\n   * Marks this dependency as loaded and fires any callbacks registered with\n   * onLoad.\n   * @final\n   *\/\n  goog.Dependency.prototype.loaded = function() {\n    this.loaded_ = true;\n    var callbacks = this.loadCallbacks_;\n    this.loadCallbacks_ = [];\n    for (var i = 0; i < callbacks.length; i++) {\n      callbacks[i]();\n    }\n  };\n\n\n  \/**\n   * Whether or not document.written \/ appended script tags should be deferred.\n   *\n   * @private {boolean}\n   *\/\n  goog.Dependency.defer_ = false;\n\n\n  \/**\n   * Map of script ready \/ state change callbacks. Old IE cannot handle putting\n   * these properties on goog.global.\n   *\n   * @private @const {!Object<string, function(?):undefined>}\n   *\/\n  goog.Dependency.callbackMap_ = {};\n\n\n  \/**\n   * @param {function(...?):?} callback\n   * @return {string}\n   * @private\n   *\/\n  goog.Dependency.registerCallback_ = function(callback) {\n    var key = Math.random().toString(32);\n    goog.Dependency.callbackMap_[key] = callback;\n    return key;\n  };\n\n\n  \/**\n   * @param {string} key\n   * @private\n   *\/\n  goog.Dependency.unregisterCallback_ = function(key) {\n    delete goog.Dependency.callbackMap_[key];\n  };\n\n\n  \/**\n   * @param {string} key\n   * @param {...?} var_args\n   * @private\n   * @suppress {unusedPrivateMembers}\n   *\/\n  goog.Dependency.callback_ = function(key, var_args) {\n    if (key in goog.Dependency.callbackMap_) {\n      var callback = goog.Dependency.callbackMap_[key];\n      var args = [];\n      for (var i = 1; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n      callback.apply(undefined, args);\n    } else {\n      var errorMessage = 'Callback key ' + key +\n          ' does not exist (was base.js loaded more than once?).';\n      throw Error(errorMessage);\n    }\n  };\n\n\n  \/**\n   * Starts loading this dependency. This dependency can pause loading if it\n   * needs to and resume it later via the controller interface.\n   *\n   * When this is loaded it should call controller.loaded(). Note that this will\n   * end up calling the loaded method of this dependency; there is no need to\n   * call it explicitly.\n   *\n   * @param {!goog.LoadController} controller\n   *\/\n  goog.Dependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      if (this.relativePath == 'deps.js') {\n        \/\/ Some old code is relying on base.js auto loading deps.js failing with\n        \/\/ no error before later setting CLOSURE_IMPORT_SCRIPT.\n        \/\/ CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or\n        \/\/ CLOSURE_NO_DEPS set to true.\n        goog.logToConsole_(\n            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +\n            'or setting CLOSURE_NO_DEPS to true.');\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    \/** @type {!HTMLDocument} *\/\n    var doc = goog.global.document;\n\n    \/\/ If the user tries to require a new symbol after document load,\n    \/\/ something has gone terribly wrong. Doing a document.write would\n    \/\/ wipe out the page. This does not apply to the CSP-compliant method\n    \/\/ of writing script tags.\n    if (doc.readyState == 'complete' &&\n        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {\n      \/\/ Certain test frameworks load base.js multiple times, which tries\n      \/\/ to write deps.js each time. If that happens, just fail silently.\n      \/\/ These frameworks wipe the page between each load of base.js, so this\n      \/\/ is OK.\n      var isDeps = \/\\bdeps.js$\/.test(this.path);\n      if (isDeps) {\n        controller.loaded();\n        return;\n      } else {\n        throw Error('Cannot write \"' + this.path + '\" after document load');\n      }\n    }\n\n    var nonce = goog.getScriptNonce_();\n    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&\n        goog.isDocumentLoading_()) {\n      var key;\n      var callback = function(script) {\n        if (script.readyState && script.readyState != 'complete') {\n          script.onload = callback;\n          return;\n        }\n        goog.Dependency.unregisterCallback_(key);\n        controller.loaded();\n      };\n      key = goog.Dependency.registerCallback_(callback);\n\n      var defer = goog.Dependency.defer_ ? ' defer' : '';\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script src=\"' + this.path + '\"' + nonceAttr + defer +\n          ' id=\"script-' + key + '\"><\\\/script>';\n\n      script += '<script' + nonceAttr + '>';\n\n      if (goog.Dependency.defer_) {\n        script += 'document.getElementById(\\'script-' + key +\n            '\\').onload = function() {\\n' +\n            '  goog.Dependency.callback_(\\'' + key + '\\', this);\\n' +\n            '};\\n';\n      } else {\n        script += 'goog.Dependency.callback_(\\'' + key +\n            '\\', document.getElementById(\\'script-' + key + '\\'));';\n      }\n\n      script += '<\\\/script>';\n\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    } else {\n      var scriptEl =\n          \/** @type {!HTMLScriptElement} *\/ (doc.createElement('script'));\n      scriptEl.defer = goog.Dependency.defer_;\n      scriptEl.async = false;\n\n      \/\/ If CSP nonces are used, propagate them to dynamically created scripts.\n      \/\/ This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      scriptEl.onload = function() {\n        scriptEl.onload = null;\n        controller.loaded();\n      };\n\n      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :\n          this.path;\n      doc.head.appendChild(scriptEl);\n    }\n  };\n\n\n  \/**\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides Should be an empty array.\n   *     TODO(johnplaisted) add support for adding closure namespaces to ES6\n   *     modules for interop purposes.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.Dependency}\n   *\/\n  goog.Es6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.Es6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);\n\n\n  \/**\n   * @override\n   * @param {!goog.LoadController} controller\n   *\/\n  goog.Es6ModuleDependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      controller.pause();\n      return;\n    }\n\n    \/** @type {!HTMLDocument} *\/\n    var doc = goog.global.document;\n\n    var dep = this;\n\n    \/\/ TODO(johnplaisted): Does document.writing really speed up anything? Any\n    \/\/ difference between this and just waiting for interactive mode and then\n    \/\/ appending?\n    function write(src, contents) {\n      var nonceAttr = '';\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        nonceAttr = ' nonce=\"' + nonce + '\"';\n      }\n\n      if (contents) {\n        var script = '<script type=\"module\" crossorigin' + nonceAttr + '>' +\n            contents + '<\/' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      } else {\n        var script = '<script type=\"module\" crossorigin src=\"' + src + '\"' +\n            nonceAttr + '><\/' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      }\n    }\n\n    function append(src, contents) {\n      var scriptEl =\n          \/** @type {!HTMLScriptElement} *\/ (doc.createElement('script'));\n      scriptEl.defer = true;\n      scriptEl.async = false;\n      scriptEl.type = 'module';\n      scriptEl.setAttribute('crossorigin', true);\n\n      \/\/ If CSP nonces are used, propagate them to dynamically created scripts.\n      \/\/ This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      if (contents) {\n        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :\n            contents;\n      } else {\n        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :\n            src;\n      }\n\n      doc.head.appendChild(scriptEl);\n    }\n\n    var create;\n\n    if (goog.isDocumentLoading_()) {\n      create = write;\n      \/\/ We can ONLY call document.write if we are guaranteed that any\n      \/\/ non-module script tags document.written after this are deferred.\n      \/\/ Small optimization, in theory document.writing is faster.\n      goog.Dependency.defer_ = true;\n    } else {\n      create = append;\n    }\n\n    \/\/ Write 4 separate tags here:\n    \/\/ 1) Sets the module state at the correct time (just before execution).\n    \/\/ 2) A src node for this, which just hopefully lets the browser load it a\n    \/\/    little early (no need to parse #3).\n    \/\/ 3) Import the module and register it.\n    \/\/ 4) Clear the module state at the correct time. Guaranteed to run even\n    \/\/    if there is an error in the module (#3 will not run if there is an\n    \/\/    error in the module).\n    var beforeKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(beforeKey);\n      controller.setModuleState(goog.ModuleType.ES6);\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + beforeKey + '\")');\n\n    \/\/ TODO(johnplaisted): Does this really speed up anything?\n    create(this.path, undefined);\n\n    var registerKey = goog.Dependency.registerCallback_(function(exports) {\n      goog.Dependency.unregisterCallback_(registerKey);\n      controller.registerEs6ModuleExports(\n          dep.path, exports, goog.moduleLoaderState_.moduleName);\n    });\n    create(\n        undefined,\n        'import * as m from \"' + this.path + '\"; goog.Dependency.callback_(\"' +\n            registerKey + '\", m)');\n\n    var afterKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(afterKey);\n      controller.clearModuleState();\n      controller.loaded();\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + afterKey + '\")');\n  };\n\n\n  \/**\n   * Superclass of any dependency that needs to be loaded into memory,\n   * transformed, and then eval'd (goog.modules and transpiled files).\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor @abstract\n   * @extends {goog.Dependency}\n   *\/\n  goog.TransformedDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.TransformedDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n    \/** @private {?string} *\/\n    this.contents_ = null;\n\n    \/**\n     * Whether to lazily make the synchronous XHR (when goog.require'd) or make\n     * the synchronous XHR when initially loading. On FireFox 61 there is a bug\n     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if\n     * it does then no other ES6 modules will load after).\n     *\n     * tl;dr we lazy load due to bugs on older browsers and eager load due to\n     * bugs on newer ones.\n     *\n     * https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1477090\n     *\n     * @private @const {boolean}\n     *\/\n    this.lazyFetch_ = !goog.inHtmlDocument_() ||\n        !('noModule' in goog.global.document.createElement('script'));\n  };\n  goog.inherits(goog.TransformedDependency, goog.Dependency);\n\n\n  \/**\n   * @override\n   * @param {!goog.LoadController} controller\n   *\/\n  goog.TransformedDependency.prototype.load = function(controller) {\n    var dep = this;\n\n    function fetch() {\n      dep.contents_ = goog.loadFileSync_(dep.path);\n\n      if (dep.contents_) {\n        dep.contents_ = dep.transform(dep.contents_);\n        if (dep.contents_) {\n          dep.contents_ += '\\n\/\/# sourceURL=' + dep.path;\n        }\n      }\n    }\n\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      fetch();\n      if (this.contents_ &&\n          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {\n        this.contents_ = null;\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n\n    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;\n\n    if (!this.lazyFetch_) {\n      fetch();\n    }\n\n    function load() {\n      if (dep.lazyFetch_) {\n        fetch();\n      }\n\n      if (!dep.contents_) {\n        \/\/ loadFileSync_ or transform are responsible. Assume they logged an\n        \/\/ error.\n        return;\n      }\n\n      if (isEs6) {\n        controller.setModuleState(goog.ModuleType.ES6);\n      }\n\n      var namespace;\n\n      try {\n        var contents = dep.contents_;\n        dep.contents_ = null;\n        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));\n        if (isEs6) {\n          namespace = goog.moduleLoaderState_.moduleName;\n        }\n      } finally {\n        if (isEs6) {\n          controller.clearModuleState();\n        }\n      }\n\n      if (isEs6) {\n        \/\/ Due to circular dependencies this may not be available for require\n        \/\/ right now.\n        goog.global['$jscomp']['require']['ensure'](\n            [dep.getPathName()], function() {\n              controller.registerEs6ModuleExports(\n                  dep.path,\n                  goog.global['$jscomp']['require'](dep.getPathName()),\n                  namespace);\n            });\n      }\n\n      controller.loaded();\n    }\n\n    \/\/ Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all\n    \/\/ events. If we fetched now and then document.write'd the contents the\n    \/\/ document.write would be an eval and would execute too soon! Instead write\n    \/\/ a script tag to fetch and eval synchronously at the correct time.\n    function fetchInOwnScriptThenLoad() {\n      \/** @type {!HTMLDocument} *\/\n      var doc = goog.global.document;\n\n      var key = goog.Dependency.registerCallback_(function() {\n        goog.Dependency.unregisterCallback_(key);\n        load();\n      });\n\n      var nonce = goog.getScriptNonce_();\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script' + nonceAttr + '>' +\n          goog.protectScriptTag_('goog.Dependency.callback_(\"' + key + '\");') +\n          '<\/' +\n          'script>';\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    }\n\n    \/\/ If one thing is pending it is this.\n    var anythingElsePending = controller.pending().length > 1;\n\n    \/\/ Additionally if we are meant to defer scripts but the page is still\n    \/\/ loading (e.g. an ES6 module is loading) then also defer. Or if we are\n    \/\/ meant to defer and anything else is pending then defer (those may be\n    \/\/ scripts that did not need transformation and are just script tags with\n    \/\/ defer set to true, and we need to evaluate after that deferred script).\n    var needsAsyncLoading = goog.Dependency.defer_ &&\n        (anythingElsePending || goog.isDocumentLoading_());\n\n    if (needsAsyncLoading) {\n      \/\/ Note that we only defer when we have to rather than 100% of the time.\n      \/\/ Always defering would work, but then in theory the order of\n      \/\/ goog.require calls would then matter. We want to enforce that most of\n      \/\/ the time the order of the require calls does not matter.\n      controller.defer(function() {\n        load();\n      });\n      return;\n    }\n    \/\/ TODO(johnplaisted): Externs are missing onreadystatechange for\n    \/\/ HTMLDocument.\n    \/** @type {?} *\/\n    var doc = goog.global.document;\n\n    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&\n        ('ActiveXObject' in goog.global || goog.isEdge_());\n\n    \/\/ Don't delay in any version of IE or pre-Chromium Edge. There's a bug\n    \/\/ around this that will cause out of order script execution. This means\n    \/\/ that on older IE ES6 modules will load too early (while the document is\n    \/\/ still loading + the dom is not available). The other option is to load\n    \/\/ too late (when the document is complete and the onload even will never\n    \/\/ fire). This seems to be the lesser of two evils as scripts already act\n    \/\/ like the former.\n    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&\n        !isInternetExplorerOrEdge) {\n      goog.Dependency.defer_ = true;\n      \/\/ Transpiled ES6 modules still need to load like regular ES6 modules,\n      \/\/ aka only after the document is interactive.\n      controller.pause();\n      var oldCallback = doc.onreadystatechange;\n      doc.onreadystatechange = function() {\n        if (doc.readyState == 'interactive') {\n          doc.onreadystatechange = oldCallback;\n          load();\n          controller.resume();\n        }\n        if (typeof oldCallback === 'function') {\n          oldCallback.apply(undefined, arguments);\n        }\n      };\n    } else {\n      \/\/ Always eval on old IE.\n      if (!goog.inHtmlDocument_() || !goog.isDocumentLoading_()) {\n        load();\n      } else {\n        fetchInOwnScriptThenLoad();\n      }\n    }\n  };\n\n\n  \/**\n   * @param {string} contents\n   * @return {string}\n   * @abstract\n   *\/\n  goog.TransformedDependency.prototype.transform = function(contents) {};\n\n\n  \/**\n   * An ES6 module dependency that was transpiled to a jscomp module outside\n   * of the debug loader, e.g. server side.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   *\/\n  goog.PreTranspiledEs6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.PreTranspiledEs6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(\n      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);\n\n\n  \/**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   *\/\n  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(\n      contents) {\n    return contents;\n  };\n\n\n  \/**\n   * A goog.module, transpiled or not. Will always perform some minimal\n   * transformation even when not transpiled to wrap in a goog.loadModule\n   * statement.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   *\/\n  goog.GoogModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.GoogModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);\n\n\n  \/**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   *\/\n  goog.GoogModuleDependency.prototype.transform = function(contents) {\n    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {\n      return '' +\n          'goog.loadModule(function(exports) {' +\n          '\"use strict\";' + contents +\n          '\\n' +  \/\/ terminate any trailing single line comment.\n          ';return exports' +\n          '});' +\n          '\\n\/\/# sourceURL=' + this.path + '\\n';\n    } else {\n      return '' +\n          'goog.loadModule(' +\n          goog.global.JSON.stringify(\n              contents + '\\n\/\/# sourceURL=' + this.path + '\\n') +\n          ');';\n    }\n  };\n\n\n  \/**\n   * @param {string} relPath\n   * @param {!Array<string>|undefined} provides\n   * @param {!Array<string>} requires\n   * @param {boolean|!Object<string>=} opt_loadFlags\n   * @see goog.addDependency\n   *\/\n  goog.DebugLoader_.prototype.addDependency = function(\n      relPath, provides, requires, opt_loadFlags) {\n    provides = provides || [];\n    relPath = relPath.replace(\/\\\\\/g, '\/');\n    var path = goog.normalizePath_(goog.basePath + relPath);\n    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {\n      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};\n    }\n    var dep = this.factory_.createDependency(\n        path, relPath, provides, requires, opt_loadFlags);\n    this.dependencies_[path] = dep;\n    for (var i = 0; i < provides.length; i++) {\n      this.idToPath_[provides[i]] = path;\n    }\n    this.idToPath_[relPath] = path;\n  };\n\n\n  \/**\n   * Creates goog.Dependency instances for the debug loader to load.\n   *\n   * Should be overridden to have the debug loader use custom subclasses of\n   * goog.Dependency.\n   *\n   * @struct @constructor\n   *\/\n  goog.DependencyFactory = function() {};\n\n\n  \/**\n   * @param {string} path Absolute path of the file.\n   * @param {string} relativePath Path relative to closure\u2019s base.js.\n   * @param {!Array<string>} provides Array of provided goog.provide\/module ids.\n   * @param {!Array<string>} requires Array of required goog.provide\/module \/\n   *     relative ES6 module paths.\n   * @param {!Object<string, string>} loadFlags\n   * @return {!goog.Dependency}\n   *\/\n  goog.DependencyFactory.prototype.createDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n\n    if (loadFlags['module'] == goog.ModuleType.GOOG) {\n      return new goog.GoogModuleDependency(\n          path, relativePath, provides, requires, loadFlags);\n    } else {\n      if (loadFlags['module'] == goog.ModuleType.ES6) {\n        if (goog.ASSUME_ES_MODULES_TRANSPILED) {\n          return new goog.PreTranspiledEs6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        } else {\n          return new goog.Es6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        }\n      } else {\n        return new goog.Dependency(\n            path, relativePath, provides, requires, loadFlags);\n      }\n    }\n  };\n\n\n  \/** @private @const *\/\n  goog.debugLoader_ = new goog.DebugLoader_();\n\n\n  \/**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   *\/\n  goog.loadClosureDeps = function() {\n    goog.debugLoader_.loadClosureDeps();\n  };\n\n\n  \/**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * Note: if you wish to call this function and provide your own implemnetation\n   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency\n   * file and all of its goog.addDependency calls will use the default factory.\n   * You can call goog.loadClosureDeps to load the Closure dependency file\n   * later, after your factory is injected.\n   *\n   * @param {!goog.DependencyFactory} factory\n   *\/\n  goog.setDependencyFactory = function(factory) {\n    goog.debugLoader_.setDependencyFactory(factory);\n  };\n\n\n  \/**\n   * Trusted Types policy for the debug loader.\n   * @private @const {?TrustedTypePolicy}\n   *\/\n  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?\n      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :\n      null;\n\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.debugLoader_.loadClosureDeps();\n  }\n\n\n  \/**\n   * Bootstraps the given namespaces and calls the callback once they are\n   * available either via goog.require. This is a replacement for using\n   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`\n   * in an HTML file would guarantee that the require'd namespace was available\n   * in the next immediate script tag. With ES6 modules this no longer a\n   * guarantee.\n   *\n   * @param {!Array<string>} namespaces\n   * @param {function(): ?} callback Function to call once all the namespaces\n   *     have loaded. Always called asynchronously.\n   *\/\n  goog.bootstrap = function(namespaces, callback) {\n    goog.debugLoader_.bootstrap(namespaces, callback);\n  };\n}\n\n\nif (!COMPILED) {\n  var isChrome87 = false;\n  \/\/ Cannot run check for Chrome <87 bug in case of strict CSP environments.\n  \/\/ TODO(user): Remove once Chrome <87 bug is no longer a problem.\n  try {\n    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==\n        goog.global.trustedTypes.emptyScript;\n  } catch (err) {\n  }\n\n  \/**\n   * Trusted Types for running dev servers.\n   *\n   * @private @const\n   *\/\n  goog.CLOSURE_EVAL_PREFILTER_ =\n      \/\/ Detect Chrome <87 bug with TT and eval.\n      goog.global.trustedTypes && isChrome87 &&\n          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||\n      {createScript: goog.identity_};\n}\n"],"names":["frontend.db.model\/get-whiteboard-id-nonces","repo","page-id","frontend.db.model.get_whiteboard_id_nonces","db-based?","frontend.config.db_based_graph_QMARK_","key","db_based_QMARK_","page","frontend.db.utils.entity","cljs.core.keep","p__73736","map__73737","cljs.core\/--destructure-map","b","cljs.core.get","temp__5804__auto__","cljs$core$IFn$_invoke$arity$1","cljs.core.truth_","cljs.core.PersistentArrayMap","cljs.core.str.cljs$core$IFn$_invoke$arity$1","uuid","shape","frontend.handler.whiteboard\/js->clj-keywordize","obj","frontend.handler.whiteboard.js__GT_clj_keywordize","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic","cljs$core$IFn$_invoke$arity$variadic","cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2","frontend.handler.whiteboard\/db-build-page-block","page-entity","page-name","tldraw-page","assets","frontend.handler.whiteboard.db_build_page_block","get","tldraw_page","p1__84773_SHARP_","get-k","frontend.util\/time-ms","logseq.common.util\/time-ms","or__5002__auto__","cljs.core.PersistentHashMap.fromArrays","logseq.common.util\/page-name-sanity-lc","frontend.util\/page-name-sanity-lc","frontend.handler.whiteboard\/file-build-page-block","frontend.handler.whiteboard.file_build_page_block","page_name","call","cljs.core.PersistentArrayMap.createAsIfByAssoc","frontend.handler.property.util.get_pid","frontend.handler.property.util\/get-pid","p1__84774_SHARP_","frontend.handler.whiteboard\/build-page-block","frontend.handler.whiteboard.build_page_block","f","frontend.state\/get-current-repo","frontend.handler.whiteboard\/compute-tx","app","tl-page","new-id-nonces","db-id-nonces","page-uuid","replace?","frontend.handler.whiteboard.compute_tx","frontend.db\/get-page","upsert-shapes","cljs.core.map","cljs.core\/set","map__84779","p__84778","tl_page","id","clojure.set.difference","old-ids","new-ids","created-ids","new-orders","cljs.core\/seq","max-key'","cljs.core\/last","cljs.core.sort","cljs.core.map.cljs$core$IFn$_invoke$arity$2","cljs$core$IFn$_invoke$arity$2","logseq.db.frontend.order\/gen-n-keys","cljs.core\/count","new-id->order","cljs.core\/zipmap","created-shapes","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","p1__84775#","cljs.core.filter","G__84780","created_ids","deleted-ids","clojure.string\/blank?","deleted-shapes","cljs.core.seq","deleted_ids","cljs.core.mapv","cljs.core\/nil?","frontend.handler.property.util.get_block_property_value","G__84782","cljs.core.PersistentVector","cljs.core.PersistentVector.EMPTY_NODE","G__84783","cljs.core\/uuid","frontend.db.utils.pull_many.cljs$core$IFn$_invoke$arity$3","frontend.db\/pull-many","deleted-shapes-tx","upserted-blocks","block","temp__5802__auto__","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs$core$IFn$_invoke$arity$3","logseq.db.sqlite.util\/block-with-timestamps","logseq.graph-parser.whiteboard\/shape->block","frontend.handler.whiteboard\/shape->block","page-block","upserted_blocks","cljs.core.not_EQ_","page_block","deleted_shapes_tx","deleted_shapes","created_shapes","frontend.handler.whiteboard\/get-shape-block-id","frontend.handler.whiteboard.get_shape_block_id","frontend.handler.whiteboard\/handle-order-update!","info","frontend.handler.whiteboard.handle_order_update_BANG_","op","moved-shapes","shape-ids","G__84790","next-order","G__84791","frontend.db\/entity","tx-data","cljs.core.conj","cljs.core.map_indexed","idx","cljs.core.nth","logseq.outliner.core.block_with_updated_at","before-order","G__84792","G__84793","js\/Error","frontend.handler.whiteboard\/<transact-tldr-delta!","info*","cljs-bean.core\/->clj","frontend.handler.whiteboard._LT_transact_tldr_delta_BANG_","cljs.core\/second","cljs.core\/first","frontend.db.model\/get-page","order-tx-data","cljs.core.contains_QMARK_","cljs.core.PersistentHashSet","cljs.core\/contains?","_idx","js\/Date.now","shapes","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","cljs.core\/-deref","frontend.handler.whiteboard\/*last-shapes-nonce","p1__84794#","cljs.core.update.cljs$core$IFn$_invoke$arity$3","cljs.core.update","cljs.core\/str","map__84798","result","new-shapes","delete-blocks","cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic","delete_blocks","metadata'","cljs.core.some","p1__84795#","cljs.core\/some","cljs.core._EQ_","metadata","and__5000__auto__","cljs.core\/not-empty","cljs.core.every_QMARK_","p1__84796#","cljs.core\/every?","p1__84797#","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4","cljs$core$IFn$_invoke$arity$4","cljs.core\/assoc-in","frontend.state.set_state_BANG_","pending-tx-data","frontend.state\/state","tx-data'","cljs.core.concat","metadata''","cljs.core.merge","frontend.state\/set-state!","frontend.db.transact_BANG_","frontend.handler.whiteboard\/get-default-new-whiteboard-tx","frontend.handler.whiteboard.get_default_new_whiteboard_tx","cljs.core.PersistentArrayMap.EMPTY","m'","m","properties","frontend.handler.whiteboard\/<create-new-whiteboard-page!","name","frontend.handler.whiteboard._LT_create_new_whiteboard_page_BANG_.cljs$core$IFn$_invoke$arity$1","promesa.protocols\/-mcat","promesa.protocols\/-promise","___30272__auto__","cljs.core\/parse-uuid","datascript.core\/squuid","datascript.util\/squuid","frontend.handler.whiteboard\/<add-new-block!","content","frontend.handler.whiteboard._LT_add_new_block_BANG_","logseq.db\/new-block-id","frontend.db\/new-block-id","logseq.db.sqlite.util.block_with_timestamps","new-block-id","page_entity","tx","frontend.handler.whiteboard\/get-onboard-whiteboard-edn","frontend.handler.whiteboard.get_onboard_whiteboard_edn","fetch","js\/fetch","text","res","logseq.common.util.safe_read_map_string.cljs$core$IFn$_invoke$arity$2","edn","frontend.handler.whiteboard\/clone-whiteboard-from-edn","api","p__84883","map__84884","frontend.handler.whiteboard.clone_whiteboard_from_edn.cljs$core$IFn$_invoke$arity$2","pages","frontend.handler.whiteboard\/build-shapes","blocks","tldr-page","bindings","cljs.core.clj__GT_js","frontend.handler.whiteboard\/should-populate-onboarding-whiteboard?","frontend.handler.whiteboard.should_populate_onboarding_whiteboard_QMARK_","whiteboards","frontend.db.model\/get-all-whiteboards","cljs.core\/empty?","cljs.core\/not","cljs.core\/deref","frontend.handler.whiteboard\/update-shapes!","frontend.handler.whiteboard.update_shapes_BANG_","frontend.state\/active-tldraw-app","cljs.core.apply","cljs-bean.core\/->js","frontend.handler.whiteboard\/update-shapes-index!","frontend.handler.whiteboard.update_shapes_index_BANG_","shapes-index","G__84885","logseq.db\/sort-by-order","frontend.handler.whiteboard\/populate-onboarding-whiteboard","frontend.handler.whiteboard.populate_onboarding_whiteboard","promesa.core.catch$.cljs$core$IFn$_invoke$arity$2","promesa.core.catch$","frontend.state.set_onboarding_whiteboard_BANG_","e","console","warn","frontend.handler.whiteboard\/cleanup!","frontend.handler.whiteboard.cleanup_BANG_","p1__84886#","frontend.extensions.tldraw\/search-handler","q","filters","map__116112","frontend.extensions.tldraw.search_handler","frontend.search.block_search","limit","cljs.core.str","p1__116111#","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","frontend.util.text.cut_by","frontend.extensions.tldraw\/save-asset-handler","file","frontend.extensions.tldraw.save_asset_handler","promesa.core.then.cljs$core$IFn$_invoke$arity$2","frontend.handler.editor.file_based_save_assets_BANG_.cljs$core$IFn$_invoke$arity$2","frontend.state.get_current_repo","promesa.core.then","frontend.handler.editor\/resolve-relative-path","_","full-file-path","asset-file-name","frontend.extensions.tldraw.undo","frontend.handler.history.undo_BANG_.cljs$core$IFn$_invoke$arity$1","frontend.handler.history.undo_BANG_.call","frontend.extensions.tldraw.redo","frontend.handler.history.redo_BANG_.cljs$core$IFn$_invoke$arity$1","frontend.handler.history.redo_BANG_.call","frontend.extensions.tldraw\/get-tldraw-handlers","current-whiteboard-uuid","frontend.extensions.tldraw.get_tldraw_handlers","p1__116122#","logseq.common.util\/uuid-string?","frontend.util\/uuid-string?","block-id-str","frontend.db.model\/get-block-page","src","cljs.core\/clj->js","frontend.extensions.pdf.assets\/inflate-asset","page-name-or-uuid","frontend.db.model.get_redirect_page_name.cljs$core$IFn$_invoke$arity$2","G__116124","frontend.handler.common.page._LT_create_BANG_.cljs$core$IFn$_invoke$arity$2","frontend.handler.common.page\/<create!","frontend.handler.page\/<create!","frontend.state\/set-current-pdf!","frontend.extensions.pdf.assets.inflate_asset","frontend.handler.whiteboard._LT_create_new_whiteboard_page_BANG_","frontend.util\/mobile?","frontend.handler.editor\/insert-first-page-block-if-not-exists!","frontend.db.model\/whiteboard-page?","frontend.handler.assets\/<make-asset-url","html","frontend.util.copy_to_clipboard_BANG_.cljs$core$IFn$_invoke$arity$variadic","frontend.context.i18n.t","cljs.core.keyword","page-uuid-str","options","G__116125","frontend.components.export\/export-blocks","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","logseq.shui.dialog.core\/open!","type","frontend.state\/sidebar-add-block!","block_id","frontend.db.async\/<get-block","block-id","G__116132","new-page","page'","frontend.handler.route.redirect_to_page_BANG_","whiteboard?","block-uuid","frontend.db.model\/query-block-by-uuid","frontend.extensions.tldraw\/on-persist","frontend.extensions.tldraw.on_persist","frontend.extensions.tldraw\/*transact-result","___30248__auto__","cljs.core\/reset!","error","js\/console.error","frontend.handler.notification.show_BANG_","cljs.core.Keyword","frontend.extensions.tldraw\/block-reference","beforeLoadModuleCode","module$frontend$tldraw_logseq","shadow.js.require","frontend.extensions.tldraw\/tldraw","frontend.extensions.tldraw.tldraw_renderers","frontend.extensions.tldraw._STAR_transact_result","frontend.extensions.tldraw\/tldraw-inner","frontend.extensions.tldraw.tldraw_app_inner","frontend.extensions.tldraw","frontend.rum.adapt_class.cljs$core$IFn$_invoke$arity$2","react_class","frontend.extensions.tldraw.generate_preview","js\/module$frontend$tldraw_logseq","rum.core\/lazy-build","frontend.extensions.tldraw.page_cp","frontend.extensions.tldraw\/page-cp","props","frontend.components.page.page_cp","frontend.extensions.tldraw.block_cp","frontend.extensions.tldraw\/block-cp","G__116109","fexpr__116108","frontend.state.get_component","daiquiri.interpreter\/interpret","frontend.extensions.tldraw.breadcrumb","frontend.extensions.tldraw\/breadcrumb","frontend.components.block.breadcrumb","frontend.extensions.tldraw.goog$module$goog$object.get","frontend.extensions.tldraw.tweet","frontend.extensions.tldraw\/tweet","frontend.ui\/tweet-embed","frontend.extensions.tldraw.page_name_link","frontend.extensions.tldraw\/page-name-link","frontend.components.block.page_cp","frontend.components.block\/page-cp","frontend.extensions.tldraw\/references-count","frontend.components.whiteboard\/references-count","k","frontend.extensions.tldraw.block_reference","frontend.components.block.block_reference","frontend.extensions.tldraw.keyboard_shortcut","frontend.extensions.tldraw\/keyboard-shortcut","map__116121","action","shortcut","frontend.ui\/keyboard-shortcut-from-config","opts","frontend.ui.render_keyboard_shortcut","cljs.core.interpose","p1__116119#","frontend.ui.render_keyboard_shortcut.cljs$core$IFn$_invoke$arity$variadic","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","data","populate-onboarding?","loaded-app","on-mount","daiquiri.core\/create-element","onBlur","G__116137","fexpr__116136","frontend.state\/clear-edit!","frontend.util.stop_propagation","frontend.util\/stop-propagation","frontend.ui.loading","G__116139","page_uuid","on_mount","frontend.config.PUBLISHING","frontend.config\/publishing?","p1__116134#","frontend.extensions.tldraw.tldraw.cljs$core$IFn$_invoke$arity$1","rum.core\/static","old-state","new-state","old-data","new-data","old-shapes","G__116140","old_data_116169","cljs.core.first","p1__116133#","G__116141","updated-shapes","rum.core\/build-defc","frontend.extensions.tldraw\/tldraw-app-inner","set-loaded-app","tln","frontend.extensions.tldraw\/undo","frontend.extensions.tldraw\/redo","populate_onboarding_QMARK_","frontend.state.focus_whiteboard_shape","frontend.state\/sub-async-query-loading","frontend.handler.whiteboard\/get-page-tldr","rum.core.reactive","state","frontend.extensions.tldraw.tldraw_app","frontend.extensions.tldraw\/tldraw-app","vec__116145","rum.core.use_state","rum.core\/use-state","rum.core.use_effect_BANG_","cljs.core.List.EMPTY","mm","setLoaded"]}}]}